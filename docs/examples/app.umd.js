/*!
 * app v1.0.19
 * (c) 2018-2021 yuda-lyu(semisphere)
 * Released under the MIT License.
 */
!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):(t="undefined"!=typeof globalThis?globalThis:t||self).app=n()}(this,(function(){"use strict";var t=Array.isArray;function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function i(t){if(t.__esModule)return t;var n=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(t).forEach((function(e){var i=Object.getOwnPropertyDescriptor(t,e);Object.defineProperty(n,e,i.get?i:{enumerable:!0,get:function(){return t[e]}})})),n}function o(t){var n={exports:{}};return t(n,n.exports),n.exports}var l="object"==n(e)&&e&&e.Object===Object&&e,s="object"==("undefined"==typeof self?"undefined":n(self))&&self&&self.Object===Object&&self,r=l||s||Function("return this")(),a=r.Symbol,d=Object.prototype,c=d.hasOwnProperty,u=d.toString,p=a?a.toStringTag:void 0;var h=function(t){var n=c.call(t,p),e=t[p];try{t[p]=void 0;var i=!0}catch(t){}var o=u.call(t);return i&&(n?t[p]=e:delete t[p]),o},m=Object.prototype.toString;var b=function(t){return m.call(t)},y=a?a.toStringTag:void 0;var Z=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":y&&y in Object(t)?h(t):b(t)};var X=function(t){return null!=t&&"object"==n(t)};var f=function(t){return"symbol"==n(t)||X(t)&&"[object Symbol]"==Z(t)},G=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,W=/^\w*$/;var g=function(e,i){if(t(e))return!1;var o=n(e);return!("number"!=o&&"symbol"!=o&&"boolean"!=o&&null!=e&&!f(e))||(W.test(e)||!G.test(e)||null!=i&&e in Object(i))};var v=function(t){var e=n(t);return null!=t&&("object"==e||"function"==e)};var V,x=function(t){if(!v(t))return!1;var n=Z(t);return"[object Function]"==n||"[object GeneratorFunction]"==n||"[object AsyncFunction]"==n||"[object Proxy]"==n},S=r["__core-js_shared__"],R=(V=/[^.]+$/.exec(S&&S.keys&&S.keys.IE_PROTO||""))?"Symbol(src)_1."+V:"";var K=function(t){return!!R&&R in t},H=Function.prototype.toString;var C=function(t){if(null!=t){try{return H.call(t)}catch(t){}try{return t+""}catch(t){}}return""},Y=/^\[object .+?Constructor\]$/,T=Function.prototype,M=Object.prototype,w=T.toString,P=M.hasOwnProperty,I=RegExp("^"+w.call(P).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var z=function(t){return!(!v(t)||K(t))&&(x(t)?I:Y).test(C(t))};var J=function(t,n){return null==t?void 0:t[n]};var N=function(t,n){var e=J(t,n);return z(e)?e:void 0},F=N(Object,"create");var k=function(){this.__data__=F?F(null):{},this.size=0};var B=function(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n},_=Object.prototype.hasOwnProperty;var U=function(t){var n=this.__data__;if(F){var e=n[t];return"__lodash_hash_undefined__"===e?void 0:e}return _.call(n,t)?n[t]:void 0},E=Object.prototype.hasOwnProperty;var j=function(t){var n=this.__data__;return F?void 0!==n[t]:E.call(n,t)};var Q=function(t,n){var e=this.__data__;return this.size+=this.has(t)?0:1,e[t]=F&&void 0===n?"__lodash_hash_undefined__":n,this};function O(t){var n=-1,e=null==t?0:t.length;for(this.clear();++n<e;){var i=t[n];this.set(i[0],i[1])}}O.prototype.clear=k,O.prototype.delete=B,O.prototype.get=U,O.prototype.has=j,O.prototype.set=Q;var A=O;var D=function(){this.__data__=[],this.size=0};var q=function(t,n){return t===n||t!=t&&n!=n};var $=function(t,n){for(var e=t.length;e--;)if(q(t[e][0],n))return e;return-1},tt=Array.prototype.splice;var nt=function(t){var n=this.__data__,e=$(n,t);return!(e<0)&&(e==n.length-1?n.pop():tt.call(n,e,1),--this.size,!0)};var et=function(t){var n=this.__data__,e=$(n,t);return e<0?void 0:n[e][1]};var it=function(t){return $(this.__data__,t)>-1};var ot=function(t,n){var e=this.__data__,i=$(e,t);return i<0?(++this.size,e.push([t,n])):e[i][1]=n,this};function lt(t){var n=-1,e=null==t?0:t.length;for(this.clear();++n<e;){var i=t[n];this.set(i[0],i[1])}}lt.prototype.clear=D,lt.prototype.delete=nt,lt.prototype.get=et,lt.prototype.has=it,lt.prototype.set=ot;var st=lt,rt=N(r,"Map");var at=function(){this.size=0,this.__data__={hash:new A,map:new(rt||st),string:new A}};var dt=function(t){var e=n(t);return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t};var ct=function(t,n){var e=t.__data__;return dt(n)?e["string"==typeof n?"string":"hash"]:e.map};var ut=function(t){var n=ct(this,t).delete(t);return this.size-=n?1:0,n};var pt=function(t){return ct(this,t).get(t)};var ht=function(t){return ct(this,t).has(t)};var mt=function(t,n){var e=ct(this,t),i=e.size;return e.set(t,n),this.size+=e.size==i?0:1,this};function bt(t){var n=-1,e=null==t?0:t.length;for(this.clear();++n<e;){var i=t[n];this.set(i[0],i[1])}}bt.prototype.clear=at,bt.prototype.delete=ut,bt.prototype.get=pt,bt.prototype.has=ht,bt.prototype.set=mt;var yt=bt;function Zt(t,n){if("function"!=typeof t||null!=n&&"function"!=typeof n)throw new TypeError("Expected a function");var e=function e(){var i=arguments,o=n?n.apply(this,i):i[0],l=e.cache;if(l.has(o))return l.get(o);var s=t.apply(this,i);return e.cache=l.set(o,s)||l,s};return e.cache=new(Zt.Cache||yt),e}Zt.Cache=yt;var Xt=Zt;var ft=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Gt=/\\(\\)?/g,Wt=function(t){var n=Xt(t,(function(t){return 500===e.size&&e.clear(),t})),e=n.cache;return n}((function(t){var n=[];return 46===t.charCodeAt(0)&&n.push(""),t.replace(ft,(function(t,e,i,o){n.push(i?o.replace(Gt,"$1"):e||t)})),n})),gt=Wt;var vt=function(t,n){for(var e=-1,i=null==t?0:t.length,o=Array(i);++e<i;)o[e]=n(t[e],e,t);return o},Vt=a?a.prototype:void 0,xt=Vt?Vt.toString:void 0;var St=function n(e){if("string"==typeof e)return e;if(t(e))return vt(e,n)+"";if(f(e))return xt?xt.call(e):"";var i=e+"";return"0"==i&&1/e==-Infinity?"-0":i};var Lt=function(t){return null==t?"":St(t)};var Rt=function(n,e){return t(n)?n:g(n,e)?[n]:gt(Lt(n))};var Kt=function(t){if("string"==typeof t||f(t))return t;var n=t+"";return"0"==n&&1/t==-Infinity?"-0":n};var Ht=function(t,n){for(var e=0,i=(n=Rt(n,t)).length;null!=t&&e<i;)t=t[Kt(n[e++])];return e&&e==i?t:void 0};var Ct=function(t,n,e){var i=null==t?void 0:Ht(t,n);return void 0===i?e:i};function Yt(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,i=new Array(n);e<n;e++)i[e]=t[e];return i}function Tt(t,n){if(t){if("string"==typeof t)return Yt(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?Yt(t,n):void 0}}function Mt(t){return function(t){if(Array.isArray(t))return Yt(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||Tt(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wt(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}var Pt=function(){this.__data__=new st,this.size=0};var It=function(t){var n=this.__data__,e=n.delete(t);return this.size=n.size,e};var zt=function(t){return this.__data__.get(t)};var Jt=function(t){return this.__data__.has(t)};var Nt=function(t,n){var e=this.__data__;if(e instanceof st){var i=e.__data__;if(!rt||i.length<199)return i.push([t,n]),this.size=++e.size,this;e=this.__data__=new yt(i)}return e.set(t,n),this.size=e.size,this};function Ft(t){var n=this.__data__=new st(t);this.size=n.size}Ft.prototype.clear=Pt,Ft.prototype.delete=It,Ft.prototype.get=zt,Ft.prototype.has=Jt,Ft.prototype.set=Nt;var kt=Ft;var Bt=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this};var _t=function(t){return this.__data__.has(t)};function Ut(t){var n=-1,e=null==t?0:t.length;for(this.__data__=new yt;++n<e;)this.add(t[n])}Ut.prototype.add=Ut.prototype.push=Bt,Ut.prototype.has=_t;var Et=Ut;var jt=function(t,n){for(var e=-1,i=null==t?0:t.length;++e<i;)if(n(t[e],e,t))return!0;return!1};var Qt=function(t,n){return t.has(n)};var Ot=function(t,n,e,i,o,l){var s=1&e,r=t.length,a=n.length;if(r!=a&&!(s&&a>r))return!1;var d=l.get(t),c=l.get(n);if(d&&c)return d==n&&c==t;var u=-1,p=!0,h=2&e?new Et:void 0;for(l.set(t,n),l.set(n,t);++u<r;){var m=t[u],b=n[u];if(i)var y=s?i(b,m,u,n,t,l):i(m,b,u,t,n,l);if(void 0!==y){if(y)continue;p=!1;break}if(h){if(!jt(n,(function(t,n){if(!Qt(h,n)&&(m===t||o(m,t,e,i,l)))return h.push(n)}))){p=!1;break}}else if(m!==b&&!o(m,b,e,i,l)){p=!1;break}}return l.delete(t),l.delete(n),p},At=r.Uint8Array;var Dt=function(t){var n=-1,e=Array(t.size);return t.forEach((function(t,i){e[++n]=[i,t]})),e};var qt=function(t){var n=-1,e=Array(t.size);return t.forEach((function(t){e[++n]=t})),e},$t=a?a.prototype:void 0,tn=$t?$t.valueOf:void 0;var nn=function(t,n,e,i,o,l,s){switch(e){case"[object DataView]":if(t.byteLength!=n.byteLength||t.byteOffset!=n.byteOffset)return!1;t=t.buffer,n=n.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=n.byteLength||!l(new At(t),new At(n)));case"[object Boolean]":case"[object Date]":case"[object Number]":return q(+t,+n);case"[object Error]":return t.name==n.name&&t.message==n.message;case"[object RegExp]":case"[object String]":return t==n+"";case"[object Map]":var r=Dt;case"[object Set]":var a=1&i;if(r||(r=qt),t.size!=n.size&&!a)return!1;var d=s.get(t);if(d)return d==n;i|=2,s.set(t,n);var c=Ot(r(t),r(n),i,o,l,s);return s.delete(t),c;case"[object Symbol]":if(tn)return tn.call(t)==tn.call(n)}return!1};var en=function(t,n){for(var e=-1,i=n.length,o=t.length;++e<i;)t[o+e]=n[e];return t};var on=function(n,e,i){var o=e(n);return t(n)?o:en(o,i(n))};var ln=function(t,n){for(var e=-1,i=null==t?0:t.length,o=0,l=[];++e<i;){var s=t[e];n(s,e,t)&&(l[o++]=s)}return l};var sn=function(){return[]},rn=Object.prototype.propertyIsEnumerable,an=Object.getOwnPropertySymbols,dn=an?function(t){return null==t?[]:(t=Object(t),ln(an(t),(function(n){return rn.call(t,n)})))}:sn,cn=dn;var un=function(t,n){for(var e=-1,i=Array(t);++e<t;)i[e]=n(e);return i};var pn=function(t){return X(t)&&"[object Arguments]"==Z(t)},hn=Object.prototype,mn=hn.hasOwnProperty,bn=hn.propertyIsEnumerable,yn=pn(function(){return arguments}())?pn:function(t){return X(t)&&mn.call(t,"callee")&&!bn.call(t,"callee")},Zn=yn;var Xn=function(){return!1},fn=o((function(t,n){var e=n&&!n.nodeType&&n,i=e&&t&&!t.nodeType&&t,o=i&&i.exports===e?r.Buffer:void 0,l=(o?o.isBuffer:void 0)||Xn;t.exports=l})),Gn=/^(?:0|[1-9]\d*)$/;var Wn=function(t,e){var i=n(t);return!!(e=null==e?9007199254740991:e)&&("number"==i||"symbol"!=i&&Gn.test(t))&&t>-1&&t%1==0&&t<e};var gn=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991},vn={};vn["[object Float32Array]"]=vn["[object Float64Array]"]=vn["[object Int8Array]"]=vn["[object Int16Array]"]=vn["[object Int32Array]"]=vn["[object Uint8Array]"]=vn["[object Uint8ClampedArray]"]=vn["[object Uint16Array]"]=vn["[object Uint32Array]"]=!0,vn["[object Arguments]"]=vn["[object Array]"]=vn["[object ArrayBuffer]"]=vn["[object Boolean]"]=vn["[object DataView]"]=vn["[object Date]"]=vn["[object Error]"]=vn["[object Function]"]=vn["[object Map]"]=vn["[object Number]"]=vn["[object Object]"]=vn["[object RegExp]"]=vn["[object Set]"]=vn["[object String]"]=vn["[object WeakMap]"]=!1;var Vn=function(t){return X(t)&&gn(t.length)&&!!vn[Z(t)]};var xn=function(t){return function(n){return t(n)}},Sn=o((function(t,n){var e=n&&!n.nodeType&&n,i=e&&t&&!t.nodeType&&t,o=i&&i.exports===e&&l.process,s=function(){try{var t=i&&i.require&&i.require("util").types;return t||o&&o.binding&&o.binding("util")}catch(t){}}();t.exports=s})),Ln=Sn&&Sn.isTypedArray,Rn=Ln?xn(Ln):Vn,Kn=Object.prototype.hasOwnProperty;var Hn=function(n,e){var i=t(n),o=!i&&Zn(n),l=!i&&!o&&fn(n),s=!i&&!o&&!l&&Rn(n),r=i||o||l||s,a=r?un(n.length,String):[],d=a.length;for(var c in n)!e&&!Kn.call(n,c)||r&&("length"==c||l&&("offset"==c||"parent"==c)||s&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Wn(c,d))||a.push(c);return a},Cn=Object.prototype;var Yn=function(t){var n=t&&t.constructor;return t===("function"==typeof n&&n.prototype||Cn)};var Tn=function(t,n){return function(e){return t(n(e))}},Mn=Tn(Object.keys,Object),wn=Object.prototype.hasOwnProperty;var Pn=function(t){if(!Yn(t))return Mn(t);var n=[];for(var e in Object(t))wn.call(t,e)&&"constructor"!=e&&n.push(e);return n};var In=function(t){return null!=t&&gn(t.length)&&!x(t)};var zn=function(t){return In(t)?Hn(t):Pn(t)};var Jn=function(t){return on(t,zn,cn)},Nn=Object.prototype.hasOwnProperty;var Fn=function(t,n,e,i,o,l){var s=1&e,r=Jn(t),a=r.length;if(a!=Jn(n).length&&!s)return!1;for(var d=a;d--;){var c=r[d];if(!(s?c in n:Nn.call(n,c)))return!1}var u=l.get(t),p=l.get(n);if(u&&p)return u==n&&p==t;var h=!0;l.set(t,n),l.set(n,t);for(var m=s;++d<a;){var b=t[c=r[d]],y=n[c];if(i)var Z=s?i(y,b,c,n,t,l):i(b,y,c,t,n,l);if(!(void 0===Z?b===y||o(b,y,e,i,l):Z)){h=!1;break}m||(m="constructor"==c)}if(h&&!m){var X=t.constructor,f=n.constructor;X==f||!("constructor"in t)||!("constructor"in n)||"function"==typeof X&&X instanceof X&&"function"==typeof f&&f instanceof f||(h=!1)}return l.delete(t),l.delete(n),h},kn=N(r,"DataView"),Bn=N(r,"Promise"),_n=N(r,"Set"),Un=N(r,"WeakMap"),En="[object Map]",jn="[object Promise]",Qn="[object Set]",On="[object WeakMap]",An="[object DataView]",Dn=C(kn),qn=C(rt),$n=C(Bn),te=C(_n),ne=C(Un),ee=Z;(kn&&ee(new kn(new ArrayBuffer(1)))!=An||rt&&ee(new rt)!=En||Bn&&ee(Bn.resolve())!=jn||_n&&ee(new _n)!=Qn||Un&&ee(new Un)!=On)&&(ee=function(t){var n=Z(t),e="[object Object]"==n?t.constructor:void 0,i=e?C(e):"";if(i)switch(i){case Dn:return An;case qn:return En;case $n:return jn;case te:return Qn;case ne:return On}return n});var ie=ee,oe="[object Arguments]",le="[object Array]",se="[object Object]",re=Object.prototype.hasOwnProperty;var ae=function(n,e,i,o,l,s){var r=t(n),a=t(e),d=r?le:ie(n),c=a?le:ie(e),u=(d=d==oe?se:d)==se,p=(c=c==oe?se:c)==se,h=d==c;if(h&&fn(n)){if(!fn(e))return!1;r=!0,u=!1}if(h&&!u)return s||(s=new kt),r||Rn(n)?Ot(n,e,i,o,l,s):nn(n,e,d,i,o,l,s);if(!(1&i)){var m=u&&re.call(n,"__wrapped__"),b=p&&re.call(e,"__wrapped__");if(m||b){var y=m?n.value():n,Z=b?e.value():e;return s||(s=new kt),l(y,Z,i,o,s)}}return!!h&&(s||(s=new kt),Fn(n,e,i,o,l,s))};var de=function t(n,e,i,o,l){return n===e||(null==n||null==e||!X(n)&&!X(e)?n!=n&&e!=e:ae(n,e,i,o,t,l))};var ce=function(t,n,e,i){var o=e.length,l=o,s=!i;if(null==t)return!l;for(t=Object(t);o--;){var r=e[o];if(s&&r[2]?r[1]!==t[r[0]]:!(r[0]in t))return!1}for(;++o<l;){var a=(r=e[o])[0],d=t[a],c=r[1];if(s&&r[2]){if(void 0===d&&!(a in t))return!1}else{var u=new kt;if(i)var p=i(d,c,a,t,n,u);if(!(void 0===p?de(c,d,3,i,u):p))return!1}}return!0};var ue=function(t){return t==t&&!v(t)};var pe=function(t){for(var n=zn(t),e=n.length;e--;){var i=n[e],o=t[i];n[e]=[i,o,ue(o)]}return n};var he=function(t,n){return function(e){return null!=e&&(e[t]===n&&(void 0!==n||t in Object(e)))}};var me=function(t){var n=pe(t);return 1==n.length&&n[0][2]?he(n[0][0],n[0][1]):function(e){return e===t||ce(e,t,n)}};var be=function(t,n){return null!=t&&n in Object(t)};var ye=function(n,e,i){for(var o=-1,l=(e=Rt(e,n)).length,s=!1;++o<l;){var r=Kt(e[o]);if(!(s=null!=n&&i(n,r)))break;n=n[r]}return s||++o!=l?s:!!(l=null==n?0:n.length)&&gn(l)&&Wn(r,l)&&(t(n)||Zn(n))};var Ze=function(t,n){return null!=t&&ye(t,n,be)};var Xe=function(t,n){return g(t)&&ue(n)?he(Kt(t),n):function(e){var i=Ct(e,t);return void 0===i&&i===n?Ze(e,t):de(n,i,3)}};var fe=function(t){return t};var Ge=function(t){return function(n){return null==n?void 0:n[t]}};var We=function(t){return function(n){return Ht(n,t)}};var ge=function(t){return g(t)?Ge(Kt(t)):We(t)};var ve=function(e){return"function"==typeof e?e:null==e?fe:"object"==n(e)?t(e)?Xe(e[0],e[1]):me(e):ge(e)};var Ve=function(t){return function(n,e,i){for(var o=-1,l=Object(n),s=i(n),r=s.length;r--;){var a=s[t?r:++o];if(!1===e(l[a],a,l))break}return n}},xe=Ve();var Se=function(t,n){return t&&xe(t,n,zn)};var Le=function(t,n){return function(e,i){if(null==e)return e;if(!In(e))return t(e,i);for(var o=e.length,l=n?o:-1,s=Object(e);(n?l--:++l<o)&&!1!==i(s[l],l,s););return e}},Re=Le(Se);var Ke=function(t,n){var e=-1,i=In(t)?Array(t.length):[];return Re(t,(function(t,o,l){i[++e]=n(t,o,l)})),i};var He=function(n,e){return(t(n)?vt:Ke)(n,ve(e))};var Ce=function(t,n){for(var e=-1,i=null==t?0:t.length;++e<i&&!1!==n(t[e],e,t););return t};var Ye=function(t){return"function"==typeof t?t:fe};var Te=function(n,e){return(t(n)?Ce:Re)(n,Ye(e))};var Me=function(n){return"string"==typeof n||!t(n)&&X(n)&&"[object String]"==Z(n)},we=Ge("length"),Pe=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");var Ie=function(t){return Pe.test(t)},ze="[\\ud800-\\udfff]",Je="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",Ne="\\ud83c[\\udffb-\\udfff]",Fe="[^\\ud800-\\udfff]",ke="(?:\\ud83c[\\udde6-\\uddff]){2}",Be="[\\ud800-\\udbff][\\udc00-\\udfff]",_e="(?:"+Je+"|"+Ne+")"+"?",Ue="[\\ufe0e\\ufe0f]?",Ee=Ue+_e+("(?:\\u200d(?:"+[Fe,ke,Be].join("|")+")"+Ue+_e+")*"),je="(?:"+[Fe+Je+"?",Je,ke,Be,ze].join("|")+")",Qe=RegExp(Ne+"(?="+Ne+")|"+je+Ee,"g");var Oe=function(t){for(var n=Qe.lastIndex=0;Qe.test(t);)++n;return n};var Ae=function(t){return Ie(t)?Oe(t):we(t)};var De=function(t){if(null==t)return 0;if(In(t))return Me(t)?Ae(t):t.length;var n=ie(t);return"[object Map]"==n||"[object Set]"==n?t.size:Pn(t).length},qe=function(){try{var t=N(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();var $e=function(t,n,e){"__proto__"==n&&qe?qe(t,n,{configurable:!0,enumerable:!0,value:e,writable:!0}):t[n]=e},ti=Object.prototype.hasOwnProperty;var ni=function(t,n,e){var i=t[n];ti.call(t,n)&&q(i,e)&&(void 0!==e||n in t)||$e(t,n,e)};var ei=function(t,n,e,i){var o=!e;e||(e={});for(var l=-1,s=n.length;++l<s;){var r=n[l],a=i?i(e[r],t[r],r,e,t):void 0;void 0===a&&(a=t[r]),o?$e(e,r,a):ni(e,r,a)}return e};var ii=function(t,n){return t&&ei(n,zn(n),t)};var oi=function(t){var n=[];if(null!=t)for(var e in Object(t))n.push(e);return n},li=Object.prototype.hasOwnProperty;var si=function(t){if(!v(t))return oi(t);var n=Yn(t),e=[];for(var i in t)("constructor"!=i||!n&&li.call(t,i))&&e.push(i);return e};var ri=function(t){return In(t)?Hn(t,!0):si(t)};var ai=function(t,n){return t&&ei(n,ri(n),t)},di=o((function(t,n){var e=n&&!n.nodeType&&n,i=e&&t&&!t.nodeType&&t,o=i&&i.exports===e?r.Buffer:void 0,l=o?o.allocUnsafe:void 0;t.exports=function(t,n){if(n)return t.slice();var e=t.length,i=l?l(e):new t.constructor(e);return t.copy(i),i}}));var ci=function(t,n){var e=-1,i=t.length;for(n||(n=Array(i));++e<i;)n[e]=t[e];return n};var ui=function(t,n){return ei(t,cn(t),n)},pi=Tn(Object.getPrototypeOf,Object),hi=Object.getOwnPropertySymbols?function(t){for(var n=[];t;)en(n,cn(t)),t=pi(t);return n}:sn,mi=hi;var bi=function(t,n){return ei(t,mi(t),n)};var yi=function(t){return on(t,ri,mi)},Zi=Object.prototype.hasOwnProperty;var Xi=function(t){var n=t.length,e=new t.constructor(n);return n&&"string"==typeof t[0]&&Zi.call(t,"index")&&(e.index=t.index,e.input=t.input),e};var fi=function(t){var n=new t.constructor(t.byteLength);return new At(n).set(new At(t)),n};var Gi=function(t,n){var e=n?fi(t.buffer):t.buffer;return new t.constructor(e,t.byteOffset,t.byteLength)},Wi=/\w*$/;var gi=function(t){var n=new t.constructor(t.source,Wi.exec(t));return n.lastIndex=t.lastIndex,n},vi=a?a.prototype:void 0,Vi=vi?vi.valueOf:void 0;var xi=function(t){return Vi?Object(Vi.call(t)):{}};var Si=function(t,n){var e=n?fi(t.buffer):t.buffer;return new t.constructor(e,t.byteOffset,t.length)};var Li=function(t,n,e){var i=t.constructor;switch(n){case"[object ArrayBuffer]":return fi(t);case"[object Boolean]":case"[object Date]":return new i(+t);case"[object DataView]":return Gi(t,e);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return Si(t,e);case"[object Map]":case"[object Set]":return new i;case"[object Number]":case"[object String]":return new i(t);case"[object RegExp]":return gi(t);case"[object Symbol]":return xi(t)}},Ri=Object.create,Ki=function(){function t(){}return function(n){if(!v(n))return{};if(Ri)return Ri(n);t.prototype=n;var e=new t;return t.prototype=void 0,e}}(),Hi=Ki;var Ci=function(t){return"function"!=typeof t.constructor||Yn(t)?{}:Hi(pi(t))};var Yi=function(t){return X(t)&&"[object Map]"==ie(t)},Ti=Sn&&Sn.isMap,Mi=Ti?xn(Ti):Yi;var wi=function(t){return X(t)&&"[object Set]"==ie(t)},Pi=Sn&&Sn.isSet,Ii=Pi?xn(Pi):wi,zi="[object Arguments]",Ji="[object Function]",Ni="[object Object]",Fi={};Fi[zi]=Fi["[object Array]"]=Fi["[object ArrayBuffer]"]=Fi["[object DataView]"]=Fi["[object Boolean]"]=Fi["[object Date]"]=Fi["[object Float32Array]"]=Fi["[object Float64Array]"]=Fi["[object Int8Array]"]=Fi["[object Int16Array]"]=Fi["[object Int32Array]"]=Fi["[object Map]"]=Fi["[object Number]"]=Fi[Ni]=Fi["[object RegExp]"]=Fi["[object Set]"]=Fi["[object String]"]=Fi["[object Symbol]"]=Fi["[object Uint8Array]"]=Fi["[object Uint8ClampedArray]"]=Fi["[object Uint16Array]"]=Fi["[object Uint32Array]"]=!0,Fi["[object Error]"]=Fi[Ji]=Fi["[object WeakMap]"]=!1;var ki=function n(e,i,o,l,s,r){var a,d=1&i,c=2&i,u=4&i;if(o&&(a=s?o(e,l,s,r):o(e)),void 0!==a)return a;if(!v(e))return e;var p=t(e);if(p){if(a=Xi(e),!d)return ci(e,a)}else{var h=ie(e),m=h==Ji||"[object GeneratorFunction]"==h;if(fn(e))return di(e,d);if(h==Ni||h==zi||m&&!s){if(a=c||m?{}:Ci(e),!d)return c?bi(e,ai(a,e)):ui(e,ii(a,e))}else{if(!Fi[h])return s?e:{};a=Li(e,h,d)}}r||(r=new kt);var b=r.get(e);if(b)return b;r.set(e,a),Ii(e)?e.forEach((function(t){a.add(n(t,i,o,t,e,r))})):Mi(e)&&e.forEach((function(t,l){a.set(l,n(t,i,o,l,e,r))}));var y=p?void 0:(u?c?yi:Jn:c?ri:zn)(e);return Ce(y||e,(function(t,l){y&&(t=e[l=t]),ni(a,l,n(t,i,o,l,e,r))})),a};var Bi=function(t){var n=null==t?0:t.length;return n?t[n-1]:void 0};var _i=function(t,n,e){var i=-1,o=t.length;n<0&&(n=-n>o?0:o+n),(e=e>o?o:e)<0&&(e+=o),o=n>e?0:e-n>>>0,n>>>=0;for(var l=Array(o);++i<o;)l[i]=t[i+n];return l};var Ui=function(t,n){return n.length<2?t:Ht(t,_i(n,0,-1))};var Ei=function(t,n){return n=Rt(n,t),null==(t=Ui(t,n))||delete t[Kt(Bi(n))]},ji=Function.prototype,Qi=Object.prototype,Oi=ji.toString,Ai=Qi.hasOwnProperty,Di=Oi.call(Object);var qi=function(t){if(!X(t)||"[object Object]"!=Z(t))return!1;var n=pi(t);if(null===n)return!0;var e=Ai.call(n,"constructor")&&n.constructor;return"function"==typeof e&&e instanceof e&&Oi.call(e)==Di};var $i=function(t){return qi(t)?void 0:t},to=a?a.isConcatSpreadable:void 0;var no=function(n){return t(n)||Zn(n)||!!(to&&n&&n[to])};var eo=function t(n,e,i,o,l){var s=-1,r=n.length;for(i||(i=no),l||(l=[]);++s<r;){var a=n[s];e>0&&i(a)?e>1?t(a,e-1,i,o,l):en(l,a):o||(l[l.length]=a)}return l};var io=function(t){return(null==t?0:t.length)?eo(t,1):[]};var oo=function(t,n,e){switch(e.length){case 0:return t.call(n);case 1:return t.call(n,e[0]);case 2:return t.call(n,e[0],e[1]);case 3:return t.call(n,e[0],e[1],e[2])}return t.apply(n,e)},lo=Math.max;var so=function(t,n,e){return n=lo(void 0===n?t.length-1:n,0),function(){for(var i=arguments,o=-1,l=lo(i.length-n,0),s=Array(l);++o<l;)s[o]=i[n+o];o=-1;for(var r=Array(n+1);++o<n;)r[o]=i[o];return r[n]=e(s),oo(t,this,r)}};var ro=function(t){return function(){return t}},ao=qe?function(t,n){return qe(t,"toString",{configurable:!0,enumerable:!1,value:ro(n),writable:!0})}:fe,co=ao,uo=Date.now;var po=function(t){var n=0,e=0;return function(){var i=uo(),o=16-(i-e);if(e=i,o>0){if(++n>=800)return arguments[0]}else n=0;return t.apply(void 0,arguments)}},ho=po(co);var mo=function(t){return ho(so(t,void 0,io),t+"")}((function(t,n){var e={};if(null==t)return e;var i=!1;n=vt(n,(function(n){return n=Rt(n,t),i||(i=n.length>1),n})),ei(t,yi(t),e),i&&(e=ki(e,7,$i));for(var o=n.length;o--;)Ei(e,n[o]);return e})),bo=mo,yo=Array.prototype.reverse;var Zo=function(t){return null==t?t:yo.call(t)};var Xo=function(t,n){var e=[];return Re(t,(function(t,i,o){n(t,i,o)&&e.push(t)})),e};var fo=function(n,e){return(t(n)?ln:Xo)(n,ve(e))};var Go=function(t,n,e,i){if(!v(t))return t;for(var o=-1,l=(n=Rt(n,t)).length,s=l-1,r=t;null!=r&&++o<l;){var a=Kt(n[o]),d=e;if("__proto__"===a||"constructor"===a||"prototype"===a)return t;if(o!=s){var c=r[a];void 0===(d=i?i(c,a,r):void 0)&&(d=v(c)?c:Wn(n[o+1])?[]:{})}ni(r,a,d),r=r[a]}return t};var Wo=function(t,n,e){return null==t?t:Go(t,n,e)};var go=function(t){return"number"==typeof t||X(t)&&"[object Number]"==Z(t)};var vo=function(t,n){return de(t,n)};var Vo=function(t){return ki(t,5)};var xo=function(t,n){var e=t.length;for(t.sort(n);e--;)t[e]=t[e].value;return t};var So=function(t,n){if(t!==n){var e=void 0!==t,i=null===t,o=t==t,l=f(t),s=void 0!==n,r=null===n,a=n==n,d=f(n);if(!r&&!d&&!l&&t>n||l&&s&&a&&!r&&!d||i&&s&&a||!e&&a||!o)return 1;if(!i&&!l&&!d&&t<n||d&&e&&o&&!i&&!l||r&&e&&o||!s&&o||!a)return-1}return 0};var Lo=function(t,n,e){for(var i=-1,o=t.criteria,l=n.criteria,s=o.length,r=e.length;++i<s;){var a=So(o[i],l[i]);if(a)return i>=r?a:a*("desc"==e[i]?-1:1)}return t.index-n.index};var Ro=function(n,e,i){e=e.length?vt(e,(function(n){return t(n)?function(t){return Ht(t,1===n.length?n[0]:n)}:n})):[fe];var o=-1;e=vt(e,xn(ve));var l=Ke(n,(function(t,n,i){return{criteria:vt(e,(function(n){return n(t)})),index:++o,value:t}}));return xo(l,(function(t,n){return Lo(t,n,i)}))};var Ko=function(t,n){return ho(so(t,n,fe),t+"")};var Ho=function(t,e,i){if(!v(i))return!1;var o=n(e);return!!("number"==o?In(i)&&Wn(e,i.length):"string"==o&&e in i)&&q(i[e],t)},Co=Ko((function(t,n){if(null==t)return[];var e=n.length;return e>1&&Ho(t,n[0],n[1])?n=[]:e>2&&Ho(n[0],n[1],n[2])&&(n=[n[0]]),Ro(t,eo(n,1),[])})),Yo=Co;function To(t){var n=Object.prototype.toString.call(t);return"[object Function]"===n||"[object AsyncFunction]"===n}function Mo(t){return"[object String]"===Object.prototype.toString.call(t)}function wo(t){return!(!Mo(t)||""===t)}function Po(t){return"[object Array]"===Object.prototype.toString.call(t)}function Io(t){return"[object Object]"===Object.prototype.toString.call(t)}function zo(t){if(Io(t)){for(var n in t)return!0;return!1}return!1}var Jo=function(t){return!0===t||!1===t||X(t)&&"[object Boolean]"==Z(t)};function No(t){return Jo(t)}var Fo=/\s/;var ko=function(t){for(var n=t.length;n--&&Fo.test(t.charAt(n)););return n},Bo=/^\s+/;var _o=function(t){return t?t.slice(0,ko(t)+1).replace(Bo,""):t},Uo=/^[-+]0x[0-9a-f]+$/i,Eo=/^0b[01]+$/i,jo=/^0o[0-7]+$/i,Qo=parseInt;var Oo=function(t){if("number"==typeof t)return t;if(f(t))return NaN;if(v(t)){var n="function"==typeof t.valueOf?t.valueOf():t;t=v(n)?n+"":n}if("string"!=typeof t)return 0===t?t:+t;t=_o(t);var e=Eo.test(t);return e||jo.test(t)?Qo(t.slice(2),e?2:8):Uo.test(t)?NaN:+t},Ao=1/0;var Do=function(t){return t?(t=Oo(t))===Ao||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0};var qo=function(t){var n=Do(t),e=n%1;return n==n?e?n-e:n:0};var $o=function(t){return"number"==typeof t&&t==qo(t)};function tl(t){var n=!1;return wo(t)?n=!isNaN(Number(t)):function(t){return"[object Number]"===Object.prototype.toString.call(t)}(t)&&(n=!0),n}function nl(t){return tl(t)?Do(t):0}function el(t){return!!tl(t)&&(t=nl(t),$o(t))}var il=r.isFinite,ol=Math.min;var ll=function(t){var n=Math[t];return function(t,e){if(t=Oo(t),(e=null==e?0:ol(qo(e),292))&&il(t)){var i=(Lt(t)+"e").split("e"),o=n(i[0]+"e"+(+i[1]+e));return+((i=(Lt(o)+"e").split("e"))[0]+"e"+(+i[1]-e))}return n(t)}},sl=ll("round");function rl(t){if(!tl(t))return 0;t=nl(t);var n=sl(t);return"0"===String(n)?0:n}function al(t){return!!el(t)&&rl(t)>0}function dl(t){return!!function(t){return"[object Undefined]"===Object.prototype.toString.call(t)}(t)||(!!function(t){return"[object Null]"===Object.prototype.toString.call(t)}(t)||(!!function(t){if(Io(t)){for(var n in t)return!1;return!0}return!1}(t)||(!!function(t){return!(!Mo(t)||""!==t)}(t)||!!function(t){return!!Po(t)&&0===t.length}(t))))}function cl(t){return!!Po(t)&&(0!==t.length&&(1!==t.length||!dl(t[0])))}function ul(t){return!!el(t)&&rl(t)>=0}function pl(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!tl(t))return"";if(!ul(n))return"";t=nl(t);var e=sl(t,n).toFixed(n);return e}function hl(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:300;function n(t){var n=[],e=null,i=null;function o(){null===e&&(e=setInterval((function(){if(Date.now()-i>t){var o=n.pop();n=[],o.func.apply(o,Mt(o.input))}0===n.length&&(clearInterval(e),e=null)}),10))}return al(t)||(t=300),t=rl(t),function(t){if(To(t)){i=Date.now();for(var e=arguments.length,l=new Array(e>1?e-1:0),s=1;s<e;s++)l[s-1]=arguments[s];n.push({func:t,input:l}),o()}else console.log("func is not function")}}return new n(t)}var ml=function(t,n,e){for(var i=-1,o=t.length;++i<o;){var l=t[i],s=n(l);if(null!=s&&(void 0===r?s==s&&!f(s):e(s,r)))var r=s,a=l}return a};var bl=function(t,n){return t<n};var yl=function(t){return t&&t.length?ml(t,fe,bl):void 0};var Zl=function(t,n){return t>n};var Xl=function(t){return t&&t.length?ml(t,fe,Zl):void 0};function fl(t){return!dl(t)}function Gl(){return"undefined"!=typeof window&&void 0!==window.document}var Wl=o((function(t){var e=function(t){var e,i=Object.prototype,o=i.hasOwnProperty,l="function"==typeof Symbol?Symbol:{},s=l.iterator||"@@iterator",r=l.asyncIterator||"@@asyncIterator",a=l.toStringTag||"@@toStringTag";function d(t,n,e){return Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}),t[n]}try{d({},"")}catch(t){d=function(t,n,e){return t[n]=e}}function c(t,n,e,i){var o=n&&n.prototype instanceof Z?n:Z,l=Object.create(o.prototype),s=new K(i||[]);return l._invoke=function(t,n,e){var i=p;return function(o,l){if(i===m)throw new Error("Generator is already running");if(i===b){if("throw"===o)throw l;return C()}for(e.method=o,e.arg=l;;){var s=e.delegate;if(s){var r=S(s,e);if(r){if(r===y)continue;return r}}if("next"===e.method)e.sent=e._sent=e.arg;else if("throw"===e.method){if(i===p)throw i=b,e.arg;e.dispatchException(e.arg)}else"return"===e.method&&e.abrupt("return",e.arg);i=m;var a=u(t,n,e);if("normal"===a.type){if(i=e.done?b:h,a.arg===y)continue;return{value:a.arg,done:e.done}}"throw"===a.type&&(i=b,e.method="throw",e.arg=a.arg)}}}(t,e,s),l}function u(t,n,e){try{return{type:"normal",arg:t.call(n,e)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var p="suspendedStart",h="suspendedYield",m="executing",b="completed",y={};function Z(){}function X(){}function f(){}var G={};d(G,s,(function(){return this}));var W=Object.getPrototypeOf,g=W&&W(W(H([])));g&&g!==i&&o.call(g,s)&&(G=g);var v=f.prototype=Z.prototype=Object.create(G);function V(t){["next","throw","return"].forEach((function(n){d(t,n,(function(t){return this._invoke(n,t)}))}))}function x(t,e){function i(l,s,r,a){var d=u(t[l],t,s);if("throw"!==d.type){var c=d.arg,p=c.value;return p&&"object"===n(p)&&o.call(p,"__await")?e.resolve(p.__await).then((function(t){i("next",t,r,a)}),(function(t){i("throw",t,r,a)})):e.resolve(p).then((function(t){c.value=t,r(c)}),(function(t){return i("throw",t,r,a)}))}a(d.arg)}var l;this._invoke=function(t,n){function o(){return new e((function(e,o){i(t,n,e,o)}))}return l=l?l.then(o,o):o()}}function S(t,n){var i=t.iterator[n.method];if(i===e){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=e,S(t,n),"throw"===n.method))return y;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return y}var o=u(i,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var l=o.arg;return l?l.done?(n[t.resultName]=l.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):l:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function L(t){var n={tryLoc:t[0]};1 in t&&(n.catchLoc=t[1]),2 in t&&(n.finallyLoc=t[2],n.afterLoc=t[3]),this.tryEntries.push(n)}function R(t){var n=t.completion||{};n.type="normal",delete n.arg,t.completion=n}function K(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(L,this),this.reset(!0)}function H(t){if(t){var n=t[s];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,l=function n(){for(;++i<t.length;)if(o.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return l.next=l}}return{next:C}}function C(){return{value:e,done:!0}}return X.prototype=f,d(v,"constructor",f),d(f,"constructor",X),X.displayName=d(f,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===X||"GeneratorFunction"===(n.displayName||n.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,d(t,a,"GeneratorFunction")),t.prototype=Object.create(v),t},t.awrap=function(t){return{__await:t}},V(x.prototype),d(x.prototype,r,(function(){return this})),t.AsyncIterator=x,t.async=function(n,e,i,o,l){void 0===l&&(l=Promise);var s=new x(c(n,e,i,o),l);return t.isGeneratorFunction(e)?s:s.next().then((function(t){return t.done?t.value:s.next()}))},V(v),d(v,a,"Generator"),d(v,s,(function(){return this})),d(v,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var n=[];for(var e in t)n.push(e);return n.reverse(),function e(){for(;n.length;){var i=n.pop();if(i in t)return e.value=i,e.done=!1,e}return e.done=!0,e}},t.values=H,K.prototype={constructor:K,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(R),!t)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(i,o){return r.type="throw",r.arg=t,n.next=i,o&&(n.method="next",n.arg=e),!!o}for(var l=this.tryEntries.length-1;l>=0;--l){var s=this.tryEntries[l],r=s.completion;if("root"===s.tryLoc)return i("end");if(s.tryLoc<=this.prev){var a=o.call(s,"catchLoc"),d=o.call(s,"finallyLoc");if(a&&d){if(this.prev<s.catchLoc)return i(s.catchLoc,!0);if(this.prev<s.finallyLoc)return i(s.finallyLoc)}else if(a){if(this.prev<s.catchLoc)return i(s.catchLoc,!0)}else{if(!d)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return i(s.finallyLoc)}}}},abrupt:function(t,n){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.tryLoc<=this.prev&&o.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var l=i;break}}l&&("break"===t||"continue"===t)&&l.tryLoc<=n&&n<=l.finallyLoc&&(l=null);var s=l?l.completion:{};return s.type=t,s.arg=n,l?(this.method="next",this.next=l.finallyLoc,y):this.complete(s)},complete:function(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),y},finish:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var e=this.tryEntries[n];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),R(e),y}},catch:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var e=this.tryEntries[n];if(e.tryLoc===t){var i=e.completion;if("throw"===i.type){var o=i.arg;R(e)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,i){return this.delegate={iterator:H(t),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),y}},t}(t.exports);try{regeneratorRuntime=e}catch(t){"object"===("undefined"==typeof globalThis?"undefined":n(globalThis))?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}})),gl=Wl;function vl(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function Vl(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function xl(t,n,e){return n&&Vl(t.prototype,n),e&&Vl(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t}var Sl=134217729;function Ll(t,n,e,i,o){var l,s,r,a,d=n[0],c=i[0],u=0,p=0;c>d==c>-d?(l=d,d=n[++u]):(l=c,c=i[++p]);var h=0;if(u<t&&p<e)for(c>d==c>-d?(r=l-((s=d+l)-d),d=n[++u]):(r=l-((s=c+l)-c),c=i[++p]),l=s,0!==r&&(o[h++]=r);u<t&&p<e;)c>d==c>-d?(r=l-((s=l+d)-(a=s-l))+(d-a),d=n[++u]):(r=l-((s=l+c)-(a=s-l))+(c-a),c=i[++p]),l=s,0!==r&&(o[h++]=r);for(;u<t;)r=l-((s=l+d)-(a=s-l))+(d-a),d=n[++u],l=s,0!==r&&(o[h++]=r);for(;p<e;)r=l-((s=l+c)-(a=s-l))+(c-a),c=i[++p],l=s,0!==r&&(o[h++]=r);return 0===l&&0!==h||(o[h++]=l),h}function Rl(t){return new Float64Array(t)}var Kl=Rl(4),Hl=Rl(8),Cl=Rl(12),Yl=Rl(16),Tl=Rl(4);function Ml(t,n,e,i,o,l){var s=(n-l)*(e-o),r=(t-o)*(i-l),a=s-r;if(0===s||0===r||s>0!=r>0)return a;var d=Math.abs(s+r);return Math.abs(a)>=33306690738754716e-32*d?a:-function(t,n,e,i,o,l,s){var r,a,d,c,u,p,h,m,b,y,Z,X,f,G,W,g,v,V,x=t-o,S=e-o,L=n-l,R=i-l;u=(W=(m=x-(h=(p=Sl*x)-(p-x)))*(y=R-(b=(p=Sl*R)-(p-R)))-((G=x*R)-h*b-m*b-h*y))-(Z=W-(v=(m=L-(h=(p=Sl*L)-(p-L)))*(y=S-(b=(p=Sl*S)-(p-S)))-((g=L*S)-h*b-m*b-h*y))),Kl[0]=W-(Z+u)+(u-v),u=(f=G-((X=G+Z)-(u=X-G))+(Z-u))-(Z=f-g),Kl[1]=f-(Z+u)+(u-g),u=(V=X+Z)-X,Kl[2]=X-(V-u)+(Z-u),Kl[3]=V;var K=function(t,n){for(var e=n[0],i=1;i<t;i++)e+=n[i];return e}(4,Kl),H=22204460492503146e-32*s;if(K>=H||-K>=H)return K;if(r=t-(x+(u=t-x))+(u-o),d=e-(S+(u=e-S))+(u-o),a=n-(L+(u=n-L))+(u-l),c=i-(R+(u=i-R))+(u-l),0===r&&0===a&&0===d&&0===c)return K;if(H=11093356479670487e-47*s+33306690738754706e-32*Math.abs(K),(K+=x*c+R*r-(L*d+S*a))>=H||-K>=H)return K;u=(W=(m=r-(h=(p=Sl*r)-(p-r)))*(y=R-(b=(p=Sl*R)-(p-R)))-((G=r*R)-h*b-m*b-h*y))-(Z=W-(v=(m=a-(h=(p=Sl*a)-(p-a)))*(y=S-(b=(p=Sl*S)-(p-S)))-((g=a*S)-h*b-m*b-h*y))),Tl[0]=W-(Z+u)+(u-v),u=(f=G-((X=G+Z)-(u=X-G))+(Z-u))-(Z=f-g),Tl[1]=f-(Z+u)+(u-g),u=(V=X+Z)-X,Tl[2]=X-(V-u)+(Z-u),Tl[3]=V;var C=Ll(4,Kl,4,Tl,Hl);u=(W=(m=x-(h=(p=Sl*x)-(p-x)))*(y=c-(b=(p=Sl*c)-(p-c)))-((G=x*c)-h*b-m*b-h*y))-(Z=W-(v=(m=L-(h=(p=Sl*L)-(p-L)))*(y=d-(b=(p=Sl*d)-(p-d)))-((g=L*d)-h*b-m*b-h*y))),Tl[0]=W-(Z+u)+(u-v),u=(f=G-((X=G+Z)-(u=X-G))+(Z-u))-(Z=f-g),Tl[1]=f-(Z+u)+(u-g),u=(V=X+Z)-X,Tl[2]=X-(V-u)+(Z-u),Tl[3]=V;var Y=Ll(C,Hl,4,Tl,Cl);u=(W=(m=r-(h=(p=Sl*r)-(p-r)))*(y=c-(b=(p=Sl*c)-(p-c)))-((G=r*c)-h*b-m*b-h*y))-(Z=W-(v=(m=a-(h=(p=Sl*a)-(p-a)))*(y=d-(b=(p=Sl*d)-(p-d)))-((g=a*d)-h*b-m*b-h*y))),Tl[0]=W-(Z+u)+(u-v),u=(f=G-((X=G+Z)-(u=X-G))+(Z-u))-(Z=f-g),Tl[1]=f-(Z+u)+(u-g),u=(V=X+Z)-X,Tl[2]=X-(V-u)+(Z-u),Tl[3]=V;var T=Ll(Y,Cl,4,Tl,Yl);return Yl[T-1]}(t,n,e,i,o,l,d)}var wl=Math.pow(2,-52),Pl=new Uint32Array(512),Il=function(){function t(n){vl(this,t);var e=n.length>>1;if(e>0&&"number"!=typeof n[0])throw new Error("Expected coords to contain numbers.");this.coords=n;var i=Math.max(2*e-5,0);this._triangles=new Uint32Array(3*i),this._halfedges=new Int32Array(3*i),this._hashSize=Math.ceil(Math.sqrt(e)),this._hullPrev=new Uint32Array(e),this._hullNext=new Uint32Array(e),this._hullTri=new Uint32Array(e),this._hullHash=new Int32Array(this._hashSize).fill(-1),this._ids=new Uint32Array(e),this._dists=new Float64Array(e),this.update()}return xl(t,[{key:"update",value:function(){for(var t=this.coords,n=this._hullPrev,e=this._hullNext,i=this._hullTri,o=this._hullHash,l=t.length>>1,s=1/0,r=1/0,a=-1/0,d=-1/0,c=0;c<l;c++){var u=t[2*c],p=t[2*c+1];u<s&&(s=u),p<r&&(r=p),u>a&&(a=u),p>d&&(d=p),this._ids[c]=c}for(var h,m,b,y=(s+a)/2,Z=(r+d)/2,X=1/0,f=0;f<l;f++){var G=zl(y,Z,t[2*f],t[2*f+1]);G<X&&(h=f,X=G)}var W=t[2*h],g=t[2*h+1];X=1/0;for(var v=0;v<l;v++)if(v!==h){var V=zl(W,g,t[2*v],t[2*v+1]);V<X&&V>0&&(m=v,X=V)}for(var x=t[2*m],S=t[2*m+1],L=1/0,R=0;R<l;R++)if(R!==h&&R!==m){var K=Jl(W,g,x,S,t[2*R],t[2*R+1]);K<L&&(b=R,L=K)}var H=t[2*b],C=t[2*b+1];if(L===1/0){for(var Y=0;Y<l;Y++)this._dists[Y]=t[2*Y]-t[0]||t[2*Y+1]-t[1];Nl(this._ids,this._dists,0,l-1);for(var T=new Uint32Array(l),M=0,w=0,P=-1/0;w<l;w++){var I=this._ids[w];this._dists[I]>P&&(T[M++]=I,P=this._dists[I])}return this.hull=T.subarray(0,M),this.triangles=new Uint32Array(0),void(this.halfedges=new Uint32Array(0))}if(Ml(W,g,x,S,H,C)<0){var z=m,J=x,N=S;m=b,x=H,S=C,b=z,H=J,C=N}var F=function(t,n,e,i,o,l){var s=e-t,r=i-n,a=o-t,d=l-n,c=s*s+r*r,u=a*a+d*d,p=.5/(s*d-r*a);return{x:t+(d*c-r*u)*p,y:n+(s*u-a*c)*p}}(W,g,x,S,H,C);this._cx=F.x,this._cy=F.y;for(var k=0;k<l;k++)this._dists[k]=zl(t[2*k],t[2*k+1],F.x,F.y);Nl(this._ids,this._dists,0,l-1),this._hullStart=h;var B=3;e[h]=n[b]=m,e[m]=n[h]=b,e[b]=n[m]=h,i[h]=0,i[m]=1,i[b]=2,o.fill(-1),o[this._hashKey(W,g)]=h,o[this._hashKey(x,S)]=m,o[this._hashKey(H,C)]=b,this.trianglesLen=0,this._addTriangle(h,m,b,-1,-1,-1);for(var _,U,E=0;E<this._ids.length;E++){var j=this._ids[E],Q=t[2*j],O=t[2*j+1];if(!(E>0&&Math.abs(Q-_)<=wl&&Math.abs(O-U)<=wl)&&(_=Q,U=O,j!==h&&j!==m&&j!==b)){for(var A=0,D=0,q=this._hashKey(Q,O);D<this._hashSize&&(-1===(A=o[(q+D)%this._hashSize])||A===e[A]);D++);for(var $=A=n[A],tt=void 0;tt=e[$],Ml(Q,O,t[2*$],t[2*$+1],t[2*tt],t[2*tt+1])>=0;)if(($=tt)===A){$=-1;break}if(-1!==$){var nt=this._addTriangle($,j,e[$],-1,-1,i[$]);i[j]=this._legalize(nt+2),i[$]=nt,B++;for(var et=e[$];tt=e[et],Ml(Q,O,t[2*et],t[2*et+1],t[2*tt],t[2*tt+1])<0;)nt=this._addTriangle(et,j,tt,i[j],-1,i[et]),i[j]=this._legalize(nt+2),e[et]=et,B--,et=tt;if($===A)for(;Ml(Q,O,t[2*(tt=n[$])],t[2*tt+1],t[2*$],t[2*$+1])<0;)nt=this._addTriangle(tt,j,$,-1,i[$],i[tt]),this._legalize(nt+2),i[tt]=nt,e[$]=$,B--,$=tt;this._hullStart=n[j]=$,e[$]=n[et]=j,e[j]=et,o[this._hashKey(Q,O)]=j,o[this._hashKey(t[2*$],t[2*$+1])]=$}}}this.hull=new Uint32Array(B);for(var it=0,ot=this._hullStart;it<B;it++)this.hull[it]=ot,ot=e[ot];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}},{key:"_hashKey",value:function(t,n){return Math.floor((e=t-this._cx,i=n-this._cy,o=e/(Math.abs(e)+Math.abs(i)),(i>0?3-o:1+o)/4*this._hashSize))%this._hashSize;var e,i,o}},{key:"_legalize",value:function(t){for(var n,e,i,o,l,s,r,a,d,c,u,p,h,m,b,y,Z=this._triangles,X=this._halfedges,f=this.coords,G=0,W=0;;){var g=X[t],v=t-t%3;if(W=v+(t+2)%3,-1!==g){var V=g-g%3,x=v+(t+1)%3,S=V+(g+2)%3,L=Z[W],R=Z[t],K=Z[x],H=Z[S];if(n=f[2*L],e=f[2*L+1],i=f[2*R],o=f[2*R+1],l=f[2*K],s=f[2*K+1],r=f[2*H],a=f[2*H+1],d=void 0,c=void 0,u=void 0,p=void 0,h=void 0,m=void 0,void 0,b=void 0,y=void 0,(d=n-r)*((p=o-a)*(y=(h=l-r)*h+(m=s-a)*m)-(b=(u=i-r)*u+p*p)*m)-(c=e-a)*(u*y-b*h)+(d*d+c*c)*(u*m-p*h)<0){Z[t]=H,Z[g]=L;var C=X[S];if(-1===C){var Y=this._hullStart;do{if(this._hullTri[Y]===S){this._hullTri[Y]=t;break}Y=this._hullPrev[Y]}while(Y!==this._hullStart)}this._link(t,C),this._link(g,X[W]),this._link(W,S);var T=V+(g+1)%3;G<Pl.length&&(Pl[G++]=T)}else{if(0===G)break;t=Pl[--G]}}else{if(0===G)break;t=Pl[--G]}}return W}},{key:"_link",value:function(t,n){this._halfedges[t]=n,-1!==n&&(this._halfedges[n]=t)}},{key:"_addTriangle",value:function(t,n,e,i,o,l){var s=this.trianglesLen;return this._triangles[s]=t,this._triangles[s+1]=n,this._triangles[s+2]=e,this._link(s,i),this._link(s+1,o),this._link(s+2,l),this.trianglesLen+=3,s}}],[{key:"from",value:function(n){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:kl,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Bl,o=n.length,l=new Float64Array(2*o),s=0;s<o;s++){var r=n[s];l[2*s]=e(r),l[2*s+1]=i(r)}return new t(l)}}]),t}();function zl(t,n,e,i){var o=t-e,l=n-i;return o*o+l*l}function Jl(t,n,e,i,o,l){var s=e-t,r=i-n,a=o-t,d=l-n,c=s*s+r*r,u=a*a+d*d,p=.5/(s*d-r*a),h=(d*c-r*u)*p,m=(s*u-a*c)*p;return h*h+m*m}function Nl(t,n,e,i){if(i-e<=20)for(var o=e+1;o<=i;o++){for(var l=t[o],s=n[l],r=o-1;r>=e&&n[t[r]]>s;)t[r+1]=t[r--];t[r+1]=l}else{var a=e+1,d=i;Fl(t,e+i>>1,a),n[t[e]]>n[t[i]]&&Fl(t,e,i),n[t[a]]>n[t[i]]&&Fl(t,a,i),n[t[e]]>n[t[a]]&&Fl(t,e,a);for(var c=t[a],u=n[c];;){do{a++}while(n[t[a]]<u);do{d--}while(n[t[d]]>u);if(d<a)break;Fl(t,a,d)}t[e+1]=t[d],t[d]=c,i-a+1>=d-e?(Nl(t,n,a,i),Nl(t,n,e,d-1)):(Nl(t,n,e,d-1),Nl(t,n,a,i))}}function Fl(t,n,e){var i=t[n];t[n]=t[e],t[e]=i}function kl(t){return t[0]}function Bl(t){return t[1]}var _l=1e-6,Ul=function(){function t(){vl(this,t),this._x0=this._y0=this._x1=this._y1=null,this._=""}return xl(t,[{key:"moveTo",value:function(t,n){this._+="M".concat(this._x0=this._x1=+t,",").concat(this._y0=this._y1=+n)}},{key:"closePath",value:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}},{key:"lineTo",value:function(t,n){this._+="L".concat(this._x1=+t,",").concat(this._y1=+n)}},{key:"arc",value:function(t,n,e){var i=(t=+t)+(e=+e),o=n=+n;if(e<0)throw new Error("negative radius");null===this._x1?this._+="M".concat(i,",").concat(o):(Math.abs(this._x1-i)>_l||Math.abs(this._y1-o)>_l)&&(this._+="L"+i+","+o),e&&(this._+="A".concat(e,",").concat(e,",0,1,1,").concat(t-e,",").concat(n,"A").concat(e,",").concat(e,",0,1,1,").concat(this._x1=i,",").concat(this._y1=o))}},{key:"rect",value:function(t,n,e,i){this._+="M".concat(this._x0=this._x1=+t,",").concat(this._y0=this._y1=+n,"h").concat(+e,"v").concat(+i,"h").concat(-e,"Z")}},{key:"value",value:function(){return this._||null}}]),t}(),El=function(){function t(){vl(this,t),this._=[]}return xl(t,[{key:"moveTo",value:function(t,n){this._.push([t,n])}},{key:"closePath",value:function(){this._.push(this._[0].slice())}},{key:"lineTo",value:function(t,n){this._.push([t,n])}},{key:"value",value:function(){return this._.length?this._:null}}]),t}();function jl(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){var e=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=e){var i,o,l=[],s=!0,r=!1;try{for(e=e.call(t);!(s=(i=e.next()).done)&&(l.push(i.value),!n||l.length!==n);s=!0);}catch(t){r=!0,o=t}finally{try{s||null==e.return||e.return()}finally{if(r)throw o}}return l}}(t,n)||Tt(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ql(t,n){var e="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!e){if(Array.isArray(t)||(e=function(t,n){if(!t)return;if("string"==typeof t)return Ol(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);"Object"===e&&t.constructor&&(e=t.constructor.name);if("Map"===e||"Set"===e)return Array.from(t);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return Ol(t,n)}(t))||n&&t&&"number"==typeof t.length){e&&(t=e);var i=0,o=function(){};return{s:o,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,s=!0,r=!1;return{s:function(){e=e.call(t)},n:function(){var t=e.next();return s=t.done,t},e:function(t){r=!0,l=t},f:function(){try{s||null==e.return||e.return()}finally{if(r)throw l}}}}function Ol(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,i=new Array(n);e<n;e++)i[e]=t[e];return i}var Al=function(){function t(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,960,500],i=jl(e,4),o=i[0],l=i[1],s=i[2],r=i[3];if(vl(this,t),!((s=+s)>=(o=+o)&&(r=+r)>=(l=+l)))throw new Error("invalid bounds");this.delaunay=n,this._circumcenters=new Float64Array(2*n.points.length),this.vectors=new Float64Array(2*n.points.length),this.xmax=s,this.xmin=o,this.ymax=r,this.ymin=l,this._init()}return xl(t,[{key:"update",value:function(){return this.delaunay.update(),this._init(),this}},{key:"_init",value:function(){for(var t,n,e=this.delaunay,i=e.points,o=e.hull,l=e.triangles,s=this.vectors,r=this.circumcenters=this._circumcenters.subarray(0,l.length/3*2),a=0,d=0,c=l.length;a<c;a+=3,d+=2){var u=2*l[a],p=2*l[a+1],h=2*l[a+2],m=i[u],b=i[u+1],y=i[p],Z=i[p+1],X=i[h],f=i[h+1],G=y-m,W=Z-b,g=X-m,v=f-b,V=2*(G*v-W*g);if(Math.abs(V)<1e-9){var x=1e9,S=2*l[0];t=(m+X)/2-(x*=Math.sign((i[S]-m)*v-(i[S+1]-b)*g))*v,n=(b+f)/2+x*g}else{var L=1/V,R=G*G+W*W,K=g*g+v*v;t=m+(v*R-W*K)*L,n=b+(G*K-g*R)*L}r[d]=t,r[d+1]=n}var H,C,Y,T=o[o.length-1],M=4*T,w=i[2*T],P=i[2*T+1];s.fill(0);for(var I=0;I<o.length;++I)H=M,C=w,Y=P,M=4*(T=o[I]),w=i[2*T],P=i[2*T+1],s[H+2]=s[M]=Y-P,s[H+3]=s[M+1]=w-C}},{key:"render",value:function(t){var n=null==t?t=new Ul:void 0,e=this.delaunay,i=e.halfedges,o=e.inedges,l=e.hull,s=this.circumcenters,r=this.vectors;if(l.length<=1)return null;for(var a=0,d=i.length;a<d;++a){var c=i[a];if(!(c<a)){var u=2*Math.floor(a/3),p=2*Math.floor(c/3),h=s[u],m=s[u+1],b=s[p],y=s[p+1];this._renderSegment(h,m,b,y,t)}}for(var Z,X=l[l.length-1],f=0;f<l.length;++f){Z=X,X=l[f];var G=2*Math.floor(o[X]/3),W=s[G],g=s[G+1],v=4*Z,V=this._project(W,g,r[v+2],r[v+3]);V&&this._renderSegment(W,g,V[0],V[1],t)}return n&&n.value()}},{key:"renderBounds",value:function(t){var n=null==t?t=new Ul:void 0;return t.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),n&&n.value()}},{key:"renderCell",value:function(t,n){var e=null==n?n=new Ul:void 0,i=this._clip(t);if(null!==i&&i.length){n.moveTo(i[0],i[1]);for(var o=i.length;i[0]===i[o-2]&&i[1]===i[o-1]&&o>1;)o-=2;for(var l=2;l<o;l+=2)i[l]===i[l-2]&&i[l+1]===i[l-1]||n.lineTo(i[l],i[l+1]);return n.closePath(),e&&e.value()}}},{key:"cellPolygons",value:gl.mark((function t(){var n,e,i,o;return gl.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=this.delaunay.points,e=0,i=n.length/2;case 2:if(!(e<i)){t.next=11;break}if(!(o=this.cellPolygon(e))){t.next=8;break}return o.index=e,t.next=8,o;case 8:++e,t.next=2;break;case 11:case"end":return t.stop()}}),t,this)}))},{key:"cellPolygon",value:function(t){var n=new El;return this.renderCell(t,n),n.value()}},{key:"_renderSegment",value:function(t,n,e,i,o){var l,s=this._regioncode(t,n),r=this._regioncode(e,i);0===s&&0===r?(o.moveTo(t,n),o.lineTo(e,i)):(l=this._clipSegment(t,n,e,i,s,r))&&(o.moveTo(l[0],l[1]),o.lineTo(l[2],l[3]))}},{key:"contains",value:function(t,n,e){return(n=+n)==n&&(e=+e)==e&&this.delaunay._step(t,n,e)===t}},{key:"neighbors",value:gl.mark((function t(n){var e,i,o,l,s,r,a,d,c;return gl.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e=this._clip(n))){t.next=33;break}i=Ql(this.delaunay.neighbors(n)),t.prev=3,i.s();case 5:if((o=i.n()).done){t.next=25;break}if(l=o.value,!(s=this._clip(l))){t.next=23;break}r=0,a=e.length;case 10:if(!(r<a)){t.next=23;break}d=0,c=s.length;case 12:if(!(d<c)){t.next=20;break}if(e[r]!=s[d]||e[r+1]!=s[d+1]||e[(r+2)%a]!=s[(d+c-2)%c]||e[(r+3)%a]!=s[(d+c-1)%c]){t.next=17;break}return t.next=16,l;case 16:return t.abrupt("break",23);case 17:d+=2,t.next=12;break;case 20:r+=2,t.next=10;break;case 23:t.next=5;break;case 25:t.next=30;break;case 27:t.prev=27,t.t0=t.catch(3),i.e(t.t0);case 30:return t.prev=30,i.f(),t.finish(30);case 33:case"end":return t.stop()}}),t,this,[[3,27,30,33]])}))},{key:"_cell",value:function(t){var n=this.circumcenters,e=this.delaunay,i=e.inedges,o=e.halfedges,l=e.triangles,s=i[t];if(-1===s)return null;var r=[],a=s;do{var d=Math.floor(a/3);if(r.push(n[2*d],n[2*d+1]),l[a=a%3==2?a-2:a+1]!==t)break;a=o[a]}while(a!==s&&-1!==a);return r}},{key:"_clip",value:function(t){if(0===t&&1===this.delaunay.hull.length)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];var n=this._cell(t);if(null===n)return null;var e=this.vectors,i=4*t;return e[i]||e[i+1]?this._clipInfinite(t,n,e[i],e[i+1],e[i+2],e[i+3]):this._clipFinite(t,n)}},{key:"_clipFinite",value:function(t,n){for(var e,i,o,l,s=n.length,r=null,a=n[s-2],d=n[s-1],c=this._regioncode(a,d),u=0,p=0;p<s;p+=2)if(e=a,i=d,a=n[p],d=n[p+1],o=c,c=this._regioncode(a,d),0===o&&0===c)l=u,u=0,r?r.push(a,d):r=[a,d];else{var h=void 0,m=void 0,b=void 0,y=void 0,Z=void 0;if(0===o){if(null===(h=this._clipSegment(e,i,a,d,o,c)))continue;var X=jl(h,4);m=X[0],b=X[1],y=X[2],Z=X[3]}else{if(null===(h=this._clipSegment(a,d,e,i,c,o)))continue;var f=jl(h,4);y=f[0],Z=f[1],m=f[2],b=f[3],l=u,u=this._edgecode(m,b),l&&u&&this._edge(t,l,u,r,r.length),r?r.push(m,b):r=[m,b]}l=u,u=this._edgecode(y,Z),l&&u&&this._edge(t,l,u,r,r.length),r?r.push(y,Z):r=[y,Z]}if(r)l=u,u=this._edgecode(r[0],r[1]),l&&u&&this._edge(t,l,u,r,r.length);else if(this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return r}},{key:"_clipSegment",value:function(t,n,e,i,o,l){for(;;){if(0===o&&0===l)return[t,n,e,i];if(o&l)return null;var s=void 0,r=void 0,a=o||l;8&a?(s=t+(e-t)*(this.ymax-n)/(i-n),r=this.ymax):4&a?(s=t+(e-t)*(this.ymin-n)/(i-n),r=this.ymin):2&a?(r=n+(i-n)*(this.xmax-t)/(e-t),s=this.xmax):(r=n+(i-n)*(this.xmin-t)/(e-t),s=this.xmin),o?(t=s,n=r,o=this._regioncode(t,n)):(e=s,i=r,l=this._regioncode(e,i))}}},{key:"_clipInfinite",value:function(t,n,e,i,o,l){var s,r=Array.from(n);if((s=this._project(r[0],r[1],e,i))&&r.unshift(s[0],s[1]),(s=this._project(r[r.length-2],r[r.length-1],o,l))&&r.push(s[0],s[1]),r=this._clipFinite(t,r))for(var a,d=0,c=r.length,u=this._edgecode(r[c-2],r[c-1]);d<c;d+=2)a=u,u=this._edgecode(r[d],r[d+1]),a&&u&&(d=this._edge(t,a,u,r,d),c=r.length);else this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(r=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return r}},{key:"_edge",value:function(t,n,e,i,o){for(;n!==e;){var l=void 0,s=void 0;switch(n){case 5:n=4;continue;case 4:n=6,l=this.xmax,s=this.ymin;break;case 6:n=2;continue;case 2:n=10,l=this.xmax,s=this.ymax;break;case 10:n=8;continue;case 8:n=9,l=this.xmin,s=this.ymax;break;case 9:n=1;continue;case 1:n=5,l=this.xmin,s=this.ymin}i[o]===l&&i[o+1]===s||!this.contains(t,l,s)||(i.splice(o,0,l,s),o+=2)}if(i.length>4)for(var r=0;r<i.length;r+=2){var a=(r+2)%i.length,d=(r+4)%i.length;(i[r]===i[a]&&i[a]===i[d]||i[r+1]===i[a+1]&&i[a+1]===i[d+1])&&(i.splice(a,2),r-=2)}return o}},{key:"_project",value:function(t,n,e,i){var o,l,s,r=1/0;if(i<0){if(n<=this.ymin)return null;(o=(this.ymin-n)/i)<r&&(s=this.ymin,l=t+(r=o)*e)}else if(i>0){if(n>=this.ymax)return null;(o=(this.ymax-n)/i)<r&&(s=this.ymax,l=t+(r=o)*e)}if(e>0){if(t>=this.xmax)return null;(o=(this.xmax-t)/e)<r&&(l=this.xmax,s=n+(r=o)*i)}else if(e<0){if(t<=this.xmin)return null;(o=(this.xmin-t)/e)<r&&(l=this.xmin,s=n+(r=o)*i)}return[l,s]}},{key:"_edgecode",value:function(t,n){return(t===this.xmin?1:t===this.xmax?2:0)|(n===this.ymin?4:n===this.ymax?8:0)}},{key:"_regioncode",value:function(t,n){return(t<this.xmin?1:t>this.xmax?2:0)|(n<this.ymin?4:n>this.ymax?8:0)}}]),t}(),Dl=gl.mark(rs);function ql(t,n){var e="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!e){if(Array.isArray(t)||(e=function(t,n){if(!t)return;if("string"==typeof t)return $l(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);"Object"===e&&t.constructor&&(e=t.constructor.name);if("Map"===e||"Set"===e)return Array.from(t);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return $l(t,n)}(t))||n&&t&&"number"==typeof t.length){e&&(t=e);var i=0,o=function(){};return{s:o,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,s=!0,r=!1;return{s:function(){e=e.call(t)},n:function(){var t=e.next();return s=t.done,t},e:function(t){r=!0,l=t},f:function(){try{s||null==e.return||e.return()}finally{if(r)throw l}}}}function $l(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,i=new Array(n);e<n;e++)i[e]=t[e];return i}var ts=2*Math.PI,ns=Math.pow;function es(t){return t[0]}function is(t){return t[1]}function os(t,n,e){return[t+Math.sin(t+n)*e,n+Math.cos(t-n)*e]}var ls=function(){function t(n){vl(this,t),this._delaunator=new Il(n),this.inedges=new Int32Array(n.length/2),this._hullIndex=new Int32Array(n.length/2),this.points=this._delaunator.coords,this._init()}return xl(t,[{key:"update",value:function(){return this._delaunator.update(),this._init(),this}},{key:"_init",value:function(){var t=this._delaunator,n=this.points;if(t.hull&&t.hull.length>2&&function(t){for(var n=t.triangles,e=t.coords,i=0;i<n.length;i+=3){var o=2*n[i],l=2*n[i+1],s=2*n[i+2];if((e[s]-e[o])*(e[l+1]-e[o+1])-(e[l]-e[o])*(e[s+1]-e[o+1])>1e-10)return!1}return!0}(t)){this.collinear=Int32Array.from({length:n.length/2},(function(t,n){return n})).sort((function(t,e){return n[2*t]-n[2*e]||n[2*t+1]-n[2*e+1]}));for(var e=this.collinear[0],i=this.collinear[this.collinear.length-1],o=[n[2*e],n[2*e+1],n[2*i],n[2*i+1]],l=1e-8*Math.hypot(o[3]-o[1],o[2]-o[0]),s=0,r=n.length/2;s<r;++s){var a=os(n[2*s],n[2*s+1],l);n[2*s]=a[0],n[2*s+1]=a[1]}this._delaunator=new Il(n)}else delete this.collinear;for(var d=this.halfedges=this._delaunator.halfedges,c=this.hull=this._delaunator.hull,u=this.triangles=this._delaunator.triangles,p=this.inedges.fill(-1),h=this._hullIndex.fill(-1),m=0,b=d.length;m<b;++m){var y=u[m%3==2?m-2:m+1];-1!==d[m]&&-1!==p[y]||(p[y]=m)}for(var Z=0,X=c.length;Z<X;++Z)h[c[Z]]=Z;c.length<=2&&c.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=c[0],p[c[0]]=1,2===c.length&&(p[c[1]]=0,this.triangles[1]=c[1],this.triangles[2]=c[1]))}},{key:"voronoi",value:function(t){return new Al(this,t)}},{key:"neighbors",value:gl.mark((function t(n){var e,i,o,l,s,r,a,d,c,u,p;return gl.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.inedges,i=this.hull,o=this._hullIndex,l=this.halfedges,s=this.triangles,!(r=this.collinear)){t.next=10;break}if(!((a=r.indexOf(n))>0)){t.next=6;break}return t.next=6,r[a-1];case 6:if(!(a<r.length-1)){t.next=9;break}return t.next=9,r[a+1];case 9:return t.abrupt("return");case 10:if(-1!==(d=e[n])){t.next=13;break}return t.abrupt("return");case 13:c=d,u=-1;case 14:return t.next=16,u=s[c];case 16:if(s[c=c%3==2?c-2:c+1]===n){t.next=19;break}return t.abrupt("return");case 19:if(-1!==(c=l[c])){t.next=26;break}if((p=i[(o[n]+1)%i.length])===u){t.next=25;break}return t.next=25,p;case 25:return t.abrupt("return");case 26:if(c!==d){t.next=14;break}case 27:case"end":return t.stop()}}),t,this)}))},{key:"find",value:function(t,n){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if((t=+t)!=t||(n=+n)!=n)return-1;for(var i,o=e;(i=this._step(e,t,n))>=0&&i!==e&&i!==o;)e=i;return i}},{key:"_step",value:function(t,n,e){var i=this.inedges,o=this.hull,l=this._hullIndex,s=this.halfedges,r=this.triangles,a=this.points;if(-1===i[t]||!a.length)return(t+1)%(a.length>>1);var d=t,c=ns(n-a[2*t],2)+ns(e-a[2*t+1],2),u=i[t],p=u;do{var h=r[p],m=ns(n-a[2*h],2)+ns(e-a[2*h+1],2);if(m<c&&(c=m,d=h),r[p=p%3==2?p-2:p+1]!==t)break;if(-1===(p=s[p])){if((p=o[(l[t]+1)%o.length])!==h&&ns(n-a[2*p],2)+ns(e-a[2*p+1],2)<c)return p;break}}while(p!==u);return d}},{key:"render",value:function(t){for(var n=null==t?t=new Ul:void 0,e=this.points,i=this.halfedges,o=this.triangles,l=0,s=i.length;l<s;++l){var r=i[l];if(!(r<l)){var a=2*o[l],d=2*o[r];t.moveTo(e[a],e[a+1]),t.lineTo(e[d],e[d+1])}}return this.renderHull(t),n&&n.value()}},{key:"renderPoints",value:function(t,n){void 0!==n||t&&"function"==typeof t.moveTo||(n=t,t=null),n=null==n?2:+n;for(var e=null==t?t=new Ul:void 0,i=this.points,o=0,l=i.length;o<l;o+=2){var s=i[o],r=i[o+1];t.moveTo(s+n,r),t.arc(s,r,n,0,ts)}return e&&e.value()}},{key:"renderHull",value:function(t){var n=null==t?t=new Ul:void 0,e=this.hull,i=this.points,o=2*e[0],l=e.length;t.moveTo(i[o],i[o+1]);for(var s=1;s<l;++s){var r=2*e[s];t.lineTo(i[r],i[r+1])}return t.closePath(),n&&n.value()}},{key:"hullPolygon",value:function(){var t=new El;return this.renderHull(t),t.value()}},{key:"renderTriangle",value:function(t,n){var e=null==n?n=new Ul:void 0,i=this.points,o=this.triangles,l=2*o[t*=3],s=2*o[t+1],r=2*o[t+2];return n.moveTo(i[l],i[l+1]),n.lineTo(i[s],i[s+1]),n.lineTo(i[r],i[r+1]),n.closePath(),e&&e.value()}},{key:"trianglePolygons",value:gl.mark((function t(){var n,e,i;return gl.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=this.triangles,e=0,i=n.length/3;case 2:if(!(e<i)){t.next=8;break}return t.next=5,this.trianglePolygon(e);case 5:++e,t.next=2;break;case 8:case"end":return t.stop()}}),t,this)}))},{key:"trianglePolygon",value:function(t){var n=new El;return this.renderTriangle(t,n),n.value()}}],[{key:"from",value:function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:es,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:is,o=arguments.length>3?arguments[3]:void 0;return new t("length"in n?ss(n,e,i,o):Float64Array.from(rs(n,e,i,o)))}}]),t}();function ss(t,n,e,i){for(var o=t.length,l=new Float64Array(2*o),s=0;s<o;++s){var r=t[s];l[2*s]=n.call(i,r,s,t),l[2*s+1]=e.call(i,r,s,t)}return l}function rs(t,n,e,i){var o,l,s,r;return gl.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:o=0,l=ql(t),a.prev=2,l.s();case 4:if((s=l.n()).done){a.next=13;break}return r=s.value,a.next=8,n.call(i,r,o,t);case 8:return a.next=10,e.call(i,r,o,t);case 10:++o;case 11:a.next=4;break;case 13:a.next=18;break;case 15:a.prev=15,a.t0=a.catch(2),l.e(a.t0);case 18:return a.prev=18,l.f(),a.finish(18);case 21:case"end":return a.stop()}}),Dl,null,[[2,15,18,21]])}function as(t,n){return null==t||null==n?NaN:t<n?-1:t>n?1:t>=n?0:NaN}function ds(t){var n=t,e=t,i=t;function o(t,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.length;if(o<l){if(0!==e(n,n))return l;do{var s=o+l>>>1;i(t[s],n)<0?o=s+1:l=s}while(o<l)}return o}return 2!==t.length&&(n=function(n,e){return t(n)-e},e=as,i=function(n,e){return as(t(n),e)}),{left:o,center:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.length,s=o(t,e,i,l-1);return s>i&&n(t[s-1],e)>-n(t[s],e)?s-1:s},right:function(t,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.length;if(o<l){if(0!==e(n,n))return l;do{var s=o+l>>>1;i(t[s],n)<=0?o=s+1:l=s}while(o<l)}return o}}}var cs=ds(as).right;ds((function(t){return null===t?NaN:+t})).center;var us=cs,ps=Math.sqrt(50),hs=Math.sqrt(10),ms=Math.sqrt(2);function bs(t,n,e){var i=(n-t)/Math.max(0,e),o=Math.floor(Math.log(i)/Math.LN10),l=i/Math.pow(10,o);return o>=0?(l>=ps?10:l>=hs?5:l>=ms?2:1)*Math.pow(10,o):-Math.pow(10,-o)/(l>=ps?10:l>=hs?5:l>=ms?2:1)}function ys(t,n){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(n).domain(t)}return this}function Zs(t,n,e){t.prototype=n.prototype=e,e.constructor=t}function Xs(t,n){var e=Object.create(t.prototype);for(var i in n)e[i]=n[i];return e}function fs(){}var Gs=.7,Ws=1/Gs,gs="\\s*([+-]?\\d+)\\s*",vs="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Vs="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",xs=/^#([0-9a-f]{3,8})$/,Ss=new RegExp("^rgb\\(".concat(gs,",").concat(gs,",").concat(gs,"\\)$")),Ls=new RegExp("^rgb\\(".concat(Vs,",").concat(Vs,",").concat(Vs,"\\)$")),Rs=new RegExp("^rgba\\(".concat(gs,",").concat(gs,",").concat(gs,",").concat(vs,"\\)$")),Ks=new RegExp("^rgba\\(".concat(Vs,",").concat(Vs,",").concat(Vs,",").concat(vs,"\\)$")),Hs=new RegExp("^hsl\\(".concat(vs,",").concat(Vs,",").concat(Vs,"\\)$")),Cs=new RegExp("^hsla\\(".concat(vs,",").concat(Vs,",").concat(Vs,",").concat(vs,"\\)$")),Ys={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Ts(){return this.rgb().formatHex()}function Ms(){return this.rgb().formatRgb()}function ws(t){var n,e;return t=(t+"").trim().toLowerCase(),(n=xs.exec(t))?(e=n[1].length,n=parseInt(n[1],16),6===e?Ps(n):3===e?new Ns(n>>8&15|n>>4&240,n>>4&15|240&n,(15&n)<<4|15&n,1):8===e?Is(n>>24&255,n>>16&255,n>>8&255,(255&n)/255):4===e?Is(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|240&n,((15&n)<<4|15&n)/255):null):(n=Ss.exec(t))?new Ns(n[1],n[2],n[3],1):(n=Ls.exec(t))?new Ns(255*n[1]/100,255*n[2]/100,255*n[3]/100,1):(n=Rs.exec(t))?Is(n[1],n[2],n[3],n[4]):(n=Ks.exec(t))?Is(255*n[1]/100,255*n[2]/100,255*n[3]/100,n[4]):(n=Hs.exec(t))?Es(n[1],n[2]/100,n[3]/100,1):(n=Cs.exec(t))?Es(n[1],n[2]/100,n[3]/100,n[4]):Ys.hasOwnProperty(t)?Ps(Ys[t]):"transparent"===t?new Ns(NaN,NaN,NaN,0):null}function Ps(t){return new Ns(t>>16&255,t>>8&255,255&t,1)}function Is(t,n,e,i){return i<=0&&(t=n=e=NaN),new Ns(t,n,e,i)}function zs(t){return t instanceof fs||(t=ws(t)),t?new Ns((t=t.rgb()).r,t.g,t.b,t.opacity):new Ns}function Js(t,n,e,i){return 1===arguments.length?zs(t):new Ns(t,n,e,null==i?1:i)}function Ns(t,n,e,i){this.r=+t,this.g=+n,this.b=+e,this.opacity=+i}function Fs(){return"#".concat(Us(this.r)).concat(Us(this.g)).concat(Us(this.b))}function ks(){var t=Bs(this.opacity);return"".concat(1===t?"rgb(":"rgba(").concat(_s(this.r),", ").concat(_s(this.g),", ").concat(_s(this.b)).concat(1===t?")":", ".concat(t,")"))}function Bs(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function _s(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Us(t){return((t=_s(t))<16?"0":"")+t.toString(16)}function Es(t,n,e,i){return i<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new Qs(t,n,e,i)}function js(t){if(t instanceof Qs)return new Qs(t.h,t.s,t.l,t.opacity);if(t instanceof fs||(t=ws(t)),!t)return new Qs;if(t instanceof Qs)return t;var n=(t=t.rgb()).r/255,e=t.g/255,i=t.b/255,o=Math.min(n,e,i),l=Math.max(n,e,i),s=NaN,r=l-o,a=(l+o)/2;return r?(s=n===l?(e-i)/r+6*(e<i):e===l?(i-n)/r+2:(n-e)/r+4,r/=a<.5?l+o:2-l-o,s*=60):r=a>0&&a<1?0:s,new Qs(s,r,a,t.opacity)}function Qs(t,n,e,i){this.h=+t,this.s=+n,this.l=+e,this.opacity=+i}function Os(t){return(t=(t||0)%360)<0?t+360:t}function As(t){return Math.max(0,Math.min(1,t||0))}function Ds(t,n,e){return 255*(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)}Zs(fs,ws,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:Ts,formatHex:Ts,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return js(this).formatHsl()},formatRgb:Ms,toString:Ms}),Zs(Ns,Js,Xs(fs,{brighter:function(t){return t=null==t?Ws:Math.pow(Ws,t),new Ns(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?Gs:Math.pow(Gs,t),new Ns(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},clamp:function(){return new Ns(_s(this.r),_s(this.g),_s(this.b),Bs(this.opacity))},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Fs,formatHex:Fs,formatHex8:function(){return"#".concat(Us(this.r)).concat(Us(this.g)).concat(Us(this.b)).concat(Us(255*(isNaN(this.opacity)?1:this.opacity)))},formatRgb:ks,toString:ks})),Zs(Qs,(function(t,n,e,i){return 1===arguments.length?js(t):new Qs(t,n,e,null==i?1:i)}),Xs(fs,{brighter:function(t){return t=null==t?Ws:Math.pow(Ws,t),new Qs(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?Gs:Math.pow(Gs,t),new Qs(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,i=e+(e<.5?e:1-e)*n,o=2*e-i;return new Ns(Ds(t>=240?t-240:t+120,o,i),Ds(t,o,i),Ds(t<120?t+240:t-120,o,i),this.opacity)},clamp:function(){return new Qs(Os(this.h),As(this.s),As(this.l),Bs(this.opacity))},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=Bs(this.opacity);return"".concat(1===t?"hsl(":"hsla(").concat(Os(this.h),", ").concat(100*As(this.s),"%, ").concat(100*As(this.l),"%").concat(1===t?")":", ".concat(t,")"))}}));var qs=function(t){return function(){return t}};function $s(t){return 1==(t=+t)?tr:function(n,e){return e-n?function(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(i){return Math.pow(t+i*n,e)}}(n,e,t):qs(isNaN(n)?e:n)}}function tr(t,n){var e=n-t;return e?function(t,n){return function(e){return t+e*n}}(t,e):qs(isNaN(t)?n:t)}var nr=function t(n){var e=$s(n);function i(t,n){var i=e((t=Js(t)).r,(n=Js(n)).r),o=e(t.g,n.g),l=e(t.b,n.b),s=tr(t.opacity,n.opacity);return function(n){return t.r=i(n),t.g=o(n),t.b=l(n),t.opacity=s(n),t+""}}return i.gamma=t,i}(1);function er(t,n){n||(n=[]);var e,i=t?Math.min(n.length,t.length):0,o=n.slice();return function(l){for(e=0;e<i;++e)o[e]=t[e]*(1-l)+n[e]*l;return o}}function ir(t,n){var e,i=n?n.length:0,o=t?Math.min(i,t.length):0,l=new Array(o),s=new Array(i);for(e=0;e<o;++e)l[e]=cr(t[e],n[e]);for(;e<i;++e)s[e]=n[e];return function(t){for(e=0;e<o;++e)s[e]=l[e](t);return s}}function or(t,n){var e=new Date;return t=+t,n=+n,function(i){return e.setTime(t*(1-i)+n*i),e}}function lr(t,n){return t=+t,n=+n,function(e){return t*(1-e)+n*e}}function sr(t,e){var i,o={},l={};for(i in null!==t&&"object"===n(t)||(t={}),null!==e&&"object"===n(e)||(e={}),e)i in t?o[i]=cr(t[i],e[i]):l[i]=e[i];return function(t){for(i in o)l[i]=o[i](t);return l}}var rr=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ar=new RegExp(rr.source,"g");function dr(t,n){var e,i,o,l=rr.lastIndex=ar.lastIndex=0,s=-1,r=[],a=[];for(t+="",n+="";(e=rr.exec(t))&&(i=ar.exec(n));)(o=i.index)>l&&(o=n.slice(l,o),r[s]?r[s]+=o:r[++s]=o),(e=e[0])===(i=i[0])?r[s]?r[s]+=i:r[++s]=i:(r[++s]=null,a.push({i:s,x:lr(e,i)})),l=ar.lastIndex;return l<n.length&&(o=n.slice(l),r[s]?r[s]+=o:r[++s]=o),r.length<2?a[0]?function(t){return function(n){return t(n)+""}}(a[0].x):function(t){return function(){return t}}(n):(n=a.length,function(t){for(var e,i=0;i<n;++i)r[(e=a[i]).i]=e.x(t);return r.join("")})}function cr(t,e){var i,o=n(e);return null==e||"boolean"===o?qs(e):("number"===o?lr:"string"===o?(i=ws(e))?(e=i,nr):dr:e instanceof ws?nr:e instanceof Date?or:function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}(e)?er:Array.isArray(e)?ir:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?sr:lr)(t,e)}function ur(t,n){return t=+t,n=+n,function(e){return Math.round(t*(1-e)+n*e)}}function pr(t){return+t}var hr=[0,1];function mr(t){return t}function br(t,n){return(n-=t=+t)?function(e){return(e-t)/n}:function(t){return function(){return t}}(isNaN(n)?NaN:.5)}function yr(t,n,e){var i=t[0],o=t[1],l=n[0],s=n[1];return o<i?(i=br(o,i),l=e(s,l)):(i=br(i,o),l=e(l,s)),function(t){return l(i(t))}}function Zr(t,n,e){var i=Math.min(t.length,n.length)-1,o=new Array(i),l=new Array(i),s=-1;for(t[i]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++s<i;)o[s]=br(t[s],t[s+1]),l[s]=e(n[s],n[s+1]);return function(n){var e=us(t,n,1,i)-1;return l[e](o[e](n))}}function Xr(t,n){return n.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function fr(){var t,n,e,i,o,l,s=hr,r=hr,a=cr,d=mr;function c(){var t,n,e,a=Math.min(s.length,r.length);return d!==mr&&(t=s[0],n=s[a-1],t>n&&(e=t,t=n,n=e),d=function(e){return Math.max(t,Math.min(n,e))}),i=a>2?Zr:yr,o=l=null,u}function u(n){return null==n||isNaN(n=+n)?e:(o||(o=i(s.map(t),r,a)))(t(d(n)))}return u.invert=function(e){return d(n((l||(l=i(r,s.map(t),lr)))(e)))},u.domain=function(t){return arguments.length?(s=Array.from(t,pr),c()):s.slice()},u.range=function(t){return arguments.length?(r=Array.from(t),c()):r.slice()},u.rangeRound=function(t){return r=Array.from(t),a=ur,c()},u.clamp=function(t){return arguments.length?(d=!!t||mr,c()):d!==mr},u.interpolate=function(t){return arguments.length?(a=t,c()):a},u.unknown=function(t){return arguments.length?(e=t,u):e},function(e,i){return t=e,n=i,c()}}function Gr(){return fr()(mr,mr)}function Wr(t,n){if((e=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"))<0)return null;var e,i=t.slice(0,e);return[i.length>1?i[0]+i.slice(2):i,+t.slice(e+1)]}function gr(t){return(t=Wr(Math.abs(t)))?t[1]:NaN}var vr,Vr=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function xr(t){if(!(n=Vr.exec(t)))throw new Error("invalid format: "+t);var n;return new Sr({fill:n[1],align:n[2],sign:n[3],symbol:n[4],zero:n[5],width:n[6],comma:n[7],precision:n[8]&&n[8].slice(1),trim:n[9],type:n[10]})}function Sr(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function Lr(t,n){var e=Wr(t,n);if(!e)return t+"";var i=e[0],o=e[1];return o<0?"0."+new Array(-o).join("0")+i:i.length>o+1?i.slice(0,o+1)+"."+i.slice(o+1):i+new Array(o-i.length+2).join("0")}xr.prototype=Sr.prototype,Sr.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var Rr={"%":function(t,n){return(100*t).toFixed(n)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:function(t,n){return t.toExponential(n)},f:function(t,n){return t.toFixed(n)},g:function(t,n){return t.toPrecision(n)},o:function(t){return Math.round(t).toString(8)},p:function(t,n){return Lr(100*t,n)},r:Lr,s:function(t,n){var e=Wr(t,n);if(!e)return t+"";var i=e[0],o=e[1],l=o-(vr=3*Math.max(-8,Math.min(8,Math.floor(o/3))))+1,s=i.length;return l===s?i:l>s?i+new Array(l-s+1).join("0"):l>0?i.slice(0,l)+"."+i.slice(l):"0."+new Array(1-l).join("0")+Wr(t,Math.max(0,n+l-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}};function Kr(t){return t}var Hr,Cr,Yr,Tr=Array.prototype.map,Mr=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function wr(t){var n,e,i=void 0===t.grouping||void 0===t.thousands?Kr:(n=Tr.call(t.grouping,Number),e=t.thousands+"",function(t,i){for(var o=t.length,l=[],s=0,r=n[0],a=0;o>0&&r>0&&(a+r+1>i&&(r=Math.max(1,i-a)),l.push(t.substring(o-=r,o+r)),!((a+=r+1)>i));)r=n[s=(s+1)%n.length];return l.reverse().join(e)}),o=void 0===t.currency?"":t.currency[0]+"",l=void 0===t.currency?"":t.currency[1]+"",s=void 0===t.decimal?".":t.decimal+"",r=void 0===t.numerals?Kr:function(t){return function(n){return n.replace(/[0-9]/g,(function(n){return t[+n]}))}}(Tr.call(t.numerals,String)),a=void 0===t.percent?"%":t.percent+"",d=void 0===t.minus?"−":t.minus+"",c=void 0===t.nan?"NaN":t.nan+"";function u(t){var n=(t=xr(t)).fill,e=t.align,u=t.sign,p=t.symbol,h=t.zero,m=t.width,b=t.comma,y=t.precision,Z=t.trim,X=t.type;"n"===X?(b=!0,X="g"):Rr[X]||(void 0===y&&(y=12),Z=!0,X="g"),(h||"0"===n&&"="===e)&&(h=!0,n="0",e="=");var f="$"===p?o:"#"===p&&/[boxX]/.test(X)?"0"+X.toLowerCase():"",G="$"===p?l:/[%p]/.test(X)?a:"",W=Rr[X],g=/[defgprs%]/.test(X);function v(t){var o,l,a,p=f,v=G;if("c"===X)v=W(t)+v,t="";else{var V=(t=+t)<0||1/t<0;if(t=isNaN(t)?c:W(Math.abs(t),y),Z&&(t=function(t){t:for(var n,e=t.length,i=1,o=-1;i<e;++i)switch(t[i]){case".":o=n=i;break;case"0":0===o&&(o=i),n=i;break;default:if(!+t[i])break t;o>0&&(o=0)}return o>0?t.slice(0,o)+t.slice(n+1):t}(t)),V&&0==+t&&"+"!==u&&(V=!1),p=(V?"("===u?u:d:"-"===u||"("===u?"":u)+p,v=("s"===X?Mr[8+vr/3]:"")+v+(V&&"("===u?")":""),g)for(o=-1,l=t.length;++o<l;)if(48>(a=t.charCodeAt(o))||a>57){v=(46===a?s+t.slice(o+1):t.slice(o))+v,t=t.slice(0,o);break}}b&&!h&&(t=i(t,1/0));var x=p.length+t.length+v.length,S=x<m?new Array(m-x+1).join(n):"";switch(b&&h&&(t=i(S+t,S.length?m-v.length:1/0),S=""),e){case"<":t=p+t+v+S;break;case"=":t=p+S+t+v;break;case"^":t=S.slice(0,x=S.length>>1)+p+t+v+S.slice(x);break;default:t=S+p+t+v}return r(t)}return y=void 0===y?6:/[gprs]/.test(X)?Math.max(1,Math.min(21,y)):Math.max(0,Math.min(20,y)),v.toString=function(){return t+""},v}return{format:u,formatPrefix:function(t,n){var e=u(((t=xr(t)).type="f",t)),i=3*Math.max(-8,Math.min(8,Math.floor(gr(n)/3))),o=Math.pow(10,-i),l=Mr[8+i/3];return function(t){return e(o*t)+l}}}}function Pr(t,n,e,i){var o,l=function(t,n,e){var i=Math.abs(n-t)/Math.max(0,e),o=Math.pow(10,Math.floor(Math.log(i)/Math.LN10)),l=i/o;return l>=ps?o*=10:l>=hs?o*=5:l>=ms&&(o*=2),n<t?-o:o}(t,n,e);switch((i=xr(null==i?",f":i)).type){case"s":var s=Math.max(Math.abs(t),Math.abs(n));return null!=i.precision||isNaN(o=function(t,n){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(gr(n)/3)))-gr(Math.abs(t)))}(l,s))||(i.precision=o),Yr(i,s);case"":case"e":case"g":case"p":case"r":null!=i.precision||isNaN(o=function(t,n){return t=Math.abs(t),n=Math.abs(n)-t,Math.max(0,gr(n)-gr(t))+1}(l,Math.max(Math.abs(t),Math.abs(n))))||(i.precision=o-("e"===i.type));break;case"f":case"%":null!=i.precision||isNaN(o=function(t){return Math.max(0,-gr(Math.abs(t)))}(l))||(i.precision=o-2*("%"===i.type))}return Cr(i)}function Ir(t){var n=t.domain;return t.ticks=function(t){var e=n();return function(t,n,e){var i,o,l,s,r=-1;if(e=+e,(t=+t)==(n=+n)&&e>0)return[t];if((i=n<t)&&(o=t,t=n,n=o),0===(s=bs(t,n,e))||!isFinite(s))return[];if(s>0){var a=Math.round(t/s),d=Math.round(n/s);for(a*s<t&&++a,d*s>n&&--d,l=new Array(o=d-a+1);++r<o;)l[r]=(a+r)*s}else{s=-s;var c=Math.round(t*s),u=Math.round(n*s);for(c/s<t&&++c,u/s>n&&--u,l=new Array(o=u-c+1);++r<o;)l[r]=(c+r)/s}return i&&l.reverse(),l}(e[0],e[e.length-1],null==t?10:t)},t.tickFormat=function(t,e){var i=n();return Pr(i[0],i[i.length-1],null==t?10:t,e)},t.nice=function(e){null==e&&(e=10);var i,o,l=n(),s=0,r=l.length-1,a=l[s],d=l[r],c=10;for(d<a&&(o=a,a=d,d=o,o=s,s=r,r=o);c-- >0;){if((o=bs(a,d,e))===i)return l[s]=a,l[r]=d,n(l);if(o>0)a=Math.floor(a/o)*o,d=Math.ceil(d/o)*o;else{if(!(o<0))break;a=Math.ceil(a*o)/o,d=Math.floor(d*o)/o}i=o}return t},t}function zr(){var t=Gr();return t.copy=function(){return Xr(t,zr())},ys.apply(t,arguments),Ir(t)}function Jr(t,n){var e="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!e){if(Array.isArray(t)||(e=function(t,n){if(!t)return;if("string"==typeof t)return Nr(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);"Object"===e&&t.constructor&&(e=t.constructor.name);if("Map"===e||"Set"===e)return Array.from(t);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return Nr(t,n)}(t))||n&&t&&"number"==typeof t.length){e&&(t=e);var i=0,o=function(){};return{s:o,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,s=!0,r=!1;return{s:function(){e=e.call(t)},n:function(){var t=e.next();return s=t.done,t},e:function(t){r=!0,l=t},f:function(){try{s||null==e.return||e.return()}finally{if(r)throw l}}}}function Nr(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,i=new Array(n);e<n;e++)i[e]=t[e];return i}Hr=wr({thousands:",",grouping:[3],currency:["$",""]}),Cr=Hr.format,Yr=Hr.formatPrefix;var Fr=gl.mark(_r);function kr(t,n){var e="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!e){if(Array.isArray(t)||(e=function(t,n){if(!t)return;if("string"==typeof t)return Br(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);"Object"===e&&t.constructor&&(e=t.constructor.name);if("Map"===e||"Set"===e)return Array.from(t);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return Br(t,n)}(t))||n&&t&&"number"==typeof t.length){e&&(t=e);var i=0,o=function(){};return{s:o,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,s=!0,r=!1;return{s:function(){e=e.call(t)},n:function(){var t=e.next();return s=t.done,t},e:function(t){r=!0,l=t},f:function(){try{s||null==e.return||e.return()}finally{if(r)throw l}}}}function Br(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,i=new Array(n);e<n;e++)i[e]=t[e];return i}function _r(t){var n,e,i;return gl.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:n=kr(t),o.prev=1,n.s();case 3:if((e=n.n()).done){o.next=8;break}return i=e.value,o.delegateYield(i,"t0",6);case 6:o.next=3;break;case 8:o.next=13;break;case 10:o.prev=10,o.t1=o.catch(1),n.e(o.t1);case 13:return o.prev=13,n.f(),o.finish(13);case 16:case"end":return o.stop()}}),Fr,null,[[1,10,13,16]])}function Ur(t,n){for(var e=n.length,i=-1;++i<e;){var o=Er(t,n[i]);if(o)return o}return 0}function Er(t,n){for(var e=n[0],i=n[1],o=-1,l=0,s=t.length,r=s-1;l<s;r=l++){var a=t[l],d=a[0],c=a[1],u=t[r],p=u[0],h=u[1];if(jr(a,u,n))return 0;c>i!=h>i&&e<(p-d)*(i-c)/(h-c)+d&&(o=-o)}return o}function jr(t,n,e){var i,o,l,s;return function(t,n,e){return(n[0]-t[0])*(e[1]-t[1])==(e[0]-t[0])*(n[1]-t[1])}(t,n,e)&&(o=t[i=+(t[0]===n[0])],l=e[i],s=n[i],o<=l&&l<=s||s<=l&&l<=o)}function Qr(t){for(var n=0,e=t.length,i=t[e-1][1]*t[0][0]-t[e-1][0]*t[0][1];++n<e;)i+=t[n-1][1]*t[n][0]-t[n-1][0]*t[n][1];return i}function Or(t,n){var e="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!e){if(Array.isArray(t)||(e=function(t,n){if(!t)return;if("string"==typeof t)return Ar(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);"Object"===e&&t.constructor&&(e=t.constructor.name);if("Map"===e||"Set"===e)return Array.from(t);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return Ar(t,n)}(t))||n&&t&&"number"==typeof t.length){e&&(t=e);var i=0,o=function(){};return{s:o,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,s=!0,r=!1;return{s:function(){e=e.call(t)},n:function(){var t=e.next();return s=t.done,t},e:function(t){r=!0,l=t},f:function(){try{s||null==e.return||e.return()}finally{if(r)throw l}}}}function Ar(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,i=new Array(n);e<n;e++)i[e]=t[e];return i}function Dr(t){var n,e=[],i=[],o=Or(t);try{for(o.s();!(n=o.n()).done;){var l=n.value;Qr(l)>0?e.push([l]):i.push(l)}}catch(t){o.e(t)}finally{o.f()}return i.forEach((function(t){for(var n,i=0,o=e.length;i<o;++i)if(-1!==Ur((n=e[i])[0],t))return void n.push(t)})),e}function qr(t,n){var e="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!e){if(Array.isArray(t)||(e=function(t,n){if(!t)return;if("string"==typeof t)return $r(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);"Object"===e&&t.constructor&&(e=t.constructor.name);if("Map"===e||"Set"===e)return Array.from(t);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return $r(t,n)}(t))||n&&t&&"number"==typeof t.length){e&&(t=e);var i=0,o=function(){};return{s:o,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,s=!0,r=!1;return{s:function(){e=e.call(t)},n:function(){var t=e.next();return s=t.done,t},e:function(t){r=!0,l=t},f:function(){try{s||null==e.return||e.return()}finally{if(r)throw l}}}}function $r(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,i=new Array(n);e<n;e++)i[e]=t[e];return i}function ta(){var t,e,i,o=gl.mark(h),l=gl.mark(m),s=function(t){return t[0]},r=function(t){return t[1]},a=function(t){return isFinite(+t[2])?+t[2]:0},d=ls.from,c=function(t,n,e){var o=i.points,l=[o[2*t],o[2*t+1]],s=[o[2*n],o[2*n+1]];return[e*s[0]+(1-e)*l[0],e*s[1]+(1-e)*l[1]]},u=Dr;function p(o){i=d(o,s,r),e=Array.from(o,a),"object"!==n(t)&&(t=zr().domain(function(t){var n,e,i,o=Jr(t);try{for(o.s();!(i=o.n()).done;){var l=i.value;null!=l&&(void 0===n?l>=l&&(n=e=l):(n>l&&(n=l),e<l&&(e=l)))}}catch(t){o.e(t)}finally{o.f()}return[n,e]}(e)).nice().ticks(t))}function h(n){var l,s,r,a;return gl.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:p(n),l=qr(t),o.prev=2,l.s();case 4:if((s=l.n()).done){o.next=11;break}return r=s.value,a=X(i,e,r),o.next=9,{type:"MultiPolygon",coordinates:a,value:r};case 9:o.next=4;break;case 11:o.next=16;break;case 13:o.prev=13,o.t0=o.catch(2),l.e(o.t0);case 16:return o.prev=16,l.f(),o.finish(16);case 19:case"end":return o.stop()}}),o,null,[[2,13,16,19]])}function m(n){var o,s,r,a,d,c;return gl.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:p(n),a=qr(t),l.prev=2,a.s();case 4:if((d=a.n()).done){l.next=14;break}if(c=d.value,s&&(o=s),h=X(i,e,c),s=Array.from(_r(h)),!o){l.next=11;break}return l.next=11,{type:"MultiPolygon",coordinates:u(o.concat(s.map((function(t){return t.slice().reverse()})))),value:r,valueMax:c};case 11:r=c;case 12:l.next=4;break;case 14:l.next=19;break;case 16:l.prev=16,l.t0=l.catch(2),a.e(l.t0);case 19:return l.prev=19,a.f(),l.finish(19);case 22:case"end":return l.stop()}var h}),l,null,[[2,16,19,22]])}var b=function(t){return Mt(h(t))};return b.x=function(t){return t?(s=t,b):s},b.y=function(t){return t?(r=t,b):r},b.value=function(t){return t?(a=t,b):a},b.thresholds=function(n){return n?(t=n,b):t},b.triangulate=function(t){return t?(d=t,b):d},b.pointInterpolate=function(t){return t?(c=t,b):c},b.ringsort=function(t){return t?(u=t,b):u},b.contours=h,b.contour=function(t,n){return p(t),{type:"MultiPolygon",coordinates:X(i,e,n),value:n}},b.isobands=m,b._values=function(){return e},b._triangulation=function(){return i},b;function y(t){return t%3==2?t-2:t+1}function Z(t){return t%3==0?t+2:t-1}function X(t,n){var e,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=qr(n);try{for(o.s();!(e=o.n()).done;){var l=e.value;if(!isFinite(l))throw["Invalid value",l]}}catch(t){o.e(t)}finally{o.f()}var s=t.halfedges,r=t.hull,a=t.inedges,d=t.triangles,p=n.length;function h(t){return m(d[t],d[y(t)])}function m(t,e){var o=n[t],l=n[e];if(o<=i&&l>=i&&o<l)return(i-o)/(l-o)}var b,X,f,G,W,g=[],v=new Uint8Array(s.length).fill(0);for(G=0;G<s.length;G++)if(!v[G]){for(X=G,b=[];(W=h(X))>0;){var V=[d[X],d[f=y(X)]],x=V[0],S=V[1];if(b.length&&x===b[0].ti&&S===b[0].tj||b.length>2*p)break;if(v[X]=1,b.push({ti:x,tj:S,a:W}),(f=s[X])>-1){if(h(f=y(f))>0){X=f;continue}if(h(f=y(f))>0){X=f;continue}}else{for(var L=(r.indexOf(d[X])+1)%r.length;n[r[L]]<i;)L=(L+1)%r.length;for(;n[r[L]]>=i;)b.push({ti:r[L],tj:r[L],a:0}),L=(L+1)%r.length;if(f=a[r[L]],b.push({ti:r[L],tj:d[f],a:m(r[L],d[f])}),h(X=y(f))>0)continue;if(h(X=Z(f))>0)continue}}b.length&&(b.push(b[0]),g.push(b.map((function(t){var n=t.ti,e=t.tj,i=t.a;return c(n,e,i)}))))}return r.every((function(t){return n[t]>=i}))&&g.unshift(Array.from(r).concat([r[0]]).map((function(t){return c(t,t,0)}))),u(g)}}var na=i(Object.freeze({__proto__:null,default:{}})),ea=o((function(t,n){var i;t.exports=(i=i||function(t,n){var i;if("undefined"!=typeof window&&window.crypto&&(i=window.crypto),"undefined"!=typeof self&&self.crypto&&(i=self.crypto),"undefined"!=typeof globalThis&&globalThis.crypto&&(i=globalThis.crypto),!i&&"undefined"!=typeof window&&window.msCrypto&&(i=window.msCrypto),!i&&void 0!==e&&e.crypto&&(i=e.crypto),!i)try{i=na}catch(t){}var o=function(){if(i){if("function"==typeof i.getRandomValues)try{return i.getRandomValues(new Uint32Array(1))[0]}catch(t){}if("function"==typeof i.randomBytes)try{return i.randomBytes(4).readInt32LE()}catch(t){}}throw new Error("Native crypto module could not be used to get secure random number.")},l=Object.create||function(){function t(){}return function(n){var e;return t.prototype=n,e=new t,t.prototype=null,e}}(),s={},r=s.lib={},a=r.Base={extend:function(t){var n=l(this);return t&&n.mixIn(t),n.hasOwnProperty("init")&&this.init!==n.init||(n.init=function(){n.$super.init.apply(this,arguments)}),n.init.prototype=n,n.$super=this,n},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var n in t)t.hasOwnProperty(n)&&(this[n]=t[n]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}},d=r.WordArray=a.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=e!=n?e:4*t.length},toString:function(t){return(t||u).stringify(this)},concat:function(t){var n=this.words,e=t.words,i=this.sigBytes,o=t.sigBytes;if(this.clamp(),i%4)for(var l=0;l<o;l++){var s=e[l>>>2]>>>24-l%4*8&255;n[i+l>>>2]|=s<<24-(i+l)%4*8}else for(var r=0;r<o;r+=4)n[i+r>>>2]=e[r>>>2];return this.sigBytes+=o,this},clamp:function(){var n=this.words,e=this.sigBytes;n[e>>>2]&=4294967295<<32-e%4*8,n.length=t.ceil(e/4)},clone:function(){var t=a.clone.call(this);return t.words=this.words.slice(0),t},random:function(t){for(var n=[],e=0;e<t;e+=4)n.push(o());return new d.init(n,t)}}),c=s.enc={},u=c.Hex={stringify:function(t){for(var n=t.words,e=t.sigBytes,i=[],o=0;o<e;o++){var l=n[o>>>2]>>>24-o%4*8&255;i.push((l>>>4).toString(16)),i.push((15&l).toString(16))}return i.join("")},parse:function(t){for(var n=t.length,e=[],i=0;i<n;i+=2)e[i>>>3]|=parseInt(t.substr(i,2),16)<<24-i%8*4;return new d.init(e,n/2)}},p=c.Latin1={stringify:function(t){for(var n=t.words,e=t.sigBytes,i=[],o=0;o<e;o++){var l=n[o>>>2]>>>24-o%4*8&255;i.push(String.fromCharCode(l))}return i.join("")},parse:function(t){for(var n=t.length,e=[],i=0;i<n;i++)e[i>>>2]|=(255&t.charCodeAt(i))<<24-i%4*8;return new d.init(e,n)}},h=c.Utf8={stringify:function(t){try{return decodeURIComponent(escape(p.stringify(t)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(t){return p.parse(unescape(encodeURIComponent(t)))}},m=r.BufferedBlockAlgorithm=a.extend({reset:function(){this._data=new d.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=h.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(n){var e,i=this._data,o=i.words,l=i.sigBytes,s=this.blockSize,r=l/(4*s),a=(r=n?t.ceil(r):t.max((0|r)-this._minBufferSize,0))*s,c=t.min(4*a,l);if(a){for(var u=0;u<a;u+=s)this._doProcessBlock(o,u);e=o.splice(0,a),i.sigBytes-=c}return new d.init(e,c)},clone:function(){var t=a.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0});r.Hasher=m.extend({cfg:a.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){m.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){return t&&this._append(t),this._doFinalize()},blockSize:16,_createHelper:function(t){return function(n,e){return new t.init(e).finalize(n)}},_createHmacHelper:function(t){return function(n,e){return new b.HMAC.init(t,e).finalize(n)}}});var b=s.algo={};return s}(Math),i)})),ia=o((function(t,n){t.exports=ea.enc.Utf8})),oa=o((function(t,n){var e;t.exports=(e=ea,function(){var t=e,n=t.lib.WordArray;function i(t,e,i){for(var o=[],l=0,s=0;s<e;s++)if(s%4){var r=i[t.charCodeAt(s-1)]<<s%4*2|i[t.charCodeAt(s)]>>>6-s%4*2;o[l>>>2]|=r<<24-l%4*8,l++}return n.create(o,l)}t.enc.Base64={stringify:function(t){var n=t.words,e=t.sigBytes,i=this._map;t.clamp();for(var o=[],l=0;l<e;l+=3)for(var s=(n[l>>>2]>>>24-l%4*8&255)<<16|(n[l+1>>>2]>>>24-(l+1)%4*8&255)<<8|n[l+2>>>2]>>>24-(l+2)%4*8&255,r=0;r<4&&l+.75*r<e;r++)o.push(i.charAt(s>>>6*(3-r)&63));var a=i.charAt(64);if(a)for(;o.length%4;)o.push(a);return o.join("")},parse:function(t){var n=t.length,e=this._map,o=this._reverseMap;if(!o){o=this._reverseMap=[];for(var l=0;l<e.length;l++)o[e.charCodeAt(l)]=l}var s=e.charAt(64);if(s){var r=t.indexOf(s);-1!==r&&(n=r)}return i(t,n,o)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),e.enc.Base64)}));function la(t,n){return!!Io(t)&&(!(!wo(n)&&!tl(n))&&n in t)}var sa="IWZ1bmN0aW9uKHQsZSl7Im9iamVjdCI9PXR5cGVvZiBleHBvcnRzJiYidW5kZWZpbmVkIiE9dHlwZW9mIG1vZHVsZT9lKGV4cG9ydHMpOiJmdW5jdGlvbiI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFsiZXhwb3J0cyJdLGUpOmUoKHQ9InVuZGVmaW5lZCIhPXR5cGVvZiBnbG9iYWxUaGlzP2dsb2JhbFRoaXM6dHx8c2VsZikudHVyZj17fSl9KHRoaXMsKGZ1bmN0aW9uKHQpeyJ1c2Ugc3RyaWN0Ijt2YXIgZT02MzcxMDA4Ljgsbj17Y2VudGltZXRlcnM6NjM3MTAwODgwLGNlbnRpbWV0cmVzOjYzNzEwMDg4MCxkZWdyZWVzOjU3LjIyODkxMzU0MTQzMjc0LGZlZXQ6MjA5MDIyNjAuNTExMzkyLGluY2hlczozOS4zNyplLGtpbG9tZXRlcnM6NjM3MS4wMDg4LGtpbG9tZXRyZXM6NjM3MS4wMDg4LG1ldGVyczplLG1ldHJlczplLG1pbGVzOjM5NTguNzYxMzMzODEwNTQ2LG1pbGxpbWV0ZXJzOjYzNzEwMDg4MDAsbWlsbGltZXRyZXM6NjM3MTAwODgwMCxuYXV0aWNhbG1pbGVzOmUvMTg1MixyYWRpYW5zOjEseWFyZHM6Njk2NzMzNS4yMjM2Nzk5OTl9LHI9e2NlbnRpbWV0ZXJzOjEwMCxjZW50aW1ldHJlczoxMDAsZGVncmVlczoxLzExMTMyNSxmZWV0OjMuMjgwODQsaW5jaGVzOjM5LjM3LGtpbG9tZXRlcnM6LjAwMSxraWxvbWV0cmVzOi4wMDEsbWV0ZXJzOjEsbWV0cmVzOjEsbWlsZXM6MS8xNjA5LjM0NCxtaWxsaW1ldGVyczoxZTMsbWlsbGltZXRyZXM6MWUzLG5hdXRpY2FsbWlsZXM6MS8xODUyLHJhZGlhbnM6MS9lLHlhcmRzOjEuMDkzNjEzM30saT17YWNyZXM6MjQ3MTA1ZS05LGNlbnRpbWV0ZXJzOjFlNCxjZW50aW1ldHJlczoxZTQsZmVldDoxMC43NjM5MTA0MTcsaGVjdGFyZXM6MWUtNCxpbmNoZXM6MTU1MC4wMDMxMDAwMDYsa2lsb21ldGVyczoxZS02LGtpbG9tZXRyZXM6MWUtNixtZXRlcnM6MSxtZXRyZXM6MSxtaWxlczozODZlLTksbWlsbGltZXRlcnM6MWU2LG1pbGxpbWV0cmVzOjFlNix5YXJkczoxLjE5NTk5MDA0Nn07ZnVuY3Rpb24gbyh0LGUsbil7dm9pZCAwPT09biYmKG49e30pO3ZhciByPXt0eXBlOiJGZWF0dXJlIn07cmV0dXJuKDA9PT1uLmlkfHxuLmlkKSYmKHIuaWQ9bi5pZCksbi5iYm94JiYoci5iYm94PW4uYmJveCksci5wcm9wZXJ0aWVzPWV8fHt9LHIuZ2VvbWV0cnk9dCxyfWZ1bmN0aW9uIHModCxlLG4pe3N3aXRjaCh0KXtjYXNlIlBvaW50IjpyZXR1cm4gYShlKS5nZW9tZXRyeTtjYXNlIkxpbmVTdHJpbmciOnJldHVybiBoKGUpLmdlb21ldHJ5O2Nhc2UiUG9seWdvbiI6cmV0dXJuIGwoZSkuZ2VvbWV0cnk7Y2FzZSJNdWx0aVBvaW50IjpyZXR1cm4gZChlKS5nZW9tZXRyeTtjYXNlIk11bHRpTGluZVN0cmluZyI6cmV0dXJuIGcoZSkuZ2VvbWV0cnk7Y2FzZSJNdWx0aVBvbHlnb24iOnJldHVybiB5KGUpLmdlb21ldHJ5O2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKHQrIiBpcyBpbnZhbGlkIil9fWZ1bmN0aW9uIGEodCxlLG4pe2lmKHZvaWQgMD09PW4mJihuPXt9KSwhdCl0aHJvdyBuZXcgRXJyb3IoImNvb3JkaW5hdGVzIGlzIHJlcXVpcmVkIik7aWYoIUFycmF5LmlzQXJyYXkodCkpdGhyb3cgbmV3IEVycm9yKCJjb29yZGluYXRlcyBtdXN0IGJlIGFuIEFycmF5Iik7aWYodC5sZW5ndGg8Mil0aHJvdyBuZXcgRXJyb3IoImNvb3JkaW5hdGVzIG11c3QgYmUgYXQgbGVhc3QgMiBudW1iZXJzIGxvbmciKTtpZighQyh0WzBdKXx8IUModFsxXSkpdGhyb3cgbmV3IEVycm9yKCJjb29yZGluYXRlcyBtdXN0IGNvbnRhaW4gbnVtYmVycyIpO3JldHVybiBvKHt0eXBlOiJQb2ludCIsY29vcmRpbmF0ZXM6dH0sZSxuKX1mdW5jdGlvbiB1KHQsZSxuKXtyZXR1cm4gdm9pZCAwPT09biYmKG49e30pLGYodC5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiBhKHQsZSl9KSksbil9ZnVuY3Rpb24gbCh0LGUsbil7dm9pZCAwPT09biYmKG49e30pO2Zvcih2YXIgcj0wLGk9dDtyPGkubGVuZ3RoO3IrKyl7dmFyIHM9aVtyXTtpZihzLmxlbmd0aDw0KXRocm93IG5ldyBFcnJvcigiRWFjaCBMaW5lYXJSaW5nIG9mIGEgUG9seWdvbiBtdXN0IGhhdmUgNCBvciBtb3JlIFBvc2l0aW9ucy4iKTtmb3IodmFyIGE9MDthPHNbcy5sZW5ndGgtMV0ubGVuZ3RoO2ErKylpZihzW3MubGVuZ3RoLTFdW2FdIT09c1swXVthXSl0aHJvdyBuZXcgRXJyb3IoIkZpcnN0IGFuZCBsYXN0IFBvc2l0aW9uIGFyZSBub3QgZXF1aXZhbGVudC4iKX1yZXR1cm4gbyh7dHlwZToiUG9seWdvbiIsY29vcmRpbmF0ZXM6dH0sZSxuKX1mdW5jdGlvbiBjKHQsZSxuKXtyZXR1cm4gdm9pZCAwPT09biYmKG49e30pLGYodC5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiBsKHQsZSl9KSksbil9ZnVuY3Rpb24gaCh0LGUsbil7aWYodm9pZCAwPT09biYmKG49e30pLHQubGVuZ3RoPDIpdGhyb3cgbmV3IEVycm9yKCJjb29yZGluYXRlcyBtdXN0IGJlIGFuIGFycmF5IG9mIHR3byBvciBtb3JlIHBvc2l0aW9ucyIpO3JldHVybiBvKHt0eXBlOiJMaW5lU3RyaW5nIixjb29yZGluYXRlczp0fSxlLG4pfWZ1bmN0aW9uIHAodCxlLG4pe3JldHVybiB2b2lkIDA9PT1uJiYobj17fSksZih0Lm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIGgodCxlKX0pKSxuKX1mdW5jdGlvbiBmKHQsZSl7dm9pZCAwPT09ZSYmKGU9e30pO3ZhciBuPXt0eXBlOiJGZWF0dXJlQ29sbGVjdGlvbiJ9O3JldHVybiBlLmlkJiYobi5pZD1lLmlkKSxlLmJib3gmJihuLmJib3g9ZS5iYm94KSxuLmZlYXR1cmVzPXQsbn1mdW5jdGlvbiBnKHQsZSxuKXtyZXR1cm4gdm9pZCAwPT09biYmKG49e30pLG8oe3R5cGU6Ik11bHRpTGluZVN0cmluZyIsY29vcmRpbmF0ZXM6dH0sZSxuKX1mdW5jdGlvbiBkKHQsZSxuKXtyZXR1cm4gdm9pZCAwPT09biYmKG49e30pLG8oe3R5cGU6Ik11bHRpUG9pbnQiLGNvb3JkaW5hdGVzOnR9LGUsbil9ZnVuY3Rpb24geSh0LGUsbil7cmV0dXJuIHZvaWQgMD09PW4mJihuPXt9KSxvKHt0eXBlOiJNdWx0aVBvbHlnb24iLGNvb3JkaW5hdGVzOnR9LGUsbil9ZnVuY3Rpb24gdih0LGUsbil7cmV0dXJuIHZvaWQgMD09PW4mJihuPXt9KSxvKHt0eXBlOiJHZW9tZXRyeUNvbGxlY3Rpb24iLGdlb21ldHJpZXM6dH0sZSxuKX1mdW5jdGlvbiBfKHQsZSl7aWYodm9pZCAwPT09ZSYmKGU9MCksZSYmIShlPj0wKSl0aHJvdyBuZXcgRXJyb3IoInByZWNpc2lvbiBtdXN0IGJlIGEgcG9zaXRpdmUgbnVtYmVyIik7dmFyIG49TWF0aC5wb3coMTAsZXx8MCk7cmV0dXJuIE1hdGgucm91bmQodCpuKS9ufWZ1bmN0aW9uIG0odCxlKXt2b2lkIDA9PT1lJiYoZT0ia2lsb21ldGVycyIpO3ZhciByPW5bZV07aWYoIXIpdGhyb3cgbmV3IEVycm9yKGUrIiB1bml0cyBpcyBpbnZhbGlkIik7cmV0dXJuIHQqcn1mdW5jdGlvbiB4KHQsZSl7dm9pZCAwPT09ZSYmKGU9ImtpbG9tZXRlcnMiKTt2YXIgcj1uW2VdO2lmKCFyKXRocm93IG5ldyBFcnJvcihlKyIgdW5pdHMgaXMgaW52YWxpZCIpO3JldHVybiB0L3J9ZnVuY3Rpb24gRSh0LGUpe3JldHVybiB3KHgodCxlKSl9ZnVuY3Rpb24gYih0KXt2YXIgZT10JTM2MDtyZXR1cm4gZTwwJiYoZSs9MzYwKSxlfWZ1bmN0aW9uIHcodCl7cmV0dXJuIDE4MCoodCUoMipNYXRoLlBJKSkvTWF0aC5QSX1mdW5jdGlvbiBJKHQpe3JldHVybiB0JTM2MCpNYXRoLlBJLzE4MH1mdW5jdGlvbiBOKHQsZSxuKXtpZih2b2lkIDA9PT1lJiYoZT0ia2lsb21ldGVycyIpLHZvaWQgMD09PW4mJihuPSJraWxvbWV0ZXJzIiksISh0Pj0wKSl0aHJvdyBuZXcgRXJyb3IoImxlbmd0aCBtdXN0IGJlIGEgcG9zaXRpdmUgbnVtYmVyIik7cmV0dXJuIG0oeCh0LGUpLG4pfWZ1bmN0aW9uIFModCxlLG4pe2lmKHZvaWQgMD09PWUmJihlPSJtZXRlcnMiKSx2b2lkIDA9PT1uJiYobj0ia2lsb21ldGVycyIpLCEodD49MCkpdGhyb3cgbmV3IEVycm9yKCJhcmVhIG11c3QgYmUgYSBwb3NpdGl2ZSBudW1iZXIiKTt2YXIgcj1pW2VdO2lmKCFyKXRocm93IG5ldyBFcnJvcigiaW52YWxpZCBvcmlnaW5hbCB1bml0cyIpO3ZhciBvPWlbbl07aWYoIW8pdGhyb3cgbmV3IEVycm9yKCJpbnZhbGlkIGZpbmFsIHVuaXRzIik7cmV0dXJuIHQvcipvfWZ1bmN0aW9uIEModCl7cmV0dXJuIWlzTmFOKHQpJiZudWxsIT09dCYmIUFycmF5LmlzQXJyYXkodCl9ZnVuY3Rpb24gUCh0KXtyZXR1cm4hIXQmJnQuY29uc3RydWN0b3I9PT1PYmplY3R9ZnVuY3Rpb24gTSh0KXtpZighdCl0aHJvdyBuZXcgRXJyb3IoImJib3ggaXMgcmVxdWlyZWQiKTtpZighQXJyYXkuaXNBcnJheSh0KSl0aHJvdyBuZXcgRXJyb3IoImJib3ggbXVzdCBiZSBhbiBBcnJheSIpO2lmKDQhPT10Lmxlbmd0aCYmNiE9PXQubGVuZ3RoKXRocm93IG5ldyBFcnJvcigiYmJveCBtdXN0IGJlIGFuIEFycmF5IG9mIDQgb3IgNiBudW1iZXJzIik7dC5mb3JFYWNoKChmdW5jdGlvbih0KXtpZighQyh0KSl0aHJvdyBuZXcgRXJyb3IoImJib3ggbXVzdCBvbmx5IGNvbnRhaW4gbnVtYmVycyIpfSkpfWZ1bmN0aW9uIEwodCl7aWYoIXQpdGhyb3cgbmV3IEVycm9yKCJpZCBpcyByZXF1aXJlZCIpO2lmKC0xPT09WyJzdHJpbmciLCJudW1iZXIiXS5pbmRleE9mKHR5cGVvZiB0KSl0aHJvdyBuZXcgRXJyb3IoImlkIG11c3QgYmUgYSBudW1iZXIgb3IgYSBzdHJpbmciKX12YXIgTz1PYmplY3QuZnJlZXplKHtfX3Byb3RvX186bnVsbCxlYXJ0aFJhZGl1czplLGZhY3RvcnM6bix1bml0c0ZhY3RvcnM6cixhcmVhRmFjdG9yczppLGZlYXR1cmU6byxnZW9tZXRyeTpzLHBvaW50OmEscG9pbnRzOnUscG9seWdvbjpsLHBvbHlnb25zOmMsbGluZVN0cmluZzpoLGxpbmVTdHJpbmdzOnAsZmVhdHVyZUNvbGxlY3Rpb246ZixtdWx0aUxpbmVTdHJpbmc6ZyxtdWx0aVBvaW50OmQsbXVsdGlQb2x5Z29uOnksZ2VvbWV0cnlDb2xsZWN0aW9uOnYscm91bmQ6XyxyYWRpYW5zVG9MZW5ndGg6bSxsZW5ndGhUb1JhZGlhbnM6eCxsZW5ndGhUb0RlZ3JlZXM6RSxiZWFyaW5nVG9BemltdXRoOmIscmFkaWFuc1RvRGVncmVlczp3LGRlZ3JlZXNUb1JhZGlhbnM6SSxjb252ZXJ0TGVuZ3RoOk4sY29udmVydEFyZWE6Uyxpc051bWJlcjpDLGlzT2JqZWN0OlAsdmFsaWRhdGVCQm94Ok0sdmFsaWRhdGVJZDpMfSk7ZnVuY3Rpb24gUih0LGUsbil7aWYobnVsbCE9PXQpZm9yKHZhciByLGksbyxzLGEsdSxsLGMsaD0wLHA9MCxmPXQudHlwZSxnPSJGZWF0dXJlQ29sbGVjdGlvbiI9PT1mLGQ9IkZlYXR1cmUiPT09Zix5PWc/dC5mZWF0dXJlcy5sZW5ndGg6MSx2PTA7djx5O3YrKyl7YT0oYz0hIShsPWc/dC5mZWF0dXJlc1t2XS5nZW9tZXRyeTpkP3QuZ2VvbWV0cnk6dCkmJiJHZW9tZXRyeUNvbGxlY3Rpb24iPT09bC50eXBlKT9sLmdlb21ldHJpZXMubGVuZ3RoOjE7Zm9yKHZhciBfPTA7XzxhO18rKyl7dmFyIG09MCx4PTA7aWYobnVsbCE9PShzPWM/bC5nZW9tZXRyaWVzW19dOmwpKXt1PXMuY29vcmRpbmF0ZXM7dmFyIEU9cy50eXBlO3N3aXRjaChoPSFufHwiUG9seWdvbiIhPT1FJiYiTXVsdGlQb2x5Z29uIiE9PUU/MDoxLEUpe2Nhc2UgbnVsbDpicmVhaztjYXNlIlBvaW50IjppZighMT09PWUodSxwLHYsbSx4KSlyZXR1cm4hMTtwKyssbSsrO2JyZWFrO2Nhc2UiTGluZVN0cmluZyI6Y2FzZSJNdWx0aVBvaW50Ijpmb3Iocj0wO3I8dS5sZW5ndGg7cisrKXtpZighMT09PWUodVtyXSxwLHYsbSx4KSlyZXR1cm4hMTtwKyssIk11bHRpUG9pbnQiPT09RSYmbSsrfSJMaW5lU3RyaW5nIj09PUUmJm0rKzticmVhaztjYXNlIlBvbHlnb24iOmNhc2UiTXVsdGlMaW5lU3RyaW5nIjpmb3Iocj0wO3I8dS5sZW5ndGg7cisrKXtmb3IoaT0wO2k8dVtyXS5sZW5ndGgtaDtpKyspe2lmKCExPT09ZSh1W3JdW2ldLHAsdixtLHgpKXJldHVybiExO3ArK30iTXVsdGlMaW5lU3RyaW5nIj09PUUmJm0rKywiUG9seWdvbiI9PT1FJiZ4Kyt9IlBvbHlnb24iPT09RSYmbSsrO2JyZWFrO2Nhc2UiTXVsdGlQb2x5Z29uIjpmb3Iocj0wO3I8dS5sZW5ndGg7cisrKXtmb3IoeD0wLGk9MDtpPHVbcl0ubGVuZ3RoO2krKyl7Zm9yKG89MDtvPHVbcl1baV0ubGVuZ3RoLWg7bysrKXtpZighMT09PWUodVtyXVtpXVtvXSxwLHYsbSx4KSlyZXR1cm4hMTtwKyt9eCsrfW0rK31icmVhaztjYXNlIkdlb21ldHJ5Q29sbGVjdGlvbiI6Zm9yKHI9MDtyPHMuZ2VvbWV0cmllcy5sZW5ndGg7cisrKWlmKCExPT09UihzLmdlb21ldHJpZXNbcl0sZSxuKSlyZXR1cm4hMTticmVhaztkZWZhdWx0OnRocm93IG5ldyBFcnJvcigiVW5rbm93biBHZW9tZXRyeSBUeXBlIil9fX19fWZ1bmN0aW9uIFQodCxlLG4scil7dmFyIGk9bjtyZXR1cm4gUih0LChmdW5jdGlvbih0LHIsbyxzLGEpe2k9MD09PXImJnZvaWQgMD09PW4/dDplKGksdCxyLG8scyxhKX0pLHIpLGl9ZnVuY3Rpb24gQSh0LGUpe3ZhciBuO3N3aXRjaCh0LnR5cGUpe2Nhc2UiRmVhdHVyZUNvbGxlY3Rpb24iOmZvcihuPTA7bjx0LmZlYXR1cmVzLmxlbmd0aCYmITEhPT1lKHQuZmVhdHVyZXNbbl0ucHJvcGVydGllcyxuKTtuKyspO2JyZWFrO2Nhc2UiRmVhdHVyZSI6ZSh0LnByb3BlcnRpZXMsMCl9fWZ1bmN0aW9uIEQodCxlLG4pe3ZhciByPW47cmV0dXJuIEEodCwoZnVuY3Rpb24odCxpKXtyPTA9PT1pJiZ2b2lkIDA9PT1uP3Q6ZShyLHQsaSl9KSkscn1mdW5jdGlvbiBGKHQsZSl7aWYoIkZlYXR1cmUiPT09dC50eXBlKWUodCwwKTtlbHNlIGlmKCJGZWF0dXJlQ29sbGVjdGlvbiI9PT10LnR5cGUpZm9yKHZhciBuPTA7bjx0LmZlYXR1cmVzLmxlbmd0aCYmITEhPT1lKHQuZmVhdHVyZXNbbl0sbik7bisrKTt9ZnVuY3Rpb24gayh0LGUsbil7dmFyIHI9bjtyZXR1cm4gRih0LChmdW5jdGlvbih0LGkpe3I9MD09PWkmJnZvaWQgMD09PW4/dDplKHIsdCxpKX0pKSxyfWZ1bmN0aW9uIEcodCl7dmFyIGU9W107cmV0dXJuIFIodCwoZnVuY3Rpb24odCl7ZS5wdXNoKHQpfSkpLGV9ZnVuY3Rpb24gcSh0LGUpe3ZhciBuLHIsaSxvLHMsYSx1LGwsYyxoLHA9MCxmPSJGZWF0dXJlQ29sbGVjdGlvbiI9PT10LnR5cGUsZz0iRmVhdHVyZSI9PT10LnR5cGUsZD1mP3QuZmVhdHVyZXMubGVuZ3RoOjE7Zm9yKG49MDtuPGQ7bisrKXtmb3IoYT1mP3QuZmVhdHVyZXNbbl0uZ2VvbWV0cnk6Zz90Lmdlb21ldHJ5OnQsbD1mP3QuZmVhdHVyZXNbbl0ucHJvcGVydGllczpnP3QucHJvcGVydGllczp7fSxjPWY/dC5mZWF0dXJlc1tuXS5iYm94Omc/dC5iYm94OnZvaWQgMCxoPWY/dC5mZWF0dXJlc1tuXS5pZDpnP3QuaWQ6dm9pZCAwLHM9KHU9ISFhJiYiR2VvbWV0cnlDb2xsZWN0aW9uIj09PWEudHlwZSk/YS5nZW9tZXRyaWVzLmxlbmd0aDoxLGk9MDtpPHM7aSsrKWlmKG51bGwhPT0obz11P2EuZ2VvbWV0cmllc1tpXTphKSlzd2l0Y2goby50eXBlKXtjYXNlIlBvaW50IjpjYXNlIkxpbmVTdHJpbmciOmNhc2UiTXVsdGlQb2ludCI6Y2FzZSJQb2x5Z29uIjpjYXNlIk11bHRpTGluZVN0cmluZyI6Y2FzZSJNdWx0aVBvbHlnb24iOmlmKCExPT09ZShvLHAsbCxjLGgpKXJldHVybiExO2JyZWFrO2Nhc2UiR2VvbWV0cnlDb2xsZWN0aW9uIjpmb3Iocj0wO3I8by5nZW9tZXRyaWVzLmxlbmd0aDtyKyspaWYoITE9PT1lKG8uZ2VvbWV0cmllc1tyXSxwLGwsYyxoKSlyZXR1cm4hMTticmVhaztkZWZhdWx0OnRocm93IG5ldyBFcnJvcigiVW5rbm93biBHZW9tZXRyeSBUeXBlIil9ZWxzZSBpZighMT09PWUobnVsbCxwLGwsYyxoKSlyZXR1cm4hMTtwKyt9fWZ1bmN0aW9uIEIodCxlLG4pe3ZhciByPW47cmV0dXJuIHEodCwoZnVuY3Rpb24odCxpLG8scyxhKXtyPTA9PT1pJiZ2b2lkIDA9PT1uP3Q6ZShyLHQsaSxvLHMsYSl9KSkscn1mdW5jdGlvbiB6KHQsZSl7cSh0LChmdW5jdGlvbih0LG4scixpLHMpe3ZhciBhLHU9bnVsbD09PXQ/bnVsbDp0LnR5cGU7c3dpdGNoKHUpe2Nhc2UgbnVsbDpjYXNlIlBvaW50IjpjYXNlIkxpbmVTdHJpbmciOmNhc2UiUG9seWdvbiI6cmV0dXJuITEhPT1lKG8odCxyLHtiYm94OmksaWQ6c30pLG4sMCkmJnZvaWQgMH1zd2l0Y2godSl7Y2FzZSJNdWx0aVBvaW50IjphPSJQb2ludCI7YnJlYWs7Y2FzZSJNdWx0aUxpbmVTdHJpbmciOmE9IkxpbmVTdHJpbmciO2JyZWFrO2Nhc2UiTXVsdGlQb2x5Z29uIjphPSJQb2x5Z29uIn1mb3IodmFyIGw9MDtsPHQuY29vcmRpbmF0ZXMubGVuZ3RoO2wrKyl7dmFyIGM9dC5jb29yZGluYXRlc1tsXTtpZighMT09PWUobyh7dHlwZTphLGNvb3JkaW5hdGVzOmN9LHIpLG4sbCkpcmV0dXJuITF9fSkpfWZ1bmN0aW9uIGoodCxlLG4pe3ZhciByPW47cmV0dXJuIHoodCwoZnVuY3Rpb24odCxpLG8pe3I9MD09PWkmJjA9PT1vJiZ2b2lkIDA9PT1uP3Q6ZShyLHQsaSxvKX0pKSxyfWZ1bmN0aW9uIFUodCxlKXt6KHQsKGZ1bmN0aW9uKHQsbixyKXt2YXIgaT0wO2lmKHQuZ2VvbWV0cnkpe3ZhciBvPXQuZ2VvbWV0cnkudHlwZTtpZigiUG9pbnQiIT09byYmIk11bHRpUG9pbnQiIT09byl7dmFyIHMsYT0wLHU9MCxsPTA7cmV0dXJuITEhPT1SKHQsKGZ1bmN0aW9uKG8sYyxwLGYsZyl7aWYodm9pZCAwPT09c3x8bj5hfHxmPnV8fGc+bClyZXR1cm4gcz1vLGE9bix1PWYsbD1nLHZvaWQoaT0wKTt2YXIgZD1oKFtzLG9dLHQucHJvcGVydGllcyk7aWYoITE9PT1lKGQsbixyLGcsaSkpcmV0dXJuITE7aSsrLHM9b30pKSYmdm9pZCAwfX19KSl9ZnVuY3Rpb24gVih0LGUsbil7dmFyIHI9bixpPSExO3JldHVybiBVKHQsKGZ1bmN0aW9uKHQsbyxzLGEsdSl7cj0hMT09PWkmJnZvaWQgMD09PW4/dDplKHIsdCxvLHMsYSx1KSxpPSEwfSkpLHJ9ZnVuY3Rpb24gWCh0LGUpe2lmKCF0KXRocm93IG5ldyBFcnJvcigiZ2VvanNvbiBpcyByZXF1aXJlZCIpO3oodCwoZnVuY3Rpb24odCxuLHIpe2lmKG51bGwhPT10Lmdlb21ldHJ5KXt2YXIgaT10Lmdlb21ldHJ5LnR5cGUsbz10Lmdlb21ldHJ5LmNvb3JkaW5hdGVzO3N3aXRjaChpKXtjYXNlIkxpbmVTdHJpbmciOmlmKCExPT09ZSh0LG4sciwwLDApKXJldHVybiExO2JyZWFrO2Nhc2UiUG9seWdvbiI6Zm9yKHZhciBzPTA7czxvLmxlbmd0aDtzKyspaWYoITE9PT1lKGgob1tzXSx0LnByb3BlcnRpZXMpLG4scixzKSlyZXR1cm4hMX19fSkpfWZ1bmN0aW9uIFkodCxlLG4pe3ZhciByPW47cmV0dXJuIFgodCwoZnVuY3Rpb24odCxpLG8scyl7cj0wPT09aSYmdm9pZCAwPT09bj90OmUocix0LGksbyxzKX0pKSxyfWZ1bmN0aW9uIEgodCxlKXtpZighUChlPWV8fHt9KSl0aHJvdyBuZXcgRXJyb3IoIm9wdGlvbnMgaXMgaW52YWxpZCIpO3ZhciBuLHI9ZS5mZWF0dXJlSW5kZXh8fDAsaT1lLm11bHRpRmVhdHVyZUluZGV4fHwwLG89ZS5nZW9tZXRyeUluZGV4fHwwLHM9ZS5zZWdtZW50SW5kZXh8fDAsYT1lLnByb3BlcnRpZXM7c3dpdGNoKHQudHlwZSl7Y2FzZSJGZWF0dXJlQ29sbGVjdGlvbiI6cjwwJiYocj10LmZlYXR1cmVzLmxlbmd0aCtyKSxhPWF8fHQuZmVhdHVyZXNbcl0ucHJvcGVydGllcyxuPXQuZmVhdHVyZXNbcl0uZ2VvbWV0cnk7YnJlYWs7Y2FzZSJGZWF0dXJlIjphPWF8fHQucHJvcGVydGllcyxuPXQuZ2VvbWV0cnk7YnJlYWs7Y2FzZSJQb2ludCI6Y2FzZSJNdWx0aVBvaW50IjpyZXR1cm4gbnVsbDtjYXNlIkxpbmVTdHJpbmciOmNhc2UiUG9seWdvbiI6Y2FzZSJNdWx0aUxpbmVTdHJpbmciOmNhc2UiTXVsdGlQb2x5Z29uIjpuPXQ7YnJlYWs7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoImdlb2pzb24gaXMgaW52YWxpZCIpfWlmKG51bGw9PT1uKXJldHVybiBudWxsO3ZhciB1PW4uY29vcmRpbmF0ZXM7c3dpdGNoKG4udHlwZSl7Y2FzZSJQb2ludCI6Y2FzZSJNdWx0aVBvaW50IjpyZXR1cm4gbnVsbDtjYXNlIkxpbmVTdHJpbmciOnJldHVybiBzPDAmJihzPXUubGVuZ3RoK3MtMSksaChbdVtzXSx1W3MrMV1dLGEsZSk7Y2FzZSJQb2x5Z29uIjpyZXR1cm4gbzwwJiYobz11Lmxlbmd0aCtvKSxzPDAmJihzPXVbb10ubGVuZ3RoK3MtMSksaChbdVtvXVtzXSx1W29dW3MrMV1dLGEsZSk7Y2FzZSJNdWx0aUxpbmVTdHJpbmciOnJldHVybiBpPDAmJihpPXUubGVuZ3RoK2kpLHM8MCYmKHM9dVtpXS5sZW5ndGgrcy0xKSxoKFt1W2ldW3NdLHVbaV1bcysxXV0sYSxlKTtjYXNlIk11bHRpUG9seWdvbiI6cmV0dXJuIGk8MCYmKGk9dS5sZW5ndGgraSksbzwwJiYobz11W2ldLmxlbmd0aCtvKSxzPDAmJihzPXVbaV1bb10ubGVuZ3RoLXMtMSksaChbdVtpXVtvXVtzXSx1W2ldW29dW3MrMV1dLGEsZSl9dGhyb3cgbmV3IEVycm9yKCJnZW9qc29uIGlzIGludmFsaWQiKX1mdW5jdGlvbiBXKHQsZSl7aWYoIVAoZT1lfHx7fSkpdGhyb3cgbmV3IEVycm9yKCJvcHRpb25zIGlzIGludmFsaWQiKTt2YXIgbixyPWUuZmVhdHVyZUluZGV4fHwwLGk9ZS5tdWx0aUZlYXR1cmVJbmRleHx8MCxvPWUuZ2VvbWV0cnlJbmRleHx8MCxzPWUuY29vcmRJbmRleHx8MCx1PWUucHJvcGVydGllcztzd2l0Y2godC50eXBlKXtjYXNlIkZlYXR1cmVDb2xsZWN0aW9uIjpyPDAmJihyPXQuZmVhdHVyZXMubGVuZ3RoK3IpLHU9dXx8dC5mZWF0dXJlc1tyXS5wcm9wZXJ0aWVzLG49dC5mZWF0dXJlc1tyXS5nZW9tZXRyeTticmVhaztjYXNlIkZlYXR1cmUiOnU9dXx8dC5wcm9wZXJ0aWVzLG49dC5nZW9tZXRyeTticmVhaztjYXNlIlBvaW50IjpjYXNlIk11bHRpUG9pbnQiOnJldHVybiBudWxsO2Nhc2UiTGluZVN0cmluZyI6Y2FzZSJQb2x5Z29uIjpjYXNlIk11bHRpTGluZVN0cmluZyI6Y2FzZSJNdWx0aVBvbHlnb24iOm49dDticmVhaztkZWZhdWx0OnRocm93IG5ldyBFcnJvcigiZ2VvanNvbiBpcyBpbnZhbGlkIil9aWYobnVsbD09PW4pcmV0dXJuIG51bGw7dmFyIGw9bi5jb29yZGluYXRlcztzd2l0Y2gobi50eXBlKXtjYXNlIlBvaW50IjpyZXR1cm4gYShsLHUsZSk7Y2FzZSJNdWx0aVBvaW50IjpyZXR1cm4gaTwwJiYoaT1sLmxlbmd0aCtpKSxhKGxbaV0sdSxlKTtjYXNlIkxpbmVTdHJpbmciOnJldHVybiBzPDAmJihzPWwubGVuZ3RoK3MpLGEobFtzXSx1LGUpO2Nhc2UiUG9seWdvbiI6cmV0dXJuIG88MCYmKG89bC5sZW5ndGgrbyksczwwJiYocz1sW29dLmxlbmd0aCtzKSxhKGxbb11bc10sdSxlKTtjYXNlIk11bHRpTGluZVN0cmluZyI6cmV0dXJuIGk8MCYmKGk9bC5sZW5ndGgraSksczwwJiYocz1sW2ldLmxlbmd0aCtzKSxhKGxbaV1bc10sdSxlKTtjYXNlIk11bHRpUG9seWdvbiI6cmV0dXJuIGk8MCYmKGk9bC5sZW5ndGgraSksbzwwJiYobz1sW2ldLmxlbmd0aCtvKSxzPDAmJihzPWxbaV1bb10ubGVuZ3RoLXMpLGEobFtpXVtvXVtzXSx1LGUpfXRocm93IG5ldyBFcnJvcigiZ2VvanNvbiBpcyBpbnZhbGlkIil9dmFyIEo9T2JqZWN0LmZyZWV6ZSh7X19wcm90b19fOm51bGwsY29vcmRBbGw6Ryxjb29yZEVhY2g6Uixjb29yZFJlZHVjZTpULGZlYXR1cmVFYWNoOkYsZmVhdHVyZVJlZHVjZTprLGZpbmRQb2ludDpXLGZpbmRTZWdtZW50OkgsZmxhdHRlbkVhY2g6eixmbGF0dGVuUmVkdWNlOmosZ2VvbUVhY2g6cSxnZW9tUmVkdWNlOkIsbGluZUVhY2g6WCxsaW5lUmVkdWNlOlkscHJvcEVhY2g6QSxwcm9wUmVkdWNlOkQsc2VnbWVudEVhY2g6VSxzZWdtZW50UmVkdWNlOlZ9KTtmdW5jdGlvbiBaKHQpe3ZhciBlPVsxLzAsMS8wLC0xLzAsLTEvMF07cmV0dXJuIFIodCwoZnVuY3Rpb24odCl7ZVswXT50WzBdJiYoZVswXT10WzBdKSxlWzFdPnRbMV0mJihlWzFdPXRbMV0pLGVbMl08dFswXSYmKGVbMl09dFswXSksZVszXTx0WzFdJiYoZVszXT10WzFdKX0pKSxlfWZ1bmN0aW9uIEsodCl7aWYoIXQpdGhyb3cgbmV3IEVycm9yKCJjb29yZCBpcyByZXF1aXJlZCIpO2lmKCFBcnJheS5pc0FycmF5KHQpKXtpZigiRmVhdHVyZSI9PT10LnR5cGUmJm51bGwhPT10Lmdlb21ldHJ5JiYiUG9pbnQiPT09dC5nZW9tZXRyeS50eXBlKXJldHVybiB0Lmdlb21ldHJ5LmNvb3JkaW5hdGVzO2lmKCJQb2ludCI9PT10LnR5cGUpcmV0dXJuIHQuY29vcmRpbmF0ZXN9aWYoQXJyYXkuaXNBcnJheSh0KSYmdC5sZW5ndGg+PTImJiFBcnJheS5pc0FycmF5KHRbMF0pJiYhQXJyYXkuaXNBcnJheSh0WzFdKSlyZXR1cm4gdDt0aHJvdyBuZXcgRXJyb3IoImNvb3JkIG11c3QgYmUgR2VvSlNPTiBQb2ludCBvciBhbiBBcnJheSBvZiBudW1iZXJzIil9ZnVuY3Rpb24gUSh0KXtpZihBcnJheS5pc0FycmF5KHQpKXJldHVybiB0O2lmKCJGZWF0dXJlIj09PXQudHlwZSl7aWYobnVsbCE9PXQuZ2VvbWV0cnkpcmV0dXJuIHQuZ2VvbWV0cnkuY29vcmRpbmF0ZXN9ZWxzZSBpZih0LmNvb3JkaW5hdGVzKXJldHVybiB0LmNvb3JkaW5hdGVzO3Rocm93IG5ldyBFcnJvcigiY29vcmRzIG11c3QgYmUgR2VvSlNPTiBGZWF0dXJlLCBHZW9tZXRyeSBPYmplY3Qgb3IgYW4gQXJyYXkiKX1mdW5jdGlvbiAkKHQpe2lmKHQubGVuZ3RoPjEmJkModFswXSkmJkModFsxXSkpcmV0dXJuITA7aWYoQXJyYXkuaXNBcnJheSh0WzBdKSYmdFswXS5sZW5ndGgpcmV0dXJuICQodFswXSk7dGhyb3cgbmV3IEVycm9yKCJjb29yZGluYXRlcyBtdXN0IG9ubHkgY29udGFpbiBudW1iZXJzIil9ZnVuY3Rpb24gdHQodCxlLG4pe2lmKCFlfHwhbil0aHJvdyBuZXcgRXJyb3IoInR5cGUgYW5kIG5hbWUgcmVxdWlyZWQiKTtpZighdHx8dC50eXBlIT09ZSl0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgaW5wdXQgdG8gIituKyI6IG11c3QgYmUgYSAiK2UrIiwgZ2l2ZW4gIit0LnR5cGUpfWZ1bmN0aW9uIGV0KHQsZSxuKXtpZighdCl0aHJvdyBuZXcgRXJyb3IoIk5vIGZlYXR1cmUgcGFzc2VkIik7aWYoIW4pdGhyb3cgbmV3IEVycm9yKCIuZmVhdHVyZU9mKCkgcmVxdWlyZXMgYSBuYW1lIik7aWYoIXR8fCJGZWF0dXJlIiE9PXQudHlwZXx8IXQuZ2VvbWV0cnkpdGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkIGlucHV0IHRvICIrbisiLCBGZWF0dXJlIHdpdGggZ2VvbWV0cnkgcmVxdWlyZWQiKTtpZighdC5nZW9tZXRyeXx8dC5nZW9tZXRyeS50eXBlIT09ZSl0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgaW5wdXQgdG8gIituKyI6IG11c3QgYmUgYSAiK2UrIiwgZ2l2ZW4gIit0Lmdlb21ldHJ5LnR5cGUpfWZ1bmN0aW9uIG50KHQsZSxuKXtpZighdCl0aHJvdyBuZXcgRXJyb3IoIk5vIGZlYXR1cmVDb2xsZWN0aW9uIHBhc3NlZCIpO2lmKCFuKXRocm93IG5ldyBFcnJvcigiLmNvbGxlY3Rpb25PZigpIHJlcXVpcmVzIGEgbmFtZSIpO2lmKCF0fHwiRmVhdHVyZUNvbGxlY3Rpb24iIT09dC50eXBlKXRocm93IG5ldyBFcnJvcigiSW52YWxpZCBpbnB1dCB0byAiK24rIiwgRmVhdHVyZUNvbGxlY3Rpb24gcmVxdWlyZWQiKTtmb3IodmFyIHI9MCxpPXQuZmVhdHVyZXM7cjxpLmxlbmd0aDtyKyspe3ZhciBvPWlbcl07aWYoIW98fCJGZWF0dXJlIiE9PW8udHlwZXx8IW8uZ2VvbWV0cnkpdGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkIGlucHV0IHRvICIrbisiLCBGZWF0dXJlIHdpdGggZ2VvbWV0cnkgcmVxdWlyZWQiKTtpZighby5nZW9tZXRyeXx8by5nZW9tZXRyeS50eXBlIT09ZSl0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgaW5wdXQgdG8gIituKyI6IG11c3QgYmUgYSAiK2UrIiwgZ2l2ZW4gIitvLmdlb21ldHJ5LnR5cGUpfX1mdW5jdGlvbiBydCh0KXtyZXR1cm4iRmVhdHVyZSI9PT10LnR5cGU/dC5nZW9tZXRyeTp0fWZ1bmN0aW9uIGl0KHQsZSl7cmV0dXJuIkZlYXR1cmVDb2xsZWN0aW9uIj09PXQudHlwZT8iRmVhdHVyZUNvbGxlY3Rpb24iOiJHZW9tZXRyeUNvbGxlY3Rpb24iPT09dC50eXBlPyJHZW9tZXRyeUNvbGxlY3Rpb24iOiJGZWF0dXJlIj09PXQudHlwZSYmbnVsbCE9PXQuZ2VvbWV0cnk/dC5nZW9tZXRyeS50eXBlOnQudHlwZX1aLmRlZmF1bHQ9Wjt2YXIgb3Q9T2JqZWN0LmZyZWV6ZSh7X19wcm90b19fOm51bGwsZ2V0Q29vcmQ6SyxnZXRDb29yZHM6USxjb250YWluc051bWJlcjokLGdlb2pzb25UeXBlOnR0LGZlYXR1cmVPZjpldCxjb2xsZWN0aW9uT2Y6bnQsZ2V0R2VvbTpydCxnZXRUeXBlOml0fSksc3Q9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyxhdD1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LHV0PU9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGU7Ci8qCiAgICBvYmplY3QtYXNzaWduCiAgICAoYykgU2luZHJlIFNvcmh1cwogICAgQGxpY2Vuc2UgTUlUCiAgICAqL2Z1bmN0aW9uIGx0KHQpe2lmKG51bGw9PXQpdGhyb3cgbmV3IFR5cGVFcnJvcigiT2JqZWN0LmFzc2lnbiBjYW5ub3QgYmUgY2FsbGVkIHdpdGggbnVsbCBvciB1bmRlZmluZWQiKTtyZXR1cm4gT2JqZWN0KHQpfXZhciBjdD1mdW5jdGlvbigpe3RyeXtpZighT2JqZWN0LmFzc2lnbilyZXR1cm4hMTt2YXIgdD1uZXcgU3RyaW5nKCJhYmMiKTtpZih0WzVdPSJkZSIsIjUiPT09T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModClbMF0pcmV0dXJuITE7Zm9yKHZhciBlPXt9LG49MDtuPDEwO24rKyllWyJfIitTdHJpbmcuZnJvbUNoYXJDb2RlKG4pXT1uO2lmKCIwMTIzNDU2Nzg5IiE9PU9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGUpLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIGVbdF19KSkuam9pbigiIikpcmV0dXJuITE7dmFyIHI9e307cmV0dXJuImFiY2RlZmdoaWprbG1ub3BxcnN0Ii5zcGxpdCgiIikuZm9yRWFjaCgoZnVuY3Rpb24odCl7clt0XT10fSkpLCJhYmNkZWZnaGlqa2xtbm9wcXJzdCI9PT1PYmplY3Qua2V5cyhPYmplY3QuYXNzaWduKHt9LHIpKS5qb2luKCIiKX1jYXRjaCh0KXtyZXR1cm4hMX19KCk/T2JqZWN0LmFzc2lnbjpmdW5jdGlvbih0LGUpe2Zvcih2YXIgbixyLGk9bHQodCksbz0xO288YXJndW1lbnRzLmxlbmd0aDtvKyspe2Zvcih2YXIgcyBpbiBuPU9iamVjdChhcmd1bWVudHNbb10pKWF0LmNhbGwobixzKSYmKGlbc109bltzXSk7aWYoc3Qpe3I9c3Qobik7Zm9yKHZhciBhPTA7YTxyLmxlbmd0aDthKyspdXQuY2FsbChuLHJbYV0pJiYoaVtyW2FdXT1uW3JbYV1dKX19cmV0dXJuIGl9LGh0PXtzdWNjZXNzQ2FsbGJhY2s6bnVsbCx2ZXJib3NlOiExfSxwdD17fTsKLyoqCiAgICAgKiBAbGljZW5zZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UuCiAgICAgKiBDb3B5cmlnaHQgKGMpIDIwMTUsIDIwMTUgUm9ubnkgTG9yZW56IDxyb25ueUB0YmkudW5pdmllLmFjLmF0PgogICAgICogdi4gMS4yLjAKICAgICAqIGh0dHBzOi8vZ2l0aHViLmNvbS9SYXVtWmVpdC9NYXJjaGluZ1NxdWFyZXMuanMKICAgICAqCiAgICAgKiBNYXJjaGluZ1NxdWFyZXNKUyBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5CiAgICAgKiBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnkKICAgICAqIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yCiAgICAgKiAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLgogICAgICoKICAgICAqIE1hcmNoaW5nU3F1YXJlc0pTIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsCiAgICAgKiBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZgogICAgICogTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZQogICAgICogR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuCiAgICAgKgogICAgICogQXMgYWRkaXRpb25hbCBwZXJtaXNzaW9uIHVuZGVyIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSB2ZXJzaW9uIDMKICAgICAqIHNlY3Rpb24gNywgdGhpcmQtcGFydHkgcHJvamVjdHMgKHBlcnNvbmFsIG9yIGNvbW1lcmNpYWwpIG1heSBkaXN0cmlidXRlLAogICAgICogaW5jbHVkZSwgb3IgbGluayBhZ2FpbnN0IFVOTU9ESUZJRUQgVkVSU0lPTlMgb2YgTWFyY2hpbmdTcXVhcmVzSlMgd2l0aG91dCB0aGUKICAgICAqIHJlcXVpcmVtZW50IHRoYXQgc2FpZCB0aGlyZC1wYXJ0eSBwcm9qZWN0IGZvciB0aGF0IHJlYXNvbiBhbG9uZSBiZWNvbWVzCiAgICAgKiBzdWJqZWN0IHRvIGFueSByZXF1aXJlbWVudCBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIHZlcnNpb24gMy4KICAgICAqIEFueSBtb2RpZmljYXRpb25zIHRvIE1hcmNoaW5nU3F1YXJlc0pTLCBob3dldmVyLCBtdXN0IGJlIHNoYXJlZCB3aXRoIHRoZSBwdWJsaWMKICAgICAqIGFuZCBtYWRlIGF2YWlsYWJsZS4KICAgICAqCiAgICAgKiBJbiBzdW1tYXJ5IHRoaXM6CiAgICAgKiAtIGFsbG93cyB5b3UgdG8gdXNlIE1hcmNoaW5nU3F1YXJlc0pTIGF0IG5vIGNvc3QKICAgICAqIC0gYWxsb3dzIHlvdSB0byB1c2UgTWFyY2hpbmdTcXVhcmVzSlMgZm9yIGJvdGggcGVyc29uYWwgYW5kIGNvbW1lcmNpYWwgcHVycG9zZXMKICAgICAqIC0gYWxsb3dzIHlvdSB0byBkaXN0cmlidXRlIFVOTU9ESUZJRUQgVkVSU0lPTlMgb2YgTWFyY2hpbmdTcXVhcmVzSlMgdW5kZXIgYW55CiAgICAgKiAgIGxpY2Vuc2UgYXMgbG9uZyBhcyB0aGlzIGxpY2Vuc2Ugbm90aWNlIGlzIGluY2x1ZGVkCiAgICAgKiAtIGVuYWJsZXMgeW91IHRvIGtlZXAgdGhlIHNvdXJjZSBjb2RlIG9mIHlvdXIgcHJvZ3JhbSB0aGF0IHVzZXMgTWFyY2hpbmdTcXVhcmVzSlMKICAgICAqICAgdW5kaXNjbG9zZWQKICAgICAqIC0gZm9yY2VzIHlvdSB0byBzaGFyZSBhbnkgbW9kaWZpY2F0aW9ucyB5b3UgaGF2ZSBtYWRlIHRvIE1hcmNoaW5nU3F1YXJlc0pTLAogICAgICogICBlLmcuIGJ1Zy1maXhlcwogICAgICoKICAgICAqIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZQogICAgICogYWxvbmcgd2l0aCBNYXJjaGluZ1NxdWFyZXNKUy4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi4KICAgICAqL2Z1bmN0aW9uIGZ0KHQsZSxuKXtuPW58fHt9O2Zvcih2YXIgcj1PYmplY3Qua2V5cyhodCksaT0wO2k8ci5sZW5ndGg7aSsrKXt2YXIgbz1yW2ldLHM9bltvXTtzPW51bGwhPXM/czpodFtvXSxwdFtvXT1zfXB0LnZlcmJvc2UmJmNvbnNvbGUubG9nKCJNYXJjaGluZ1NxdWFyZXNKUy1pc29Db250b3VyczogY29tcHV0aW5nIGlzb2NvbnRvdXIgZm9yICIrZSk7dmFyIGE9ZnVuY3Rpb24odCl7dmFyIGU9W10sbj0wLHI9MWUtNztyZXR1cm4gdC5jZWxscy5mb3JFYWNoKChmdW5jdGlvbihpLG8pe2kuZm9yRWFjaCgoZnVuY3Rpb24oaSxzKXtpZih2b2lkIDAhPT1pJiYoNSE9PShmPWkpLmN2YWwmJjEwIT09Zi5jdmFsKSYmIWR0KGkpKXt2YXIgYT1mdW5jdGlvbih0LGUsbil7dmFyIHIsaSxvPXQubGVuZ3RoLHM9W10sYT1bMCwwLDEsMSwwLDAsMCwwLC0xLDAsMSwxLC0xLDAsLTEsMF0sdT1bMCwtMSwwLDAsMSwxLDEsMSwwLC0xLDAsMCwwLC0xLDAsMF0sbD1bIm5vbmUiLCJsZWZ0IiwiYm90dG9tIiwibGVmdCIsInJpZ2h0Iiwibm9uZSIsImJvdHRvbSIsImxlZnQiLCJ0b3AiLCJ0b3AiLCJub25lIiwidG9wIiwicmlnaHQiLCJyaWdodCIsImJvdHRvbSIsIm5vbmUiXSxjPVsibm9uZSIsImJvdHRvbSIsInJpZ2h0IiwicmlnaHQiLCJ0b3AiLCJ0b3AiLCJ0b3AiLCJ0b3AiLCJsZWZ0IiwiYm90dG9tIiwicmlnaHQiLCJyaWdodCIsImxlZnQiLCJib3R0b20iLCJsZWZ0Iiwibm9uZSJdLGg9dFtlXVtuXSxwPWguY3ZhbCxmPWxbcF0sZz12dChoLGYpO3MucHVzaChbbitnWzBdLGUrZ1sxXV0pLGY9Y1twXSxnPXZ0KGgsZikscy5wdXNoKFtuK2dbMF0sZStnWzFdXSkseXQoaCk7dmFyIGQ9bithW3BdLHk9ZSt1W3BdLHY9cDtmb3IoO2Q+PTAmJnk+PTAmJnk8byYmKGQhPW58fHkhPWUpJiZ2b2lkIDAhPT0oaD10W3ldW2RdKTspe2lmKDA9PT0ocD1oLmN2YWwpfHwxNT09PXApcmV0dXJue3BhdGg6cyxpbmZvOiJtZXJnZWFibGUifTtmPWNbcF0scj1hW3BdLGk9dVtwXSw1IT09cCYmMTAhPT1wfHwoNT09PXA/aC5mbGlwcGVkPy0xPT09dVt2XT8oZj0ibGVmdCIscj0tMSxpPTApOihmPSJyaWdodCIscj0xLGk9MCk6LTE9PT1hW3ZdJiYoZj0iYm90dG9tIixyPTAsaT0tMSk6MTA9PT1wJiYoaC5mbGlwcGVkPy0xPT09YVt2XT8oZj0idG9wIixyPTAsaT0xKTooZj0iYm90dG9tIixyPTAsaT0tMSk6MT09PXVbdl0mJihmPSJsZWZ0IixyPS0xLGk9MCkpKSxnPXZ0KGgsZikscy5wdXNoKFtkK2dbMF0seStnWzFdXSkseXQoaCksZCs9cix5Kz1pLHY9cH1yZXR1cm57cGF0aDpzLGluZm86ImNsb3NlZCJ9fSh0LmNlbGxzLG8scyksdT0hMTtpZigibWVyZ2VhYmxlIj09PWEuaW5mbylmb3IodmFyIGw9YS5wYXRoW2EucGF0aC5sZW5ndGgtMV1bMF0sYz1hLnBhdGhbYS5wYXRoLmxlbmd0aC0xXVsxXSxoPW4tMTtoPj0wO2gtLSlpZihNYXRoLmFicyhlW2hdWzBdWzBdLWwpPD1yJiZNYXRoLmFicyhlW2hdWzBdWzFdLWMpPD1yKXtmb3IodmFyIHA9YS5wYXRoLmxlbmd0aC0yO3A+PTA7LS1wKWVbaF0udW5zaGlmdChhLnBhdGhbcF0pO3U9ITA7YnJlYWt9dXx8KGVbbisrXT1hLnBhdGgpfXZhciBmfSkpfSkpLGV9KGZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPXQubGVuZ3RoLTEscj10WzBdLmxlbmd0aC0xLGk9e3Jvd3M6bixjb2xzOnIsY2VsbHM6W119LG89MDtvPG47KytvKXtpLmNlbGxzW29dPVtdO2Zvcih2YXIgcz0wO3M8cjsrK3Mpe3ZhciBhPTAsdT10W28rMV1bc10sbD10W28rMV1bcysxXSxjPXRbb11bcysxXSxoPXRbb11bc107aWYoIShpc05hTih1KXx8aXNOYU4obCl8fGlzTmFOKGMpfHxpc05hTihoKSkpe2F8PXU+PWU/ODowLGF8PWw+PWU/NDowLGF8PWM+PWU/MjowO3ZhciBwLGYsZyxkLHk9ITE7aWYoNT09PShhfD1oPj1lPzE6MCl8fDEwPT09YSl7dmFyIHY9KHUrbCtjK2gpLzQ7NT09PWEmJnY8ZT8oYT0xMCx5PSEwKToxMD09PWEmJnY8ZSYmKGE9NSx5PSEwKX1pZigwIT09YSYmMTUhPT1hKXA9Zj1nPWQ9LjUsMT09PWE/KGc9MS1ndChlLHUsaCksZj0xLWd0KGUsYyxoKSk6Mj09PWE/KGY9Z3QoZSxoLGMpLGQ9MS1ndChlLGwsYykpOjM9PT1hPyhnPTEtZ3QoZSx1LGgpLGQ9MS1ndChlLGwsYykpOjQ9PT1hPyhwPWd0KGUsdSxsKSxkPWd0KGUsYyxsKSk6NT09PWE/KHA9Z3QoZSx1LGwpLGQ9Z3QoZSxjLGwpLGY9MS1ndChlLGMsaCksZz0xLWd0KGUsdSxoKSk6Nj09PWE/KGY9Z3QoZSxoLGMpLHA9Z3QoZSx1LGwpKTo3PT09YT8oZz0xLWd0KGUsdSxoKSxwPWd0KGUsdSxsKSk6OD09PWE/KGc9Z3QoZSxoLHUpLHA9MS1ndChlLGwsdSkpOjk9PT1hPyhmPTEtZ3QoZSxjLGgpLHA9MS1ndChlLGwsdSkpOjEwPT09YT8ocD0xLWd0KGUsbCx1KSxkPTEtZ3QoZSxsLGMpLGY9Z3QoZSxoLGMpLGc9Z3QoZSxoLHUpKToxMT09PWE/KHA9MS1ndChlLGwsdSksZD0xLWd0KGUsbCxjKSk6MTI9PT1hPyhnPWd0KGUsaCx1KSxkPWd0KGUsYyxsKSk6MTM9PT1hPyhmPTEtZ3QoZSxjLGgpLGQ9Z3QoZSxjLGwpKToxND09PWE/KGc9Z3QoZSxoLHUpLGY9Z3QoZSxoLGMpKTpjb25zb2xlLmxvZygiTWFyY2hpbmdTcXVhcmVzSlMtaXNvQ29udG91cnM6IElsbGVnYWwgY3ZhbCBkZXRlY3RlZDogIithKSxpLmNlbGxzW29dW3NdPXtjdmFsOmEsZmxpcHBlZDp5LHRvcDpwLHJpZ2h0OmQsYm90dG9tOmYsbGVmdDpnfX19fXJldHVybiBpfSh0LGUpKTtyZXR1cm4iZnVuY3Rpb24iPT10eXBlb2YgcHQuc3VjY2Vzc0NhbGxiYWNrJiZwdC5zdWNjZXNzQ2FsbGJhY2soYSksYX1mdW5jdGlvbiBndCh0LGUsbil7cmV0dXJuKHQtZSkvKG4tZSl9ZnVuY3Rpb24gZHQodCl7cmV0dXJuIDA9PT10LmN2YWx8fDE1PT09dC5jdmFsfWZ1bmN0aW9uIHl0KHQpe2R0KHQpfHw1PT09dC5jdmFsfHwxMD09PXQuY3ZhbHx8KHQuY3ZhbD0xNSl9ZnVuY3Rpb24gdnQodCxlKXtyZXR1cm4idG9wIj09PWU/W3QudG9wLDFdOiJib3R0b20iPT09ZT9bdC5ib3R0b20sMF06InJpZ2h0Ij09PWU/WzEsdC5yaWdodF06ImxlZnQiPT09ZT9bMCx0LmxlZnRdOnZvaWQgMH1mdW5jdGlvbiBfdCh0LGUpe2lmKCFQKGU9ZXx8e30pKXRocm93IG5ldyBFcnJvcigib3B0aW9ucyBpcyBpbnZhbGlkIik7dmFyIG49ZS56UHJvcGVydHl8fCJlbGV2YXRpb24iLHI9ZS5mbGlwLGk9ZS5mbGFncztudCh0LCJQb2ludCIsImlucHV0IG11c3QgY29udGFpbiBQb2ludHMiKTtmb3IodmFyIG89ZnVuY3Rpb24odCxlKXt2YXIgbj17fTtyZXR1cm4gRih0LChmdW5jdGlvbih0KXt2YXIgZT1RKHQpWzFdO25bZV18fChuW2VdPVtdKSxuW2VdLnB1c2godCl9KSksT2JqZWN0LmtleXMobikubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gblt0XS5zb3J0KChmdW5jdGlvbih0LGUpe3JldHVybiBRKHQpWzBdLVEoZSlbMF19KSl9KSkuc29ydCgoZnVuY3Rpb24odCxuKXtyZXR1cm4gZT9RKHRbMF0pWzFdLVEoblswXSlbMV06UShuWzBdKVsxXS1RKHRbMF0pWzFdfSkpfSh0LHIpLHM9W10sYT0wO2E8by5sZW5ndGg7YSsrKXtmb3IodmFyIHU9b1thXSxsPVtdLGM9MDtjPHUubGVuZ3RoO2MrKyl7dmFyIGg9dVtjXTtoLnByb3BlcnRpZXNbbl0/bC5wdXNoKGgucHJvcGVydGllc1tuXSk6bC5wdXNoKDApLCEwPT09aSYmKGgucHJvcGVydGllcy5tYXRyaXhQb3NpdGlvbj1bYSxjXSl9cy5wdXNoKGwpfXJldHVybiBzfXZhciBtdD1FdCx4dD1FdDtmdW5jdGlvbiBFdCh0LGUsbixyLGkpe2J0KHQsZSxufHwwLHJ8fHQubGVuZ3RoLTEsaXx8SXQpfWZ1bmN0aW9uIGJ0KHQsZSxuLHIsaSl7Zm9yKDtyPm47KXtpZihyLW4+NjAwKXt2YXIgbz1yLW4rMSxzPWUtbisxLGE9TWF0aC5sb2cobyksdT0uNSpNYXRoLmV4cCgyKmEvMyksbD0uNSpNYXRoLnNxcnQoYSp1KihvLXUpL28pKihzLW8vMjwwPy0xOjEpO2J0KHQsZSxNYXRoLm1heChuLE1hdGguZmxvb3IoZS1zKnUvbytsKSksTWF0aC5taW4ocixNYXRoLmZsb29yKGUrKG8tcykqdS9vK2wpKSxpKX12YXIgYz10W2VdLGg9bixwPXI7Zm9yKHd0KHQsbixlKSxpKHRbcl0sYyk+MCYmd3QodCxuLHIpO2g8cDspe2Zvcih3dCh0LGgscCksaCsrLHAtLTtpKHRbaF0sYyk8MDspaCsrO2Zvcig7aSh0W3BdLGMpPjA7KXAtLX0wPT09aSh0W25dLGMpP3d0KHQsbixwKTp3dCh0LCsrcCxyKSxwPD1lJiYobj1wKzEpLGU8PXAmJihyPXAtMSl9fWZ1bmN0aW9uIHd0KHQsZSxuKXt2YXIgcj10W2VdO3RbZV09dFtuXSx0W25dPXJ9ZnVuY3Rpb24gSXQodCxlKXtyZXR1cm4gdDxlPy0xOnQ+ZT8xOjB9bXQuZGVmYXVsdD14dDt2YXIgTnQ9Q3QsU3Q9Q3Q7ZnVuY3Rpb24gQ3QodCxlKXtpZighKHRoaXMgaW5zdGFuY2VvZiBDdCkpcmV0dXJuIG5ldyBDdCh0LGUpO3RoaXMuX21heEVudHJpZXM9TWF0aC5tYXgoNCx0fHw5KSx0aGlzLl9taW5FbnRyaWVzPU1hdGgubWF4KDIsTWF0aC5jZWlsKC40KnRoaXMuX21heEVudHJpZXMpKSxlJiZ0aGlzLl9pbml0Rm9ybWF0KGUpLHRoaXMuY2xlYXIoKX1mdW5jdGlvbiBQdCh0LGUsbil7aWYoIW4pcmV0dXJuIGUuaW5kZXhPZih0KTtmb3IodmFyIHI9MDtyPGUubGVuZ3RoO3IrKylpZihuKHQsZVtyXSkpcmV0dXJuIHI7cmV0dXJuLTF9ZnVuY3Rpb24gTXQodCxlKXtMdCh0LDAsdC5jaGlsZHJlbi5sZW5ndGgsZSx0KX1mdW5jdGlvbiBMdCh0LGUsbixyLGkpe2l8fChpPUd0KG51bGwpKSxpLm1pblg9MS8wLGkubWluWT0xLzAsaS5tYXhYPS0xLzAsaS5tYXhZPS0xLzA7Zm9yKHZhciBvLHM9ZTtzPG47cysrKW89dC5jaGlsZHJlbltzXSxPdChpLHQubGVhZj9yKG8pOm8pO3JldHVybiBpfWZ1bmN0aW9uIE90KHQsZSl7cmV0dXJuIHQubWluWD1NYXRoLm1pbih0Lm1pblgsZS5taW5YKSx0Lm1pblk9TWF0aC5taW4odC5taW5ZLGUubWluWSksdC5tYXhYPU1hdGgubWF4KHQubWF4WCxlLm1heFgpLHQubWF4WT1NYXRoLm1heCh0Lm1heFksZS5tYXhZKSx0fWZ1bmN0aW9uIFJ0KHQsZSl7cmV0dXJuIHQubWluWC1lLm1pblh9ZnVuY3Rpb24gVHQodCxlKXtyZXR1cm4gdC5taW5ZLWUubWluWX1mdW5jdGlvbiBBdCh0KXtyZXR1cm4odC5tYXhYLXQubWluWCkqKHQubWF4WS10Lm1pblkpfWZ1bmN0aW9uIER0KHQpe3JldHVybiB0Lm1heFgtdC5taW5YKyh0Lm1heFktdC5taW5ZKX1mdW5jdGlvbiBGdCh0LGUpe3JldHVybiB0Lm1pblg8PWUubWluWCYmdC5taW5ZPD1lLm1pblkmJmUubWF4WDw9dC5tYXhYJiZlLm1heFk8PXQubWF4WX1mdW5jdGlvbiBrdCh0LGUpe3JldHVybiBlLm1pblg8PXQubWF4WCYmZS5taW5ZPD10Lm1heFkmJmUubWF4WD49dC5taW5YJiZlLm1heFk+PXQubWluWX1mdW5jdGlvbiBHdCh0KXtyZXR1cm57Y2hpbGRyZW46dCxoZWlnaHQ6MSxsZWFmOiEwLG1pblg6MS8wLG1pblk6MS8wLG1heFg6LTEvMCxtYXhZOi0xLzB9fWZ1bmN0aW9uIHF0KHQsZSxuLHIsaSl7Zm9yKHZhciBvLHM9W2Usbl07cy5sZW5ndGg7KShuPXMucG9wKCkpLShlPXMucG9wKCkpPD1yfHwobz1lK01hdGguY2VpbCgobi1lKS9yLzIpKnIsbXQodCxvLGUsbixpKSxzLnB1c2goZSxvLG8sbikpfWZ1bmN0aW9uIEJ0KHQpe3ZhciBlPXtleHBvcnRzOnt9fTtyZXR1cm4gdChlLGUuZXhwb3J0cyksZS5leHBvcnRzfUN0LnByb3RvdHlwZT17YWxsOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2FsbCh0aGlzLmRhdGEsW10pfSxzZWFyY2g6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5kYXRhLG49W10scj10aGlzLnRvQkJveDtpZigha3QodCxlKSlyZXR1cm4gbjtmb3IodmFyIGksbyxzLGEsdT1bXTtlOyl7Zm9yKGk9MCxvPWUuY2hpbGRyZW4ubGVuZ3RoO2k8bztpKyspcz1lLmNoaWxkcmVuW2ldLGt0KHQsYT1lLmxlYWY/cihzKTpzKSYmKGUubGVhZj9uLnB1c2gocyk6RnQodCxhKT90aGlzLl9hbGwocyxuKTp1LnB1c2gocykpO2U9dS5wb3AoKX1yZXR1cm4gbn0sY29sbGlkZXM6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5kYXRhLG49dGhpcy50b0JCb3g7aWYoIWt0KHQsZSkpcmV0dXJuITE7Zm9yKHZhciByLGksbyxzLGE9W107ZTspe2ZvcihyPTAsaT1lLmNoaWxkcmVuLmxlbmd0aDtyPGk7cisrKWlmKG89ZS5jaGlsZHJlbltyXSxrdCh0LHM9ZS5sZWFmP24obyk6bykpe2lmKGUubGVhZnx8RnQodCxzKSlyZXR1cm4hMDthLnB1c2gobyl9ZT1hLnBvcCgpfXJldHVybiExfSxsb2FkOmZ1bmN0aW9uKHQpe2lmKCF0fHwhdC5sZW5ndGgpcmV0dXJuIHRoaXM7aWYodC5sZW5ndGg8dGhpcy5fbWluRW50cmllcyl7Zm9yKHZhciBlPTAsbj10Lmxlbmd0aDtlPG47ZSsrKXRoaXMuaW5zZXJ0KHRbZV0pO3JldHVybiB0aGlzfXZhciByPXRoaXMuX2J1aWxkKHQuc2xpY2UoKSwwLHQubGVuZ3RoLTEsMCk7aWYodGhpcy5kYXRhLmNoaWxkcmVuLmxlbmd0aClpZih0aGlzLmRhdGEuaGVpZ2h0PT09ci5oZWlnaHQpdGhpcy5fc3BsaXRSb290KHRoaXMuZGF0YSxyKTtlbHNle2lmKHRoaXMuZGF0YS5oZWlnaHQ8ci5oZWlnaHQpe3ZhciBpPXRoaXMuZGF0YTt0aGlzLmRhdGE9cixyPWl9dGhpcy5faW5zZXJ0KHIsdGhpcy5kYXRhLmhlaWdodC1yLmhlaWdodC0xLCEwKX1lbHNlIHRoaXMuZGF0YT1yO3JldHVybiB0aGlzfSxpbnNlcnQ6ZnVuY3Rpb24odCl7cmV0dXJuIHQmJnRoaXMuX2luc2VydCh0LHRoaXMuZGF0YS5oZWlnaHQtMSksdGhpc30sY2xlYXI6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kYXRhPUd0KFtdKSx0aGlzfSxyZW1vdmU6ZnVuY3Rpb24odCxlKXtpZighdClyZXR1cm4gdGhpcztmb3IodmFyIG4scixpLG8scz10aGlzLmRhdGEsYT10aGlzLnRvQkJveCh0KSx1PVtdLGw9W107c3x8dS5sZW5ndGg7KXtpZihzfHwocz11LnBvcCgpLHI9dVt1Lmxlbmd0aC0xXSxuPWwucG9wKCksbz0hMCkscy5sZWFmJiYtMSE9PShpPVB0KHQscy5jaGlsZHJlbixlKSkpcmV0dXJuIHMuY2hpbGRyZW4uc3BsaWNlKGksMSksdS5wdXNoKHMpLHRoaXMuX2NvbmRlbnNlKHUpLHRoaXM7b3x8cy5sZWFmfHwhRnQocyxhKT9yPyhuKysscz1yLmNoaWxkcmVuW25dLG89ITEpOnM9bnVsbDoodS5wdXNoKHMpLGwucHVzaChuKSxuPTAscj1zLHM9cy5jaGlsZHJlblswXSl9cmV0dXJuIHRoaXN9LHRvQkJveDpmdW5jdGlvbih0KXtyZXR1cm4gdH0sY29tcGFyZU1pblg6UnQsY29tcGFyZU1pblk6VHQsdG9KU09OOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGF0YX0sZnJvbUpTT046ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZGF0YT10LHRoaXN9LF9hbGw6ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49W107dDspdC5sZWFmP2UucHVzaC5hcHBseShlLHQuY2hpbGRyZW4pOm4ucHVzaC5hcHBseShuLHQuY2hpbGRyZW4pLHQ9bi5wb3AoKTtyZXR1cm4gZX0sX2J1aWxkOmZ1bmN0aW9uKHQsZSxuLHIpe3ZhciBpLG89bi1lKzEscz10aGlzLl9tYXhFbnRyaWVzO2lmKG88PXMpcmV0dXJuIE10KGk9R3QodC5zbGljZShlLG4rMSkpLHRoaXMudG9CQm94KSxpO3J8fChyPU1hdGguY2VpbChNYXRoLmxvZyhvKS9NYXRoLmxvZyhzKSkscz1NYXRoLmNlaWwoby9NYXRoLnBvdyhzLHItMSkpKSwoaT1HdChbXSkpLmxlYWY9ITEsaS5oZWlnaHQ9cjt2YXIgYSx1LGwsYyxoPU1hdGguY2VpbChvL3MpLHA9aCpNYXRoLmNlaWwoTWF0aC5zcXJ0KHMpKTtmb3IocXQodCxlLG4scCx0aGlzLmNvbXBhcmVNaW5YKSxhPWU7YTw9bjthKz1wKWZvcihxdCh0LGEsbD1NYXRoLm1pbihhK3AtMSxuKSxoLHRoaXMuY29tcGFyZU1pblkpLHU9YTt1PD1sO3UrPWgpYz1NYXRoLm1pbih1K2gtMSxsKSxpLmNoaWxkcmVuLnB1c2godGhpcy5fYnVpbGQodCx1LGMsci0xKSk7cmV0dXJuIE10KGksdGhpcy50b0JCb3gpLGl9LF9jaG9vc2VTdWJ0cmVlOmZ1bmN0aW9uKHQsZSxuLHIpe2Zvcih2YXIgaSxvLHMsYSx1LGwsYyxoLHAsZjtyLnB1c2goZSksIWUubGVhZiYmci5sZW5ndGgtMSE9PW47KXtmb3IoYz1oPTEvMCxpPTAsbz1lLmNoaWxkcmVuLmxlbmd0aDtpPG87aSsrKXU9QXQocz1lLmNoaWxkcmVuW2ldKSxwPXQsZj1zLChsPShNYXRoLm1heChmLm1heFgscC5tYXhYKS1NYXRoLm1pbihmLm1pblgscC5taW5YKSkqKE1hdGgubWF4KGYubWF4WSxwLm1heFkpLU1hdGgubWluKGYubWluWSxwLm1pblkpKS11KTxoPyhoPWwsYz11PGM/dTpjLGE9cyk6bD09PWgmJnU8YyYmKGM9dSxhPXMpO2U9YXx8ZS5jaGlsZHJlblswXX1yZXR1cm4gZX0sX2luc2VydDpmdW5jdGlvbih0LGUsbil7dmFyIHI9dGhpcy50b0JCb3gsaT1uP3Q6cih0KSxvPVtdLHM9dGhpcy5fY2hvb3NlU3VidHJlZShpLHRoaXMuZGF0YSxlLG8pO2ZvcihzLmNoaWxkcmVuLnB1c2godCksT3QocyxpKTtlPj0wJiZvW2VdLmNoaWxkcmVuLmxlbmd0aD50aGlzLl9tYXhFbnRyaWVzOyl0aGlzLl9zcGxpdChvLGUpLGUtLTt0aGlzLl9hZGp1c3RQYXJlbnRCQm94ZXMoaSxvLGUpfSxfc3BsaXQ6ZnVuY3Rpb24odCxlKXt2YXIgbj10W2VdLHI9bi5jaGlsZHJlbi5sZW5ndGgsaT10aGlzLl9taW5FbnRyaWVzO3RoaXMuX2Nob29zZVNwbGl0QXhpcyhuLGkscik7dmFyIG89dGhpcy5fY2hvb3NlU3BsaXRJbmRleChuLGkscikscz1HdChuLmNoaWxkcmVuLnNwbGljZShvLG4uY2hpbGRyZW4ubGVuZ3RoLW8pKTtzLmhlaWdodD1uLmhlaWdodCxzLmxlYWY9bi5sZWFmLE10KG4sdGhpcy50b0JCb3gpLE10KHMsdGhpcy50b0JCb3gpLGU/dFtlLTFdLmNoaWxkcmVuLnB1c2gocyk6dGhpcy5fc3BsaXRSb290KG4scyl9LF9zcGxpdFJvb3Q6ZnVuY3Rpb24odCxlKXt0aGlzLmRhdGE9R3QoW3QsZV0pLHRoaXMuZGF0YS5oZWlnaHQ9dC5oZWlnaHQrMSx0aGlzLmRhdGEubGVhZj0hMSxNdCh0aGlzLmRhdGEsdGhpcy50b0JCb3gpfSxfY2hvb3NlU3BsaXRJbmRleDpmdW5jdGlvbih0LGUsbil7dmFyIHIsaSxvLHMsYSx1LGwsYyxoLHAsZixnLGQseTtmb3IodT1sPTEvMCxyPWU7cjw9bi1lO3IrKylpPUx0KHQsMCxyLHRoaXMudG9CQm94KSxvPUx0KHQscixuLHRoaXMudG9CQm94KSxoPWkscD1vLGY9dm9pZCAwLGc9dm9pZCAwLGQ9dm9pZCAwLHk9dm9pZCAwLGY9TWF0aC5tYXgoaC5taW5YLHAubWluWCksZz1NYXRoLm1heChoLm1pblkscC5taW5ZKSxkPU1hdGgubWluKGgubWF4WCxwLm1heFgpLHk9TWF0aC5taW4oaC5tYXhZLHAubWF4WSkscz1NYXRoLm1heCgwLGQtZikqTWF0aC5tYXgoMCx5LWcpLGE9QXQoaSkrQXQobyksczx1Pyh1PXMsYz1yLGw9YTxsP2E6bCk6cz09PXUmJmE8bCYmKGw9YSxjPXIpO3JldHVybiBjfSxfY2hvb3NlU3BsaXRBeGlzOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj10LmxlYWY/dGhpcy5jb21wYXJlTWluWDpSdCxpPXQubGVhZj90aGlzLmNvbXBhcmVNaW5ZOlR0O3RoaXMuX2FsbERpc3RNYXJnaW4odCxlLG4scik8dGhpcy5fYWxsRGlzdE1hcmdpbih0LGUsbixpKSYmdC5jaGlsZHJlbi5zb3J0KHIpfSxfYWxsRGlzdE1hcmdpbjpmdW5jdGlvbih0LGUsbixyKXt0LmNoaWxkcmVuLnNvcnQocik7dmFyIGksbyxzPXRoaXMudG9CQm94LGE9THQodCwwLGUscyksdT1MdCh0LG4tZSxuLHMpLGw9RHQoYSkrRHQodSk7Zm9yKGk9ZTtpPG4tZTtpKyspbz10LmNoaWxkcmVuW2ldLE90KGEsdC5sZWFmP3Mobyk6byksbCs9RHQoYSk7Zm9yKGk9bi1lLTE7aT49ZTtpLS0pbz10LmNoaWxkcmVuW2ldLE90KHUsdC5sZWFmP3Mobyk6byksbCs9RHQodSk7cmV0dXJuIGx9LF9hZGp1c3RQYXJlbnRCQm94ZXM6ZnVuY3Rpb24odCxlLG4pe2Zvcih2YXIgcj1uO3I+PTA7ci0tKU90KGVbcl0sdCl9LF9jb25kZW5zZTpmdW5jdGlvbih0KXtmb3IodmFyIGUsbj10Lmxlbmd0aC0xO24+PTA7bi0tKTA9PT10W25dLmNoaWxkcmVuLmxlbmd0aD9uPjA/KGU9dFtuLTFdLmNoaWxkcmVuKS5zcGxpY2UoZS5pbmRleE9mKHRbbl0pLDEpOnRoaXMuY2xlYXIoKTpNdCh0W25dLHRoaXMudG9CQm94KX0sX2luaXRGb3JtYXQ6ZnVuY3Rpb24odCl7dmFyIGU9WyJyZXR1cm4gYSIsIiAtIGIiLCI7Il07dGhpcy5jb21wYXJlTWluWD1uZXcgRnVuY3Rpb24oImEiLCJiIixlLmpvaW4odFswXSkpLHRoaXMuY29tcGFyZU1pblk9bmV3IEZ1bmN0aW9uKCJhIiwiYiIsZS5qb2luKHRbMV0pKSx0aGlzLnRvQkJveD1uZXcgRnVuY3Rpb24oImEiLCJyZXR1cm4ge21pblg6IGEiK3RbMF0rIiwgbWluWTogYSIrdFsxXSsiLCBtYXhYOiBhIit0WzJdKyIsIG1heFk6IGEiK3RbM10rIn07Iil9fSxOdC5kZWZhdWx0PVN0O3ZhciB6dD1mdW5jdGlvbih0LGUsbil7dmFyIHI9dCplLGk9anQqdCxvPWktKGktdCkscz10LW8sYT1qdCplLHU9YS0oYS1lKSxsPWUtdSxjPXMqbC0oci1vKnUtcyp1LW8qbCk7aWYobilyZXR1cm4gblswXT1jLG5bMV09cixuO3JldHVybltjLHJdfSxqdD0rKE1hdGgucG93KDIsMjcpKzEpO3ZhciBVdD1mdW5jdGlvbih0LGUpe3ZhciBuPTB8dC5sZW5ndGgscj0wfGUubGVuZ3RoO2lmKDE9PT1uJiYxPT09cilyZXR1cm4gZnVuY3Rpb24odCxlKXt2YXIgbj10K2Uscj1uLXQsaT10LShuLXIpKyhlLXIpO2lmKGkpcmV0dXJuW2ksbl07cmV0dXJuW25dfSh0WzBdLGVbMF0pO3ZhciBpLG8scz1uZXcgQXJyYXkobityKSxhPTAsdT0wLGw9MCxjPU1hdGguYWJzLGg9dFt1XSxwPWMoaCksZj1lW2xdLGc9YyhmKTtwPGc/KG89aCwodSs9MSk8biYmKGg9dFt1XSxwPWMoaCkpKToobz1mLChsKz0xKTxyJiYoZj1lW2xdLGc9YyhmKSkpO3U8biYmcDxnfHxsPj1yPyhpPWgsKHUrPTEpPG4mJihoPXRbdV0scD1jKGgpKSk6KGk9ZiwobCs9MSk8ciYmKGY9ZVtsXSxnPWMoZikpKTt2YXIgZCx5LHY9aStvLF89di1pLG09by1fLHg9bSxFPXY7Zm9yKDt1PG4mJmw8cjspcDxnPyhpPWgsKHUrPTEpPG4mJihoPXRbdV0scD1jKGgpKSk6KGk9ZiwobCs9MSk8ciYmKGY9ZVtsXSxnPWMoZikpKSwobT0obz14KS0oXz0odj1pK28pLWkpKSYmKHNbYSsrXT1tKSx4PUUtKChkPUUrdiktKHk9ZC1FKSkrKHYteSksRT1kO2Zvcig7dTxuOykobT0obz14KS0oXz0odj0oaT1oKStvKS1pKSkmJihzW2ErK109bSkseD1FLSgoZD1FK3YpLSh5PWQtRSkpKyh2LXkpLEU9ZCwodSs9MSk8biYmKGg9dFt1XSk7Zm9yKDtsPHI7KShtPShvPXgpLShfPSh2PShpPWYpK28pLWkpKSYmKHNbYSsrXT1tKSx4PUUtKChkPUUrdiktKHk9ZC1FKSkrKHYteSksRT1kLChsKz0xKTxyJiYoZj1lW2xdKTt4JiYoc1thKytdPXgpO0UmJihzW2ErK109RSk7YXx8KHNbYSsrXT0wKTtyZXR1cm4gcy5sZW5ndGg9YSxzfTt2YXIgVnQ9ZnVuY3Rpb24odCxlLG4pe3ZhciByPXQrZSxpPXItdCxvPWUtaSxzPXQtKHItaSk7aWYobilyZXR1cm4gblswXT1zK28sblsxXT1yLG47cmV0dXJuW3MrbyxyXX07dmFyIFh0PWZ1bmN0aW9uKHQsZSl7dmFyIG49dC5sZW5ndGg7aWYoMT09PW4pe3ZhciByPXp0KHRbMF0sZSk7cmV0dXJuIHJbMF0/cjpbclsxXV19dmFyIGk9bmV3IEFycmF5KDIqbiksbz1bLjEsLjFdLHM9Wy4xLC4xXSxhPTA7enQodFswXSxlLG8pLG9bMF0mJihpW2ErK109b1swXSk7Zm9yKHZhciB1PTE7dTxuOysrdSl7enQodFt1XSxlLHMpO3ZhciBsPW9bMV07VnQobCxzWzBdLG8pLG9bMF0mJihpW2ErK109b1swXSk7dmFyIGM9c1sxXSxoPW9bMV0scD1jK2gsZj1oLShwLWMpO29bMV09cCxmJiYoaVthKytdPWYpfW9bMV0mJihpW2ErK109b1sxXSk7MD09PWEmJihpW2ErK109MCk7cmV0dXJuIGkubGVuZ3RoPWEsaX07dmFyIFl0PWZ1bmN0aW9uKHQsZSl7dmFyIG49MHx0Lmxlbmd0aCxyPTB8ZS5sZW5ndGg7aWYoMT09PW4mJjE9PT1yKXJldHVybiBmdW5jdGlvbih0LGUpe3ZhciBuPXQrZSxyPW4tdCxpPXQtKG4tcikrKGUtcik7aWYoaSlyZXR1cm5baSxuXTtyZXR1cm5bbl19KHRbMF0sLWVbMF0pO3ZhciBpLG8scz1uZXcgQXJyYXkobityKSxhPTAsdT0wLGw9MCxjPU1hdGguYWJzLGg9dFt1XSxwPWMoaCksZj0tZVtsXSxnPWMoZik7cDxnPyhvPWgsKHUrPTEpPG4mJihoPXRbdV0scD1jKGgpKSk6KG89ZiwobCs9MSk8ciYmKGY9LWVbbF0sZz1jKGYpKSk7dTxuJiZwPGd8fGw+PXI/KGk9aCwodSs9MSk8biYmKGg9dFt1XSxwPWMoaCkpKTooaT1mLChsKz0xKTxyJiYoZj0tZVtsXSxnPWMoZikpKTt2YXIgZCx5LHY9aStvLF89di1pLG09by1fLHg9bSxFPXY7Zm9yKDt1PG4mJmw8cjspcDxnPyhpPWgsKHUrPTEpPG4mJihoPXRbdV0scD1jKGgpKSk6KGk9ZiwobCs9MSk8ciYmKGY9LWVbbF0sZz1jKGYpKSksKG09KG89eCktKF89KHY9aStvKS1pKSkmJihzW2ErK109bSkseD1FLSgoZD1FK3YpLSh5PWQtRSkpKyh2LXkpLEU9ZDtmb3IoO3U8bjspKG09KG89eCktKF89KHY9KGk9aCkrbyktaSkpJiYoc1thKytdPW0pLHg9RS0oKGQ9RSt2KS0oeT1kLUUpKSsodi15KSxFPWQsKHUrPTEpPG4mJihoPXRbdV0pO2Zvcig7bDxyOykobT0obz14KS0oXz0odj0oaT1mKStvKS1pKSkmJihzW2ErK109bSkseD1FLSgoZD1FK3YpLSh5PWQtRSkpKyh2LXkpLEU9ZCwobCs9MSk8ciYmKGY9LWVbbF0pO3gmJihzW2ErK109eCk7RSYmKHNbYSsrXT1FKTthfHwoc1thKytdPTApO3JldHVybiBzLmxlbmd0aD1hLHN9O3ZhciBIdD1CdCgoZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSh0LGUpe2Zvcih2YXIgbj1uZXcgQXJyYXkodC5sZW5ndGgtMSkscj0xO3I8dC5sZW5ndGg7KytyKWZvcih2YXIgaT1uW3ItMV09bmV3IEFycmF5KHQubGVuZ3RoLTEpLG89MCxzPTA7bzx0Lmxlbmd0aDsrK28pbyE9PWUmJihpW3MrK109dFtyXVtvXSk7cmV0dXJuIG59ZnVuY3Rpb24gbih0KXtpZigxPT09dC5sZW5ndGgpcmV0dXJuIHRbMF07aWYoMj09PXQubGVuZ3RoKXJldHVyblsic3VtKCIsdFswXSwiLCIsdFsxXSwiKSJdLmpvaW4oIiIpO3ZhciBlPXQubGVuZ3RoPj4xO3JldHVyblsic3VtKCIsbih0LnNsaWNlKDAsZSkpLCIsIixuKHQuc2xpY2UoZSkpLCIpIl0uam9pbigiIil9ZnVuY3Rpb24gcih0KXtpZigyPT09dC5sZW5ndGgpcmV0dXJuW1sic3VtKHByb2QoIix0WzBdWzBdLCIsIix0WzFdWzFdLCIpLHByb2QoLSIsdFswXVsxXSwiLCIsdFsxXVswXSwiKSkiXS5qb2luKCIiKV07Zm9yKHZhciBpPVtdLG89MDtvPHQubGVuZ3RoOysrbylpLnB1c2goWyJzY2FsZSgiLG4ocihlKHQsbykpKSwiLCIsKHM9bywxJnM/Ii0iOiIiKSx0WzBdW29dLCIpIl0uam9pbigiIikpO3JldHVybiBpO3ZhciBzfWZ1bmN0aW9uIGkodCl7Zm9yKHZhciBpPVtdLG89W10scz1mdW5jdGlvbih0KXtmb3IodmFyIGU9bmV3IEFycmF5KHQpLG49MDtuPHQ7KytuKXtlW25dPW5ldyBBcnJheSh0KTtmb3IodmFyIHI9MDtyPHQ7KytyKWVbbl1bcl09WyJtIixyLCJbIix0LW4tMSwiXSJdLmpvaW4oIiIpfXJldHVybiBlfSh0KSxhPVtdLHU9MDt1PHQ7Kyt1KTA9PSgxJnUpP2kucHVzaC5hcHBseShpLHIoZShzLHUpKSk6by5wdXNoLmFwcGx5KG8scihlKHMsdSkpKSxhLnB1c2goIm0iK3UpO3ZhciBsPW4oaSksYz1uKG8pLGg9Im9yaWVudGF0aW9uIit0KyJFeGFjdCIscD1bImZ1bmN0aW9uICIsaCwiKCIsYS5qb2luKCksIil7dmFyIHA9IixsLCIsbj0iLGMsIixkPXN1YihwLG4pO3JldHVybiBkW2QubGVuZ3RoLTFdO307cmV0dXJuICIsaF0uam9pbigiIik7cmV0dXJuIG5ldyBGdW5jdGlvbigic3VtIiwicHJvZCIsInNjYWxlIiwic3ViIixwKShVdCx6dCxYdCxZdCl9dmFyIG89aSgzKSxzPWkoNCksYT1bZnVuY3Rpb24oKXtyZXR1cm4gMH0sZnVuY3Rpb24oKXtyZXR1cm4gMH0sZnVuY3Rpb24odCxlKXtyZXR1cm4gZVswXS10WzBdfSxmdW5jdGlvbih0LGUsbil7dmFyIHIsaT0odFsxXS1uWzFdKSooZVswXS1uWzBdKSxzPSh0WzBdLW5bMF0pKihlWzFdLW5bMV0pLGE9aS1zO2lmKGk+MCl7aWYoczw9MClyZXR1cm4gYTtyPWkrc31lbHNle2lmKCEoaTwwKSlyZXR1cm4gYTtpZihzPj0wKXJldHVybiBhO3I9LShpK3MpfXZhciB1PTMzMzA2NjkwNzM4NzU0NzE2ZS0zMipyO3JldHVybiBhPj11fHxhPD0tdT9hOm8odCxlLG4pfSxmdW5jdGlvbih0LGUsbixyKXt2YXIgaT10WzBdLXJbMF0sbz1lWzBdLXJbMF0sYT1uWzBdLXJbMF0sdT10WzFdLXJbMV0sbD1lWzFdLXJbMV0sYz1uWzFdLXJbMV0saD10WzJdLXJbMl0scD1lWzJdLXJbMl0sZj1uWzJdLXJbMl0sZz1vKmMsZD1hKmwseT1hKnUsdj1pKmMsXz1pKmwsbT1vKnUseD1oKihnLWQpK3AqKHktdikrZiooXy1tKSxFPTc3NzE1NjExNzIzNzYxMDNlLTMxKigoTWF0aC5hYnMoZykrTWF0aC5hYnMoZCkpKk1hdGguYWJzKGgpKyhNYXRoLmFicyh5KStNYXRoLmFicyh2KSkqTWF0aC5hYnMocCkrKE1hdGguYWJzKF8pK01hdGguYWJzKG0pKSpNYXRoLmFicyhmKSk7cmV0dXJuIHg+RXx8LXg+RT94OnModCxlLG4scil9XTtmdW5jdGlvbiB1KHQpe3ZhciBlPWFbdC5sZW5ndGhdO3JldHVybiBlfHwoZT1hW3QubGVuZ3RoXT1pKHQubGVuZ3RoKSksZS5hcHBseSh2b2lkIDAsdCl9IWZ1bmN0aW9uKCl7Zm9yKDthLmxlbmd0aDw9NTspYS5wdXNoKGkoYS5sZW5ndGgpKTtmb3IodmFyIGU9W10sbj1bInNsb3ciXSxyPTA7cjw9NTsrK3IpZS5wdXNoKCJhIityKSxuLnB1c2goIm8iK3IpO3ZhciBvPVsiZnVuY3Rpb24gZ2V0T3JpZW50YXRpb24oIixlLmpvaW4oKSwiKXtzd2l0Y2goYXJndW1lbnRzLmxlbmd0aCl7Y2FzZSAwOmNhc2UgMTpyZXR1cm4gMDsiXTtmb3Iocj0yO3I8PTU7KytyKW8ucHVzaCgiY2FzZSAiLHIsIjpyZXR1cm4gbyIsciwiKCIsZS5zbGljZSgwLHIpLmpvaW4oKSwiKTsiKTtvLnB1c2goIn12YXIgcz1uZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCk7Zm9yKHZhciBpPTA7aTxhcmd1bWVudHMubGVuZ3RoOysraSl7c1tpXT1hcmd1bWVudHNbaV19O3JldHVybiBzbG93KHMpO31yZXR1cm4gZ2V0T3JpZW50YXRpb24iKSxuLnB1c2goby5qb2luKCIiKSk7dmFyIHM9RnVuY3Rpb24uYXBwbHkodm9pZCAwLG4pO2Zvcih0LmV4cG9ydHM9cy5hcHBseSh2b2lkIDAsW3VdLmNvbmNhdChhKSkscj0wO3I8PTU7KytyKXQuZXhwb3J0c1tyXT1hW3JdfSgpfSkpLFd0PWZ1bmN0aW9uKHQpe3ZhciBlPXQubGVuZ3RoO2lmKGU8Myl7Zm9yKHZhciBuPW5ldyBBcnJheShlKSxyPTA7cjxlOysrciluW3JdPXI7cmV0dXJuIDI9PT1lJiZ0WzBdWzBdPT09dFsxXVswXSYmdFswXVsxXT09PXRbMV1bMV0/WzBdOm59dmFyIGk9bmV3IEFycmF5KGUpO2ZvcihyPTA7cjxlOysrcilpW3JdPXI7aS5zb3J0KChmdW5jdGlvbihlLG4pe3ZhciByPXRbZV1bMF0tdFtuXVswXTtyZXR1cm4gcnx8dFtlXVsxXS10W25dWzFdfSkpO3ZhciBvPVtpWzBdLGlbMV1dLHM9W2lbMF0saVsxXV07Zm9yKHI9MjtyPGU7KytyKXtmb3IodmFyIGE9aVtyXSx1PXRbYV0sbD1vLmxlbmd0aDtsPjEmJkp0KHRbb1tsLTJdXSx0W29bbC0xXV0sdSk8PTA7KWwtPTEsby5wb3AoKTtmb3Ioby5wdXNoKGEpLGw9cy5sZW5ndGg7bD4xJiZKdCh0W3NbbC0yXV0sdFtzW2wtMV1dLHUpPj0wOylsLT0xLHMucG9wKCk7cy5wdXNoKGEpfW49bmV3IEFycmF5KHMubGVuZ3RoK28ubGVuZ3RoLTIpO2Zvcih2YXIgYz0wLGg9KHI9MCxvLmxlbmd0aCk7cjxoOysrciluW2MrK109b1tyXTtmb3IodmFyIHA9cy5sZW5ndGgtMjtwPjA7LS1wKW5bYysrXT1zW3BdO3JldHVybiBufSxKdD1IdFszXTt2YXIgWnQ9UXQsS3Q9UXQ7ZnVuY3Rpb24gUXQodCxlKXtpZighKHRoaXMgaW5zdGFuY2VvZiBRdCkpcmV0dXJuIG5ldyBRdCh0LGUpO2lmKHRoaXMuZGF0YT10fHxbXSx0aGlzLmxlbmd0aD10aGlzLmRhdGEubGVuZ3RoLHRoaXMuY29tcGFyZT1lfHwkdCx0aGlzLmxlbmd0aD4wKWZvcih2YXIgbj0odGhpcy5sZW5ndGg+PjEpLTE7bj49MDtuLS0pdGhpcy5fZG93bihuKX1mdW5jdGlvbiAkdCh0LGUpe3JldHVybiB0PGU/LTE6dD5lPzE6MH1RdC5wcm90b3R5cGU9e3B1c2g6ZnVuY3Rpb24odCl7dGhpcy5kYXRhLnB1c2godCksdGhpcy5sZW5ndGgrKyx0aGlzLl91cCh0aGlzLmxlbmd0aC0xKX0scG9wOmZ1bmN0aW9uKCl7aWYoMCE9PXRoaXMubGVuZ3RoKXt2YXIgdD10aGlzLmRhdGFbMF07cmV0dXJuIHRoaXMubGVuZ3RoLS0sdGhpcy5sZW5ndGg+MCYmKHRoaXMuZGF0YVswXT10aGlzLmRhdGFbdGhpcy5sZW5ndGhdLHRoaXMuX2Rvd24oMCkpLHRoaXMuZGF0YS5wb3AoKSx0fX0scGVlazpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRhdGFbMF19LF91cDpmdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcy5kYXRhLG49dGhpcy5jb21wYXJlLHI9ZVt0XTt0PjA7KXt2YXIgaT10LTE+PjEsbz1lW2ldO2lmKG4ocixvKT49MClicmVhaztlW3RdPW8sdD1pfWVbdF09cn0sX2Rvd246ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMuZGF0YSxuPXRoaXMuY29tcGFyZSxyPXRoaXMubGVuZ3RoPj4xLGk9ZVt0XTt0PHI7KXt2YXIgbz0xKyh0PDwxKSxzPW8rMSxhPWVbb107aWYoczx0aGlzLmxlbmd0aCYmbihlW3NdLGEpPDAmJihvPXMsYT1lW3NdKSxuKGEsaSk+PTApYnJlYWs7ZVt0XT1hLHQ9b31lW3RdPWl9fSxadC5kZWZhdWx0PUt0O3ZhciB0ZT1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj10WzBdLHI9dFsxXSxpPSExLG89MCxzPWUubGVuZ3RoLTE7bzxlLmxlbmd0aDtzPW8rKyl7dmFyIGE9ZVtvXVswXSx1PWVbb11bMV0sbD1lW3NdWzBdLGM9ZVtzXVsxXTt1PnIhPWM+ciYmbjwobC1hKSooci11KS8oYy11KSthJiYoaT0haSl9cmV0dXJuIGl9LGVlPUh0WzNdLG5lPWllLHJlPWllO2Z1bmN0aW9uIGllKHQsZSxuKXtlPU1hdGgubWF4KDAsdm9pZCAwPT09ZT8yOmUpLG49bnx8MDtmb3IodmFyIHIsaT1mdW5jdGlvbih0KXtmb3IodmFyIGU9dFswXSxuPXRbMF0scj10WzBdLGk9dFswXSxvPTA7bzx0Lmxlbmd0aDtvKyspe3ZhciBzPXRbb107c1swXTxlWzBdJiYoZT1zKSxzWzBdPnJbMF0mJihyPXMpLHNbMV08blsxXSYmKG49cyksc1sxXT5pWzFdJiYoaT1zKX12YXIgYT1bZSxuLHIsaV0sdT1hLnNsaWNlKCk7Zm9yKG89MDtvPHQubGVuZ3RoO28rKyl0ZSh0W29dLGEpfHx1LnB1c2godFtvXSk7dmFyIGw9V3QodSksYz1bXTtmb3Iobz0wO288bC5sZW5ndGg7bysrKWMucHVzaCh1W2xbb11dKTtyZXR1cm4gY30odCksbz1OdCgxNixbIlswXSIsIlsxXSIsIlswXSIsIlsxXSJdKS5sb2FkKHQpLHM9W10sYT0wO2E8aS5sZW5ndGg7YSsrKXt2YXIgdT1pW2FdO28ucmVtb3ZlKHUpLHI9aGUodSxyKSxzLnB1c2gocil9dmFyIGw9TnQoMTYpO2ZvcihhPTA7YTxzLmxlbmd0aDthKyspbC5pbnNlcnQoY2Uoc1thXSkpO2Zvcih2YXIgYz1lKmUsaD1uKm47cy5sZW5ndGg7KXt2YXIgcD1zLnNoaWZ0KCksZj1wLnAsZz1wLm5leHQucCxkPXBlKGYsZyk7aWYoIShkPGgpKXt2YXIgeT1kL2M7KHU9b2UobyxwLnByZXYucCxmLGcscC5uZXh0Lm5leHQucCx5LGwpKSYmTWF0aC5taW4ocGUodSxmKSxwZSh1LGcpKTw9eSYmKHMucHVzaChwKSxzLnB1c2goaGUodSxwKSksby5yZW1vdmUodSksbC5yZW1vdmUocCksbC5pbnNlcnQoY2UocCkpLGwuaW5zZXJ0KGNlKHAubmV4dCkpKX19cD1yO3ZhciB2PVtdO2Rve3YucHVzaChwLnApLHA9cC5uZXh0fXdoaWxlKHAhPT1yKTtyZXR1cm4gdi5wdXNoKHAucCksdn1mdW5jdGlvbiBvZSh0LGUsbixyLGksbyxzKXtmb3IodmFyIGE9bmV3IFp0KG51bGwsc2UpLHU9dC5kYXRhO3U7KXtmb3IodmFyIGw9MDtsPHUuY2hpbGRyZW4ubGVuZ3RoO2wrKyl7dmFyIGM9dS5jaGlsZHJlbltsXSxoPXUubGVhZj9mZShjLG4scik6YWUobixyLGMpO2g+b3x8YS5wdXNoKHtub2RlOmMsZGlzdDpofSl9Zm9yKDthLmxlbmd0aCYmIWEucGVlaygpLm5vZGUuY2hpbGRyZW47KXt2YXIgcD1hLnBvcCgpLGY9cC5ub2RlLGc9ZmUoZixlLG4pLGQ9ZmUoZixyLGkpO2lmKHAuZGlzdDxnJiZwLmRpc3Q8ZCYmbGUobixmLHMpJiZsZShyLGYscykpcmV0dXJuIGZ9KHU9YS5wb3AoKSkmJih1PXUubm9kZSl9cmV0dXJuIG51bGx9ZnVuY3Rpb24gc2UodCxlKXtyZXR1cm4gdC5kaXN0LWUuZGlzdH1mdW5jdGlvbiBhZSh0LGUsbil7aWYodWUodCxuKXx8dWUoZSxuKSlyZXR1cm4gMDt2YXIgcj1nZSh0WzBdLHRbMV0sZVswXSxlWzFdLG4ubWluWCxuLm1pblksbi5tYXhYLG4ubWluWSk7aWYoMD09PXIpcmV0dXJuIDA7dmFyIGk9Z2UodFswXSx0WzFdLGVbMF0sZVsxXSxuLm1pblgsbi5taW5ZLG4ubWluWCxuLm1heFkpO2lmKDA9PT1pKXJldHVybiAwO3ZhciBvPWdlKHRbMF0sdFsxXSxlWzBdLGVbMV0sbi5tYXhYLG4ubWluWSxuLm1heFgsbi5tYXhZKTtpZigwPT09bylyZXR1cm4gMDt2YXIgcz1nZSh0WzBdLHRbMV0sZVswXSxlWzFdLG4ubWluWCxuLm1heFksbi5tYXhYLG4ubWF4WSk7cmV0dXJuIDA9PT1zPzA6TWF0aC5taW4ocixpLG8scyl9ZnVuY3Rpb24gdWUodCxlKXtyZXR1cm4gdFswXT49ZS5taW5YJiZ0WzBdPD1lLm1heFgmJnRbMV0+PWUubWluWSYmdFsxXTw9ZS5tYXhZfWZ1bmN0aW9uIGxlKHQsZSxuKXtmb3IodmFyIHIsaSxvLHMsYT1NYXRoLm1pbih0WzBdLGVbMF0pLHU9TWF0aC5taW4odFsxXSxlWzFdKSxsPU1hdGgubWF4KHRbMF0sZVswXSksYz1NYXRoLm1heCh0WzFdLGVbMV0pLGg9bi5zZWFyY2goe21pblg6YSxtaW5ZOnUsbWF4WDpsLG1heFk6Y30pLHA9MDtwPGgubGVuZ3RoO3ArKylpZihyPWhbcF0ucCxpPWhbcF0ubmV4dC5wLG89dCxyIT09KHM9ZSkmJmkhPT1vJiZlZShyLGksbyk+MCE9ZWUocixpLHMpPjAmJmVlKG8scyxyKT4wIT1lZShvLHMsaSk+MClyZXR1cm4hMTtyZXR1cm4hMH1mdW5jdGlvbiBjZSh0KXt2YXIgZT10LnAsbj10Lm5leHQucDtyZXR1cm4gdC5taW5YPU1hdGgubWluKGVbMF0sblswXSksdC5taW5ZPU1hdGgubWluKGVbMV0sblsxXSksdC5tYXhYPU1hdGgubWF4KGVbMF0sblswXSksdC5tYXhZPU1hdGgubWF4KGVbMV0sblsxXSksdH1mdW5jdGlvbiBoZSh0LGUpe3ZhciBuPXtwOnQscHJldjpudWxsLG5leHQ6bnVsbCxtaW5YOjAsbWluWTowLG1heFg6MCxtYXhZOjB9O3JldHVybiBlPyhuLm5leHQ9ZS5uZXh0LG4ucHJldj1lLGUubmV4dC5wcmV2PW4sZS5uZXh0PW4pOihuLnByZXY9bixuLm5leHQ9biksbn1mdW5jdGlvbiBwZSh0LGUpe3ZhciBuPXRbMF0tZVswXSxyPXRbMV0tZVsxXTtyZXR1cm4gbipuK3Iqcn1mdW5jdGlvbiBmZSh0LGUsbil7dmFyIHI9ZVswXSxpPWVbMV0sbz1uWzBdLXIscz1uWzFdLWk7aWYoMCE9PW98fDAhPT1zKXt2YXIgYT0oKHRbMF0tcikqbysodFsxXS1pKSpzKS8obypvK3Mqcyk7YT4xPyhyPW5bMF0saT1uWzFdKTphPjAmJihyKz1vKmEsaSs9cyphKX1yZXR1cm4obz10WzBdLXIpKm8rKHM9dFsxXS1pKSpzfWZ1bmN0aW9uIGdlKHQsZSxuLHIsaSxvLHMsYSl7dmFyIHUsbCxjLGgscD1uLXQsZj1yLWUsZz1zLWksZD1hLW8seT10LWksdj1lLW8sXz1wKnArZipmLG09cCpnK2YqZCx4PWcqZytkKmQsRT1wKnkrZip2LGI9Zyp5K2Qqdix3PV8qeC1tKm0sST13LE49dzswPT09dz8obD0wLEk9MSxoPWIsTj14KTooaD1fKmItbSpFLChsPW0qYi14KkUpPDA/KGw9MCxoPWIsTj14KTpsPkkmJihsPUksaD1iK20sTj14KSksaDwwPyhoPTAsLUU8MD9sPTA6LUU+Xz9sPUk6KGw9LUUsST1fKSk6aD5OJiYoaD1OLC1FK208MD9sPTA6LUUrbT5fP2w9SToobD0tRSttLEk9XykpO3ZhciBTPSgxLShjPTA9PT1oPzA6aC9OKSkqaStjKnMtKCgxLSh1PTA9PT1sPzA6bC9JKSkqdCt1Km4pLEM9KDEtYykqbytjKmEtKCgxLXUpKmUrdSpyKTtyZXR1cm4gUypTK0MqQ31mdW5jdGlvbiBkZSh0LGUpe3ZvaWQgMD09PWUmJihlPXt9KSxlLmNvbmNhdml0eT1lLmNvbmNhdml0eXx8MS8wO3ZhciBuPVtdO2lmKFIodCwoZnVuY3Rpb24odCl7bi5wdXNoKFt0WzBdLHRbMV1dKX0pKSwhbi5sZW5ndGgpcmV0dXJuIG51bGw7dmFyIHI9bmUobixlLmNvbmNhdml0eSk7cmV0dXJuIHIubGVuZ3RoPjM/bChbcl0pOm51bGx9ZnVuY3Rpb24geWUodCxlLG4pe2lmKHZvaWQgMD09PW4mJihuPXt9KSwhdCl0aHJvdyBuZXcgRXJyb3IoInBvaW50IGlzIHJlcXVpcmVkIik7aWYoIWUpdGhyb3cgbmV3IEVycm9yKCJwb2x5Z29uIGlzIHJlcXVpcmVkIik7dmFyIHI9Syh0KSxpPXJ0KGUpLG89aS50eXBlLHM9ZS5iYm94LGE9aS5jb29yZGluYXRlcztpZihzJiYhMT09PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGVbMF08PXRbMF0mJmVbMV08PXRbMV0mJmVbMl0+PXRbMF0mJmVbM10+PXRbMV19KHIscykpcmV0dXJuITE7IlBvbHlnb24iPT09byYmKGE9W2FdKTtmb3IodmFyIHU9ITEsbD0wO2w8YS5sZW5ndGgmJiF1O2wrKylpZih2ZShyLGFbbF1bMF0sbi5pZ25vcmVCb3VuZGFyeSkpe2Zvcih2YXIgYz0hMSxoPTE7aDxhW2xdLmxlbmd0aCYmIWM7KXZlKHIsYVtsXVtoXSwhbi5pZ25vcmVCb3VuZGFyeSkmJihjPSEwKSxoKys7Y3x8KHU9ITApfXJldHVybiB1fWZ1bmN0aW9uIHZlKHQsZSxuKXt2YXIgcj0hMTtlWzBdWzBdPT09ZVtlLmxlbmd0aC0xXVswXSYmZVswXVsxXT09PWVbZS5sZW5ndGgtMV1bMV0mJihlPWUuc2xpY2UoMCxlLmxlbmd0aC0xKSk7Zm9yKHZhciBpPTAsbz1lLmxlbmd0aC0xO2k8ZS5sZW5ndGg7bz1pKyspe3ZhciBzPWVbaV1bMF0sYT1lW2ldWzFdLHU9ZVtvXVswXSxsPWVbb11bMV07aWYodFsxXSoocy11KSthKih1LXRbMF0pK2wqKHRbMF0tcyk9PTAmJihzLXRbMF0pKih1LXRbMF0pPD0wJiYoYS10WzFdKSoobC10WzFdKTw9MClyZXR1cm4hbjthPnRbMV0hPWw+dFsxXSYmdFswXTwodS1zKSoodFsxXS1hKS8obC1hKStzJiYocj0hcil9cmV0dXJuIHJ9ZnVuY3Rpb24gX2UodCxlKXt2YXIgbj1bXTtyZXR1cm4gRih0LChmdW5jdGlvbih0KXt2YXIgcj0hMTtpZigiUG9pbnQiPT09dC5nZW9tZXRyeS50eXBlKXEoZSwoZnVuY3Rpb24oZSl7eWUodCxlKSYmKHI9ITApfSkpLHImJm4ucHVzaCh0KTtlbHNle2lmKCJNdWx0aVBvaW50IiE9PXQuZ2VvbWV0cnkudHlwZSl0aHJvdyBuZXcgRXJyb3IoIklucHV0IGdlb21ldHJ5IG11c3QgYmUgYSBQb2ludCBvciBNdWx0aVBvaW50Iik7dmFyIGk9W107cShlLChmdW5jdGlvbihlKXtSKHQsKGZ1bmN0aW9uKHQpe3llKHQsZSkmJihyPSEwLGkucHVzaCh0KSl9KSl9KSksciYmbi5wdXNoKGQoaSkpfX0pKSxmKG4pfWZ1bmN0aW9uIG1lKHQsZSxuKXt2b2lkIDA9PT1uJiYobj17fSk7dmFyIHI9Syh0KSxpPUsoZSksbz1JKGlbMV0tclsxXSkscz1JKGlbMF0tclswXSksYT1JKHJbMV0pLHU9SShpWzFdKSxsPU1hdGgucG93KE1hdGguc2luKG8vMiksMikrTWF0aC5wb3coTWF0aC5zaW4ocy8yKSwyKSpNYXRoLmNvcyhhKSpNYXRoLmNvcyh1KTtyZXR1cm4gbSgyKk1hdGguYXRhbjIoTWF0aC5zcXJ0KGwpLE1hdGguc3FydCgxLWwpKSxuLnVuaXRzKX1mdW5jdGlvbiB4ZSh0LGUpe3ZhciBuPSExO3JldHVybiBmKGZ1bmN0aW9uKHQpe2lmKHQubGVuZ3RoPDMpcmV0dXJuW107dC5zb3J0KGJlKTt2YXIgZSxuLHIsaSxvLHMsYT10Lmxlbmd0aC0xLHU9dFthXS54LGw9dFswXS54LGM9dFthXS55LGg9YyxwPTFlLTEyO2Zvcig7YS0tOyl0W2FdLnk8YyYmKGM9dFthXS55KSx0W2FdLnk+aCYmKGg9dFthXS55KTt2YXIgZixnPWwtdSxkPWgtYyx5PWc+ZD9nOmQsdj0uNSoobCt1KSxfPS41KihoK2MpLG09W25ldyBFZSh7X19zZW50aW5lbDohMCx4OnYtMjAqeSx5Ol8teX0se19fc2VudGluZWw6ITAseDp2LHk6XysyMCp5fSx7X19zZW50aW5lbDohMCx4OnYrMjAqeSx5Ol8teX0pXSx4PVtdLEU9W107YT10Lmxlbmd0aDtmb3IoO2EtLTspe2ZvcihFLmxlbmd0aD0wLGY9bS5sZW5ndGg7Zi0tOykoZz10W2FdLngtbVtmXS54KT4wJiZnKmc+bVtmXS5yPyh4LnB1c2gobVtmXSksbS5zcGxpY2UoZiwxKSk6ZypnKyhkPXRbYV0ueS1tW2ZdLnkpKmQ+bVtmXS5yfHwoRS5wdXNoKG1bZl0uYSxtW2ZdLmIsbVtmXS5iLG1bZl0uYyxtW2ZdLmMsbVtmXS5hKSxtLnNwbGljZShmLDEpKTtmb3Iod2UoRSksZj1FLmxlbmd0aDtmOyluPUVbLS1mXSxlPUVbLS1mXSxyPXRbYV0saT1uLngtZS54LG89bi55LWUueSxzPTIqKGkqKHIueS1uLnkpLW8qKHIueC1uLngpKSxNYXRoLmFicyhzKT5wJiZtLnB1c2gobmV3IEVlKGUsbixyKSl9QXJyYXkucHJvdG90eXBlLnB1c2guYXBwbHkoeCxtKSxhPXgubGVuZ3RoO2Zvcig7YS0tOykoeFthXS5hLl9fc2VudGluZWx8fHhbYV0uYi5fX3NlbnRpbmVsfHx4W2FdLmMuX19zZW50aW5lbCkmJnguc3BsaWNlKGEsMSk7cmV0dXJuIHh9KHQuZmVhdHVyZXMubWFwKChmdW5jdGlvbih0KXt2YXIgcj17eDp0Lmdlb21ldHJ5LmNvb3JkaW5hdGVzWzBdLHk6dC5nZW9tZXRyeS5jb29yZGluYXRlc1sxXX07cmV0dXJuIGU/ci56PXQucHJvcGVydGllc1tlXTozPT09dC5nZW9tZXRyeS5jb29yZGluYXRlcy5sZW5ndGgmJihuPSEwLHIuej10Lmdlb21ldHJ5LmNvb3JkaW5hdGVzWzJdKSxyfSkpKS5tYXAoKGZ1bmN0aW9uKHQpe3ZhciBlPVt0LmEueCx0LmEueV0scj1bdC5iLngsdC5iLnldLGk9W3QuYy54LHQuYy55XSxvPXt9O3JldHVybiBuPyhlLnB1c2godC5hLnopLHIucHVzaCh0LmIueiksaS5wdXNoKHQuYy56KSk6bz17YTp0LmEueixiOnQuYi56LGM6dC5jLnp9LGwoW1tlLHIsaSxlXV0sbyl9KSkpfW5lLmRlZmF1bHQ9cmU7dmFyIEVlPWZ1bmN0aW9uKHQsZSxuKXt0aGlzLmE9dCx0aGlzLmI9ZSx0aGlzLmM9bjt2YXIgcixpLG89ZS54LXQueCxzPWUueS10LnksYT1uLngtdC54LHU9bi55LXQueSxsPW8qKHQueCtlLngpK3MqKHQueStlLnkpLGM9YSoodC54K24ueCkrdSoodC55K24ueSksaD0yKihvKihuLnktZS55KS1zKihuLngtZS54KSk7dGhpcy54PSh1KmwtcypjKS9oLHRoaXMueT0obypjLWEqbCkvaCxyPXRoaXMueC10LngsaT10aGlzLnktdC55LHRoaXMucj1yKnIraSppfTtmdW5jdGlvbiBiZSh0LGUpe3JldHVybiBlLngtdC54fWZ1bmN0aW9uIHdlKHQpe3ZhciBlLG4scixpLG8scz10Lmxlbmd0aDt0OmZvcig7czspZm9yKG49dFstLXNdLGU9dFstLXNdLHI9cztyOylpZihvPXRbLS1yXSxlPT09KGk9dFstLXJdKSYmbj09PW98fGU9PT1vJiZuPT09aSl7dC5zcGxpY2UocywyKSx0LnNwbGljZShyLDIpLHMtPTI7Y29udGludWUgdH19ZnVuY3Rpb24gSWUodCl7aWYoIXQpdGhyb3cgbmV3IEVycm9yKCJnZW9qc29uIGlzIHJlcXVpcmVkIik7c3dpdGNoKHQudHlwZSl7Y2FzZSJGZWF0dXJlIjpyZXR1cm4gTmUodCk7Y2FzZSJGZWF0dXJlQ29sbGVjdGlvbiI6cmV0dXJuIGZ1bmN0aW9uKHQpe3ZhciBlPXt0eXBlOiJGZWF0dXJlQ29sbGVjdGlvbiJ9O3JldHVybiBPYmplY3Qua2V5cyh0KS5mb3JFYWNoKChmdW5jdGlvbihuKXtzd2l0Y2gobil7Y2FzZSJ0eXBlIjpjYXNlImZlYXR1cmVzIjpyZXR1cm47ZGVmYXVsdDplW25dPXRbbl19fSkpLGUuZmVhdHVyZXM9dC5mZWF0dXJlcy5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiBOZSh0KX0pKSxlfSh0KTtjYXNlIlBvaW50IjpjYXNlIkxpbmVTdHJpbmciOmNhc2UiUG9seWdvbiI6Y2FzZSJNdWx0aVBvaW50IjpjYXNlIk11bHRpTGluZVN0cmluZyI6Y2FzZSJNdWx0aVBvbHlnb24iOmNhc2UiR2VvbWV0cnlDb2xsZWN0aW9uIjpyZXR1cm4gQ2UodCk7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoInVua25vd24gR2VvSlNPTiB0eXBlIil9fWZ1bmN0aW9uIE5lKHQpe3ZhciBlPXt0eXBlOiJGZWF0dXJlIn07cmV0dXJuIE9iamVjdC5rZXlzKHQpLmZvckVhY2goKGZ1bmN0aW9uKG4pe3N3aXRjaChuKXtjYXNlInR5cGUiOmNhc2UicHJvcGVydGllcyI6Y2FzZSJnZW9tZXRyeSI6cmV0dXJuO2RlZmF1bHQ6ZVtuXT10W25dfX0pKSxlLnByb3BlcnRpZXM9U2UodC5wcm9wZXJ0aWVzKSxlLmdlb21ldHJ5PUNlKHQuZ2VvbWV0cnkpLGV9ZnVuY3Rpb24gU2UodCl7dmFyIGU9e307cmV0dXJuIHQ/KE9iamVjdC5rZXlzKHQpLmZvckVhY2goKGZ1bmN0aW9uKG4pe3ZhciByPXRbbl07Im9iamVjdCI9PXR5cGVvZiByP251bGw9PT1yP2Vbbl09bnVsbDpBcnJheS5pc0FycmF5KHIpP2Vbbl09ci5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0fSkpOmVbbl09U2Uocik6ZVtuXT1yfSkpLGUpOmV9ZnVuY3Rpb24gQ2UodCl7dmFyIGU9e3R5cGU6dC50eXBlfTtyZXR1cm4gdC5iYm94JiYoZS5iYm94PXQuYmJveCksIkdlb21ldHJ5Q29sbGVjdGlvbiI9PT10LnR5cGU/KGUuZ2VvbWV0cmllcz10Lmdlb21ldHJpZXMubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gQ2UodCl9KSksZSk6KGUuY29vcmRpbmF0ZXM9UGUodC5jb29yZGluYXRlcyksZSl9ZnVuY3Rpb24gUGUodCl7dmFyIGU9dDtyZXR1cm4ib2JqZWN0IiE9dHlwZW9mIGVbMF0/ZS5zbGljZSgpOmUubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gUGUodCl9KSl9ZnVuY3Rpb24gTWUodCxlKXtpZih2b2lkIDA9PT1lJiYoZT17fSksIVAoZT1lfHx7fSkpdGhyb3cgbmV3IEVycm9yKCJvcHRpb25zIGlzIGludmFsaWQiKTt2YXIgbj1lLm11dGF0ZTtpZigiRmVhdHVyZUNvbGxlY3Rpb24iIT09aXQodCkpdGhyb3cgbmV3IEVycm9yKCJnZW9qc29uIG11c3QgYmUgYSBGZWF0dXJlQ29sbGVjdGlvbiIpO2lmKCF0LmZlYXR1cmVzLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoImdlb2pzb24gaXMgZW1wdHkiKTshMSE9PW4mJnZvaWQgMCE9PW58fCh0PUllKHQpKTt2YXIgcj1bXSxpPVkodCwoZnVuY3Rpb24odCxlKXt2YXIgbj1mdW5jdGlvbih0LGUpe3ZhciBuLHI9dC5nZW9tZXRyeS5jb29yZGluYXRlcyxpPWUuZ2VvbWV0cnkuY29vcmRpbmF0ZXMsbz1MZShyWzBdKSxzPUxlKHJbci5sZW5ndGgtMV0pLGE9TGUoaVswXSksdT1MZShpW2kubGVuZ3RoLTFdKTtpZihvPT09dSluPWkuY29uY2F0KHIuc2xpY2UoMSkpO2Vsc2UgaWYoYT09PXMpbj1yLmNvbmNhdChpLnNsaWNlKDEpKTtlbHNlIGlmKG89PT1hKW49ci5zbGljZSgxKS5yZXZlcnNlKCkuY29uY2F0KGkpO2Vsc2V7aWYocyE9PXUpcmV0dXJuIG51bGw7bj1yLmNvbmNhdChpLnJldmVyc2UoKS5zbGljZSgxKSl9cmV0dXJuIGgobil9KHQsZSk7cmV0dXJuIG58fChyLnB1c2godCksZSl9KSk7cmV0dXJuIGkmJnIucHVzaChpKSxyLmxlbmd0aD8xPT09ci5sZW5ndGg/clswXTpnKHIubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdC5jb29yZGluYXRlc30pKSk6bnVsbH1mdW5jdGlvbiBMZSh0KXtyZXR1cm4gdFswXS50b1N0cmluZygpKyIsIit0WzFdLnRvU3RyaW5nKCl9ZnVuY3Rpb24gT2UodCl7cmV0dXJuIHR9ZnVuY3Rpb24gUmUodCxlKXt2YXIgbj1mdW5jdGlvbih0KXtpZihudWxsPT10KXJldHVybiBPZTt2YXIgZSxuLHI9dC5zY2FsZVswXSxpPXQuc2NhbGVbMV0sbz10LnRyYW5zbGF0ZVswXSxzPXQudHJhbnNsYXRlWzFdO3JldHVybiBmdW5jdGlvbih0LGEpe2F8fChlPW49MCk7dmFyIHU9MixsPXQubGVuZ3RoLGM9bmV3IEFycmF5KGwpO2ZvcihjWzBdPShlKz10WzBdKSpyK28sY1sxXT0obis9dFsxXSkqaStzO3U8bDspY1t1XT10W3VdLCsrdTtyZXR1cm4gY319KHQudHJhbnNmb3JtKSxyPXQuYXJjcztmdW5jdGlvbiBpKHQsZSl7ZS5sZW5ndGgmJmUucG9wKCk7Zm9yKHZhciBpPXJbdDwwP350OnRdLG89MCxzPWkubGVuZ3RoO288czsrK28pZS5wdXNoKG4oaVtvXSxvKSk7dDwwJiZmdW5jdGlvbih0LGUpe2Zvcih2YXIgbixyPXQubGVuZ3RoLGk9ci1lO2k8LS1yOyluPXRbaV0sdFtpKytdPXRbcl0sdFtyXT1ufShlLHMpfWZ1bmN0aW9uIG8odCl7cmV0dXJuIG4odCl9ZnVuY3Rpb24gcyh0KXtmb3IodmFyIGU9W10sbj0wLHI9dC5sZW5ndGg7bjxyOysrbilpKHRbbl0sZSk7cmV0dXJuIGUubGVuZ3RoPDImJmUucHVzaChlWzBdKSxlfWZ1bmN0aW9uIGEodCl7Zm9yKHZhciBlPXModCk7ZS5sZW5ndGg8NDspZS5wdXNoKGVbMF0pO3JldHVybiBlfWZ1bmN0aW9uIHUodCl7cmV0dXJuIHQubWFwKGEpfXJldHVybiBmdW5jdGlvbiB0KGUpe3ZhciBuLHI9ZS50eXBlO3N3aXRjaChyKXtjYXNlIkdlb21ldHJ5Q29sbGVjdGlvbiI6cmV0dXJue3R5cGU6cixnZW9tZXRyaWVzOmUuZ2VvbWV0cmllcy5tYXAodCl9O2Nhc2UiUG9pbnQiOm49byhlLmNvb3JkaW5hdGVzKTticmVhaztjYXNlIk11bHRpUG9pbnQiOm49ZS5jb29yZGluYXRlcy5tYXAobyk7YnJlYWs7Y2FzZSJMaW5lU3RyaW5nIjpuPXMoZS5hcmNzKTticmVhaztjYXNlIk11bHRpTGluZVN0cmluZyI6bj1lLmFyY3MubWFwKHMpO2JyZWFrO2Nhc2UiUG9seWdvbiI6bj11KGUuYXJjcyk7YnJlYWs7Y2FzZSJNdWx0aVBvbHlnb24iOm49ZS5hcmNzLm1hcCh1KTticmVhaztkZWZhdWx0OnJldHVybiBudWxsfXJldHVybnt0eXBlOnIsY29vcmRpbmF0ZXM6bn19KGUpfWZ1bmN0aW9uIFRlKHQsZSl7dmFyIG49e30scj17fSxpPXt9LG89W10scz0tMTtmdW5jdGlvbiBhKHQsZSl7Zm9yKHZhciByIGluIHQpe3ZhciBpPXRbcl07ZGVsZXRlIGVbaS5zdGFydF0sZGVsZXRlIGkuc3RhcnQsZGVsZXRlIGkuZW5kLGkuZm9yRWFjaCgoZnVuY3Rpb24odCl7blt0PDA/fnQ6dF09MX0pKSxvLnB1c2goaSl9fXJldHVybiBlLmZvckVhY2goKGZ1bmN0aW9uKG4scil7dmFyIGksbz10LmFyY3NbbjwwP35uOm5dO28ubGVuZ3RoPDMmJiFvWzFdWzBdJiYhb1sxXVsxXSYmKGk9ZVsrK3NdLGVbc109bixlW3JdPWkpfSkpLGUuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIG4sbyxzPWZ1bmN0aW9uKGUpe3ZhciBuLHI9dC5hcmNzW2U8MD9+ZTplXSxpPXJbMF07dC50cmFuc2Zvcm0/KG49WzAsMF0sci5mb3JFYWNoKChmdW5jdGlvbih0KXtuWzBdKz10WzBdLG5bMV0rPXRbMV19KSkpOm49cltyLmxlbmd0aC0xXTtyZXR1cm4gZTwwP1tuLGldOltpLG5dfShlKSxhPXNbMF0sdT1zWzFdO2lmKG49aVthXSlpZihkZWxldGUgaVtuLmVuZF0sbi5wdXNoKGUpLG4uZW5kPXUsbz1yW3VdKXtkZWxldGUgcltvLnN0YXJ0XTt2YXIgbD1vPT09bj9uOm4uY29uY2F0KG8pO3JbbC5zdGFydD1uLnN0YXJ0XT1pW2wuZW5kPW8uZW5kXT1sfWVsc2UgcltuLnN0YXJ0XT1pW24uZW5kXT1uO2Vsc2UgaWYobj1yW3VdKWlmKGRlbGV0ZSByW24uc3RhcnRdLG4udW5zaGlmdChlKSxuLnN0YXJ0PWEsbz1pW2FdKXtkZWxldGUgaVtvLmVuZF07dmFyIGM9bz09PW4/bjpvLmNvbmNhdChuKTtyW2Muc3RhcnQ9by5zdGFydF09aVtjLmVuZD1uLmVuZF09Y31lbHNlIHJbbi5zdGFydF09aVtuLmVuZF09bjtlbHNlIHJbKG49W2VdKS5zdGFydD1hXT1pW24uZW5kPXVdPW59KSksYShpLHIpLGEocixpKSxlLmZvckVhY2goKGZ1bmN0aW9uKHQpe25bdDwwP350OnRdfHxvLnB1c2goW3RdKX0pKSxvfWZ1bmN0aW9uIEFlKHQsZSl7dmFyIG49e30scj1bXSxpPVtdO2Z1bmN0aW9uIG8odCl7dC5mb3JFYWNoKChmdW5jdGlvbihlKXtlLmZvckVhY2goKGZ1bmN0aW9uKGUpeyhuW2U9ZTwwP35lOmVdfHwobltlXT1bXSkpLnB1c2godCl9KSl9KSksci5wdXNoKHQpfWZ1bmN0aW9uIHMoZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe2Zvcih2YXIgZSxuPS0xLHI9dC5sZW5ndGgsaT10W3ItMV0sbz0wOysrbjxyOyllPWksaT10W25dLG8rPWVbMF0qaVsxXS1lWzFdKmlbMF07cmV0dXJuIE1hdGguYWJzKG8pfShSZSh0LHt0eXBlOiJQb2x5Z29uIixhcmNzOltlXX0pLmNvb3JkaW5hdGVzWzBdKX1yZXR1cm4gZS5mb3JFYWNoKChmdW5jdGlvbiB0KGUpe3N3aXRjaChlLnR5cGUpe2Nhc2UiR2VvbWV0cnlDb2xsZWN0aW9uIjplLmdlb21ldHJpZXMuZm9yRWFjaCh0KTticmVhaztjYXNlIlBvbHlnb24iOm8oZS5hcmNzKTticmVhaztjYXNlIk11bHRpUG9seWdvbiI6ZS5hcmNzLmZvckVhY2gobyl9fSkpLHIuZm9yRWFjaCgoZnVuY3Rpb24odCl7aWYoIXQuXyl7dmFyIGU9W10scj1bdF07Zm9yKHQuXz0xLGkucHVzaChlKTt0PXIucG9wKCk7KWUucHVzaCh0KSx0LmZvckVhY2goKGZ1bmN0aW9uKHQpe3QuZm9yRWFjaCgoZnVuY3Rpb24odCl7blt0PDA/fnQ6dF0uZm9yRWFjaCgoZnVuY3Rpb24odCl7dC5ffHwodC5fPTEsci5wdXNoKHQpKX0pKX0pKX0pKX19KSksci5mb3JFYWNoKChmdW5jdGlvbih0KXtkZWxldGUgdC5ffSkpLHt0eXBlOiJNdWx0aVBvbHlnb24iLGFyY3M6aS5tYXAoKGZ1bmN0aW9uKGUpe3ZhciByLGk9W107aWYoZS5mb3JFYWNoKChmdW5jdGlvbih0KXt0LmZvckVhY2goKGZ1bmN0aW9uKHQpe3QuZm9yRWFjaCgoZnVuY3Rpb24odCl7blt0PDA/fnQ6dF0ubGVuZ3RoPDImJmkucHVzaCh0KX0pKX0pKX0pKSwocj0oaT1UZSh0LGkpKS5sZW5ndGgpPjEpZm9yKHZhciBvLGEsdT0xLGw9cyhpWzBdKTt1PHI7Kyt1KShvPXMoaVt1XSkpPmwmJihhPWlbMF0saVswXT1pW3VdLGlbdV09YSxsPW8pO3JldHVybiBpfSkpLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIHQubGVuZ3RoPjB9KSl9fXZhciBEZT1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O2Z1bmN0aW9uIEZlKHQsZSxuLHIsaSxvKXszPT09YXJndW1lbnRzLmxlbmd0aCYmKHI9bz1BcnJheSxpPW51bGwpO2Zvcih2YXIgcz1uZXcgcih0PTE8PE1hdGgubWF4KDQsTWF0aC5jZWlsKE1hdGgubG9nKHQpL01hdGguTE4yKSkpLGE9bmV3IG8odCksdT10LTEsbD0wO2w8dDsrK2wpc1tsXT1pO2Z1bmN0aW9uIGMocixvKXtmb3IodmFyIGw9ZShyKSZ1LGM9c1tsXSxoPTA7YyE9aTspe2lmKG4oYyxyKSlyZXR1cm4gYVtsXT1vO2lmKCsraD49dCl0aHJvdyBuZXcgRXJyb3IoImZ1bGwgaGFzaG1hcCIpO2M9c1tsPWwrMSZ1XX1yZXR1cm4gc1tsXT1yLGFbbF09byxvfWZ1bmN0aW9uIGgocixvKXtmb3IodmFyIGw9ZShyKSZ1LGM9c1tsXSxoPTA7YyE9aTspe2lmKG4oYyxyKSlyZXR1cm4gYVtsXTtpZigrK2g+PXQpdGhyb3cgbmV3IEVycm9yKCJmdWxsIGhhc2htYXAiKTtjPXNbbD1sKzEmdV19cmV0dXJuIHNbbF09cixhW2xdPW8sb31mdW5jdGlvbiBwKHIsbyl7Zm9yKHZhciBsPWUocikmdSxjPXNbbF0saD0wO2MhPWk7KXtpZihuKGMscikpcmV0dXJuIGFbbF07aWYoKytoPj10KWJyZWFrO2M9c1tsPWwrMSZ1XX1yZXR1cm4gb31mdW5jdGlvbiBmKCl7Zm9yKHZhciB0PVtdLGU9MCxuPXMubGVuZ3RoO2U8bjsrK2Upe3ZhciByPXNbZV07ciE9aSYmdC5wdXNoKHIpfXJldHVybiB0fXJldHVybntzZXQ6YyxtYXliZVNldDpoLGdldDpwLGtleXM6Zn19ZnVuY3Rpb24ga2UodCxlKXtyZXR1cm4gdFswXT09PWVbMF0mJnRbMV09PT1lWzFdfXZhciBHZT1uZXcgQXJyYXlCdWZmZXIoMTYpLHFlPW5ldyBGbG9hdDY0QXJyYXkoR2UpLEJlPW5ldyBVaW50MzJBcnJheShHZSk7ZnVuY3Rpb24gemUodCl7cWVbMF09dFswXSxxZVsxXT10WzFdO3ZhciBlPUJlWzBdXkJlWzFdO3JldHVybiAyMTQ3NDgzNjQ3JihlPWU8PDVeZT4+N15CZVsyXV5CZVszXSl9ZnVuY3Rpb24gamUodCl7dmFyIGUsbixyLGksbz10LmNvb3JkaW5hdGVzLHM9dC5saW5lcyxhPXQucmluZ3MsdT1mdW5jdGlvbigpe2Zvcih2YXIgdD1GZSgxLjQqby5sZW5ndGgsRSxiLEludDMyQXJyYXksLTEsSW50MzJBcnJheSksZT1uZXcgSW50MzJBcnJheShvLmxlbmd0aCksbj0wLHI9by5sZW5ndGg7bjxyOysrbillW25dPXQubWF5YmVTZXQobixuKTtyZXR1cm4gZX0oKSxsPW5ldyBJbnQzMkFycmF5KG8ubGVuZ3RoKSxjPW5ldyBJbnQzMkFycmF5KG8ubGVuZ3RoKSxoPW5ldyBJbnQzMkFycmF5KG8ubGVuZ3RoKSxwPW5ldyBJbnQ4QXJyYXkoby5sZW5ndGgpLGY9MDtmb3IoZT0wLG49by5sZW5ndGg7ZTxuOysrZSlsW2VdPWNbZV09aFtlXT0tMTtmb3IoZT0wLG49cy5sZW5ndGg7ZTxuOysrZSl7dmFyIGc9c1tlXSxkPWdbMF0seT1nWzFdO2ZvcihyPXVbZF0saT11WysrZF0sKytmLHBbcl09MTsrK2Q8PXk7KXgoZSxyLHI9aSxpPXVbZF0pOysrZixwW2ldPTF9Zm9yKGU9MCxuPW8ubGVuZ3RoO2U8bjsrK2UpbFtlXT0tMTtmb3IoZT0wLG49YS5sZW5ndGg7ZTxuOysrZSl7dmFyIHY9YVtlXSxfPXZbMF0rMSxtPXZbMV07Zm9yKHgoZSx1W20tMV0scj11W18tMV0saT11W19dKTsrK188PW07KXgoZSxyLHI9aSxpPXVbX10pfWZ1bmN0aW9uIHgodCxlLG4scil7aWYobFtuXSE9PXQpe2xbbl09dDt2YXIgaT1jW25dO2lmKGk+PTApe3ZhciBvPWhbbl07aT09PWUmJm89PT1yfHxpPT09ciYmbz09PWV8fCgrK2YscFtuXT0xKX1lbHNlIGNbbl09ZSxoW25dPXJ9fWZ1bmN0aW9uIEUodCl7cmV0dXJuIHplKG9bdF0pfWZ1bmN0aW9uIGIodCxlKXtyZXR1cm4ga2Uob1t0XSxvW2VdKX1sPWM9aD1udWxsO3ZhciB3LEk9ZnVuY3Rpb24odCxlLG4scixpKXszPT09YXJndW1lbnRzLmxlbmd0aCYmKHI9QXJyYXksaT1udWxsKTtmb3IodmFyIG89bmV3IHIodD0xPDxNYXRoLm1heCg0LE1hdGguY2VpbChNYXRoLmxvZyh0KS9NYXRoLkxOMikpKSxzPXQtMSxhPTA7YTx0OysrYSlvW2FdPWk7ZnVuY3Rpb24gdShyKXtmb3IodmFyIGE9ZShyKSZzLHU9b1thXSxsPTA7dSE9aTspe2lmKG4odSxyKSlyZXR1cm4hMDtpZigrK2w+PXQpdGhyb3cgbmV3IEVycm9yKCJmdWxsIGhhc2hzZXQiKTt1PW9bYT1hKzEmc119cmV0dXJuIG9bYV09ciwhMH1mdW5jdGlvbiBsKHIpe2Zvcih2YXIgYT1lKHIpJnMsdT1vW2FdLGw9MDt1IT1pOyl7aWYobih1LHIpKXJldHVybiEwO2lmKCsrbD49dClicmVhazt1PW9bYT1hKzEmc119cmV0dXJuITF9ZnVuY3Rpb24gYygpe2Zvcih2YXIgdD1bXSxlPTAsbj1vLmxlbmd0aDtlPG47KytlKXt2YXIgcj1vW2VdO3IhPWkmJnQucHVzaChyKX1yZXR1cm4gdH1yZXR1cm57YWRkOnUsaGFzOmwsdmFsdWVzOmN9fSgxLjQqZix6ZSxrZSk7Zm9yKGU9MCxuPW8ubGVuZ3RoO2U8bjsrK2UpcFt3PXVbZV1dJiZJLmFkZChvW3ddKTtyZXR1cm4gSX1mdW5jdGlvbiBVZSh0LGUsbixyKXtWZSh0LGUsbiksVmUodCxlLGUrciksVmUodCxlK3Isbil9ZnVuY3Rpb24gVmUodCxlLG4pe2Zvcih2YXIgcixpPWUrKG4tLS1lPj4xKTtlPGk7KytlLC0tbilyPXRbZV0sdFtlXT10W25dLHRbbl09cn1mdW5jdGlvbiBYZSh0KXt2YXIgZSxuLHI9e307Zm9yKGUgaW4gdClyW2VdPW51bGw9PShuPXRbZV0pP3t0eXBlOm51bGx9OigiRmVhdHVyZUNvbGxlY3Rpb24iPT09bi50eXBlP1llOiJGZWF0dXJlIj09PW4udHlwZT9IZTpXZSkobik7cmV0dXJuIHJ9ZnVuY3Rpb24gWWUodCl7dmFyIGU9e3R5cGU6Ikdlb21ldHJ5Q29sbGVjdGlvbiIsZ2VvbWV0cmllczp0LmZlYXR1cmVzLm1hcChIZSl9O3JldHVybiBudWxsIT10LmJib3gmJihlLmJib3g9dC5iYm94KSxlfWZ1bmN0aW9uIEhlKHQpe3ZhciBlLG49V2UodC5nZW9tZXRyeSk7Zm9yKGUgaW4gbnVsbCE9dC5pZCYmKG4uaWQ9dC5pZCksbnVsbCE9dC5iYm94JiYobi5iYm94PXQuYmJveCksdC5wcm9wZXJ0aWVzKXtuLnByb3BlcnRpZXM9dC5wcm9wZXJ0aWVzO2JyZWFrfXJldHVybiBufWZ1bmN0aW9uIFdlKHQpe2lmKG51bGw9PXQpcmV0dXJue3R5cGU6bnVsbH07dmFyIGU9Ikdlb21ldHJ5Q29sbGVjdGlvbiI9PT10LnR5cGU/e3R5cGU6Ikdlb21ldHJ5Q29sbGVjdGlvbiIsZ2VvbWV0cmllczp0Lmdlb21ldHJpZXMubWFwKFdlKX06IlBvaW50Ij09PXQudHlwZXx8Ik11bHRpUG9pbnQiPT09dC50eXBlP3t0eXBlOnQudHlwZSxjb29yZGluYXRlczp0LmNvb3JkaW5hdGVzfTp7dHlwZTp0LnR5cGUsYXJjczp0LmNvb3JkaW5hdGVzfTtyZXR1cm4gbnVsbCE9dC5iYm94JiYoZS5iYm94PXQuYmJveCksZX1mdW5jdGlvbiBKZSh0LGUpe3ZhciBuPWZ1bmN0aW9uKHQpe3ZhciBlPTEvMCxuPTEvMCxyPS0xLzAsaT0tMS8wO2Z1bmN0aW9uIG8odCl7bnVsbCE9dCYmRGUuY2FsbChzLHQudHlwZSkmJnNbdC50eXBlXSh0KX12YXIgcz17R2VvbWV0cnlDb2xsZWN0aW9uOmZ1bmN0aW9uKHQpe3QuZ2VvbWV0cmllcy5mb3JFYWNoKG8pfSxQb2ludDpmdW5jdGlvbih0KXthKHQuY29vcmRpbmF0ZXMpfSxNdWx0aVBvaW50OmZ1bmN0aW9uKHQpe3QuY29vcmRpbmF0ZXMuZm9yRWFjaChhKX0sTGluZVN0cmluZzpmdW5jdGlvbih0KXt1KHQuYXJjcyl9LE11bHRpTGluZVN0cmluZzpmdW5jdGlvbih0KXt0LmFyY3MuZm9yRWFjaCh1KX0sUG9seWdvbjpmdW5jdGlvbih0KXt0LmFyY3MuZm9yRWFjaCh1KX0sTXVsdGlQb2x5Z29uOmZ1bmN0aW9uKHQpe3QuYXJjcy5mb3JFYWNoKGwpfX07ZnVuY3Rpb24gYSh0KXt2YXIgbz10WzBdLHM9dFsxXTtvPGUmJihlPW8pLG8+ciYmKHI9byksczxuJiYobj1zKSxzPmkmJihpPXMpfWZ1bmN0aW9uIHUodCl7dC5mb3JFYWNoKGEpfWZ1bmN0aW9uIGwodCl7dC5mb3JFYWNoKHUpfWZvcih2YXIgYyBpbiB0KW8odFtjXSk7cmV0dXJuIHI+PWUmJmk+PW4/W2UsbixyLGldOnZvaWQgMH0odD1YZSh0KSkscj1lPjAmJm4mJmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1lWzBdLGk9ZVsxXSxvPWVbMl0scz1lWzNdLGE9by1yPyhuLTEpLyhvLXIpOjEsdT1zLWk/KG4tMSkvKHMtaSk6MTtmdW5jdGlvbiBsKHQpe3JldHVybltNYXRoLnJvdW5kKCh0WzBdLXIpKmEpLE1hdGgucm91bmQoKHRbMV0taSkqdSldfWZ1bmN0aW9uIGModCxlKXtmb3IodmFyIG4sbyxzLGwsYyxoPS0xLHA9MCxmPXQubGVuZ3RoLGc9bmV3IEFycmF5KGYpOysraDxmOyluPXRbaF0sbD1NYXRoLnJvdW5kKChuWzBdLXIpKmEpLGM9TWF0aC5yb3VuZCgoblsxXS1pKSp1KSxsPT09byYmYz09PXN8fChnW3ArK109W289bCxzPWNdKTtmb3IoZy5sZW5ndGg9cDtwPGU7KXA9Zy5wdXNoKFtnWzBdWzBdLGdbMF1bMV1dKTtyZXR1cm4gZ31mdW5jdGlvbiBoKHQpe3JldHVybiBjKHQsMil9ZnVuY3Rpb24gcCh0KXtyZXR1cm4gYyh0LDQpfWZ1bmN0aW9uIGYodCl7cmV0dXJuIHQubWFwKHApfWZ1bmN0aW9uIGcodCl7bnVsbCE9dCYmRGUuY2FsbChkLHQudHlwZSkmJmRbdC50eXBlXSh0KX12YXIgZD17R2VvbWV0cnlDb2xsZWN0aW9uOmZ1bmN0aW9uKHQpe3QuZ2VvbWV0cmllcy5mb3JFYWNoKGcpfSxQb2ludDpmdW5jdGlvbih0KXt0LmNvb3JkaW5hdGVzPWwodC5jb29yZGluYXRlcyl9LE11bHRpUG9pbnQ6ZnVuY3Rpb24odCl7dC5jb29yZGluYXRlcz10LmNvb3JkaW5hdGVzLm1hcChsKX0sTGluZVN0cmluZzpmdW5jdGlvbih0KXt0LmFyY3M9aCh0LmFyY3MpfSxNdWx0aUxpbmVTdHJpbmc6ZnVuY3Rpb24odCl7dC5hcmNzPXQuYXJjcy5tYXAoaCl9LFBvbHlnb246ZnVuY3Rpb24odCl7dC5hcmNzPWYodC5hcmNzKX0sTXVsdGlQb2x5Z29uOmZ1bmN0aW9uKHQpe3QuYXJjcz10LmFyY3MubWFwKGYpfX07Zm9yKHZhciB5IGluIHQpZyh0W3ldKTtyZXR1cm57c2NhbGU6WzEvYSwxL3VdLHRyYW5zbGF0ZTpbcixpXX19KHQsbixlKSxpPWZ1bmN0aW9uKHQpe3ZhciBlLG4scixpLG89dC5jb29yZGluYXRlcyxzPXQubGluZXMsYT10LnJpbmdzLHU9cy5sZW5ndGgrYS5sZW5ndGg7Zm9yKGRlbGV0ZSB0LmxpbmVzLGRlbGV0ZSB0LnJpbmdzLHI9MCxpPXMubGVuZ3RoO3I8aTsrK3IpZm9yKGU9c1tyXTtlPWUubmV4dDspKyt1O2ZvcihyPTAsaT1hLmxlbmd0aDtyPGk7KytyKWZvcihuPWFbcl07bj1uLm5leHQ7KSsrdTt2YXIgbD1GZSgyKnUqMS40LHplLGtlKSxjPXQuYXJjcz1bXTtmb3Iocj0wLGk9cy5sZW5ndGg7cjxpOysrcil7ZT1zW3JdO2Rve2goZSl9d2hpbGUoZT1lLm5leHQpfWZvcihyPTAsaT1hLmxlbmd0aDtyPGk7KytyKWlmKChuPWFbcl0pLm5leHQpZG97aChuKX13aGlsZShuPW4ubmV4dCk7ZWxzZSBwKG4pO2Z1bmN0aW9uIGgodCl7dmFyIGUsbixyLGkscyxhLHUsaDtpZihyPWwuZ2V0KGU9b1t0WzBdXSkpZm9yKHU9MCxoPXIubGVuZ3RoO3U8aDsrK3UpaWYoZihpPXJbdV0sdCkpcmV0dXJuIHRbMF09aVswXSx2b2lkKHRbMV09aVsxXSk7aWYocz1sLmdldChuPW9bdFsxXV0pKWZvcih1PTAsaD1zLmxlbmd0aDt1PGg7Kyt1KWlmKGcoYT1zW3VdLHQpKXJldHVybiB0WzFdPWFbMF0sdm9pZCh0WzBdPWFbMV0pO3I/ci5wdXNoKHQpOmwuc2V0KGUsW3RdKSxzP3MucHVzaCh0KTpsLnNldChuLFt0XSksYy5wdXNoKHQpfWZ1bmN0aW9uIHAodCl7dmFyIGUsbixyLGkscztpZihuPWwuZ2V0KG9bdFswXV0pKWZvcihpPTAscz1uLmxlbmd0aDtpPHM7KytpKXtpZihkKHI9bltpXSx0KSlyZXR1cm4gdFswXT1yWzBdLHZvaWQodFsxXT1yWzFdKTtpZih5KHIsdCkpcmV0dXJuIHRbMF09clsxXSx2b2lkKHRbMV09clswXSl9aWYobj1sLmdldChlPW9bdFswXSt2KHQpXSkpZm9yKGk9MCxzPW4ubGVuZ3RoO2k8czsrK2kpe2lmKGQocj1uW2ldLHQpKXJldHVybiB0WzBdPXJbMF0sdm9pZCh0WzFdPXJbMV0pO2lmKHkocix0KSlyZXR1cm4gdFswXT1yWzFdLHZvaWQodFsxXT1yWzBdKX1uP24ucHVzaCh0KTpsLnNldChlLFt0XSksYy5wdXNoKHQpfWZ1bmN0aW9uIGYodCxlKXt2YXIgbj10WzBdLHI9ZVswXSxpPXRbMV07aWYobi1pIT1yLWVbMV0pcmV0dXJuITE7Zm9yKDtuPD1pOysrbiwrK3IpaWYoIWtlKG9bbl0sb1tyXSkpcmV0dXJuITE7cmV0dXJuITB9ZnVuY3Rpb24gZyh0LGUpe3ZhciBuPXRbMF0scj1lWzBdLGk9dFsxXSxzPWVbMV07aWYobi1pIT1yLXMpcmV0dXJuITE7Zm9yKDtuPD1pOysrbiwtLXMpaWYoIWtlKG9bbl0sb1tzXSkpcmV0dXJuITE7cmV0dXJuITB9ZnVuY3Rpb24gZCh0LGUpe3ZhciBuPXRbMF0scj1lWzBdLGk9dFsxXS1uO2lmKGkhPT1lWzFdLXIpcmV0dXJuITE7Zm9yKHZhciBzPXYodCksYT12KGUpLHU9MDt1PGk7Kyt1KWlmKCFrZShvW24rKHUrcyklaV0sb1tyKyh1K2EpJWldKSlyZXR1cm4hMTtyZXR1cm4hMH1mdW5jdGlvbiB5KHQsZSl7dmFyIG49dFswXSxyPWVbMF0saT10WzFdLHM9ZVsxXSxhPWktbjtpZihhIT09cy1yKXJldHVybiExO2Zvcih2YXIgdT12KHQpLGw9YS12KGUpLGM9MDtjPGE7KytjKWlmKCFrZShvW24rKGMrdSklYV0sb1tzLShjK2wpJWFdKSlyZXR1cm4hMTtyZXR1cm4hMH1mdW5jdGlvbiB2KHQpe2Zvcih2YXIgZT10WzBdLG49dFsxXSxyPWUsaT1yLHM9b1tyXTsrK3I8bjspe3ZhciBhPW9bcl07KGFbMF08c1swXXx8YVswXT09PXNbMF0mJmFbMV08c1sxXSkmJihpPXIscz1hKX1yZXR1cm4gaS1lfXJldHVybiB0fShmdW5jdGlvbih0KXt2YXIgZSxuLHIsaT1qZSh0KSxvPXQuY29vcmRpbmF0ZXMscz10LmxpbmVzLGE9dC5yaW5ncztmb3Iobj0wLHI9cy5sZW5ndGg7bjxyOysrbilmb3IodmFyIHU9c1tuXSxsPXVbMF0sYz11WzFdOysrbDxjOylpLmhhcyhvW2xdKSYmKGU9ezA6bCwxOnVbMV19LHVbMV09bCx1PXUubmV4dD1lKTtmb3Iobj0wLHI9YS5sZW5ndGg7bjxyOysrbilmb3IodmFyIGg9YVtuXSxwPWhbMF0sZj1wLGc9aFsxXSxkPWkuaGFzKG9bcF0pOysrZjxnOylpLmhhcyhvW2ZdKSYmKGQ/KGU9ezA6ZiwxOmhbMV19LGhbMV09ZixoPWgubmV4dD1lKTooVWUobyxwLGcsZy1mKSxvW2ddPW9bcF0sZD0hMCxmPXApKTtyZXR1cm4gdH0oZnVuY3Rpb24odCl7dmFyIGU9LTEsbj1bXSxyPVtdLGk9W107ZnVuY3Rpb24gbyh0KXt0JiZEZS5jYWxsKHMsdC50eXBlKSYmc1t0LnR5cGVdKHQpfXZhciBzPXtHZW9tZXRyeUNvbGxlY3Rpb246ZnVuY3Rpb24odCl7dC5nZW9tZXRyaWVzLmZvckVhY2gobyl9LExpbmVTdHJpbmc6ZnVuY3Rpb24odCl7dC5hcmNzPWEodC5hcmNzKX0sTXVsdGlMaW5lU3RyaW5nOmZ1bmN0aW9uKHQpe3QuYXJjcz10LmFyY3MubWFwKGEpfSxQb2x5Z29uOmZ1bmN0aW9uKHQpe3QuYXJjcz10LmFyY3MubWFwKHUpfSxNdWx0aVBvbHlnb246ZnVuY3Rpb24odCl7dC5hcmNzPXQuYXJjcy5tYXAobCl9fTtmdW5jdGlvbiBhKHQpe2Zvcih2YXIgcj0wLG89dC5sZW5ndGg7cjxvOysrcilpWysrZV09dFtyXTt2YXIgcz17MDplLW8rMSwxOmV9O3JldHVybiBuLnB1c2gocyksc31mdW5jdGlvbiB1KHQpe2Zvcih2YXIgbj0wLG89dC5sZW5ndGg7bjxvOysrbilpWysrZV09dFtuXTt2YXIgcz17MDplLW8rMSwxOmV9O3JldHVybiByLnB1c2gocyksc31mdW5jdGlvbiBsKHQpe3JldHVybiB0Lm1hcCh1KX1mb3IodmFyIGMgaW4gdClvKHRbY10pO3JldHVybnt0eXBlOiJUb3BvbG9neSIsY29vcmRpbmF0ZXM6aSxsaW5lczpuLHJpbmdzOnIsb2JqZWN0czp0fX0odCkpKSxvPWkuY29vcmRpbmF0ZXMscz1GZSgxLjQqaS5hcmNzLmxlbmd0aCxaZSxLZSk7ZnVuY3Rpb24gYSh0KXt0JiZEZS5jYWxsKHUsdC50eXBlKSYmdVt0LnR5cGVdKHQpfXQ9aS5vYmplY3RzLGkuYmJveD1uLGkuYXJjcz1pLmFyY3MubWFwKChmdW5jdGlvbih0LGUpe3JldHVybiBzLnNldCh0LGUpLG8uc2xpY2UodFswXSx0WzFdKzEpfSkpLGRlbGV0ZSBpLmNvb3JkaW5hdGVzLG89bnVsbDt2YXIgdT17R2VvbWV0cnlDb2xsZWN0aW9uOmZ1bmN0aW9uKHQpe3QuZ2VvbWV0cmllcy5mb3JFYWNoKGEpfSxMaW5lU3RyaW5nOmZ1bmN0aW9uKHQpe3QuYXJjcz1sKHQuYXJjcyl9LE11bHRpTGluZVN0cmluZzpmdW5jdGlvbih0KXt0LmFyY3M9dC5hcmNzLm1hcChsKX0sUG9seWdvbjpmdW5jdGlvbih0KXt0LmFyY3M9dC5hcmNzLm1hcChsKX0sTXVsdGlQb2x5Z29uOmZ1bmN0aW9uKHQpe3QuYXJjcz10LmFyY3MubWFwKGMpfX07ZnVuY3Rpb24gbCh0KXt2YXIgZT1bXTtkb3t2YXIgbj1zLmdldCh0KTtlLnB1c2godFswXTx0WzFdP246fm4pfXdoaWxlKHQ9dC5uZXh0KTtyZXR1cm4gZX1mdW5jdGlvbiBjKHQpe3JldHVybiB0Lm1hcChsKX1mb3IodmFyIGggaW4gdClhKHRbaF0pO3JldHVybiByJiYoaS50cmFuc2Zvcm09cixpLmFyY3M9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPS0xLG49dC5sZW5ndGg7KytlPG47KXtmb3IodmFyIHIsaSxvPXRbZV0scz0wLGE9MSx1PW8ubGVuZ3RoLGw9b1swXSxjPWxbMF0saD1sWzFdOysrczx1OylyPShsPW9bc10pWzBdLGk9bFsxXSxyPT09YyYmaT09PWh8fChvW2ErK109W3ItYyxpLWhdLGM9cixoPWkpOzE9PT1hJiYob1thKytdPVswLDBdKSxvLmxlbmd0aD1hfXJldHVybiB0fShpLmFyY3MpKSxpfWZ1bmN0aW9uIFplKHQpe3ZhciBlLG49dFswXSxyPXRbMV07cmV0dXJuIHI8biYmKGU9bixuPXIscj1lKSxuKzMxKnJ9ZnVuY3Rpb24gS2UodCxlKXt2YXIgbixyPXRbMF0saT10WzFdLG89ZVswXSxzPWVbMV07cmV0dXJuIGk8ciYmKG49cixyPWksaT1uKSxzPG8mJihuPW8sbz1zLHM9bikscj09PW8mJmk9PT1zfWZ1bmN0aW9uIFFlKHQsZSl7aWYodm9pZCAwPT09ZSYmKGU9e30pLCJGZWF0dXJlQ29sbGVjdGlvbiIhPT1pdCh0KSl0aHJvdyBuZXcgRXJyb3IoImdlb2pzb24gbXVzdCBiZSBhIEZlYXR1cmVDb2xsZWN0aW9uIik7aWYoIXQuZmVhdHVyZXMubGVuZ3RoKXRocm93IG5ldyBFcnJvcigiZ2VvanNvbiBpcyBlbXB0eSIpOyExIT09ZS5tdXRhdGUmJnZvaWQgMCE9PWUubXV0YXRlfHwodD1JZSh0KSk7dmFyIG49W107eih0LChmdW5jdGlvbih0KXtuLnB1c2godC5nZW9tZXRyeSl9KSk7dmFyIHI9SmUoe2dlb21zOnYobikuZ2VvbWV0cnl9KTtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIFJlKHQsQWUuYXBwbHkodGhpcyxhcmd1bWVudHMpKX0ocixyLm9iamVjdHMuZ2VvbXMuZ2VvbWV0cmllcyl9ZnVuY3Rpb24gJGUodCxlKXtpZih2b2lkIDA9PT1lJiYoZT17fSksIVAoZT1lfHx7fSkpdGhyb3cgbmV3IEVycm9yKCJvcHRpb25zIGlzIGludmFsaWQiKTt2YXIgbj1lLm11dGF0ZTtpZigiRmVhdHVyZUNvbGxlY3Rpb24iIT09aXQodCkpdGhyb3cgbmV3IEVycm9yKCJnZW9qc29uIG11c3QgYmUgYSBGZWF0dXJlQ29sbGVjdGlvbiIpO2lmKCF0LmZlYXR1cmVzLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoImdlb2pzb24gaXMgZW1wdHkiKTshMSE9PW4mJnZvaWQgMCE9PW58fCh0PUllKHQpKTt2YXIgcj1mdW5jdGlvbih0KXt2YXIgZT17fTt6KHQsKGZ1bmN0aW9uKHQpe2VbdC5nZW9tZXRyeS50eXBlXT0hMH0pKTt2YXIgbj1PYmplY3Qua2V5cyhlKTtpZigxPT09bi5sZW5ndGgpcmV0dXJuIG5bMF07cmV0dXJuIG51bGx9KHQpO2lmKCFyKXRocm93IG5ldyBFcnJvcigiZ2VvanNvbiBtdXN0IGJlIGhvbW9nZW5vdXMiKTt2YXIgaT10O3N3aXRjaChyKXtjYXNlIkxpbmVTdHJpbmciOnJldHVybiBNZShpLGUpO2Nhc2UiUG9seWdvbiI6cmV0dXJuIFFlKGksZSk7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IocisiIGlzIG5vdCBzdXBwb3J0ZWQiKX19ZnVuY3Rpb24gdG4odCxlKXt2b2lkIDA9PT1lJiYoZT17fSk7dmFyIG49Im9iamVjdCI9PXR5cGVvZiBlP2UubXV0YXRlOmU7aWYoIXQpdGhyb3cgbmV3IEVycm9yKCJnZW9qc29uIGlzIHJlcXVpcmVkIik7dmFyIHI9aXQodCksaT1bXTtzd2l0Y2gocil7Y2FzZSJMaW5lU3RyaW5nIjppPWVuKHQpO2JyZWFrO2Nhc2UiTXVsdGlMaW5lU3RyaW5nIjpjYXNlIlBvbHlnb24iOlEodCkuZm9yRWFjaCgoZnVuY3Rpb24odCl7aS5wdXNoKGVuKHQpKX0pKTticmVhaztjYXNlIk11bHRpUG9seWdvbiI6USh0KS5mb3JFYWNoKChmdW5jdGlvbih0KXt2YXIgZT1bXTt0LmZvckVhY2goKGZ1bmN0aW9uKHQpe2UucHVzaChlbih0KSl9KSksaS5wdXNoKGUpfSkpO2JyZWFrO2Nhc2UiUG9pbnQiOnJldHVybiB0O2Nhc2UiTXVsdGlQb2ludCI6dmFyIHM9e307USh0KS5mb3JFYWNoKChmdW5jdGlvbih0KXt2YXIgZT10LmpvaW4oIi0iKTtPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocyxlKXx8KGkucHVzaCh0KSxzW2VdPSEwKX0pKTticmVhaztkZWZhdWx0OnRocm93IG5ldyBFcnJvcihyKyIgZ2VvbWV0cnkgbm90IHN1cHBvcnRlZCIpfXJldHVybiB0LmNvb3JkaW5hdGVzPyEwPT09bj8odC5jb29yZGluYXRlcz1pLHQpOnt0eXBlOnIsY29vcmRpbmF0ZXM6aX06ITA9PT1uPyh0Lmdlb21ldHJ5LmNvb3JkaW5hdGVzPWksdCk6byh7dHlwZTpyLGNvb3JkaW5hdGVzOml9LHQucHJvcGVydGllcyx7YmJveDp0LmJib3gsaWQ6dC5pZH0pfWZ1bmN0aW9uIGVuKHQpe3ZhciBlPVEodCk7aWYoMj09PWUubGVuZ3RoJiYhbm4oZVswXSxlWzFdKSlyZXR1cm4gZTt2YXIgbj1bXSxyPWUubGVuZ3RoLTEsaT1uLmxlbmd0aDtuLnB1c2goZVswXSk7Zm9yKHZhciBvPTE7bzxyO28rKyl7dmFyIHM9bltuLmxlbmd0aC0xXTtlW29dWzBdPT09c1swXSYmZVtvXVsxXT09PXNbMV18fChuLnB1c2goZVtvXSksKGk9bi5sZW5ndGgpPjImJnJuKG5baS0zXSxuW2ktMV0sbltpLTJdKSYmbi5zcGxpY2Uobi5sZW5ndGgtMiwxKSl9aWYobi5wdXNoKGVbZS5sZW5ndGgtMV0pLGk9bi5sZW5ndGgsbm4oZVswXSxlW2UubGVuZ3RoLTFdKSYmaTw0KXRocm93IG5ldyBFcnJvcigiaW52YWxpZCBwb2x5Z29uIik7cmV0dXJuIHJuKG5baS0zXSxuW2ktMV0sbltpLTJdKSYmbi5zcGxpY2Uobi5sZW5ndGgtMiwxKSxufWZ1bmN0aW9uIG5uKHQsZSl7cmV0dXJuIHRbMF09PT1lWzBdJiZ0WzFdPT09ZVsxXX1mdW5jdGlvbiBybih0LGUsbil7dmFyIHI9blswXSxpPW5bMV0sbz10WzBdLHM9dFsxXSxhPWVbMF0sdT1lWzFdLGw9YS1vLGM9dS1zO3JldHVybiAwPT09KHItbykqYy0oaS1zKSpsJiYoTWF0aC5hYnMobCk+PU1hdGguYWJzKGMpP2w+MD9vPD1yJiZyPD1hOmE8PXImJnI8PW86Yz4wP3M8PWkmJmk8PXU6dTw9aSYmaTw9cyl9ZnVuY3Rpb24gb24odCxlLG4pe3ZhciByPWUueCxpPWUueSxvPW4ueC1yLHM9bi55LWk7aWYoMCE9PW98fDAhPT1zKXt2YXIgYT0oKHQueC1yKSpvKyh0LnktaSkqcykvKG8qbytzKnMpO2E+MT8ocj1uLngsaT1uLnkpOmE+MCYmKHIrPW8qYSxpKz1zKmEpfXJldHVybihvPXQueC1yKSpvKyhzPXQueS1pKSpzfWZ1bmN0aW9uIHNuKHQsZSxuLHIsaSl7Zm9yKHZhciBvLHM9cixhPWUrMTthPG47YSsrKXt2YXIgdT1vbih0W2FdLHRbZV0sdFtuXSk7dT5zJiYobz1hLHM9dSl9cz5yJiYoby1lPjEmJnNuKHQsZSxvLHIsaSksaS5wdXNoKHRbb10pLG4tbz4xJiZzbih0LG8sbixyLGkpKX1mdW5jdGlvbiBhbih0LGUpe3ZhciBuPXQubGVuZ3RoLTEscj1bdFswXV07cmV0dXJuIHNuKHQsMCxuLGUsciksci5wdXNoKHRbbl0pLHJ9ZnVuY3Rpb24gdW4odCxlLG4pe2lmKHQubGVuZ3RoPD0yKXJldHVybiB0O3ZhciByPXZvaWQgMCE9PWU/ZSplOjE7cmV0dXJuIHQ9YW4odD1uP3Q6ZnVuY3Rpb24odCxlKXtmb3IodmFyIG4scixpLG8scyxhPXRbMF0sdT1bYV0sbD0xLGM9dC5sZW5ndGg7bDxjO2wrKyluPXRbbF0saT1hLG89dm9pZCAwLHM9dm9pZCAwLG89KHI9bikueC1pLngscz1yLnktaS55LG8qbytzKnM+ZSYmKHUucHVzaChuKSxhPW4pO3JldHVybiBhIT09biYmdS5wdXNoKG4pLHV9KHQscikscil9ZnVuY3Rpb24gbG4odCxlLG4pe3JldHVybiB1bih0Lm1hcCgoZnVuY3Rpb24odCl7cmV0dXJue3g6dFswXSx5OnRbMV0sejp0WzJdfX0pKSxlLG4pLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHQuej9bdC54LHQueSx0LnpdOlt0LngsdC55XX0pKX1mdW5jdGlvbiBjbih0LGUsbil7cmV0dXJuIHQubWFwKChmdW5jdGlvbih0KXt2YXIgcj10Lm1hcCgoZnVuY3Rpb24odCl7cmV0dXJue3g6dFswXSx5OnRbMV19fSkpO2lmKHIubGVuZ3RoPDQpdGhyb3cgbmV3IEVycm9yKCJpbnZhbGlkIHBvbHlnb24iKTtmb3IodmFyIGk9dW4ocixlLG4pLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuW3QueCx0LnldfSkpOyFobihpKTspaT11bihyLGUtPS4wMSplLG4pLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuW3QueCx0LnldfSkpO3JldHVybiBpW2kubGVuZ3RoLTFdWzBdPT09aVswXVswXSYmaVtpLmxlbmd0aC0xXVsxXT09PWlbMF1bMV18fGkucHVzaChpWzBdKSxpfSkpfWZ1bmN0aW9uIGhuKHQpe3JldHVybiEodC5sZW5ndGg8MykmJiEoMz09PXQubGVuZ3RoJiZ0WzJdWzBdPT09dFswXVswXSYmdFsyXVsxXT09PXRbMF1bMV0pfXZhciBwbj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dGhpcy5wb2ludHM9dC5wb2ludHN8fFtdLHRoaXMuZHVyYXRpb249dC5kdXJhdGlvbnx8MWU0LHRoaXMuc2hhcnBuZXNzPXQuc2hhcnBuZXNzfHwuODUsdGhpcy5jZW50ZXJzPVtdLHRoaXMuY29udHJvbHM9W10sdGhpcy5zdGVwTGVuZ3RoPXQuc3RlcExlbmd0aHx8NjAsdGhpcy5sZW5ndGg9dGhpcy5wb2ludHMubGVuZ3RoLHRoaXMuZGVsYXk9MDtmb3IodmFyIGU9MDtlPHRoaXMubGVuZ3RoO2UrKyl0aGlzLnBvaW50c1tlXS56PXRoaXMucG9pbnRzW2VdLnp8fDA7Zm9yKGU9MDtlPHRoaXMubGVuZ3RoLTE7ZSsrKXt2YXIgbj10aGlzLnBvaW50c1tlXSxyPXRoaXMucG9pbnRzW2UrMV07dGhpcy5jZW50ZXJzLnB1c2goe3g6KG4ueCtyLngpLzIseToobi55K3IueSkvMix6OihuLnorci56KS8yfSl9dGhpcy5jb250cm9scy5wdXNoKFt0aGlzLnBvaW50c1swXSx0aGlzLnBvaW50c1swXV0pO2ZvcihlPTA7ZTx0aGlzLmNlbnRlcnMubGVuZ3RoLTE7ZSsrKXt2YXIgaT10aGlzLnBvaW50c1tlKzFdLngtKHRoaXMuY2VudGVyc1tlXS54K3RoaXMuY2VudGVyc1tlKzFdLngpLzIsbz10aGlzLnBvaW50c1tlKzFdLnktKHRoaXMuY2VudGVyc1tlXS55K3RoaXMuY2VudGVyc1tlKzFdLnkpLzIscz10aGlzLnBvaW50c1tlKzFdLnotKHRoaXMuY2VudGVyc1tlXS55K3RoaXMuY2VudGVyc1tlKzFdLnopLzI7dGhpcy5jb250cm9scy5wdXNoKFt7eDooMS10aGlzLnNoYXJwbmVzcykqdGhpcy5wb2ludHNbZSsxXS54K3RoaXMuc2hhcnBuZXNzKih0aGlzLmNlbnRlcnNbZV0ueCtpKSx5OigxLXRoaXMuc2hhcnBuZXNzKSp0aGlzLnBvaW50c1tlKzFdLnkrdGhpcy5zaGFycG5lc3MqKHRoaXMuY2VudGVyc1tlXS55K28pLHo6KDEtdGhpcy5zaGFycG5lc3MpKnRoaXMucG9pbnRzW2UrMV0ueit0aGlzLnNoYXJwbmVzcyoodGhpcy5jZW50ZXJzW2VdLnorcyl9LHt4OigxLXRoaXMuc2hhcnBuZXNzKSp0aGlzLnBvaW50c1tlKzFdLngrdGhpcy5zaGFycG5lc3MqKHRoaXMuY2VudGVyc1tlKzFdLngraSkseTooMS10aGlzLnNoYXJwbmVzcykqdGhpcy5wb2ludHNbZSsxXS55K3RoaXMuc2hhcnBuZXNzKih0aGlzLmNlbnRlcnNbZSsxXS55K28pLHo6KDEtdGhpcy5zaGFycG5lc3MpKnRoaXMucG9pbnRzW2UrMV0ueit0aGlzLnNoYXJwbmVzcyoodGhpcy5jZW50ZXJzW2UrMV0ueitzKX1dKX1yZXR1cm4gdGhpcy5jb250cm9scy5wdXNoKFt0aGlzLnBvaW50c1t0aGlzLmxlbmd0aC0xXSx0aGlzLnBvaW50c1t0aGlzLmxlbmd0aC0xXV0pLHRoaXMuc3RlcHM9dGhpcy5jYWNoZVN0ZXBzKHRoaXMuc3RlcExlbmd0aCksdGhpc31yZXR1cm4gdC5wcm90b3R5cGUuY2FjaGVTdGVwcz1mdW5jdGlvbih0KXt2YXIgZT1bXSxuPXRoaXMucG9zKDApO2UucHVzaCgwKTtmb3IodmFyIHI9MDtyPHRoaXMuZHVyYXRpb247cis9MTApe3ZhciBpPXRoaXMucG9zKHIpO01hdGguc3FydCgoaS54LW4ueCkqKGkueC1uLngpKyhpLnktbi55KSooaS55LW4ueSkrKGkuei1uLnopKihpLnotbi56KSk+dCYmKGUucHVzaChyKSxuPWkpfXJldHVybiBlfSx0LnByb3RvdHlwZS52ZWN0b3I9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5wb3ModCsxMCksbj10aGlzLnBvcyh0LTEwKTtyZXR1cm57YW5nbGU6MTgwKk1hdGguYXRhbjIoZS55LW4ueSxlLngtbi54KS8zLjE0LHNwZWVkOk1hdGguc3FydCgobi54LWUueCkqKG4ueC1lLngpKyhuLnktZS55KSoobi55LWUueSkrKG4uei1lLnopKihuLnotZS56KSl9fSx0LnByb3RvdHlwZS5wb3M9ZnVuY3Rpb24odCl7dmFyIGU9dC10aGlzLmRlbGF5O2U8MCYmKGU9MCksZT50aGlzLmR1cmF0aW9uJiYoZT10aGlzLmR1cmF0aW9uLTEpO3ZhciBuPWUvdGhpcy5kdXJhdGlvbjtpZihuPj0xKXJldHVybiB0aGlzLnBvaW50c1t0aGlzLmxlbmd0aC0xXTt2YXIgcj1NYXRoLmZsb29yKCh0aGlzLnBvaW50cy5sZW5ndGgtMSkqbik7cmV0dXJuIGZ1bmN0aW9uKHQsZSxuLHIsaSl7dmFyIG89ZnVuY3Rpb24odCl7dmFyIGU9dCp0O3JldHVybltlKnQsMyplKigxLXQpLDMqdCooMS10KSooMS10KSwoMS10KSooMS10KSooMS10KV19KHQpO3JldHVybnt4OmkueCpvWzBdK3IueCpvWzFdK24ueCpvWzJdK2UueCpvWzNdLHk6aS55Km9bMF0rci55Km9bMV0rbi55Km9bMl0rZS55Km9bM10sejppLnoqb1swXStyLnoqb1sxXStuLnoqb1syXStlLnoqb1szXX19KCh0aGlzLmxlbmd0aC0xKSpuLXIsdGhpcy5wb2ludHNbcl0sdGhpcy5jb250cm9sc1tyXVsxXSx0aGlzLmNvbnRyb2xzW3IrMV1bMF0sdGhpcy5wb2ludHNbcisxXSl9LHR9KCk7ZnVuY3Rpb24gZm4odCxlKXt2b2lkIDA9PT1lJiYoZT17fSk7Zm9yKHZhciBuPWUucmVzb2x1dGlvbnx8MWU0LHI9ZS5zaGFycG5lc3N8fC44NSxpPVtdLG89cnQodCkuY29vcmRpbmF0ZXMubWFwKChmdW5jdGlvbih0KXtyZXR1cm57eDp0WzBdLHk6dFsxXX19KSkscz1uZXcgcG4oe2R1cmF0aW9uOm4scG9pbnRzOm8sc2hhcnBuZXNzOnJ9KSxhPWZ1bmN0aW9uKHQpe3ZhciBlPXMucG9zKHQpO01hdGguZmxvb3IodC8xMDApJTI9PTAmJmkucHVzaChbZS54LGUueV0pfSx1PTA7dTxzLmR1cmF0aW9uO3UrPTEwKWEodSk7cmV0dXJuIGEocy5kdXJhdGlvbiksaChpLGUucHJvcGVydGllcyl9ZnVuY3Rpb24gZ24odCxlKXt2b2lkIDA9PT1lJiYoZT17fSk7dmFyIG49TnVtYmVyKHRbMF0pLHI9TnVtYmVyKHRbMV0pLGk9TnVtYmVyKHRbMl0pLG89TnVtYmVyKHRbM10pO2lmKDY9PT10Lmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoIkB0dXJmL2Jib3gtcG9seWdvbiBkb2VzIG5vdCBzdXBwb3J0IEJCb3ggd2l0aCA2IHBvc2l0aW9ucyIpO3ZhciBzPVtuLHJdO3JldHVybiBsKFtbcyxbaSxyXSxbaSxvXSxbbixvXSxzXV0sZS5wcm9wZXJ0aWVzLHtiYm94OnQsaWQ6ZS5pZH0pfWZ1bmN0aW9uIGRuKHQpe3JldHVybiBnbihaKHQpKX1mdW5jdGlvbiB5bih0KXt2YXIgZT10WzBdLG49dFsxXSxyPXRbMl0saT10WzNdO2lmKG1lKHQuc2xpY2UoMCwyKSxbcixuXSk+PW1lKHQuc2xpY2UoMCwyKSxbZSxpXSkpe3ZhciBvPShuK2kpLzI7cmV0dXJuW2Usby0oci1lKS8yLHIsbysoci1lKS8yXX12YXIgcz0oZStyKS8yO3JldHVybltzLShpLW4pLzIsbixzKyhpLW4pLzIsaV19ZnVuY3Rpb24gdm4odCxlLG4scil7dm9pZCAwPT09ciYmKHI9e30pO3ZhciBpPUsodCksbz1JKGlbMF0pLHM9SShpWzFdKSx1PUkobiksbD14KGUsci51bml0cyksYz1NYXRoLmFzaW4oTWF0aC5zaW4ocykqTWF0aC5jb3MobCkrTWF0aC5jb3MocykqTWF0aC5zaW4obCkqTWF0aC5jb3ModSkpO3JldHVybiBhKFt3KG8rTWF0aC5hdGFuMihNYXRoLnNpbih1KSpNYXRoLnNpbihsKSpNYXRoLmNvcyhzKSxNYXRoLmNvcyhsKS1NYXRoLnNpbihzKSpNYXRoLnNpbihjKSkpLHcoYyldLHIucHJvcGVydGllcyl9ZnVuY3Rpb24gX24odCxlLG4pe3ZvaWQgMD09PW4mJihuPXt9KTtmb3IodmFyIHI9bi5zdGVwc3x8NjQsaT1uLnByb3BlcnRpZXM/bi5wcm9wZXJ0aWVzOiFBcnJheS5pc0FycmF5KHQpJiYiRmVhdHVyZSI9PT10LnR5cGUmJnQucHJvcGVydGllcz90LnByb3BlcnRpZXM6e30sbz1bXSxzPTA7czxyO3MrKylvLnB1c2godm4odCxlLC0zNjAqcy9yLG4pLmdlb21ldHJ5LmNvb3JkaW5hdGVzKTtyZXR1cm4gby5wdXNoKG9bMF0pLGwoW29dLGkpfWZ1bmN0aW9uIG1uKHQsZSxuKXtpZih2b2lkIDA9PT1uJiYobj17fSksITA9PT1uLmZpbmFsKXJldHVybiBmdW5jdGlvbih0LGUpe3ZhciBuPW1uKGUsdCk7cmV0dXJuIG49KG4rMTgwKSUzNjB9KHQsZSk7dmFyIHI9Syh0KSxpPUsoZSksbz1JKHJbMF0pLHM9SShpWzBdKSxhPUkoclsxXSksdT1JKGlbMV0pLGw9TWF0aC5zaW4ocy1vKSpNYXRoLmNvcyh1KSxjPU1hdGguY29zKGEpKk1hdGguc2luKHUpLU1hdGguc2luKGEpKk1hdGguY29zKHUpKk1hdGguY29zKHMtbyk7cmV0dXJuIHcoTWF0aC5hdGFuMihsLGMpKX1mdW5jdGlvbiB4bih0LGUpe3ZvaWQgMD09PWUmJihlPXt9KTt2YXIgbj1aKHQpO3JldHVybiBhKFsoblswXStuWzJdKS8yLChuWzFdK25bM10pLzJdLGUucHJvcGVydGllcyxlKX1mdW5jdGlvbiBFbih0LGUpe3ZvaWQgMD09PWUmJihlPXt9KTt2YXIgbj0wLHI9MCxpPTA7cmV0dXJuIFIodCwoZnVuY3Rpb24odCl7bis9dFswXSxyKz10WzFdLGkrK30pLCEwKSxhKFtuL2ksci9pXSxlLnByb3BlcnRpZXMpfWZ1bmN0aW9uIGJuKHQpe3ZhciBlPVtdO3JldHVybiJGZWF0dXJlQ29sbGVjdGlvbiI9PT10LnR5cGU/Rih0LChmdW5jdGlvbih0KXtSKHQsKGZ1bmN0aW9uKG4pe2UucHVzaChhKG4sdC5wcm9wZXJ0aWVzKSl9KSl9KSk6Uih0LChmdW5jdGlvbihuKXtlLnB1c2goYShuLHQucHJvcGVydGllcykpfSkpLGYoZSl9dmFyIHduPU5uLEluPU5uO2Z1bmN0aW9uIE5uKHQsZSxuKXtuPW58fDI7dmFyIHIsaSxvLHMsYSx1LGwsYz1lJiZlLmxlbmd0aCxoPWM/ZVswXSpuOnQubGVuZ3RoLHA9U24odCwwLGgsbiwhMCksZj1bXTtpZighcClyZXR1cm4gZjtpZihjJiYocD1mdW5jdGlvbih0LGUsbixyKXt2YXIgaSxvLHMsYT1bXTtmb3IoaT0wLG89ZS5sZW5ndGg7aTxvO2krKykocz1Tbih0LGVbaV0qcixpPG8tMT9lW2krMV0qcjp0Lmxlbmd0aCxyLCExKSk9PT1zLm5leHQmJihzLnN0ZWluZXI9ITApLGEucHVzaChGbihzKSk7Zm9yKGEuc29ydChUbiksaT0wO2k8YS5sZW5ndGg7aSsrKUFuKGFbaV0sbiksbj1DbihuLG4ubmV4dCk7cmV0dXJuIG59KHQsZSxwLG4pKSx0Lmxlbmd0aD44MCpuKXtyPW89dFswXSxpPXM9dFsxXTtmb3IodmFyIGc9bjtnPGg7Zys9bikoYT10W2ddKTxyJiYocj1hKSwodT10W2crMV0pPGkmJihpPXUpLGE+byYmKG89YSksdT5zJiYocz11KTtsPTAhPT0obD1NYXRoLm1heChvLXIscy1pKSk/MS9sOjB9cmV0dXJuIFBuKHAsZixuLHIsaSxsKSxmfWZ1bmN0aW9uIFNuKHQsZSxuLHIsaSl7dmFyIG8scztpZihpPT09SG4odCxlLG4scik+MClmb3Iobz1lO288bjtvKz1yKXM9Vm4obyx0W29dLHRbbysxXSxzKTtlbHNlIGZvcihvPW4tcjtvPj1lO28tPXIpcz1WbihvLHRbb10sdFtvKzFdLHMpO3JldHVybiBzJiZCbihzLHMubmV4dCkmJihYbihzKSxzPXMubmV4dCksc31mdW5jdGlvbiBDbih0LGUpe2lmKCF0KXJldHVybiB0O2V8fChlPXQpO3ZhciBuLHI9dDtkb3tpZihuPSExLHIuc3RlaW5lcnx8IUJuKHIsci5uZXh0KSYmMCE9PXFuKHIucHJldixyLHIubmV4dCkpcj1yLm5leHQ7ZWxzZXtpZihYbihyKSwocj1lPXIucHJldik9PT1yLm5leHQpYnJlYWs7bj0hMH19d2hpbGUobnx8ciE9PWUpO3JldHVybiBlfWZ1bmN0aW9uIFBuKHQsZSxuLHIsaSxvLHMpe2lmKHQpeyFzJiZvJiZmdW5jdGlvbih0LGUsbixyKXt2YXIgaT10O2Rve251bGw9PT1pLnomJihpLno9RG4oaS54LGkueSxlLG4scikpLGkucHJldlo9aS5wcmV2LGkubmV4dFo9aS5uZXh0LGk9aS5uZXh0fXdoaWxlKGkhPT10KTtpLnByZXZaLm5leHRaPW51bGwsaS5wcmV2Wj1udWxsLGZ1bmN0aW9uKHQpe3ZhciBlLG4scixpLG8scyxhLHUsbD0xO2Rve2ZvcihuPXQsdD1udWxsLG89bnVsbCxzPTA7bjspe2ZvcihzKysscj1uLGE9MCxlPTA7ZTxsJiYoYSsrLHI9ci5uZXh0Wik7ZSsrKTtmb3IodT1sO2E+MHx8dT4wJiZyOykwIT09YSYmKDA9PT11fHwhcnx8bi56PD1yLnopPyhpPW4sbj1uLm5leHRaLGEtLSk6KGk9cixyPXIubmV4dFosdS0tKSxvP28ubmV4dFo9aTp0PWksaS5wcmV2Wj1vLG89aTtuPXJ9by5uZXh0Wj1udWxsLGwqPTJ9d2hpbGUocz4xKX0oaSl9KHQscixpLG8pO2Zvcih2YXIgYSx1LGw9dDt0LnByZXYhPT10Lm5leHQ7KWlmKGE9dC5wcmV2LHU9dC5uZXh0LG8/TG4odCxyLGksbyk6TW4odCkpZS5wdXNoKGEuaS9uKSxlLnB1c2godC5pL24pLGUucHVzaCh1LmkvbiksWG4odCksdD11Lm5leHQsbD11Lm5leHQ7ZWxzZSBpZigodD11KT09PWwpe3M/MT09PXM/UG4odD1Pbih0LGUsbiksZSxuLHIsaSxvLDIpOjI9PT1zJiZSbih0LGUsbixyLGksbyk6UG4oQ24odCksZSxuLHIsaSxvLDEpO2JyZWFrfX19ZnVuY3Rpb24gTW4odCl7dmFyIGU9dC5wcmV2LG49dCxyPXQubmV4dDtpZihxbihlLG4scik+PTApcmV0dXJuITE7Zm9yKHZhciBpPXQubmV4dC5uZXh0O2khPT10LnByZXY7KXtpZihrbihlLngsZS55LG4ueCxuLnksci54LHIueSxpLngsaS55KSYmcW4oaS5wcmV2LGksaS5uZXh0KT49MClyZXR1cm4hMTtpPWkubmV4dH1yZXR1cm4hMH1mdW5jdGlvbiBMbih0LGUsbixyKXt2YXIgaT10LnByZXYsbz10LHM9dC5uZXh0O2lmKHFuKGksbyxzKT49MClyZXR1cm4hMTtmb3IodmFyIGE9aS54PG8ueD9pLng8cy54P2kueDpzLng6by54PHMueD9vLng6cy54LHU9aS55PG8ueT9pLnk8cy55P2kueTpzLnk6by55PHMueT9vLnk6cy55LGw9aS54Pm8ueD9pLng+cy54P2kueDpzLng6by54PnMueD9vLng6cy54LGM9aS55Pm8ueT9pLnk+cy55P2kueTpzLnk6by55PnMueT9vLnk6cy55LGg9RG4oYSx1LGUsbixyKSxwPURuKGwsYyxlLG4sciksZj10LnByZXZaLGc9dC5uZXh0WjtmJiZmLno+PWgmJmcmJmcuejw9cDspe2lmKGYhPT10LnByZXYmJmYhPT10Lm5leHQmJmtuKGkueCxpLnksby54LG8ueSxzLngscy55LGYueCxmLnkpJiZxbihmLnByZXYsZixmLm5leHQpPj0wKXJldHVybiExO2lmKGY9Zi5wcmV2WixnIT09dC5wcmV2JiZnIT09dC5uZXh0JiZrbihpLngsaS55LG8ueCxvLnkscy54LHMueSxnLngsZy55KSYmcW4oZy5wcmV2LGcsZy5uZXh0KT49MClyZXR1cm4hMTtnPWcubmV4dFp9Zm9yKDtmJiZmLno+PWg7KXtpZihmIT09dC5wcmV2JiZmIT09dC5uZXh0JiZrbihpLngsaS55LG8ueCxvLnkscy54LHMueSxmLngsZi55KSYmcW4oZi5wcmV2LGYsZi5uZXh0KT49MClyZXR1cm4hMTtmPWYucHJldlp9Zm9yKDtnJiZnLno8PXA7KXtpZihnIT09dC5wcmV2JiZnIT09dC5uZXh0JiZrbihpLngsaS55LG8ueCxvLnkscy54LHMueSxnLngsZy55KSYmcW4oZy5wcmV2LGcsZy5uZXh0KT49MClyZXR1cm4hMTtnPWcubmV4dFp9cmV0dXJuITB9ZnVuY3Rpb24gT24odCxlLG4pe3ZhciByPXQ7ZG97dmFyIGk9ci5wcmV2LG89ci5uZXh0Lm5leHQ7IUJuKGksbykmJnpuKGkscixyLm5leHQsbykmJmpuKGksbykmJmpuKG8saSkmJihlLnB1c2goaS5pL24pLGUucHVzaChyLmkvbiksZS5wdXNoKG8uaS9uKSxYbihyKSxYbihyLm5leHQpLHI9dD1vKSxyPXIubmV4dH13aGlsZShyIT09dCk7cmV0dXJuIHJ9ZnVuY3Rpb24gUm4odCxlLG4scixpLG8pe3ZhciBzPXQ7ZG97Zm9yKHZhciBhPXMubmV4dC5uZXh0O2EhPT1zLnByZXY7KXtpZihzLmkhPT1hLmkmJkduKHMsYSkpe3ZhciB1PVVuKHMsYSk7cmV0dXJuIHM9Q24ocyxzLm5leHQpLHU9Q24odSx1Lm5leHQpLFBuKHMsZSxuLHIsaSxvKSx2b2lkIFBuKHUsZSxuLHIsaSxvKX1hPWEubmV4dH1zPXMubmV4dH13aGlsZShzIT09dCl9ZnVuY3Rpb24gVG4odCxlKXtyZXR1cm4gdC54LWUueH1mdW5jdGlvbiBBbih0LGUpe2lmKGU9ZnVuY3Rpb24odCxlKXt2YXIgbixyPWUsaT10Lngsbz10Lnkscz0tMS8wO2Rve2lmKG88PXIueSYmbz49ci5uZXh0LnkmJnIubmV4dC55IT09ci55KXt2YXIgYT1yLngrKG8tci55KSooci5uZXh0Lngtci54KS8oci5uZXh0Lnktci55KTtpZihhPD1pJiZhPnMpe2lmKHM9YSxhPT09aSl7aWYobz09PXIueSlyZXR1cm4gcjtpZihvPT09ci5uZXh0LnkpcmV0dXJuIHIubmV4dH1uPXIueDxyLm5leHQueD9yOnIubmV4dH19cj1yLm5leHR9d2hpbGUociE9PWUpO2lmKCFuKXJldHVybiBudWxsO2lmKGk9PT1zKXJldHVybiBuLnByZXY7dmFyIHUsbD1uLGM9bi54LGg9bi55LHA9MS8wO3I9bi5uZXh0O2Zvcig7ciE9PWw7KWk+PXIueCYmci54Pj1jJiZpIT09ci54JiZrbihvPGg/aTpzLG8sYyxoLG88aD9zOmksbyxyLngsci55KSYmKCh1PU1hdGguYWJzKG8tci55KS8oaS1yLngpKTxwfHx1PT09cCYmci54Pm4ueCkmJmpuKHIsdCkmJihuPXIscD11KSxyPXIubmV4dDtyZXR1cm4gbn0odCxlKSl7dmFyIG49VW4oZSx0KTtDbihuLG4ubmV4dCl9fWZ1bmN0aW9uIERuKHQsZSxuLHIsaSl7cmV0dXJuKHQ9MTQzMTY1NTc2NSYoKHQ9ODU4OTkzNDU5JigodD0yNTI2NDUxMzUmKCh0PTE2NzExOTM1JigodD0zMjc2NyoodC1uKSppKXx0PDw4KSl8dDw8NCkpfHQ8PDIpKXx0PDwxKSl8KGU9MTQzMTY1NTc2NSYoKGU9ODU4OTkzNDU5JigoZT0yNTI2NDUxMzUmKChlPTE2NzExOTM1JigoZT0zMjc2NyooZS1yKSppKXxlPDw4KSl8ZTw8NCkpfGU8PDIpKXxlPDwxKSk8PDF9ZnVuY3Rpb24gRm4odCl7dmFyIGU9dCxuPXQ7ZG97ZS54PG4ueCYmKG49ZSksZT1lLm5leHR9d2hpbGUoZSE9PXQpO3JldHVybiBufWZ1bmN0aW9uIGtuKHQsZSxuLHIsaSxvLHMsYSl7cmV0dXJuKGktcykqKGUtYSktKHQtcykqKG8tYSk+PTAmJih0LXMpKihyLWEpLShuLXMpKihlLWEpPj0wJiYobi1zKSooby1hKS0oaS1zKSooci1hKT49MH1mdW5jdGlvbiBHbih0LGUpe3JldHVybiB0Lm5leHQuaSE9PWUuaSYmdC5wcmV2LmkhPT1lLmkmJiFmdW5jdGlvbih0LGUpe3ZhciBuPXQ7ZG97aWYobi5pIT09dC5pJiZuLm5leHQuaSE9PXQuaSYmbi5pIT09ZS5pJiZuLm5leHQuaSE9PWUuaSYmem4obixuLm5leHQsdCxlKSlyZXR1cm4hMDtuPW4ubmV4dH13aGlsZShuIT09dCk7cmV0dXJuITF9KHQsZSkmJmpuKHQsZSkmJmpuKGUsdCkmJmZ1bmN0aW9uKHQsZSl7dmFyIG49dCxyPSExLGk9KHQueCtlLngpLzIsbz0odC55K2UueSkvMjtkb3tuLnk+byE9bi5uZXh0Lnk+byYmbi5uZXh0LnkhPT1uLnkmJmk8KG4ubmV4dC54LW4ueCkqKG8tbi55KS8obi5uZXh0Lnktbi55KStuLngmJihyPSFyKSxuPW4ubmV4dH13aGlsZShuIT09dCk7cmV0dXJuIHJ9KHQsZSl9ZnVuY3Rpb24gcW4odCxlLG4pe3JldHVybihlLnktdC55KSoobi54LWUueCktKGUueC10LngpKihuLnktZS55KX1mdW5jdGlvbiBCbih0LGUpe3JldHVybiB0Lng9PT1lLngmJnQueT09PWUueX1mdW5jdGlvbiB6bih0LGUsbixyKXtyZXR1cm4hIShCbih0LGUpJiZCbihuLHIpfHxCbih0LHIpJiZCbihuLGUpKXx8cW4odCxlLG4pPjAhPXFuKHQsZSxyKT4wJiZxbihuLHIsdCk+MCE9cW4obixyLGUpPjB9ZnVuY3Rpb24gam4odCxlKXtyZXR1cm4gcW4odC5wcmV2LHQsdC5uZXh0KTwwP3FuKHQsZSx0Lm5leHQpPj0wJiZxbih0LHQucHJldixlKT49MDpxbih0LGUsdC5wcmV2KTwwfHxxbih0LHQubmV4dCxlKTwwfWZ1bmN0aW9uIFVuKHQsZSl7dmFyIG49bmV3IFluKHQuaSx0LngsdC55KSxyPW5ldyBZbihlLmksZS54LGUueSksaT10Lm5leHQsbz1lLnByZXY7cmV0dXJuIHQubmV4dD1lLGUucHJldj10LG4ubmV4dD1pLGkucHJldj1uLHIubmV4dD1uLG4ucHJldj1yLG8ubmV4dD1yLHIucHJldj1vLHJ9ZnVuY3Rpb24gVm4odCxlLG4scil7dmFyIGk9bmV3IFluKHQsZSxuKTtyZXR1cm4gcj8oaS5uZXh0PXIubmV4dCxpLnByZXY9cixyLm5leHQucHJldj1pLHIubmV4dD1pKTooaS5wcmV2PWksaS5uZXh0PWkpLGl9ZnVuY3Rpb24gWG4odCl7dC5uZXh0LnByZXY9dC5wcmV2LHQucHJldi5uZXh0PXQubmV4dCx0LnByZXZaJiYodC5wcmV2Wi5uZXh0Wj10Lm5leHRaKSx0Lm5leHRaJiYodC5uZXh0Wi5wcmV2Wj10LnByZXZaKX1mdW5jdGlvbiBZbih0LGUsbil7dGhpcy5pPXQsdGhpcy54PWUsdGhpcy55PW4sdGhpcy5wcmV2PW51bGwsdGhpcy5uZXh0PW51bGwsdGhpcy56PW51bGwsdGhpcy5wcmV2Wj1udWxsLHRoaXMubmV4dFo9bnVsbCx0aGlzLnN0ZWluZXI9ITF9ZnVuY3Rpb24gSG4odCxlLG4scil7Zm9yKHZhciBpPTAsbz1lLHM9bi1yO288bjtvKz1yKWkrPSh0W3NdLXRbb10pKih0W28rMV0rdFtzKzFdKSxzPW87cmV0dXJuIGl9ZnVuY3Rpb24gV24odCl7dmFyIGU9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRbMF1bMF0ubGVuZ3RoLG49e3ZlcnRpY2VzOltdLGhvbGVzOltdLGRpbWVuc2lvbnM6ZX0scj0wLGk9MDtpPHQubGVuZ3RoO2krKyl7Zm9yKHZhciBvPTA7bzx0W2ldLmxlbmd0aDtvKyspZm9yKHZhciBzPTA7czxlO3MrKyluLnZlcnRpY2VzLnB1c2godFtpXVtvXVtzXSk7aT4wJiYocis9dFtpLTFdLmxlbmd0aCxuLmhvbGVzLnB1c2gocikpfXJldHVybiBufSh0KSxuPXduKGUudmVydGljZXMsZS5ob2xlcywyKSxyPVtdLGk9W107bi5mb3JFYWNoKChmdW5jdGlvbih0LHIpe3ZhciBvPW5bcl07aS5wdXNoKFtlLnZlcnRpY2VzWzIqb10sZS52ZXJ0aWNlc1syKm8rMV1dKX0pKTtmb3IodmFyIG89MDtvPGkubGVuZ3RoO28rPTMpe3ZhciBzPWkuc2xpY2UobyxvKzMpO3MucHVzaChpW29dKSxyLnB1c2gobChbc10pKX1yZXR1cm4gcn1mdW5jdGlvbiBKbih0LGUpe2lmKCF0KXRocm93IG5ldyBFcnJvcigidGFyZ2V0UG9pbnQgaXMgcmVxdWlyZWQiKTtpZighZSl0aHJvdyBuZXcgRXJyb3IoInBvaW50cyBpcyByZXF1aXJlZCIpO3ZhciBuLHI9MS8wLGk9MDtyZXR1cm4gRihlLChmdW5jdGlvbihlLG4pe3ZhciBvPW1lKHQsZSk7bzxyJiYoaT1uLHI9byl9KSksKG49SWUoZS5mZWF0dXJlc1tpXSkpLnByb3BlcnRpZXMuZmVhdHVyZUluZGV4PWksbi5wcm9wZXJ0aWVzLmRpc3RhbmNlVG9Qb2ludD1yLG59ZnVuY3Rpb24gWm4odCl7aWYoIXQpdGhyb3cgbmV3IEVycm9yKCJnZW9qc29uIGlzIHJlcXVpcmVkIik7dmFyIGU9W107cmV0dXJuIHoodCwoZnVuY3Rpb24odCl7IWZ1bmN0aW9uKHQsZSl7dmFyIG49W10scj10Lmdlb21ldHJ5O2lmKG51bGwhPT1yKXtzd2l0Y2goci50eXBlKXtjYXNlIlBvbHlnb24iOm49UShyKTticmVhaztjYXNlIkxpbmVTdHJpbmciOm49W1EocildfW4uZm9yRWFjaCgoZnVuY3Rpb24obil7KGZ1bmN0aW9uKHQsZSl7dmFyIG49W107cmV0dXJuIHQucmVkdWNlKChmdW5jdGlvbih0LHIpe3ZhciBpPWgoW3Qscl0sZSk7cmV0dXJuIGkuYmJveD1mdW5jdGlvbih0LGUpe3ZhciBuPXRbMF0scj10WzFdLGk9ZVswXSxvPWVbMV07cmV0dXJuW248aT9uOmkscjxvP3I6byxuPmk/bjppLHI+bz9yOm9dfSh0LHIpLG4ucHVzaChpKSxyfSkpLG59KShuLHQucHJvcGVydGllcykuZm9yRWFjaCgoZnVuY3Rpb24odCl7dC5pZD1lLmxlbmd0aCxlLnB1c2godCl9KSl9KSl9fSh0LGUpfSkpLGYoZSl9Tm4uZGV2aWF0aW9uPWZ1bmN0aW9uKHQsZSxuLHIpe3ZhciBpPWUmJmUubGVuZ3RoLG89aT9lWzBdKm46dC5sZW5ndGgscz1NYXRoLmFicyhIbih0LDAsbyxuKSk7aWYoaSlmb3IodmFyIGE9MCx1PWUubGVuZ3RoO2E8dTthKyspe3ZhciBsPWVbYV0qbixjPWE8dS0xP2VbYSsxXSpuOnQubGVuZ3RoO3MtPU1hdGguYWJzKEhuKHQsbCxjLG4pKX12YXIgaD0wO2ZvcihhPTA7YTxyLmxlbmd0aDthKz0zKXt2YXIgcD1yW2FdKm4sZj1yW2ErMV0qbixnPXJbYSsyXSpuO2grPU1hdGguYWJzKCh0W3BdLXRbZ10pKih0W2YrMV0tdFtwKzFdKS0odFtwXS10W2ZdKSoodFtnKzFdLXRbcCsxXSkpfXJldHVybiAwPT09cyYmMD09PWg/MDpNYXRoLmFicygoaC1zKS9zKX0sTm4uZmxhdHRlbj1mdW5jdGlvbih0KXtmb3IodmFyIGU9dFswXVswXS5sZW5ndGgsbj17dmVydGljZXM6W10saG9sZXM6W10sZGltZW5zaW9uczplfSxyPTAsaT0wO2k8dC5sZW5ndGg7aSsrKXtmb3IodmFyIG89MDtvPHRbaV0ubGVuZ3RoO28rKylmb3IodmFyIHM9MDtzPGU7cysrKW4udmVydGljZXMucHVzaCh0W2ldW29dW3NdKTtpPjAmJihyKz10W2ktMV0ubGVuZ3RoLG4uaG9sZXMucHVzaChyKSl9cmV0dXJuIG59LHduLmRlZmF1bHQ9SW47dmFyIEtuPUJ0KChmdW5jdGlvbih0LGUpe2Z1bmN0aW9uIG4odCxlLG4pe3ZvaWQgMD09PW4mJihuPXt9KTt2YXIgcj17dHlwZToiRmVhdHVyZSJ9O3JldHVybigwPT09bi5pZHx8bi5pZCkmJihyLmlkPW4uaWQpLG4uYmJveCYmKHIuYmJveD1uLmJib3gpLHIucHJvcGVydGllcz1lfHx7fSxyLmdlb21ldHJ5PXQscn1mdW5jdGlvbiByKHQsZSxyKXtpZih2b2lkIDA9PT1yJiYocj17fSksIXQpdGhyb3cgbmV3IEVycm9yKCJjb29yZGluYXRlcyBpcyByZXF1aXJlZCIpO2lmKCFBcnJheS5pc0FycmF5KHQpKXRocm93IG5ldyBFcnJvcigiY29vcmRpbmF0ZXMgbXVzdCBiZSBhbiBBcnJheSIpO2lmKHQubGVuZ3RoPDIpdGhyb3cgbmV3IEVycm9yKCJjb29yZGluYXRlcyBtdXN0IGJlIGF0IGxlYXN0IDIgbnVtYmVycyBsb25nIik7aWYoIWYodFswXSl8fCFmKHRbMV0pKXRocm93IG5ldyBFcnJvcigiY29vcmRpbmF0ZXMgbXVzdCBjb250YWluIG51bWJlcnMiKTtyZXR1cm4gbih7dHlwZToiUG9pbnQiLGNvb3JkaW5hdGVzOnR9LGUscil9ZnVuY3Rpb24gaSh0LGUscil7dm9pZCAwPT09ciYmKHI9e30pO2Zvcih2YXIgaT0wLG89dDtpPG8ubGVuZ3RoO2krKyl7dmFyIHM9b1tpXTtpZihzLmxlbmd0aDw0KXRocm93IG5ldyBFcnJvcigiRWFjaCBMaW5lYXJSaW5nIG9mIGEgUG9seWdvbiBtdXN0IGhhdmUgNCBvciBtb3JlIFBvc2l0aW9ucy4iKTtmb3IodmFyIGE9MDthPHNbcy5sZW5ndGgtMV0ubGVuZ3RoO2ErKylpZihzW3MubGVuZ3RoLTFdW2FdIT09c1swXVthXSl0aHJvdyBuZXcgRXJyb3IoIkZpcnN0IGFuZCBsYXN0IFBvc2l0aW9uIGFyZSBub3QgZXF1aXZhbGVudC4iKX1yZXR1cm4gbih7dHlwZToiUG9seWdvbiIsY29vcmRpbmF0ZXM6dH0sZSxyKX1mdW5jdGlvbiBvKHQsZSxyKXtpZih2b2lkIDA9PT1yJiYocj17fSksdC5sZW5ndGg8Mil0aHJvdyBuZXcgRXJyb3IoImNvb3JkaW5hdGVzIG11c3QgYmUgYW4gYXJyYXkgb2YgdHdvIG9yIG1vcmUgcG9zaXRpb25zIik7cmV0dXJuIG4oe3R5cGU6IkxpbmVTdHJpbmciLGNvb3JkaW5hdGVzOnR9LGUscil9ZnVuY3Rpb24gcyh0LGUpe3ZvaWQgMD09PWUmJihlPXt9KTt2YXIgbj17dHlwZToiRmVhdHVyZUNvbGxlY3Rpb24ifTtyZXR1cm4gZS5pZCYmKG4uaWQ9ZS5pZCksZS5iYm94JiYobi5iYm94PWUuYmJveCksbi5mZWF0dXJlcz10LG59ZnVuY3Rpb24gYSh0LGUscil7cmV0dXJuIHZvaWQgMD09PXImJihyPXt9KSxuKHt0eXBlOiJNdWx0aUxpbmVTdHJpbmciLGNvb3JkaW5hdGVzOnR9LGUscil9ZnVuY3Rpb24gdSh0LGUscil7cmV0dXJuIHZvaWQgMD09PXImJihyPXt9KSxuKHt0eXBlOiJNdWx0aVBvaW50Iixjb29yZGluYXRlczp0fSxlLHIpfWZ1bmN0aW9uIGwodCxlLHIpe3JldHVybiB2b2lkIDA9PT1yJiYocj17fSksbih7dHlwZToiTXVsdGlQb2x5Z29uIixjb29yZGluYXRlczp0fSxlLHIpfWZ1bmN0aW9uIGModCxuKXt2b2lkIDA9PT1uJiYobj0ia2lsb21ldGVycyIpO3ZhciByPWUuZmFjdG9yc1tuXTtpZighcil0aHJvdyBuZXcgRXJyb3IobisiIHVuaXRzIGlzIGludmFsaWQiKTtyZXR1cm4gdCpyfWZ1bmN0aW9uIGgodCxuKXt2b2lkIDA9PT1uJiYobj0ia2lsb21ldGVycyIpO3ZhciByPWUuZmFjdG9yc1tuXTtpZighcil0aHJvdyBuZXcgRXJyb3IobisiIHVuaXRzIGlzIGludmFsaWQiKTtyZXR1cm4gdC9yfWZ1bmN0aW9uIHAodCl7cmV0dXJuIDE4MCoodCUoMipNYXRoLlBJKSkvTWF0aC5QSX1mdW5jdGlvbiBmKHQpe3JldHVybiFpc05hTih0KSYmbnVsbCE9PXQmJiFBcnJheS5pc0FycmF5KHQpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLmVhcnRoUmFkaXVzPTYzNzEwMDguOCxlLmZhY3RvcnM9e2NlbnRpbWV0ZXJzOjEwMCplLmVhcnRoUmFkaXVzLGNlbnRpbWV0cmVzOjEwMCplLmVhcnRoUmFkaXVzLGRlZ3JlZXM6ZS5lYXJ0aFJhZGl1cy8xMTEzMjUsZmVldDozLjI4MDg0KmUuZWFydGhSYWRpdXMsaW5jaGVzOjM5LjM3KmUuZWFydGhSYWRpdXMsa2lsb21ldGVyczplLmVhcnRoUmFkaXVzLzFlMyxraWxvbWV0cmVzOmUuZWFydGhSYWRpdXMvMWUzLG1ldGVyczplLmVhcnRoUmFkaXVzLG1ldHJlczplLmVhcnRoUmFkaXVzLG1pbGVzOmUuZWFydGhSYWRpdXMvMTYwOS4zNDQsbWlsbGltZXRlcnM6MWUzKmUuZWFydGhSYWRpdXMsbWlsbGltZXRyZXM6MWUzKmUuZWFydGhSYWRpdXMsbmF1dGljYWxtaWxlczplLmVhcnRoUmFkaXVzLzE4NTIscmFkaWFuczoxLHlhcmRzOjEuMDkzNiplLmVhcnRoUmFkaXVzfSxlLnVuaXRzRmFjdG9ycz17Y2VudGltZXRlcnM6MTAwLGNlbnRpbWV0cmVzOjEwMCxkZWdyZWVzOjEvMTExMzI1LGZlZXQ6My4yODA4NCxpbmNoZXM6MzkuMzcsa2lsb21ldGVyczouMDAxLGtpbG9tZXRyZXM6LjAwMSxtZXRlcnM6MSxtZXRyZXM6MSxtaWxlczoxLzE2MDkuMzQ0LG1pbGxpbWV0ZXJzOjFlMyxtaWxsaW1ldHJlczoxZTMsbmF1dGljYWxtaWxlczoxLzE4NTIscmFkaWFuczoxL2UuZWFydGhSYWRpdXMseWFyZHM6MS4wOTM2MTMzfSxlLmFyZWFGYWN0b3JzPXthY3JlczoyNDcxMDVlLTksY2VudGltZXRlcnM6MWU0LGNlbnRpbWV0cmVzOjFlNCxmZWV0OjEwLjc2MzkxMDQxNyxoZWN0YXJlczoxZS00LGluY2hlczoxNTUwLjAwMzEwMDAwNixraWxvbWV0ZXJzOjFlLTYsa2lsb21ldHJlczoxZS02LG1ldGVyczoxLG1ldHJlczoxLG1pbGVzOjM4NmUtOSxtaWxsaW1ldGVyczoxZTYsbWlsbGltZXRyZXM6MWU2LHlhcmRzOjEuMTk1OTkwMDQ2fSxlLmZlYXR1cmU9bixlLmdlb21ldHJ5PWZ1bmN0aW9uKHQsZSxuKXtzd2l0Y2godCl7Y2FzZSJQb2ludCI6cmV0dXJuIHIoZSkuZ2VvbWV0cnk7Y2FzZSJMaW5lU3RyaW5nIjpyZXR1cm4gbyhlKS5nZW9tZXRyeTtjYXNlIlBvbHlnb24iOnJldHVybiBpKGUpLmdlb21ldHJ5O2Nhc2UiTXVsdGlQb2ludCI6cmV0dXJuIHUoZSkuZ2VvbWV0cnk7Y2FzZSJNdWx0aUxpbmVTdHJpbmciOnJldHVybiBhKGUpLmdlb21ldHJ5O2Nhc2UiTXVsdGlQb2x5Z29uIjpyZXR1cm4gbChlKS5nZW9tZXRyeTtkZWZhdWx0OnRocm93IG5ldyBFcnJvcih0KyIgaXMgaW52YWxpZCIpfX0sZS5wb2ludD1yLGUucG9pbnRzPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdm9pZCAwPT09biYmKG49e30pLHModC5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiByKHQsZSl9KSksbil9LGUucG9seWdvbj1pLGUucG9seWdvbnM9ZnVuY3Rpb24odCxlLG4pe3JldHVybiB2b2lkIDA9PT1uJiYobj17fSkscyh0Lm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIGkodCxlKX0pKSxuKX0sZS5saW5lU3RyaW5nPW8sZS5saW5lU3RyaW5ncz1mdW5jdGlvbih0LGUsbil7cmV0dXJuIHZvaWQgMD09PW4mJihuPXt9KSxzKHQubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gbyh0LGUpfSkpLG4pfSxlLmZlYXR1cmVDb2xsZWN0aW9uPXMsZS5tdWx0aUxpbmVTdHJpbmc9YSxlLm11bHRpUG9pbnQ9dSxlLm11bHRpUG9seWdvbj1sLGUuZ2VvbWV0cnlDb2xsZWN0aW9uPWZ1bmN0aW9uKHQsZSxyKXtyZXR1cm4gdm9pZCAwPT09ciYmKHI9e30pLG4oe3R5cGU6Ikdlb21ldHJ5Q29sbGVjdGlvbiIsZ2VvbWV0cmllczp0fSxlLHIpfSxlLnJvdW5kPWZ1bmN0aW9uKHQsZSl7aWYodm9pZCAwPT09ZSYmKGU9MCksZSYmIShlPj0wKSl0aHJvdyBuZXcgRXJyb3IoInByZWNpc2lvbiBtdXN0IGJlIGEgcG9zaXRpdmUgbnVtYmVyIik7dmFyIG49TWF0aC5wb3coMTAsZXx8MCk7cmV0dXJuIE1hdGgucm91bmQodCpuKS9ufSxlLnJhZGlhbnNUb0xlbmd0aD1jLGUubGVuZ3RoVG9SYWRpYW5zPWgsZS5sZW5ndGhUb0RlZ3JlZXM9ZnVuY3Rpb24odCxlKXtyZXR1cm4gcChoKHQsZSkpfSxlLmJlYXJpbmdUb0F6aW11dGg9ZnVuY3Rpb24odCl7dmFyIGU9dCUzNjA7cmV0dXJuIGU8MCYmKGUrPTM2MCksZX0sZS5yYWRpYW5zVG9EZWdyZWVzPXAsZS5kZWdyZWVzVG9SYWRpYW5zPWZ1bmN0aW9uKHQpe3JldHVybiB0JTM2MCpNYXRoLlBJLzE4MH0sZS5jb252ZXJ0TGVuZ3RoPWZ1bmN0aW9uKHQsZSxuKXtpZih2b2lkIDA9PT1lJiYoZT0ia2lsb21ldGVycyIpLHZvaWQgMD09PW4mJihuPSJraWxvbWV0ZXJzIiksISh0Pj0wKSl0aHJvdyBuZXcgRXJyb3IoImxlbmd0aCBtdXN0IGJlIGEgcG9zaXRpdmUgbnVtYmVyIik7cmV0dXJuIGMoaCh0LGUpLG4pfSxlLmNvbnZlcnRBcmVhPWZ1bmN0aW9uKHQsbixyKXtpZih2b2lkIDA9PT1uJiYobj0ibWV0ZXJzIiksdm9pZCAwPT09ciYmKHI9ImtpbG9tZXRlcnMiKSwhKHQ+PTApKXRocm93IG5ldyBFcnJvcigiYXJlYSBtdXN0IGJlIGEgcG9zaXRpdmUgbnVtYmVyIik7dmFyIGk9ZS5hcmVhRmFjdG9yc1tuXTtpZighaSl0aHJvdyBuZXcgRXJyb3IoImludmFsaWQgb3JpZ2luYWwgdW5pdHMiKTt2YXIgbz1lLmFyZWFGYWN0b3JzW3JdO2lmKCFvKXRocm93IG5ldyBFcnJvcigiaW52YWxpZCBmaW5hbCB1bml0cyIpO3JldHVybiB0L2kqb30sZS5pc051bWJlcj1mLGUuaXNPYmplY3Q9ZnVuY3Rpb24odCl7cmV0dXJuISF0JiZ0LmNvbnN0cnVjdG9yPT09T2JqZWN0fSxlLnZhbGlkYXRlQkJveD1mdW5jdGlvbih0KXtpZighdCl0aHJvdyBuZXcgRXJyb3IoImJib3ggaXMgcmVxdWlyZWQiKTtpZighQXJyYXkuaXNBcnJheSh0KSl0aHJvdyBuZXcgRXJyb3IoImJib3ggbXVzdCBiZSBhbiBBcnJheSIpO2lmKDQhPT10Lmxlbmd0aCYmNiE9PXQubGVuZ3RoKXRocm93IG5ldyBFcnJvcigiYmJveCBtdXN0IGJlIGFuIEFycmF5IG9mIDQgb3IgNiBudW1iZXJzIik7dC5mb3JFYWNoKChmdW5jdGlvbih0KXtpZighZih0KSl0aHJvdyBuZXcgRXJyb3IoImJib3ggbXVzdCBvbmx5IGNvbnRhaW4gbnVtYmVycyIpfSkpfSxlLnZhbGlkYXRlSWQ9ZnVuY3Rpb24odCl7aWYoIXQpdGhyb3cgbmV3IEVycm9yKCJpZCBpcyByZXF1aXJlZCIpO2lmKC0xPT09WyJzdHJpbmciLCJudW1iZXIiXS5pbmRleE9mKHR5cGVvZiB0KSl0aHJvdyBuZXcgRXJyb3IoImlkIG11c3QgYmUgYSBudW1iZXIgb3IgYSBzdHJpbmciKX19KSk7ZnVuY3Rpb24gUW4odCxlLG4pe2lmKG51bGwhPT10KWZvcih2YXIgcixpLG8scyxhLHUsbCxjLGg9MCxwPTAsZj10LnR5cGUsZz0iRmVhdHVyZUNvbGxlY3Rpb24iPT09ZixkPSJGZWF0dXJlIj09PWYseT1nP3QuZmVhdHVyZXMubGVuZ3RoOjEsdj0wO3Y8eTt2Kyspe2E9KGM9ISEobD1nP3QuZmVhdHVyZXNbdl0uZ2VvbWV0cnk6ZD90Lmdlb21ldHJ5OnQpJiYiR2VvbWV0cnlDb2xsZWN0aW9uIj09PWwudHlwZSk/bC5nZW9tZXRyaWVzLmxlbmd0aDoxO2Zvcih2YXIgXz0wO188YTtfKyspe3ZhciBtPTAseD0wO2lmKG51bGwhPT0ocz1jP2wuZ2VvbWV0cmllc1tfXTpsKSl7dT1zLmNvb3JkaW5hdGVzO3ZhciBFPXMudHlwZTtzd2l0Y2goaD0hbnx8IlBvbHlnb24iIT09RSYmIk11bHRpUG9seWdvbiIhPT1FPzA6MSxFKXtjYXNlIG51bGw6YnJlYWs7Y2FzZSJQb2ludCI6aWYoITE9PT1lKHUscCx2LG0seCkpcmV0dXJuITE7cCsrLG0rKzticmVhaztjYXNlIkxpbmVTdHJpbmciOmNhc2UiTXVsdGlQb2ludCI6Zm9yKHI9MDtyPHUubGVuZ3RoO3IrKyl7aWYoITE9PT1lKHVbcl0scCx2LG0seCkpcmV0dXJuITE7cCsrLCJNdWx0aVBvaW50Ij09PUUmJm0rK30iTGluZVN0cmluZyI9PT1FJiZtKys7YnJlYWs7Y2FzZSJQb2x5Z29uIjpjYXNlIk11bHRpTGluZVN0cmluZyI6Zm9yKHI9MDtyPHUubGVuZ3RoO3IrKyl7Zm9yKGk9MDtpPHVbcl0ubGVuZ3RoLWg7aSsrKXtpZighMT09PWUodVtyXVtpXSxwLHYsbSx4KSlyZXR1cm4hMTtwKyt9Ik11bHRpTGluZVN0cmluZyI9PT1FJiZtKyssIlBvbHlnb24iPT09RSYmeCsrfSJQb2x5Z29uIj09PUUmJm0rKzticmVhaztjYXNlIk11bHRpUG9seWdvbiI6Zm9yKHI9MDtyPHUubGVuZ3RoO3IrKyl7Zm9yKHg9MCxpPTA7aTx1W3JdLmxlbmd0aDtpKyspe2ZvcihvPTA7bzx1W3JdW2ldLmxlbmd0aC1oO28rKyl7aWYoITE9PT1lKHVbcl1baV1bb10scCx2LG0seCkpcmV0dXJuITE7cCsrfXgrK31tKyt9YnJlYWs7Y2FzZSJHZW9tZXRyeUNvbGxlY3Rpb24iOmZvcihyPTA7cjxzLmdlb21ldHJpZXMubGVuZ3RoO3IrKylpZighMT09PVFuKHMuZ2VvbWV0cmllc1tyXSxlLG4pKXJldHVybiExO2JyZWFrO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKCJVbmtub3duIEdlb21ldHJ5IFR5cGUiKX19fX19ZnVuY3Rpb24gJG4odCxlKXt2YXIgbjtzd2l0Y2godC50eXBlKXtjYXNlIkZlYXR1cmVDb2xsZWN0aW9uIjpmb3Iobj0wO248dC5mZWF0dXJlcy5sZW5ndGgmJiExIT09ZSh0LmZlYXR1cmVzW25dLnByb3BlcnRpZXMsbik7bisrKTticmVhaztjYXNlIkZlYXR1cmUiOmUodC5wcm9wZXJ0aWVzLDApfX1mdW5jdGlvbiB0cih0LGUpe2lmKCJGZWF0dXJlIj09PXQudHlwZSllKHQsMCk7ZWxzZSBpZigiRmVhdHVyZUNvbGxlY3Rpb24iPT09dC50eXBlKWZvcih2YXIgbj0wO248dC5mZWF0dXJlcy5sZW5ndGgmJiExIT09ZSh0LmZlYXR1cmVzW25dLG4pO24rKyk7fWZ1bmN0aW9uIGVyKHQsZSl7dmFyIG4scixpLG8scyxhLHUsbCxjLGgscD0wLGY9IkZlYXR1cmVDb2xsZWN0aW9uIj09PXQudHlwZSxnPSJGZWF0dXJlIj09PXQudHlwZSxkPWY/dC5mZWF0dXJlcy5sZW5ndGg6MTtmb3Iobj0wO248ZDtuKyspe2ZvcihhPWY/dC5mZWF0dXJlc1tuXS5nZW9tZXRyeTpnP3QuZ2VvbWV0cnk6dCxsPWY/dC5mZWF0dXJlc1tuXS5wcm9wZXJ0aWVzOmc/dC5wcm9wZXJ0aWVzOnt9LGM9Zj90LmZlYXR1cmVzW25dLmJib3g6Zz90LmJib3g6dm9pZCAwLGg9Zj90LmZlYXR1cmVzW25dLmlkOmc/dC5pZDp2b2lkIDAscz0odT0hIWEmJiJHZW9tZXRyeUNvbGxlY3Rpb24iPT09YS50eXBlKT9hLmdlb21ldHJpZXMubGVuZ3RoOjEsaT0wO2k8cztpKyspaWYobnVsbCE9PShvPXU/YS5nZW9tZXRyaWVzW2ldOmEpKXN3aXRjaChvLnR5cGUpe2Nhc2UiUG9pbnQiOmNhc2UiTGluZVN0cmluZyI6Y2FzZSJNdWx0aVBvaW50IjpjYXNlIlBvbHlnb24iOmNhc2UiTXVsdGlMaW5lU3RyaW5nIjpjYXNlIk11bHRpUG9seWdvbiI6aWYoITE9PT1lKG8scCxsLGMsaCkpcmV0dXJuITE7YnJlYWs7Y2FzZSJHZW9tZXRyeUNvbGxlY3Rpb24iOmZvcihyPTA7cjxvLmdlb21ldHJpZXMubGVuZ3RoO3IrKylpZighMT09PWUoby5nZW9tZXRyaWVzW3JdLHAsbCxjLGgpKXJldHVybiExO2JyZWFrO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKCJVbmtub3duIEdlb21ldHJ5IFR5cGUiKX1lbHNlIGlmKCExPT09ZShudWxsLHAsbCxjLGgpKXJldHVybiExO3ArK319ZnVuY3Rpb24gbnIodCxlKXtlcih0LChmdW5jdGlvbih0LG4scixpLG8pe3ZhciBzLGE9bnVsbD09PXQ/bnVsbDp0LnR5cGU7c3dpdGNoKGEpe2Nhc2UgbnVsbDpjYXNlIlBvaW50IjpjYXNlIkxpbmVTdHJpbmciOmNhc2UiUG9seWdvbiI6cmV0dXJuITEhPT1lKEtuLmZlYXR1cmUodCxyLHtiYm94OmksaWQ6b30pLG4sMCkmJnZvaWQgMH1zd2l0Y2goYSl7Y2FzZSJNdWx0aVBvaW50IjpzPSJQb2ludCI7YnJlYWs7Y2FzZSJNdWx0aUxpbmVTdHJpbmciOnM9IkxpbmVTdHJpbmciO2JyZWFrO2Nhc2UiTXVsdGlQb2x5Z29uIjpzPSJQb2x5Z29uIn1mb3IodmFyIHU9MDt1PHQuY29vcmRpbmF0ZXMubGVuZ3RoO3UrKyl7dmFyIGw9e3R5cGU6cyxjb29yZGluYXRlczp0LmNvb3JkaW5hdGVzW3VdfTtpZighMT09PWUoS24uZmVhdHVyZShsLHIpLG4sdSkpcmV0dXJuITF9fSkpfWZ1bmN0aW9uIHJyKHQsZSl7bnIodCwoZnVuY3Rpb24odCxuLHIpe3ZhciBpPTA7aWYodC5nZW9tZXRyeSl7dmFyIG89dC5nZW9tZXRyeS50eXBlO2lmKCJQb2ludCIhPT1vJiYiTXVsdGlQb2ludCIhPT1vKXt2YXIgcyxhPTAsdT0wLGw9MDtyZXR1cm4hMSE9PVFuKHQsKGZ1bmN0aW9uKG8sYyxoLHAsZil7aWYodm9pZCAwPT09c3x8bj5hfHxwPnV8fGY+bClyZXR1cm4gcz1vLGE9bix1PXAsbD1mLHZvaWQoaT0wKTt2YXIgZz1Lbi5saW5lU3RyaW5nKFtzLG9dLHQucHJvcGVydGllcyk7aWYoITE9PT1lKGcsbixyLGYsaSkpcmV0dXJuITE7aSsrLHM9b30pKSYmdm9pZCAwfX19KSl9ZnVuY3Rpb24gaXIodCxlKXtpZighdCl0aHJvdyBuZXcgRXJyb3IoImdlb2pzb24gaXMgcmVxdWlyZWQiKTtucih0LChmdW5jdGlvbih0LG4scil7aWYobnVsbCE9PXQuZ2VvbWV0cnkpe3ZhciBpPXQuZ2VvbWV0cnkudHlwZSxvPXQuZ2VvbWV0cnkuY29vcmRpbmF0ZXM7c3dpdGNoKGkpe2Nhc2UiTGluZVN0cmluZyI6aWYoITE9PT1lKHQsbixyLDAsMCkpcmV0dXJuITE7YnJlYWs7Y2FzZSJQb2x5Z29uIjpmb3IodmFyIHM9MDtzPG8ubGVuZ3RoO3MrKylpZighMT09PWUoS24ubGluZVN0cmluZyhvW3NdLHQucHJvcGVydGllcyksbixyLHMpKXJldHVybiExfX19KSl9dmFyIG9yPWZ1bmN0aW9uKHQpe3ZhciBlPVtdO3JldHVybiBRbih0LChmdW5jdGlvbih0KXtlLnB1c2godCl9KSksZX0sc3I9UW4sYXI9ZnVuY3Rpb24odCxlLG4scil7dmFyIGk9bjtyZXR1cm4gUW4odCwoZnVuY3Rpb24odCxyLG8scyxhKXtpPTA9PT1yJiZ2b2lkIDA9PT1uP3Q6ZShpLHQscixvLHMsYSl9KSxyKSxpfSx1cj10cixscj1mdW5jdGlvbih0LGUsbil7dmFyIHI9bjtyZXR1cm4gdHIodCwoZnVuY3Rpb24odCxpKXtyPTA9PT1pJiZ2b2lkIDA9PT1uP3Q6ZShyLHQsaSl9KSkscn0sY3I9ZnVuY3Rpb24odCxlKXtpZihlPWV8fHt9LCFLbi5pc09iamVjdChlKSl0aHJvdyBuZXcgRXJyb3IoIm9wdGlvbnMgaXMgaW52YWxpZCIpO3ZhciBuLHI9ZS5mZWF0dXJlSW5kZXh8fDAsaT1lLm11bHRpRmVhdHVyZUluZGV4fHwwLG89ZS5nZW9tZXRyeUluZGV4fHwwLHM9ZS5jb29yZEluZGV4fHwwLGE9ZS5wcm9wZXJ0aWVzO3N3aXRjaCh0LnR5cGUpe2Nhc2UiRmVhdHVyZUNvbGxlY3Rpb24iOnI8MCYmKHI9dC5mZWF0dXJlcy5sZW5ndGgrciksYT1hfHx0LmZlYXR1cmVzW3JdLnByb3BlcnRpZXMsbj10LmZlYXR1cmVzW3JdLmdlb21ldHJ5O2JyZWFrO2Nhc2UiRmVhdHVyZSI6YT1hfHx0LnByb3BlcnRpZXMsbj10Lmdlb21ldHJ5O2JyZWFrO2Nhc2UiUG9pbnQiOmNhc2UiTXVsdGlQb2ludCI6cmV0dXJuIG51bGw7Y2FzZSJMaW5lU3RyaW5nIjpjYXNlIlBvbHlnb24iOmNhc2UiTXVsdGlMaW5lU3RyaW5nIjpjYXNlIk11bHRpUG9seWdvbiI6bj10O2JyZWFrO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKCJnZW9qc29uIGlzIGludmFsaWQiKX1pZihudWxsPT09bilyZXR1cm4gbnVsbDt2YXIgdT1uLmNvb3JkaW5hdGVzO3N3aXRjaChuLnR5cGUpe2Nhc2UiUG9pbnQiOnJldHVybiBLbi5wb2ludCh1LGEsZSk7Y2FzZSJNdWx0aVBvaW50IjpyZXR1cm4gaTwwJiYoaT11Lmxlbmd0aCtpKSxLbi5wb2ludCh1W2ldLGEsZSk7Y2FzZSJMaW5lU3RyaW5nIjpyZXR1cm4gczwwJiYocz11Lmxlbmd0aCtzKSxLbi5wb2ludCh1W3NdLGEsZSk7Y2FzZSJQb2x5Z29uIjpyZXR1cm4gbzwwJiYobz11Lmxlbmd0aCtvKSxzPDAmJihzPXVbb10ubGVuZ3RoK3MpLEtuLnBvaW50KHVbb11bc10sYSxlKTtjYXNlIk11bHRpTGluZVN0cmluZyI6cmV0dXJuIGk8MCYmKGk9dS5sZW5ndGgraSksczwwJiYocz11W2ldLmxlbmd0aCtzKSxLbi5wb2ludCh1W2ldW3NdLGEsZSk7Y2FzZSJNdWx0aVBvbHlnb24iOnJldHVybiBpPDAmJihpPXUubGVuZ3RoK2kpLG88MCYmKG89dVtpXS5sZW5ndGgrbyksczwwJiYocz11W2ldW29dLmxlbmd0aC1zKSxLbi5wb2ludCh1W2ldW29dW3NdLGEsZSl9dGhyb3cgbmV3IEVycm9yKCJnZW9qc29uIGlzIGludmFsaWQiKX0saHI9ZnVuY3Rpb24odCxlKXtpZihlPWV8fHt9LCFLbi5pc09iamVjdChlKSl0aHJvdyBuZXcgRXJyb3IoIm9wdGlvbnMgaXMgaW52YWxpZCIpO3ZhciBuLHI9ZS5mZWF0dXJlSW5kZXh8fDAsaT1lLm11bHRpRmVhdHVyZUluZGV4fHwwLG89ZS5nZW9tZXRyeUluZGV4fHwwLHM9ZS5zZWdtZW50SW5kZXh8fDAsYT1lLnByb3BlcnRpZXM7c3dpdGNoKHQudHlwZSl7Y2FzZSJGZWF0dXJlQ29sbGVjdGlvbiI6cjwwJiYocj10LmZlYXR1cmVzLmxlbmd0aCtyKSxhPWF8fHQuZmVhdHVyZXNbcl0ucHJvcGVydGllcyxuPXQuZmVhdHVyZXNbcl0uZ2VvbWV0cnk7YnJlYWs7Y2FzZSJGZWF0dXJlIjphPWF8fHQucHJvcGVydGllcyxuPXQuZ2VvbWV0cnk7YnJlYWs7Y2FzZSJQb2ludCI6Y2FzZSJNdWx0aVBvaW50IjpyZXR1cm4gbnVsbDtjYXNlIkxpbmVTdHJpbmciOmNhc2UiUG9seWdvbiI6Y2FzZSJNdWx0aUxpbmVTdHJpbmciOmNhc2UiTXVsdGlQb2x5Z29uIjpuPXQ7YnJlYWs7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoImdlb2pzb24gaXMgaW52YWxpZCIpfWlmKG51bGw9PT1uKXJldHVybiBudWxsO3ZhciB1PW4uY29vcmRpbmF0ZXM7c3dpdGNoKG4udHlwZSl7Y2FzZSJQb2ludCI6Y2FzZSJNdWx0aVBvaW50IjpyZXR1cm4gbnVsbDtjYXNlIkxpbmVTdHJpbmciOnJldHVybiBzPDAmJihzPXUubGVuZ3RoK3MtMSksS24ubGluZVN0cmluZyhbdVtzXSx1W3MrMV1dLGEsZSk7Y2FzZSJQb2x5Z29uIjpyZXR1cm4gbzwwJiYobz11Lmxlbmd0aCtvKSxzPDAmJihzPXVbb10ubGVuZ3RoK3MtMSksS24ubGluZVN0cmluZyhbdVtvXVtzXSx1W29dW3MrMV1dLGEsZSk7Y2FzZSJNdWx0aUxpbmVTdHJpbmciOnJldHVybiBpPDAmJihpPXUubGVuZ3RoK2kpLHM8MCYmKHM9dVtpXS5sZW5ndGgrcy0xKSxLbi5saW5lU3RyaW5nKFt1W2ldW3NdLHVbaV1bcysxXV0sYSxlKTtjYXNlIk11bHRpUG9seWdvbiI6cmV0dXJuIGk8MCYmKGk9dS5sZW5ndGgraSksbzwwJiYobz11W2ldLmxlbmd0aCtvKSxzPDAmJihzPXVbaV1bb10ubGVuZ3RoLXMtMSksS24ubGluZVN0cmluZyhbdVtpXVtvXVtzXSx1W2ldW29dW3MrMV1dLGEsZSl9dGhyb3cgbmV3IEVycm9yKCJnZW9qc29uIGlzIGludmFsaWQiKX0scHI9bnIsZnI9ZnVuY3Rpb24odCxlLG4pe3ZhciByPW47cmV0dXJuIG5yKHQsKGZ1bmN0aW9uKHQsaSxvKXtyPTA9PT1pJiYwPT09byYmdm9pZCAwPT09bj90OmUocix0LGksbyl9KSkscn0sZ3I9ZXIsZHI9ZnVuY3Rpb24odCxlLG4pe3ZhciByPW47cmV0dXJuIGVyKHQsKGZ1bmN0aW9uKHQsaSxvLHMsYSl7cj0wPT09aSYmdm9pZCAwPT09bj90OmUocix0LGksbyxzLGEpfSkpLHJ9LHlyPWlyLHZyPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uO3JldHVybiBpcih0LChmdW5jdGlvbih0LGksbyxzKXtyPTA9PT1pJiZ2b2lkIDA9PT1uP3Q6ZShyLHQsaSxvLHMpfSkpLHJ9LF9yPSRuLG1yPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uO3JldHVybiAkbih0LChmdW5jdGlvbih0LGkpe3I9MD09PWkmJnZvaWQgMD09PW4/dDplKHIsdCxpKX0pKSxyfSx4cj1ycixFcj1mdW5jdGlvbih0LGUsbil7dmFyIHI9bixpPSExO3JldHVybiBycih0LChmdW5jdGlvbih0LG8scyxhLHUpe3I9ITE9PT1pJiZ2b2lkIDA9PT1uP3Q6ZShyLHQsbyxzLGEsdSksaT0hMH0pKSxyfSxicj1PYmplY3QuZGVmaW5lUHJvcGVydHkoe2Nvb3JkQWxsOm9yLGNvb3JkRWFjaDpzcixjb29yZFJlZHVjZTphcixmZWF0dXJlRWFjaDp1cixmZWF0dXJlUmVkdWNlOmxyLGZpbmRQb2ludDpjcixmaW5kU2VnbWVudDpocixmbGF0dGVuRWFjaDpwcixmbGF0dGVuUmVkdWNlOmZyLGdlb21FYWNoOmdyLGdlb21SZWR1Y2U6ZHIsbGluZUVhY2g6eXIsbGluZVJlZHVjZTp2cixwcm9wRWFjaDpfcixwcm9wUmVkdWNlOm1yLHNlZ21lbnRFYWNoOnhyLHNlZ21lbnRSZWR1Y2U6RXJ9LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTtmdW5jdGlvbiB3cih0KXt2YXIgZT1bMS8wLDEvMCwtMS8wLC0xLzBdO3JldHVybiBici5jb29yZEVhY2godCwoZnVuY3Rpb24odCl7ZVswXT50WzBdJiYoZVswXT10WzBdKSxlWzFdPnRbMV0mJihlWzFdPXRbMV0pLGVbMl08dFswXSYmKGVbMl09dFswXSksZVszXTx0WzFdJiYoZVszXT10WzFdKX0pKSxlfXdyLmRlZmF1bHQ9d3I7dmFyIElyPXdyLE5yPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7ZGVmYXVsdDpJcn0sIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLmRlZmF1bHQsU3I9YnIuZmVhdHVyZUVhY2gsQ3I9KGJyLmNvb3JkRWFjaCxLbi5wb2x5Z29uLEtuLmZlYXR1cmVDb2xsZWN0aW9uKTtmdW5jdGlvbiBQcih0KXt2YXIgZT1OdCh0KTtyZXR1cm4gZS5pbnNlcnQ9ZnVuY3Rpb24odCl7aWYoIkZlYXR1cmUiIT09dC50eXBlKXRocm93IG5ldyBFcnJvcigiaW52YWxpZCBmZWF0dXJlIik7cmV0dXJuIHQuYmJveD10LmJib3g/dC5iYm94Ok5yKHQpLE50LnByb3RvdHlwZS5pbnNlcnQuY2FsbCh0aGlzLHQpfSxlLmxvYWQ9ZnVuY3Rpb24odCl7dmFyIGU9W107cmV0dXJuIEFycmF5LmlzQXJyYXkodCk/dC5mb3JFYWNoKChmdW5jdGlvbih0KXtpZigiRmVhdHVyZSIhPT10LnR5cGUpdGhyb3cgbmV3IEVycm9yKCJpbnZhbGlkIGZlYXR1cmVzIik7dC5iYm94PXQuYmJveD90LmJib3g6TnIodCksZS5wdXNoKHQpfSkpOlNyKHQsKGZ1bmN0aW9uKHQpe2lmKCJGZWF0dXJlIiE9PXQudHlwZSl0aHJvdyBuZXcgRXJyb3IoImludmFsaWQgZmVhdHVyZXMiKTt0LmJib3g9dC5iYm94P3QuYmJveDpOcih0KSxlLnB1c2godCl9KSksTnQucHJvdG90eXBlLmxvYWQuY2FsbCh0aGlzLGUpfSxlLnJlbW92ZT1mdW5jdGlvbih0LGUpe2lmKCJGZWF0dXJlIiE9PXQudHlwZSl0aHJvdyBuZXcgRXJyb3IoImludmFsaWQgZmVhdHVyZSIpO3JldHVybiB0LmJib3g9dC5iYm94P3QuYmJveDpOcih0KSxOdC5wcm90b3R5cGUucmVtb3ZlLmNhbGwodGhpcyx0LGUpfSxlLmNsZWFyPWZ1bmN0aW9uKCl7cmV0dXJuIE50LnByb3RvdHlwZS5jbGVhci5jYWxsKHRoaXMpfSxlLnNlYXJjaD1mdW5jdGlvbih0KXt2YXIgZT1OdC5wcm90b3R5cGUuc2VhcmNoLmNhbGwodGhpcyx0aGlzLnRvQkJveCh0KSk7cmV0dXJuIENyKGUpfSxlLmNvbGxpZGVzPWZ1bmN0aW9uKHQpe3JldHVybiBOdC5wcm90b3R5cGUuY29sbGlkZXMuY2FsbCh0aGlzLHRoaXMudG9CQm94KHQpKX0sZS5hbGw9ZnVuY3Rpb24oKXt2YXIgdD1OdC5wcm90b3R5cGUuYWxsLmNhbGwodGhpcyk7cmV0dXJuIENyKHQpfSxlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybiBOdC5wcm90b3R5cGUudG9KU09OLmNhbGwodGhpcyl9LGUuZnJvbUpTT049ZnVuY3Rpb24odCl7cmV0dXJuIE50LnByb3RvdHlwZS5mcm9tSlNPTi5jYWxsKHRoaXMsdCl9LGUudG9CQm94PWZ1bmN0aW9uKHQpe3ZhciBlO2lmKHQuYmJveCllPXQuYmJveDtlbHNlIGlmKEFycmF5LmlzQXJyYXkodCkmJjQ9PT10Lmxlbmd0aCllPXQ7ZWxzZSBpZihBcnJheS5pc0FycmF5KHQpJiY2PT09dC5sZW5ndGgpZT1bdFswXSx0WzFdLHRbM10sdFs0XV07ZWxzZSBpZigiRmVhdHVyZSI9PT10LnR5cGUpZT1Ocih0KTtlbHNle2lmKCJGZWF0dXJlQ29sbGVjdGlvbiIhPT10LnR5cGUpdGhyb3cgbmV3IEVycm9yKCJpbnZhbGlkIGdlb2pzb24iKTtlPU5yKHQpfXJldHVybnttaW5YOmVbMF0sbWluWTplWzFdLG1heFg6ZVsyXSxtYXhZOmVbM119fSxlfXZhciBNcj1QcixMcj1QcjtmdW5jdGlvbiBPcih0LGUpe3ZhciBuPXt9LHI9W107aWYoIkxpbmVTdHJpbmciPT09dC50eXBlJiYodD1vKHQpKSwiTGluZVN0cmluZyI9PT1lLnR5cGUmJihlPW8oZSkpLCJGZWF0dXJlIj09PXQudHlwZSYmIkZlYXR1cmUiPT09ZS50eXBlJiZudWxsIT09dC5nZW9tZXRyeSYmbnVsbCE9PWUuZ2VvbWV0cnkmJiJMaW5lU3RyaW5nIj09PXQuZ2VvbWV0cnkudHlwZSYmIkxpbmVTdHJpbmciPT09ZS5nZW9tZXRyeS50eXBlJiYyPT09dC5nZW9tZXRyeS5jb29yZGluYXRlcy5sZW5ndGgmJjI9PT1lLmdlb21ldHJ5LmNvb3JkaW5hdGVzLmxlbmd0aCl7dmFyIGk9UnIodCxlKTtyZXR1cm4gaSYmci5wdXNoKGkpLGYocil9dmFyIHM9TXIoKTtyZXR1cm4gcy5sb2FkKFpuKGUpKSxGKFpuKHQpLChmdW5jdGlvbih0KXtGKHMuc2VhcmNoKHQpLChmdW5jdGlvbihlKXt2YXIgaT1Scih0LGUpO2lmKGkpe3ZhciBvPVEoaSkuam9pbigiLCIpO25bb118fChuW29dPSEwLHIucHVzaChpKSl9fSkpfSkpLGYocil9ZnVuY3Rpb24gUnIodCxlKXt2YXIgbj1RKHQpLHI9UShlKTtpZigyIT09bi5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKCI8aW50ZXJzZWN0cz4gbGluZTEgbXVzdCBvbmx5IGNvbnRhaW4gMiBjb29yZGluYXRlcyIpO2lmKDIhPT1yLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoIjxpbnRlcnNlY3RzPiBsaW5lMiBtdXN0IG9ubHkgY29udGFpbiAyIGNvb3JkaW5hdGVzIik7dmFyIGk9blswXVswXSxvPW5bMF1bMV0scz1uWzFdWzBdLHU9blsxXVsxXSxsPXJbMF1bMF0sYz1yWzBdWzFdLGg9clsxXVswXSxwPXJbMV1bMV0sZj0ocC1jKSoocy1pKS0oaC1sKSoodS1vKSxnPShoLWwpKihvLWMpLShwLWMpKihpLWwpLGQ9KHMtaSkqKG8tYyktKHUtbykqKGktbCk7aWYoMD09PWYpcmV0dXJuIG51bGw7dmFyIHk9Zy9mLHY9ZC9mO3JldHVybiB5Pj0wJiZ5PD0xJiZ2Pj0wJiZ2PD0xP2EoW2kreSoocy1pKSxvK3kqKHUtbyldKTpudWxsfWZ1bmN0aW9uIFRyKHQsZSxuKXt2b2lkIDA9PT1uJiYobj17fSk7dmFyIHI9YShbMS8wLDEvMF0se2Rpc3Q6MS8wfSksaT0wO3JldHVybiB6KHQsKGZ1bmN0aW9uKHQpe2Zvcih2YXIgbz1RKHQpLHM9MDtzPG8ubGVuZ3RoLTE7cysrKXt2YXIgdT1hKG9bc10pO3UucHJvcGVydGllcy5kaXN0PW1lKGUsdSxuKTt2YXIgbD1hKG9bcysxXSk7bC5wcm9wZXJ0aWVzLmRpc3Q9bWUoZSxsLG4pO3ZhciBjPW1lKHUsbCxuKSxwPU1hdGgubWF4KHUucHJvcGVydGllcy5kaXN0LGwucHJvcGVydGllcy5kaXN0KSxmPW1uKHUsbCksZz12bihlLHAsZis5MCxuKSxkPXZuKGUscCxmLTkwLG4pLHk9T3IoaChbZy5nZW9tZXRyeS5jb29yZGluYXRlcyxkLmdlb21ldHJ5LmNvb3JkaW5hdGVzXSksaChbdS5nZW9tZXRyeS5jb29yZGluYXRlcyxsLmdlb21ldHJ5LmNvb3JkaW5hdGVzXSkpLHY9bnVsbDt5LmZlYXR1cmVzLmxlbmd0aD4wJiYoKHY9eS5mZWF0dXJlc1swXSkucHJvcGVydGllcy5kaXN0PW1lKGUsdixuKSx2LnByb3BlcnRpZXMubG9jYXRpb249aSttZSh1LHYsbikpLHUucHJvcGVydGllcy5kaXN0PHIucHJvcGVydGllcy5kaXN0JiYoKHI9dSkucHJvcGVydGllcy5pbmRleD1zLHIucHJvcGVydGllcy5sb2NhdGlvbj1pKSxsLnByb3BlcnRpZXMuZGlzdDxyLnByb3BlcnRpZXMuZGlzdCYmKChyPWwpLnByb3BlcnRpZXMuaW5kZXg9cysxLHIucHJvcGVydGllcy5sb2NhdGlvbj1pK2MpLHYmJnYucHJvcGVydGllcy5kaXN0PHIucHJvcGVydGllcy5kaXN0JiYoKHI9dikucHJvcGVydGllcy5pbmRleD1zKSxpKz1jfX0pKSxyfWZ1bmN0aW9uIEFyKHQsbixyKXt2b2lkIDA9PT1yJiYocj17fSk7dmFyIGk9Syh0KSxvPUsobik7cmV0dXJuIG9bMF0rPW9bMF0taVswXT4xODA/LTM2MDppWzBdLW9bMF0+MTgwPzM2MDowLE4oZnVuY3Rpb24odCxuLHIpe3ZhciBpPXI9dm9pZCAwPT09cj9lOk51bWJlcihyKSxvPXRbMV0qTWF0aC5QSS8xODAscz1uWzFdKk1hdGguUEkvMTgwLGE9cy1vLHU9TWF0aC5hYnMoblswXS10WzBdKSpNYXRoLlBJLzE4MDt1Pk1hdGguUEkmJih1LT0yKk1hdGguUEkpO3ZhciBsPU1hdGgubG9nKE1hdGgudGFuKHMvMitNYXRoLlBJLzQpL01hdGgudGFuKG8vMitNYXRoLlBJLzQpKSxjPU1hdGguYWJzKGwpPjFlLTExP2EvbDpNYXRoLmNvcyhvKTtyZXR1cm4gTWF0aC5zcXJ0KGEqYStjKmMqdSp1KSppfShpLG8pLCJtZXRlcnMiLHIudW5pdHMpfWZ1bmN0aW9uIERyKHQsZSxuKXtpZih2b2lkIDA9PT1uJiYobj17fSksbi5tZXRob2R8fChuLm1ldGhvZD0iZ2VvZGVzaWMiKSxuLnVuaXRzfHwobi51bml0cz0ia2lsb21ldGVycyIpLCF0KXRocm93IG5ldyBFcnJvcigicHQgaXMgcmVxdWlyZWQiKTtpZihBcnJheS5pc0FycmF5KHQpP3Q9YSh0KToiUG9pbnQiPT09dC50eXBlP3Q9byh0KTpldCh0LCJQb2ludCIsInBvaW50IiksIWUpdGhyb3cgbmV3IEVycm9yKCJsaW5lIGlzIHJlcXVpcmVkIik7QXJyYXkuaXNBcnJheShlKT9lPWgoZSk6IkxpbmVTdHJpbmciPT09ZS50eXBlP2U9byhlKTpldChlLCJMaW5lU3RyaW5nIiwibGluZSIpO3ZhciByPTEvMCxpPXQuZ2VvbWV0cnkuY29vcmRpbmF0ZXM7cmV0dXJuIFUoZSwoZnVuY3Rpb24odCl7dmFyIGU9dC5nZW9tZXRyeS5jb29yZGluYXRlc1swXSxvPXQuZ2VvbWV0cnkuY29vcmRpbmF0ZXNbMV0scz1mdW5jdGlvbih0LGUsbixyKXt2YXIgaT1bblswXS1lWzBdLG5bMV0tZVsxXV0sbz1GcihbdFswXS1lWzBdLHRbMV0tZVsxXV0saSk7aWYobzw9MClyZXR1cm4ga3IodCxlLHttZXRob2Q6ci5tZXRob2QsdW5pdHM6ImRlZ3JlZXMifSk7dmFyIHM9RnIoaSxpKTtpZihzPD1vKXJldHVybiBrcih0LG4se21ldGhvZDpyLm1ldGhvZCx1bml0czoiZGVncmVlcyJ9KTt2YXIgYT1vL3MsdT1bZVswXSthKmlbMF0sZVsxXSthKmlbMV1dO3JldHVybiBrcih0LHUse21ldGhvZDpyLm1ldGhvZCx1bml0czoiZGVncmVlcyJ9KX0oaSxlLG8sbik7czxyJiYocj1zKX0pKSxOKHIsImRlZ3JlZXMiLG4udW5pdHMpfWZ1bmN0aW9uIEZyKHQsZSl7cmV0dXJuIHRbMF0qZVswXSt0WzFdKmVbMV19ZnVuY3Rpb24ga3IodCxlLG4pe3JldHVybiJwbGFuYXIiPT09bi5tZXRob2Q/QXIodCxlLG4pOm1lKHQsZSxuKX1mdW5jdGlvbiBHcih0LGUsbixyLGksbyxzLGEpe3ZhciB1LGwsYyxoLHA9e3g6bnVsbCx5Om51bGwsb25MaW5lMTohMSxvbkxpbmUyOiExfTtyZXR1cm4gMD09PSh1PShhLW8pKihuLXQpLShzLWkpKihyLWUpKT9udWxsIT09cC54JiZudWxsIT09cC55JiZwOihoPShuLXQpKihsPWUtbyktKHItZSkqKGM9dC1pKSxsPSgocy1pKSpsLShhLW8pKmMpL3UsYz1oL3UscC54PXQrbCoobi10KSxwLnk9ZStsKihyLWUpLGw+PTAmJmw8PTEmJihwLm9uTGluZTE9ITApLGM+PTAmJmM8PTEmJihwLm9uTGluZTI9ITApLCEoIXAub25MaW5lMXx8IXAub25MaW5lMikmJltwLngscC55XSl9ZnVuY3Rpb24gcXIodCl7Zm9yKHZhciBlPWZ1bmN0aW9uKHQpe2lmKCJGZWF0dXJlQ29sbGVjdGlvbiIhPT10LnR5cGUpcmV0dXJuIkZlYXR1cmUiIT09dC50eXBlP2YoW28odCldKTpmKFt0XSk7cmV0dXJuIHR9KHQpLG49eG4oZSkscj0hMSxpPTA7IXImJmk8ZS5mZWF0dXJlcy5sZW5ndGg7KXt2YXIgcyx1PWUuZmVhdHVyZXNbaV0uZ2VvbWV0cnksbD0hMTtpZigiUG9pbnQiPT09dS50eXBlKW4uZ2VvbWV0cnkuY29vcmRpbmF0ZXNbMF09PT11LmNvb3JkaW5hdGVzWzBdJiZuLmdlb21ldHJ5LmNvb3JkaW5hdGVzWzFdPT09dS5jb29yZGluYXRlc1sxXSYmKHI9ITApO2Vsc2UgaWYoIk11bHRpUG9pbnQiPT09dS50eXBlKXt2YXIgYz0hMTtmb3Iocz0wOyFjJiZzPHUuY29vcmRpbmF0ZXMubGVuZ3RoOyluLmdlb21ldHJ5LmNvb3JkaW5hdGVzWzBdPT09dS5jb29yZGluYXRlc1tzXVswXSYmbi5nZW9tZXRyeS5jb29yZGluYXRlc1sxXT09PXUuY29vcmRpbmF0ZXNbc11bMV0mJihyPSEwLGM9ITApLHMrK31lbHNlIGlmKCJMaW5lU3RyaW5nIj09PXUudHlwZSlmb3Iocz0wOyFsJiZzPHUuY29vcmRpbmF0ZXMubGVuZ3RoLTE7KUJyKG4uZ2VvbWV0cnkuY29vcmRpbmF0ZXNbMF0sbi5nZW9tZXRyeS5jb29yZGluYXRlc1sxXSx1LmNvb3JkaW5hdGVzW3NdWzBdLHUuY29vcmRpbmF0ZXNbc11bMV0sdS5jb29yZGluYXRlc1tzKzFdWzBdLHUuY29vcmRpbmF0ZXNbcysxXVsxXSkmJihsPSEwLHI9ITApLHMrKztlbHNlIGlmKCJNdWx0aUxpbmVTdHJpbmciPT09dS50eXBlKWZvcih2YXIgaD0wO2g8dS5jb29yZGluYXRlcy5sZW5ndGg7KXtsPSExLHM9MDtmb3IodmFyIHA9dS5jb29yZGluYXRlc1toXTshbCYmczxwLmxlbmd0aC0xOylCcihuLmdlb21ldHJ5LmNvb3JkaW5hdGVzWzBdLG4uZ2VvbWV0cnkuY29vcmRpbmF0ZXNbMV0scFtzXVswXSxwW3NdWzFdLHBbcysxXVswXSxwW3MrMV1bMV0pJiYobD0hMCxyPSEwKSxzKys7aCsrfWVsc2UiUG9seWdvbiIhPT11LnR5cGUmJiJNdWx0aVBvbHlnb24iIT09dS50eXBlfHx5ZShuLHUpJiYocj0hMCk7aSsrfWlmKHIpcmV0dXJuIG47dmFyIGc9ZihbXSk7Zm9yKGk9MDtpPGUuZmVhdHVyZXMubGVuZ3RoO2krKylnLmZlYXR1cmVzPWcuZmVhdHVyZXMuY29uY2F0KGJuKGUuZmVhdHVyZXNbaV0pLmZlYXR1cmVzKTtyZXR1cm4gYShKbihuLGcpLmdlb21ldHJ5LmNvb3JkaW5hdGVzKX1mdW5jdGlvbiBCcih0LGUsbixyLGksbyl7cmV0dXJuIE1hdGguc3FydCgoaS1uKSooaS1uKSsoby1yKSooby1yKSk9PT1NYXRoLnNxcnQoKHQtbikqKHQtbikrKGUtcikqKGUtcikpK01hdGguc3FydCgoaS10KSooaS10KSsoby1lKSooby1lKSl9TXIuZGVmYXVsdD1Mcjt2YXIgenI9NjM3ODEzNztmdW5jdGlvbiBqcih0KXtyZXR1cm4gQih0LChmdW5jdGlvbih0LGUpe3JldHVybiB0K2Z1bmN0aW9uKHQpe3ZhciBlLG49MDtzd2l0Y2godC50eXBlKXtjYXNlIlBvbHlnb24iOnJldHVybiBVcih0LmNvb3JkaW5hdGVzKTtjYXNlIk11bHRpUG9seWdvbiI6Zm9yKGU9MDtlPHQuY29vcmRpbmF0ZXMubGVuZ3RoO2UrKyluKz1Vcih0LmNvb3JkaW5hdGVzW2VdKTtyZXR1cm4gbjtjYXNlIlBvaW50IjpjYXNlIk11bHRpUG9pbnQiOmNhc2UiTGluZVN0cmluZyI6Y2FzZSJNdWx0aUxpbmVTdHJpbmciOnJldHVybiAwfXJldHVybiAwfShlKX0pLDApfWZ1bmN0aW9uIFVyKHQpe3ZhciBlPTA7aWYodCYmdC5sZW5ndGg+MCl7ZSs9TWF0aC5hYnMoVnIodFswXSkpO2Zvcih2YXIgbj0xO248dC5sZW5ndGg7bisrKWUtPU1hdGguYWJzKFZyKHRbbl0pKX1yZXR1cm4gZX1mdW5jdGlvbiBWcih0KXt2YXIgZSxuLHIsaSxvLHMsYT0wLHU9dC5sZW5ndGg7aWYodT4yKXtmb3Iocz0wO3M8dTtzKyspcz09PXUtMj8ocj11LTIsaT11LTEsbz0wKTpzPT09dS0xPyhyPXUtMSxpPTAsbz0xKToocj1zLGk9cysxLG89cysyKSxlPXRbcl0sbj10W2ldLGErPShYcih0W29dWzBdKS1YcihlWzBdKSkqTWF0aC5zaW4oWHIoblsxXSkpO2E9YSp6cip6ci8yfXJldHVybiBhfWZ1bmN0aW9uIFhyKHQpe3JldHVybiB0Kk1hdGguUEkvMTgwfWZ1bmN0aW9uIFlyKHQsZSl7cmV0dXJuIHZvaWQgMD09PWUmJihlPXt9KSxWKHQsKGZ1bmN0aW9uKHQsbil7dmFyIHI9bi5nZW9tZXRyeS5jb29yZGluYXRlcztyZXR1cm4gdCttZShyWzBdLHJbMV0sZSl9KSwwKX1mdW5jdGlvbiBIcih0LGUsbixyKXtpZighUChyPXJ8fHt9KSl0aHJvdyBuZXcgRXJyb3IoIm9wdGlvbnMgaXMgaW52YWxpZCIpO3ZhciBpLG89W107aWYoIkZlYXR1cmUiPT09dC50eXBlKWk9dC5nZW9tZXRyeS5jb29yZGluYXRlcztlbHNle2lmKCJMaW5lU3RyaW5nIiE9PXQudHlwZSl0aHJvdyBuZXcgRXJyb3IoImlucHV0IG11c3QgYmUgYSBMaW5lU3RyaW5nIEZlYXR1cmUgb3IgR2VvbWV0cnkiKTtpPXQuY29vcmRpbmF0ZXN9Zm9yKHZhciBzLGEsdSxsPWkubGVuZ3RoLGM9MCxwPTA7cDxpLmxlbmd0aCYmIShlPj1jJiZwPT09aS5sZW5ndGgtMSk7cCsrKXtpZihjPmUmJjA9PT1vLmxlbmd0aCl7aWYoIShzPWUtYykpcmV0dXJuIG8ucHVzaChpW3BdKSxoKG8pO2E9bW4oaVtwXSxpW3AtMV0pLTE4MCx1PXZuKGlbcF0scyxhLHIpLG8ucHVzaCh1Lmdlb21ldHJ5LmNvb3JkaW5hdGVzKX1pZihjPj1uKXJldHVybihzPW4tYyk/KGE9bW4oaVtwXSxpW3AtMV0pLTE4MCx1PXZuKGlbcF0scyxhLHIpLG8ucHVzaCh1Lmdlb21ldHJ5LmNvb3JkaW5hdGVzKSxoKG8pKTooby5wdXNoKGlbcF0pLGgobykpO2lmKGM+PWUmJm8ucHVzaChpW3BdKSxwPT09aS5sZW5ndGgtMSlyZXR1cm4gaChvKTtjKz1tZShpW3BdLGlbcCsxXSxyKX1pZihjPGUmJmkubGVuZ3RoPT09bCl0aHJvdyBuZXcgRXJyb3IoIlN0YXJ0IHBvc2l0aW9uIGlzIGJleW9uZCBsaW5lIik7dmFyIGY9aVtpLmxlbmd0aC0xXTtyZXR1cm4gaChbZixmXSl9ZnVuY3Rpb24gV3IodCxlLG4pe3ZvaWQgMD09PW4mJihuPXt9KTtmb3IodmFyIHI9Syh0KSxpPVEoZSksbz0wO288aS5sZW5ndGgtMTtvKyspe3ZhciBzPSExO2lmKG4uaWdub3JlRW5kVmVydGljZXMmJigwPT09byYmKHM9InN0YXJ0Iiksbz09PWkubGVuZ3RoLTImJihzPSJlbmQiKSwwPT09byYmbysxPT09aS5sZW5ndGgtMSYmKHM9ImJvdGgiKSksSnIoaVtvXSxpW28rMV0scixzLHZvaWQgMD09PW4uZXBzaWxvbj9udWxsOm4uZXBzaWxvbikpcmV0dXJuITB9cmV0dXJuITF9ZnVuY3Rpb24gSnIodCxlLG4scixpKXt2YXIgbz1uWzBdLHM9blsxXSxhPXRbMF0sdT10WzFdLGw9ZVswXSxjPWVbMV0saD1sLWEscD1jLXUsZj0oblswXS1hKSpwLShuWzFdLXUpKmg7aWYobnVsbCE9PWkpe2lmKE1hdGguYWJzKGYpPmkpcmV0dXJuITF9ZWxzZSBpZigwIT09ZilyZXR1cm4hMTtyZXR1cm4gcj8ic3RhcnQiPT09cj9NYXRoLmFicyhoKT49TWF0aC5hYnMocCk/aD4wP2E8byYmbzw9bDpsPD1vJiZvPGE6cD4wP3U8cyYmczw9YzpjPD1zJiZzPHU6ImVuZCI9PT1yP01hdGguYWJzKGgpPj1NYXRoLmFicyhwKT9oPjA/YTw9byYmbzxsOmw8byYmbzw9YTpwPjA/dTw9cyYmczxjOmM8cyYmczw9dToiYm90aCI9PT1yJiYoTWF0aC5hYnMoaCk+PU1hdGguYWJzKHApP2g+MD9hPG8mJm88bDpsPG8mJm88YTpwPjA/dTxzJiZzPGM6YzxzJiZzPHUpOk1hdGguYWJzKGgpPj1NYXRoLmFicyhwKT9oPjA/YTw9byYmbzw9bDpsPD1vJiZvPD1hOnA+MD91PD1zJiZzPD1jOmM8PXMmJnM8PXV9ZnVuY3Rpb24gWnIodCxlKXt2YXIgbj1ydCh0KSxyPXJ0KGUpLGk9bi50eXBlLG89ci50eXBlO3N3aXRjaChpKXtjYXNlIlBvaW50Ijpzd2l0Y2gobyl7Y2FzZSJNdWx0aVBvaW50IjpyZXR1cm4gZnVuY3Rpb24odCxlKXt2YXIgbixyPSExO2ZvcihuPTA7bjxlLmNvb3JkaW5hdGVzLmxlbmd0aDtuKyspaWYoUXIoZS5jb29yZGluYXRlc1tuXSx0LmNvb3JkaW5hdGVzKSl7cj0hMDticmVha31yZXR1cm4gcn0obixyKTtjYXNlIkxpbmVTdHJpbmciOnJldHVybiBXcihuLHIse2lnbm9yZUVuZFZlcnRpY2VzOiEwfSk7Y2FzZSJQb2x5Z29uIjpjYXNlIk11bHRpUG9seWdvbiI6cmV0dXJuIHllKG4scix7aWdub3JlQm91bmRhcnk6ITB9KTtkZWZhdWx0OnRocm93IG5ldyBFcnJvcigiZmVhdHVyZTIgIitvKyIgZ2VvbWV0cnkgbm90IHN1cHBvcnRlZCIpfWNhc2UiTXVsdGlQb2ludCI6c3dpdGNoKG8pe2Nhc2UiTXVsdGlQb2ludCI6cmV0dXJuIGZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPTA7bjx0LmNvb3JkaW5hdGVzLmxlbmd0aDtuKyspe2Zvcih2YXIgcj0hMSxpPTA7aTxlLmNvb3JkaW5hdGVzLmxlbmd0aDtpKyspUXIodC5jb29yZGluYXRlc1tuXSxlLmNvb3JkaW5hdGVzW2ldKSYmKHI9ITApO2lmKCFyKXJldHVybiExfXJldHVybiEwfShuLHIpO2Nhc2UiTGluZVN0cmluZyI6cmV0dXJuIGZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPSExLHI9MDtyPHQuY29vcmRpbmF0ZXMubGVuZ3RoO3IrKyl7aWYoIVdyKHQuY29vcmRpbmF0ZXNbcl0sZSkpcmV0dXJuITE7bnx8KG49V3IodC5jb29yZGluYXRlc1tyXSxlLHtpZ25vcmVFbmRWZXJ0aWNlczohMH0pKX1yZXR1cm4gbn0obixyKTtjYXNlIlBvbHlnb24iOmNhc2UiTXVsdGlQb2x5Z29uIjpyZXR1cm4gZnVuY3Rpb24odCxlKXtmb3IodmFyIG49ITAscj0hMSxpPTA7aTx0LmNvb3JkaW5hdGVzLmxlbmd0aDtpKyspe2lmKCEocj15ZSh0LmNvb3JkaW5hdGVzWzFdLGUpKSl7bj0hMTticmVha31yPXllKHQuY29vcmRpbmF0ZXNbMV0sZSx7aWdub3JlQm91bmRhcnk6ITB9KX1yZXR1cm4gbiYmcn0obixyKTtkZWZhdWx0OnRocm93IG5ldyBFcnJvcigiZmVhdHVyZTIgIitvKyIgZ2VvbWV0cnkgbm90IHN1cHBvcnRlZCIpfWNhc2UiTGluZVN0cmluZyI6c3dpdGNoKG8pe2Nhc2UiTGluZVN0cmluZyI6cmV0dXJuIGZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPTA7bjx0LmNvb3JkaW5hdGVzLmxlbmd0aDtuKyspaWYoIVdyKHQuY29vcmRpbmF0ZXNbbl0sZSkpcmV0dXJuITE7cmV0dXJuITB9KG4scik7Y2FzZSJQb2x5Z29uIjpjYXNlIk11bHRpUG9seWdvbiI6cmV0dXJuIGZ1bmN0aW9uKHQsZSl7dmFyIG49WihlKSxyPVoodCk7aWYoIUtyKG4scikpcmV0dXJuITE7Zm9yKHZhciBpPSExLG89MDtvPHQuY29vcmRpbmF0ZXMubGVuZ3RoLTE7bysrKXtpZigheWUodC5jb29yZGluYXRlc1tvXSxlKSlyZXR1cm4hMTtpZihpfHwoaT15ZSh0LmNvb3JkaW5hdGVzW29dLGUse2lnbm9yZUJvdW5kYXJ5OiEwfSkpLCFpKWk9eWUoJHIodC5jb29yZGluYXRlc1tvXSx0LmNvb3JkaW5hdGVzW28rMV0pLGUse2lnbm9yZUJvdW5kYXJ5OiEwfSl9cmV0dXJuIGl9KG4scik7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoImZlYXR1cmUyICIrbysiIGdlb21ldHJ5IG5vdCBzdXBwb3J0ZWQiKX1jYXNlIlBvbHlnb24iOnN3aXRjaChvKXtjYXNlIlBvbHlnb24iOmNhc2UiTXVsdGlQb2x5Z29uIjpyZXR1cm4gZnVuY3Rpb24odCxlKXt2YXIgbj1aKHQpO2lmKCFLcihaKGUpLG4pKXJldHVybiExO2Zvcih2YXIgcj0wO3I8dC5jb29yZGluYXRlc1swXS5sZW5ndGg7cisrKWlmKCF5ZSh0LmNvb3JkaW5hdGVzWzBdW3JdLGUpKXJldHVybiExO3JldHVybiEwfShuLHIpO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKCJmZWF0dXJlMiAiK28rIiBnZW9tZXRyeSBub3Qgc3VwcG9ydGVkIil9ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoImZlYXR1cmUxICIraSsiIGdlb21ldHJ5IG5vdCBzdXBwb3J0ZWQiKX19ZnVuY3Rpb24gS3IodCxlKXtyZXR1cm4hKHRbMF0+ZVswXSkmJighKHRbMl08ZVsyXSkmJighKHRbMV0+ZVsxXSkmJiEodFszXTxlWzNdKSkpfWZ1bmN0aW9uIFFyKHQsZSl7cmV0dXJuIHRbMF09PT1lWzBdJiZ0WzFdPT09ZVsxXX1mdW5jdGlvbiAkcih0LGUpe3JldHVyblsodFswXStlWzBdKS8yLCh0WzFdK2VbMV0pLzJdfWZ1bmN0aW9uIHRpKHQsZSxuKXt2b2lkIDA9PT1uJiYobj17fSksbi5tYXNrJiYhbi51bml0cyYmKG4udW5pdHM9ImtpbG9tZXRlcnMiKTtmb3IodmFyIHI9W10saT10WzBdLG89dFsxXSxzPXRbMl0sdT10WzNdLGw9ZS9tZShbaSxvXSxbcyxvXSxuKSoocy1pKSxjPWUvbWUoW2ksb10sW2ksdV0sbikqKHUtbyksaD1zLWkscD11LW8sZz1NYXRoLmZsb29yKGgvbCksZD0ocC1NYXRoLmZsb29yKHAvYykqYykvMix5PWkrKGgtZypsKS8yO3k8PXM7KXtmb3IodmFyIHY9bytkO3Y8PXU7KXt2YXIgXz1hKFt5LHZdLG4ucHJvcGVydGllcyk7bi5tYXNrP1pyKF8sbi5tYXNrKSYmci5wdXNoKF8pOnIucHVzaChfKSx2Kz1jfXkrPWx9cmV0dXJuIGYocil9ZnVuY3Rpb24gZWkodCxlKXt2b2lkIDA9PT1lJiYoZT17fSk7dmFyIG49ZS5wcmVjaXNpb24scj1lLmNvb3JkaW5hdGVzLGk9ZS5tdXRhdGU7aWYobj1udWxsPT1ufHxpc05hTihuKT82Om4scj1udWxsPT1yfHxpc05hTihyKT8zOnIsIXQpdGhyb3cgbmV3IEVycm9yKCI8Z2VvanNvbj4gaXMgcmVxdWlyZWQiKTtpZigibnVtYmVyIiE9dHlwZW9mIG4pdGhyb3cgbmV3IEVycm9yKCI8cHJlY2lzaW9uPiBtdXN0IGJlIGEgbnVtYmVyIik7aWYoIm51bWJlciIhPXR5cGVvZiByKXRocm93IG5ldyBFcnJvcigiPGNvb3JkaW5hdGVzPiBtdXN0IGJlIGEgbnVtYmVyIik7ITEhPT1pJiZ2b2lkIDAhPT1pfHwodD1KU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHQpKSk7dmFyIG89TWF0aC5wb3coMTAsbik7cmV0dXJuIFIodCwoZnVuY3Rpb24odCl7IWZ1bmN0aW9uKHQsZSxuKXt0Lmxlbmd0aD5uJiZ0LnNwbGljZShuLHQubGVuZ3RoKTtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKyl0W3JdPU1hdGgucm91bmQodFtyXSplKS9lfSh0LG8scil9KSksdH1mdW5jdGlvbiBuaSh0KXtpZighdCl0aHJvdyBuZXcgRXJyb3IoImdlb2pzb24gaXMgcmVxdWlyZWQiKTt2YXIgZT1bXTtyZXR1cm4geih0LChmdW5jdGlvbih0KXtlLnB1c2godCl9KSksZihlKX1mdW5jdGlvbiByaSh0LGUsbil7aWYoIlBvbHlnb24iIT09dC5nZW9tZXRyeS50eXBlKXRocm93IG5ldyBFcnJvcigiVGhlIGlucHV0IGZlYXR1cmUgbXVzdCBiZSBhIFBvbHlnb24iKTt2b2lkIDA9PT1uJiYobj0xKTt2YXIgcj10Lmdlb21ldHJ5LmNvb3JkaW5hdGVzLGk9W10sbz17fTtpZihuKXtmb3IodmFyIHM9W10sYT0wO2E8ci5sZW5ndGg7YSsrKWZvcih2YXIgdT0wO3U8clthXS5sZW5ndGgtMTt1Kyspcy5wdXNoKGQoYSx1KSk7dmFyIGw9TnQoKTtsLmxvYWQocyl9Zm9yKHZhciBjPTA7YzxyLmxlbmd0aDtjKyspZm9yKHZhciBoPTA7aDxyW2NdLmxlbmd0aC0xO2grKyl7aWYobilsLnNlYXJjaChkKGMsaCkpLmZvckVhY2goKGZ1bmN0aW9uKHQpe3ZhciBlPXQucmluZyxuPXQuZWRnZTtnKGMsaCxlLG4pfSkpO2Vsc2UgZm9yKHZhciBwPTA7cDxyLmxlbmd0aDtwKyspZm9yKHZhciBmPTA7ZjxyW3BdLmxlbmd0aC0xO2YrKylnKGMsaCxwLGYpfXJldHVybiBlfHwoaT17dHlwZToiRmVhdHVyZSIsZ2VvbWV0cnk6e3R5cGU6Ik11bHRpUG9pbnQiLGNvb3JkaW5hdGVzOml9fSksaTtmdW5jdGlvbiBnKHQsbixzLGEpe3ZhciB1LGwsYz1yW3RdW25dLGg9clt0XVtuKzFdLHA9cltzXVthXSxmPXJbc11bYSsxXSxnPWZ1bmN0aW9uKHQsZSxuLHIpe2lmKGlpKHQsbil8fGlpKHQscil8fGlpKGUsbil8fGlpKHIsbikpcmV0dXJuIG51bGw7dmFyIGk9dFswXSxvPXRbMV0scz1lWzBdLGE9ZVsxXSx1PW5bMF0sbD1uWzFdLGM9clswXSxoPXJbMV0scD0oaS1zKSoobC1oKS0oby1hKSoodS1jKTtyZXR1cm4gMD09PXA/bnVsbDpbKChpKmEtbypzKSoodS1jKS0oaS1zKSoodSpoLWwqYykpL3AsKChpKmEtbypzKSoobC1oKS0oby1hKSoodSpoLWwqYykpL3BdfShjLGgscCxmKTtpZihudWxsIT09ZyYmKHU9aFswXSE9PWNbMF0/KGdbMF0tY1swXSkvKGhbMF0tY1swXSk6KGdbMV0tY1sxXSkvKGhbMV0tY1sxXSksbD1mWzBdIT09cFswXT8oZ1swXS1wWzBdKS8oZlswXS1wWzBdKTooZ1sxXS1wWzFdKS8oZlsxXS1wWzFdKSwhKHU+PTF8fHU8PTB8fGw+PTF8fGw8PTApKSl7dmFyIGQ9Zyx5PSFvW2RdO3kmJihvW2RdPSEwKSxlP2kucHVzaChlKGcsdCxuLGMsaCx1LHMsYSxwLGYsbCx5KSk6aS5wdXNoKGcpfX1mdW5jdGlvbiBkKHQsZSl7dmFyIG4saSxvLHMsYT1yW3RdW2VdLHU9clt0XVtlKzFdO3JldHVybiBhWzBdPHVbMF0/KG49YVswXSxpPXVbMF0pOihuPXVbMF0saT1hWzBdKSxhWzFdPHVbMV0/KG89YVsxXSxzPXVbMV0pOihvPXVbMV0scz1hWzFdKSx7bWluWDpuLG1pblk6byxtYXhYOmksbWF4WTpzLHJpbmc6dCxlZGdlOmV9fX1mdW5jdGlvbiBpaSh0LGUpe2lmKCF0fHwhZSlyZXR1cm4hMTtpZih0Lmxlbmd0aCE9PWUubGVuZ3RoKXJldHVybiExO2Zvcih2YXIgbj0wLHI9dC5sZW5ndGg7bjxyO24rKylpZih0W25daW5zdGFuY2VvZiBBcnJheSYmZVtuXWluc3RhbmNlb2YgQXJyYXkpe2lmKCFpaSh0W25dLGVbbl0pKXJldHVybiExfWVsc2UgaWYodFtuXSE9PWVbbl0pcmV0dXJuITE7cmV0dXJuITB9ZnVuY3Rpb24gb2kodCl7aWYoIkZlYXR1cmUiIT10LnR5cGUpdGhyb3cgbmV3IEVycm9yKCJUaGUgaW5wdXQgbXVzdCBhIGdlb2pzb24gb2JqZWN0IG9mIHR5cGUgRmVhdHVyZSIpO2lmKHZvaWQgMD09PXQuZ2VvbWV0cnl8fG51bGw9PXQuZ2VvbWV0cnkpdGhyb3cgbmV3IEVycm9yKCJUaGUgaW5wdXQgbXVzdCBhIGdlb2pzb24gb2JqZWN0IHdpdGggYSBub24tZW1wdHkgZ2VvbWV0cnkiKTtpZigiUG9seWdvbiIhPXQuZ2VvbWV0cnkudHlwZSl0aHJvdyBuZXcgRXJyb3IoIlRoZSBpbnB1dCBtdXN0IGJlIGEgZ2VvanNvbiBQb2x5Z29uIik7Zm9yKHZhciBlPXQuZ2VvbWV0cnkuY29vcmRpbmF0ZXMubGVuZ3RoLG49W10scj0wO3I8ZTtyKyspe3ZhciBpPXQuZ2VvbWV0cnkuY29vcmRpbmF0ZXNbcl07Y2koaVswXSxpW2kubGVuZ3RoLTFdKXx8aS5wdXNoKGlbMF0pLG4ucHVzaC5hcHBseShuLGkuc2xpY2UoMCxpLmxlbmd0aC0xKSl9aWYoIWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT17fSxuPTEscj0wLGk9dC5sZW5ndGg7cjxpOysrcil7aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsdFtyXSkpe249MDticmVha31lW3Rbcl1dPTF9cmV0dXJuIG59KG4pKXRocm93IG5ldyBFcnJvcigiVGhlIGlucHV0IHBvbHlnb24gbWF5IG5vdCBoYXZlIGR1cGxpY2F0ZSB2ZXJ0aWNlcyAoZXhjZXB0IGZvciB0aGUgZmlyc3QgYW5kIGxhc3QgdmVydGV4IG9mIGVhY2ggcmluZykiKTt2YXIgbz1uLmxlbmd0aCxzPXJpKHQsKGZ1bmN0aW9uKHQsZSxuLHIsaSxvLHMsYSx1LGwsYyxoKXtyZXR1cm5bdCxlLG4scixpLG8scyxhLHUsbCxjLGhdfSkpLGE9cy5sZW5ndGg7aWYoMD09YSl7dmFyIHU9W107Zm9yKHI9MDtyPGU7cisrKXUucHVzaChsKFt0Lmdlb21ldHJ5LmNvb3JkaW5hdGVzW3JdXSx7cGFyZW50Oi0xLHdpbmRpbmc6bGkodC5nZW9tZXRyeS5jb29yZGluYXRlc1tyXSl9KSk7dmFyIGM9Zih1KTtyZXR1cm4gRygpLHEoKSxjfXZhciBoPVtdLHA9W107Zm9yKHI9MDtyPGU7cisrKXtoLnB1c2goW10pO2Zvcih2YXIgZz0wO2c8dC5nZW9tZXRyeS5jb29yZGluYXRlc1tyXS5sZW5ndGgtMTtnKyspaFtyXS5wdXNoKFtuZXcgc2kodC5nZW9tZXRyeS5jb29yZGluYXRlc1tyXVtoaShnKzEsdC5nZW9tZXRyeS5jb29yZGluYXRlc1tyXS5sZW5ndGgtMSldLDEsW3IsZ10sW3IsaGkoZysxLHQuZ2VvbWV0cnkuY29vcmRpbmF0ZXNbcl0ubGVuZ3RoLTEpXSx2b2lkIDApXSkscC5wdXNoKG5ldyBhaSh0Lmdlb21ldHJ5LmNvb3JkaW5hdGVzW3JdW2ddLFtyLGhpKGctMSx0Lmdlb21ldHJ5LmNvb3JkaW5hdGVzW3JdLmxlbmd0aC0xKV0sW3IsZ10sdm9pZCAwLHZvaWQgMCwhMSwhMCkpfWZvcihyPTA7cjxhO3IrKyloW3Nbcl1bMV1dW3Nbcl1bMl1dLnB1c2gobmV3IHNpKHNbcl1bMF0sc1tyXVs1XSxbc1tyXVsxXSxzW3JdWzJdXSxbc1tyXVs2XSxzW3JdWzddXSx2b2lkIDApKSxzW3JdWzExXSYmcC5wdXNoKG5ldyBhaShzW3JdWzBdLFtzW3JdWzFdLHNbcl1bMl1dLFtzW3JdWzZdLHNbcl1bN11dLHZvaWQgMCx2b2lkIDAsITAsITApKTt2YXIgZD1wLmxlbmd0aDtmb3Iocj0wO3I8aC5sZW5ndGg7cisrKWZvcihnPTA7ZzxoW3JdLmxlbmd0aDtnKyspaFtyXVtnXS5zb3J0KChmdW5jdGlvbih0LGUpe3JldHVybiB0LnBhcmFtPGUucGFyYW0/LTE6MX0pKTt2YXIgeT1bXTtmb3Iocj0wO3I8ZDtyKyspeS5wdXNoKHttaW5YOnBbcl0uY29vcmRbMF0sbWluWTpwW3JdLmNvb3JkWzFdLG1heFg6cFtyXS5jb29yZFswXSxtYXhZOnBbcl0uY29vcmRbMV0saW5kZXg6cn0pO3ZhciB2PU50KCk7di5sb2FkKHkpO2ZvcihyPTA7cjxoLmxlbmd0aDtyKyspZm9yKGc9MDtnPGhbcl0ubGVuZ3RoO2crKylmb3IodmFyIF89MDtfPGhbcl1bZ10ubGVuZ3RoO18rKyl7eD1fPT1oW3JdW2ddLmxlbmd0aC0xP2hbcl1baGkoZysxLHQuZ2VvbWV0cnkuY29vcmRpbmF0ZXNbcl0ubGVuZ3RoLTEpXVswXS5jb29yZDpoW3JdW2ddW18rMV0uY29vcmQ7dmFyIG09di5zZWFyY2goe21pblg6eFswXSxtaW5ZOnhbMV0sbWF4WDp4WzBdLG1heFk6eFsxXX0pWzBdO2hbcl1bZ11bX10ubnh0SXNlY3RBbG9uZ0VkZ2VJbj1tLmluZGV4fWZvcihyPTA7cjxoLmxlbmd0aDtyKyspZm9yKGc9MDtnPGhbcl0ubGVuZ3RoO2crKylmb3IoXz0wO188aFtyXVtnXS5sZW5ndGg7XysrKXt2YXIgeD1oW3JdW2ddW19dLmNvb3JkLEU9KG09di5zZWFyY2goe21pblg6eFswXSxtaW5ZOnhbMV0sbWF4WDp4WzBdLG1heFk6eFsxXX0pWzBdKS5pbmRleDtFPG8/cFtFXS5ueHRJc2VjdEFsb25nUmluZ0FuZEVkZ2UyPWhbcl1bZ11bX10ubnh0SXNlY3RBbG9uZ0VkZ2VJbjpjaShwW0VdLnJpbmdBbmRFZGdlMSxoW3JdW2ddW19dLnJpbmdBbmRFZGdlSW4pP3BbRV0ubnh0SXNlY3RBbG9uZ1JpbmdBbmRFZGdlMT1oW3JdW2ddW19dLm54dElzZWN0QWxvbmdFZGdlSW46cFtFXS5ueHRJc2VjdEFsb25nUmluZ0FuZEVkZ2UyPWhbcl1bZ11bX10ubnh0SXNlY3RBbG9uZ0VkZ2VJbn12YXIgYj1bXTtmb3Iocj0wLGc9MDtnPGU7ZysrKXt2YXIgdz1yO2ZvcihfPTA7Xzx0Lmdlb21ldHJ5LmNvb3JkaW5hdGVzW2ddLmxlbmd0aC0xO18rKylwW3JdLmNvb3JkWzBdPHBbd10uY29vcmRbMF0mJih3PXIpLHIrKzt2YXIgST1wW3ddLm54dElzZWN0QWxvbmdSaW5nQW5kRWRnZTI7Zm9yKF89MDtfPHAubGVuZ3RoO18rKylpZihwW19dLm54dElzZWN0QWxvbmdSaW5nQW5kRWRnZTE9PXd8fHBbX10ubnh0SXNlY3RBbG9uZ1JpbmdBbmRFZGdlMj09dyl7dmFyIE49XzticmVha312YXIgUz11aShbcFtOXS5jb29yZCxwW3ddLmNvb3JkLHBbSV0uY29vcmRdLCEwKT8xOi0xO2IucHVzaCh7aXNlY3Q6dyxwYXJlbnQ6LTEsd2luZGluZzpTfSl9Yi5zb3J0KChmdW5jdGlvbih0LGUpe3JldHVybiBwW3QuaXNlY3RdLmNvb3JkPnBbZS5pc2VjdF0uY29vcmQ/LTE6MX0pKTtmb3IodT1bXTtiLmxlbmd0aD4wOyl7dmFyIEM9Yi5wb3AoKSxQPUMuaXNlY3QsTT1DLnBhcmVudCxMPUMud2luZGluZyxPPXUubGVuZ3RoLFI9W3BbUF0uY29vcmRdLFQ9UDtpZihwW1BdLnJpbmdBbmRFZGdlMVdhbGthYmxlKXZhciBBPXBbUF0ucmluZ0FuZEVkZ2UxLEQ9cFtQXS5ueHRJc2VjdEFsb25nUmluZ0FuZEVkZ2UxO2Vsc2UgQT1wW1BdLnJpbmdBbmRFZGdlMixEPXBbUF0ubnh0SXNlY3RBbG9uZ1JpbmdBbmRFZGdlMjtmb3IoOyFjaShwW1BdLmNvb3JkLHBbRF0uY29vcmQpOyl7Ui5wdXNoKHBbRF0uY29vcmQpO3ZhciBGPXZvaWQgMDtmb3Iocj0wO3I8Yi5sZW5ndGg7cisrKWlmKGJbcl0uaXNlY3Q9PUQpe0Y9cjticmVha31pZihudWxsIT1GJiZiLnNwbGljZShGLDEpLGNpKEEscFtEXS5yaW5nQW5kRWRnZTEpKXtpZihBPXBbRF0ucmluZ0FuZEVkZ2UyLHBbRF0ucmluZ0FuZEVkZ2UyV2Fsa2FibGU9ITEscFtEXS5yaW5nQW5kRWRnZTFXYWxrYWJsZSl7dmFyIGs9e2lzZWN0OkR9O3VpKFtwW1RdLmNvb3JkLHBbRF0uY29vcmQscFtwW0RdLm54dElzZWN0QWxvbmdSaW5nQW5kRWRnZTJdLmNvb3JkXSwxPT1MKT8oay5wYXJlbnQ9TSxrLndpbmRpbmc9LUwpOihrLnBhcmVudD1PLGsud2luZGluZz1MKSxiLnB1c2goayl9VD1ELEQ9cFtEXS5ueHRJc2VjdEFsb25nUmluZ0FuZEVkZ2UyfWVsc2V7aWYoQT1wW0RdLnJpbmdBbmRFZGdlMSxwW0RdLnJpbmdBbmRFZGdlMVdhbGthYmxlPSExLHBbRF0ucmluZ0FuZEVkZ2UyV2Fsa2FibGUpe2s9e2lzZWN0OkR9O3VpKFtwW1RdLmNvb3JkLHBbRF0uY29vcmQscFtwW0RdLm54dElzZWN0QWxvbmdSaW5nQW5kRWRnZTFdLmNvb3JkXSwxPT1MKT8oay5wYXJlbnQ9TSxrLndpbmRpbmc9LUwpOihrLnBhcmVudD1PLGsud2luZGluZz1MKSxiLnB1c2goayl9VD1ELEQ9cFtEXS5ueHRJc2VjdEFsb25nUmluZ0FuZEVkZ2UxfX1SLnB1c2gocFtEXS5jb29yZCksdS5wdXNoKGwoW1JdLHtpbmRleDpPLHBhcmVudDpNLHdpbmRpbmc6TCxuZXRXaW5kaW5nOnZvaWQgMH0pKX1jPWYodSk7ZnVuY3Rpb24gRygpe2Zvcih2YXIgdD1bXSxlPTA7ZTxjLmZlYXR1cmVzLmxlbmd0aDtlKyspLTE9PWMuZmVhdHVyZXNbZV0ucHJvcGVydGllcy5wYXJlbnQmJnQucHVzaChlKTtpZih0Lmxlbmd0aD4xKWZvcihlPTA7ZTx0Lmxlbmd0aDtlKyspe2Zvcih2YXIgbj0tMSxyPTA7cjxjLmZlYXR1cmVzLmxlbmd0aDtyKyspdFtlXSE9ciYmeWUoYy5mZWF0dXJlc1t0W2VdXS5nZW9tZXRyeS5jb29yZGluYXRlc1swXVswXSxjLmZlYXR1cmVzW3JdLHtpZ25vcmVCb3VuZGFyeTohMH0pJiZqcihjLmZlYXR1cmVzW3JdKTxJbmZpbml0eSYmKG49cik7Yy5mZWF0dXJlc1t0W2VdXS5wcm9wZXJ0aWVzLnBhcmVudD1ufX1mdW5jdGlvbiBxKCl7Zm9yKHZhciB0PTA7dDxjLmZlYXR1cmVzLmxlbmd0aDt0KyspaWYoLTE9PWMuZmVhdHVyZXNbdF0ucHJvcGVydGllcy5wYXJlbnQpe3ZhciBlPWMuZmVhdHVyZXNbdF0ucHJvcGVydGllcy53aW5kaW5nO2MuZmVhdHVyZXNbdF0ucHJvcGVydGllcy5uZXRXaW5kaW5nPWUsQih0LGUpfX1mdW5jdGlvbiBCKHQsZSl7Zm9yKHZhciBuPTA7bjxjLmZlYXR1cmVzLmxlbmd0aDtuKyspaWYoYy5mZWF0dXJlc1tuXS5wcm9wZXJ0aWVzLnBhcmVudD09dCl7dmFyIHI9ZStjLmZlYXR1cmVzW25dLnByb3BlcnRpZXMud2luZGluZztjLmZlYXR1cmVzW25dLnByb3BlcnRpZXMubmV0V2luZGluZz1yLEIobixyKX19cmV0dXJuIEcoKSxxKCksY312YXIgc2k9ZnVuY3Rpb24odCxlLG4scixpKXt0aGlzLmNvb3JkPXQsdGhpcy5wYXJhbT1lLHRoaXMucmluZ0FuZEVkZ2VJbj1uLHRoaXMucmluZ0FuZEVkZ2VPdXQ9cix0aGlzLm54dElzZWN0QWxvbmdFZGdlSW49aX0sYWk9ZnVuY3Rpb24odCxlLG4scixpLG8scyl7dGhpcy5jb29yZD10LHRoaXMucmluZ0FuZEVkZ2UxPWUsdGhpcy5yaW5nQW5kRWRnZTI9bix0aGlzLm54dElzZWN0QWxvbmdSaW5nQW5kRWRnZTE9cix0aGlzLm54dElzZWN0QWxvbmdSaW5nQW5kRWRnZTI9aSx0aGlzLnJpbmdBbmRFZGdlMVdhbGthYmxlPW8sdGhpcy5yaW5nQW5kRWRnZTJXYWxrYWJsZT1zfTtmdW5jdGlvbiB1aSh0LGUpe2lmKHZvaWQgMD09PWUmJihlPSEwKSwzIT10Lmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoIlRoaXMgZnVuY3Rpb24gcmVxdWlyZXMgYW4gYXJyYXkgb2YgdGhyZWUgcG9pbnRzIFt4LHldIik7cmV0dXJuKHRbMV1bMF0tdFswXVswXSkqKHRbMl1bMV0tdFswXVsxXSktKHRbMV1bMV0tdFswXVsxXSkqKHRbMl1bMF0tdFswXVswXSk+PTA9PWV9ZnVuY3Rpb24gbGkodCl7Zm9yKHZhciBlPTAsbj0wO248dC5sZW5ndGgtMTtuKyspdFtuXVswXTx0W2VdWzBdJiYoZT1uKTtpZih1aShbdFtoaShlLTEsdC5sZW5ndGgtMSldLHRbZV0sdFtoaShlKzEsdC5sZW5ndGgtMSldXSwhMCkpdmFyIHI9MTtlbHNlIHI9LTE7cmV0dXJuIHJ9ZnVuY3Rpb24gY2kodCxlKXtpZighdHx8IWUpcmV0dXJuITE7aWYodC5sZW5ndGghPWUubGVuZ3RoKXJldHVybiExO2Zvcih2YXIgbj0wLHI9dC5sZW5ndGg7bjxyO24rKylpZih0W25daW5zdGFuY2VvZiBBcnJheSYmZVtuXWluc3RhbmNlb2YgQXJyYXkpe2lmKCFjaSh0W25dLGVbbl0pKXJldHVybiExfWVsc2UgaWYodFtuXSE9ZVtuXSlyZXR1cm4hMTtyZXR1cm4hMH1mdW5jdGlvbiBoaSh0LGUpe3JldHVybih0JWUrZSklZX12YXIgcGk9TWF0aC5QSS8xODAsZmk9MTgwL01hdGguUEksZ2k9ZnVuY3Rpb24odCxlKXt0aGlzLmxvbj10LHRoaXMubGF0PWUsdGhpcy54PXBpKnQsdGhpcy55PXBpKmV9O2dpLnByb3RvdHlwZS52aWV3PWZ1bmN0aW9uKCl7cmV0dXJuIFN0cmluZyh0aGlzLmxvbikuc2xpY2UoMCw0KSsiLCIrU3RyaW5nKHRoaXMubGF0KS5zbGljZSgwLDQpfSxnaS5wcm90b3R5cGUuYW50aXBvZGU9ZnVuY3Rpb24oKXt2YXIgdD0tMSp0aGlzLmxhdCxlPXRoaXMubG9uPDA/MTgwK3RoaXMubG9uOi0xKigxODAtdGhpcy5sb24pO3JldHVybiBuZXcgZ2koZSx0KX07dmFyIGRpPWZ1bmN0aW9uKCl7dGhpcy5jb29yZHM9W10sdGhpcy5sZW5ndGg9MH07ZGkucHJvdG90eXBlLm1vdmVfdG89ZnVuY3Rpb24odCl7dGhpcy5sZW5ndGgrKyx0aGlzLmNvb3Jkcy5wdXNoKHQpfTt2YXIgeWk9ZnVuY3Rpb24odCl7dGhpcy5wcm9wZXJ0aWVzPXR8fHt9LHRoaXMuZ2VvbWV0cmllcz1bXX07eWkucHJvdG90eXBlLmpzb249ZnVuY3Rpb24oKXtpZih0aGlzLmdlb21ldHJpZXMubGVuZ3RoPD0wKXJldHVybntnZW9tZXRyeTp7dHlwZToiTGluZVN0cmluZyIsY29vcmRpbmF0ZXM6bnVsbH0sdHlwZToiRmVhdHVyZSIscHJvcGVydGllczp0aGlzLnByb3BlcnRpZXN9O2lmKDE9PT10aGlzLmdlb21ldHJpZXMubGVuZ3RoKXJldHVybntnZW9tZXRyeTp7dHlwZToiTGluZVN0cmluZyIsY29vcmRpbmF0ZXM6dGhpcy5nZW9tZXRyaWVzWzBdLmNvb3Jkc30sdHlwZToiRmVhdHVyZSIscHJvcGVydGllczp0aGlzLnByb3BlcnRpZXN9O2Zvcih2YXIgdD1bXSxlPTA7ZTx0aGlzLmdlb21ldHJpZXMubGVuZ3RoO2UrKyl0LnB1c2godGhpcy5nZW9tZXRyaWVzW2VdLmNvb3Jkcyk7cmV0dXJue2dlb21ldHJ5Ont0eXBlOiJNdWx0aUxpbmVTdHJpbmciLGNvb3JkaW5hdGVzOnR9LHR5cGU6IkZlYXR1cmUiLHByb3BlcnRpZXM6dGhpcy5wcm9wZXJ0aWVzfX0seWkucHJvdG90eXBlLndrdD1mdW5jdGlvbigpe2Zvcih2YXIgdD0iIixlPSJMSU5FU1RSSU5HKCIsbj1mdW5jdGlvbih0KXtlKz10WzBdKyIgIit0WzFdKyIsIn0scj0wO3I8dGhpcy5nZW9tZXRyaWVzLmxlbmd0aDtyKyspe2lmKDA9PT10aGlzLmdlb21ldHJpZXNbcl0uY29vcmRzLmxlbmd0aClyZXR1cm4iTElORVNUUklORyhlbXB0eSkiO3RoaXMuZ2VvbWV0cmllc1tyXS5jb29yZHMuZm9yRWFjaChuKSx0Kz1lLnN1YnN0cmluZygwLGUubGVuZ3RoLTEpKyIpIn1yZXR1cm4gdH07dmFyIHZpPWZ1bmN0aW9uKHQsZSxuKXtpZighdHx8dm9pZCAwPT09dC54fHx2b2lkIDA9PT10LnkpdGhyb3cgbmV3IEVycm9yKCJHcmVhdENpcmNsZSBjb25zdHJ1Y3RvciBleHBlY3RzIHR3byBhcmdzOiBzdGFydCBhbmQgZW5kIG9iamVjdHMgd2l0aCB4IGFuZCB5IHByb3BlcnRpZXMiKTtpZighZXx8dm9pZCAwPT09ZS54fHx2b2lkIDA9PT1lLnkpdGhyb3cgbmV3IEVycm9yKCJHcmVhdENpcmNsZSBjb25zdHJ1Y3RvciBleHBlY3RzIHR3byBhcmdzOiBzdGFydCBhbmQgZW5kIG9iamVjdHMgd2l0aCB4IGFuZCB5IHByb3BlcnRpZXMiKTt0aGlzLnN0YXJ0PW5ldyBnaSh0LngsdC55KSx0aGlzLmVuZD1uZXcgZ2koZS54LGUueSksdGhpcy5wcm9wZXJ0aWVzPW58fHt9O3ZhciByPXRoaXMuc3RhcnQueC10aGlzLmVuZC54LGk9dGhpcy5zdGFydC55LXRoaXMuZW5kLnksbz1NYXRoLnBvdyhNYXRoLnNpbihpLzIpLDIpK01hdGguY29zKHRoaXMuc3RhcnQueSkqTWF0aC5jb3ModGhpcy5lbmQueSkqTWF0aC5wb3coTWF0aC5zaW4oci8yKSwyKTtpZih0aGlzLmc9MipNYXRoLmFzaW4oTWF0aC5zcXJ0KG8pKSx0aGlzLmc9PT1NYXRoLlBJKXRocm93IG5ldyBFcnJvcigiaXQgYXBwZWFycyAiK3QudmlldygpKyIgYW5kICIrZS52aWV3KCkrIiBhcmUgJ2FudGlwb2RhbCcsIGUuZyBkaWFtZXRyaWNhbGx5IG9wcG9zaXRlLCB0aHVzIHRoZXJlIGlzIG5vIHNpbmdsZSByb3V0ZSBidXQgcmF0aGVyIGluZmluaXRlIik7aWYoaXNOYU4odGhpcy5nKSl0aHJvdyBuZXcgRXJyb3IoImNvdWxkIG5vdCBjYWxjdWxhdGUgZ3JlYXQgY2lyY2xlIGJldHdlZW4gIit0KyIgYW5kICIrZSl9O2Z1bmN0aW9uIF9pKHQsZSl7dmFyIG49W10scj1NcigpO3JldHVybiB6KGUsKGZ1bmN0aW9uKGUpe2lmKG4uZm9yRWFjaCgoZnVuY3Rpb24odCxlKXt0LmlkPWV9KSksbi5sZW5ndGgpe3ZhciBpPXIuc2VhcmNoKGUpO2lmKGkuZmVhdHVyZXMubGVuZ3RoKXt2YXIgbz14aShlLGkpO249bi5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmlkIT09by5pZH0pKSxyLnJlbW92ZShvKSxGKG1pKG8sZSksKGZ1bmN0aW9uKHQpe24ucHVzaCh0KSxyLmluc2VydCh0KX0pKX19ZWxzZShuPW1pKHQsZSkuZmVhdHVyZXMpLmZvckVhY2goKGZ1bmN0aW9uKHQpe3QuYmJveHx8KHQuYmJveD15bihaKHQpKSl9KSksci5sb2FkKGYobikpfSkpLGYobil9ZnVuY3Rpb24gbWkodCxlKXt2YXIgbj1bXSxyPVEodClbMF0saT1RKHQpW3QuZ2VvbWV0cnkuY29vcmRpbmF0ZXMubGVuZ3RoLTFdO2lmKEVpKHIsSyhlKSl8fEVpKGksSyhlKSkpcmV0dXJuIGYoW3RdKTt2YXIgbz1NcigpLHM9Wm4odCk7by5sb2FkKHMpO3ZhciBhPW8uc2VhcmNoKGUpO2lmKCFhLmZlYXR1cmVzLmxlbmd0aClyZXR1cm4gZihbdF0pO3ZhciB1PXhpKGUsYSksbD1rKHMsKGZ1bmN0aW9uKHQscixpKXt2YXIgbz1RKHIpWzFdLHM9SyhlKTtyZXR1cm4gaT09PXUuaWQ/KHQucHVzaChzKSxuLnB1c2goaCh0KSksRWkocyxvKT9bc106W3Msb10pOih0LnB1c2gobyksdCl9KSxbcl0pO3JldHVybiBsLmxlbmd0aD4xJiZuLnB1c2goaChsKSksZihuKX1mdW5jdGlvbiB4aSh0LGUpe2lmKCFlLmZlYXR1cmVzLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoImxpbmVzIG11c3QgY29udGFpbiBmZWF0dXJlcyIpO2lmKDE9PT1lLmZlYXR1cmVzLmxlbmd0aClyZXR1cm4gZS5mZWF0dXJlc1swXTt2YXIgbixyPTEvMDtyZXR1cm4gRihlLChmdW5jdGlvbihlKXt2YXIgaT1UcihlLHQpLnByb3BlcnRpZXMuZGlzdDtpPHImJihuPWUscj1pKX0pKSxufWZ1bmN0aW9uIEVpKHQsZSl7cmV0dXJuIHRbMF09PT1lWzBdJiZ0WzFdPT09ZVsxXX1mdW5jdGlvbiBiaSh0LGUsbixyLGkpe3ZvaWQgMD09PWkmJihpPXt9KTt2YXIgbz1pLnN0ZXBzfHw2NCxzPXdpKG4pLGE9d2kociksdT1BcnJheS5pc0FycmF5KHQpfHwiRmVhdHVyZSIhPT10LnR5cGU/e306dC5wcm9wZXJ0aWVzO2lmKHM9PT1hKXJldHVybiBoKF9uKHQsZSxpKS5nZW9tZXRyeS5jb29yZGluYXRlc1swXSx1KTtmb3IodmFyIGw9cyxjPXM8YT9hOmErMzYwLHA9bCxmPVtdLGc9MDtwPGM7KWYucHVzaCh2bih0LGUscCxpKS5nZW9tZXRyeS5jb29yZGluYXRlcykscD1sKzM2MCorK2cvbztyZXR1cm4gcD5jJiZmLnB1c2godm4odCxlLGMsaSkuZ2VvbWV0cnkuY29vcmRpbmF0ZXMpLGgoZix1KX1mdW5jdGlvbiB3aSh0KXt2YXIgZT10JTM2MDtyZXR1cm4gZTwwJiYoZSs9MzYwKSxlfWZ1bmN0aW9uIElpKHQsZSl7dm9pZCAwPT09ZSYmKGU9e30pO3ZhciBuPXJ0KHQpO3N3aXRjaChlLnByb3BlcnRpZXN8fCJGZWF0dXJlIiE9PXQudHlwZXx8KGUucHJvcGVydGllcz10LnByb3BlcnRpZXMpLG4udHlwZSl7Y2FzZSJQb2x5Z29uIjpyZXR1cm4gTmkobixlKTtjYXNlIk11bHRpUG9seWdvbiI6cmV0dXJuIGZ1bmN0aW9uKHQsZSl7dm9pZCAwPT09ZSYmKGU9e30pO3ZhciBuPXJ0KHQpLmNvb3JkaW5hdGVzLHI9ZS5wcm9wZXJ0aWVzP2UucHJvcGVydGllczoiRmVhdHVyZSI9PT10LnR5cGU/dC5wcm9wZXJ0aWVzOnt9LGk9W107cmV0dXJuIG4uZm9yRWFjaCgoZnVuY3Rpb24odCl7aS5wdXNoKFNpKHQscikpfSkpLGYoaSl9KG4sZSk7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoImludmFsaWQgcG9seSIpfX1mdW5jdGlvbiBOaSh0LGUpe3JldHVybiB2b2lkIDA9PT1lJiYoZT17fSksU2kocnQodCkuY29vcmRpbmF0ZXMsZS5wcm9wZXJ0aWVzP2UucHJvcGVydGllczoiRmVhdHVyZSI9PT10LnR5cGU/dC5wcm9wZXJ0aWVzOnt9KX1mdW5jdGlvbiBTaSh0LGUpe3JldHVybiB0Lmxlbmd0aD4xP2codCxlKTpoKHRbMF0sZSl9ZnVuY3Rpb24gQ2kodCxlKXt2YXIgbixyLGk7dm9pZCAwPT09ZSYmKGU9e30pO3ZhciBvPWUucHJvcGVydGllcyxzPW51bGw9PT0obj1lLmF1dG9Db21wbGV0ZSl8fHZvaWQgMD09PW58fG4sYT1udWxsPT09KHI9ZS5vcmRlckNvb3Jkcyl8fHZvaWQgMD09PXJ8fHI7c3dpdGNoKG51bGwhPT0oaT1lLm11dGF0ZSkmJnZvaWQgMCE9PWkmJml8fCh0PUllKHQpKSx0LnR5cGUpe2Nhc2UiRmVhdHVyZUNvbGxlY3Rpb24iOnZhciB1PVtdO3JldHVybiB0LmZlYXR1cmVzLmZvckVhY2goKGZ1bmN0aW9uKHQpe3UucHVzaChRKFBpKHQse30scyxhKSkpfSkpLHkodSxvKTtkZWZhdWx0OnJldHVybiBQaSh0LG8scyxhKX19ZnVuY3Rpb24gUGkodCxlLG4scil7ZT1lfHwoIkZlYXR1cmUiPT09dC50eXBlP3QucHJvcGVydGllczp7fSk7dmFyIGk9cnQodCksbz1pLmNvb3JkaW5hdGVzLHM9aS50eXBlO2lmKCFvLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoImxpbmUgbXVzdCBjb250YWluIGNvb3JkaW5hdGVzIik7c3dpdGNoKHMpe2Nhc2UiTGluZVN0cmluZyI6cmV0dXJuIG4mJihvPU1pKG8pKSxsKFtvXSxlKTtjYXNlIk11bHRpTGluZVN0cmluZyI6dmFyIGE9W10sdT0wO3JldHVybiBvLmZvckVhY2goKGZ1bmN0aW9uKHQpe2lmKG4mJih0PU1pKHQpKSxyKXt2YXIgZT1mdW5jdGlvbih0KXt2YXIgZT10WzBdLG49dFsxXSxyPXRbMl0saT10WzNdO3JldHVybiBNYXRoLmFicyhlLXIpKk1hdGguYWJzKG4taSl9KFooaCh0KSkpO2U+dT8oYS51bnNoaWZ0KHQpLHU9ZSk6YS5wdXNoKHQpfWVsc2UgYS5wdXNoKHQpfSkpLGwoYSxlKTtkZWZhdWx0OnRocm93IG5ldyBFcnJvcigiZ2VvbWV0cnkgdHlwZSAiK3MrIiBpcyBub3Qgc3VwcG9ydGVkIil9fWZ1bmN0aW9uIE1pKHQpe3ZhciBlPXRbMF0sbj1lWzBdLHI9ZVsxXSxpPXRbdC5sZW5ndGgtMV0sbz1pWzBdLHM9aVsxXTtyZXR1cm4gbj09PW8mJnI9PT1zfHx0LnB1c2goZSksdH1mdW5jdGlvbiBMaSh0LGUpe3ZhciBuLHIsaSxvLHMsYSx1O2ZvcihyPTE7cjw9ODtyKj0yKXtmb3Iobj1bXSxvPSEoUmkoaT10W3QubGVuZ3RoLTFdLGUpJnIpLHM9MDtzPHQubGVuZ3RoO3MrKykodT0hKFJpKGE9dFtzXSxlKSZyKSkhPT1vJiZuLnB1c2goT2koaSxhLHIsZSkpLHUmJm4ucHVzaChhKSxpPWEsbz11O2lmKCEodD1uKS5sZW5ndGgpYnJlYWt9cmV0dXJuIG59ZnVuY3Rpb24gT2kodCxlLG4scil7cmV0dXJuIDgmbj9bdFswXSsoZVswXS10WzBdKSooclszXS10WzFdKS8oZVsxXS10WzFdKSxyWzNdXTo0Jm4/W3RbMF0rKGVbMF0tdFswXSkqKHJbMV0tdFsxXSkvKGVbMV0tdFsxXSksclsxXV06MiZuP1tyWzJdLHRbMV0rKGVbMV0tdFsxXSkqKHJbMl0tdFswXSkvKGVbMF0tdFswXSldOjEmbj9bclswXSx0WzFdKyhlWzFdLXRbMV0pKihyWzBdLXRbMF0pLyhlWzBdLXRbMF0pXTpudWxsfWZ1bmN0aW9uIFJpKHQsZSl7dmFyIG49MDtyZXR1cm4gdFswXTxlWzBdP258PTE6dFswXT5lWzJdJiYobnw9MiksdFsxXTxlWzFdP258PTQ6dFsxXT5lWzNdJiYobnw9OCksbn1mdW5jdGlvbiBUaSh0LGUpe2Zvcih2YXIgbj1bXSxyPTAsaT10O3I8aS5sZW5ndGg7cisrKXt2YXIgbz1MaShpW3JdLGUpO28ubGVuZ3RoPjAmJihvWzBdWzBdPT09b1tvLmxlbmd0aC0xXVswXSYmb1swXVsxXT09PW9bby5sZW5ndGgtMV1bMV18fG8ucHVzaChvWzBdKSxvLmxlbmd0aD49NCYmbi5wdXNoKG8pKX1yZXR1cm4gbn12aS5wcm90b3R5cGUuaW50ZXJwb2xhdGU9ZnVuY3Rpb24odCl7dmFyIGU9TWF0aC5zaW4oKDEtdCkqdGhpcy5nKS9NYXRoLnNpbih0aGlzLmcpLG49TWF0aC5zaW4odCp0aGlzLmcpL01hdGguc2luKHRoaXMuZykscj1lKk1hdGguY29zKHRoaXMuc3RhcnQueSkqTWF0aC5jb3ModGhpcy5zdGFydC54KStuKk1hdGguY29zKHRoaXMuZW5kLnkpKk1hdGguY29zKHRoaXMuZW5kLngpLGk9ZSpNYXRoLmNvcyh0aGlzLnN0YXJ0LnkpKk1hdGguc2luKHRoaXMuc3RhcnQueCkrbipNYXRoLmNvcyh0aGlzLmVuZC55KSpNYXRoLnNpbih0aGlzLmVuZC54KSxvPWUqTWF0aC5zaW4odGhpcy5zdGFydC55KStuKk1hdGguc2luKHRoaXMuZW5kLnkpLHM9ZmkqTWF0aC5hdGFuMihvLE1hdGguc3FydChNYXRoLnBvdyhyLDIpK01hdGgucG93KGksMikpKTtyZXR1cm5bZmkqTWF0aC5hdGFuMihpLHIpLHNdfSx2aS5wcm90b3R5cGUuQXJjPWZ1bmN0aW9uKHQsZSl7dmFyIG49W107aWYoIXR8fHQ8PTIpbi5wdXNoKFt0aGlzLnN0YXJ0Lmxvbix0aGlzLnN0YXJ0LmxhdF0pLG4ucHVzaChbdGhpcy5lbmQubG9uLHRoaXMuZW5kLmxhdF0pO2Vsc2UgZm9yKHZhciByPTEvKHQtMSksaT0wO2k8dDsrK2kpe3ZhciBvPXIqaSxzPXRoaXMuaW50ZXJwb2xhdGUobyk7bi5wdXNoKHMpfWZvcih2YXIgYT0hMSx1PTAsbD1lJiZlLm9mZnNldD9lLm9mZnNldDoxMCxjPTE4MC1sLGg9LTE4MCtsLHA9MzYwLWwsZj0xO2Y8bi5sZW5ndGg7KytmKXt2YXIgZz1uW2YtMV1bMF0sZD1uW2ZdWzBdLHk9TWF0aC5hYnMoZC1nKTt5PnAmJihkPmMmJmc8aHx8Zz5jJiZkPGgpP2E9ITA6eT51JiYodT15KX12YXIgdj1bXTtpZihhJiZ1PGwpe3ZhciBfPVtdO3YucHVzaChfKTtmb3IodmFyIG09MDttPG4ubGVuZ3RoOysrbSl7dmFyIHg9cGFyc2VGbG9hdChuW21dWzBdKTtpZihtPjAmJk1hdGguYWJzKHgtblttLTFdWzBdKT5wKXt2YXIgRT1wYXJzZUZsb2F0KG5bbS0xXVswXSksYj1wYXJzZUZsb2F0KG5bbS0xXVsxXSksdz1wYXJzZUZsb2F0KG5bbV1bMF0pLEk9cGFyc2VGbG9hdChuW21dWzFdKTtpZihFPi0xODAmJkU8aCYmMTgwPT09dyYmbSsxPG4ubGVuZ3RoJiZuW20tMV1bMF0+LTE4MCYmblttLTFdWzBdPGgpe18ucHVzaChbLTE4MCxuW21dWzFdXSksbSsrLF8ucHVzaChbblttXVswXSxuW21dWzFdXSk7Y29udGludWV9aWYoRT5jJiZFPDE4MCYmLTE4MD09PXcmJm0rMTxuLmxlbmd0aCYmblttLTFdWzBdPmMmJm5bbS0xXVswXTwxODApe18ucHVzaChbMTgwLG5bbV1bMV1dKSxtKyssXy5wdXNoKFtuW21dWzBdLG5bbV1bMV1dKTtjb250aW51ZX1pZihFPGgmJnc+Yyl7dmFyIE49RTtFPXcsdz1OO3ZhciBTPWI7Yj1JLEk9U31pZihFPmMmJnc8aCYmKHcrPTM2MCksRTw9MTgwJiZ3Pj0xODAmJkU8dyl7dmFyIEM9KDE4MC1FKS8ody1FKSxQPUMqSSsoMS1DKSpiO18ucHVzaChbblttLTFdWzBdPmM/MTgwOi0xODAsUF0pLChfPVtdKS5wdXNoKFtuW20tMV1bMF0+Yz8tMTgwOjE4MCxQXSksdi5wdXNoKF8pfWVsc2UgXz1bXSx2LnB1c2goXyk7Xy5wdXNoKFt4LG5bbV1bMV1dKX1lbHNlIF8ucHVzaChbblttXVswXSxuW21dWzFdXSl9fWVsc2V7dmFyIE09W107di5wdXNoKE0pO2Zvcih2YXIgTD0wO0w8bi5sZW5ndGg7KytMKU0ucHVzaChbbltMXVswXSxuW0xdWzFdXSl9Zm9yKHZhciBPPW5ldyB5aSh0aGlzLnByb3BlcnRpZXMpLFI9MDtSPHYubGVuZ3RoOysrUil7dmFyIFQ9bmV3IGRpO08uZ2VvbWV0cmllcy5wdXNoKFQpO2Zvcih2YXIgQT12W1JdLEQ9MDtEPEEubGVuZ3RoOysrRClULm1vdmVfdG8oQVtEXSl9cmV0dXJuIE99O3ZhciBBaT1CdCgoZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBuKHQpe3ZhciBlPVtdO2Zvcih2YXIgbiBpbiB0KWUucHVzaChuKTtyZXR1cm4gZX0odC5leHBvcnRzPSJmdW5jdGlvbiI9PXR5cGVvZiBPYmplY3Qua2V5cz9PYmplY3Qua2V5czpuKS5zaGltPW59KSksRGk9QnQoKGZ1bmN0aW9uKHQsZSl7dmFyIG49IltvYmplY3QgQXJndW1lbnRzXSI9PWZ1bmN0aW9uKCl7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChhcmd1bWVudHMpfSgpO2Z1bmN0aW9uIHIodCl7cmV0dXJuIltvYmplY3QgQXJndW1lbnRzXSI9PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0KX1mdW5jdGlvbiBpKHQpe3JldHVybiB0JiYib2JqZWN0Ij09dHlwZW9mIHQmJiJudW1iZXIiPT10eXBlb2YgdC5sZW5ndGgmJk9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LCJjYWxsZWUiKSYmIU9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbCh0LCJjYWxsZWUiKXx8ITF9KGU9dC5leHBvcnRzPW4/cjppKS5zdXBwb3J0ZWQ9cixlLnVuc3VwcG9ydGVkPWl9KSksRmk9QnQoKGZ1bmN0aW9uKHQpe3ZhciBlPUFycmF5LnByb3RvdHlwZS5zbGljZSxuPXQuZXhwb3J0cz1mdW5jdGlvbih0LG8scyl7cmV0dXJuIHN8fChzPXt9KSx0PT09b3x8KHQgaW5zdGFuY2VvZiBEYXRlJiZvIGluc3RhbmNlb2YgRGF0ZT90LmdldFRpbWUoKT09PW8uZ2V0VGltZSgpOiF0fHwhb3x8Im9iamVjdCIhPXR5cGVvZiB0JiYib2JqZWN0IiE9dHlwZW9mIG8/cy5zdHJpY3Q/dD09PW86dD09bzpmdW5jdGlvbih0LG8scyl7dmFyIGEsdTtpZihyKHQpfHxyKG8pKXJldHVybiExO2lmKHQucHJvdG90eXBlIT09by5wcm90b3R5cGUpcmV0dXJuITE7aWYoRGkodCkpcmV0dXJuISFEaShvKSYmKHQ9ZS5jYWxsKHQpLG89ZS5jYWxsKG8pLG4odCxvLHMpKTtpZihpKHQpKXtpZighaShvKSlyZXR1cm4hMTtpZih0Lmxlbmd0aCE9PW8ubGVuZ3RoKXJldHVybiExO2ZvcihhPTA7YTx0Lmxlbmd0aDthKyspaWYodFthXSE9PW9bYV0pcmV0dXJuITE7cmV0dXJuITB9dHJ5e3ZhciBsPUFpKHQpLGM9QWkobyl9Y2F0Y2godCl7cmV0dXJuITF9aWYobC5sZW5ndGghPWMubGVuZ3RoKXJldHVybiExO2ZvcihsLnNvcnQoKSxjLnNvcnQoKSxhPWwubGVuZ3RoLTE7YT49MDthLS0paWYobFthXSE9Y1thXSlyZXR1cm4hMTtmb3IoYT1sLmxlbmd0aC0xO2E+PTA7YS0tKWlmKHU9bFthXSwhbih0W3VdLG9bdV0scykpcmV0dXJuITE7cmV0dXJuIHR5cGVvZiB0PT10eXBlb2Ygb30odCxvLHMpKX07ZnVuY3Rpb24gcih0KXtyZXR1cm4gbnVsbD09dH1mdW5jdGlvbiBpKHQpe3JldHVybiEoIXR8fCJvYmplY3QiIT10eXBlb2YgdHx8Im51bWJlciIhPXR5cGVvZiB0Lmxlbmd0aCkmJigiZnVuY3Rpb24iPT10eXBlb2YgdC5jb3B5JiYiZnVuY3Rpb24iPT10eXBlb2YgdC5zbGljZSYmISh0Lmxlbmd0aD4wJiYibnVtYmVyIiE9dHlwZW9mIHRbMF0pKX19KSk7ZnVuY3Rpb24ga2kodCxlLG4pe2lmKHZvaWQgMD09PW4mJihuPXt9KSwhUChuPW58fHt9KSl0aHJvdyBuZXcgRXJyb3IoIm9wdGlvbnMgaXMgaW52YWxpZCIpO3ZhciByLGk9bi50b2xlcmFuY2V8fDAsbz1bXSxzPU1yKCksYT1abih0KTtyZXR1cm4gcy5sb2FkKGEpLFUoZSwoZnVuY3Rpb24odCl7dmFyIGU9ITE7dCYmKEYocy5zZWFyY2godCksKGZ1bmN0aW9uKG4pe2lmKCExPT09ZSl7dmFyIG89USh0KS5zb3J0KCkscz1RKG4pLnNvcnQoKTtGaShvLHMpfHwoMD09PWk/V3Iob1swXSxuKSYmV3Iob1sxXSxuKTpUcihuLG9bMF0pLnByb3BlcnRpZXMuZGlzdDw9aSYmVHIobixvWzFdKS5wcm9wZXJ0aWVzLmRpc3Q8PWkpPyhlPSEwLHI9cj9HaShyLHQpOnQpOigwPT09aT9XcihzWzBdLHQpJiZXcihzWzFdLHQpOlRyKHQsc1swXSkucHJvcGVydGllcy5kaXN0PD1pJiZUcih0LHNbMV0pLnByb3BlcnRpZXMuZGlzdDw9aSkmJihyPXI/R2kocixuKTpuKX19KSksITE9PT1lJiZyJiYoby5wdXNoKHIpLHI9dm9pZCAwKSl9KSksciYmby5wdXNoKHIpLGYobyl9ZnVuY3Rpb24gR2kodCxlKXt2YXIgbj1RKGUpLHI9USh0KSxpPXJbMF0sbz1yW3IubGVuZ3RoLTFdLHM9dC5nZW9tZXRyeS5jb29yZGluYXRlcztyZXR1cm4gRmkoblswXSxpKT9zLnVuc2hpZnQoblsxXSk6RmkoblswXSxvKT9zLnB1c2goblsxXSk6RmkoblsxXSxpKT9zLnVuc2hpZnQoblswXSk6RmkoblsxXSxvKSYmcy5wdXNoKG5bMF0pLHR9ZnVuY3Rpb24gcWkodCl7dmFyIGU9dCUzNjA7cmV0dXJuIGU8MCYmKGUrPTM2MCksZX1mdW5jdGlvbiBCaSh0LGUsbil7dmFyIHI7cmV0dXJuIHZvaWQgMD09PW4mJihuPXt9KSwocj1uLmZpbmFsP3ppKEsoZSksSyh0KSk6emkoSyh0KSxLKGUpKSk+MTgwPy0oMzYwLXIpOnJ9ZnVuY3Rpb24gemkodCxlKXt2YXIgbj1JKHRbMV0pLHI9SShlWzFdKSxpPUkoZVswXS10WzBdKTtpPk1hdGguUEkmJihpLT0yKk1hdGguUEkpLGk8LU1hdGguUEkmJihpKz0yKk1hdGguUEkpO3ZhciBvPU1hdGgubG9nKE1hdGgudGFuKHIvMitNYXRoLlBJLzQpL01hdGgudGFuKG4vMitNYXRoLlBJLzQpKTtyZXR1cm4odyhNYXRoLmF0YW4yKGksbykpKzM2MCklMzYwfWZ1bmN0aW9uIGppKHQsbixyLGkpe3ZvaWQgMD09PWkmJihpPXt9KTt2YXIgbz1uPDAscz1OKE1hdGguYWJzKG4pLGkudW5pdHMsIm1ldGVycyIpO28mJihzPS1NYXRoLmFicyhzKSk7dmFyIHU9Syh0KSxsPWZ1bmN0aW9uKHQsbixyLGkpe2k9dm9pZCAwPT09aT9lOk51bWJlcihpKTt2YXIgbz1uL2kscz10WzBdKk1hdGguUEkvMTgwLGE9SSh0WzFdKSx1PUkociksbD1vKk1hdGguY29zKHUpLGM9YStsO01hdGguYWJzKGMpPk1hdGguUEkvMiYmKGM9Yz4wP01hdGguUEktYzotTWF0aC5QSS1jKTt2YXIgaD1NYXRoLmxvZyhNYXRoLnRhbihjLzIrTWF0aC5QSS80KS9NYXRoLnRhbihhLzIrTWF0aC5QSS80KSkscD1NYXRoLmFicyhoKT4xZS0xMT9sL2g6TWF0aC5jb3MoYSksZj1vKk1hdGguc2luKHUpL3A7cmV0dXJuWygxODAqKHMrZikvTWF0aC5QSSs1NDApJTM2MC0xODAsMTgwKmMvTWF0aC5QSV19KHUscyxyKTtyZXR1cm4gbFswXSs9bFswXS11WzBdPjE4MD8tMzYwOnVbMF0tbFswXT4xODA/MzYwOjAsYShsLGkucHJvcGVydGllcyl9ZnVuY3Rpb24gVWkodCxlLG4scixpLG8pe2Zvcih2YXIgcz0wO3M8dC5sZW5ndGg7cysrKXt2YXIgYT10W3NdLHU9dFtzKzFdO3M9PT10Lmxlbmd0aC0xJiYodT10WzBdKSxyPVhpKGEsdSxlKSxuPD0wJiZyPjA/WGkoZSxhLGkpPDB8fChpPWEpOm4+MCYmcjw9MCYmKFZpKGUsYSxvKXx8KG89YSkpLG49cn1yZXR1cm5baSxvXX1mdW5jdGlvbiBWaSh0LGUsbil7cmV0dXJuIFhpKHQsZSxuKT4wfWZ1bmN0aW9uIFhpKHQsZSxuKXtyZXR1cm4oZVswXS10WzBdKSooblsxXS10WzFdKS0oblswXS10WzBdKSooZVsxXS10WzFdKX1mdW5jdGlvbiBZaSh0KXtmb3IodmFyIGUsbixyPVEodCksaT0wLG89MTtvPHIubGVuZ3RoOyllPW58fHJbMF0saSs9KChuPXJbb10pWzBdLWVbMF0pKihuWzFdK2VbMV0pLG8rKztyZXR1cm4gaT4wfWZ1bmN0aW9uIEhpKHQsZSl7c3dpdGNoKCJGZWF0dXJlIj09PXQudHlwZT90Lmdlb21ldHJ5LnR5cGU6dC50eXBlKXtjYXNlIkdlb21ldHJ5Q29sbGVjdGlvbiI6cmV0dXJuIHEodCwoZnVuY3Rpb24odCl7SGkodCxlKX0pKSx0O2Nhc2UiTGluZVN0cmluZyI6cmV0dXJuIFdpKFEodCksZSksdDtjYXNlIlBvbHlnb24iOnJldHVybiBKaShRKHQpLGUpLHQ7Y2FzZSJNdWx0aUxpbmVTdHJpbmciOnJldHVybiBRKHQpLmZvckVhY2goKGZ1bmN0aW9uKHQpe1dpKHQsZSl9KSksdDtjYXNlIk11bHRpUG9seWdvbiI6cmV0dXJuIFEodCkuZm9yRWFjaCgoZnVuY3Rpb24odCl7SmkodCxlKX0pKSx0O2Nhc2UiUG9pbnQiOmNhc2UiTXVsdGlQb2ludCI6cmV0dXJuIHR9fWZ1bmN0aW9uIFdpKHQsZSl7WWkodCk9PT1lJiZ0LnJldmVyc2UoKX1mdW5jdGlvbiBKaSh0LGUpe1lpKHRbMF0pIT09ZSYmdFswXS5yZXZlcnNlKCk7Zm9yKHZhciBuPTE7bjx0Lmxlbmd0aDtuKyspWWkodFtuXSk9PT1lJiZ0W25dLnJldmVyc2UoKX1mdW5jdGlvbiBaaSh0LGUpe2lmKCFQKGU9ZXx8e30pKXRocm93IG5ldyBFcnJvcigib3B0aW9ucyBpcyBpbnZhbGlkIik7dmFyIG49ZS56UHJvcGVydHl8fCJlbGV2YXRpb24iLHI9ZS5mbGlwLGk9ZS5mbGFncztudCh0LCJQb2ludCIsImlucHV0IG11c3QgY29udGFpbiBQb2ludHMiKTtmb3IodmFyIG89ZnVuY3Rpb24odCxlKXt2YXIgbj17fTtyZXR1cm4gRih0LChmdW5jdGlvbih0KXt2YXIgZT1RKHQpWzFdO25bZV18fChuW2VdPVtdKSxuW2VdLnB1c2godCl9KSksT2JqZWN0LmtleXMobikubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gblt0XS5zb3J0KChmdW5jdGlvbih0LGUpe3JldHVybiBRKHQpWzBdLVEoZSlbMF19KSl9KSkuc29ydCgoZnVuY3Rpb24odCxuKXtyZXR1cm4gZT9RKHRbMF0pWzFdLVEoblswXSlbMV06UShuWzBdKVsxXS1RKHRbMF0pWzFdfSkpfQovKiEKICAgICAqIEBsaWNlbnNlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZS4KICAgICAqIENvcHlyaWdodCAoYykgMjAxNSwgMjAxNSBSb25ueSBMb3JlbnogPHJvbm55QHRiaS51bml2aWUuYWMuYXQ+CiAgICAgKiB2LiAxLjIuMAogICAgICogaHR0cHM6Ly9naXRodWIuY29tL1JhdW1aZWl0L01hcmNoaW5nU3F1YXJlcy5qcwogICAgICoKICAgICAqIE1hcmNoaW5nU3F1YXJlc0pTIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnkKICAgICAqIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieQogICAgICogdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3IKICAgICAqIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uCiAgICAgKgogICAgICogTWFyY2hpbmdTcXVhcmVzSlMgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCwKICAgICAqIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mCiAgICAgKiBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlCiAgICAgKiBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy4KICAgICAqCiAgICAgKiBBcyBhZGRpdGlvbmFsIHBlcm1pc3Npb24gdW5kZXIgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIHZlcnNpb24gMwogICAgICogc2VjdGlvbiA3LCB0aGlyZC1wYXJ0eSBwcm9qZWN0cyAocGVyc29uYWwgb3IgY29tbWVyY2lhbCkgbWF5IGRpc3RyaWJ1dGUsCiAgICAgKiBpbmNsdWRlLCBvciBsaW5rIGFnYWluc3QgVU5NT0RJRklFRCBWRVJTSU9OUyBvZiBNYXJjaGluZ1NxdWFyZXNKUyB3aXRob3V0IHRoZQogICAgICogcmVxdWlyZW1lbnQgdGhhdCBzYWlkIHRoaXJkLXBhcnR5IHByb2plY3QgZm9yIHRoYXQgcmVhc29uIGFsb25lIGJlY29tZXMKICAgICAqIHN1YmplY3QgdG8gYW55IHJlcXVpcmVtZW50IG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgdmVyc2lvbiAzLgogICAgICogQW55IG1vZGlmaWNhdGlvbnMgdG8gTWFyY2hpbmdTcXVhcmVzSlMsIGhvd2V2ZXIsIG11c3QgYmUgc2hhcmVkIHdpdGggdGhlIHB1YmxpYwogICAgICogYW5kIG1hZGUgYXZhaWxhYmxlLgogICAgICoKICAgICAqIEluIHN1bW1hcnkgdGhpczoKICAgICAqIC0gYWxsb3dzIHlvdSB0byB1c2UgTWFyY2hpbmdTcXVhcmVzSlMgYXQgbm8gY29zdAogICAgICogLSBhbGxvd3MgeW91IHRvIHVzZSBNYXJjaGluZ1NxdWFyZXNKUyBmb3IgYm90aCBwZXJzb25hbCBhbmQgY29tbWVyY2lhbCBwdXJwb3NlcwogICAgICogLSBhbGxvd3MgeW91IHRvIGRpc3RyaWJ1dGUgVU5NT0RJRklFRCBWRVJTSU9OUyBvZiBNYXJjaGluZ1NxdWFyZXNKUyB1bmRlciBhbnkKICAgICAqICAgbGljZW5zZSBhcyBsb25nIGFzIHRoaXMgbGljZW5zZSBub3RpY2UgaXMgaW5jbHVkZWQKICAgICAqIC0gZW5hYmxlcyB5b3UgdG8ga2VlcCB0aGUgc291cmNlIGNvZGUgb2YgeW91ciBwcm9ncmFtIHRoYXQgdXNlcyBNYXJjaGluZ1NxdWFyZXNKUwogICAgICogICB1bmRpc2Nsb3NlZAogICAgICogLSBmb3JjZXMgeW91IHRvIHNoYXJlIGFueSBtb2RpZmljYXRpb25zIHlvdSBoYXZlIG1hZGUgdG8gTWFyY2hpbmdTcXVhcmVzSlMsCiAgICAgKiAgIGUuZy4gYnVnLWZpeGVzCiAgICAgKgogICAgICogWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlCiAgICAgKiBhbG9uZyB3aXRoIE1hcmNoaW5nU3F1YXJlc0pTLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LgogICAgICovKHQscikscz1bXSxhPTA7YTxvLmxlbmd0aDthKyspe2Zvcih2YXIgdT1vW2FdLGw9W10sYz0wO2M8dS5sZW5ndGg7YysrKXt2YXIgaD11W2NdO2gucHJvcGVydGllc1tuXT9sLnB1c2goaC5wcm9wZXJ0aWVzW25dKTpsLnB1c2goMCksITA9PT1pJiYoaC5wcm9wZXJ0aWVzLm1hdHJpeFBvc2l0aW9uPVthLGNdKX1zLnB1c2gobCl9cmV0dXJuIHN9dmFyIEtpPXtzdWNjZXNzQ2FsbGJhY2s6bnVsbCx2ZXJib3NlOiExLHBvbHlnb25zOiExfSxRaT17fTtmdW5jdGlvbiAkaSh0LGUsbixyKXtyPXJ8fHt9O2Zvcih2YXIgaT1PYmplY3Qua2V5cyhLaSksbz0wO288aS5sZW5ndGg7bysrKXt2YXIgcz1pW29dLGE9cltzXTthPW51bGwhPWE/YTpLaVtzXSxRaVtzXT1hfVFpLnZlcmJvc2UmJmNvbnNvbGUubG9nKCJNYXJjaGluZ1NxdWFyZXNKUy1pc29CYW5kczogY29tcHV0aW5nIGlzb2JhbmRzIGZvciBbIitlKyI6IisoZStuKSsiXSIpO3ZhciB1LGw9ZnVuY3Rpb24odCxlLG4pe2Zvcih2YXIgcj10Lmxlbmd0aC0xLGk9dFswXS5sZW5ndGgtMSxvPXtyb3dzOnIsY29sczppLGNlbGxzOltdfSxzPWUrTWF0aC5hYnMobiksYT0wO2E8cjsrK2Epe28uY2VsbHNbYV09W107Zm9yKHZhciB1PTA7dTxpOysrdSl7dmFyIGw9MCxjPXRbYSsxXVt1XSxoPXRbYSsxXVt1KzFdLHA9dFthXVt1KzFdLGY9dFthXVt1XTtpZighKGlzTmFOKGMpfHxpc05hTihoKXx8aXNOYU4ocCl8fGlzTmFOKGYpKSl7bHw9YzxlPzA6Yz5zPzEyODo2NCxsfD1oPGU/MDpoPnM/MzI6MTYsbHw9cDxlPzA6cD5zPzg6NDt2YXIgZz0rKGx8PWY8ZT8wOmY+cz8yOjEpLGQ9MDtpZigxNz09PWx8fDE4PT09bHx8MzM9PT1sfHwzND09PWx8fDM4PT09bHx8Njg9PT1sfHw3Mj09PWx8fDk4PT09bHx8MTAyPT09bHx8MTMyPT09bHx8MTM2PT09bHx8MTM3PT09bHx8MTUyPT09bHx8MTUzPT09bCl7dmFyIHk9KGMraCtwK2YpLzQ7ZD15PnM/Mjp5PGU/MDoxLDM0PT09bD8xPT09ZD9sPTM1OjA9PT1kJiYobD0xMzYpOjEzNj09PWw/MT09PWQ/KGw9MzUsZD00KTowPT09ZCYmKGw9MzQpOjE3PT09bD8xPT09ZD8obD0xNTUsZD00KTowPT09ZCYmKGw9MTUzKTo2OD09PWw/MT09PWQ/KGw9MTAzLGQ9NCk6MD09PWQmJihsPTEwMik6MTUzPT09bD8xPT09ZCYmKGw9MTU1KToxMDI9PT1sPzE9PT1kJiYobD0xMDMpOjE1Mj09PWw/ZDwyJiYobD0xNTYsZD0xKToxMzc9PT1sP2Q8MiYmKGw9MTM5LGQ9MSk6OTg9PT1sP2Q8MiYmKGw9OTksZD0xKTozOD09PWw/ZDwyJiYobD0zOSxkPTEpOjE4PT09bD9kPjA/KGw9MTU2LGQ9NCk6bD0xNTI6MzM9PT1sP2Q+MD8obD0xMzksZD00KTpsPTEzNzo3Mj09PWw/ZD4wPyhsPTk5LGQ9NCk6bD05ODoxMzI9PT1sJiYoZD4wPyhsPTM5LGQ9NCk6bD0zOCl9aWYoMCE9bCYmMTcwIT1sKXt2YXIgdixfLG0seCxFLGIsdyxJO3Y9Xz1tPXg9RT1iPXc9ST0uNTt2YXIgTj1bXTsxPT09bD8obT0xLVZvKGUscCxmKSxJPTEtVm8oZSxjLGYpLE4ucHVzaChHb1tsXSkpOjE2OT09PWw/KG09Vm8ocyxmLHApLEk9Vm8ocyxmLGMpLE4ucHVzaChHb1tsXSkpOjQ9PT1sPyhiPTEtVm8oZSxoLHApLHg9Vm8oZSxmLHApLE4ucHVzaChGb1tsXSkpOjE2Nj09PWw/KGI9Vm8ocyxwLGgpLHg9MS1WbyhzLHAsZiksTi5wdXNoKEZvW2xdKSk6MTY9PT1sPyhFPVZvKGUscCxoKSxfPVZvKGUsYyxoKSxOLnB1c2goRG9bbF0pKToxNTQ9PT1sPyhFPTEtVm8ocyxoLHApLF89MS1WbyhzLGgsYyksTi5wdXNoKERvW2xdKSk6NjQ9PT1sPyh3PVZvKGUsZixjKSx2PTEtVm8oZSxoLGMpLE4ucHVzaChCb1tsXSkpOjEwNj09PWw/KHc9MS1WbyhzLGMsZiksdj1WbyhzLGMsaCksTi5wdXNoKEJvW2xdKSk6MTY4PT09bD8oeD1WbyhzLGYscCksbT1WbyhlLGYscCksST1WbyhlLGYsYyksdz1WbyhzLGYsYyksTi5wdXNoKGtvW2xdKSxOLnB1c2goR29bbF0pKToyPT09bD8oeD0xLVZvKGUscCxmKSxtPTEtVm8ocyxwLGYpLEk9MS1WbyhzLGMsZiksdz0xLVZvKGUsYyxmKSxOLnB1c2goa29bbF0pLE4ucHVzaChHb1tsXSkpOjE2Mj09PWw/KEU9Vm8ocyxwLGgpLGI9Vm8oZSxwLGgpLHg9MS1WbyhlLHAsZiksbT0xLVZvKHMscCxmKSxOLnB1c2goa29bbF0pLE4ucHVzaChHb1tsXSkpOjg9PT1sPyhFPTEtVm8oZSxoLHApLGI9MS1WbyhzLGgscCkseD1WbyhzLGYscCksbT1WbyhlLGYscCksTi5wdXNoKERvW2xdKSxOLnB1c2goRm9bbF0pKToxMzg9PT1sPyhFPTEtVm8oZSxoLHApLGI9MS1WbyhzLGgscCksdj0xLVZvKHMsaCxjKSxfPTEtVm8oZSxoLGMpLE4ucHVzaChEb1tsXSksTi5wdXNoKEZvW2xdKSk6MzI9PT1sPyhFPVZvKHMscCxoKSxiPVZvKGUscCxoKSx2PVZvKGUsYyxoKSxfPVZvKHMsYyxoKSxOLnB1c2goRG9bbF0pLE4ucHVzaChGb1tsXSkpOjQyPT09bD8oST0xLVZvKHMsYyxmKSx3PTEtVm8oZSxjLGYpLHY9Vm8oZSxjLGgpLF89Vm8ocyxjLGgpLE4ucHVzaChxb1tsXSksTi5wdXNoKEJvW2xdKSk6MTI4PT09bCYmKEk9Vm8oZSxmLGMpLHc9Vm8ocyxmLGMpLHY9MS1WbyhzLGgsYyksXz0xLVZvKGUsaCxjKSxOLnB1c2gocW9bbF0pLE4ucHVzaChCb1tsXSkpLDU9PT1sPyhiPTEtVm8oZSxoLHApLEk9MS1WbyhlLGMsZiksTi5wdXNoKEZvW2xdKSk6MTY1PT09bD8oYj1WbyhzLHAsaCksST1WbyhzLGYsYyksTi5wdXNoKEZvW2xdKSk6MjA9PT1sPyh4PVZvKGUsZixwKSxfPVZvKGUsYyxoKSxOLnB1c2goa29bbF0pKToxNTA9PT1sPyh4PTEtVm8ocyxwLGYpLF89MS1WbyhzLGgsYyksTi5wdXNoKGtvW2xdKSk6ODA9PT1sPyhFPVZvKGUscCxoKSx3PVZvKGUsZixjKSxOLnB1c2goRG9bbF0pKTo5MD09PWw/KEU9MS1WbyhzLGgscCksdz0xLVZvKHMsYyxmKSxOLnB1c2goRG9bbF0pKTo2NT09PWw/KG09MS1WbyhlLHAsZiksdj0xLVZvKGUsaCxjKSxOLnB1c2goR29bbF0pKToxMDU9PT1sPyhtPVZvKHMsZixwKSx2PVZvKHMsYyxoKSxOLnB1c2goR29bbF0pKToxNjA9PT1sPyhFPVZvKHMscCxoKSxiPVZvKGUscCxoKSxJPVZvKGUsZixjKSx3PVZvKHMsZixjKSxOLnB1c2goRG9bbF0pLE4ucHVzaChGb1tsXSkpOjEwPT09bD8oRT0xLVZvKGUsaCxwKSxiPTEtVm8ocyxoLHApLEk9MS1WbyhzLGMsZiksdz0xLVZvKGUsYyxmKSxOLnB1c2goRG9bbF0pLE4ucHVzaChGb1tsXSkpOjEzMD09PWw/KHg9MS1WbyhlLHAsZiksbT0xLVZvKHMscCxmKSx2PTEtVm8ocyxoLGMpLF89MS1WbyhlLGgsYyksTi5wdXNoKGtvW2xdKSxOLnB1c2goR29bbF0pKTo0MD09PWw/KHg9Vm8ocyxmLHApLG09Vm8oZSxmLHApLHY9Vm8oZSxjLGgpLF89Vm8ocyxjLGgpLE4ucHVzaChrb1tsXSksTi5wdXNoKEdvW2xdKSk6MTAxPT09bD8oYj1WbyhzLHAsaCksdj1WbyhzLGMsaCksTi5wdXNoKEZvW2xdKSk6Njk9PT1sPyhiPTEtVm8oZSxoLHApLHY9MS1WbyhlLGgsYyksTi5wdXNoKEZvW2xdKSk6MTQ5PT09bD8oST1WbyhzLGYsYyksXz0xLVZvKHMsaCxjKSxOLnB1c2gocW9bbF0pKToyMT09PWw/KEk9MS1WbyhlLGMsZiksXz1WbyhlLGMsaCksTi5wdXNoKHFvW2xdKSk6ODY9PT1sPyh4PTEtVm8ocyxwLGYpLHc9MS1WbyhzLGMsZiksTi5wdXNoKGtvW2xdKSk6ODQ9PT1sPyh4PVZvKGUsZixwKSx3PVZvKGUsZixjKSxOLnB1c2goa29bbF0pKTo4OT09PWw/KEU9MS1WbyhzLGgscCksbT1WbyhzLGYscCksTi5wdXNoKEdvW2xdKSk6ODE9PT1sPyhFPVZvKGUscCxoKSxtPTEtVm8oZSxwLGYpLE4ucHVzaChHb1tsXSkpOjk2PT09bD8oRT1WbyhzLHAsaCksYj1WbyhlLHAsaCksdz1WbyhlLGYsYyksdj1WbyhzLGMsaCksTi5wdXNoKERvW2xdKSxOLnB1c2goRm9bbF0pKTo3ND09PWw/KEU9MS1WbyhlLGgscCksYj0xLVZvKHMsaCxwKSx3PTEtVm8ocyxjLGYpLHY9MS1WbyhlLGgsYyksTi5wdXNoKERvW2xdKSxOLnB1c2goRm9bbF0pKToyND09PWw/KEU9MS1WbyhzLGgscCkseD1WbyhzLGYscCksbT1WbyhlLGYscCksXz1WbyhlLGMsaCksTi5wdXNoKERvW2xdKSxOLnB1c2goR29bbF0pKToxNDY9PT1sPyhFPVZvKGUscCxoKSx4PTEtVm8oZSxwLGYpLG09MS1WbyhzLHAsZiksXz0xLVZvKHMsaCxjKSxOLnB1c2goRG9bbF0pLE4ucHVzaChHb1tsXSkpOjY9PT1sPyhiPTEtVm8oZSxoLHApLHg9MS1WbyhzLHAsZiksST0xLVZvKHMsYyxmKSx3PTEtVm8oZSxjLGYpLE4ucHVzaChGb1tsXSksTi5wdXNoKGtvW2xdKSk6MTY0PT09bD8oYj1WbyhzLHAsaCkseD1WbyhlLGYscCksST1WbyhlLGYsYyksdz1WbyhzLGYsYyksTi5wdXNoKEZvW2xdKSxOLnB1c2goa29bbF0pKToxMjk9PT1sPyhtPTEtVm8oZSxwLGYpLEk9Vm8ocyxmLGMpLHY9MS1WbyhzLGgsYyksXz0xLVZvKGUsaCxjKSxOLnB1c2goR29bbF0pLE4ucHVzaChxb1tsXSkpOjQxPT09bD8obT1WbyhzLGYscCksST0xLVZvKGUsYyxmKSx2PVZvKGUsYyxoKSxfPVZvKHMsYyxoKSxOLnB1c2goR29bbF0pLE4ucHVzaChxb1tsXSkpOjY2PT09bD8oeD0xLVZvKGUscCxmKSxtPTEtVm8ocyxwLGYpLHc9MS1WbyhzLGMsZiksdj0xLVZvKGUsaCxjKSxOLnB1c2goa29bbF0pLE4ucHVzaChHb1tsXSkpOjEwND09PWw/KHg9Vm8ocyxmLHApLG09Vm8oZSxmLHApLHc9Vm8oZSxmLGMpLHY9Vm8ocyxjLGgpLE4ucHVzaChHb1tsXSksTi5wdXNoKHpvW2xdKSk6MTQ0PT09bD8oRT1WbyhlLHAsaCksST1WbyhlLGYsYyksdz1WbyhzLGYsYyksXz0xLVZvKHMsaCxjKSxOLnB1c2goRG9bbF0pLE4ucHVzaChCb1tsXSkpOjI2PT09bD8oRT0xLVZvKHMsaCxwKSxJPTEtVm8ocyxjLGYpLHc9MS1WbyhlLGMsZiksXz1WbyhlLGMsaCksTi5wdXNoKERvW2xdKSxOLnB1c2goQm9bbF0pKTozNj09PWw/KGI9Vm8ocyxwLGgpLHg9Vm8oZSxmLHApLHY9Vm8oZSxjLGgpLF89Vm8ocyxjLGgpLE4ucHVzaChGb1tsXSksTi5wdXNoKGtvW2xdKSk6MTM0PT09bD8oYj0xLVZvKGUsaCxwKSx4PTEtVm8ocyxwLGYpLHY9MS1WbyhzLGgsYyksXz0xLVZvKGUsaCxjKSxOLnB1c2goRm9bbF0pLE4ucHVzaChrb1tsXSkpOjk9PT1sPyhFPTEtVm8oZSxoLHApLGI9MS1WbyhzLGgscCksbT1WbyhzLGYscCksST0xLVZvKGUsYyxmKSxOLnB1c2goRG9bbF0pLE4ucHVzaChGb1tsXSkpOjE2MT09PWw/KEU9Vm8ocyxwLGgpLGI9Vm8oZSxwLGgpLG09MS1WbyhlLHAsZiksST1WbyhzLGYsYyksTi5wdXNoKERvW2xdKSxOLnB1c2goRm9bbF0pKTozNz09PWw/KGI9Vm8ocyxwLGgpLEk9MS1WbyhlLGMsZiksdj1WbyhlLGMsaCksXz1WbyhzLGMsaCksTi5wdXNoKEZvW2xdKSxOLnB1c2gocW9bbF0pKToxMzM9PT1sPyhiPTEtVm8oZSxoLHApLEk9Vm8ocyxmLGMpLHY9MS1WbyhzLGgsYyksXz0xLVZvKGUsaCxjKSxOLnB1c2goRm9bbF0pLE4ucHVzaChxb1tsXSkpOjE0OD09PWw/KHg9Vm8oZSxmLHApLEk9Vm8oZSxmLGMpLHc9Vm8ocyxmLGMpLF89MS1WbyhzLGgsYyksTi5wdXNoKGtvW2xdKSxOLnB1c2goQm9bbF0pKToyMj09PWw/KHg9MS1WbyhzLHAsZiksST0xLVZvKHMsYyxmKSx3PTEtVm8oZSxjLGYpLF89Vm8oZSxjLGgpLE4ucHVzaChrb1tsXSksTi5wdXNoKEJvW2xdKSk6ODI9PT1sPyhFPVZvKGUscCxoKSx4PTEtVm8oZSxwLGYpLG09MS1WbyhzLHAsZiksdz0xLVZvKHMsYyxmKSxOLnB1c2goRG9bbF0pLE4ucHVzaChHb1tsXSkpOjg4PT09bD8oRT0xLVZvKHMsaCxwKSx4PVZvKHMsZixwKSxtPVZvKGUsZixwKSx3PVZvKGUsZixjKSxOLnB1c2goRG9bbF0pLE4ucHVzaChHb1tsXSkpOjczPT09bD8oRT0xLVZvKGUsaCxwKSxiPTEtVm8ocyxoLHApLG09Vm8ocyxmLHApLHY9MS1WbyhlLGgsYyksTi5wdXNoKERvW2xdKSxOLnB1c2goRm9bbF0pKTo5Nz09PWw/KEU9Vm8ocyxwLGgpLGI9Vm8oZSxwLGgpLG09MS1WbyhlLHAsZiksdj1WbyhzLGMsaCksTi5wdXNoKERvW2xdKSxOLnB1c2goRm9bbF0pKToxNDU9PT1sPyhFPVZvKGUscCxoKSxtPTEtVm8oZSxwLGYpLEk9Vm8ocyxmLGMpLF89MS1WbyhzLGgsYyksTi5wdXNoKERvW2xdKSxOLnB1c2gocW9bbF0pKToyNT09PWw/KEU9MS1WbyhzLGgscCksbT1WbyhzLGYscCksST0xLVZvKGUsYyxmKSxfPVZvKGUsYyxoKSxOLnB1c2goRG9bbF0pLE4ucHVzaChxb1tsXSkpOjcwPT09bD8oYj0xLVZvKGUsaCxwKSx4PTEtVm8ocyxwLGYpLHc9MS1WbyhzLGMsZiksdj0xLVZvKGUsaCxjKSxOLnB1c2goRm9bbF0pLE4ucHVzaChrb1tsXSkpOjEwMD09PWw/KGI9Vm8ocyxwLGgpLHg9Vm8oZSxmLHApLHc9Vm8oZSxmLGMpLHY9Vm8ocyxjLGgpLE4ucHVzaChGb1tsXSksTi5wdXNoKGtvW2xdKSk6MzQ9PT1sPygwPT09ZD8oRT0xLVZvKGUsaCxwKSxiPTEtVm8ocyxoLHApLHg9Vm8ocyxmLHApLG09Vm8oZSxmLHApLEk9Vm8oZSxmLGMpLHc9Vm8ocyxmLGMpLHY9MS1WbyhzLGgsYyksXz0xLVZvKGUsaCxjKSk6KEU9Vm8ocyxwLGgpLGI9Vm8oZSxwLGgpLHg9MS1WbyhlLHAsZiksbT0xLVZvKHMscCxmKSxJPTEtVm8ocyxjLGYpLHc9MS1WbyhlLGMsZiksdj1WbyhlLGMsaCksXz1WbyhzLGMsaCkpLE4ucHVzaChEb1tsXSksTi5wdXNoKEZvW2xdKSxOLnB1c2gocW9bbF0pLE4ucHVzaChCb1tsXSkpOjM1PT09bD8oND09PWQ/KEU9MS1WbyhlLGgscCksYj0xLVZvKHMsaCxwKSx4PVZvKHMsZixwKSxtPVZvKGUsZixwKSxJPVZvKGUsZixjKSx3PVZvKHMsZixjKSx2PTEtVm8ocyxoLGMpLF89MS1WbyhlLGgsYykpOihFPVZvKHMscCxoKSxiPVZvKGUscCxoKSx4PTEtVm8oZSxwLGYpLG09MS1WbyhzLHAsZiksST0xLVZvKHMsYyxmKSx3PTEtVm8oZSxjLGYpLHY9Vm8oZSxjLGgpLF89Vm8ocyxjLGgpKSxOLnB1c2goRG9bbF0pLE4ucHVzaChGb1tsXSksTi5wdXNoKEdvW2xdKSxOLnB1c2goQm9bbF0pKToxMzY9PT1sPygwPT09ZD8oRT1WbyhzLHAsaCksYj1WbyhlLHAsaCkseD0xLVZvKGUscCxmKSxtPTEtVm8ocyxwLGYpLEk9MS1WbyhzLGMsZiksdz0xLVZvKGUsYyxmKSx2PVZvKGUsYyxoKSxfPVZvKHMsYyxoKSk6KEU9MS1WbyhlLGgscCksYj0xLVZvKHMsaCxwKSx4PVZvKHMsZixwKSxtPVZvKGUsZixwKSxJPVZvKGUsZixjKSx3PVZvKHMsZixjKSx2PTEtVm8ocyxoLGMpLF89MS1WbyhlLGgsYykpLE4ucHVzaChEb1tsXSksTi5wdXNoKEZvW2xdKSxOLnB1c2gocW9bbF0pLE4ucHVzaChCb1tsXSkpOjE1Mz09PWw/KDA9PT1kPyhFPVZvKGUscCxoKSxtPTEtVm8oZSxwLGYpLEk9MS1WbyhlLGMsZiksXz1WbyhlLGMsaCkpOihFPTEtVm8ocyxoLHApLG09Vm8ocyxmLHApLEk9Vm8ocyxmLGMpLF89MS1WbyhzLGgsYykpLE4ucHVzaChEb1tsXSksTi5wdXNoKEdvW2xdKSk6MTAyPT09bD8oMD09PWQ/KGI9MS1WbyhlLGgscCkseD1WbyhlLGYscCksdz1WbyhlLGYsYyksdj0xLVZvKGUsaCxjKSk6KGI9Vm8ocyxwLGgpLHg9MS1WbyhzLHAsZiksdz0xLVZvKHMsYyxmKSx2PVZvKHMsYyxoKSksTi5wdXNoKEZvW2xdKSxOLnB1c2goQm9bbF0pKToxNTU9PT1sPyg0PT09ZD8oRT1WbyhlLHAsaCksbT0xLVZvKGUscCxmKSxJPTEtVm8oZSxjLGYpLF89Vm8oZSxjLGgpKTooRT0xLVZvKHMsaCxwKSxtPVZvKHMsZixwKSxJPVZvKHMsZixjKSxfPTEtVm8ocyxoLGMpKSxOLnB1c2goRG9bbF0pLE4ucHVzaChxb1tsXSkpOjEwMz09PWw/KDQ9PT1kPyhiPTEtVm8oZSxoLHApLHg9Vm8oZSxmLHApLHc9Vm8oZSxmLGMpLHY9MS1WbyhlLGgsYykpOihiPVZvKHMscCxoKSx4PTEtVm8ocyxwLGYpLHc9MS1WbyhzLGMsZiksdj1WbyhzLGMsaCkpLE4ucHVzaChGb1tsXSksTi5wdXNoKGtvW2xdKSk6MTUyPT09bD8oMD09PWQ/KEU9Vm8oZSxwLGgpLHg9MS1WbyhlLHAsZiksbT0xLVZvKHMscCxmKSxJPTEtVm8ocyxjLGYpLHc9MS1WbyhlLGMsZiksXz1WbyhlLGMsaCkpOihFPTEtVm8ocyxoLHApLHg9Vm8ocyxmLHApLG09Vm8oZSxmLHApLEk9Vm8oZSxmLGMpLHc9Vm8ocyxmLGMpLF89MS1WbyhzLGgsYykpLE4ucHVzaChEb1tsXSksTi5wdXNoKGtvW2xdKSxOLnB1c2goR29bbF0pKToxNTY9PT1sPyg0PT09ZD8oRT1WbyhlLHAsaCkseD0xLVZvKGUscCxmKSxtPTEtVm8ocyxwLGYpLEk9MS1WbyhzLGMsZiksdz0xLVZvKGUsYyxmKSxfPVZvKGUsYyxoKSk6KEU9MS1WbyhzLGgscCkseD1WbyhzLGYscCksbT1WbyhlLGYscCksST1WbyhlLGYsYyksdz1WbyhzLGYsYyksXz0xLVZvKHMsaCxjKSksTi5wdXNoKERvW2xdKSxOLnB1c2goR29bbF0pLE4ucHVzaChCb1tsXSkpOjEzNz09PWw/KDA9PT1kPyhFPVZvKHMscCxoKSxiPVZvKGUscCxoKSxtPTEtVm8oZSxwLGYpLEk9MS1WbyhlLGMsZiksdj1WbyhlLGMsaCksXz1WbyhzLGMsaCkpOihFPTEtVm8oZSxoLHApLGI9MS1WbyhzLGgscCksbT1WbyhzLGYscCksST1WbyhzLGYsYyksdj0xLVZvKHMsaCxjKSxfPTEtVm8oZSxoLGMpKSxOLnB1c2goRG9bbF0pLE4ucHVzaChGb1tsXSksTi5wdXNoKEdvW2xdKSk6MTM5PT09bD8oND09PWQ/KEU9Vm8ocyxwLGgpLGI9Vm8oZSxwLGgpLG09MS1WbyhlLHAsZiksST0xLVZvKGUsYyxmKSx2PVZvKGUsYyxoKSxfPVZvKHMsYyxoKSk6KEU9MS1WbyhlLGgscCksYj0xLVZvKHMsaCxwKSxtPVZvKHMsZixwKSxJPVZvKHMsZixjKSx2PTEtVm8ocyxoLGMpLF89MS1WbyhlLGgsYykpLE4ucHVzaChEb1tsXSksTi5wdXNoKEZvW2xdKSxOLnB1c2gocW9bbF0pKTo5OD09PWw/KDA9PT1kPyhFPTEtVm8oZSxoLHApLGI9MS1WbyhzLGgscCkseD1WbyhzLGYscCksbT1WbyhlLGYscCksdz1WbyhlLGYsYyksdj0xLVZvKGUsaCxjKSk6KEU9Vm8ocyxwLGgpLGI9Vm8oZSxwLGgpLHg9MS1WbyhlLHAsZiksbT0xLVZvKHMscCxmKSx3PTEtVm8ocyxjLGYpLHY9Vm8ocyxjLGgpKSxOLnB1c2goRG9bbF0pLE4ucHVzaChGb1tsXSksTi5wdXNoKEJvW2xdKSk6OTk9PT1sPyg0PT09ZD8oRT0xLVZvKGUsaCxwKSxiPTEtVm8ocyxoLHApLHg9Vm8ocyxmLHApLG09Vm8oZSxmLHApLHc9Vm8oZSxmLGMpLHY9MS1WbyhlLGgsYykpOihFPVZvKHMscCxoKSxiPVZvKGUscCxoKSx4PTEtVm8oZSxwLGYpLG09MS1WbyhzLHAsZiksdz0xLVZvKHMsYyxmKSx2PVZvKHMsYyxoKSksTi5wdXNoKERvW2xdKSxOLnB1c2goRm9bbF0pLE4ucHVzaChHb1tsXSkpOjM4PT09bD8oMD09PWQ/KGI9MS1WbyhlLGgscCkseD1WbyhlLGYscCksST1WbyhlLGYsYyksdz1WbyhzLGYsYyksdj0xLVZvKHMsaCxjKSxfPTEtVm8oZSxoLGMpKTooYj1WbyhzLHAsaCkseD0xLVZvKHMscCxmKSxJPTEtVm8ocyxjLGYpLHc9MS1WbyhlLGMsZiksdj1WbyhlLGMsaCksXz1WbyhzLGMsaCkpLE4ucHVzaChGb1tsXSksTi5wdXNoKHFvW2xdKSxOLnB1c2goQm9bbF0pKTozOT09PWw/KDQ9PT1kPyhiPTEtVm8oZSxoLHApLHg9Vm8oZSxmLHApLEk9Vm8oZSxmLGMpLHc9Vm8ocyxmLGMpLHY9MS1WbyhzLGgsYyksXz0xLVZvKGUsaCxjKSk6KGI9Vm8ocyxwLGgpLHg9MS1WbyhzLHAsZiksST0xLVZvKHMsYyxmKSx3PTEtVm8oZSxjLGYpLHY9Vm8oZSxjLGgpLF89Vm8ocyxjLGgpKSxOLnB1c2goRm9bbF0pLE4ucHVzaChrb1tsXSksTi5wdXNoKEJvW2xdKSk6ODU9PT1sJiYoRT0xLGI9MCx4PTEsbT0wLEk9MCx3PTEsdj0wLF89MSksKHY8MHx8dj4xfHxfPDB8fF8+MXx8RTwwfHxFPjF8fHg8MHx8eD4xfHxJPDB8fEk+MXx8dzwwfHx3PjEpJiZjb25zb2xlLmxvZygiTWFyY2hpbmdTcXVhcmVzSlMtaXNvQmFuZHM6ICIrbCsiICIrZysiICIrYysiLCIraCsiLCIrcCsiLCIrZisiICIrZCsiICIrdisiICIrXysiICIrRSsiICIrYisiICIreCsiICIrbSsiICIrSSsiICIrdyksby5jZWxsc1thXVt1XT17Y3ZhbDpsLGN2YWxfcmVhbDpnLGZsaXBwZWQ6ZCx0b3BsZWZ0OnYsdG9wcmlnaHQ6XyxyaWdodHRvcDpFLHJpZ2h0Ym90dG9tOmIsYm90dG9tcmlnaHQ6eCxib3R0b21sZWZ0Om0sbGVmdGJvdHRvbTpJLGxlZnR0b3A6dyxlZGdlczpOfX19fX1yZXR1cm4gb30odCxlLG4pO3JldHVybiBRaS5wb2x5Z29ucz8oUWkudmVyYm9zZSYmY29uc29sZS5sb2coIk1hcmNoaW5nU3F1YXJlc0pTLWlzb0JhbmRzOiByZXR1cm5pbmcgc2luZ2xlIHBvbHlnb25zIGZvciBlYWNoIGdyaWQgY2VsbCIpLHU9ZnVuY3Rpb24odCl7dmFyIGU9W10sbj0wO3JldHVybiB0LmNlbGxzLmZvckVhY2goKGZ1bmN0aW9uKHQscil7dC5mb3JFYWNoKChmdW5jdGlvbih0LGkpe2lmKHZvaWQgMCE9PXQpe3ZhciBvPVVvW3QuY3ZhbF0odCk7Im9iamVjdCI9PXR5cGVvZiBvJiZYbyhvKT8ib2JqZWN0Ij09dHlwZW9mIG9bMF0mJlhvKG9bMF0pPyJvYmplY3QiPT10eXBlb2Ygb1swXVswXSYmWG8ob1swXVswXSk/by5mb3JFYWNoKChmdW5jdGlvbih0KXt0LmZvckVhY2goKGZ1bmN0aW9uKHQpe3RbMF0rPWksdFsxXSs9cn0pKSxlW24rK109dH0pKTooby5mb3JFYWNoKChmdW5jdGlvbih0KXt0WzBdKz1pLHRbMV0rPXJ9KSksZVtuKytdPW8pOmNvbnNvbGUubG9nKCJNYXJjaGluZ1NxdWFyZXNKUy1pc29CYW5kczogYmFuZGNlbGwgcG9seWdvbiB3aXRoIG1hbGZvcm1lZCBjb29yZGluYXRlcyIpOmNvbnNvbGUubG9nKCJNYXJjaGluZ1NxdWFyZXNKUy1pc29CYW5kczogYmFuZGNlbGwgcG9seWdvbiB3aXRoIG51bGwgY29vcmRpbmF0ZXMiKX19KSl9KSksZX0obCkpOihRaS52ZXJib3NlJiZjb25zb2xlLmxvZygiTWFyY2hpbmdTcXVhcmVzSlMtaXNvQmFuZHM6IHJldHVybmluZyBwb2x5Z29uIHBhdGhzIGZvciBlbnRpcmUgZGF0YSBncmlkIiksdT1mdW5jdGlvbih0KXtmb3IodmFyIGU9W10sbj10LnJvd3Mscj10LmNvbHMsaT1bXSxvPTA7bzxuO28rKylmb3IodmFyIHM9MDtzPHI7cysrKWlmKHZvaWQgMCE9PXQuY2VsbHNbb11bc10mJnQuY2VsbHNbb11bc10uZWRnZXMubGVuZ3RoPjApe3ZhciBhPUhvKHQuY2VsbHNbb11bc10pLHU9bnVsbCxsPXMsYz1vO251bGwhPT1hJiZpLnB1c2goW2EucFswXStsLGEucFsxXStjXSk7ZG97aWYobnVsbD09PSh1PVdvKHQuY2VsbHNbY11bbF0sYS54LGEueSxhLm8pKSlicmVhaztpZihpLnB1c2goW3UucFswXStsLHUucFsxXStjXSksbCs9dS54LGE9dSwoYys9dS55KTwwfHxjPj1ufHxsPDB8fGw+PXJ8fHZvaWQgMD09PXQuY2VsbHNbY11bbF0pe3ZhciBoPVlvKHQsbC09dS54LGMtPXUueSx1LngsdS55LHUubyk7aWYobnVsbD09PWgpYnJlYWs7aC5wYXRoLmZvckVhY2goKGZ1bmN0aW9uKHQpe2kucHVzaCh0KX0pKSxsPWguaSxjPWguaixhPWh9fXdoaWxlKHZvaWQgMCE9PXQuY2VsbHNbY11bbF0mJnQuY2VsbHNbY11bbF0uZWRnZXMubGVuZ3RoPjApO2UucHVzaChpKSxpPVtdLHQuY2VsbHNbb11bc10uZWRnZXMubGVuZ3RoPjAmJnMtLX1yZXR1cm4gZX0obCkpLCJmdW5jdGlvbiI9PXR5cGVvZiBRaS5zdWNjZXNzQ2FsbGJhY2smJlFpLnN1Y2Nlc3NDYWxsYmFjayh1KSx1fXZhciB0bz02NCxlbz0xNixubz1bXSxybz1bXSxpbz1bXSxvbz1bXSxzbz1bXSxhbz1bXSx1bz1bXSxsbz1bXSxjbz1bXSxobz1bXSxwbz1bXSxmbz1bXSxnbz1bXSx5bz1bXSx2bz1bXSxfbz1bXSxtbz1bXSx4bz1bXSxFbz1bXSxibz1bXSx3bz1bXSxJbz1bXSxObz1bXSxTbz1bXTt1b1s4NV09aG9bODVdPS0xLGxvWzg1XT1wb1s4NV09MCxjb1s4NV09Zm9bODVdPTEsRW9bODVdPUlvWzg1XT0xLGJvWzg1XT1Ob1s4NV09MCx3b1s4NV09U29bODVdPTEsbm9bODVdPW9vWzg1XT0wLHJvWzg1XT1zb1s4NV09LTEsaW9bODVdPXZvWzg1XT0wLF9vWzg1XT1nb1s4NV09MCxtb1s4NV09eW9bODVdPTEsYW9bODVdPXhvWzg1XT0xLElvWzFdPUlvWzE2OV09MCxOb1sxXT1Ob1sxNjldPS0xLFNvWzFdPVNvWzE2OV09MCxnb1sxXT1nb1sxNjldPS0xLHlvWzFdPXlvWzE2OV09MCx2b1sxXT12b1sxNjldPTAsaG9bNF09aG9bMTY2XT0wLHBvWzRdPXBvWzE2Nl09LTEsZm9bNF09Zm9bMTY2XT0xLF9vWzRdPV9vWzE2Nl09MSxtb1s0XT1tb1sxNjZdPTAseG9bNF09eG9bMTY2XT0wLHVvWzE2XT11b1sxNTRdPTAsbG9bMTZdPWxvWzE1NF09MSxjb1sxNl09Y29bMTU0XT0xLG9vWzE2XT1vb1sxNTRdPTEsc29bMTZdPXNvWzE1NF09MCxhb1sxNl09YW9bMTU0XT0xLEVvWzY0XT1Fb1sxMDZdPTAsYm9bNjRdPWJvWzEwNl09MSx3b1s2NF09d29bMTA2XT0wLG5vWzY0XT1ub1sxMDZdPS0xLHJvWzY0XT1yb1sxMDZdPTAsaW9bNjRdPWlvWzEwNl09MSxFb1syXT1Fb1sxNjhdPTAsYm9bMl09Ym9bMTY4XT0tMSx3b1syXT13b1sxNjhdPTEsSW9bMl09SW9bMTY4XT0wLE5vWzJdPU5vWzE2OF09LTEsU29bMl09U29bMTY4XT0wLGdvWzJdPWdvWzE2OF09LTEseW9bMl09eW9bMTY4XT0wLHZvWzJdPXZvWzE2OF09MCxfb1syXT1fb1sxNjhdPS0xLG1vWzJdPW1vWzE2OF09MCx4b1syXT14b1sxNjhdPTEsdW9bOF09dW9bMTYyXT0wLGxvWzhdPWxvWzE2Ml09LTEsY29bOF09Y29bMTYyXT0wLGhvWzhdPWhvWzE2Ml09MCxwb1s4XT1wb1sxNjJdPS0xLGZvWzhdPWZvWzE2Ml09MSxnb1s4XT1nb1sxNjJdPTEseW9bOF09eW9bMTYyXT0wLHZvWzhdPXZvWzE2Ml09MSxfb1s4XT1fb1sxNjJdPTEsbW9bOF09bW9bMTYyXT0wLHhvWzhdPXhvWzE2Ml09MCx1b1szMl09dW9bMTM4XT0wLGxvWzMyXT1sb1sxMzhdPTEsY29bMzJdPWNvWzEzOF09MSxob1szMl09aG9bMTM4XT0wLHBvWzMyXT1wb1sxMzhdPTEsZm9bMzJdPWZvWzEzOF09MCxub1szMl09bm9bMTM4XT0xLHJvWzMyXT1yb1sxMzhdPTAsaW9bMzJdPWlvWzEzOF09MCxvb1szMl09b29bMTM4XT0xLHNvWzMyXT1zb1sxMzhdPTAsYW9bMzJdPWFvWzEzOF09MSxJb1sxMjhdPUlvWzQyXT0wLE5vWzEyOF09Tm9bNDJdPTEsU29bMTI4XT1Tb1s0Ml09MSxFb1sxMjhdPUVvWzQyXT0wLGJvWzEyOF09Ym9bNDJdPTEsd29bMTI4XT13b1s0Ml09MCxub1sxMjhdPW5vWzQyXT0tMSxyb1sxMjhdPXJvWzQyXT0wLGlvWzEyOF09aW9bNDJdPTEsb29bMTI4XT1vb1s0Ml09LTEsc29bMTI4XT1zb1s0Ml09MCxhb1sxMjhdPWFvWzQyXT0wLGhvWzVdPWhvWzE2NV09LTEscG9bNV09cG9bMTY1XT0wLGZvWzVdPWZvWzE2NV09MCxJb1s1XT1Jb1sxNjVdPTEsTm9bNV09Tm9bMTY1XT0wLFNvWzVdPVNvWzE2NV09MCxfb1syMF09X29bMTUwXT0wLG1vWzIwXT1tb1sxNTBdPTEseG9bMjBdPXhvWzE1MF09MSxvb1syMF09b29bMTUwXT0wLHNvWzIwXT1zb1sxNTBdPS0xLGFvWzIwXT1hb1sxNTBdPTEsdW9bODBdPXVvWzkwXT0tMSxsb1s4MF09bG9bOTBdPTAsY29bODBdPWNvWzkwXT0xLEVvWzgwXT1Fb1s5MF09MSxib1s4MF09Ym9bOTBdPTAsd29bODBdPXdvWzkwXT0xLGdvWzY1XT1nb1sxMDVdPTAseW9bNjVdPXlvWzEwNV09MSx2b1s2NV09dm9bMTA1XT0wLG5vWzY1XT1ub1sxMDVdPTAscm9bNjVdPXJvWzEwNV09LTEsaW9bNjVdPWlvWzEwNV09MCx1b1sxNjBdPXVvWzEwXT0tMSxsb1sxNjBdPWxvWzEwXT0wLGNvWzE2MF09Y29bMTBdPTEsaG9bMTYwXT1ob1sxMF09LTEscG9bMTYwXT1wb1sxMF09MCxmb1sxNjBdPWZvWzEwXT0wLElvWzE2MF09SW9bMTBdPTEsTm9bMTYwXT1Ob1sxMF09MCxTb1sxNjBdPVNvWzEwXT0wLEVvWzE2MF09RW9bMTBdPTEsYm9bMTYwXT1ib1sxMF09MCx3b1sxNjBdPXdvWzEwXT0xLF9vWzEzMF09X29bNDBdPTAsbW9bMTMwXT1tb1s0MF09MSx4b1sxMzBdPXhvWzQwXT0xLGdvWzEzMF09Z29bNDBdPTAseW9bMTMwXT15b1s0MF09MSx2b1sxMzBdPXZvWzQwXT0wLG5vWzEzMF09bm9bNDBdPTAscm9bMTMwXT1yb1s0MF09LTEsaW9bMTMwXT1pb1s0MF09MCxvb1sxMzBdPW9vWzQwXT0wLHNvWzEzMF09c29bNDBdPS0xLGFvWzEzMF09YW9bNDBdPTEsaG9bMzddPWhvWzEzM109MCxwb1szN109cG9bMTMzXT0xLGZvWzM3XT1mb1sxMzNdPTEsSW9bMzddPUlvWzEzM109MCxOb1szN109Tm9bMTMzXT0xLFNvWzM3XT1Tb1sxMzNdPTAsbm9bMzddPW5vWzEzM109LTEscm9bMzddPXJvWzEzM109MCxpb1szN109aW9bMTMzXT0wLG9vWzM3XT1vb1sxMzNdPTEsc29bMzddPXNvWzEzM109MCxhb1szN109YW9bMTMzXT0wLF9vWzE0OF09X29bMjJdPS0xLG1vWzE0OF09bW9bMjJdPTAseG9bMTQ4XT14b1syMl09MCxJb1sxNDhdPUlvWzIyXT0wLE5vWzE0OF09Tm9bMjJdPS0xLFNvWzE0OF09U29bMjJdPTEsRW9bMTQ4XT1Fb1syMl09MCxib1sxNDhdPWJvWzIyXT0xLHdvWzE0OF09d29bMjJdPTEsb29bMTQ4XT1vb1syMl09LTEsc29bMTQ4XT1zb1syMl09MCxhb1sxNDhdPWFvWzIyXT0xLHVvWzgyXT11b1s4OF09MCxsb1s4Ml09bG9bODhdPS0xLGNvWzgyXT1jb1s4OF09MSxfb1s4Ml09X29bODhdPTEsbW9bODJdPW1vWzg4XT0wLHhvWzgyXT14b1s4OF09MSxnb1s4Ml09Z29bODhdPS0xLHlvWzgyXT15b1s4OF09MCx2b1s4Ml09dm9bODhdPTEsRW9bODJdPUVvWzg4XT0wLGJvWzgyXT1ib1s4OF09LTEsd29bODJdPXdvWzg4XT0wLHVvWzczXT11b1s5N109MCxsb1s3M109bG9bOTddPTEsY29bNzNdPWNvWzk3XT0wLGhvWzczXT1ob1s5N109MCxwb1s3M109cG9bOTddPS0xLGZvWzczXT1mb1s5N109MCxnb1s3M109Z29bOTddPTEseW9bNzNdPXlvWzk3XT0wLHZvWzczXT12b1s5N109MCxub1s3M109bm9bOTddPTEscm9bNzNdPXJvWzk3XT0wLGlvWzczXT1pb1s5N109MSx1b1sxNDVdPXVvWzI1XT0wLGxvWzE0NV09bG9bMjVdPS0xLGNvWzE0NV09Y29bMjVdPTAsZ29bMTQ1XT1nb1syNV09MSx5b1sxNDVdPXlvWzI1XT0wLHZvWzE0NV09dm9bMjVdPTEsSW9bMTQ1XT1Jb1syNV09MCxOb1sxNDVdPU5vWzI1XT0xLFNvWzE0NV09U29bMjVdPTEsb29bMTQ1XT1vb1syNV09LTEsc29bMTQ1XT1zb1syNV09MCxhb1sxNDVdPWFvWzI1XT0wLGhvWzcwXT1ob1sxMDBdPTAscG9bNzBdPXBvWzEwMF09MSxmb1s3MF09Zm9bMTAwXT0wLF9vWzcwXT1fb1sxMDBdPS0xLG1vWzcwXT1tb1sxMDBdPTAseG9bNzBdPXhvWzEwMF09MSxFb1s3MF09RW9bMTAwXT0wLGJvWzcwXT1ib1sxMDBdPS0xLHdvWzcwXT13b1sxMDBdPTEsbm9bNzBdPW5vWzEwMF09MSxyb1s3MF09cm9bMTAwXT0wLGlvWzcwXT1pb1sxMDBdPTAsaG9bMTAxXT1ob1s2OV09MCxwb1sxMDFdPXBvWzY5XT0xLGZvWzEwMV09Zm9bNjldPTAsbm9bMTAxXT1ub1s2OV09MSxyb1sxMDFdPXJvWzY5XT0wLGlvWzEwMV09aW9bNjldPTAsSW9bMTQ5XT1Jb1syMV09MCxOb1sxNDldPU5vWzIxXT0xLFNvWzE0OV09U29bMjFdPTEsb29bMTQ5XT1vb1syMV09LTEsc29bMTQ5XT1zb1syMV09MCxhb1sxNDldPWFvWzIxXT0wLF9vWzg2XT1fb1s4NF09LTEsbW9bODZdPW1vWzg0XT0wLHhvWzg2XT14b1s4NF09MSxFb1s4Nl09RW9bODRdPTAsYm9bODZdPWJvWzg0XT0tMSx3b1s4Nl09d29bODRdPTEsdW9bODldPXVvWzgxXT0wLGxvWzg5XT1sb1s4MV09LTEsY29bODldPWNvWzgxXT0wLGdvWzg5XT1nb1s4MV09MSx5b1s4OV09eW9bODFdPTAsdm9bODldPXZvWzgxXT0xLHVvWzk2XT11b1s3NF09MCxsb1s5Nl09bG9bNzRdPTEsY29bOTZdPWNvWzc0XT0wLGhvWzk2XT1ob1s3NF09LTEscG9bOTZdPXBvWzc0XT0wLGZvWzk2XT1mb1s3NF09MSxFb1s5Nl09RW9bNzRdPTEsYm9bOTZdPWJvWzc0XT0wLHdvWzk2XT13b1s3NF09MCxub1s5Nl09bm9bNzRdPTEscm9bOTZdPXJvWzc0XT0wLGlvWzk2XT1pb1s3NF09MSx1b1syNF09dW9bMTQ2XT0wLGxvWzI0XT1sb1sxNDZdPS0xLGNvWzI0XT1jb1sxNDZdPTEsX29bMjRdPV9vWzE0Nl09MSxtb1syNF09bW9bMTQ2XT0wLHhvWzI0XT14b1sxNDZdPTEsZ29bMjRdPWdvWzE0Nl09MCx5b1syNF09eW9bMTQ2XT0xLHZvWzI0XT12b1sxNDZdPTEsb29bMjRdPW9vWzE0Nl09MCxzb1syNF09c29bMTQ2XT0tMSxhb1syNF09YW9bMTQ2XT0wLGhvWzZdPWhvWzE2NF09LTEscG9bNl09cG9bMTY0XT0wLGZvWzZdPWZvWzE2NF09MSxfb1s2XT1fb1sxNjRdPS0xLG1vWzZdPW1vWzE2NF09MCx4b1s2XT14b1sxNjRdPTAsSW9bNl09SW9bMTY0XT0wLE5vWzZdPU5vWzE2NF09LTEsU29bNl09U29bMTY0XT0xLEVvWzZdPUVvWzE2NF09MSxib1s2XT1ib1sxNjRdPTAsd29bNl09d29bMTY0XT0wLGdvWzEyOV09Z29bNDFdPTAseW9bMTI5XT15b1s0MV09MSx2b1sxMjldPXZvWzQxXT0xLElvWzEyOV09SW9bNDFdPTAsTm9bMTI5XT1Ob1s0MV09MSxTb1sxMjldPVNvWzQxXT0wLG5vWzEyOV09bm9bNDFdPS0xLHJvWzEyOV09cm9bNDFdPTAsaW9bMTI5XT1pb1s0MV09MCxvb1sxMjldPW9vWzQxXT0wLHNvWzEyOV09c29bNDFdPS0xLGFvWzEyOV09YW9bNDFdPTAsX29bNjZdPV9vWzEwNF09MCxtb1s2Nl09bW9bMTA0XT0xLHhvWzY2XT14b1sxMDRdPTAsZ29bNjZdPWdvWzEwNF09LTEseW9bNjZdPXlvWzEwNF09MCx2b1s2Nl09dm9bMTA0XT0xLEVvWzY2XT1Fb1sxMDRdPTAsYm9bNjZdPWJvWzEwNF09LTEsd29bNjZdPXdvWzEwNF09MCxub1s2Nl09bm9bMTA0XT0wLHJvWzY2XT1yb1sxMDRdPS0xLGlvWzY2XT1pb1sxMDRdPTEsdW9bMTQ0XT11b1syNl09LTEsbG9bMTQ0XT1sb1syNl09MCxjb1sxNDRdPWNvWzI2XT0wLElvWzE0NF09SW9bMjZdPTEsTm9bMTQ0XT1Ob1syNl09MCxTb1sxNDRdPVNvWzI2XT0xLEVvWzE0NF09RW9bMjZdPTAsYm9bMTQ0XT1ib1syNl09MSx3b1sxNDRdPXdvWzI2XT0xLG9vWzE0NF09b29bMjZdPS0xLHNvWzE0NF09c29bMjZdPTAsYW9bMTQ0XT1hb1syNl09MSxob1szNl09aG9bMTM0XT0wLHBvWzM2XT1wb1sxMzRdPTEsZm9bMzZdPWZvWzEzNF09MSxfb1szNl09X29bMTM0XT0wLG1vWzM2XT1tb1sxMzRdPTEseG9bMzZdPXhvWzEzNF09MCxub1szNl09bm9bMTM0XT0wLHJvWzM2XT1yb1sxMzRdPS0xLGlvWzM2XT1pb1sxMzRdPTEsb29bMzZdPW9vWzEzNF09MSxzb1szNl09c29bMTM0XT0wLGFvWzM2XT1hb1sxMzRdPTAsdW9bOV09dW9bMTYxXT0tMSxsb1s5XT1sb1sxNjFdPTAsY29bOV09Y29bMTYxXT0wLGhvWzldPWhvWzE2MV09MCxwb1s5XT1wb1sxNjFdPS0xLGZvWzldPWZvWzE2MV09MCxnb1s5XT1nb1sxNjFdPTEseW9bOV09eW9bMTYxXT0wLHZvWzldPXZvWzE2MV09MCxJb1s5XT1Jb1sxNjFdPTEsTm9bOV09Tm9bMTYxXT0wLFNvWzldPVNvWzE2MV09MSx1b1sxMzZdPTAsbG9bMTM2XT0xLGNvWzEzNl09MSxob1sxMzZdPTAscG9bMTM2XT0xLGZvWzEzNl09MCxfb1sxMzZdPS0xLG1vWzEzNl09MCx4b1sxMzZdPTEsZ29bMTM2XT0tMSx5b1sxMzZdPTAsdm9bMTM2XT0wLElvWzEzNl09MCxOb1sxMzZdPS0xLFNvWzEzNl09MCxFb1sxMzZdPTAsYm9bMTM2XT0tMSx3b1sxMzZdPTEsbm9bMTM2XT0xLHJvWzEzNl09MCxpb1sxMzZdPTAsb29bMTM2XT0xLHNvWzEzNl09MCxhb1sxMzZdPTEsdW9bMzRdPTAsbG9bMzRdPS0xLGNvWzM0XT0wLGhvWzM0XT0wLHBvWzM0XT0tMSxmb1szNF09MSxfb1szNF09MSxtb1szNF09MCx4b1szNF09MCxnb1szNF09MSx5b1szNF09MCx2b1szNF09MSxJb1szNF09MCxOb1szNF09MSxTb1szNF09MSxFb1szNF09MCxib1szNF09MSx3b1szNF09MCxub1szNF09LTEscm9bMzRdPTAsaW9bMzRdPTEsb29bMzRdPS0xLHNvWzM0XT0wLGFvWzM0XT0wLHVvWzM1XT0wLGxvWzM1XT0xLGNvWzM1XT0xLGhvWzM1XT0wLHBvWzM1XT0tMSxmb1szNV09MSxfb1szNV09MSxtb1szNV09MCx4b1szNV09MCxnb1szNV09LTEseW9bMzVdPTAsdm9bMzVdPTAsSW9bMzVdPTAsTm9bMzVdPS0xLFNvWzM1XT0wLEVvWzM1XT0wLGJvWzM1XT0xLHdvWzM1XT0wLG5vWzM1XT0tMSxyb1szNV09MCxpb1szNV09MSxvb1szNV09MSxzb1szNV09MCxhb1szNV09MSx1b1sxNTNdPTAsbG9bMTUzXT0xLGNvWzE1M109MSxnb1sxNTNdPS0xLHlvWzE1M109MCx2b1sxNTNdPTAsSW9bMTUzXT0wLE5vWzE1M109LTEsU29bMTUzXT0wLG9vWzE1M109MSxzb1sxNTNdPTAsYW9bMTUzXT0xLGhvWzEwMl09MCxwb1sxMDJdPS0xLGZvWzEwMl09MSxfb1sxMDJdPTEsbW9bMTAyXT0wLHhvWzEwMl09MCxFb1sxMDJdPTAsYm9bMTAyXT0xLHdvWzEwMl09MCxub1sxMDJdPS0xLHJvWzEwMl09MCxpb1sxMDJdPTEsdW9bMTU1XT0wLGxvWzE1NV09LTEsY29bMTU1XT0wLGdvWzE1NV09MSx5b1sxNTVdPTAsdm9bMTU1XT0xLElvWzE1NV09MCxOb1sxNTVdPTEsU29bMTU1XT0xLG9vWzE1NV09LTEsc29bMTU1XT0wLGFvWzE1NV09MCxob1sxMDNdPTAscG9bMTAzXT0xLGZvWzEwM109MCxfb1sxMDNdPS0xLG1vWzEwM109MCx4b1sxMDNdPTEsRW9bMTAzXT0wLGJvWzEwM109LTEsd29bMTAzXT0xLG5vWzEwM109MSxyb1sxMDNdPTAsaW9bMTAzXT0wLHVvWzE1Ml09MCxsb1sxNTJdPTEsY29bMTUyXT0xLF9vWzE1Ml09LTEsbW9bMTUyXT0wLHhvWzE1Ml09MSxnb1sxNTJdPS0xLHlvWzE1Ml09MCx2b1sxNTJdPTAsSW9bMTUyXT0wLE5vWzE1Ml09LTEsU29bMTUyXT0wLEVvWzE1Ml09MCxib1sxNTJdPS0xLHdvWzE1Ml09MSxvb1sxNTJdPTEsc29bMTUyXT0wLGFvWzE1Ml09MSx1b1sxNTZdPTAsbG9bMTU2XT0tMSxjb1sxNTZdPTEsX29bMTU2XT0xLG1vWzE1Nl09MCx4b1sxNTZdPTEsZ29bMTU2XT0tMSx5b1sxNTZdPTAsdm9bMTU2XT0wLElvWzE1Nl09MCxOb1sxNTZdPS0xLFNvWzE1Nl09MCxFb1sxNTZdPTAsYm9bMTU2XT0xLHdvWzE1Nl09MSxvb1sxNTZdPS0xLHNvWzE1Nl09MCxhb1sxNTZdPTEsdW9bMTM3XT0wLGxvWzEzN109MSxjb1sxMzddPTEsaG9bMTM3XT0wLHBvWzEzN109MSxmb1sxMzddPTAsZ29bMTM3XT0tMSx5b1sxMzddPTAsdm9bMTM3XT0wLElvWzEzN109MCxOb1sxMzddPS0xLFNvWzEzN109MCxub1sxMzddPTEscm9bMTM3XT0wLGlvWzEzN109MCxvb1sxMzddPTEsc29bMTM3XT0wLGFvWzEzN109MSx1b1sxMzldPTAsbG9bMTM5XT0xLGNvWzEzOV09MSxob1sxMzldPTAscG9bMTM5XT0tMSxmb1sxMzldPTAsZ29bMTM5XT0xLHlvWzEzOV09MCx2b1sxMzldPTAsSW9bMTM5XT0wLE5vWzEzOV09MSxTb1sxMzldPTAsbm9bMTM5XT0tMSxyb1sxMzldPTAsaW9bMTM5XT0wLG9vWzEzOV09MSxzb1sxMzldPTAsYW9bMTM5XT0xLHVvWzk4XT0wLGxvWzk4XT0tMSxjb1s5OF09MCxob1s5OF09MCxwb1s5OF09LTEsZm9bOThdPTEsX29bOThdPTEsbW9bOThdPTAseG9bOThdPTAsZ29bOThdPTEseW9bOThdPTAsdm9bOThdPTEsRW9bOThdPTAsYm9bOThdPTEsd29bOThdPTAsbm9bOThdPS0xLHJvWzk4XT0wLGlvWzk4XT0xLHVvWzk5XT0wLGxvWzk5XT0xLGNvWzk5XT0wLGhvWzk5XT0wLHBvWzk5XT0tMSxmb1s5OV09MSxfb1s5OV09MSxtb1s5OV09MCx4b1s5OV09MCxnb1s5OV09LTEseW9bOTldPTAsdm9bOTldPTEsRW9bOTldPTAsYm9bOTldPS0xLHdvWzk5XT0wLG5vWzk5XT0xLHJvWzk5XT0wLGlvWzk5XT0xLGhvWzM4XT0wLHBvWzM4XT0tMSxmb1szOF09MSxfb1szOF09MSxtb1szOF09MCx4b1szOF09MCxJb1szOF09MCxOb1szOF09MSxTb1szOF09MSxFb1szOF09MCxib1szOF09MSx3b1szOF09MCxub1szOF09LTEscm9bMzhdPTAsaW9bMzhdPTEsb29bMzhdPS0xLHNvWzM4XT0wLGFvWzM4XT0wLGhvWzM5XT0wLHBvWzM5XT0xLGZvWzM5XT0xLF9vWzM5XT0tMSxtb1szOV09MCx4b1szOV09MCxJb1szOV09MCxOb1szOV09LTEsU29bMzldPTEsRW9bMzldPTAsYm9bMzldPTEsd29bMzldPTAsbm9bMzldPS0xLHJvWzM5XT0wLGlvWzM5XT0xLG9vWzM5XT0xLHNvWzM5XT0wLGFvWzM5XT0wO3ZhciBDbz1mdW5jdGlvbih0KXtyZXR1cm5bW3QuYm90dG9tbGVmdCwwXSxbMCwwXSxbMCx0LmxlZnRib3R0b21dXX0sUG89ZnVuY3Rpb24odCl7cmV0dXJuW1sxLHQucmlnaHRib3R0b21dLFsxLDBdLFt0LmJvdHRvbXJpZ2h0LDBdXX0sTW89ZnVuY3Rpb24odCl7cmV0dXJuW1t0LnRvcHJpZ2h0LDFdLFsxLDFdLFsxLHQucmlnaHR0b3BdXX0sTG89ZnVuY3Rpb24odCl7cmV0dXJuW1swLHQubGVmdHRvcF0sWzAsMV0sW3QudG9wbGVmdCwxXV19LE9vPWZ1bmN0aW9uKHQpe3JldHVybltbdC5ib3R0b21yaWdodCwwXSxbdC5ib3R0b21sZWZ0LDBdLFswLHQubGVmdGJvdHRvbV0sWzAsdC5sZWZ0dG9wXV19LFJvPWZ1bmN0aW9uKHQpe3JldHVybltbdC5ib3R0b21yaWdodCwwXSxbdC5ib3R0b21sZWZ0LDBdLFsxLHQucmlnaHR0b3BdLFsxLHQucmlnaHRib3R0b21dXX0sVG89ZnVuY3Rpb24odCl7cmV0dXJuW1sxLHQucmlnaHR0b3BdLFsxLHQucmlnaHRib3R0b21dLFt0LnRvcGxlZnQsMV0sW3QudG9wcmlnaHQsMV1dfSxBbz1mdW5jdGlvbih0KXtyZXR1cm5bWzAsdC5sZWZ0Ym90dG9tXSxbMCx0LmxlZnR0b3BdLFt0LnRvcGxlZnQsMV0sW3QudG9wcmlnaHQsMV1dfSxEbz1bXSxGbz1bXSxrbz1bXSxHbz1bXSxxbz1bXSxCbz1bXSx6bz1bXSxqbz1bXTtHb1sxXT1xb1sxXT0xOCxHb1sxNjldPXFvWzE2OV09MTgsa29bNF09Rm9bNF09MTIsa29bMTY2XT1Gb1sxNjZdPTEyLERvWzE2XT1qb1sxNl09NCxEb1sxNTRdPWpvWzE1NF09NCxCb1s2NF09em9bNjRdPTIyLEJvWzEwNl09em9bMTA2XT0yMixrb1syXT1Cb1syXT0xNyxHb1syXT1xb1syXT0xOCxrb1sxNjhdPUJvWzE2OF09MTcsR29bMTY4XT1xb1sxNjhdPTE4LERvWzhdPUdvWzhdPTksRm9bOF09a29bOF09MTIsRG9bMTYyXT1Hb1sxNjJdPTksRm9bMTYyXT1rb1sxNjJdPTEyLERvWzMyXT1qb1szMl09NCxGb1szMl09em9bMzJdPTEsRG9bMTM4XT1qb1sxMzhdPTQsRm9bMTM4XT16b1sxMzhdPTEscW9bMTI4XT1qb1sxMjhdPTIxLEJvWzEyOF09em9bMTI4XT0yMixxb1s0Ml09am9bNDJdPTIxLEJvWzQyXT16b1s0Ml09MjIsRm9bNV09cW9bNV09MTQsRm9bMTY1XT1xb1sxNjVdPTE0LGtvWzIwXT1qb1syMF09Nixrb1sxNTBdPWpvWzE1MF09NixEb1s4MF09Qm9bODBdPTExLERvWzkwXT1Cb1s5MF09MTEsR29bNjVdPXpvWzY1XT0zLEdvWzEwNV09em9bMTA1XT0zLERvWzE2MF09Qm9bMTYwXT0xMSxGb1sxNjBdPXFvWzE2MF09MTQsRG9bMTBdPUJvWzEwXT0xMSxGb1sxMF09cW9bMTBdPTE0LGtvWzEzMF09am9bMTMwXT02LEdvWzEzMF09em9bMTMwXT0zLGtvWzQwXT1qb1s0MF09NixHb1s0MF09em9bNDBdPTMsRm9bMTAxXT16b1sxMDFdPTEsRm9bNjldPXpvWzY5XT0xLHFvWzE0OV09am9bMTQ5XT0yMSxxb1syMV09am9bMjFdPTIxLGtvWzg2XT1Cb1s4Nl09MTcsa29bODRdPUJvWzg0XT0xNyxEb1s4OV09R29bODldPTksRG9bODFdPUdvWzgxXT05LERvWzk2XT16b1s5Nl09MCxGb1s5Nl09Qm9bOTZdPTE1LERvWzc0XT16b1s3NF09MCxGb1s3NF09Qm9bNzRdPTE1LERvWzI0XT1rb1syNF09OCxHb1syNF09am9bMjRdPTcsRG9bMTQ2XT1rb1sxNDZdPTgsR29bMTQ2XT1qb1sxNDZdPTcsRm9bNl09Qm9bNl09MTUsa29bNl09cW9bNl09MTYsRm9bMTY0XT1Cb1sxNjRdPTE1LGtvWzE2NF09cW9bMTY0XT0xNixHb1sxMjldPWpvWzEyOV09Nyxxb1sxMjldPXpvWzEyOV09MjAsR29bNDFdPWpvWzQxXT03LHFvWzQxXT16b1s0MV09MjAsa29bNjZdPXpvWzY2XT0yLEdvWzY2XT1Cb1s2Nl09MTksa29bMTA0XT16b1sxMDRdPTIsR29bMTA0XT1Cb1sxMDRdPTE5LERvWzE0NF09cW9bMTQ0XT0xMCxCb1sxNDRdPWpvWzE0NF09MjMsRG9bMjZdPXFvWzI2XT0xMCxCb1syNl09am9bMjZdPTIzLEZvWzM2XT1qb1szNl09NSxrb1szNl09em9bMzZdPTIsRm9bMTM0XT1qb1sxMzRdPTUsa29bMTM0XT16b1sxMzRdPTIsRG9bOV09cW9bOV09MTAsRm9bOV09R29bOV09MTMsRG9bMTYxXT1xb1sxNjFdPTEwLEZvWzE2MV09R29bMTYxXT0xMyxGb1szN109am9bMzddPTUscW9bMzddPXpvWzM3XT0yMCxGb1sxMzNdPWpvWzEzM109NSxxb1sxMzNdPXpvWzEzM109MjAsa29bMTQ4XT1xb1sxNDhdPTE2LEJvWzE0OF09am9bMTQ4XT0yMyxrb1syMl09cW9bMjJdPTE2LEJvWzIyXT1qb1syMl09MjMsRG9bODJdPWtvWzgyXT04LEdvWzgyXT1Cb1s4Ml09MTksRG9bODhdPWtvWzg4XT04LEdvWzg4XT1Cb1s4OF09MTksRG9bNzNdPXpvWzczXT0wLEZvWzczXT1Hb1s3M109MTMsRG9bOTddPXpvWzk3XT0wLEZvWzk3XT1Hb1s5N109MTMsRG9bMTQ1XT1Hb1sxNDVdPTkscW9bMTQ1XT1qb1sxNDVdPTIxLERvWzI1XT1Hb1syNV09OSxxb1syNV09am9bMjVdPTIxLEZvWzcwXT16b1s3MF09MSxrb1s3MF09Qm9bNzBdPTE3LEZvWzEwMF09em9bMTAwXT0xLGtvWzEwMF09Qm9bMTAwXT0xNyxEb1szNF09R29bMzRdPTksRm9bMzRdPWtvWzM0XT0xMixxb1szNF09am9bMzRdPTIxLEJvWzM0XT16b1szNF09MjIsRG9bMTM2XT1qb1sxMzZdPTQsRm9bMTM2XT16b1sxMzZdPTEsa29bMTM2XT1Cb1sxMzZdPTE3LEdvWzEzNl09cW9bMTM2XT0xOCxEb1szNV09am9bMzVdPTQsRm9bMzVdPWtvWzM1XT0xMixHb1szNV09cW9bMzVdPTE4LEJvWzM1XT16b1szNV09MjIsRG9bMTUzXT1qb1sxNTNdPTQsR29bMTUzXT1xb1sxNTNdPTE4LEZvWzEwMl09a29bMTAyXT0xMixCb1sxMDJdPXpvWzEwMl09MjIsRG9bMTU1XT1Hb1sxNTVdPTkscW9bMTU1XT1qb1sxNTVdPTIzLEZvWzEwM109em9bMTAzXT0xLGtvWzEwM109Qm9bMTAzXT0xNyxEb1sxNTJdPWpvWzE1Ml09NCxrb1sxNTJdPUJvWzE1Ml09MTcsR29bMTUyXT1xb1sxNTJdPTE4LERvWzE1Nl09a29bMTU2XT04LEdvWzE1Nl09cW9bMTU2XT0xOCxCb1sxNTZdPWpvWzE1Nl09MjMsRG9bMTM3XT1qb1sxMzddPTQsRm9bMTM3XT16b1sxMzddPTEsR29bMTM3XT1xb1sxMzddPTE4LERvWzEzOV09am9bMTM5XT00LEZvWzEzOV09R29bMTM5XT0xMyxxb1sxMzldPXpvWzEzOV09MjAsRG9bOThdPUdvWzk4XT05LEZvWzk4XT1rb1s5OF09MTIsQm9bOThdPXpvWzk4XT0yMixEb1s5OV09em9bOTldPTAsRm9bOTldPWtvWzk5XT0xMixHb1s5OV09Qm9bOTldPTE5LEZvWzM4XT1rb1szOF09MTIscW9bMzhdPWpvWzM4XT0yMSxCb1szOF09em9bMzhdPTIyLEZvWzM5XT1qb1szOV09NSxrb1szOV09cW9bMzldPTE2LEJvWzM5XT16b1szOV09MjI7dmFyIFVvPVtdO2Z1bmN0aW9uIFZvKHQsZSxuKXtyZXR1cm4odC1lKS8obi1lKX1mdW5jdGlvbiBYbyh0KXtyZXR1cm4gdC5jb25zdHJ1Y3Rvci50b1N0cmluZygpLmluZGV4T2YoIkFycmF5Iik+LTF9ZnVuY3Rpb24gWW8odCxlLG4scixpLG8pe2Zvcih2YXIgcz10LmNlbGxzW25dW2VdLGE9cy5jdmFsX3JlYWwsdT1lK3IsbD1uK2ksYz1bXSxoPSExOyFoOyl7aWYodm9pZCAwPT09dC5jZWxsc1tsXXx8dm9pZCAwPT09dC5jZWxsc1tsXVt1XSlpZihsLT1pLHUtPXIsYT0ocz10LmNlbGxzW2xdW3VdKS5jdmFsX3JlYWwsLTE9PT1pKWlmKDA9PT1vKWlmKDEmYSljLnB1c2goW3UsbF0pLHI9LTEsaT0wLG89MDtlbHNle2lmKCEoNCZhKSl7Yy5wdXNoKFt1K3MuYm90dG9tcmlnaHQsbF0pLHI9MCxpPTEsbz0xLGg9ITA7YnJlYWt9Yy5wdXNoKFt1KzEsbF0pLHI9MSxpPTAsbz0wfWVsc2V7aWYoISgxJmEpKXtpZig0JmEpe2MucHVzaChbdStzLmJvdHRvbXJpZ2h0LGxdKSxyPTAsaT0xLG89MSxoPSEwO2JyZWFrfWMucHVzaChbdStzLmJvdHRvbWxlZnQsbF0pLHI9MCxpPTEsbz0wLGg9ITA7YnJlYWt9Yy5wdXNoKFt1LGxdKSxyPS0xLGk9MCxvPTB9ZWxzZSBpZigxPT09aSlpZigwPT09byl7aWYoIShhJmVvKSl7aWYoYSZ0byl7Yy5wdXNoKFt1K3MudG9wbGVmdCxsKzFdKSxyPTAsaT0tMSxvPTAsaD0hMDticmVha31jLnB1c2goW3Urcy50b3ByaWdodCxsKzFdKSxyPTAsaT0tMSxvPTEsaD0hMDticmVha31jLnB1c2goW3UrMSxsKzFdKSxyPTEsaT0wLG89MX1lbHNlIGMucHVzaChbdSsxLGwrMV0pLHI9MSxpPTAsbz0xO2Vsc2UgaWYoLTE9PT1yKWlmKDA9PT1vKXtpZighKGEmdG8pKXtpZigxJmEpe2MucHVzaChbdSxsK3MubGVmdGJvdHRvbV0pLHI9MSxpPTAsbz0wLGg9ITA7YnJlYWt9Yy5wdXNoKFt1LGwrcy5sZWZ0dG9wXSkscj0xLGk9MCxvPTEsaD0hMDticmVha31jLnB1c2goW3UsbCsxXSkscj0wLGk9MSxvPTB9ZWxzZXtpZighKGEmdG8pKXtjb25zb2xlLmxvZygiTWFyY2hpbmdTcXVhcmVzSlMtaXNvQmFuZHM6IHd0ZiIpO2JyZWFrfWMucHVzaChbdSxsKzFdKSxyPTAsaT0xLG89MH1lbHNle2lmKDEhPT1yKXtjb25zb2xlLmxvZygiTWFyY2hpbmdTcXVhcmVzSlMtaXNvQmFuZHM6IHdlIGNhbWUgZnJvbSBub3doZXJlISIpO2JyZWFrfWlmKDA9PT1vKXtpZighKDQmYSkpe2MucHVzaChbdSsxLGwrcy5yaWdodGJvdHRvbV0pLHI9LTEsaT0wLG89MCxoPSEwO2JyZWFrfWMucHVzaChbdSsxLGxdKSxyPTAsaT0tMSxvPTF9ZWxzZXtpZighKDQmYSkpe2lmKGEmZW8pe2MucHVzaChbdSsxLGwrcy5yaWdodHRvcF0pLHI9LTEsaT0wLG89MTticmVha31jLnB1c2goW3UrMSxsK3MucmlnaHRib3R0b21dKSxyPS0xLGk9MCxvPTAsaD0hMDticmVha31jLnB1c2goW3UrMSxsXSkscj0wLGk9LTEsbz0xfX1lbHNlIGlmKGE9KHM9dC5jZWxsc1tsXVt1XSkuY3ZhbF9yZWFsLC0xPT09cilpZigwPT09bylpZih2b2lkIDAhPT10LmNlbGxzW2wtMV0mJnZvaWQgMCE9PXQuY2VsbHNbbC0xXVt1XSlyPTAsaT0tMSxvPTE7ZWxzZXtpZighKDEmYSkpe2MucHVzaChbdStzLmJvdHRvbXJpZ2h0LGxdKSxyPTAsaT0xLG89MSxoPSEwO2JyZWFrfWMucHVzaChbdSxsXSl9ZWxzZXtpZighKGEmdG8pKXtjb25zb2xlLmxvZygiTWFyY2hpbmdTcXVhcmVzSlMtaXNvQmFuZHM6IGZvdW5kIGVudHJ5IGZyb20gdG9wIGF0ICIrdSsiLCIrbCk7YnJlYWt9Y29uc29sZS5sb2coIk1hcmNoaW5nU3F1YXJlc0pTLWlzb0JhbmRzOiBwcm9jZWVkaW5nIGluIHgtZGlyZWN0aW9uISIpfWVsc2UgaWYoMT09PXIpe2lmKDA9PT1vKXtjb25zb2xlLmxvZygiTWFyY2hpbmdTcXVhcmVzSlMtaXNvQmFuZHM6IHd0ZiIpO2JyZWFrfWlmKHZvaWQgMCE9PXQuY2VsbHNbbCsxXSYmdm9pZCAwIT09dC5jZWxsc1tsKzFdW3VdKXI9MCxpPTEsbz0wO2Vsc2V7aWYoIShhJmVvKSl7Yy5wdXNoKFt1K3MudG9wbGVmdCxsKzFdKSxyPTAsaT0tMSxvPTAsaD0hMDticmVha31jLnB1c2goW3UrMSxsKzFdKSxyPTEsaT0wLG89MX19ZWxzZSBpZigtMT09PWkpe2lmKDEhPT1vKXtjb25zb2xlLmxvZygiTWFyY2hpbmdTcXVhcmVzSlMtaXNvQmFuZHM6IHd0ZiIpO2JyZWFrfWlmKHZvaWQgMCE9PXQuY2VsbHNbbF1bdSsxXSlyPTEsaT0wLG89MTtlbHNle2lmKCEoNCZhKSl7Yy5wdXNoKFt1KzEsbCtzLnJpZ2h0dG9wXSkscj0tMSxpPTAsbz0xLGg9ITA7YnJlYWt9Yy5wdXNoKFt1KzEsbF0pLHI9MCxpPS0xLG89MX19ZWxzZXtpZigxIT09aSl7Y29uc29sZS5sb2coIk1hcmNoaW5nU3F1YXJlc0pTLWlzb0JhbmRzOiB3aGVyZSBkaWQgd2UgY2FtZSBmcm9tPz8/Iik7YnJlYWt9aWYoMCE9PW8pe2NvbnNvbGUubG9nKCJNYXJjaGluZ1NxdWFyZXNKUy1pc29CYW5kczogd3RmIik7YnJlYWt9aWYodm9pZCAwIT09dC5jZWxsc1tsXVt1LTFdKXI9LTEsaT0wLG89MDtlbHNle2lmKCEoYSZ0bykpe2MucHVzaChbdSxsK3MubGVmdGJvdHRvbV0pLHI9MSxpPTAsbz0wLGg9ITA7YnJlYWt9Yy5wdXNoKFt1LGwrMV0pLHI9MCxpPTEsbz0wfX1pZihsKz1pLCh1Kz1yKT09PWUmJmw9PT1uKWJyZWFrfXJldHVybntwYXRoOmMsaTp1LGo6bCx4OnIseTppLG86b319ZnVuY3Rpb24gSG8odCl7aWYodC5lZGdlcy5sZW5ndGg+MCl7dmFyIGU9dC5lZGdlc1t0LmVkZ2VzLmxlbmd0aC0xXSxuPXQuY3ZhbF9yZWFsO3N3aXRjaChlKXtjYXNlIDA6cmV0dXJuIG4mZW8/e3A6WzEsdC5yaWdodHRvcF0seDotMSx5OjAsbzoxfTp7cDpbdC50b3BsZWZ0LDFdLHg6MCx5Oi0xLG86MH07Y2FzZSAxOnJldHVybiA0Jm4/e3A6W3QudG9wbGVmdCwxXSx4OjAseTotMSxvOjB9OntwOlsxLHQucmlnaHRib3R0b21dLHg6LTEseTowLG86MH07Y2FzZSAyOnJldHVybiA0Jm4/e3A6W3QuYm90dG9tcmlnaHQsMF0seDowLHk6MSxvOjF9OntwOlt0LnRvcGxlZnQsMV0seDowLHk6LTEsbzowfTtjYXNlIDM6cmV0dXJuIDEmbj97cDpbdC50b3BsZWZ0LDFdLHg6MCx5Oi0xLG86MH06e3A6W3QuYm90dG9tbGVmdCwwXSx4OjAseToxLG86MH07Y2FzZSA0OnJldHVybiBuJmVvP3twOlsxLHQucmlnaHR0b3BdLHg6LTEseTowLG86MX06e3A6W3QudG9wcmlnaHQsMV0seDowLHk6LTEsbzoxfTtjYXNlIDU6cmV0dXJuIDQmbj97cDpbdC50b3ByaWdodCwxXSx4OjAseTotMSxvOjF9OntwOlsxLHQucmlnaHRib3R0b21dLHg6LTEseTowLG86MH07Y2FzZSA2OnJldHVybiA0Jm4/e3A6W3QuYm90dG9tcmlnaHQsMF0seDowLHk6MSxvOjF9OntwOlt0LnRvcHJpZ2h0LDFdLHg6MCx5Oi0xLG86MX07Y2FzZSA3OnJldHVybiAxJm4/e3A6W3QudG9wcmlnaHQsMV0seDowLHk6LTEsbzoxfTp7cDpbdC5ib3R0b21sZWZ0LDBdLHg6MCx5OjEsbzowfTtjYXNlIDg6cmV0dXJuIDQmbj97cDpbdC5ib3R0b21yaWdodCwwXSx4OjAseToxLG86MX06e3A6WzEsdC5yaWdodHRvcF0seDotMSx5OjAsbzoxfTtjYXNlIDk6cmV0dXJuIDEmbj97cDpbMSx0LnJpZ2h0dG9wXSx4Oi0xLHk6MCxvOjF9OntwOlt0LmJvdHRvbWxlZnQsMF0seDowLHk6MSxvOjB9O2Nhc2UgMTA6cmV0dXJuIDEmbj97cDpbMCx0LmxlZnRib3R0b21dLHg6MSx5OjAsbzowfTp7cDpbMSx0LnJpZ2h0dG9wXSx4Oi0xLHk6MCxvOjF9O2Nhc2UgMTE6cmV0dXJuIG4mdG8/e3A6WzEsdC5yaWdodHRvcF0seDotMSx5OjAsbzoxfTp7cDpbMCx0LmxlZnR0b3BdLHg6MSx5OjAsbzoxfTtjYXNlIDEyOnJldHVybiA0Jm4/e3A6W3QuYm90dG9tcmlnaHQsMF0seDowLHk6MSxvOjF9OntwOlsxLHQucmlnaHRib3R0b21dLHg6LTEseTowLG86MH07Y2FzZSAxMzpyZXR1cm4gMSZuP3twOlsxLHQucmlnaHRib3R0b21dLHg6LTEseTowLG86MH06e3A6W3QuYm90dG9tbGVmdCwwXSx4OjAseToxLG86MH07Y2FzZSAxNDpyZXR1cm4gMSZuP3twOlswLHQubGVmdGJvdHRvbV0seDoxLHk6MCxvOjB9OntwOlsxLHQucmlnaHRib3R0b21dLHg6LTEseTowLG86MH07Y2FzZSAxNTpyZXR1cm4gbiZ0bz97cDpbMSx0LnJpZ2h0Ym90dG9tXSx4Oi0xLHk6MCxvOjB9OntwOlswLHQubGVmdHRvcF0seDoxLHk6MCxvOjF9O2Nhc2UgMTY6cmV0dXJuIDQmbj97cDpbdC5ib3R0b21yaWdodCwwXSx4OjAseToxLG86MX06e3A6WzAsdC5sZWZ0Ym90dG9tXSx4OjEseTowLG86MH07Y2FzZSAxNzpyZXR1cm4gbiZ0bz97cDpbdC5ib3R0b21yaWdodCwwXSx4OjAseToxLG86MX06e3A6WzAsdC5sZWZ0dG9wXSx4OjEseTowLG86MX07Y2FzZSAxODpyZXR1cm4gMSZuP3twOlswLHQubGVmdGJvdHRvbV0seDoxLHk6MCxvOjB9OntwOlt0LmJvdHRvbWxlZnQsMF0seDowLHk6MSxvOjB9O2Nhc2UgMTk6cmV0dXJuIG4mdG8/e3A6W3QuYm90dG9tbGVmdCwwXSx4OjAseToxLG86MH06e3A6WzAsdC5sZWZ0dG9wXSx4OjEseTowLG86MX07Y2FzZSAyMDpyZXR1cm4gbiZ0bz97cDpbdC50b3BsZWZ0LDFdLHg6MCx5Oi0xLG86MH06e3A6WzAsdC5sZWZ0Ym90dG9tXSx4OjEseTowLG86MH07Y2FzZSAyMTpyZXR1cm4gbiZlbz97cDpbMCx0LmxlZnRib3R0b21dLHg6MSx5OjAsbzowfTp7cDpbdC50b3ByaWdodCwxXSx4OjAseTotMSxvOjF9O2Nhc2UgMjI6cmV0dXJuIG4mdG8/e3A6W3QudG9wbGVmdCwxXSx4OjAseTotMSxvOjB9OntwOlswLHQubGVmdHRvcF0seDoxLHk6MCxvOjF9O2Nhc2UgMjM6cmV0dXJuIG4mZW8/e3A6WzAsdC5sZWZ0dG9wXSx4OjEseTowLG86MX06e3A6W3QudG9wcmlnaHQsMV0seDowLHk6LTEsbzoxfTtkZWZhdWx0OmNvbnNvbGUubG9nKCJNYXJjaGluZ1NxdWFyZXNKUy1pc29CYW5kczogZWRnZSBpbmRleCBvdXQgb2YgcmFuZ2UhIiksY29uc29sZS5sb2codCl9fXJldHVybiBudWxsfWZ1bmN0aW9uIFdvKHQsZSxuLHIpe3ZhciBpLG8scyxhLHUsbD10LmN2YWw7c3dpdGNoKGUpe2Nhc2UtMTpzd2l0Y2gocil7Y2FzZSAwOmk9Rm9bbF0scz1ob1tsXSxhPXBvW2xdLHU9Zm9bbF07YnJlYWs7ZGVmYXVsdDppPURvW2xdLHM9dW9bbF0sYT1sb1tsXSx1PWNvW2xdfWJyZWFrO2Nhc2UgMTpzd2l0Y2gocil7Y2FzZSAwOmk9cW9bbF0scz1Jb1tsXSxhPU5vW2xdLHU9U29bbF07YnJlYWs7ZGVmYXVsdDppPUJvW2xdLHM9RW9bbF0sYT1ib1tsXSx1PXdvW2xdfWJyZWFrO2RlZmF1bHQ6c3dpdGNoKG4pe2Nhc2UtMTpzd2l0Y2gocil7Y2FzZSAwOmk9em9bbF0scz1ub1tsXSxhPXJvW2xdLHU9aW9bbF07YnJlYWs7ZGVmYXVsdDppPWpvW2xdLHM9b29bbF0sYT1zb1tsXSx1PWFvW2xdfWJyZWFrO2Nhc2UgMTpzd2l0Y2gocil7Y2FzZSAwOmk9R29bbF0scz1nb1tsXSxhPXlvW2xdLHU9dm9bbF07YnJlYWs7ZGVmYXVsdDppPWtvW2xdLHM9X29bbF0sYT1tb1tsXSx1PXhvW2xdfX19aWYobz10LmVkZ2VzLmluZGV4T2YoaSksdm9pZCAwPT09dC5lZGdlc1tvXSlyZXR1cm4gbnVsbDtzd2l0Y2goZnVuY3Rpb24odCxlKXtkZWxldGUgdC5lZGdlc1tlXTtmb3IodmFyIG49ZSsxO248dC5lZGdlcy5sZW5ndGg7bisrKXQuZWRnZXNbbi0xXT10LmVkZ2VzW25dO3QuZWRnZXMucG9wKCl9KHQsbyksbD10LmN2YWxfcmVhbCxpKXtjYXNlIDA6bCZlbz8oZT10LnRvcGxlZnQsbj0xKTooZT0xLG49dC5yaWdodHRvcCk7YnJlYWs7Y2FzZSAxOjQmbD8oZT0xLG49dC5yaWdodGJvdHRvbSk6KGU9dC50b3BsZWZ0LG49MSk7YnJlYWs7Y2FzZSAyOjQmbD8oZT10LnRvcGxlZnQsbj0xKTooZT10LmJvdHRvbXJpZ2h0LG49MCk7YnJlYWs7Y2FzZSAzOjEmbD8oZT10LmJvdHRvbWxlZnQsbj0wKTooZT10LnRvcGxlZnQsbj0xKTticmVhaztjYXNlIDQ6bCZlbz8oZT10LnRvcHJpZ2h0LG49MSk6KGU9MSxuPXQucmlnaHR0b3ApO2JyZWFrO2Nhc2UgNTo0Jmw/KGU9MSxuPXQucmlnaHRib3R0b20pOihlPXQudG9wcmlnaHQsbj0xKTticmVhaztjYXNlIDY6NCZsPyhlPXQudG9wcmlnaHQsbj0xKTooZT10LmJvdHRvbXJpZ2h0LG49MCk7YnJlYWs7Y2FzZSA3OjEmbD8oZT10LmJvdHRvbWxlZnQsbj0wKTooZT10LnRvcHJpZ2h0LG49MSk7YnJlYWs7Y2FzZSA4OjQmbD8oZT0xLG49dC5yaWdodHRvcCk6KGU9dC5ib3R0b21yaWdodCxuPTApO2JyZWFrO2Nhc2UgOToxJmw/KGU9dC5ib3R0b21sZWZ0LG49MCk6KGU9MSxuPXQucmlnaHR0b3ApO2JyZWFrO2Nhc2UgMTA6MSZsPyhlPTEsbj10LnJpZ2h0dG9wKTooZT0wLG49dC5sZWZ0Ym90dG9tKTticmVhaztjYXNlIDExOmwmdG8/KGU9MCxuPXQubGVmdHRvcCk6KGU9MSxuPXQucmlnaHR0b3ApO2JyZWFrO2Nhc2UgMTI6NCZsPyhlPTEsbj10LnJpZ2h0Ym90dG9tKTooZT10LmJvdHRvbXJpZ2h0LG49MCk7YnJlYWs7Y2FzZSAxMzoxJmw/KGU9dC5ib3R0b21sZWZ0LG49MCk6KGU9MSxuPXQucmlnaHRib3R0b20pO2JyZWFrO2Nhc2UgMTQ6MSZsPyhlPTEsbj10LnJpZ2h0Ym90dG9tKTooZT0wLG49dC5sZWZ0Ym90dG9tKTticmVhaztjYXNlIDE1OmwmdG8/KGU9MCxuPXQubGVmdHRvcCk6KGU9MSxuPXQucmlnaHRib3R0b20pO2JyZWFrO2Nhc2UgMTY6NCZsPyhlPTAsbj10LmxlZnRib3R0b20pOihlPXQuYm90dG9tcmlnaHQsbj0wKTticmVhaztjYXNlIDE3OmwmdG8/KGU9MCxuPXQubGVmdHRvcCk6KGU9dC5ib3R0b21yaWdodCxuPTApO2JyZWFrO2Nhc2UgMTg6MSZsPyhlPXQuYm90dG9tbGVmdCxuPTApOihlPTAsbj10LmxlZnRib3R0b20pO2JyZWFrO2Nhc2UgMTk6bCZ0bz8oZT0wLG49dC5sZWZ0dG9wKTooZT10LmJvdHRvbWxlZnQsbj0wKTticmVhaztjYXNlIDIwOmwmdG8/KGU9MCxuPXQubGVmdGJvdHRvbSk6KGU9dC50b3BsZWZ0LG49MSk7YnJlYWs7Y2FzZSAyMTpsJmVvPyhlPXQudG9wcmlnaHQsbj0xKTooZT0wLG49dC5sZWZ0Ym90dG9tKTticmVhaztjYXNlIDIyOmwmdG8/KGU9MCxuPXQubGVmdHRvcCk6KGU9dC50b3BsZWZ0LG49MSk7YnJlYWs7Y2FzZSAyMzpsJmVvPyhlPXQudG9wcmlnaHQsbj0xKTooZT0wLG49dC5sZWZ0dG9wKTticmVhaztkZWZhdWx0OnJldHVybiBjb25zb2xlLmxvZygiTWFyY2hpbmdTcXVhcmVzSlMtaXNvQmFuZHM6IGVkZ2UgaW5kZXggb3V0IG9mIHJhbmdlISIpLGNvbnNvbGUubG9nKHQpLG51bGx9cmV0dXJuIHZvaWQgMCE9PWUmJnZvaWQgMCE9PW4mJnZvaWQgMCE9PXMmJnZvaWQgMCE9PWEmJnZvaWQgMCE9PXV8fChjb25zb2xlLmxvZygiTWFyY2hpbmdTcXVhcmVzSlMtaXNvQmFuZHM6IHVuZGVmaW5lZCB2YWx1ZSEiKSxjb25zb2xlLmxvZyh0KSxjb25zb2xlLmxvZyhlKyIgIituKyIgIitzKyIgIithKyIgIit1KSkse3A6W2Usbl0seDpzLHk6YSxvOnV9fWZ1bmN0aW9uIEpvKHQpe3ZhciBlPVtdLG49W107dC5mb3JFYWNoKChmdW5jdGlvbih0KXt2YXIgcj1qcihsKFt0XSkpO24ucHVzaChyKSxlLnB1c2goe3Jpbmc6dCxhcmVhOnJ9KX0pKSxuLnNvcnQoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGUtdH0pKTt2YXIgcj1bXTtyZXR1cm4gbi5mb3JFYWNoKChmdW5jdGlvbih0KXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKylpZihlW25dLmFyZWE9PT10KXtyLnB1c2goZVtuXS5yaW5nKSxlLnNwbGljZShuLDEpO2JyZWFrfX0pKSxyfWZ1bmN0aW9uIFpvKHQpe2Zvcih2YXIgZT10Lm1hcCgoZnVuY3Rpb24odCl7cmV0dXJue2xyQ29vcmRpbmF0ZXM6dCxncm91cGVkOiExfX0pKSxuPVtdOyFRbyhlKTspZm9yKHZhciByPTA7cjxlLmxlbmd0aDtyKyspaWYoIWVbcl0uZ3JvdXBlZCl7dmFyIGk9W107aS5wdXNoKGVbcl0ubHJDb29yZGluYXRlcyksZVtyXS5ncm91cGVkPSEwO2Zvcih2YXIgbz1sKFtlW3JdLmxyQ29vcmRpbmF0ZXNdKSxzPXIrMTtzPGUubGVuZ3RoO3MrKyl7aWYoIWVbc10uZ3JvdXBlZClLbyhsKFtlW3NdLmxyQ29vcmRpbmF0ZXNdKSxvKSYmKGkucHVzaChlW3NdLmxyQ29vcmRpbmF0ZXMpLGVbc10uZ3JvdXBlZD0hMCl9bi5wdXNoKGkpfXJldHVybiBufWZ1bmN0aW9uIEtvKHQsZSl7Zm9yKHZhciBuPWJuKHQpLHI9MDtyPG4uZmVhdHVyZXMubGVuZ3RoO3IrKylpZigheWUobi5mZWF0dXJlc1tyXSxlKSlyZXR1cm4hMTtyZXR1cm4hMH1mdW5jdGlvbiBRbyh0KXtmb3IodmFyIGU9MDtlPHQubGVuZ3RoO2UrKylpZighMT09PXRbZV0uZ3JvdXBlZClyZXR1cm4hMTtyZXR1cm4hMH1mdW5jdGlvbiAkbyh0LGUsbil7aWYoIVAobj1ufHx7fSkpdGhyb3cgbmV3IEVycm9yKCJvcHRpb25zIGlzIGludmFsaWQiKTt2YXIgcj1uLnBpdm90LGk9bi5tdXRhdGU7aWYoIXQpdGhyb3cgbmV3IEVycm9yKCJnZW9qc29uIGlzIHJlcXVpcmVkIik7aWYobnVsbD09ZXx8aXNOYU4oZSkpdGhyb3cgbmV3IEVycm9yKCJhbmdsZSBpcyByZXF1aXJlZCIpO3JldHVybiAwPT09ZXx8KHJ8fChyPUVuKHQpKSwhMSE9PWkmJnZvaWQgMCE9PWl8fCh0PUllKHQpKSxSKHQsKGZ1bmN0aW9uKHQpe3ZhciBuPUJpKHIsdCkrZSxpPUFyKHIsdCksbz1RKGppKHIsaSxuKSk7dFswXT1vWzBdLHRbMV09b1sxXX0pKSksdH1mdW5jdGlvbiB0cyh0LGUsbil7aWYoIVAobj1ufHx7fSkpdGhyb3cgbmV3IEVycm9yKCJvcHRpb25zIGlzIGludmFsaWQiKTt2YXIgcj1uLm9yaWdpbixpPW4ubXV0YXRlO2lmKCF0KXRocm93IG5ldyBFcnJvcigiZ2VvanNvbiByZXF1aXJlZCIpO2lmKCJudW1iZXIiIT10eXBlb2YgZXx8MD09PWUpdGhyb3cgbmV3IEVycm9yKCJpbnZhbGlkIGZhY3RvciIpO3ZhciBvPUFycmF5LmlzQXJyYXkocil8fCJvYmplY3QiPT10eXBlb2YgcjtyZXR1cm4hMCE9PWkmJih0PUllKHQpKSwiRmVhdHVyZUNvbGxlY3Rpb24iIT09dC50eXBlfHxvP2VzKHQsZSxyKTooRih0LChmdW5jdGlvbihuLGkpe3QuZmVhdHVyZXNbaV09ZXMobixlLHIpfSkpLHQpfWZ1bmN0aW9uIGVzKHQsZSxuKXt2YXIgcj0iUG9pbnQiPT09aXQodCk7cmV0dXJuIG49ZnVuY3Rpb24odCxlKXtudWxsPT1lJiYoZT0iY2VudHJvaWQiKTtpZihBcnJheS5pc0FycmF5KGUpfHwib2JqZWN0Ij09dHlwZW9mIGUpcmV0dXJuIEsoZSk7dmFyIG49dC5iYm94P3QuYmJveDpaKHQpLHI9blswXSxpPW5bMV0sbz1uWzJdLHM9blszXTtzd2l0Y2goZSl7Y2FzZSJzdyI6Y2FzZSJzb3V0aHdlc3QiOmNhc2Uid2VzdHNvdXRoIjpjYXNlImJvdHRvbWxlZnQiOnJldHVybiBhKFtyLGldKTtjYXNlInNlIjpjYXNlInNvdXRoZWFzdCI6Y2FzZSJlYXN0c291dGgiOmNhc2UiYm90dG9tcmlnaHQiOnJldHVybiBhKFtvLGldKTtjYXNlIm53IjpjYXNlIm5vcnRod2VzdCI6Y2FzZSJ3ZXN0bm9ydGgiOmNhc2UidG9wbGVmdCI6cmV0dXJuIGEoW3Isc10pO2Nhc2UibmUiOmNhc2Uibm9ydGhlYXN0IjpjYXNlImVhc3Rub3J0aCI6Y2FzZSJ0b3ByaWdodCI6cmV0dXJuIGEoW28sc10pO2Nhc2UiY2VudGVyIjpyZXR1cm4geG4odCk7Y2FzZSB2b2lkIDA6Y2FzZSBudWxsOmNhc2UiY2VudHJvaWQiOnJldHVybiBFbih0KTtkZWZhdWx0OnRocm93IG5ldyBFcnJvcigiaW52YWxpZCBvcmlnaW4iKX19KHQsbiksMT09PWV8fHJ8fFIodCwoZnVuY3Rpb24odCl7dmFyIHI9QXIobix0KSxpPUJpKG4sdCksbz1RKGppKG4sciplLGkpKTt0WzBdPW9bMF0sdFsxXT1vWzFdLDM9PT10Lmxlbmd0aCYmKHRbMl0qPWUpfSkpLHR9ZnVuY3Rpb24gbnModCl7dmFyIGU9dFswXSxuPXRbMV07cmV0dXJuW25bMF0tZVswXSxuWzFdLWVbMV1dfWZ1bmN0aW9uIHJzKHQsZSl7cmV0dXJuIHRbMF0qZVsxXS1lWzBdKnRbMV19ZnVuY3Rpb24gaXModCxlKXtyZXR1cm4hZnVuY3Rpb24odCxlKXtyZXR1cm4gMD09PXJzKG5zKHQpLG5zKGUpKX0odCxlKSYmZnVuY3Rpb24odCxlKXt2YXIgbixyLGk9dFswXSxvPW5zKHQpLHM9ZVswXSxhPW5zKGUpLHU9cnMobyxhKTtyZXR1cm4gZnVuY3Rpb24odCxlKXtyZXR1cm5bdFswXStlWzBdLHRbMV0rZVsxXV19KGksZnVuY3Rpb24odCxlKXtyZXR1cm5bdCplWzBdLHQqZVsxXV19KHJzKChyPWksWyhuPXMpWzBdLXJbMF0sblsxXS1yWzFdXSksYSkvdSxvKSl9KHQsZSl9ZnVuY3Rpb24gb3ModCxlLG4pe3ZhciByPVtdLGk9RShlLG4pLG89USh0KSxzPVtdO3JldHVybiBvLmZvckVhY2goKGZ1bmN0aW9uKHQsZSl7aWYoZSE9PW8ubGVuZ3RoLTEpe3ZhciBuPShsPXQsYz1vW2UrMV0saD1pLHA9TWF0aC5zcXJ0KChsWzBdLWNbMF0pKihsWzBdLWNbMF0pKyhsWzFdLWNbMV0pKihsWzFdLWNbMV0pKSxmPWxbMF0raCooY1sxXS1sWzFdKS9wLGc9Y1swXStoKihjWzFdLWxbMV0pL3AsZD1sWzFdK2gqKGxbMF0tY1swXSkvcCx5PWNbMV0raCoobFswXS1jWzBdKS9wLFtbZixkXSxbZyx5XV0pO2lmKHIucHVzaChuKSxlPjApe3ZhciBhPXJbZS0xXSx1PWlzKG4sYSk7ITEhPT11JiYoYVsxXT11LG5bMF09dSkscy5wdXNoKGFbMF0pLGU9PT1vLmxlbmd0aC0yJiYocy5wdXNoKG5bMF0pLHMucHVzaChuWzFdKSl9Mj09PW8ubGVuZ3RoJiYocy5wdXNoKG5bMF0pLHMucHVzaChuWzFdKSl9dmFyIGwsYyxoLHAsZixnLGQseX0pKSxoKHMsdC5wcm9wZXJ0aWVzKX1mdW5jdGlvbiBzcyh0LGUsbil7dmFyIHI9ZVswXS10WzBdLGk9ZVsxXS10WzFdLG89blswXS1lWzBdO3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4odD4wKS0odDwwKXx8K3R9KHIqKG5bMV0tZVsxXSktbyppKX1mdW5jdGlvbiBhcyh0LGUpe3JldHVybiBlLmdlb21ldHJ5LmNvb3JkaW5hdGVzWzBdLmV2ZXJ5KChmdW5jdGlvbihlKXtyZXR1cm4geWUoYShlKSx0KX0pKX1Vb1sxXT1Vb1sxNjldPUNvLFVvWzRdPVVvWzE2Nl09UG8sVW9bMTZdPVVvWzE1NF09TW8sVW9bNjRdPVVvWzEwNl09TG8sVW9bMTY4XT1Vb1syXT1PbyxVb1sxNjJdPVVvWzhdPVJvLFVvWzEzOF09VW9bMzJdPVRvLFVvWzQyXT1Vb1sxMjhdPUFvLFVvWzVdPVVvWzE2NV09ZnVuY3Rpb24odCl7cmV0dXJuW1swLDBdLFswLHQubGVmdGJvdHRvbV0sWzEsdC5yaWdodGJvdHRvbV0sWzEsMF1dfSxVb1syMF09VW9bMTUwXT1mdW5jdGlvbih0KXtyZXR1cm5bWzEsMF0sW3QuYm90dG9tcmlnaHQsMF0sW3QudG9wcmlnaHQsMV0sWzEsMV1dfSxVb1s4MF09VW9bOTBdPWZ1bmN0aW9uKHQpe3JldHVybltbMSwxXSxbMSx0LnJpZ2h0dG9wXSxbMCx0LmxlZnR0b3BdLFswLDFdXX0sVW9bNjVdPVVvWzEwNV09ZnVuY3Rpb24odCl7cmV0dXJuW1t0LmJvdHRvbWxlZnQsMF0sWzAsMF0sWzAsMV0sW3QudG9wbGVmdCwxXV19LFVvWzE2MF09VW9bMTBdPWZ1bmN0aW9uKHQpe3JldHVybltbMSx0LnJpZ2h0dG9wXSxbMSx0LnJpZ2h0Ym90dG9tXSxbMCx0LmxlZnRib3R0b21dLFswLHQubGVmdHRvcF1dfSxVb1sxMzBdPVVvWzQwXT1mdW5jdGlvbih0KXtyZXR1cm5bW3QudG9wbGVmdCwxXSxbdC50b3ByaWdodCwxXSxbdC5ib3R0b21yaWdodCwwXSxbdC5ib3R0b21sZWZ0LDBdXX0sVW9bODVdPWZ1bmN0aW9uKCl7cmV0dXJuW1swLDBdLFswLDFdLFsxLDFdLFsxLDBdXX0sVW9bMTAxXT1Vb1s2OV09ZnVuY3Rpb24odCl7cmV0dXJuW1sxLHQucmlnaHRib3R0b21dLFsxLDBdLFswLDBdLFswLDFdLFt0LnRvcGxlZnQsMV1dfSxVb1sxNDldPVVvWzIxXT1mdW5jdGlvbih0KXtyZXR1cm5bW3QudG9wcmlnaHQsMV0sWzEsMV0sWzEsMF0sWzAsMF0sWzAsdC5sZWZ0Ym90dG9tXV19LFVvWzg2XT1Vb1s4NF09ZnVuY3Rpb24odCl7cmV0dXJuW1sxLDBdLFt0LmJvdHRvbXJpZ2h0LDBdLFswLHQubGVmdHRvcF0sWzAsMV0sWzEsMV1dfSxVb1s4OV09VW9bODFdPWZ1bmN0aW9uKHQpe3JldHVybltbMSwxXSxbMSx0LnJpZ2h0dG9wXSxbdC5ib3R0b21sZWZ0LDBdLFswLDBdLFswLDFdXX0sVW9bOTZdPVVvWzc0XT1mdW5jdGlvbih0KXtyZXR1cm5bWzEsdC5yaWdodHRvcF0sWzEsdC5yaWdodGJvdHRvbV0sWzAsdC5sZWZ0dG9wXSxbMCwxXSxbdC50b3BsZWZ0LDFdXX0sVW9bMjRdPVVvWzE0Nl09ZnVuY3Rpb24odCl7cmV0dXJuW1sxLDFdLFsxLHQucmlnaHR0b3BdLFt0LmJvdHRvbXJpZ2h0LDBdLFt0LmJvdHRvbWxlZnQsMF0sW3QudG9wcmlnaHQsMV1dfSxVb1s2XT1Vb1sxNjRdPWZ1bmN0aW9uKHQpe3JldHVybltbMSx0LnJpZ2h0Ym90dG9tXSxbMSwwXSxbdC5ib3R0b21yaWdodCwwXSxbMCx0LmxlZnRib3R0b21dLFswLHQubGVmdHRvcF1dfSxVb1sxMjldPVVvWzQxXT1mdW5jdGlvbih0KXtyZXR1cm5bW3QudG9wcmlnaHQsMV0sW3QuYm90dG9tbGVmdCwwXSxbMCwwXSxbMCx0LmxlZnRib3R0b21dLFt0LnRvcGxlZnQsMV1dfSxVb1s2Nl09VW9bMTA0XT1mdW5jdGlvbih0KXtyZXR1cm5bW3QuYm90dG9tcmlnaHQsMF0sW3QuYm90dG9tbGVmdCwwXSxbMCx0LmxlZnR0b3BdLFswLDFdLFt0LnRvcGxlZnQsMV1dfSxVb1sxNDRdPVVvWzI2XT1mdW5jdGlvbih0KXtyZXR1cm5bWzEsMV0sWzEsdC5yaWdodHRvcF0sWzAsdC5sZWZ0Ym90dG9tXSxbMCx0LmxlZnR0b3BdLFt0LnRvcHJpZ2h0LDFdXX0sVW9bMzZdPVVvWzEzNF09ZnVuY3Rpb24odCl7cmV0dXJuW1sxLHQucmlnaHRib3R0b21dLFsxLDBdLFt0LmJvdHRvbXJpZ2h0LDBdLFt0LnRvcGxlZnQsMV0sW3QudG9wcmlnaHQsMV1dfSxVb1s5XT1Vb1sxNjFdPWZ1bmN0aW9uKHQpe3JldHVybltbMSx0LnJpZ2h0dG9wXSxbMSx0LnJpZ2h0Ym90dG9tXSxbdC5ib3R0b21sZWZ0LDBdLFswLDBdLFswLHQubGVmdGJvdHRvbV1dfSxVb1szN109VW9bMTMzXT1mdW5jdGlvbih0KXtyZXR1cm5bWzEsdC5yaWdodGJvdHRvbV0sWzEsMF0sWzAsMF0sWzAsdC5sZWZ0Ym90dG9tXSxbdC50b3BsZWZ0LDFdLFt0LnRvcHJpZ2h0LDFdXX0sVW9bMTQ4XT1Vb1syMl09ZnVuY3Rpb24odCl7cmV0dXJuW1sxLDFdLFsxLDBdLFt0LmJvdHRvbXJpZ2h0LDBdLFswLHQubGVmdGJvdHRvbV0sWzAsdC5sZWZ0dG9wXSxbdC50b3ByaWdodCwxXV19LFVvWzgyXT1Vb1s4OF09ZnVuY3Rpb24odCl7cmV0dXJuW1sxLDFdLFsxLHQucmlnaHR0b3BdLFt0LmJvdHRvbXJpZ2h0LDBdLFt0LmJvdHRvbWxlZnQsMF0sWzAsdC5sZWZ0dG9wXSxbMCwxXV19LFVvWzczXT1Vb1s5N109ZnVuY3Rpb24odCl7cmV0dXJuW1sxLHQucmlnaHR0b3BdLFsxLHQucmlnaHRib3R0b21dLFt0LmJvdHRvbWxlZnQsMF0sWzAsMF0sWzAsMV0sW3QudG9wbGVmdCwxXV19LFVvWzE0NV09VW9bMjVdPWZ1bmN0aW9uKHQpe3JldHVybltbMSwxXSxbMSx0LnJpZ2h0dG9wXSxbdC5ib3R0b21sZWZ0LDBdLFswLDBdLFswLHQubGVmdGJvdHRvbV0sW3QudG9wcmlnaHQsMV1dfSxVb1s3MF09VW9bMTAwXT1mdW5jdGlvbih0KXtyZXR1cm5bWzEsdC5yaWdodGJvdHRvbV0sWzEsMF0sW3QuYm90dG9tcmlnaHQsMF0sWzAsdC5sZWZ0dG9wXSxbMCwxXSxbdC50b3BsZWZ0LDFdXX0sVW9bMzRdPWZ1bmN0aW9uKHQpe3JldHVybltBbyh0KSxSbyh0KV19LFVvWzM1XT1mdW5jdGlvbih0KXtyZXR1cm5bWzEsdC5yaWdodHRvcF0sWzEsdC5yaWdodGJvdHRvbV0sW3QuYm90dG9tcmlnaHQsMF0sW3QuYm90dG9tbGVmdCwwXSxbMCx0LmxlZnRib3R0b21dLFswLHQubGVmdHRvcF0sW3QudG9wbGVmdCwxXSxbdC50b3ByaWdodCwxXV19LFVvWzEzNl09ZnVuY3Rpb24odCl7cmV0dXJuW1RvKHQpLE9vKHQpXX0sVW9bMTUzXT1mdW5jdGlvbih0KXtyZXR1cm5bTW8odCksQ28odCldfSxVb1sxMDJdPWZ1bmN0aW9uKHQpe3JldHVybltQbyh0KSxMbyh0KV19LFVvWzE1NV09ZnVuY3Rpb24odCl7cmV0dXJuW1sxLDFdLFsxLHQucmlnaHR0b3BdLFt0LmJvdHRvbWxlZnQsMF0sWzAsMF0sWzAsdC5sZWZ0Ym90dG9tXSxbdC50b3ByaWdodCwxXV19LFVvWzEwM109ZnVuY3Rpb24odCl7cmV0dXJuW1sxLHQucmlnaHRib3R0b21dLFsxLDBdLFt0LmJvdHRvbXJpZ2h0LDBdLFswLHQubGVmdHRvcF0sWzAsMV0sW3QudG9wbGVmdCwxXV19LFVvWzE1Ml09ZnVuY3Rpb24odCl7cmV0dXJuW01vKHQpLE9vKHQpXX0sVW9bMTU2XT1mdW5jdGlvbih0KXtyZXR1cm5bWzEsMV0sWzEsdC5yaWdodHRvcF0sW3QuYm90dG9tcmlnaHQsMF0sW3QuYm90dG9tbGVmdCwwXSxbMCx0LmxlZnRib3R0b21dLFswLHQubGVmdHRvcF0sW3QudG9wcmlnaHQsMV1dfSxVb1sxMzddPWZ1bmN0aW9uKHQpe3JldHVybltUbyh0KSxDbyh0KV19LFVvWzEzOV09ZnVuY3Rpb24odCl7cmV0dXJuW1sxLHQucmlnaHR0b3BdLFsxLHQucmlnaHRib3R0b21dLFt0LmJvdHRvbWxlZnQsMF0sWzAsMF0sWzAsdC5sZWZ0Ym90dG9tXSxbdC50b3BsZWZ0LDFdLFt0LnRvcHJpZ2h0LDFdXX0sVW9bOThdPWZ1bmN0aW9uKHQpe3JldHVybltSbyh0KSxMbyh0KV19LFVvWzk5XT1mdW5jdGlvbih0KXtyZXR1cm5bWzEsdC5yaWdodHRvcF0sWzEsdC5yaWdodGJvdHRvbV0sW3QuYm90dG9tcmlnaHQsMF0sW3QuYm90dG9tbGVmdCwwXSxbMCx0LmxlZnR0b3BdLFswLDFdLFt0LnRvcGxlZnQsMV1dfSxVb1szOF09ZnVuY3Rpb24odCl7cmV0dXJuW1BvKHQpLEFvKHQpXX0sVW9bMzldPWZ1bmN0aW9uKHQpe3JldHVybltbMSx0LnJpZ2h0Ym90dG9tXSxbMSwwXSxbdC5ib3R0b21yaWdodCwwXSxbMCx0LmxlZnRib3R0b21dLFswLHQubGVmdHRvcF0sW3QudG9wbGVmdCwxXSxbdC50b3ByaWdodCwxXV19O3ZhciB1cz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSl7dGhpcy5pZD10LmJ1aWxkSWQoZSksdGhpcy5jb29yZGluYXRlcz1lLHRoaXMuaW5uZXJFZGdlcz1bXSx0aGlzLm91dGVyRWRnZXM9W10sdGhpcy5vdXRlckVkZ2VzU29ydGVkPSExfXJldHVybiB0LmJ1aWxkSWQ9ZnVuY3Rpb24odCl7cmV0dXJuIHQuam9pbigiLCIpfSx0LnByb3RvdHlwZS5yZW1vdmVJbm5lckVkZ2U9ZnVuY3Rpb24odCl7dGhpcy5pbm5lckVkZ2VzPXRoaXMuaW5uZXJFZGdlcy5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmZyb20uaWQhPT10LmZyb20uaWR9KSl9LHQucHJvdG90eXBlLnJlbW92ZU91dGVyRWRnZT1mdW5jdGlvbih0KXt0aGlzLm91dGVyRWRnZXM9dGhpcy5vdXRlckVkZ2VzLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGUudG8uaWQhPT10LnRvLmlkfSkpfSx0LnByb3RvdHlwZS5hZGRPdXRlckVkZ2U9ZnVuY3Rpb24odCl7dGhpcy5vdXRlckVkZ2VzLnB1c2godCksdGhpcy5vdXRlckVkZ2VzU29ydGVkPSExfSx0LnByb3RvdHlwZS5zb3J0T3V0ZXJFZGdlcz1mdW5jdGlvbigpe3ZhciB0PXRoaXM7dGhpcy5vdXRlckVkZ2VzU29ydGVkfHwodGhpcy5vdXRlckVkZ2VzLnNvcnQoKGZ1bmN0aW9uKGUsbil7dmFyIHI9ZS50byxpPW4udG87aWYoci5jb29yZGluYXRlc1swXS10LmNvb3JkaW5hdGVzWzBdPj0wJiZpLmNvb3JkaW5hdGVzWzBdLXQuY29vcmRpbmF0ZXNbMF08MClyZXR1cm4gMTtpZihyLmNvb3JkaW5hdGVzWzBdLXQuY29vcmRpbmF0ZXNbMF08MCYmaS5jb29yZGluYXRlc1swXS10LmNvb3JkaW5hdGVzWzBdPj0wKXJldHVybi0xO2lmKHIuY29vcmRpbmF0ZXNbMF0tdC5jb29yZGluYXRlc1swXT09MCYmaS5jb29yZGluYXRlc1swXS10LmNvb3JkaW5hdGVzWzBdPT0wKXJldHVybiByLmNvb3JkaW5hdGVzWzFdLXQuY29vcmRpbmF0ZXNbMV0+PTB8fGkuY29vcmRpbmF0ZXNbMV0tdC5jb29yZGluYXRlc1sxXT49MD9yLmNvb3JkaW5hdGVzWzFdLWkuY29vcmRpbmF0ZXNbMV06aS5jb29yZGluYXRlc1sxXS1yLmNvb3JkaW5hdGVzWzFdO3ZhciBvPXNzKHQuY29vcmRpbmF0ZXMsci5jb29yZGluYXRlcyxpLmNvb3JkaW5hdGVzKTtyZXR1cm4gbzwwPzE6bz4wPy0xOk1hdGgucG93KHIuY29vcmRpbmF0ZXNbMF0tdC5jb29yZGluYXRlc1swXSwyKStNYXRoLnBvdyhyLmNvb3JkaW5hdGVzWzFdLXQuY29vcmRpbmF0ZXNbMV0sMiktKE1hdGgucG93KGkuY29vcmRpbmF0ZXNbMF0tdC5jb29yZGluYXRlc1swXSwyKStNYXRoLnBvdyhpLmNvb3JkaW5hdGVzWzFdLXQuY29vcmRpbmF0ZXNbMV0sMikpfSkpLHRoaXMub3V0ZXJFZGdlc1NvcnRlZD0hMCl9LHQucHJvdG90eXBlLmdldE91dGVyRWRnZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zb3J0T3V0ZXJFZGdlcygpLHRoaXMub3V0ZXJFZGdlc30sdC5wcm90b3R5cGUuZ2V0T3V0ZXJFZGdlPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnNvcnRPdXRlckVkZ2VzKCksdGhpcy5vdXRlckVkZ2VzW3RdfSx0LnByb3RvdHlwZS5hZGRJbm5lckVkZ2U9ZnVuY3Rpb24odCl7dGhpcy5pbm5lckVkZ2VzLnB1c2godCl9LHR9KCksbHM9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7dGhpcy5mcm9tPXQsdGhpcy50bz1lLHRoaXMubmV4dD12b2lkIDAsdGhpcy5sYWJlbD12b2lkIDAsdGhpcy5zeW1ldHJpYz12b2lkIDAsdGhpcy5yaW5nPXZvaWQgMCx0aGlzLmZyb20uYWRkT3V0ZXJFZGdlKHRoaXMpLHRoaXMudG8uYWRkSW5uZXJFZGdlKHRoaXMpfXJldHVybiB0LnByb3RvdHlwZS5nZXRTeW1ldHJpYz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnN5bWV0cmljfHwodGhpcy5zeW1ldHJpYz1uZXcgdCh0aGlzLnRvLHRoaXMuZnJvbSksdGhpcy5zeW1ldHJpYy5zeW1ldHJpYz10aGlzKSx0aGlzLnN5bWV0cmljfSx0LnByb3RvdHlwZS5kZWxldGVFZGdlPWZ1bmN0aW9uKCl7dGhpcy5mcm9tLnJlbW92ZU91dGVyRWRnZSh0aGlzKSx0aGlzLnRvLnJlbW92ZUlubmVyRWRnZSh0aGlzKX0sdC5wcm90b3R5cGUuaXNFcXVhbD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5mcm9tLmlkPT09dC5mcm9tLmlkJiZ0aGlzLnRvLmlkPT09dC50by5pZH0sdC5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4iRWRnZSB7ICIrdGhpcy5mcm9tLmlkKyIgLT4gIit0aGlzLnRvLmlkKyIgfSJ9LHQucHJvdG90eXBlLnRvTGluZVN0cmluZz1mdW5jdGlvbigpe3JldHVybiBoKFt0aGlzLmZyb20uY29vcmRpbmF0ZXMsdGhpcy50by5jb29yZGluYXRlc10pfSx0LnByb3RvdHlwZS5jb21wYXJlVG89ZnVuY3Rpb24odCl7cmV0dXJuIHNzKHQuZnJvbS5jb29yZGluYXRlcyx0LnRvLmNvb3JkaW5hdGVzLHRoaXMudG8uY29vcmRpbmF0ZXMpfSx0fSgpLGNzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe3RoaXMuZWRnZXM9W10sdGhpcy5wb2x5Z29uPXZvaWQgMCx0aGlzLmVudmVsb3BlPXZvaWQgMH1yZXR1cm4gdC5wcm90b3R5cGUucHVzaD1mdW5jdGlvbih0KXt0aGlzLmVkZ2VzLnB1c2godCksdGhpcy5wb2x5Z29uPXRoaXMuZW52ZWxvcGU9dm9pZCAwfSx0LnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZWRnZXNbdF19LE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSwibGVuZ3RoIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWRnZXMubGVuZ3RofSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLHQucHJvdG90eXBlLmZvckVhY2g9ZnVuY3Rpb24odCl7dGhpcy5lZGdlcy5mb3JFYWNoKHQpfSx0LnByb3RvdHlwZS5tYXA9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZWRnZXMubWFwKHQpfSx0LnByb3RvdHlwZS5zb21lPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmVkZ2VzLnNvbWUodCl9LHQucHJvdG90eXBlLmlzVmFsaWQ9ZnVuY3Rpb24oKXtyZXR1cm4hMH0sdC5wcm90b3R5cGUuaXNIb2xlPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxlPXRoaXMuZWRnZXMucmVkdWNlKChmdW5jdGlvbihlLG4scil7cmV0dXJuIG4uZnJvbS5jb29yZGluYXRlc1sxXT50LmVkZ2VzW2VdLmZyb20uY29vcmRpbmF0ZXNbMV0mJihlPXIpLGV9KSwwKSxuPSgwPT09ZT90aGlzLmxlbmd0aDplKS0xLHI9KGUrMSkldGhpcy5sZW5ndGgsaT1zcyh0aGlzLmVkZ2VzW25dLmZyb20uY29vcmRpbmF0ZXMsdGhpcy5lZGdlc1tlXS5mcm9tLmNvb3JkaW5hdGVzLHRoaXMuZWRnZXNbcl0uZnJvbS5jb29yZGluYXRlcyk7cmV0dXJuIDA9PT1pP3RoaXMuZWRnZXNbbl0uZnJvbS5jb29yZGluYXRlc1swXT50aGlzLmVkZ2VzW3JdLmZyb20uY29vcmRpbmF0ZXNbMF06aT4wfSx0LnByb3RvdHlwZS50b011bHRpUG9pbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gZCh0aGlzLmVkZ2VzLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHQuZnJvbS5jb29yZGluYXRlc30pKSl9LHQucHJvdG90eXBlLnRvUG9seWdvbj1mdW5jdGlvbigpe2lmKHRoaXMucG9seWdvbilyZXR1cm4gdGhpcy5wb2x5Z29uO3ZhciB0PXRoaXMuZWRnZXMubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdC5mcm9tLmNvb3JkaW5hdGVzfSkpO3JldHVybiB0LnB1c2godGhpcy5lZGdlc1swXS5mcm9tLmNvb3JkaW5hdGVzKSx0aGlzLnBvbHlnb249bChbdF0pfSx0LnByb3RvdHlwZS5nZXRFbnZlbG9wZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmVudmVsb3BlP3RoaXMuZW52ZWxvcGU6dGhpcy5lbnZlbG9wZT1kbih0aGlzLnRvUG9seWdvbigpKX0sdC5maW5kRWRnZVJpbmdDb250YWluaW5nPWZ1bmN0aW9uKHQsZSl7dmFyIG4scixpPXQuZ2V0RW52ZWxvcGUoKTtyZXR1cm4gZS5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgbyxzLHUsbCxjLGgscD1lLmdldEVudmVsb3BlKCk7aWYoKHImJihuPXIuZ2V0RW52ZWxvcGUoKSkscz1pLHU9KG89cCkuZ2VvbWV0cnkuY29vcmRpbmF0ZXNbMF0ubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdFswXX0pKSxsPW8uZ2VvbWV0cnkuY29vcmRpbmF0ZXNbMF0ubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdFsxXX0pKSxjPXMuZ2VvbWV0cnkuY29vcmRpbmF0ZXNbMF0ubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdFswXX0pKSxoPXMuZ2VvbWV0cnkuY29vcmRpbmF0ZXNbMF0ubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdFsxXX0pKSxNYXRoLm1heC5hcHBseShudWxsLHUpIT09TWF0aC5tYXguYXBwbHkobnVsbCxjKXx8TWF0aC5tYXguYXBwbHkobnVsbCxsKSE9PU1hdGgubWF4LmFwcGx5KG51bGwsaCl8fE1hdGgubWluLmFwcGx5KG51bGwsdSkhPT1NYXRoLm1pbi5hcHBseShudWxsLGMpfHxNYXRoLm1pbi5hcHBseShudWxsLGwpIT09TWF0aC5taW4uYXBwbHkobnVsbCxoKSkmJmFzKHAsaSkpe2Zvcih2YXIgZj10Lm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHQuZnJvbS5jb29yZGluYXRlc30pKSxnPXZvaWQgMCxkPWZ1bmN0aW9uKHQpe2Uuc29tZSgoZnVuY3Rpb24oZSl7cmV0dXJuIG49dCxyPWUuZnJvbS5jb29yZGluYXRlcyxuWzBdPT09clswXSYmblsxXT09PXJbMV07dmFyIG4scn0pKXx8KGc9dCl9LHk9MCx2PWY7eTx2Lmxlbmd0aDt5Kyspe2Qodlt5XSl9ZyYmZS5pbnNpZGUoYShnKSkmJihyJiYhYXMobixwKXx8KHI9ZSkpfX0pKSxyfSx0LnByb3RvdHlwZS5pbnNpZGU9ZnVuY3Rpb24odCl7cmV0dXJuIHllKHQsdGhpcy50b1BvbHlnb24oKSl9LHR9KCk7dmFyIGhzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe3RoaXMuZWRnZXM9W10sdGhpcy5ub2Rlcz17fX1yZXR1cm4gdC5mcm9tR2VvSnNvbj1mdW5jdGlvbihlKXshZnVuY3Rpb24odCl7aWYoIXQpdGhyb3cgbmV3IEVycm9yKCJObyBnZW9qc29uIHBhc3NlZCIpO2lmKCJGZWF0dXJlQ29sbGVjdGlvbiIhPT10LnR5cGUmJiJHZW9tZXRyeUNvbGxlY3Rpb24iIT09dC50eXBlJiYiTXVsdGlMaW5lU3RyaW5nIiE9PXQudHlwZSYmIkxpbmVTdHJpbmciIT09dC50eXBlJiYiRmVhdHVyZSIhPT10LnR5cGUpdGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkIGlucHV0IHR5cGUgJyIrdC50eXBlKyInLiBHZW9qc29uIG11c3QgYmUgRmVhdHVyZUNvbGxlY3Rpb24sIEdlb21ldHJ5Q29sbGVjdGlvbiwgTGluZVN0cmluZywgTXVsdGlMaW5lU3RyaW5nIG9yIEZlYXR1cmUiKX0oZSk7dmFyIG49bmV3IHQ7cmV0dXJuIHooZSwoZnVuY3Rpb24odCl7ZXQodCwiTGluZVN0cmluZyIsIkdyYXBoOjpmcm9tR2VvSnNvbiIpLFQodCwoZnVuY3Rpb24odCxlKXtpZih0KXt2YXIgcj1uLmdldE5vZGUodCksaT1uLmdldE5vZGUoZSk7bi5hZGRFZGdlKHIsaSl9cmV0dXJuIGV9KSl9KSksbn0sdC5wcm90b3R5cGUuZ2V0Tm9kZT1mdW5jdGlvbih0KXt2YXIgZT11cy5idWlsZElkKHQpLG49dGhpcy5ub2Rlc1tlXTtyZXR1cm4gbnx8KG49dGhpcy5ub2Rlc1tlXT1uZXcgdXModCkpLG59LHQucHJvdG90eXBlLmFkZEVkZ2U9ZnVuY3Rpb24odCxlKXt2YXIgbj1uZXcgbHModCxlKSxyPW4uZ2V0U3ltZXRyaWMoKTt0aGlzLmVkZ2VzLnB1c2gobiksdGhpcy5lZGdlcy5wdXNoKHIpfSx0LnByb3RvdHlwZS5kZWxldGVEYW5nbGVzPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztPYmplY3Qua2V5cyh0aGlzLm5vZGVzKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiB0Lm5vZGVzW2VdfSkpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3JldHVybiB0Ll9yZW1vdmVJZkRhbmdsZShlKX0pKX0sdC5wcm90b3R5cGUuX3JlbW92ZUlmRGFuZ2xlPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7aWYodC5pbm5lckVkZ2VzLmxlbmd0aDw9MSl7dmFyIG49dC5nZXRPdXRlckVkZ2VzKCkubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdC50b30pKTt0aGlzLnJlbW92ZU5vZGUodCksbi5mb3JFYWNoKChmdW5jdGlvbih0KXtyZXR1cm4gZS5fcmVtb3ZlSWZEYW5nbGUodCl9KSl9fSx0LnByb3RvdHlwZS5kZWxldGVDdXRFZGdlcz1mdW5jdGlvbigpe3ZhciB0PXRoaXM7dGhpcy5fY29tcHV0ZU5leHRDV0VkZ2VzKCksdGhpcy5fZmluZExhYmVsZWRFZGdlUmluZ3MoKSx0aGlzLmVkZ2VzLmZvckVhY2goKGZ1bmN0aW9uKGUpe2UubGFiZWw9PT1lLnN5bWV0cmljLmxhYmVsJiYodC5yZW1vdmVFZGdlKGUuc3ltZXRyaWMpLHQucmVtb3ZlRWRnZShlKSl9KSl9LHQucHJvdG90eXBlLl9jb21wdXRlTmV4dENXRWRnZXM9ZnVuY3Rpb24odCl7dmFyIGU9dGhpczt2b2lkIDA9PT10P09iamVjdC5rZXlzKHRoaXMubm9kZXMpLmZvckVhY2goKGZ1bmN0aW9uKHQpe3JldHVybiBlLl9jb21wdXRlTmV4dENXRWRnZXMoZS5ub2Rlc1t0XSl9KSk6dC5nZXRPdXRlckVkZ2VzKCkuZm9yRWFjaCgoZnVuY3Rpb24oZSxuKXt0LmdldE91dGVyRWRnZSgoMD09PW4/dC5nZXRPdXRlckVkZ2VzKCkubGVuZ3RoOm4pLTEpLnN5bWV0cmljLm5leHQ9ZX0pKX0sdC5wcm90b3R5cGUuX2NvbXB1dGVOZXh0Q0NXRWRnZXM9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG4scixpPXQuZ2V0T3V0ZXJFZGdlcygpLG89aS5sZW5ndGgtMTtvPj0wOy0tbyl7dmFyIHM9aVtvXSxhPXMuc3ltZXRyaWMsdT12b2lkIDAsbD12b2lkIDA7cy5sYWJlbD09PWUmJih1PXMpLGEubGFiZWw9PT1lJiYobD1hKSx1JiZsJiYobCYmKHI9bCksdSYmKHImJihyLm5leHQ9dSxyPXZvaWQgMCksbnx8KG49dSkpKX1yJiYoci5uZXh0PW4pfSx0LnByb3RvdHlwZS5fZmluZExhYmVsZWRFZGdlUmluZ3M9ZnVuY3Rpb24oKXt2YXIgdD1bXSxlPTA7cmV0dXJuIHRoaXMuZWRnZXMuZm9yRWFjaCgoZnVuY3Rpb24obil7aWYoIShuLmxhYmVsPj0wKSl7dC5wdXNoKG4pO3ZhciByPW47ZG97ci5sYWJlbD1lLHI9ci5uZXh0fXdoaWxlKCFuLmlzRXF1YWwocikpO2UrK319KSksdH0sdC5wcm90b3R5cGUuZ2V0RWRnZVJpbmdzPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpczt0aGlzLl9jb21wdXRlTmV4dENXRWRnZXMoKSx0aGlzLmVkZ2VzLmZvckVhY2goKGZ1bmN0aW9uKHQpe3QubGFiZWw9dm9pZCAwfSkpLHRoaXMuX2ZpbmRMYWJlbGVkRWRnZVJpbmdzKCkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dC5fZmluZEludGVyc2VjdGlvbk5vZGVzKGUpLmZvckVhY2goKGZ1bmN0aW9uKG4pe3QuX2NvbXB1dGVOZXh0Q0NXRWRnZXMobixlLmxhYmVsKX0pKX0pKTt2YXIgZT1bXTtyZXR1cm4gdGhpcy5lZGdlcy5mb3JFYWNoKChmdW5jdGlvbihuKXtuLnJpbmd8fGUucHVzaCh0Ll9maW5kRWRnZVJpbmcobikpfSkpLGV9LHQucHJvdG90eXBlLl9maW5kSW50ZXJzZWN0aW9uTm9kZXM9ZnVuY3Rpb24odCl7dmFyIGU9W10sbj10LHI9ZnVuY3Rpb24oKXt2YXIgcj0wO24uZnJvbS5nZXRPdXRlckVkZ2VzKCkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZS5sYWJlbD09PXQubGFiZWwmJisrcn0pKSxyPjEmJmUucHVzaChuLmZyb20pLG49bi5uZXh0fTtkb3tyKCl9d2hpbGUoIXQuaXNFcXVhbChuKSk7cmV0dXJuIGV9LHQucHJvdG90eXBlLl9maW5kRWRnZVJpbmc9ZnVuY3Rpb24odCl7dmFyIGU9dCxuPW5ldyBjcztkb3tuLnB1c2goZSksZS5yaW5nPW4sZT1lLm5leHR9d2hpbGUoIXQuaXNFcXVhbChlKSk7cmV0dXJuIG59LHQucHJvdG90eXBlLnJlbW92ZU5vZGU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpczt0LmdldE91dGVyRWRnZXMoKS5mb3JFYWNoKChmdW5jdGlvbih0KXtyZXR1cm4gZS5yZW1vdmVFZGdlKHQpfSkpLHQuaW5uZXJFZGdlcy5mb3JFYWNoKChmdW5jdGlvbih0KXtyZXR1cm4gZS5yZW1vdmVFZGdlKHQpfSkpLGRlbGV0ZSB0aGlzLm5vZGVzW3QuaWRdfSx0LnByb3RvdHlwZS5yZW1vdmVFZGdlPWZ1bmN0aW9uKHQpe3RoaXMuZWRnZXM9dGhpcy5lZGdlcy5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiFlLmlzRXF1YWwodCl9KSksdC5kZWxldGVFZGdlKCl9LHR9KCk7ZnVuY3Rpb24gcHModCxlKXt2YXIgbj0hMDtyZXR1cm4geih0LChmdW5jdGlvbih0KXt6KGUsKGZ1bmN0aW9uKGUpe2lmKCExPT09bilyZXR1cm4hMTtuPWZ1bmN0aW9uKHQsZSl7c3dpdGNoKHQudHlwZSl7Y2FzZSJQb2ludCI6c3dpdGNoKGUudHlwZSl7Y2FzZSJQb2ludCI6cmV0dXJuIG49dC5jb29yZGluYXRlcyxyPWUuY29vcmRpbmF0ZXMsIShuWzBdPT09clswXSYmblsxXT09PXJbMV0pO2Nhc2UiTGluZVN0cmluZyI6cmV0dXJuIWZzKGUsdCk7Y2FzZSJQb2x5Z29uIjpyZXR1cm4heWUodCxlKX1icmVhaztjYXNlIkxpbmVTdHJpbmciOnN3aXRjaChlLnR5cGUpe2Nhc2UiUG9pbnQiOnJldHVybiFmcyh0LGUpO2Nhc2UiTGluZVN0cmluZyI6cmV0dXJuIWZ1bmN0aW9uKHQsZSl7aWYoT3IodCxlKS5mZWF0dXJlcy5sZW5ndGg+MClyZXR1cm4hMDtyZXR1cm4hMX0odCxlKTtjYXNlIlBvbHlnb24iOnJldHVybiFncyhlLHQpfWJyZWFrO2Nhc2UiUG9seWdvbiI6c3dpdGNoKGUudHlwZSl7Y2FzZSJQb2ludCI6cmV0dXJuIXllKGUsdCk7Y2FzZSJMaW5lU3RyaW5nIjpyZXR1cm4hZ3ModCxlKTtjYXNlIlBvbHlnb24iOnJldHVybiFmdW5jdGlvbih0LGUpe2Zvcih2YXIgbj0wLHI9dC5jb29yZGluYXRlc1swXTtuPHIubGVuZ3RoO24rKyl7aWYoeWUocltuXSxlKSlyZXR1cm4hMH1mb3IodmFyIGk9MCxvPWUuY29vcmRpbmF0ZXNbMF07aTxvLmxlbmd0aDtpKyspe2lmKHllKG9baV0sdCkpcmV0dXJuITB9aWYoT3IoSWkodCksSWkoZSkpLmZlYXR1cmVzLmxlbmd0aD4wKXJldHVybiEwO3JldHVybiExfShlLHQpfX12YXIgbixyO3JldHVybiExfSh0Lmdlb21ldHJ5LGUuZ2VvbWV0cnkpfSkpfSkpLG59ZnVuY3Rpb24gZnModCxlKXtmb3IodmFyIG49MDtuPHQuY29vcmRpbmF0ZXMubGVuZ3RoLTE7bisrKWlmKGRzKHQuY29vcmRpbmF0ZXNbbl0sdC5jb29yZGluYXRlc1tuKzFdLGUuY29vcmRpbmF0ZXMpKXJldHVybiEwO3JldHVybiExfWZ1bmN0aW9uIGdzKHQsZSl7Zm9yKHZhciBuPTAscj1lLmNvb3JkaW5hdGVzO248ci5sZW5ndGg7bisrKXtpZih5ZShyW25dLHQpKXJldHVybiEwfXJldHVybiBPcihlLElpKHQpKS5mZWF0dXJlcy5sZW5ndGg+MH1mdW5jdGlvbiBkcyh0LGUsbil7dmFyIHI9blswXS10WzBdLGk9blsxXS10WzFdLG89ZVswXS10WzBdLHM9ZVsxXS10WzFdO3JldHVybiAwPT1yKnMtaSpvJiYoTWF0aC5hYnMobyk+PU1hdGguYWJzKHMpP28+MD90WzBdPD1uWzBdJiZuWzBdPD1lWzBdOmVbMF08PW5bMF0mJm5bMF08PXRbMF06cz4wP3RbMV08PW5bMV0mJm5bMV08PWVbMV06ZVsxXTw9blsxXSYmblsxXTw9dFsxXSl9ZnVuY3Rpb24geXModCxlKXtyZXR1cm4hKHRbMF0+ZVswXSkmJighKHRbMl08ZVsyXSkmJighKHRbMV0+ZVsxXSkmJiEodFszXTxlWzNdKSkpfWZ1bmN0aW9uIHZzKHQsZSl7cmV0dXJuIHRbMF09PT1lWzBdJiZ0WzFdPT09ZVsxXX1mdW5jdGlvbiBfcyh0LGUpe3JldHVyblsodFswXStlWzBdKS8yLCh0WzFdK2VbMV0pLzJdfWZ1bmN0aW9uIG1zKHQsZSl7Zm9yKHZhciBuPSExLHI9ITEsaT10LmNvb3JkaW5hdGVzLmxlbmd0aCxvPTA7bzxpJiYhbiYmIXI7KXtmb3IodmFyIHM9MDtzPGUuY29vcmRpbmF0ZXMubGVuZ3RoLTE7cysrKXt2YXIgYT0hMDswIT09cyYmcyE9PWUuY29vcmRpbmF0ZXMubGVuZ3RoLTJ8fChhPSExKSxicyhlLmNvb3JkaW5hdGVzW3NdLGUuY29vcmRpbmF0ZXNbcysxXSx0LmNvb3JkaW5hdGVzW29dLGEpP249ITA6cj0hMH1vKyt9cmV0dXJuIG4mJnJ9ZnVuY3Rpb24geHModCxlKXtyZXR1cm4gT3IodCxOaShlKSkuZmVhdHVyZXMubGVuZ3RoPjB9ZnVuY3Rpb24gRXModCxlKXtmb3IodmFyIG49ITEscj0hMSxpPXQuY29vcmRpbmF0ZXMubGVuZ3RoLG89MDtvPGkmJighbnx8IXIpO28rKyl5ZShhKHQuY29vcmRpbmF0ZXNbb10pLGUpP249ITA6cj0hMDtyZXR1cm4gciYmbn1mdW5jdGlvbiBicyh0LGUsbixyKXt2YXIgaT1uWzBdLXRbMF0sbz1uWzFdLXRbMV0scz1lWzBdLXRbMF0sYT1lWzFdLXRbMV07cmV0dXJuIDA9PWkqYS1vKnMmJihyP01hdGguYWJzKHMpPj1NYXRoLmFicyhhKT9zPjA/dFswXTw9blswXSYmblswXTw9ZVswXTplWzBdPD1uWzBdJiZuWzBdPD10WzBdOmE+MD90WzFdPD1uWzFdJiZuWzFdPD1lWzFdOmVbMV08PW5bMV0mJm5bMV08PXRbMV06TWF0aC5hYnMocyk+PU1hdGguYWJzKGEpP3M+MD90WzBdPG5bMF0mJm5bMF08ZVswXTplWzBdPG5bMF0mJm5bMF08dFswXTphPjA/dFsxXTxuWzFdJiZuWzFdPGVbMV06ZVsxXTxuWzFdJiZuWzFdPHRbMV0pfXZhciB3cz1mdW5jdGlvbih0KXt0aGlzLnByZWNpc2lvbj10JiZ0LnByZWNpc2lvbj90LnByZWNpc2lvbjoxNyx0aGlzLmRpcmVjdGlvbj0hKCF0fHwhdC5kaXJlY3Rpb24pJiZ0LmRpcmVjdGlvbix0aGlzLnBzZXVkb05vZGU9ISghdHx8IXQucHNldWRvTm9kZSkmJnQucHNldWRvTm9kZSx0aGlzLm9iamVjdENvbXBhcmF0b3I9dCYmdC5vYmplY3RDb21wYXJhdG9yP3Qub2JqZWN0Q29tcGFyYXRvcjpTc307ZnVuY3Rpb24gSXModCl7cmV0dXJuIHQuY29vcmRpbmF0ZXMubWFwKChmdW5jdGlvbihlKXtyZXR1cm57dHlwZTp0LnR5cGUucmVwbGFjZSgiTXVsdGkiLCIiKSxjb29yZGluYXRlczplfX0pKX1mdW5jdGlvbiBOcyh0LGUpe3JldHVybiB0Lmhhc093blByb3BlcnR5KCJjb29yZGluYXRlcyIpP3QuY29vcmRpbmF0ZXMubGVuZ3RoPT09ZS5jb29yZGluYXRlcy5sZW5ndGg6dC5sZW5ndGg9PT1lLmxlbmd0aH1mdW5jdGlvbiBTcyh0LGUpe3JldHVybiBGaSh0LGUse3N0cmljdDohMH0pfXdzLnByb3RvdHlwZS5jb21wYXJlPWZ1bmN0aW9uKHQsZSl7aWYodC50eXBlIT09ZS50eXBlfHwhTnModCxlKSlyZXR1cm4hMTtzd2l0Y2godC50eXBlKXtjYXNlIlBvaW50IjpyZXR1cm4gdGhpcy5jb21wYXJlQ29vcmQodC5jb29yZGluYXRlcyxlLmNvb3JkaW5hdGVzKTtjYXNlIkxpbmVTdHJpbmciOnJldHVybiB0aGlzLmNvbXBhcmVMaW5lKHQuY29vcmRpbmF0ZXMsZS5jb29yZGluYXRlcywwLCExKTtjYXNlIlBvbHlnb24iOnJldHVybiB0aGlzLmNvbXBhcmVQb2x5Z29uKHQsZSk7Y2FzZSJGZWF0dXJlIjpyZXR1cm4gdGhpcy5jb21wYXJlRmVhdHVyZSh0LGUpO2RlZmF1bHQ6aWYoMD09PXQudHlwZS5pbmRleE9mKCJNdWx0aSIpKXt2YXIgbj10aGlzLHI9SXModCksaT1JcyhlKTtyZXR1cm4gci5ldmVyeSgoZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuc29tZSgoZnVuY3Rpb24oZSl7cmV0dXJuIG4uY29tcGFyZSh0LGUpfSkpfSksaSl9fXJldHVybiExfSx3cy5wcm90b3R5cGUuY29tcGFyZUNvb3JkPWZ1bmN0aW9uKHQsZSl7aWYodC5sZW5ndGghPT1lLmxlbmd0aClyZXR1cm4hMTtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKylpZih0W25dLnRvRml4ZWQodGhpcy5wcmVjaXNpb24pIT09ZVtuXS50b0ZpeGVkKHRoaXMucHJlY2lzaW9uKSlyZXR1cm4hMTtyZXR1cm4hMH0sd3MucHJvdG90eXBlLmNvbXBhcmVMaW5lPWZ1bmN0aW9uKHQsZSxuLHIpe2lmKCFOcyh0LGUpKXJldHVybiExO3ZhciBpPXRoaXMucHNldWRvTm9kZT90OnRoaXMucmVtb3ZlUHNldWRvKHQpLG89dGhpcy5wc2V1ZG9Ob2RlP2U6dGhpcy5yZW1vdmVQc2V1ZG8oZSk7aWYoIXJ8fHRoaXMuY29tcGFyZUNvb3JkKGlbMF0sb1swXSl8fChvPXRoaXMuZml4U3RhcnRJbmRleChvLGkpKSl7dmFyIHM9dGhpcy5jb21wYXJlQ29vcmQoaVtuXSxvW25dKTtyZXR1cm4gdGhpcy5kaXJlY3Rpb258fHM/dGhpcy5jb21wYXJlUGF0aChpLG8pOiEhdGhpcy5jb21wYXJlQ29vcmQoaVtuXSxvW28ubGVuZ3RoLSgxK24pXSkmJnRoaXMuY29tcGFyZVBhdGgoaS5zbGljZSgpLnJldmVyc2UoKSxvKX19LHdzLnByb3RvdHlwZS5maXhTdGFydEluZGV4PWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuLHI9LTEsaT0wO2k8dC5sZW5ndGg7aSsrKWlmKHRoaXMuY29tcGFyZUNvb3JkKHRbaV0sZVswXSkpe3I9aTticmVha31yZXR1cm4gcj49MCYmKG49W10uY29uY2F0KHQuc2xpY2Uocix0Lmxlbmd0aCksdC5zbGljZSgxLHIrMSkpKSxufSx3cy5wcm90b3R5cGUuY29tcGFyZVBhdGg9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzO3JldHVybiB0LmV2ZXJ5KChmdW5jdGlvbih0LGUpe3JldHVybiBuLmNvbXBhcmVDb29yZCh0LHRoaXNbZV0pfSksZSl9LHdzLnByb3RvdHlwZS5jb21wYXJlUG9seWdvbj1mdW5jdGlvbih0LGUpe2lmKHRoaXMuY29tcGFyZUxpbmUodC5jb29yZGluYXRlc1swXSxlLmNvb3JkaW5hdGVzWzBdLDEsITApKXt2YXIgbj10LmNvb3JkaW5hdGVzLnNsaWNlKDEsdC5jb29yZGluYXRlcy5sZW5ndGgpLHI9ZS5jb29yZGluYXRlcy5zbGljZSgxLGUuY29vcmRpbmF0ZXMubGVuZ3RoKSxpPXRoaXM7cmV0dXJuIG4uZXZlcnkoKGZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnNvbWUoKGZ1bmN0aW9uKGUpe3JldHVybiBpLmNvbXBhcmVMaW5lKHQsZSwxLCEwKX0pKX0pLHIpfXJldHVybiExfSx3cy5wcm90b3R5cGUuY29tcGFyZUZlYXR1cmU9ZnVuY3Rpb24odCxlKXtyZXR1cm4hKHQuaWQhPT1lLmlkfHwhdGhpcy5vYmplY3RDb21wYXJhdG9yKHQucHJvcGVydGllcyxlLnByb3BlcnRpZXMpfHwhdGhpcy5jb21wYXJlQkJveCh0LGUpKSYmdGhpcy5jb21wYXJlKHQuZ2VvbWV0cnksZS5nZW9tZXRyeSl9LHdzLnByb3RvdHlwZS5jb21wYXJlQkJveD1mdW5jdGlvbih0LGUpe3JldHVybiEhKCF0LmJib3gmJiFlLmJib3h8fHQuYmJveCYmZS5iYm94JiZ0aGlzLmNvbXBhcmVDb29yZCh0LmJib3gsZS5iYm94KSl9LHdzLnByb3RvdHlwZS5yZW1vdmVQc2V1ZG89ZnVuY3Rpb24odCl7cmV0dXJuIHR9O3ZhciBDcz13cztmdW5jdGlvbiBQcyh0LGUpe3ZhciBuPSExO3JldHVybiB6KHQsKGZ1bmN0aW9uKHQpe3ooZSwoZnVuY3Rpb24oZSl7aWYoITA9PT1uKXJldHVybiEwO249IXBzKHQuZ2VvbWV0cnksZS5nZW9tZXRyeSl9KSl9KSksbn12YXIgTXM9QnQoKGZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUodCxlLG4scil7dGhpcy5kYXRhc2V0PVtdLHRoaXMuZXBzaWxvbj0xLHRoaXMubWluUHRzPTIsdGhpcy5kaXN0YW5jZT10aGlzLl9ldWNsaWRlYW5EaXN0YW5jZSx0aGlzLmNsdXN0ZXJzPVtdLHRoaXMubm9pc2U9W10sdGhpcy5fdmlzaXRlZD1bXSx0aGlzLl9hc3NpZ25lZD1bXSx0aGlzLl9kYXRhc2V0TGVuZ3RoPTAsdGhpcy5faW5pdCh0LGUsbixyKX1lLnByb3RvdHlwZS5ydW49ZnVuY3Rpb24odCxlLG4scil7dGhpcy5faW5pdCh0LGUsbixyKTtmb3IodmFyIGk9MDtpPHRoaXMuX2RhdGFzZXRMZW5ndGg7aSsrKWlmKDEhPT10aGlzLl92aXNpdGVkW2ldKXt0aGlzLl92aXNpdGVkW2ldPTE7dmFyIG89dGhpcy5fcmVnaW9uUXVlcnkoaSk7aWYoby5sZW5ndGg8dGhpcy5taW5QdHMpdGhpcy5ub2lzZS5wdXNoKGkpO2Vsc2V7dmFyIHM9dGhpcy5jbHVzdGVycy5sZW5ndGg7dGhpcy5jbHVzdGVycy5wdXNoKFtdKSx0aGlzLl9hZGRUb0NsdXN0ZXIoaSxzKSx0aGlzLl9leHBhbmRDbHVzdGVyKHMsbyl9fXJldHVybiB0aGlzLmNsdXN0ZXJzfSxlLnByb3RvdHlwZS5faW5pdD1mdW5jdGlvbih0LGUsbixyKXtpZih0KXtpZighKHQgaW5zdGFuY2VvZiBBcnJheSkpdGhyb3cgRXJyb3IoIkRhdGFzZXQgbXVzdCBiZSBvZiB0eXBlIGFycmF5LCAiK3R5cGVvZiB0KyIgZ2l2ZW4iKTt0aGlzLmRhdGFzZXQ9dCx0aGlzLmNsdXN0ZXJzPVtdLHRoaXMubm9pc2U9W10sdGhpcy5fZGF0YXNldExlbmd0aD10Lmxlbmd0aCx0aGlzLl92aXNpdGVkPW5ldyBBcnJheSh0aGlzLl9kYXRhc2V0TGVuZ3RoKSx0aGlzLl9hc3NpZ25lZD1uZXcgQXJyYXkodGhpcy5fZGF0YXNldExlbmd0aCl9ZSYmKHRoaXMuZXBzaWxvbj1lKSxuJiYodGhpcy5taW5QdHM9biksciYmKHRoaXMuZGlzdGFuY2U9cil9LGUucHJvdG90eXBlLl9leHBhbmRDbHVzdGVyPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl07aWYoMSE9PXRoaXMuX3Zpc2l0ZWRbcl0pe3RoaXMuX3Zpc2l0ZWRbcl09MTt2YXIgaT10aGlzLl9yZWdpb25RdWVyeShyKTtpLmxlbmd0aD49dGhpcy5taW5QdHMmJihlPXRoaXMuX21lcmdlQXJyYXlzKGUsaSkpfTEhPT10aGlzLl9hc3NpZ25lZFtyXSYmdGhpcy5fYWRkVG9DbHVzdGVyKHIsdCl9fSxlLnByb3RvdHlwZS5fYWRkVG9DbHVzdGVyPWZ1bmN0aW9uKHQsZSl7dGhpcy5jbHVzdGVyc1tlXS5wdXNoKHQpLHRoaXMuX2Fzc2lnbmVkW3RdPTF9LGUucHJvdG90eXBlLl9yZWdpb25RdWVyeT1mdW5jdGlvbih0KXtmb3IodmFyIGU9W10sbj0wO248dGhpcy5fZGF0YXNldExlbmd0aDtuKyspe3RoaXMuZGlzdGFuY2UodGhpcy5kYXRhc2V0W3RdLHRoaXMuZGF0YXNldFtuXSk8dGhpcy5lcHNpbG9uJiZlLnB1c2gobil9cmV0dXJuIGV9LGUucHJvdG90eXBlLl9tZXJnZUFycmF5cz1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj1lLmxlbmd0aCxyPTA7cjxuO3IrKyl7dmFyIGk9ZVtyXTt0LmluZGV4T2YoaSk8MCYmdC5wdXNoKGkpfXJldHVybiB0fSxlLnByb3RvdHlwZS5fZXVjbGlkZWFuRGlzdGFuY2U9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49MCxyPU1hdGgubWluKHQubGVuZ3RoLGUubGVuZ3RoKTtyLS07KW4rPSh0W3JdLWVbcl0pKih0W3JdLWVbcl0pO3JldHVybiBNYXRoLnNxcnQobil9LHQuZXhwb3J0cyYmKHQuZXhwb3J0cz1lKX0pKSxMcz1CdCgoZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSh0LGUsbil7dGhpcy5rPTMsdGhpcy5kYXRhc2V0PVtdLHRoaXMuYXNzaWdubWVudHM9W10sdGhpcy5jZW50cm9pZHM9W10sdGhpcy5pbml0KHQsZSxuKX1lLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKHQsZSxuKXt0aGlzLmFzc2lnbm1lbnRzPVtdLHRoaXMuY2VudHJvaWRzPVtdLHZvaWQgMCE9PXQmJih0aGlzLmRhdGFzZXQ9dCksdm9pZCAwIT09ZSYmKHRoaXMuaz1lKSx2b2lkIDAhPT1uJiYodGhpcy5kaXN0YW5jZT1uKX0sZS5wcm90b3R5cGUucnVuPWZ1bmN0aW9uKHQsZSl7dGhpcy5pbml0KHQsZSk7Zm9yKHZhciBuPXRoaXMuZGF0YXNldC5sZW5ndGgscj0wO3I8dGhpcy5rO3IrKyl0aGlzLmNlbnRyb2lkc1tyXT10aGlzLnJhbmRvbUNlbnRyb2lkKCk7Zm9yKHZhciBpPSEwO2k7KXtpPXRoaXMuYXNzaWduKCk7Zm9yKHZhciBvPTA7bzx0aGlzLms7bysrKXtmb3IodmFyIHM9bmV3IEFycmF5KGMpLGE9MCx1PTA7dTxjO3UrKylzW3VdPTA7Zm9yKHZhciBsPTA7bDxuO2wrKyl7dmFyIGM9dGhpcy5kYXRhc2V0W2xdLmxlbmd0aDtpZihvPT09dGhpcy5hc3NpZ25tZW50c1tsXSl7Zm9yKHU9MDt1PGM7dSsrKXNbdV0rPXRoaXMuZGF0YXNldFtsXVt1XTthKyt9fWlmKGE+MCl7Zm9yKHU9MDt1PGM7dSsrKXNbdV0vPWE7dGhpcy5jZW50cm9pZHNbb109c31lbHNlIHRoaXMuY2VudHJvaWRzW29dPXRoaXMucmFuZG9tQ2VudHJvaWQoKSxpPSEwfX1yZXR1cm4gdGhpcy5nZXRDbHVzdGVycygpfSxlLnByb3RvdHlwZS5yYW5kb21DZW50cm9pZD1mdW5jdGlvbigpe3ZhciB0LGUsbj10aGlzLmRhdGFzZXQubGVuZ3RoLTE7ZG97ZT1NYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkqbiksdD10aGlzLmRhdGFzZXRbZV19d2hpbGUodGhpcy5jZW50cm9pZHMuaW5kZXhPZih0KT49MCk7cmV0dXJuIHR9LGUucHJvdG90eXBlLmFzc2lnbj1mdW5jdGlvbigpe2Zvcih2YXIgdCxlPSExLG49dGhpcy5kYXRhc2V0Lmxlbmd0aCxyPTA7cjxuO3IrKykodD10aGlzLmFyZ21pbih0aGlzLmRhdGFzZXRbcl0sdGhpcy5jZW50cm9pZHMsdGhpcy5kaXN0YW5jZSkpIT10aGlzLmFzc2lnbm1lbnRzW3JdJiYodGhpcy5hc3NpZ25tZW50c1tyXT10LGU9ITApO3JldHVybiBlfSxlLnByb3RvdHlwZS5nZXRDbHVzdGVycz1mdW5jdGlvbigpe2Zvcih2YXIgdCxlPW5ldyBBcnJheSh0aGlzLmspLG49MDtuPHRoaXMuYXNzaWdubWVudHMubGVuZ3RoO24rKyl2b2lkIDA9PT1lW3Q9dGhpcy5hc3NpZ25tZW50c1tuXV0mJihlW3RdPVtdKSxlW3RdLnB1c2gobik7cmV0dXJuIGV9LGUucHJvdG90eXBlLmFyZ21pbj1mdW5jdGlvbih0LGUsbil7Zm9yKHZhciByLGk9TnVtYmVyLk1BWF9WQUxVRSxvPTAscz1lLmxlbmd0aCxhPTA7YTxzO2ErKykocj1uKHQsZVthXSkpPGkmJihpPXIsbz1hKTtyZXR1cm4gb30sZS5wcm90b3R5cGUuZGlzdGFuY2U9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49MCxyPU1hdGgubWluKHQubGVuZ3RoLGUubGVuZ3RoKTtyLS07KXt2YXIgaT10W3JdLWVbcl07bis9aSppfXJldHVybiBNYXRoLnNxcnQobil9LHQuZXhwb3J0cyYmKHQuZXhwb3J0cz1lKX0pKSxPcz1CdCgoZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSh0LGUsbil7dGhpcy5fcXVldWU9W10sdGhpcy5fcHJpb3JpdGllcz1bXSx0aGlzLl9zb3J0aW5nPSJkZXNjIix0aGlzLl9pbml0KHQsZSxuKX1lLnByb3RvdHlwZS5pbnNlcnQ9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49dGhpcy5fcXVldWUubGVuZ3RoLHI9bjtyLS07KXt2YXIgaT10aGlzLl9wcmlvcml0aWVzW3JdOyJkZXNjIj09PXRoaXMuX3NvcnRpbmc/ZT5pJiYobj1yKTplPGkmJihuPXIpfXRoaXMuX2luc2VydEF0KHQsZSxuKX0sZS5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10aGlzLl9xdWV1ZS5sZW5ndGg7ZS0tOyl7aWYodD09PXRoaXMuX3F1ZXVlW2VdKXt0aGlzLl9xdWV1ZS5zcGxpY2UoZSwxKSx0aGlzLl9wcmlvcml0aWVzLnNwbGljZShlLDEpO2JyZWFrfX19LGUucHJvdG90eXBlLmZvckVhY2g9ZnVuY3Rpb24odCl7dGhpcy5fcXVldWUuZm9yRWFjaCh0KX0sZS5wcm90b3R5cGUuZ2V0RWxlbWVudHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcXVldWV9LGUucHJvdG90eXBlLmdldEVsZW1lbnRQcmlvcml0eT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fcHJpb3JpdGllc1t0XX0sZS5wcm90b3R5cGUuZ2V0UHJpb3JpdGllcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9wcmlvcml0aWVzfSxlLnByb3RvdHlwZS5nZXRFbGVtZW50c1dpdGhQcmlvcml0aWVzPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PVtdLGU9MCxuPXRoaXMuX3F1ZXVlLmxlbmd0aDtlPG47ZSsrKXQucHVzaChbdGhpcy5fcXVldWVbZV0sdGhpcy5fcHJpb3JpdGllc1tlXV0pO3JldHVybiB0fSxlLnByb3RvdHlwZS5faW5pdD1mdW5jdGlvbih0LGUsbil7aWYodCYmZSl7aWYodGhpcy5fcXVldWU9W10sdGhpcy5fcHJpb3JpdGllcz1bXSx0Lmxlbmd0aCE9PWUubGVuZ3RoKXRocm93IG5ldyBFcnJvcigiQXJyYXlzIG11c3QgaGF2ZSB0aGUgc2FtZSBsZW5ndGgiKTtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKyl0aGlzLmluc2VydCh0W3JdLGVbcl0pfW4mJih0aGlzLl9zb3J0aW5nPW4pfSxlLnByb3RvdHlwZS5faW5zZXJ0QXQ9ZnVuY3Rpb24odCxlLG4pe3RoaXMuX3F1ZXVlLmxlbmd0aD09PW4/KHRoaXMuX3F1ZXVlLnB1c2godCksdGhpcy5fcHJpb3JpdGllcy5wdXNoKGUpKToodGhpcy5fcXVldWUuc3BsaWNlKG4sMCx0KSx0aGlzLl9wcmlvcml0aWVzLnNwbGljZShuLDAsZSkpfSx0LmV4cG9ydHMmJih0LmV4cG9ydHM9ZSl9KSksUnM9QnQoKGZ1bmN0aW9uKHQpe2lmKHQuZXhwb3J0cyl2YXIgZT1PcztmdW5jdGlvbiBuKHQsZSxuLHIpe3RoaXMuZXBzaWxvbj0xLHRoaXMubWluUHRzPTEsdGhpcy5kaXN0YW5jZT10aGlzLl9ldWNsaWRlYW5EaXN0YW5jZSx0aGlzLl9yZWFjaGFiaWxpdHk9W10sdGhpcy5fcHJvY2Vzc2VkPVtdLHRoaXMuX2NvcmVEaXN0YW5jZT0wLHRoaXMuX29yZGVyZWRMaXN0PVtdLHRoaXMuX2luaXQodCxlLG4scil9bi5wcm90b3R5cGUucnVuPWZ1bmN0aW9uKHQsbixyLGkpe3RoaXMuX2luaXQodCxuLHIsaSk7Zm9yKHZhciBvPTAscz10aGlzLmRhdGFzZXQubGVuZ3RoO288cztvKyspaWYoMSE9PXRoaXMuX3Byb2Nlc3NlZFtvXSl7dGhpcy5fcHJvY2Vzc2VkW29dPTEsdGhpcy5jbHVzdGVycy5wdXNoKFtvXSk7dmFyIGE9dGhpcy5jbHVzdGVycy5sZW5ndGgtMTt0aGlzLl9vcmRlcmVkTGlzdC5wdXNoKG8pO3ZhciB1PW5ldyBlKG51bGwsbnVsbCwiYXNjIiksbD10aGlzLl9yZWdpb25RdWVyeShvKTt2b2lkIDAhPT10aGlzLl9kaXN0YW5jZVRvQ29yZShvKSYmKHRoaXMuX3VwZGF0ZVF1ZXVlKG8sbCx1KSx0aGlzLl9leHBhbmRDbHVzdGVyKGEsdSkpfXJldHVybiB0aGlzLmNsdXN0ZXJzfSxuLnByb3RvdHlwZS5nZXRSZWFjaGFiaWxpdHlQbG90PWZ1bmN0aW9uKCl7Zm9yKHZhciB0PVtdLGU9MCxuPXRoaXMuX29yZGVyZWRMaXN0Lmxlbmd0aDtlPG47ZSsrKXt2YXIgcj10aGlzLl9vcmRlcmVkTGlzdFtlXSxpPXRoaXMuX3JlYWNoYWJpbGl0eVtyXTt0LnB1c2goW3IsaV0pfXJldHVybiB0fSxuLnByb3RvdHlwZS5faW5pdD1mdW5jdGlvbih0LGUsbixyKXtpZih0KXtpZighKHQgaW5zdGFuY2VvZiBBcnJheSkpdGhyb3cgRXJyb3IoIkRhdGFzZXQgbXVzdCBiZSBvZiB0eXBlIGFycmF5LCAiK3R5cGVvZiB0KyIgZ2l2ZW4iKTt0aGlzLmRhdGFzZXQ9dCx0aGlzLmNsdXN0ZXJzPVtdLHRoaXMuX3JlYWNoYWJpbGl0eT1uZXcgQXJyYXkodGhpcy5kYXRhc2V0Lmxlbmd0aCksdGhpcy5fcHJvY2Vzc2VkPW5ldyBBcnJheSh0aGlzLmRhdGFzZXQubGVuZ3RoKSx0aGlzLl9jb3JlRGlzdGFuY2U9MCx0aGlzLl9vcmRlcmVkTGlzdD1bXX1lJiYodGhpcy5lcHNpbG9uPWUpLG4mJih0aGlzLm1pblB0cz1uKSxyJiYodGhpcy5kaXN0YW5jZT1yKX0sbi5wcm90b3R5cGUuX3VwZGF0ZVF1ZXVlPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj10aGlzO3RoaXMuX2NvcmVEaXN0YW5jZT10aGlzLl9kaXN0YW5jZVRvQ29yZSh0KSxlLmZvckVhY2goKGZ1bmN0aW9uKGUpe2lmKHZvaWQgMD09PXIuX3Byb2Nlc3NlZFtlXSl7dmFyIGk9ci5kaXN0YW5jZShyLmRhdGFzZXRbdF0sci5kYXRhc2V0W2VdKSxvPU1hdGgubWF4KHIuX2NvcmVEaXN0YW5jZSxpKTt2b2lkIDA9PT1yLl9yZWFjaGFiaWxpdHlbZV0/KHIuX3JlYWNoYWJpbGl0eVtlXT1vLG4uaW5zZXJ0KGUsbykpOm88ci5fcmVhY2hhYmlsaXR5W2VdJiYoci5fcmVhY2hhYmlsaXR5W2VdPW8sbi5yZW1vdmUoZSksbi5pbnNlcnQoZSxvKSl9fSkpfSxuLnByb3RvdHlwZS5fZXhwYW5kQ2x1c3Rlcj1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj1lLmdldEVsZW1lbnRzKCkscj0wLGk9bi5sZW5ndGg7cjxpO3IrKyl7dmFyIG89bltyXTtpZih2b2lkIDA9PT10aGlzLl9wcm9jZXNzZWRbb10pe3ZhciBzPXRoaXMuX3JlZ2lvblF1ZXJ5KG8pO3RoaXMuX3Byb2Nlc3NlZFtvXT0xLHRoaXMuY2x1c3RlcnNbdF0ucHVzaChvKSx0aGlzLl9vcmRlcmVkTGlzdC5wdXNoKG8pLHZvaWQgMCE9PXRoaXMuX2Rpc3RhbmNlVG9Db3JlKG8pJiYodGhpcy5fdXBkYXRlUXVldWUobyxzLGUpLHRoaXMuX2V4cGFuZENsdXN0ZXIodCxlKSl9fX0sbi5wcm90b3R5cGUuX2Rpc3RhbmNlVG9Db3JlPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10aGlzLmVwc2lsb24sbj0wO248ZTtuKyspe2lmKHRoaXMuX3JlZ2lvblF1ZXJ5KHQsbikubGVuZ3RoPj10aGlzLm1pblB0cylyZXR1cm4gbn19LG4ucHJvdG90eXBlLl9yZWdpb25RdWVyeT1mdW5jdGlvbih0LGUpe2U9ZXx8dGhpcy5lcHNpbG9uO2Zvcih2YXIgbj1bXSxyPTAsaT10aGlzLmRhdGFzZXQubGVuZ3RoO3I8aTtyKyspdGhpcy5kaXN0YW5jZSh0aGlzLmRhdGFzZXRbdF0sdGhpcy5kYXRhc2V0W3JdKTxlJiZuLnB1c2gocik7cmV0dXJuIG59LG4ucHJvdG90eXBlLl9ldWNsaWRlYW5EaXN0YW5jZT1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj0wLHI9TWF0aC5taW4odC5sZW5ndGgsZS5sZW5ndGgpO3ItLTspbis9KHRbcl0tZVtyXSkqKHRbcl0tZVtyXSk7cmV0dXJuIE1hdGguc3FydChuKX0sdC5leHBvcnRzJiYodC5leHBvcnRzPW4pfSkpLFRzPUJ0KChmdW5jdGlvbih0KXt0LmV4cG9ydHMmJih0LmV4cG9ydHM9e0RCU0NBTjpNcyxLTUVBTlM6THMsT1BUSUNTOlJzLFByaW9yaXR5UXVldWU6T3N9KX0pKTt2YXIgQXM9ZnVuY3Rpb24odCxlLG4pe2Zvcih2YXIgcj10Lmxlbmd0aCxpPTAsbz0wO288cjtvKyspe3ZhciBzPSh0W29dfHwwKS0oZVtvXXx8MCk7aSs9cypzfXJldHVybiBuP01hdGguc3FydChpKTppfSxEcz1BcyxGcz1mdW5jdGlvbih0LGUsbil7dmFyIHI9TWF0aC5hYnModC1lKTtyZXR1cm4gbj9yOnIqcn0sa3M9QXMsR3M9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49e30scj1bXSxpPWU8PDIsbz10Lmxlbmd0aCxzPXRbMF0ubGVuZ3RoPjA7ci5sZW5ndGg8ZSYmaS0tID4wOyl7dmFyIGE9dFtNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqbyldLHU9cz9hLmpvaW4oIl8iKToiIithO25bdV18fChuW3VdPSEwLHIucHVzaChhKSl9aWYoci5sZW5ndGg8ZSl0aHJvdyBuZXcgRXJyb3IoIkVycm9yIGluaXRpYWxpemF0aW5nIGNsdXN0ZXJzIik7cmV0dXJuIHJ9LHFzPWZ1bmN0aW9uKHQsZSl7dmFyIG49dFswXS5sZW5ndGg/RHM6RnMscj1bXSxpPXQubGVuZ3RoLG89dFswXS5sZW5ndGg+MCxzPXRbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKmkpXTtvJiZzLmpvaW4oIl8iKTtmb3Ioci5wdXNoKHMpO3IubGVuZ3RoPGU7KXtmb3IodmFyIGE9W10sdT1yLmxlbmd0aCxsPTAsYz1bXSxoPTA7aDxpO2grKyl7Zm9yKHZhciBwPTEvMCxmPTA7Zjx1O2YrKyl7dmFyIGc9bih0W2hdLHJbZl0pO2c8PXAmJihwPWcpfWFbaF09cH1mb3IodmFyIGQ9MDtkPGk7ZCsrKWwrPWFbZF07Zm9yKHZhciB5PTA7eTxpO3krKyljW3ldPXtpOnksdjp0W3ldLHByOmFbeV0vbCxjczowfTtjLnNvcnQoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQucHItZS5wcn0pKSxjWzBdLmNzPWNbMF0ucHI7Zm9yKHZhciB2PTE7djxpO3YrKyljW3ZdLmNzPWNbdi0xXS5jcytjW3ZdLnByO2Zvcih2YXIgXz1NYXRoLnJhbmRvbSgpLG09MDttPGktMSYmY1ttKytdLmNzPF87KTtyLnB1c2goY1ttLTFdLnYpfXJldHVybiByfTtmdW5jdGlvbiBCcyh0LGUsbil7bj1ufHxbXTtmb3IodmFyIHI9MDtyPHQ7cisrKW5bcl09ZTtyZXR1cm4gbn12YXIgenM9ZnVuY3Rpb24odCxlLG4scil7dmFyIGk9W10sbz1bXSxzPVtdLGE9W10sdT0hMSxsPXJ8fDFlNCxjPXQubGVuZ3RoLGg9dFswXS5sZW5ndGgscD1oPjAsZj1bXTtpZihuKWk9ImttcmFuZCI9PW4/R3ModCxlKToia21wcCI9PW4/cXModCxlKTpuO2Vsc2UgZm9yKHZhciBnPXt9O2kubGVuZ3RoPGU7KXt2YXIgZD1NYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqYyk7Z1tkXXx8KGdbZF09ITAsaS5wdXNoKHRbZF0pKX1kb3tCcyhlLDAsZik7Zm9yKHZhciB5PTA7eTxjO3krKyl7Zm9yKHZhciB2PTEvMCxfPTAsbT0wO208ZTttKyspeyhhPXA/a3ModFt5XSxpW21dKTpNYXRoLmFicyh0W3ldLWlbbV0pKTw9diYmKHY9YSxfPW0pfXNbeV09XyxmW19dKyt9Zm9yKHZhciB4PVtdLEU9KG89W10sMCk7RTxlO0UrKyl4W0VdPXA/QnMoaCwwLHhbRV0pOjAsb1tFXT1pW0VdO2lmKHApe2Zvcih2YXIgYj0wO2I8ZTtiKyspaVtiXT1bXTtmb3IodmFyIHc9MDt3PGM7dysrKWZvcih2YXIgST14W3Nbd11dLE49dFt3XSxTPTA7UzxoO1MrKylJW1NdKz1OW1NdO3U9ITA7Zm9yKHZhciBDPTA7QzxlO0MrKyl7Zm9yKHZhciBQPWlbQ10sTT14W0NdLEw9b1tDXSxPPWZbQ10sUj0wO1I8aDtSKyspUFtSXT1NW1JdL098fDA7aWYodSlmb3IodmFyIFQ9MDtUPGg7VCsrKWlmKExbVF0hPVBbVF0pe3U9ITE7YnJlYWt9fX1lbHNle2Zvcih2YXIgQT0wO0E8YztBKyspe3hbc1tBXV0rPXRbQV19Zm9yKHZhciBEPTA7RDxlO0QrKylpW0RdPXhbRF0vZltEXXx8MDt1PSEwO2Zvcih2YXIgRj0wO0Y8ZTtGKyspaWYob1tGXSE9aVtGXSl7dT0hMTticmVha319dT11fHwtLWw8PTB9d2hpbGUoIXUpO3JldHVybntpdDoxZTQtbCxrOmUsaWR4czpzLGNlbnRyb2lkczppfX07ZnVuY3Rpb24ganModCxlKXtyZXR1cm4gYihCaSh0WzBdLHRbMV0pKT09PWIoQmkoZVswXSxlWzFdKSl9ZnVuY3Rpb24gVXModCxlKXtpZih0Lmdlb21ldHJ5JiZ0Lmdlb21ldHJ5LnR5cGUpcmV0dXJuIHQuZ2VvbWV0cnkudHlwZTtpZih0LnR5cGUpcmV0dXJuIHQudHlwZTt0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgR2VvSlNPTiBvYmplY3QgZm9yICIrZSl9ZnVuY3Rpb24gVnModCl7Zm9yKHZhciBlPXQsbj1bXTtlLnBhcmVudDspbi51bnNoaWZ0KGUpLGU9ZS5wYXJlbnQ7cmV0dXJuIG59dmFyIFhzPXtzZWFyY2g6ZnVuY3Rpb24odCxlLG4scil7dC5jbGVhbkRpcnR5KCk7dmFyIGk9KHI9cnx8e30pLmhldXJpc3RpY3x8WHMuaGV1cmlzdGljcy5tYW5oYXR0YW4sbz1yLmNsb3Nlc3R8fCExLHM9bmV3IFdzKChmdW5jdGlvbih0KXtyZXR1cm4gdC5mfSkpLGE9ZTtmb3IoZS5oPWkoZSxuKSxzLnB1c2goZSk7cy5zaXplKCk+MDspe3ZhciB1PXMucG9wKCk7aWYodT09PW4pcmV0dXJuIFZzKHUpO3UuY2xvc2VkPSEwO2Zvcih2YXIgbD10Lm5laWdoYm9ycyh1KSxjPTAsaD1sLmxlbmd0aDtjPGg7KytjKXt2YXIgcD1sW2NdO2lmKCFwLmNsb3NlZCYmIXAuaXNXYWxsKCkpe3ZhciBmPXUuZytwLmdldENvc3QodSksZz1wLnZpc2l0ZWQ7KCFnfHxmPHAuZykmJihwLnZpc2l0ZWQ9ITAscC5wYXJlbnQ9dSxwLmg9cC5ofHxpKHAsbikscC5nPWYscC5mPXAuZytwLmgsdC5tYXJrRGlydHkocCksbyYmKHAuaDxhLmh8fHAuaD09PWEuaCYmcC5nPGEuZykmJihhPXApLGc/cy5yZXNjb3JlRWxlbWVudChwKTpzLnB1c2gocCkpfX19cmV0dXJuIG8/VnMoYSk6W119LGhldXJpc3RpY3M6e21hbmhhdHRhbjpmdW5jdGlvbih0LGUpe3JldHVybiBNYXRoLmFicyhlLngtdC54KStNYXRoLmFicyhlLnktdC55KX0sZGlhZ29uYWw6ZnVuY3Rpb24odCxlKXt2YXIgbj1NYXRoLnNxcnQoMikscj1NYXRoLmFicyhlLngtdC54KSxpPU1hdGguYWJzKGUueS10LnkpO3JldHVybiAxKihyK2kpKyhuLTIpKk1hdGgubWluKHIsaSl9fSxjbGVhbk5vZGU6ZnVuY3Rpb24odCl7dC5mPTAsdC5nPTAsdC5oPTAsdC52aXNpdGVkPSExLHQuY2xvc2VkPSExLHQucGFyZW50PW51bGx9fTtmdW5jdGlvbiBZcyh0LGUpe2U9ZXx8e30sdGhpcy5ub2Rlcz1bXSx0aGlzLmRpYWdvbmFsPSEhZS5kaWFnb25hbCx0aGlzLmdyaWQ9W107Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspe3RoaXMuZ3JpZFtuXT1bXTtmb3IodmFyIHI9MCxpPXRbbl07cjxpLmxlbmd0aDtyKyspe3ZhciBvPW5ldyBIcyhuLHIsaVtyXSk7dGhpcy5ncmlkW25dW3JdPW8sdGhpcy5ub2Rlcy5wdXNoKG8pfX10aGlzLmluaXQoKX1mdW5jdGlvbiBIcyh0LGUsbil7dGhpcy54PXQsdGhpcy55PWUsdGhpcy53ZWlnaHQ9bn1mdW5jdGlvbiBXcyh0KXt0aGlzLmNvbnRlbnQ9W10sdGhpcy5zY29yZUZ1bmN0aW9uPXR9ZnVuY3Rpb24gSnModCxlKXtmb3IodmFyIG49MDtuPGUuZmVhdHVyZXMubGVuZ3RoO24rKylpZih5ZSh0LGUuZmVhdHVyZXNbbl0pKXJldHVybiEwO3JldHVybiExfWZ1bmN0aW9uIFpzKHQpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiB0fX1mdW5jdGlvbiBLcyh0KXtyZXR1cm4gdFswXX1mdW5jdGlvbiBRcyh0KXtyZXR1cm4gdFsxXX1mdW5jdGlvbiAkcygpe3RoaXMuXz1udWxsfWZ1bmN0aW9uIHRhKHQpe3QuVT10LkM9dC5MPXQuUj10LlA9dC5OPW51bGx9ZnVuY3Rpb24gZWEodCxlKXt2YXIgbj1lLHI9ZS5SLGk9bi5VO2k/aS5MPT09bj9pLkw9cjppLlI9cjp0Ll89cixyLlU9aSxuLlU9cixuLlI9ci5MLG4uUiYmKG4uUi5VPW4pLHIuTD1ufWZ1bmN0aW9uIG5hKHQsZSl7dmFyIG49ZSxyPWUuTCxpPW4uVTtpP2kuTD09PW4/aS5MPXI6aS5SPXI6dC5fPXIsci5VPWksbi5VPXIsbi5MPXIuUixuLkwmJihuLkwuVT1uKSxyLlI9bn1mdW5jdGlvbiByYSh0KXtmb3IoO3QuTDspdD10Lkw7cmV0dXJuIHR9ZnVuY3Rpb24gaWEodCxlLG4scil7dmFyIGk9W251bGwsbnVsbF0sbz1QYS5wdXNoKGkpLTE7cmV0dXJuIGkubGVmdD10LGkucmlnaHQ9ZSxuJiZzYShpLHQsZSxuKSxyJiZzYShpLGUsdCxyKSxTYVt0LmluZGV4XS5oYWxmZWRnZXMucHVzaChvKSxTYVtlLmluZGV4XS5oYWxmZWRnZXMucHVzaChvKSxpfWZ1bmN0aW9uIG9hKHQsZSxuKXt2YXIgcj1bZSxuXTtyZXR1cm4gci5sZWZ0PXQscn1mdW5jdGlvbiBzYSh0LGUsbixyKXt0WzBdfHx0WzFdP3QubGVmdD09PW4/dFsxXT1yOnRbMF09cjoodFswXT1yLHQubGVmdD1lLHQucmlnaHQ9bil9ZnVuY3Rpb24gYWEodCxlLG4scixpKXt2YXIgbyxzPXRbMF0sYT10WzFdLHU9c1swXSxsPXNbMV0sYz0wLGg9MSxwPWFbMF0tdSxmPWFbMV0tbDtpZihvPWUtdSxwfHwhKG8+MCkpe2lmKG8vPXAscDwwKXtpZihvPGMpcmV0dXJuO288aCYmKGg9byl9ZWxzZSBpZihwPjApe2lmKG8+aClyZXR1cm47bz5jJiYoYz1vKX1pZihvPXItdSxwfHwhKG88MCkpe2lmKG8vPXAscDwwKXtpZihvPmgpcmV0dXJuO28+YyYmKGM9byl9ZWxzZSBpZihwPjApe2lmKG88YylyZXR1cm47bzxoJiYoaD1vKX1pZihvPW4tbCxmfHwhKG8+MCkpe2lmKG8vPWYsZjwwKXtpZihvPGMpcmV0dXJuO288aCYmKGg9byl9ZWxzZSBpZihmPjApe2lmKG8+aClyZXR1cm47bz5jJiYoYz1vKX1pZihvPWktbCxmfHwhKG88MCkpe2lmKG8vPWYsZjwwKXtpZihvPmgpcmV0dXJuO28+YyYmKGM9byl9ZWxzZSBpZihmPjApe2lmKG88YylyZXR1cm47bzxoJiYoaD1vKX1yZXR1cm4hKGM+MHx8aDwxKXx8KGM+MCYmKHRbMF09W3UrYypwLGwrYypmXSksaDwxJiYodFsxXT1bdStoKnAsbCtoKmZdKSwhMCl9fX19fWZ1bmN0aW9uIHVhKHQsZSxuLHIsaSl7dmFyIG89dFsxXTtpZihvKXJldHVybiEwO3ZhciBzLGEsdT10WzBdLGw9dC5sZWZ0LGM9dC5yaWdodCxoPWxbMF0scD1sWzFdLGY9Y1swXSxnPWNbMV0sZD0oaCtmKS8yLHk9KHArZykvMjtpZihnPT09cCl7aWYoZDxlfHxkPj1yKXJldHVybjtpZihoPmYpe2lmKHUpe2lmKHVbMV0+PWkpcmV0dXJufWVsc2UgdT1bZCxuXTtvPVtkLGldfWVsc2V7aWYodSl7aWYodVsxXTxuKXJldHVybn1lbHNlIHU9W2QsaV07bz1bZCxuXX19ZWxzZSBpZihhPXktKHM9KGgtZikvKGctcCkpKmQsczwtMXx8cz4xKWlmKGg+Zil7aWYodSl7aWYodVsxXT49aSlyZXR1cm59ZWxzZSB1PVsobi1hKS9zLG5dO289WyhpLWEpL3MsaV19ZWxzZXtpZih1KXtpZih1WzFdPG4pcmV0dXJufWVsc2UgdT1bKGktYSkvcyxpXTtvPVsobi1hKS9zLG5dfWVsc2UgaWYocDxnKXtpZih1KXtpZih1WzBdPj1yKXJldHVybn1lbHNlIHU9W2UscyplK2FdO289W3IscypyK2FdfWVsc2V7aWYodSl7aWYodVswXTxlKXJldHVybn1lbHNlIHU9W3IscypyK2FdO289W2UscyplK2FdfXJldHVybiB0WzBdPXUsdFsxXT1vLCEwfWZ1bmN0aW9uIGxhKHQsZSl7dmFyIG49dC5zaXRlLHI9ZS5sZWZ0LGk9ZS5yaWdodDtyZXR1cm4gbj09PWkmJihpPXIscj1uKSxpP01hdGguYXRhbjIoaVsxXS1yWzFdLGlbMF0tclswXSk6KG49PT1yPyhyPWVbMV0saT1lWzBdKToocj1lWzBdLGk9ZVsxXSksTWF0aC5hdGFuMihyWzBdLWlbMF0saVsxXS1yWzFdKSl9ZnVuY3Rpb24gY2EodCxlKXtyZXR1cm4gZVsrKGUubGVmdCE9PXQuc2l0ZSldfWZ1bmN0aW9uIGhhKHQsZSl7cmV0dXJuIGVbKyhlLmxlZnQ9PT10LnNpdGUpXX1Zcy5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbigpe3RoaXMuZGlydHlOb2Rlcz1bXTtmb3IodmFyIHQ9MDt0PHRoaXMubm9kZXMubGVuZ3RoO3QrKylYcy5jbGVhbk5vZGUodGhpcy5ub2Rlc1t0XSl9LFlzLnByb3RvdHlwZS5jbGVhbkRpcnR5PWZ1bmN0aW9uKCl7Zm9yKHZhciB0PTA7dDx0aGlzLmRpcnR5Tm9kZXMubGVuZ3RoO3QrKylYcy5jbGVhbk5vZGUodGhpcy5kaXJ0eU5vZGVzW3RdKTt0aGlzLmRpcnR5Tm9kZXM9W119LFlzLnByb3RvdHlwZS5tYXJrRGlydHk9ZnVuY3Rpb24odCl7dGhpcy5kaXJ0eU5vZGVzLnB1c2godCl9LFlzLnByb3RvdHlwZS5uZWlnaGJvcnM9ZnVuY3Rpb24odCl7dmFyIGU9W10sbj10Lngscj10LnksaT10aGlzLmdyaWQ7cmV0dXJuIGlbbi0xXSYmaVtuLTFdW3JdJiZlLnB1c2goaVtuLTFdW3JdKSxpW24rMV0mJmlbbisxXVtyXSYmZS5wdXNoKGlbbisxXVtyXSksaVtuXSYmaVtuXVtyLTFdJiZlLnB1c2goaVtuXVtyLTFdKSxpW25dJiZpW25dW3IrMV0mJmUucHVzaChpW25dW3IrMV0pLHRoaXMuZGlhZ29uYWwmJihpW24tMV0mJmlbbi0xXVtyLTFdJiZlLnB1c2goaVtuLTFdW3ItMV0pLGlbbisxXSYmaVtuKzFdW3ItMV0mJmUucHVzaChpW24rMV1bci0xXSksaVtuLTFdJiZpW24tMV1bcisxXSYmZS5wdXNoKGlbbi0xXVtyKzFdKSxpW24rMV0mJmlbbisxXVtyKzFdJiZlLnB1c2goaVtuKzFdW3IrMV0pKSxlfSxZcy5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtmb3IodmFyIHQsZSxuLHIsaT1bXSxvPXRoaXMuZ3JpZCxzPTAsYT1vLmxlbmd0aDtzPGE7cysrKXtmb3IodD1bXSxuPTAscj0oZT1vW3NdKS5sZW5ndGg7bjxyO24rKyl0LnB1c2goZVtuXS53ZWlnaHQpO2kucHVzaCh0LmpvaW4oIiAiKSl9cmV0dXJuIGkuam9pbigiXG4iKX0sSHMucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIlsiK3RoaXMueCsiICIrdGhpcy55KyJdIn0sSHMucHJvdG90eXBlLmdldENvc3Q9ZnVuY3Rpb24odCl7cmV0dXJuIHQmJnQueCE9PXRoaXMueCYmdC55IT09dGhpcy55PzEuNDE0MjEqdGhpcy53ZWlnaHQ6dGhpcy53ZWlnaHR9LEhzLnByb3RvdHlwZS5pc1dhbGw9ZnVuY3Rpb24oKXtyZXR1cm4gMD09PXRoaXMud2VpZ2h0fSxXcy5wcm90b3R5cGU9e3B1c2g6ZnVuY3Rpb24odCl7dGhpcy5jb250ZW50LnB1c2godCksdGhpcy5zaW5rRG93bih0aGlzLmNvbnRlbnQubGVuZ3RoLTEpfSxwb3A6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmNvbnRlbnRbMF0sZT10aGlzLmNvbnRlbnQucG9wKCk7cmV0dXJuIHRoaXMuY29udGVudC5sZW5ndGg+MCYmKHRoaXMuY29udGVudFswXT1lLHRoaXMuYnViYmxlVXAoMCkpLHR9LHJlbW92ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmNvbnRlbnQuaW5kZXhPZih0KSxuPXRoaXMuY29udGVudC5wb3AoKTtlIT09dGhpcy5jb250ZW50Lmxlbmd0aC0xJiYodGhpcy5jb250ZW50W2VdPW4sdGhpcy5zY29yZUZ1bmN0aW9uKG4pPHRoaXMuc2NvcmVGdW5jdGlvbih0KT90aGlzLnNpbmtEb3duKGUpOnRoaXMuYnViYmxlVXAoZSkpfSxzaXplOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29udGVudC5sZW5ndGh9LHJlc2NvcmVFbGVtZW50OmZ1bmN0aW9uKHQpe3RoaXMuc2lua0Rvd24odGhpcy5jb250ZW50LmluZGV4T2YodCkpfSxzaW5rRG93bjpmdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcy5jb250ZW50W3RdO3Q+MDspe3ZhciBuPSh0KzE+PjEpLTEscj10aGlzLmNvbnRlbnRbbl07aWYoISh0aGlzLnNjb3JlRnVuY3Rpb24oZSk8dGhpcy5zY29yZUZ1bmN0aW9uKHIpKSlicmVhazt0aGlzLmNvbnRlbnRbbl09ZSx0aGlzLmNvbnRlbnRbdF09cix0PW59fSxidWJibGVVcDpmdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcy5jb250ZW50Lmxlbmd0aCxuPXRoaXMuY29udGVudFt0XSxyPXRoaXMuc2NvcmVGdW5jdGlvbihuKTs7KXt2YXIgaSxvPXQrMTw8MSxzPW8tMSxhPW51bGw7aWYoczxlKXt2YXIgdT10aGlzLmNvbnRlbnRbc107KGk9dGhpcy5zY29yZUZ1bmN0aW9uKHUpKTxyJiYoYT1zKX1pZihvPGUpe3ZhciBsPXRoaXMuY29udGVudFtvXTt0aGlzLnNjb3JlRnVuY3Rpb24obCk8KG51bGw9PT1hP3I6aSkmJihhPW8pfWlmKG51bGw9PT1hKWJyZWFrO3RoaXMuY29udGVudFt0XT10aGlzLmNvbnRlbnRbYV0sdGhpcy5jb250ZW50W2FdPW4sdD1hfX19LCRzLnByb3RvdHlwZT17Y29uc3RydWN0b3I6JHMsaW5zZXJ0OmZ1bmN0aW9uKHQsZSl7dmFyIG4scixpO2lmKHQpe2lmKGUuUD10LGUuTj10Lk4sdC5OJiYodC5OLlA9ZSksdC5OPWUsdC5SKXtmb3IodD10LlI7dC5MOyl0PXQuTDt0Lkw9ZX1lbHNlIHQuUj1lO249dH1lbHNlIHRoaXMuXz8odD1yYSh0aGlzLl8pLGUuUD1udWxsLGUuTj10LHQuUD10Lkw9ZSxuPXQpOihlLlA9ZS5OPW51bGwsdGhpcy5fPWUsbj1udWxsKTtmb3IoZS5MPWUuUj1udWxsLGUuVT1uLGUuQz0hMCx0PWU7biYmbi5DOyluPT09KHI9bi5VKS5MPyhpPXIuUikmJmkuQz8obi5DPWkuQz0hMSxyLkM9ITAsdD1yKToodD09PW4uUiYmKGVhKHRoaXMsbiksbj0odD1uKS5VKSxuLkM9ITEsci5DPSEwLG5hKHRoaXMscikpOihpPXIuTCkmJmkuQz8obi5DPWkuQz0hMSxyLkM9ITAsdD1yKToodD09PW4uTCYmKG5hKHRoaXMsbiksbj0odD1uKS5VKSxuLkM9ITEsci5DPSEwLGVhKHRoaXMscikpLG49dC5VO3RoaXMuXy5DPSExfSxyZW1vdmU6ZnVuY3Rpb24odCl7dC5OJiYodC5OLlA9dC5QKSx0LlAmJih0LlAuTj10Lk4pLHQuTj10LlA9bnVsbDt2YXIgZSxuLHIsaT10LlUsbz10Lkwscz10LlI7aWYobj1vP3M/cmEocyk6bzpzLGk/aS5MPT09dD9pLkw9bjppLlI9bjp0aGlzLl89bixvJiZzPyhyPW4uQyxuLkM9dC5DLG4uTD1vLG8uVT1uLG4hPT1zPyhpPW4uVSxuLlU9dC5VLHQ9bi5SLGkuTD10LG4uUj1zLHMuVT1uKToobi5VPWksaT1uLHQ9bi5SKSk6KHI9dC5DLHQ9biksdCYmKHQuVT1pKSwhcilpZih0JiZ0LkMpdC5DPSExO2Vsc2V7ZG97aWYodD09PXRoaXMuXylicmVhaztpZih0PT09aS5MKXtpZigoZT1pLlIpLkMmJihlLkM9ITEsaS5DPSEwLGVhKHRoaXMsaSksZT1pLlIpLGUuTCYmZS5MLkN8fGUuUiYmZS5SLkMpe2UuUiYmZS5SLkN8fChlLkwuQz0hMSxlLkM9ITAsbmEodGhpcyxlKSxlPWkuUiksZS5DPWkuQyxpLkM9ZS5SLkM9ITEsZWEodGhpcyxpKSx0PXRoaXMuXzticmVha319ZWxzZSBpZigoZT1pLkwpLkMmJihlLkM9ITEsaS5DPSEwLG5hKHRoaXMsaSksZT1pLkwpLGUuTCYmZS5MLkN8fGUuUiYmZS5SLkMpe2UuTCYmZS5MLkN8fChlLlIuQz0hMSxlLkM9ITAsZWEodGhpcyxlKSxlPWkuTCksZS5DPWkuQyxpLkM9ZS5MLkM9ITEsbmEodGhpcyxpKSx0PXRoaXMuXzticmVha31lLkM9ITAsdD1pLGk9aS5VfXdoaWxlKCF0LkMpO3QmJih0LkM9ITEpfX19O3ZhciBwYSxmYT1bXTtmdW5jdGlvbiBnYSgpe3RhKHRoaXMpLHRoaXMueD10aGlzLnk9dGhpcy5hcmM9dGhpcy5zaXRlPXRoaXMuY3k9bnVsbH1mdW5jdGlvbiBkYSh0KXt2YXIgZT10LlAsbj10Lk47aWYoZSYmbil7dmFyIHI9ZS5zaXRlLGk9dC5zaXRlLG89bi5zaXRlO2lmKHIhPT1vKXt2YXIgcz1pWzBdLGE9aVsxXSx1PXJbMF0tcyxsPXJbMV0tYSxjPW9bMF0tcyxoPW9bMV0tYSxwPTIqKHUqaC1sKmMpO2lmKCEocD49LUxhKSl7dmFyIGY9dSp1K2wqbCxnPWMqYytoKmgsZD0oaCpmLWwqZykvcCx5PSh1KmctYypmKS9wLHY9ZmEucG9wKCl8fG5ldyBnYTt2LmFyYz10LHYuc2l0ZT1pLHYueD1kK3Msdi55PSh2LmN5PXkrYSkrTWF0aC5zcXJ0KGQqZCt5KnkpLHQuY2lyY2xlPXY7Zm9yKHZhciBfPW51bGwsbT1DYS5fO207KWlmKHYueTxtLnl8fHYueT09PW0ueSYmdi54PD1tLngpe2lmKCFtLkwpe189bS5QO2JyZWFrfW09bS5MfWVsc2V7aWYoIW0uUil7Xz1tO2JyZWFrfW09bS5SfUNhLmluc2VydChfLHYpLF98fChwYT12KX19fX1mdW5jdGlvbiB5YSh0KXt2YXIgZT10LmNpcmNsZTtlJiYoZS5QfHwocGE9ZS5OKSxDYS5yZW1vdmUoZSksZmEucHVzaChlKSx0YShlKSx0LmNpcmNsZT1udWxsKX12YXIgdmE9W107ZnVuY3Rpb24gX2EoKXt0YSh0aGlzKSx0aGlzLmVkZ2U9dGhpcy5zaXRlPXRoaXMuY2lyY2xlPW51bGx9ZnVuY3Rpb24gbWEodCl7dmFyIGU9dmEucG9wKCl8fG5ldyBfYTtyZXR1cm4gZS5zaXRlPXQsZX1mdW5jdGlvbiB4YSh0KXt5YSh0KSxOYS5yZW1vdmUodCksdmEucHVzaCh0KSx0YSh0KX1mdW5jdGlvbiBFYSh0KXt2YXIgZT10LmNpcmNsZSxuPWUueCxyPWUuY3ksaT1bbixyXSxvPXQuUCxzPXQuTixhPVt0XTt4YSh0KTtmb3IodmFyIHU9bzt1LmNpcmNsZSYmTWF0aC5hYnMobi11LmNpcmNsZS54KTxNYSYmTWF0aC5hYnMoci11LmNpcmNsZS5jeSk8TWE7KW89dS5QLGEudW5zaGlmdCh1KSx4YSh1KSx1PW87YS51bnNoaWZ0KHUpLHlhKHUpO2Zvcih2YXIgbD1zO2wuY2lyY2xlJiZNYXRoLmFicyhuLWwuY2lyY2xlLngpPE1hJiZNYXRoLmFicyhyLWwuY2lyY2xlLmN5KTxNYTspcz1sLk4sYS5wdXNoKGwpLHhhKGwpLGw9czthLnB1c2gobCkseWEobCk7dmFyIGMsaD1hLmxlbmd0aDtmb3IoYz0xO2M8aDsrK2MpbD1hW2NdLHU9YVtjLTFdLHNhKGwuZWRnZSx1LnNpdGUsbC5zaXRlLGkpO3U9YVswXSwobD1hW2gtMV0pLmVkZ2U9aWEodS5zaXRlLGwuc2l0ZSxudWxsLGkpLGRhKHUpLGRhKGwpfWZ1bmN0aW9uIGJhKHQpe2Zvcih2YXIgZSxuLHIsaSxvPXRbMF0scz10WzFdLGE9TmEuXzthOylpZigocj13YShhLHMpLW8pPk1hKWE9YS5MO2Vsc2V7aWYoISgoaT1vLUlhKGEscykpPk1hKSl7cj4tTWE/KGU9YS5QLG49YSk6aT4tTWE/KGU9YSxuPWEuTik6ZT1uPWE7YnJlYWt9aWYoIWEuUil7ZT1hO2JyZWFrfWE9YS5SfSFmdW5jdGlvbih0KXtTYVt0LmluZGV4XT17c2l0ZTp0LGhhbGZlZGdlczpbXX19KHQpO3ZhciB1PW1hKHQpO2lmKE5hLmluc2VydChlLHUpLGV8fG4pe2lmKGU9PT1uKXJldHVybiB5YShlKSxuPW1hKGUuc2l0ZSksTmEuaW5zZXJ0KHUsbiksdS5lZGdlPW4uZWRnZT1pYShlLnNpdGUsdS5zaXRlKSxkYShlKSx2b2lkIGRhKG4pO2lmKG4pe3lhKGUpLHlhKG4pO3ZhciBsPWUuc2l0ZSxjPWxbMF0saD1sWzFdLHA9dFswXS1jLGY9dFsxXS1oLGc9bi5zaXRlLGQ9Z1swXS1jLHk9Z1sxXS1oLHY9MioocCp5LWYqZCksXz1wKnArZipmLG09ZCpkK3kqeSx4PVsoeSpfLWYqbSkvditjLChwKm0tZCpfKS92K2hdO3NhKG4uZWRnZSxsLGcseCksdS5lZGdlPWlhKGwsdCxudWxsLHgpLG4uZWRnZT1pYSh0LGcsbnVsbCx4KSxkYShlKSxkYShuKX1lbHNlIHUuZWRnZT1pYShlLnNpdGUsdS5zaXRlKX19ZnVuY3Rpb24gd2EodCxlKXt2YXIgbj10LnNpdGUscj1uWzBdLGk9blsxXSxvPWktZTtpZighbylyZXR1cm4gcjt2YXIgcz10LlA7aWYoIXMpcmV0dXJuLTEvMDt2YXIgYT0obj1zLnNpdGUpWzBdLHU9blsxXSxsPXUtZTtpZighbClyZXR1cm4gYTt2YXIgYz1hLXIsaD0xL28tMS9sLHA9Yy9sO3JldHVybiBoPygtcCtNYXRoLnNxcnQocCpwLTIqaCooYypjLygtMipsKS11K2wvMitpLW8vMikpKS9oK3I6KHIrYSkvMn1mdW5jdGlvbiBJYSh0LGUpe3ZhciBuPXQuTjtpZihuKXJldHVybiB3YShuLGUpO3ZhciByPXQuc2l0ZTtyZXR1cm4gclsxXT09PWU/clswXToxLzB9dmFyIE5hLFNhLENhLFBhLE1hPTFlLTYsTGE9MWUtMTI7ZnVuY3Rpb24gT2EodCxlKXtyZXR1cm4gZVsxXS10WzFdfHxlWzBdLXRbMF19ZnVuY3Rpb24gUmEodCxlKXt2YXIgbixyLGksbz10LnNvcnQoT2EpLnBvcCgpO2ZvcihQYT1bXSxTYT1uZXcgQXJyYXkodC5sZW5ndGgpLE5hPW5ldyAkcyxDYT1uZXcgJHM7OylpZihpPXBhLG8mJighaXx8b1sxXTxpLnl8fG9bMV09PT1pLnkmJm9bMF08aS54KSlvWzBdPT09biYmb1sxXT09PXJ8fChiYShvKSxuPW9bMF0scj1vWzFdKSxvPXQucG9wKCk7ZWxzZXtpZighaSlicmVhaztFYShpLmFyYyl9aWYoZnVuY3Rpb24oKXtmb3IodmFyIHQsZSxuLHIsaT0wLG89U2EubGVuZ3RoO2k8bzsrK2kpaWYoKHQ9U2FbaV0pJiYocj0oZT10LmhhbGZlZGdlcykubGVuZ3RoKSl7dmFyIHM9bmV3IEFycmF5KHIpLGE9bmV3IEFycmF5KHIpO2ZvcihuPTA7bjxyOysrbilzW25dPW4sYVtuXT1sYSh0LFBhW2Vbbl1dKTtmb3Iocy5zb3J0KChmdW5jdGlvbih0LGUpe3JldHVybiBhW2VdLWFbdF19KSksbj0wO248cjsrK24pYVtuXT1lW3Nbbl1dO2ZvcihuPTA7bjxyOysrbillW25dPWFbbl19fSgpLGUpe3ZhciBzPStlWzBdWzBdLGE9K2VbMF1bMV0sdT0rZVsxXVswXSxsPStlWzFdWzFdOyFmdW5jdGlvbih0LGUsbixyKXtmb3IodmFyIGksbz1QYS5sZW5ndGg7by0tOyl1YShpPVBhW29dLHQsZSxuLHIpJiZhYShpLHQsZSxuLHIpJiYoTWF0aC5hYnMoaVswXVswXS1pWzFdWzBdKT5NYXx8TWF0aC5hYnMoaVswXVsxXS1pWzFdWzFdKT5NYSl8fGRlbGV0ZSBQYVtvXX0ocyxhLHUsbCksZnVuY3Rpb24odCxlLG4scil7dmFyIGksbyxzLGEsdSxsLGMsaCxwLGYsZyxkLHk9U2EubGVuZ3RoLHY9ITA7Zm9yKGk9MDtpPHk7KytpKWlmKG89U2FbaV0pe2ZvcihzPW8uc2l0ZSxhPSh1PW8uaGFsZmVkZ2VzKS5sZW5ndGg7YS0tOylQYVt1W2FdXXx8dS5zcGxpY2UoYSwxKTtmb3IoYT0wLGw9dS5sZW5ndGg7YTxsOylnPShmPWhhKG8sUGFbdVthXV0pKVswXSxkPWZbMV0saD0oYz1jYShvLFBhW3VbKythJWxdXSkpWzBdLHA9Y1sxXSwoTWF0aC5hYnMoZy1oKT5NYXx8TWF0aC5hYnMoZC1wKT5NYSkmJih1LnNwbGljZShhLDAsUGEucHVzaChvYShzLGYsTWF0aC5hYnMoZy10KTxNYSYmci1kPk1hP1t0LE1hdGguYWJzKGgtdCk8TWE/cDpyXTpNYXRoLmFicyhkLXIpPE1hJiZuLWc+TWE/W01hdGguYWJzKHAtcik8TWE/aDpuLHJdOk1hdGguYWJzKGctbik8TWEmJmQtZT5NYT9bbixNYXRoLmFicyhoLW4pPE1hP3A6ZV06TWF0aC5hYnMoZC1lKTxNYSYmZy10Pk1hP1tNYXRoLmFicyhwLWUpPE1hP2g6dCxlXTpudWxsKSktMSksKytsKTtsJiYodj0hMSl9aWYodil7dmFyIF8sbSx4LEU9MS8wO2ZvcihpPTAsdj1udWxsO2k8eTsrK2kpKG89U2FbaV0pJiYoeD0oXz0ocz1vLnNpdGUpWzBdLXQpKl8rKG09c1sxXS1lKSptKTxFJiYoRT14LHY9byk7aWYodil7dmFyIGI9W3QsZV0sdz1bdCxyXSxJPVtuLHJdLE49W24sZV07di5oYWxmZWRnZXMucHVzaChQYS5wdXNoKG9hKHM9di5zaXRlLGIsdykpLTEsUGEucHVzaChvYShzLHcsSSkpLTEsUGEucHVzaChvYShzLEksTikpLTEsUGEucHVzaChvYShzLE4sYikpLTEpfX1mb3IoaT0wO2k8eTsrK2kpKG89U2FbaV0pJiYoby5oYWxmZWRnZXMubGVuZ3RofHxkZWxldGUgU2FbaV0pfShzLGEsdSxsKX10aGlzLmVkZ2VzPVBhLHRoaXMuY2VsbHM9U2EsTmE9Q2E9UGE9U2E9bnVsbH1mdW5jdGlvbiBUYSh0KXtyZXR1cm4odD10LnNsaWNlKCkpLnB1c2godFswXSksbChbdF0pfWZ1bmN0aW9uIEFhKHQsZSxuLHIpe3ZhciBpPShyPXJ8fHt9KS5zdGVwc3x8NjQsbz1yLnVuaXRzfHwia2lsb21ldGVycyIscz1yLmFuZ2xlfHwwLGE9ci5waXZvdHx8dCx1PXIucHJvcGVydGllc3x8dC5wcm9wZXJ0aWVzfHx7fTtpZighdCl0aHJvdyBuZXcgRXJyb3IoImNlbnRlciBpcyByZXF1aXJlZCIpO2lmKCFlKXRocm93IG5ldyBFcnJvcigieFNlbWlBeGlzIGlzIHJlcXVpcmVkIik7aWYoIW4pdGhyb3cgbmV3IEVycm9yKCJ5U2VtaUF4aXMgaXMgcmVxdWlyZWQiKTtpZighUChyKSl0aHJvdyBuZXcgRXJyb3IoIm9wdGlvbnMgbXVzdCBiZSBhbiBvYmplY3QiKTtpZighQyhpKSl0aHJvdyBuZXcgRXJyb3IoInN0ZXBzIG11c3QgYmUgYSBudW1iZXIiKTtpZighQyhzKSl0aHJvdyBuZXcgRXJyb3IoImFuZ2xlIG11c3QgYmUgYSBudW1iZXIiKTt2YXIgYz1LKHQpO2lmKCJkZWdyZWVzIj09PW8pdmFyIGg9SShzKTtlbHNlIGU9amkodCxlLDkwLHt1bml0czpvfSksbj1qaSh0LG4sMCx7dW5pdHM6b30pLGU9SyhlKVswXS1jWzBdLG49SyhuKVsxXS1jWzFdO2Zvcih2YXIgcD1bXSxmPTA7ZjxpO2YrPTEpe3ZhciBnPS0zNjAqZi9pLGQ9ZSpuL01hdGguc3FydChNYXRoLnBvdyhuLDIpK01hdGgucG93KGUsMikqTWF0aC5wb3coRGEoZyksMikpLHk9ZSpuL01hdGguc3FydChNYXRoLnBvdyhlLDIpK01hdGgucG93KG4sMikvTWF0aC5wb3coRGEoZyksMikpO2lmKGc8LTkwJiZnPj0tMjcwJiYoZD0tZCksZzwtMTgwJiZnPj0tMzYwJiYoeT0teSksImRlZ3JlZXMiPT09byl7dmFyIHY9ZCpNYXRoLmNvcyhoKSt5Kk1hdGguc2luKGgpLF89eSpNYXRoLmNvcyhoKS1kKk1hdGguc2luKGgpO2Q9dix5PV99cC5wdXNoKFtkK2NbMF0seStjWzFdXSl9cmV0dXJuIHAucHVzaChwWzBdKSwiZGVncmVlcyI9PT1vP2woW3BdLHUpOiRvKGwoW3BdLHUpLHMse3Bpdm90OmF9KX1mdW5jdGlvbiBEYSh0KXt2YXIgZT10Kk1hdGguUEkvMTgwO3JldHVybiBNYXRoLnRhbihlKX1mdW5jdGlvbiBGYSh0LGUpe3ZvaWQgMD09PWUmJihlPXt9KTt2YXIgbj0wLHI9MCxpPTA7cmV0dXJuIHEodCwoZnVuY3Rpb24odCxvLHMpe3ZhciBhPWUud2VpZ2h0P251bGw9PXM/dm9pZCAwOnNbZS53ZWlnaHRdOnZvaWQgMDtpZighQyhhPW51bGw9PWE/MTphKSl0aHJvdyBuZXcgRXJyb3IoIndlaWdodCB2YWx1ZSBtdXN0IGJlIGEgbnVtYmVyIGZvciBmZWF0dXJlIGluZGV4ICIrbyk7KGE9TnVtYmVyKGEpKT4wJiZSKHQsKGZ1bmN0aW9uKHQpe24rPXRbMF0qYSxyKz10WzFdKmEsaSs9YX0pKX0pKSxhKFtuL2ksci9pXSxlLnByb3BlcnRpZXMsZSl9ZnVuY3Rpb24ga2EodCxlLG4scixpKXt2YXIgbz1yLnRvbGVyYW5jZXx8LjAwMSxzPTAsdT0wLGw9MCxjPTA7aWYoRihuLChmdW5jdGlvbihlKXt2YXIgbixyPW51bGw9PT0obj1lLnByb3BlcnRpZXMpfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLndlaWdodCxpPW51bGw9PXI/MTpyO2lmKCFDKGk9TnVtYmVyKGkpKSl0aHJvdyBuZXcgRXJyb3IoIndlaWdodCB2YWx1ZSBtdXN0IGJlIGEgbnVtYmVyIik7aWYoaT4wKXtjKz0xO3ZhciBvPWkqbWUoZSx0KTswPT09byYmKG89MSk7dmFyIGE9aS9vO3MrPWUuZ2VvbWV0cnkuY29vcmRpbmF0ZXNbMF0qYSx1Kz1lLmdlb21ldHJ5LmNvb3JkaW5hdGVzWzFdKmEsbCs9YX19KSksYzwxKXRocm93IG5ldyBFcnJvcigibm8gZmVhdHVyZXMgdG8gbWVhc3VyZSIpO3ZhciBoPXMvbCxwPXUvbDtyZXR1cm4gMT09PWN8fDA9PT1pfHxNYXRoLmFicyhoLWVbMF0pPG8mJk1hdGguYWJzKHAtZVsxXSk8bz9hKFtoLHBdLHttZWRpYW5DYW5kaWRhdGVzOnIubWVkaWFuQ2FuZGlkYXRlc30pOihyLm1lZGlhbkNhbmRpZGF0ZXMucHVzaChbaCxwXSksa2EoW2gscF0sdCxuLHIsaS0xKSl9ZnVuY3Rpb24gR2EodCxlKXtyZXR1cm57eDp0WzBdLWVbMF0seTp0WzFdLWVbMV19fWZ1bmN0aW9uIHFhKHQsZSl7dmFyIG49MCxyPTA7Uih0LChmdW5jdGlvbihpLG8scyxhLHUpe3U+biYmKG49dSxyPW8sZS5wdXNoKFtdKSk7dmFyIGw9by1yLGM9dC5jb29yZGluYXRlc1t1XVtsKzFdLGg9aVswXSxwPWlbMV0sZj1jWzBdLGc9Y1sxXTtlW3VdLnB1c2goWy43NSpoKy4yNSpmLC43NSpwKy4yNSpnXSksZVt1XS5wdXNoKFsuMjUqaCsuNzUqZiwuMjUqcCsuNzUqZ10pfSksITApLGUuZm9yRWFjaCgoZnVuY3Rpb24odCl7dC5wdXNoKHRbMF0pfSkpfWZ1bmN0aW9uIEJhKHQsZSl7dmFyIG49MCxyPTAsaT0wO1IodCwoZnVuY3Rpb24obyxzLGEsdSxsKXt1PmkmJihpPXUscj1zLGUucHVzaChbW11dKSksbD5uJiYobj1sLHI9cyxlW3VdLnB1c2goW10pKTt2YXIgYz1zLXIsaD10LmNvb3JkaW5hdGVzW3VdW2xdW2MrMV0scD1vWzBdLGY9b1sxXSxnPWhbMF0sZD1oWzFdO2VbdV1bbF0ucHVzaChbLjc1KnArLjI1KmcsLjc1KmYrLjI1KmRdKSxlW3VdW2xdLnB1c2goWy4yNSpwKy43NSpnLC4yNSpmKy43NSpkXSl9KSwhMCksZS5mb3JFYWNoKChmdW5jdGlvbih0KXt0LmZvckVhY2goKGZ1bmN0aW9uKHQpe3QucHVzaCh0WzBdKX0pKX0pKX1mdW5jdGlvbiB6YSh0LGUsbil7dm9pZCAwPT09biYmKG49Mik7dmFyIHI9Syh0KSxpPUsoZSksbz1yWzBdLWlbMF0scz1yWzFdLWlbMV07cmV0dXJuIDE9PT1uP01hdGguYWJzKG8pK01hdGguYWJzKHMpOk1hdGgucG93KE1hdGgucG93KG8sbikrTWF0aC5wb3cocyxuKSwxL24pfWZ1bmN0aW9uIGphKHQsZSl7dmFyIG49KGU9ZXx8e30pLnRocmVzaG9sZHx8MWU0LHI9ZS5wfHwyLGk9ZS5iaW5hcnl8fCExLG89ZS5hbHBoYXx8LTEscz1lLnN0YW5kYXJkaXphdGlvbnx8ITEsYT1bXTtGKHQsKGZ1bmN0aW9uKHQpe2EucHVzaChFbih0KSl9KSk7Zm9yKHZhciB1PVtdLGw9MDtsPGEubGVuZ3RoO2wrKyl1W2xdPVtdO2ZvcihsPTA7bDxhLmxlbmd0aDtsKyspZm9yKHZhciBjPWw7YzxhLmxlbmd0aDtjKyspe2w9PT1jJiYodVtsXVtjXT0wKTt2YXIgaD16YShhW2xdLGFbY10scik7dVtsXVtjXT1oLHVbY11bbF09aH1mb3IobD0wO2w8YS5sZW5ndGg7bCsrKWZvcihjPTA7YzxhLmxlbmd0aDtjKyspezAhPT0oaD11W2xdW2NdKSYmKHVbbF1bY109aT9oPD1uPzE6MDpoPD1uP01hdGgucG93KGgsbyk6MCl9aWYocylmb3IobD0wO2w8YS5sZW5ndGg7bCsrKXt2YXIgcD11W2xdLnJlZHVjZSgoZnVuY3Rpb24odCxlKXtyZXR1cm4gdCtlfSksMCk7Zm9yKGM9MDtjPGEubGVuZ3RoO2MrKyl1W2xdW2NdPXVbbF1bY10vcH1yZXR1cm4gdX1mdW5jdGlvbiBVYSh0KXtmb3IodmFyIGU9MCxuPTAscj10O248ci5sZW5ndGg7bisrKXtlKz1yW25dfXJldHVybiBlL3QubGVuZ3RofWZ1bmN0aW9uIFZhKHQsZSl7cmV0dXJuIHZvaWQgMD09PWUmJihlPXt9KSxZYSh0LCJtZXJjYXRvciIsZSl9ZnVuY3Rpb24gWGEodCxlKXtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9e30pLFlhKHQsIndnczg0IixlKX1mdW5jdGlvbiBZYSh0LGUsbil7dm9pZCAwPT09biYmKG49e30pO3ZhciByPShuPW58fHt9KS5tdXRhdGU7aWYoIXQpdGhyb3cgbmV3IEVycm9yKCJnZW9qc29uIGlzIHJlcXVpcmVkIik7cmV0dXJuIEFycmF5LmlzQXJyYXkodCkmJkModFswXSk/dD0ibWVyY2F0b3IiPT09ZT9IYSh0KTpXYSh0KTooITAhPT1yJiYodD1JZSh0KSksUih0LChmdW5jdGlvbih0KXt2YXIgbj0ibWVyY2F0b3IiPT09ZT9IYSh0KTpXYSh0KTt0WzBdPW5bMF0sdFsxXT1uWzFdfSkpKSx0fWZ1bmN0aW9uIEhhKHQpe3ZhciBlPU1hdGguUEkvMTgwLG49NjM3ODEzNyxyPTIwMDM3NTA4LjM0Mjc4OTI0NCxpPVtuKihNYXRoLmFicyh0WzBdKTw9MTgwP3RbMF06dFswXS0zNjAqZnVuY3Rpb24odCl7cmV0dXJuIHQ8MD8tMTp0PjA/MTowfSh0WzBdKSkqZSxuKk1hdGgubG9nKE1hdGgudGFuKC4yNSpNYXRoLlBJKy41KnRbMV0qZSkpXTtyZXR1cm4gaVswXT5yJiYoaVswXT1yKSxpWzBdPC1yJiYoaVswXT0tciksaVsxXT5yJiYoaVsxXT1yKSxpWzFdPC1yJiYoaVsxXT0tciksaX1mdW5jdGlvbiBXYSh0KXt2YXIgZT0xODAvTWF0aC5QSSxuPTYzNzgxMzc7cmV0dXJuW3RbMF0qZS9uLCguNSpNYXRoLlBJLTIqTWF0aC5hdGFuKE1hdGguZXhwKC10WzFdL24pKSkqZV19UmEucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjpSYSxwb2x5Z29uczpmdW5jdGlvbigpe3ZhciB0PXRoaXMuZWRnZXM7cmV0dXJuIHRoaXMuY2VsbHMubWFwKChmdW5jdGlvbihlKXt2YXIgbj1lLmhhbGZlZGdlcy5tYXAoKGZ1bmN0aW9uKG4pe3JldHVybiBjYShlLHRbbl0pfSkpO3JldHVybiBuLmRhdGE9ZS5zaXRlLmRhdGEsbn0pKX0sdHJpYW5nbGVzOmZ1bmN0aW9uKCl7dmFyIHQ9W10sZT10aGlzLmVkZ2VzO3JldHVybiB0aGlzLmNlbGxzLmZvckVhY2goKGZ1bmN0aW9uKG4scil7aWYobz0oaT1uLmhhbGZlZGdlcykubGVuZ3RoKWZvcih2YXIgaSxvLHMsYSx1LGwsYz1uLnNpdGUsaD0tMSxwPWVbaVtvLTFdXSxmPXAubGVmdD09PWM/cC5yaWdodDpwLmxlZnQ7KytoPG87KXM9ZixmPShwPWVbaVtoXV0pLmxlZnQ9PT1jP3AucmlnaHQ6cC5sZWZ0LHMmJmYmJnI8cy5pbmRleCYmcjxmLmluZGV4JiYodT1zLGw9ZiwoKGE9YylbMF0tbFswXSkqKHVbMV0tYVsxXSktKGFbMF0tdVswXSkqKGxbMV0tYVsxXSk8MCkmJnQucHVzaChbYy5kYXRhLHMuZGF0YSxmLmRhdGFdKX0pKSx0fSxsaW5rczpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVkZ2VzLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIHQucmlnaHR9KSkubWFwKChmdW5jdGlvbih0KXtyZXR1cm57c291cmNlOnQubGVmdC5kYXRhLHRhcmdldDp0LnJpZ2h0LmRhdGF9fSkpfSxmaW5kOmZ1bmN0aW9uKHQsZSxuKXtmb3IodmFyIHIsaSxvPXRoaXMscz1vLl9mb3VuZHx8MCxhPW8uY2VsbHMubGVuZ3RoOyEoaT1vLmNlbGxzW3NdKTspaWYoKytzPj1hKXJldHVybiBudWxsO3ZhciB1PXQtaS5zaXRlWzBdLGw9ZS1pLnNpdGVbMV0sYz11KnUrbCpsO2Rve2k9by5jZWxsc1tyPXNdLHM9bnVsbCxpLmhhbGZlZGdlcy5mb3JFYWNoKChmdW5jdGlvbihuKXt2YXIgcj1vLmVkZ2VzW25dLGE9ci5sZWZ0O2lmKGEhPT1pLnNpdGUmJmF8fChhPXIucmlnaHQpKXt2YXIgdT10LWFbMF0sbD1lLWFbMV0saD11KnUrbCpsO2g8YyYmKGM9aCxzPWEuaW5kZXgpfX0pKX13aGlsZShudWxsIT09cyk7cmV0dXJuIG8uX2ZvdW5kPXIsbnVsbD09bnx8Yzw9bipuP2kuc2l0ZTpudWxsfX07dmFyIEphPU9iamVjdC5mcmVlemUoe19fcHJvdG9fXzpudWxsLHRvTWVyY2F0b3I6VmEsdG9XZ3M4NDpYYX0pLFphPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PTAsZT0wLG49YXJndW1lbnRzLmxlbmd0aDtlPG47ZSsrKXQrPWFyZ3VtZW50c1tlXS5sZW5ndGg7dmFyIHI9QXJyYXkodCksaT0wO2ZvcihlPTA7ZTxuO2UrKylmb3IodmFyIG89YXJndW1lbnRzW2VdLHM9MCxhPW8ubGVuZ3RoO3M8YTtzKyssaSsrKXJbaV09b1tzXTtyZXR1cm4gcn07ZnVuY3Rpb24gS2EodCl7cmV0dXJuIEFycmF5LmlzQXJyYXkodCk/bnUodCk6dCYmdC5iYm94P251KHQuYmJveCk6WzM2MCpldSgpLDE4MCpldSgpXX1mdW5jdGlvbiBRYSh0LGUpe3ZvaWQgMD09PWUmJihlPXt9KSxudWxsPT10JiYodD0xKTtmb3IodmFyIG49W10scj0wO3I8dDtyKyspbi5wdXNoKGEoS2EoZS5iYm94KSkpO3JldHVybiBmKG4pfWZ1bmN0aW9uICRhKHQsZSl7dm9pZCAwPT09ZSYmKGU9e30pLG51bGw9PXQmJih0PTEpLEMoZS5udW1fdmVydGljZXMpJiZ2b2lkIDAhPT1lLm51bV92ZXJ0aWNlc3x8KGUubnVtX3ZlcnRpY2VzPTEwKSxDKGUubWF4X3JhZGlhbF9sZW5ndGgpJiZ2b2lkIDAhPT1lLm1heF9yYWRpYWxfbGVuZ3RofHwoZS5tYXhfcmFkaWFsX2xlbmd0aD0xMCk7Zm9yKHZhciBuPVtdLHI9ZnVuY3Rpb24odCl7dmFyIHIsaT1bXSxvPVphKEFycmF5KGUubnVtX3ZlcnRpY2VzKzEpKS5tYXAoTWF0aC5yYW5kb20pO28uZm9yRWFjaCgoZnVuY3Rpb24odCxlLG4pe25bZV09ZT4wP3QrbltlLTFdOnR9KSksby5mb3JFYWNoKChmdW5jdGlvbih0KXt0PTIqdCpNYXRoLlBJL29bby5sZW5ndGgtMV07dmFyIG49TWF0aC5yYW5kb20oKTtpLnB1c2goW24qKGUubWF4X3JhZGlhbF9sZW5ndGh8fDEwKSpNYXRoLnNpbih0KSxuKihlLm1heF9yYWRpYWxfbGVuZ3RofHwxMCkqTWF0aC5jb3ModCldKX0pKSxpW2kubGVuZ3RoLTFdPWlbMF0saT1pLm1hcCgocj1LYShlLmJib3gpLGZ1bmN0aW9uKHQpe3JldHVyblt0WzBdK3JbMF0sdFsxXStyWzFdXX0pKSxuLnB1c2gobChbaV0pKX0saT0wO2k8dDtpKyspcigpO3JldHVybiBmKG4pfWZ1bmN0aW9uIHR1KHQsZSl7aWYodm9pZCAwPT09ZSYmKGU9e30pLCFQKGU9ZXx8e30pKXRocm93IG5ldyBFcnJvcigib3B0aW9ucyBpcyBpbnZhbGlkIik7dmFyIG49ZS5iYm94LHI9ZS5udW1fdmVydGljZXMsaT1lLm1heF9sZW5ndGgsbz1lLm1heF9yb3RhdGlvbjtudWxsPT10JiYodD0xKSwoIUMocil8fHZvaWQgMD09PXJ8fHI8MikmJihyPTEwKSxDKGkpJiZ2b2lkIDAhPT1pfHwoaT0xZS00KSxDKG8pJiZ2b2lkIDAhPT1vfHwobz1NYXRoLlBJLzgpO2Zvcih2YXIgcz1bXSxhPTA7YTx0O2ErKyl7Zm9yKHZhciB1PVtLYShuKV0sbD0wO2w8ci0xO2wrKyl7dmFyIGM9KDA9PT1sPzIqTWF0aC5yYW5kb20oKSpNYXRoLlBJOk1hdGgudGFuKCh1W2xdWzFdLXVbbC0xXVsxXSkvKHVbbF1bMF0tdVtsLTFdWzBdKSkpKyhNYXRoLnJhbmRvbSgpLS41KSpvKjIscD1NYXRoLnJhbmRvbSgpKmk7dS5wdXNoKFt1W2xdWzBdK3AqTWF0aC5jb3MoYyksdVtsXVsxXStwKk1hdGguc2luKGMpXSl9cy5wdXNoKGgodSkpfXJldHVybiBmKHMpfWZ1bmN0aW9uIGV1KCl7cmV0dXJuIE1hdGgucmFuZG9tKCktLjV9ZnVuY3Rpb24gbnUodCl7cmV0dXJuW01hdGgucmFuZG9tKCkqKHRbMl0tdFswXSkrdFswXSxNYXRoLnJhbmRvbSgpKih0WzNdLXRbMV0pK3RbMV1dfXZhciBydT1PYmplY3QuZnJlZXplKHtfX3Byb3RvX186bnVsbCxyYW5kb21Qb3NpdGlvbjpLYSxyYW5kb21Qb2ludDpRYSxyYW5kb21Qb2x5Z29uOiRhLHJhbmRvbUxpbmVTdHJpbmc6dHV9KTtmdW5jdGlvbiBpdSh0LGUpe2lmKCF0KXRocm93IG5ldyBFcnJvcigiZ2VvanNvbiBpcyByZXF1aXJlZCIpO2lmKCJGZWF0dXJlQ29sbGVjdGlvbiIhPT10LnR5cGUpdGhyb3cgbmV3IEVycm9yKCJnZW9qc29uIG11c3QgYmUgYSBGZWF0dXJlQ29sbGVjdGlvbiIpO2lmKG51bGw9PWUpdGhyb3cgbmV3IEVycm9yKCJmaWx0ZXIgaXMgcmVxdWlyZWQiKTt2YXIgbj1bXTtyZXR1cm4gRih0LChmdW5jdGlvbih0KXt1dSh0LnByb3BlcnRpZXMsZSkmJm4ucHVzaCh0KX0pKSxmKG4pfWZ1bmN0aW9uIG91KHQsZSxuKXtpZighdCl0aHJvdyBuZXcgRXJyb3IoImdlb2pzb24gaXMgcmVxdWlyZWQiKTtpZigiRmVhdHVyZUNvbGxlY3Rpb24iIT09dC50eXBlKXRocm93IG5ldyBFcnJvcigiZ2VvanNvbiBtdXN0IGJlIGEgRmVhdHVyZUNvbGxlY3Rpb24iKTtpZihudWxsPT1lKXRocm93IG5ldyBFcnJvcigicHJvcGVydHkgaXMgcmVxdWlyZWQiKTtmb3IodmFyIHI9YXUodCxlKSxpPU9iamVjdC5rZXlzKHIpLG89MDtvPGkubGVuZ3RoO28rKyl7Zm9yKHZhciBzPWlbb10sYT1yW3NdLHU9W10sbD0wO2w8YS5sZW5ndGg7bCsrKXUucHVzaCh0LmZlYXR1cmVzW2FbbF1dKTtuKGYodSkscyxvKX19ZnVuY3Rpb24gc3UodCxlLG4scil7dmFyIGk9cjtyZXR1cm4gb3UodCxlLChmdW5jdGlvbih0LGUsbyl7aT0wPT09byYmdm9pZCAwPT09cj90Om4oaSx0LGUsbyl9KSksaX1mdW5jdGlvbiBhdSh0LGUpe3ZhciBuPXt9O3JldHVybiBGKHQsKGZ1bmN0aW9uKHQscil7dmFyIGk9dC5wcm9wZXJ0aWVzfHx7fTtpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoaSxTdHJpbmcoZSkpKXt2YXIgbz1pW2VdO09iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChuLG8pP25bb10ucHVzaChyKTpuW29dPVtyXX19KSksbn1mdW5jdGlvbiB1dSh0LGUpe2lmKHZvaWQgMD09PXQpcmV0dXJuITE7dmFyIG49dHlwZW9mIGU7aWYoIm51bWJlciI9PT1ufHwic3RyaW5nIj09PW4pcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LGUpO2lmKEFycmF5LmlzQXJyYXkoZSkpe2Zvcih2YXIgcj0wO3I8ZS5sZW5ndGg7cisrKWlmKCF1dSh0LGVbcl0pKXJldHVybiExO3JldHVybiEwfXJldHVybiBsdSh0LGUpfWZ1bmN0aW9uIGx1KHQsZSl7Zm9yKHZhciBuPU9iamVjdC5rZXlzKGUpLHI9MDtyPG4ubGVuZ3RoO3IrKyl7dmFyIGk9bltyXTtpZih0W2ldIT09ZVtpXSlyZXR1cm4hMX1yZXR1cm4hMH1mdW5jdGlvbiBjdSh0LGUpe2lmKCFlKXJldHVybnt9O2lmKCFlLmxlbmd0aClyZXR1cm57fTtmb3IodmFyIG49e30scj0wO3I8ZS5sZW5ndGg7cisrKXt2YXIgaT1lW3JdO09iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LGkpJiYobltpXT10W2ldKX1yZXR1cm4gbn12YXIgaHU9T2JqZWN0LmZyZWV6ZSh7X19wcm90b19fOm51bGwsZ2V0Q2x1c3RlcjppdSxjbHVzdGVyRWFjaDpvdSxjbHVzdGVyUmVkdWNlOnN1LGNyZWF0ZUJpbnM6YXUsYXBwbHlGaWx0ZXI6dXUscHJvcGVydGllc0NvbnRhaW5zRmlsdGVyOmx1LGZpbHRlclByb3BlcnRpZXM6Y3V9KSxwdT1mdW5jdGlvbih0LGUpe3RoaXMubmV4dD1udWxsLHRoaXMua2V5PXQsdGhpcy5kYXRhPWUsdGhpcy5sZWZ0PW51bGwsdGhpcy5yaWdodD1udWxsfTsKLyoqCiAgICAgKiBzcGxheXRyZWUgdjMuMS4wCiAgICAgKiBGYXN0IFNwbGF5IHRyZWUgZm9yIE5vZGUgYW5kIGJyb3dzZXIKICAgICAqCiAgICAgKiBAYXV0aG9yIEFsZXhhbmRlciBNaWxldnNraSA8aW5mb0B3OHIubmFtZT4KICAgICAqIEBsaWNlbnNlIE1JVAogICAgICogQHByZXNlcnZlCiAgICAgKi9mdW5jdGlvbiBmdSh0LGUpe3JldHVybiB0PmU/MTp0PGU/LTE6MH1mdW5jdGlvbiBndSh0LGUsbil7Zm9yKHZhciByPW5ldyBwdShudWxsLG51bGwpLGk9cixvPXI7Oyl7dmFyIHM9bih0LGUua2V5KTtpZihzPDApe2lmKG51bGw9PT1lLmxlZnQpYnJlYWs7aWYobih0LGUubGVmdC5rZXkpPDApe3ZhciBhPWUubGVmdDtpZihlLmxlZnQ9YS5yaWdodCxhLnJpZ2h0PWUsbnVsbD09PShlPWEpLmxlZnQpYnJlYWt9by5sZWZ0PWUsbz1lLGU9ZS5sZWZ0fWVsc2V7aWYoIShzPjApKWJyZWFrO2lmKG51bGw9PT1lLnJpZ2h0KWJyZWFrO2lmKG4odCxlLnJpZ2h0LmtleSk+MCl7YT1lLnJpZ2h0O2lmKGUucmlnaHQ9YS5sZWZ0LGEubGVmdD1lLG51bGw9PT0oZT1hKS5yaWdodClicmVha31pLnJpZ2h0PWUsaT1lLGU9ZS5yaWdodH19cmV0dXJuIGkucmlnaHQ9ZS5sZWZ0LG8ubGVmdD1lLnJpZ2h0LGUubGVmdD1yLnJpZ2h0LGUucmlnaHQ9ci5sZWZ0LGV9ZnVuY3Rpb24gZHUodCxlLG4scil7dmFyIGk9bmV3IHB1KHQsZSk7aWYobnVsbD09PW4pcmV0dXJuIGkubGVmdD1pLnJpZ2h0PW51bGwsaTt2YXIgbz1yKHQsKG49Z3UodCxuLHIpKS5rZXkpO3JldHVybiBvPDA/KGkubGVmdD1uLmxlZnQsaS5yaWdodD1uLG4ubGVmdD1udWxsKTpvPj0wJiYoaS5yaWdodD1uLnJpZ2h0LGkubGVmdD1uLG4ucmlnaHQ9bnVsbCksaX1mdW5jdGlvbiB5dSh0LGUsbil7dmFyIHI9bnVsbCxpPW51bGw7aWYoZSl7dmFyIG89bigoZT1ndSh0LGUsbikpLmtleSx0KTswPT09bz8ocj1lLmxlZnQsaT1lLnJpZ2h0KTpvPDA/KGk9ZS5yaWdodCxlLnJpZ2h0PW51bGwscj1lKToocj1lLmxlZnQsZS5sZWZ0PW51bGwsaT1lKX1yZXR1cm57bGVmdDpyLHJpZ2h0Oml9fWZ1bmN0aW9uIHZ1KHQsZSxuLHIsaSl7aWYodCl7cihlKyhuPyLilJTilIDilIAgIjoi4pSc4pSA4pSAICIpK2kodCkrIlxuIik7dmFyIG89ZSsobj8iICAgICI6IuKUgiAgICIpO3QubGVmdCYmdnUodC5sZWZ0LG8sITEscixpKSx0LnJpZ2h0JiZ2dSh0LnJpZ2h0LG8sITAscixpKX19dmFyIF91PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt2b2lkIDA9PT10JiYodD1mdSksdGhpcy5fcm9vdD1udWxsLHRoaXMuX3NpemU9MCx0aGlzLl9jb21wYXJhdG9yPXR9cmV0dXJuIHQucHJvdG90eXBlLmluc2VydD1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLl9zaXplKyssdGhpcy5fcm9vdD1kdSh0LGUsdGhpcy5fcm9vdCx0aGlzLl9jb21wYXJhdG9yKX0sdC5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKHQsZSl7dmFyIG49bmV3IHB1KHQsZSk7bnVsbD09PXRoaXMuX3Jvb3QmJihuLmxlZnQ9bi5yaWdodD1udWxsLHRoaXMuX3NpemUrKyx0aGlzLl9yb290PW4pO3ZhciByPXRoaXMuX2NvbXBhcmF0b3IsaT1ndSh0LHRoaXMuX3Jvb3Qsciksbz1yKHQsaS5rZXkpO3JldHVybiAwPT09bz90aGlzLl9yb290PWk6KG88MD8obi5sZWZ0PWkubGVmdCxuLnJpZ2h0PWksaS5sZWZ0PW51bGwpOm8+MCYmKG4ucmlnaHQ9aS5yaWdodCxuLmxlZnQ9aSxpLnJpZ2h0PW51bGwpLHRoaXMuX3NpemUrKyx0aGlzLl9yb290PW4pLHRoaXMuX3Jvb3R9LHQucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbih0KXt0aGlzLl9yb290PXRoaXMuX3JlbW92ZSh0LHRoaXMuX3Jvb3QsdGhpcy5fY29tcGFyYXRvcil9LHQucHJvdG90eXBlLl9yZW1vdmU9ZnVuY3Rpb24odCxlLG4pe3ZhciByO3JldHVybiBudWxsPT09ZT9udWxsOjA9PT1uKHQsKGU9Z3UodCxlLG4pKS5rZXkpPyhudWxsPT09ZS5sZWZ0P3I9ZS5yaWdodDoocj1ndSh0LGUubGVmdCxuKSkucmlnaHQ9ZS5yaWdodCx0aGlzLl9zaXplLS0scik6ZX0sdC5wcm90b3R5cGUucG9wPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fcm9vdDtpZih0KXtmb3IoO3QubGVmdDspdD10LmxlZnQ7cmV0dXJuIHRoaXMuX3Jvb3Q9Z3UodC5rZXksdGhpcy5fcm9vdCx0aGlzLl9jb21wYXJhdG9yKSx0aGlzLl9yb290PXRoaXMuX3JlbW92ZSh0LmtleSx0aGlzLl9yb290LHRoaXMuX2NvbXBhcmF0b3IpLHtrZXk6dC5rZXksZGF0YTp0LmRhdGF9fXJldHVybiBudWxsfSx0LnByb3RvdHlwZS5maW5kU3RhdGljPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10aGlzLl9yb290LG49dGhpcy5fY29tcGFyYXRvcjtlOyl7dmFyIHI9bih0LGUua2V5KTtpZigwPT09cilyZXR1cm4gZTtlPXI8MD9lLmxlZnQ6ZS5yaWdodH1yZXR1cm4gbnVsbH0sdC5wcm90b3R5cGUuZmluZD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fcm9vdCYmKHRoaXMuX3Jvb3Q9Z3UodCx0aGlzLl9yb290LHRoaXMuX2NvbXBhcmF0b3IpLDAhPT10aGlzLl9jb21wYXJhdG9yKHQsdGhpcy5fcm9vdC5rZXkpKT9udWxsOnRoaXMuX3Jvb3R9LHQucHJvdG90eXBlLmNvbnRhaW5zPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10aGlzLl9yb290LG49dGhpcy5fY29tcGFyYXRvcjtlOyl7dmFyIHI9bih0LGUua2V5KTtpZigwPT09cilyZXR1cm4hMDtlPXI8MD9lLmxlZnQ6ZS5yaWdodH1yZXR1cm4hMX0sdC5wcm90b3R5cGUuZm9yRWFjaD1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj10aGlzLl9yb290LHI9W10saT0hMTshaTspbnVsbCE9PW4/KHIucHVzaChuKSxuPW4ubGVmdCk6MCE9PXIubGVuZ3RoPyhuPXIucG9wKCksdC5jYWxsKGUsbiksbj1uLnJpZ2h0KTppPSEwO3JldHVybiB0aGlzfSx0LnByb3RvdHlwZS5yYW5nZT1mdW5jdGlvbih0LGUsbixyKXtmb3IodmFyIGk9W10sbz10aGlzLl9jb21wYXJhdG9yLHM9dGhpcy5fcm9vdDswIT09aS5sZW5ndGh8fHM7KWlmKHMpaS5wdXNoKHMpLHM9cy5sZWZ0O2Vsc2V7aWYobygocz1pLnBvcCgpKS5rZXksZSk+MClicmVhaztpZihvKHMua2V5LHQpPj0wJiZuLmNhbGwocixzKSlyZXR1cm4gdGhpcztzPXMucmlnaHR9cmV0dXJuIHRoaXN9LHQucHJvdG90eXBlLmtleXM9ZnVuY3Rpb24oKXt2YXIgdD1bXTtyZXR1cm4gdGhpcy5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgbj1lLmtleTtyZXR1cm4gdC5wdXNoKG4pfSkpLHR9LHQucHJvdG90eXBlLnZhbHVlcz1mdW5jdGlvbigpe3ZhciB0PVtdO3JldHVybiB0aGlzLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciBuPWUuZGF0YTtyZXR1cm4gdC5wdXNoKG4pfSkpLHR9LHQucHJvdG90eXBlLm1pbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9yb290P3RoaXMubWluTm9kZSh0aGlzLl9yb290KS5rZXk6bnVsbH0sdC5wcm90b3R5cGUubWF4PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3Jvb3Q/dGhpcy5tYXhOb2RlKHRoaXMuX3Jvb3QpLmtleTpudWxsfSx0LnByb3RvdHlwZS5taW5Ob2RlPWZ1bmN0aW9uKHQpe2lmKHZvaWQgMD09PXQmJih0PXRoaXMuX3Jvb3QpLHQpZm9yKDt0LmxlZnQ7KXQ9dC5sZWZ0O3JldHVybiB0fSx0LnByb3RvdHlwZS5tYXhOb2RlPWZ1bmN0aW9uKHQpe2lmKHZvaWQgMD09PXQmJih0PXRoaXMuX3Jvb3QpLHQpZm9yKDt0LnJpZ2h0Oyl0PXQucmlnaHQ7cmV0dXJuIHR9LHQucHJvdG90eXBlLmF0PWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10aGlzLl9yb290LG49ITEscj0wLGk9W107IW47KWlmKGUpaS5wdXNoKGUpLGU9ZS5sZWZ0O2Vsc2UgaWYoaS5sZW5ndGg+MCl7aWYoZT1pLnBvcCgpLHI9PT10KXJldHVybiBlO3IrKyxlPWUucmlnaHR9ZWxzZSBuPSEwO3JldHVybiBudWxsfSx0LnByb3RvdHlwZS5uZXh0PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX3Jvb3Qsbj1udWxsO2lmKHQucmlnaHQpe2ZvcihuPXQucmlnaHQ7bi5sZWZ0OyluPW4ubGVmdDtyZXR1cm4gbn1mb3IodmFyIHI9dGhpcy5fY29tcGFyYXRvcjtlOyl7dmFyIGk9cih0LmtleSxlLmtleSk7aWYoMD09PWkpYnJlYWs7aTwwPyhuPWUsZT1lLmxlZnQpOmU9ZS5yaWdodH1yZXR1cm4gbn0sdC5wcm90b3R5cGUucHJldj1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9yb290LG49bnVsbDtpZihudWxsIT09dC5sZWZ0KXtmb3Iobj10LmxlZnQ7bi5yaWdodDspbj1uLnJpZ2h0O3JldHVybiBufWZvcih2YXIgcj10aGlzLl9jb21wYXJhdG9yO2U7KXt2YXIgaT1yKHQua2V5LGUua2V5KTtpZigwPT09aSlicmVhaztpPDA/ZT1lLmxlZnQ6KG49ZSxlPWUucmlnaHQpfXJldHVybiBufSx0LnByb3RvdHlwZS5jbGVhcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9yb290PW51bGwsdGhpcy5fc2l6ZT0wLHRoaXN9LHQucHJvdG90eXBlLnRvTGlzdD1mdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbih0KXt2YXIgZT10LG49W10scj0hMSxpPW5ldyBwdShudWxsLG51bGwpLG89aTtmb3IoOyFyOyllPyhuLnB1c2goZSksZT1lLmxlZnQpOm4ubGVuZ3RoPjA/ZT0oZT1vPW8ubmV4dD1uLnBvcCgpKS5yaWdodDpyPSEwO3JldHVybiBvLm5leHQ9bnVsbCxpLm5leHR9KHRoaXMuX3Jvb3QpfSx0LnByb3RvdHlwZS5sb2FkPWZ1bmN0aW9uKHQsZSxuKXt2b2lkIDA9PT1lJiYoZT1bXSksdm9pZCAwPT09biYmKG49ITEpO3ZhciByPXQubGVuZ3RoLGk9dGhpcy5fY29tcGFyYXRvcjtpZihuJiZFdSh0LGUsMCxyLTEsaSksbnVsbD09PXRoaXMuX3Jvb3QpdGhpcy5fcm9vdD1tdSh0LGUsMCxyKSx0aGlzLl9zaXplPXI7ZWxzZXt2YXIgbz1mdW5jdGlvbih0LGUsbil7dmFyIHI9bmV3IHB1KG51bGwsbnVsbCksaT1yLG89dCxzPWU7Zm9yKDtudWxsIT09byYmbnVsbCE9PXM7KW4oby5rZXkscy5rZXkpPDA/KGkubmV4dD1vLG89by5uZXh0KTooaS5uZXh0PXMscz1zLm5leHQpLGk9aS5uZXh0O251bGwhPT1vP2kubmV4dD1vOm51bGwhPT1zJiYoaS5uZXh0PXMpO3JldHVybiByLm5leHR9KHRoaXMudG9MaXN0KCksZnVuY3Rpb24odCxlKXtmb3IodmFyIG49bmV3IHB1KG51bGwsbnVsbCkscj1uLGk9MDtpPHQubGVuZ3RoO2krKylyPXIubmV4dD1uZXcgcHUodFtpXSxlW2ldKTtyZXR1cm4gci5uZXh0PW51bGwsbi5uZXh0fSh0LGUpLGkpO3I9dGhpcy5fc2l6ZStyLHRoaXMuX3Jvb3Q9eHUoe2hlYWQ6b30sMCxyKX1yZXR1cm4gdGhpc30sdC5wcm90b3R5cGUuaXNFbXB0eT1mdW5jdGlvbigpe3JldHVybiBudWxsPT09dGhpcy5fcm9vdH0sT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLCJzaXplIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NpemV9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLCJyb290Iix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3Jvb3R9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksdC5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24odCl7dm9pZCAwPT09dCYmKHQ9ZnVuY3Rpb24odCl7cmV0dXJuIFN0cmluZyh0LmtleSl9KTt2YXIgZT1bXTtyZXR1cm4gdnUodGhpcy5fcm9vdCwiIiwhMCwoZnVuY3Rpb24odCl7cmV0dXJuIGUucHVzaCh0KX0pLHQpLGUuam9pbigiIil9LHQucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbih0LGUsbil7dmFyIHI9dGhpcy5fY29tcGFyYXRvcixpPXl1KHQsdGhpcy5fcm9vdCxyKSxvPWkubGVmdCxzPWkucmlnaHQ7cih0LGUpPDA/cz1kdShlLG4scyxyKTpvPWR1KGUsbixvLHIpLHRoaXMuX3Jvb3Q9ZnVuY3Rpb24odCxlLG4pe3JldHVybiBudWxsPT09ZT90OihudWxsPT09dHx8KChlPWd1KHQua2V5LGUsbikpLmxlZnQ9dCksZSl9KG8scyxyKX0sdC5wcm90b3R5cGUuc3BsaXQ9ZnVuY3Rpb24odCl7cmV0dXJuIHl1KHQsdGhpcy5fcm9vdCx0aGlzLl9jb21wYXJhdG9yKX0sdH0oKTtmdW5jdGlvbiBtdSh0LGUsbixyKXt2YXIgaT1yLW47aWYoaT4wKXt2YXIgbz1uK01hdGguZmxvb3IoaS8yKSxzPXRbb10sYT1lW29dLHU9bmV3IHB1KHMsYSk7cmV0dXJuIHUubGVmdD1tdSh0LGUsbixvKSx1LnJpZ2h0PW11KHQsZSxvKzEsciksdX1yZXR1cm4gbnVsbH1mdW5jdGlvbiB4dSh0LGUsbil7dmFyIHI9bi1lO2lmKHI+MCl7dmFyIGk9ZStNYXRoLmZsb29yKHIvMiksbz14dSh0LGUsaSkscz10LmhlYWQ7cmV0dXJuIHMubGVmdD1vLHQuaGVhZD10LmhlYWQubmV4dCxzLnJpZ2h0PXh1KHQsaSsxLG4pLHN9cmV0dXJuIG51bGx9ZnVuY3Rpb24gRXUodCxlLG4scixpKXtpZighKG4+PXIpKXtmb3IodmFyIG89dFtuK3I+PjFdLHM9bi0xLGE9cisxOzspe2Rve3MrK313aGlsZShpKHRbc10sbyk8MCk7ZG97YS0tfXdoaWxlKGkodFthXSxvKT4wKTtpZihzPj1hKWJyZWFrO3ZhciB1PXRbc107dFtzXT10W2FdLHRbYV09dSx1PWVbc10sZVtzXT1lW2FdLGVbYV09dX1FdSh0LGUsbixhLGkpLEV1KHQsZSxhKzEscixpKX19ZnVuY3Rpb24gYnUodCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24iKX1mdW5jdGlvbiB3dSh0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcj1lW25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLCJ2YWx1ZSJpbiByJiYoci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsci5rZXkscil9fWZ1bmN0aW9uIEl1KHQsZSxuKXtyZXR1cm4gZSYmd3UodC5wcm90b3R5cGUsZSksbiYmd3UodCxuKSx0fXZhciBOdT1mdW5jdGlvbih0LGUpe3JldHVybiB0LmxsLng8PWUueCYmZS54PD10LnVyLngmJnQubGwueTw9ZS55JiZlLnk8PXQudXIueX0sU3U9ZnVuY3Rpb24odCxlKXtpZihlLnVyLng8dC5sbC54fHx0LnVyLng8ZS5sbC54fHxlLnVyLnk8dC5sbC55fHx0LnVyLnk8ZS5sbC55KXJldHVybiBudWxsO3ZhciBuPXQubGwueDxlLmxsLng/ZS5sbC54OnQubGwueCxyPXQudXIueDxlLnVyLng/dC51ci54OmUudXIueDtyZXR1cm57bGw6e3g6bix5OnQubGwueTxlLmxsLnk/ZS5sbC55OnQubGwueX0sdXI6e3g6cix5OnQudXIueTxlLnVyLnk/dC51ci55OmUudXIueX19fSxDdT1OdW1iZXIuRVBTSUxPTjt2b2lkIDA9PT1DdSYmKEN1PU1hdGgucG93KDIsLTUyKSk7dmFyIFB1PUN1KkN1LE11PWZ1bmN0aW9uKHQsZSl7aWYoLUN1PHQmJnQ8Q3UmJi1DdTxlJiZlPEN1KXJldHVybiAwO3ZhciBuPXQtZTtyZXR1cm4gbipuPFB1KnQqZT8wOnQ8ZT8tMToxfSxMdT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXtidSh0aGlzLHQpLHRoaXMucmVzZXQoKX1yZXR1cm4gSXUodCxbe2tleToicmVzZXQiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy54Um91bmRlcj1uZXcgT3UsdGhpcy55Um91bmRlcj1uZXcgT3V9fSx7a2V5OiJyb3VuZCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtyZXR1cm57eDp0aGlzLnhSb3VuZGVyLnJvdW5kKHQpLHk6dGhpcy55Um91bmRlci5yb3VuZChlKX19fV0pLHR9KCksT3U9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7YnUodGhpcyx0KSx0aGlzLnRyZWU9bmV3IF91LHRoaXMucm91bmQoMCl9cmV0dXJuIEl1KHQsW3trZXk6InJvdW5kIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLnRyZWUuYWRkKHQpLG49dGhpcy50cmVlLnByZXYoZSk7aWYobnVsbCE9PW4mJjA9PT1NdShlLmtleSxuLmtleSkpcmV0dXJuIHRoaXMudHJlZS5yZW1vdmUodCksbi5rZXk7dmFyIHI9dGhpcy50cmVlLm5leHQoZSk7cmV0dXJuIG51bGwhPT1yJiYwPT09TXUoZS5rZXksci5rZXkpPyh0aGlzLnRyZWUucmVtb3ZlKHQpLHIua2V5KTp0fX1dKSx0fSgpLFJ1PW5ldyBMdSxUdT1mdW5jdGlvbih0LGUpe3JldHVybiB0LngqZS55LXQueSplLnh9LEF1PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQueCplLngrdC55KmUueX0sRHU9ZnVuY3Rpb24odCxlLG4pe3ZhciByPXt4OmUueC10LngseTplLnktdC55fSxpPXt4Om4ueC10LngseTpuLnktdC55fSxvPVR1KHIsaSk7cmV0dXJuIE11KG8sMCl9LEZ1PWZ1bmN0aW9uKHQpe3JldHVybiBNYXRoLnNxcnQoQXUodCx0KSl9LGt1PWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj17eDplLngtdC54LHk6ZS55LXQueX0saT17eDpuLngtdC54LHk6bi55LXQueX07cmV0dXJuIEF1KGkscikvRnUoaSkvRnUocil9LEd1PWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gMD09PWUueT9udWxsOnt4OnQueCtlLngvZS55KihuLXQueSkseTpufX0scXU9ZnVuY3Rpb24odCxlLG4pe3JldHVybiAwPT09ZS54P251bGw6e3g6bix5OnQueStlLnkvZS54KihuLXQueCl9fSxCdT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSxuKXtidSh0aGlzLHQpLHZvaWQgMD09PWUuZXZlbnRzP2UuZXZlbnRzPVt0aGlzXTplLmV2ZW50cy5wdXNoKHRoaXMpLHRoaXMucG9pbnQ9ZSx0aGlzLmlzTGVmdD1ufXJldHVybiBJdSh0LG51bGwsW3trZXk6ImNvbXBhcmUiLHZhbHVlOmZ1bmN0aW9uKGUsbil7dmFyIHI9dC5jb21wYXJlUG9pbnRzKGUucG9pbnQsbi5wb2ludCk7cmV0dXJuIDAhPT1yP3I6KGUucG9pbnQhPT1uLnBvaW50JiZlLmxpbmsobiksZS5pc0xlZnQhPT1uLmlzTGVmdD9lLmlzTGVmdD8xOi0xOmp1LmNvbXBhcmUoZS5zZWdtZW50LG4uc2VnbWVudCkpfX0se2tleToiY29tcGFyZVBvaW50cyIsdmFsdWU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC54PGUueD8tMTp0Lng+ZS54PzE6dC55PGUueT8tMTp0Lnk+ZS55PzE6MH19XSksSXUodCxbe2tleToibGluayIsdmFsdWU6ZnVuY3Rpb24odCl7aWYodC5wb2ludD09PXRoaXMucG9pbnQpdGhyb3cgbmV3IEVycm9yKCJUcmllZCB0byBsaW5rIGFscmVhZHkgbGlua2VkIGV2ZW50cyIpO2Zvcih2YXIgZT10LnBvaW50LmV2ZW50cyxuPTAscj1lLmxlbmd0aDtuPHI7bisrKXt2YXIgaT1lW25dO3RoaXMucG9pbnQuZXZlbnRzLnB1c2goaSksaS5wb2ludD10aGlzLnBvaW50fXRoaXMuY2hlY2tGb3JDb25zdW1pbmcoKX19LHtrZXk6ImNoZWNrRm9yQ29uc3VtaW5nIix2YWx1ZTpmdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLnBvaW50LmV2ZW50cy5sZW5ndGgsZT0wO2U8dDtlKyspe3ZhciBuPXRoaXMucG9pbnQuZXZlbnRzW2VdO2lmKHZvaWQgMD09PW4uc2VnbWVudC5jb25zdW1lZEJ5KWZvcih2YXIgcj1lKzE7cjx0O3IrKyl7dmFyIGk9dGhpcy5wb2ludC5ldmVudHNbcl07dm9pZCAwPT09aS5jb25zdW1lZEJ5JiYobi5vdGhlclNFLnBvaW50LmV2ZW50cz09PWkub3RoZXJTRS5wb2ludC5ldmVudHMmJm4uc2VnbWVudC5jb25zdW1lKGkuc2VnbWVudCkpfX19fSx7a2V5OiJnZXRBdmFpbGFibGVMaW5rZWRFdmVudHMiLHZhbHVlOmZ1bmN0aW9uKCl7Zm9yKHZhciB0PVtdLGU9MCxuPXRoaXMucG9pbnQuZXZlbnRzLmxlbmd0aDtlPG47ZSsrKXt2YXIgcj10aGlzLnBvaW50LmV2ZW50c1tlXTtyIT09dGhpcyYmIXIuc2VnbWVudC5yaW5nT3V0JiZyLnNlZ21lbnQuaXNJblJlc3VsdCgpJiZ0LnB1c2gocil9cmV0dXJuIHR9fSx7a2V5OiJnZXRMZWZ0bW9zdENvbXBhcmF0b3IiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMsbj1uZXcgTWFwLHI9ZnVuY3Rpb24ocil7dmFyIGksbyxzLGEsdSxsPXIub3RoZXJTRTtuLnNldChyLHtzaW5lOihpPWUucG9pbnQsbz10LnBvaW50LHM9bC5wb2ludCxhPXt4Om8ueC1pLngseTpvLnktaS55fSx1PXt4OnMueC1pLngseTpzLnktaS55fSxUdSh1LGEpL0Z1KHUpL0Z1KGEpKSxjb3NpbmU6a3UoZS5wb2ludCx0LnBvaW50LGwucG9pbnQpfSl9O3JldHVybiBmdW5jdGlvbih0LGUpe24uaGFzKHQpfHxyKHQpLG4uaGFzKGUpfHxyKGUpO3ZhciBpPW4uZ2V0KHQpLG89aS5zaW5lLHM9aS5jb3NpbmUsYT1uLmdldChlKSx1PWEuc2luZSxsPWEuY29zaW5lO3JldHVybiBvPj0wJiZ1Pj0wP3M8bD8xOnM+bD8tMTowOm88MCYmdTwwP3M8bD8tMTpzPmw/MTowOnU8bz8tMTp1Pm8/MTowfX19XSksdH0oKSx6dT0wLGp1PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlLG4scixpKXtidSh0aGlzLHQpLHRoaXMuaWQ9Kyt6dSx0aGlzLmxlZnRTRT1lLGUuc2VnbWVudD10aGlzLGUub3RoZXJTRT1uLHRoaXMucmlnaHRTRT1uLG4uc2VnbWVudD10aGlzLG4ub3RoZXJTRT1lLHRoaXMucmluZ3M9cix0aGlzLndpbmRpbmdzPWl9cmV0dXJuIEl1KHQsbnVsbCxbe2tleToiY29tcGFyZSIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgbj10LmxlZnRTRS5wb2ludC54LHI9ZS5sZWZ0U0UucG9pbnQueCxpPXQucmlnaHRTRS5wb2ludC54LG89ZS5yaWdodFNFLnBvaW50Lng7aWYobzxuKXJldHVybiAxO2lmKGk8cilyZXR1cm4tMTt2YXIgcz10LmxlZnRTRS5wb2ludC55LGE9ZS5sZWZ0U0UucG9pbnQueSx1PXQucmlnaHRTRS5wb2ludC55LGw9ZS5yaWdodFNFLnBvaW50Lnk7aWYobjxyKXtpZihhPHMmJmE8dSlyZXR1cm4gMTtpZihhPnMmJmE+dSlyZXR1cm4tMTt2YXIgYz10LmNvbXBhcmVQb2ludChlLmxlZnRTRS5wb2ludCk7aWYoYzwwKXJldHVybiAxO2lmKGM+MClyZXR1cm4tMTt2YXIgaD1lLmNvbXBhcmVQb2ludCh0LnJpZ2h0U0UucG9pbnQpO3JldHVybiAwIT09aD9oOi0xfWlmKG4+cil7aWYoczxhJiZzPGwpcmV0dXJuLTE7aWYocz5hJiZzPmwpcmV0dXJuIDE7dmFyIHA9ZS5jb21wYXJlUG9pbnQodC5sZWZ0U0UucG9pbnQpO2lmKDAhPT1wKXJldHVybiBwO3ZhciBmPXQuY29tcGFyZVBvaW50KGUucmlnaHRTRS5wb2ludCk7cmV0dXJuIGY8MD8xOmY+MD8tMToxfWlmKHM8YSlyZXR1cm4tMTtpZihzPmEpcmV0dXJuIDE7aWYoaTxvKXt2YXIgZz1lLmNvbXBhcmVQb2ludCh0LnJpZ2h0U0UucG9pbnQpO2lmKDAhPT1nKXJldHVybiBnfWlmKGk+byl7dmFyIGQ9dC5jb21wYXJlUG9pbnQoZS5yaWdodFNFLnBvaW50KTtpZihkPDApcmV0dXJuIDE7aWYoZD4wKXJldHVybi0xfWlmKGkhPT1vKXt2YXIgeT11LXMsdj1pLW4sXz1sLWEsbT1vLXI7aWYoeT52JiZfPG0pcmV0dXJuIDE7aWYoeTx2JiZfPm0pcmV0dXJuLTF9cmV0dXJuIGk+bz8xOmk8b3x8dTxsPy0xOnU+bD8xOnQuaWQ8ZS5pZD8tMTp0LmlkPmUuaWQ/MTowfX1dKSxJdSh0LFt7a2V5OiJyZXBsYWNlUmlnaHRTRSIsdmFsdWU6ZnVuY3Rpb24odCl7dGhpcy5yaWdodFNFPXQsdGhpcy5yaWdodFNFLnNlZ21lbnQ9dGhpcyx0aGlzLnJpZ2h0U0Uub3RoZXJTRT10aGlzLmxlZnRTRSx0aGlzLmxlZnRTRS5vdGhlclNFPXRoaXMucmlnaHRTRX19LHtrZXk6ImJib3giLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5sZWZ0U0UucG9pbnQueSxlPXRoaXMucmlnaHRTRS5wb2ludC55O3JldHVybntsbDp7eDp0aGlzLmxlZnRTRS5wb2ludC54LHk6dDxlP3Q6ZX0sdXI6e3g6dGhpcy5yaWdodFNFLnBvaW50LngseTp0PmU/dDplfX19fSx7a2V5OiJ2ZWN0b3IiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJue3g6dGhpcy5yaWdodFNFLnBvaW50LngtdGhpcy5sZWZ0U0UucG9pbnQueCx5OnRoaXMucmlnaHRTRS5wb2ludC55LXRoaXMubGVmdFNFLnBvaW50Lnl9fX0se2tleToiaXNBbkVuZHBvaW50Iix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdC54PT09dGhpcy5sZWZ0U0UucG9pbnQueCYmdC55PT09dGhpcy5sZWZ0U0UucG9pbnQueXx8dC54PT09dGhpcy5yaWdodFNFLnBvaW50LngmJnQueT09PXRoaXMucmlnaHRTRS5wb2ludC55fX0se2tleToiY29tcGFyZVBvaW50Iix2YWx1ZTpmdW5jdGlvbih0KXtpZih0aGlzLmlzQW5FbmRwb2ludCh0KSlyZXR1cm4gMDt2YXIgZT10aGlzLmxlZnRTRS5wb2ludCxuPXRoaXMucmlnaHRTRS5wb2ludCxyPXRoaXMudmVjdG9yKCk7aWYoZS54PT09bi54KXJldHVybiB0Lng9PT1lLng/MDp0Lng8ZS54PzE6LTE7dmFyIGk9KHQueS1lLnkpL3IueSxvPWUueCtpKnIueDtpZih0Lng9PT1vKXJldHVybiAwO3ZhciBzPSh0LngtZS54KS9yLngsYT1lLnkrcypyLnk7cmV0dXJuIHQueT09PWE/MDp0Lnk8YT8tMToxfX0se2tleToiZ2V0SW50ZXJzZWN0aW9uIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmJib3goKSxuPXQuYmJveCgpLHI9U3UoZSxuKTtpZihudWxsPT09cilyZXR1cm4gbnVsbDt2YXIgaT10aGlzLmxlZnRTRS5wb2ludCxvPXRoaXMucmlnaHRTRS5wb2ludCxzPXQubGVmdFNFLnBvaW50LGE9dC5yaWdodFNFLnBvaW50LHU9TnUoZSxzKSYmMD09PXRoaXMuY29tcGFyZVBvaW50KHMpLGw9TnUobixpKSYmMD09PXQuY29tcGFyZVBvaW50KGkpLGM9TnUoZSxhKSYmMD09PXRoaXMuY29tcGFyZVBvaW50KGEpLGg9TnUobixvKSYmMD09PXQuY29tcGFyZVBvaW50KG8pO2lmKGwmJnUpcmV0dXJuIGgmJiFjP286IWgmJmM/YTpudWxsO2lmKGwpcmV0dXJuIGMmJmkueD09PWEueCYmaS55PT09YS55P251bGw6aTtpZih1KXJldHVybiBoJiZvLng9PT1zLngmJm8ueT09PXMueT9udWxsOnM7aWYoaCYmYylyZXR1cm4gbnVsbDtpZihoKXJldHVybiBvO2lmKGMpcmV0dXJuIGE7dmFyIHA9ZnVuY3Rpb24odCxlLG4scil7aWYoMD09PWUueClyZXR1cm4gcXUobixyLHQueCk7aWYoMD09PXIueClyZXR1cm4gcXUodCxlLG4ueCk7aWYoMD09PWUueSlyZXR1cm4gR3UobixyLHQueSk7aWYoMD09PXIueSlyZXR1cm4gR3UodCxlLG4ueSk7dmFyIGk9VHUoZSxyKTtpZigwPT1pKXJldHVybiBudWxsO3ZhciBvPXt4Om4ueC10LngseTpuLnktdC55fSxzPVR1KG8sZSkvaSxhPVR1KG8scikvaTtyZXR1cm57eDoodC54K2EqZS54KyhuLngrcypyLngpKS8yLHk6KHQueSthKmUueSsobi55K3Mqci55KSkvMn19KGksdGhpcy52ZWN0b3IoKSxzLHQudmVjdG9yKCkpO3JldHVybiBudWxsPT09cD9udWxsOk51KHIscCk/UnUucm91bmQocC54LHAueSk6bnVsbH19LHtrZXk6InNwbGl0Iix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgbj1bXSxyPXZvaWQgMCE9PWUuZXZlbnRzLGk9bmV3IEJ1KGUsITApLG89bmV3IEJ1KGUsITEpLHM9dGhpcy5yaWdodFNFO3RoaXMucmVwbGFjZVJpZ2h0U0Uobyksbi5wdXNoKG8pLG4ucHVzaChpKTt2YXIgYT1uZXcgdChpLHMsdGhpcy5yaW5ncy5zbGljZSgpLHRoaXMud2luZGluZ3Muc2xpY2UoKSk7cmV0dXJuIEJ1LmNvbXBhcmVQb2ludHMoYS5sZWZ0U0UucG9pbnQsYS5yaWdodFNFLnBvaW50KT4wJiZhLnN3YXBFdmVudHMoKSxCdS5jb21wYXJlUG9pbnRzKHRoaXMubGVmdFNFLnBvaW50LHRoaXMucmlnaHRTRS5wb2ludCk+MCYmdGhpcy5zd2FwRXZlbnRzKCksciYmKGkuY2hlY2tGb3JDb25zdW1pbmcoKSxvLmNoZWNrRm9yQ29uc3VtaW5nKCkpLG59fSx7a2V5OiJzd2FwRXZlbnRzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMucmlnaHRTRTt0aGlzLnJpZ2h0U0U9dGhpcy5sZWZ0U0UsdGhpcy5sZWZ0U0U9dCx0aGlzLmxlZnRTRS5pc0xlZnQ9ITAsdGhpcy5yaWdodFNFLmlzTGVmdD0hMTtmb3IodmFyIGU9MCxuPXRoaXMud2luZGluZ3MubGVuZ3RoO2U8bjtlKyspdGhpcy53aW5kaW5nc1tlXSo9LTF9fSx7a2V5OiJjb25zdW1lIix2YWx1ZTpmdW5jdGlvbihlKXtmb3IodmFyIG49dGhpcyxyPWU7bi5jb25zdW1lZEJ5OyluPW4uY29uc3VtZWRCeTtmb3IoO3IuY29uc3VtZWRCeTspcj1yLmNvbnN1bWVkQnk7dmFyIGk9dC5jb21wYXJlKG4scik7aWYoMCE9PWkpe2lmKGk+MCl7dmFyIG89bjtuPXIscj1vfWlmKG4ucHJldj09PXIpe3ZhciBzPW47bj1yLHI9c31mb3IodmFyIGE9MCx1PXIucmluZ3MubGVuZ3RoO2E8dTthKyspe3ZhciBsPXIucmluZ3NbYV0sYz1yLndpbmRpbmdzW2FdLGg9bi5yaW5ncy5pbmRleE9mKGwpOy0xPT09aD8obi5yaW5ncy5wdXNoKGwpLG4ud2luZGluZ3MucHVzaChjKSk6bi53aW5kaW5nc1toXSs9Y31yLnJpbmdzPW51bGwsci53aW5kaW5ncz1udWxsLHIuY29uc3VtZWRCeT1uLHIubGVmdFNFLmNvbnN1bWVkQnk9bi5sZWZ0U0Usci5yaWdodFNFLmNvbnN1bWVkQnk9bi5yaWdodFNFfX19LHtrZXk6InByZXZJblJlc3VsdCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdm9pZCAwIT09dGhpcy5fcHJldkluUmVzdWx0fHwodGhpcy5wcmV2P3RoaXMucHJldi5pc0luUmVzdWx0KCk/dGhpcy5fcHJldkluUmVzdWx0PXRoaXMucHJldjp0aGlzLl9wcmV2SW5SZXN1bHQ9dGhpcy5wcmV2LnByZXZJblJlc3VsdCgpOnRoaXMuX3ByZXZJblJlc3VsdD1udWxsKSx0aGlzLl9wcmV2SW5SZXN1bHR9fSx7a2V5OiJiZWZvcmVTdGF0ZSIsdmFsdWU6ZnVuY3Rpb24oKXtpZih2b2lkIDAhPT10aGlzLl9iZWZvcmVTdGF0ZSlyZXR1cm4gdGhpcy5fYmVmb3JlU3RhdGU7aWYodGhpcy5wcmV2KXt2YXIgdD10aGlzLnByZXYuY29uc3VtZWRCeXx8dGhpcy5wcmV2O3RoaXMuX2JlZm9yZVN0YXRlPXQuYWZ0ZXJTdGF0ZSgpfWVsc2UgdGhpcy5fYmVmb3JlU3RhdGU9e3JpbmdzOltdLHdpbmRpbmdzOltdLG11bHRpUG9seXM6W119O3JldHVybiB0aGlzLl9iZWZvcmVTdGF0ZX19LHtrZXk6ImFmdGVyU3RhdGUiLHZhbHVlOmZ1bmN0aW9uKCl7aWYodm9pZCAwIT09dGhpcy5fYWZ0ZXJTdGF0ZSlyZXR1cm4gdGhpcy5fYWZ0ZXJTdGF0ZTt2YXIgdD10aGlzLmJlZm9yZVN0YXRlKCk7dGhpcy5fYWZ0ZXJTdGF0ZT17cmluZ3M6dC5yaW5ncy5zbGljZSgwKSx3aW5kaW5nczp0LndpbmRpbmdzLnNsaWNlKDApLG11bHRpUG9seXM6W119O2Zvcih2YXIgZT10aGlzLl9hZnRlclN0YXRlLnJpbmdzLG49dGhpcy5fYWZ0ZXJTdGF0ZS53aW5kaW5ncyxyPXRoaXMuX2FmdGVyU3RhdGUubXVsdGlQb2x5cyxpPTAsbz10aGlzLnJpbmdzLmxlbmd0aDtpPG87aSsrKXt2YXIgcz10aGlzLnJpbmdzW2ldLGE9dGhpcy53aW5kaW5nc1tpXSx1PWUuaW5kZXhPZihzKTstMT09PXU/KGUucHVzaChzKSxuLnB1c2goYSkpOm5bdV0rPWF9Zm9yKHZhciBsPVtdLGM9W10saD0wLHA9ZS5sZW5ndGg7aDxwO2grKylpZigwIT09bltoXSl7dmFyIGY9ZVtoXSxnPWYucG9seTtpZigtMT09PWMuaW5kZXhPZihnKSlpZihmLmlzRXh0ZXJpb3IpbC5wdXNoKGcpO2Vsc2V7LTE9PT1jLmluZGV4T2YoZykmJmMucHVzaChnKTt2YXIgZD1sLmluZGV4T2YoZi5wb2x5KTstMSE9PWQmJmwuc3BsaWNlKGQsMSl9fWZvcih2YXIgeT0wLHY9bC5sZW5ndGg7eTx2O3krKyl7dmFyIF89bFt5XS5tdWx0aVBvbHk7LTE9PT1yLmluZGV4T2YoXykmJnIucHVzaChfKX1yZXR1cm4gdGhpcy5fYWZ0ZXJTdGF0ZX19LHtrZXk6ImlzSW5SZXN1bHQiLHZhbHVlOmZ1bmN0aW9uKCl7aWYodGhpcy5jb25zdW1lZEJ5KXJldHVybiExO2lmKHZvaWQgMCE9PXRoaXMuX2lzSW5SZXN1bHQpcmV0dXJuIHRoaXMuX2lzSW5SZXN1bHQ7dmFyIHQ9dGhpcy5iZWZvcmVTdGF0ZSgpLm11bHRpUG9seXMsZT10aGlzLmFmdGVyU3RhdGUoKS5tdWx0aVBvbHlzO3N3aXRjaChRdS50eXBlKXtjYXNlInVuaW9uIjp2YXIgbj0wPT09dC5sZW5ndGgscj0wPT09ZS5sZW5ndGg7dGhpcy5faXNJblJlc3VsdD1uIT09cjticmVhaztjYXNlImludGVyc2VjdGlvbiI6dmFyIGksbzt0Lmxlbmd0aDxlLmxlbmd0aD8oaT10Lmxlbmd0aCxvPWUubGVuZ3RoKTooaT1lLmxlbmd0aCxvPXQubGVuZ3RoKSx0aGlzLl9pc0luUmVzdWx0PW89PT1RdS5udW1NdWx0aVBvbHlzJiZpPG87YnJlYWs7Y2FzZSJ4b3IiOnZhciBzPU1hdGguYWJzKHQubGVuZ3RoLWUubGVuZ3RoKTt0aGlzLl9pc0luUmVzdWx0PXMlMj09MTticmVhaztjYXNlImRpZmZlcmVuY2UiOnZhciBhPWZ1bmN0aW9uKHQpe3JldHVybiAxPT09dC5sZW5ndGgmJnRbMF0uaXNTdWJqZWN0fTt0aGlzLl9pc0luUmVzdWx0PWEodCkhPT1hKGUpO2JyZWFrO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKCJVbnJlY29nbml6ZWQgb3BlcmF0aW9uIHR5cGUgZm91bmQgIi5jb25jYXQoUXUudHlwZSkpfXJldHVybiB0aGlzLl9pc0luUmVzdWx0fX1dLFt7a2V5OiJmcm9tUmluZyIsdmFsdWU6ZnVuY3Rpb24oZSxuLHIpe3ZhciBpLG8scyxhPUJ1LmNvbXBhcmVQb2ludHMoZSxuKTtpZihhPDApaT1lLG89bixzPTE7ZWxzZXtpZighKGE+MCkpdGhyb3cgbmV3IEVycm9yKCJUcmllZCB0byBjcmVhdGUgZGVnZW5lcmF0ZSBzZWdtZW50IGF0IFsiLmNvbmNhdChlLngsIiwgIikuY29uY2F0KGUueSwiXSIpKTtpPW4sbz1lLHM9LTF9cmV0dXJuIG5ldyB0KG5ldyBCdShpLCEwKSxuZXcgQnUobywhMSksW3JdLFtzXSl9fV0pLHR9KCksVXU9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUsbixyKXtpZihidSh0aGlzLHQpLCFBcnJheS5pc0FycmF5KGUpfHwwPT09ZS5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKCJJbnB1dCBnZW9tZXRyeSBpcyBub3QgYSB2YWxpZCBQb2x5Z29uIG9yIE11bHRpUG9seWdvbiIpO2lmKHRoaXMucG9seT1uLHRoaXMuaXNFeHRlcmlvcj1yLHRoaXMuc2VnbWVudHM9W10sIm51bWJlciIhPXR5cGVvZiBlWzBdWzBdfHwibnVtYmVyIiE9dHlwZW9mIGVbMF1bMV0pdGhyb3cgbmV3IEVycm9yKCJJbnB1dCBnZW9tZXRyeSBpcyBub3QgYSB2YWxpZCBQb2x5Z29uIG9yIE11bHRpUG9seWdvbiIpO3ZhciBpPVJ1LnJvdW5kKGVbMF1bMF0sZVswXVsxXSk7dGhpcy5iYm94PXtsbDp7eDppLngseTppLnl9LHVyOnt4OmkueCx5OmkueX19O2Zvcih2YXIgbz1pLHM9MSxhPWUubGVuZ3RoO3M8YTtzKyspe2lmKCJudW1iZXIiIT10eXBlb2YgZVtzXVswXXx8Im51bWJlciIhPXR5cGVvZiBlW3NdWzFdKXRocm93IG5ldyBFcnJvcigiSW5wdXQgZ2VvbWV0cnkgaXMgbm90IGEgdmFsaWQgUG9seWdvbiBvciBNdWx0aVBvbHlnb24iKTt2YXIgdT1SdS5yb3VuZChlW3NdWzBdLGVbc11bMV0pO3UueD09PW8ueCYmdS55PT09by55fHwodGhpcy5zZWdtZW50cy5wdXNoKGp1LmZyb21SaW5nKG8sdSx0aGlzKSksdS54PHRoaXMuYmJveC5sbC54JiYodGhpcy5iYm94LmxsLng9dS54KSx1Lnk8dGhpcy5iYm94LmxsLnkmJih0aGlzLmJib3gubGwueT11LnkpLHUueD50aGlzLmJib3gudXIueCYmKHRoaXMuYmJveC51ci54PXUueCksdS55PnRoaXMuYmJveC51ci55JiYodGhpcy5iYm94LnVyLnk9dS55KSxvPXUpfWkueD09PW8ueCYmaS55PT09by55fHx0aGlzLnNlZ21lbnRzLnB1c2goanUuZnJvbVJpbmcobyxpLHRoaXMpKX1yZXR1cm4gSXUodCxbe2tleToiZ2V0U3dlZXBFdmVudHMiLHZhbHVlOmZ1bmN0aW9uKCl7Zm9yKHZhciB0PVtdLGU9MCxuPXRoaXMuc2VnbWVudHMubGVuZ3RoO2U8bjtlKyspe3ZhciByPXRoaXMuc2VnbWVudHNbZV07dC5wdXNoKHIubGVmdFNFKSx0LnB1c2goci5yaWdodFNFKX1yZXR1cm4gdH19XSksdH0oKSxWdT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSxuKXtpZihidSh0aGlzLHQpLCFBcnJheS5pc0FycmF5KGUpKXRocm93IG5ldyBFcnJvcigiSW5wdXQgZ2VvbWV0cnkgaXMgbm90IGEgdmFsaWQgUG9seWdvbiBvciBNdWx0aVBvbHlnb24iKTt0aGlzLmV4dGVyaW9yUmluZz1uZXcgVXUoZVswXSx0aGlzLCEwKSx0aGlzLmJib3g9e2xsOnt4OnRoaXMuZXh0ZXJpb3JSaW5nLmJib3gubGwueCx5OnRoaXMuZXh0ZXJpb3JSaW5nLmJib3gubGwueX0sdXI6e3g6dGhpcy5leHRlcmlvclJpbmcuYmJveC51ci54LHk6dGhpcy5leHRlcmlvclJpbmcuYmJveC51ci55fX0sdGhpcy5pbnRlcmlvclJpbmdzPVtdO2Zvcih2YXIgcj0xLGk9ZS5sZW5ndGg7cjxpO3IrKyl7dmFyIG89bmV3IFV1KGVbcl0sdGhpcywhMSk7by5iYm94LmxsLng8dGhpcy5iYm94LmxsLngmJih0aGlzLmJib3gubGwueD1vLmJib3gubGwueCksby5iYm94LmxsLnk8dGhpcy5iYm94LmxsLnkmJih0aGlzLmJib3gubGwueT1vLmJib3gubGwueSksby5iYm94LnVyLng+dGhpcy5iYm94LnVyLngmJih0aGlzLmJib3gudXIueD1vLmJib3gudXIueCksby5iYm94LnVyLnk+dGhpcy5iYm94LnVyLnkmJih0aGlzLmJib3gudXIueT1vLmJib3gudXIueSksdGhpcy5pbnRlcmlvclJpbmdzLnB1c2gobyl9dGhpcy5tdWx0aVBvbHk9bn1yZXR1cm4gSXUodCxbe2tleToiZ2V0U3dlZXBFdmVudHMiLHZhbHVlOmZ1bmN0aW9uKCl7Zm9yKHZhciB0PXRoaXMuZXh0ZXJpb3JSaW5nLmdldFN3ZWVwRXZlbnRzKCksZT0wLG49dGhpcy5pbnRlcmlvclJpbmdzLmxlbmd0aDtlPG47ZSsrKWZvcih2YXIgcj10aGlzLmludGVyaW9yUmluZ3NbZV0uZ2V0U3dlZXBFdmVudHMoKSxpPTAsbz1yLmxlbmd0aDtpPG87aSsrKXQucHVzaChyW2ldKTtyZXR1cm4gdH19XSksdH0oKSxYdT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSxuKXtpZihidSh0aGlzLHQpLCFBcnJheS5pc0FycmF5KGUpKXRocm93IG5ldyBFcnJvcigiSW5wdXQgZ2VvbWV0cnkgaXMgbm90IGEgdmFsaWQgUG9seWdvbiBvciBNdWx0aVBvbHlnb24iKTt0cnl7Im51bWJlciI9PXR5cGVvZiBlWzBdWzBdWzBdJiYoZT1bZV0pfWNhdGNoKHQpe310aGlzLnBvbHlzPVtdLHRoaXMuYmJveD17bGw6e3g6TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLHk6TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZfSx1cjp7eDpOdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFkseTpOdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFl9fTtmb3IodmFyIHI9MCxpPWUubGVuZ3RoO3I8aTtyKyspe3ZhciBvPW5ldyBWdShlW3JdLHRoaXMpO28uYmJveC5sbC54PHRoaXMuYmJveC5sbC54JiYodGhpcy5iYm94LmxsLng9by5iYm94LmxsLngpLG8uYmJveC5sbC55PHRoaXMuYmJveC5sbC55JiYodGhpcy5iYm94LmxsLnk9by5iYm94LmxsLnkpLG8uYmJveC51ci54PnRoaXMuYmJveC51ci54JiYodGhpcy5iYm94LnVyLng9by5iYm94LnVyLngpLG8uYmJveC51ci55PnRoaXMuYmJveC51ci55JiYodGhpcy5iYm94LnVyLnk9by5iYm94LnVyLnkpLHRoaXMucG9seXMucHVzaChvKX10aGlzLmlzU3ViamVjdD1ufXJldHVybiBJdSh0LFt7a2V5OiJnZXRTd2VlcEV2ZW50cyIsdmFsdWU6ZnVuY3Rpb24oKXtmb3IodmFyIHQ9W10sZT0wLG49dGhpcy5wb2x5cy5sZW5ndGg7ZTxuO2UrKylmb3IodmFyIHI9dGhpcy5wb2x5c1tlXS5nZXRTd2VlcEV2ZW50cygpLGk9MCxvPXIubGVuZ3RoO2k8bztpKyspdC5wdXNoKHJbaV0pO3JldHVybiB0fX1dKSx0fSgpLFl1PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlKXtidSh0aGlzLHQpLHRoaXMuZXZlbnRzPWU7Zm9yKHZhciBuPTAscj1lLmxlbmd0aDtuPHI7bisrKWVbbl0uc2VnbWVudC5yaW5nT3V0PXRoaXM7dGhpcy5wb2x5PW51bGx9cmV0dXJuIEl1KHQsbnVsbCxbe2tleToiZmFjdG9yeSIsdmFsdWU6ZnVuY3Rpb24oZSl7Zm9yKHZhciBuPVtdLHI9MCxpPWUubGVuZ3RoO3I8aTtyKyspe3ZhciBvPWVbcl07aWYoby5pc0luUmVzdWx0KCkmJiFvLnJpbmdPdXQpe2Zvcih2YXIgcz1udWxsLGE9by5sZWZ0U0UsdT1vLnJpZ2h0U0UsbD1bYV0sYz1hLnBvaW50LGg9W107cz1hLGE9dSxsLnB1c2goYSksYS5wb2ludCE9PWM7KWZvcig7Oyl7dmFyIHA9YS5nZXRBdmFpbGFibGVMaW5rZWRFdmVudHMoKTtpZigwPT09cC5sZW5ndGgpe3ZhciBmPWxbMF0ucG9pbnQsZz1sW2wubGVuZ3RoLTFdLnBvaW50O3Rocm93IG5ldyBFcnJvcigiVW5hYmxlIHRvIGNvbXBsZXRlIG91dHB1dCByaW5nIHN0YXJ0aW5nIGF0IFsiLmNvbmNhdChmLngsIiwiKSsiICIuY29uY2F0KGYueSwiXS4gTGFzdCBtYXRjaGluZyBzZWdtZW50IGZvdW5kIGVuZHMgYXQiKSsiIFsiLmNvbmNhdChnLngsIiwgIikuY29uY2F0KGcueSwiXS4iKSl9aWYoMT09PXAubGVuZ3RoKXt1PXBbMF0ub3RoZXJTRTticmVha31mb3IodmFyIGQ9bnVsbCx5PTAsdj1oLmxlbmd0aDt5PHY7eSsrKWlmKGhbeV0ucG9pbnQ9PT1hLnBvaW50KXtkPXk7YnJlYWt9aWYobnVsbD09PWQpe2gucHVzaCh7aW5kZXg6bC5sZW5ndGgscG9pbnQ6YS5wb2ludH0pO3ZhciBfPWEuZ2V0TGVmdG1vc3RDb21wYXJhdG9yKHMpO3U9cC5zb3J0KF8pWzBdLm90aGVyU0U7YnJlYWt9dmFyIG09aC5zcGxpY2UoZClbMF0seD1sLnNwbGljZShtLmluZGV4KTt4LnVuc2hpZnQoeFswXS5vdGhlclNFKSxuLnB1c2gobmV3IHQoeC5yZXZlcnNlKCkpKX1uLnB1c2gobmV3IHQobCkpfX1yZXR1cm4gbn19XSksSXUodCxbe2tleToiZ2V0R2VvbSIsdmFsdWU6ZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpcy5ldmVudHNbMF0ucG9pbnQsZT1bdF0sbj0xLHI9dGhpcy5ldmVudHMubGVuZ3RoLTE7bjxyO24rKyl7dmFyIGk9dGhpcy5ldmVudHNbbl0ucG9pbnQsbz10aGlzLmV2ZW50c1tuKzFdLnBvaW50OzAhPT1EdShpLHQsbykmJihlLnB1c2goaSksdD1pKX1pZigxPT09ZS5sZW5ndGgpcmV0dXJuIG51bGw7dmFyIHM9ZVswXSxhPWVbMV07MD09PUR1KHMsdCxhKSYmZS5zaGlmdCgpLGUucHVzaChlWzBdKTtmb3IodmFyIHU9dGhpcy5pc0V4dGVyaW9yUmluZygpPzE6LTEsbD10aGlzLmlzRXh0ZXJpb3JSaW5nKCk/MDplLmxlbmd0aC0xLGM9dGhpcy5pc0V4dGVyaW9yUmluZygpP2UubGVuZ3RoOi0xLGg9W10scD1sO3AhPWM7cCs9dSloLnB1c2goW2VbcF0ueCxlW3BdLnldKTtyZXR1cm4gaH19LHtrZXk6ImlzRXh0ZXJpb3JSaW5nIix2YWx1ZTpmdW5jdGlvbigpe2lmKHZvaWQgMD09PXRoaXMuX2lzRXh0ZXJpb3JSaW5nKXt2YXIgdD10aGlzLmVuY2xvc2luZ1JpbmcoKTt0aGlzLl9pc0V4dGVyaW9yUmluZz0hdHx8IXQuaXNFeHRlcmlvclJpbmcoKX1yZXR1cm4gdGhpcy5faXNFeHRlcmlvclJpbmd9fSx7a2V5OiJlbmNsb3NpbmdSaW5nIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB2b2lkIDA9PT10aGlzLl9lbmNsb3NpbmdSaW5nJiYodGhpcy5fZW5jbG9zaW5nUmluZz10aGlzLl9jYWxjRW5jbG9zaW5nUmluZygpKSx0aGlzLl9lbmNsb3NpbmdSaW5nfX0se2tleToiX2NhbGNFbmNsb3NpbmdSaW5nIix2YWx1ZTpmdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLmV2ZW50c1swXSxlPTEsbj10aGlzLmV2ZW50cy5sZW5ndGg7ZTxuO2UrKyl7dmFyIHI9dGhpcy5ldmVudHNbZV07QnUuY29tcGFyZSh0LHIpPjAmJih0PXIpfWZvcih2YXIgaT10LnNlZ21lbnQucHJldkluUmVzdWx0KCksbz1pP2kucHJldkluUmVzdWx0KCk6bnVsbDs7KXtpZighaSlyZXR1cm4gbnVsbDtpZighbylyZXR1cm4gaS5yaW5nT3V0O2lmKG8ucmluZ091dCE9PWkucmluZ091dClyZXR1cm4gby5yaW5nT3V0LmVuY2xvc2luZ1JpbmcoKSE9PWkucmluZ091dD9pLnJpbmdPdXQ6aS5yaW5nT3V0LmVuY2xvc2luZ1JpbmcoKTtpPW8ucHJldkluUmVzdWx0KCksbz1pP2kucHJldkluUmVzdWx0KCk6bnVsbH19fV0pLHR9KCksSHU9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUpe2J1KHRoaXMsdCksdGhpcy5leHRlcmlvclJpbmc9ZSxlLnBvbHk9dGhpcyx0aGlzLmludGVyaW9yUmluZ3M9W119cmV0dXJuIEl1KHQsW3trZXk6ImFkZEludGVyaW9yIix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLmludGVyaW9yUmluZ3MucHVzaCh0KSx0LnBvbHk9dGhpc319LHtrZXk6ImdldEdlb20iLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9W3RoaXMuZXh0ZXJpb3JSaW5nLmdldEdlb20oKV07aWYobnVsbD09PXRbMF0pcmV0dXJuIG51bGw7Zm9yKHZhciBlPTAsbj10aGlzLmludGVyaW9yUmluZ3MubGVuZ3RoO2U8bjtlKyspe3ZhciByPXRoaXMuaW50ZXJpb3JSaW5nc1tlXS5nZXRHZW9tKCk7bnVsbCE9PXImJnQucHVzaChyKX1yZXR1cm4gdH19XSksdH0oKSxXdT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSl7YnUodGhpcyx0KSx0aGlzLnJpbmdzPWUsdGhpcy5wb2x5cz10aGlzLl9jb21wb3NlUG9seXMoZSl9cmV0dXJuIEl1KHQsW3trZXk6ImdldEdlb20iLHZhbHVlOmZ1bmN0aW9uKCl7Zm9yKHZhciB0PVtdLGU9MCxuPXRoaXMucG9seXMubGVuZ3RoO2U8bjtlKyspe3ZhciByPXRoaXMucG9seXNbZV0uZ2V0R2VvbSgpO251bGwhPT1yJiZ0LnB1c2gocil9cmV0dXJuIHR9fSx7a2V5OiJfY29tcG9zZVBvbHlzIix2YWx1ZTpmdW5jdGlvbih0KXtmb3IodmFyIGU9W10sbj0wLHI9dC5sZW5ndGg7bjxyO24rKyl7dmFyIGk9dFtuXTtpZighaS5wb2x5KWlmKGkuaXNFeHRlcmlvclJpbmcoKSllLnB1c2gobmV3IEh1KGkpKTtlbHNle3ZhciBvPWkuZW5jbG9zaW5nUmluZygpO28ucG9seXx8ZS5wdXNoKG5ldyBIdShvKSksby5wb2x5LmFkZEludGVyaW9yKGkpfX1yZXR1cm4gZX19XSksdH0oKSxKdT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSl7dmFyIG49YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOmp1LmNvbXBhcmU7YnUodGhpcyx0KSx0aGlzLnF1ZXVlPWUsdGhpcy50cmVlPW5ldyBfdShuKSx0aGlzLnNlZ21lbnRzPVtdfXJldHVybiBJdSh0LFt7a2V5OiJwcm9jZXNzIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10LnNlZ21lbnQsbj1bXTtpZih0LmNvbnN1bWVkQnkpcmV0dXJuIHQuaXNMZWZ0P3RoaXMucXVldWUucmVtb3ZlKHQub3RoZXJTRSk6dGhpcy50cmVlLnJlbW92ZShlKSxuO3ZhciByPXQuaXNMZWZ0P3RoaXMudHJlZS5pbnNlcnQoZSk6dGhpcy50cmVlLmZpbmQoZSk7aWYoIXIpdGhyb3cgbmV3IEVycm9yKCJVbmFibGUgdG8gZmluZCBzZWdtZW50ICMiLmNvbmNhdChlLmlkLCIgIikrIlsiLmNvbmNhdChlLmxlZnRTRS5wb2ludC54LCIsICIpLmNvbmNhdChlLmxlZnRTRS5wb2ludC55LCJdIC0+ICIpKyJbIi5jb25jYXQoZS5yaWdodFNFLnBvaW50LngsIiwgIikuY29uY2F0KGUucmlnaHRTRS5wb2ludC55LCJdICIpKyJpbiBTd2VlcExpbmUgdHJlZS4gUGxlYXNlIHN1Ym1pdCBhIGJ1ZyByZXBvcnQuIik7Zm9yKHZhciBpPXIsbz1yLHM9dm9pZCAwLGE9dm9pZCAwO3ZvaWQgMD09PXM7KW51bGw9PT0oaT10aGlzLnRyZWUucHJldihpKSk/cz1udWxsOnZvaWQgMD09PWkua2V5LmNvbnN1bWVkQnkmJihzPWkua2V5KTtmb3IoO3ZvaWQgMD09PWE7KW51bGw9PT0obz10aGlzLnRyZWUubmV4dChvKSk/YT1udWxsOnZvaWQgMD09PW8ua2V5LmNvbnN1bWVkQnkmJihhPW8ua2V5KTtpZih0LmlzTGVmdCl7dmFyIHU9bnVsbDtpZihzKXt2YXIgbD1zLmdldEludGVyc2VjdGlvbihlKTtpZihudWxsIT09bCYmKGUuaXNBbkVuZHBvaW50KGwpfHwodT1sKSwhcy5pc0FuRW5kcG9pbnQobCkpKWZvcih2YXIgYz10aGlzLl9zcGxpdFNhZmVseShzLGwpLGg9MCxwPWMubGVuZ3RoO2g8cDtoKyspbi5wdXNoKGNbaF0pfXZhciBmPW51bGw7aWYoYSl7dmFyIGc9YS5nZXRJbnRlcnNlY3Rpb24oZSk7aWYobnVsbCE9PWcmJihlLmlzQW5FbmRwb2ludChnKXx8KGY9ZyksIWEuaXNBbkVuZHBvaW50KGcpKSlmb3IodmFyIGQ9dGhpcy5fc3BsaXRTYWZlbHkoYSxnKSx5PTAsdj1kLmxlbmd0aDt5PHY7eSsrKW4ucHVzaChkW3ldKX1pZihudWxsIT09dXx8bnVsbCE9PWYpe3ZhciBfPW51bGw7aWYobnVsbD09PXUpXz1mO2Vsc2UgaWYobnVsbD09PWYpXz11O2Vsc2V7Xz1CdS5jb21wYXJlUG9pbnRzKHUsZik8PTA/dTpmfXRoaXMucXVldWUucmVtb3ZlKGUucmlnaHRTRSksbi5wdXNoKGUucmlnaHRTRSk7Zm9yKHZhciBtPWUuc3BsaXQoXykseD0wLEU9bS5sZW5ndGg7eDxFO3grKyluLnB1c2gobVt4XSl9bi5sZW5ndGg+MD8odGhpcy50cmVlLnJlbW92ZShlKSxuLnB1c2godCkpOih0aGlzLnNlZ21lbnRzLnB1c2goZSksZS5wcmV2PXMpfWVsc2V7aWYocyYmYSl7dmFyIGI9cy5nZXRJbnRlcnNlY3Rpb24oYSk7aWYobnVsbCE9PWIpe2lmKCFzLmlzQW5FbmRwb2ludChiKSlmb3IodmFyIHc9dGhpcy5fc3BsaXRTYWZlbHkocyxiKSxJPTAsTj13Lmxlbmd0aDtJPE47SSsrKW4ucHVzaCh3W0ldKTtpZighYS5pc0FuRW5kcG9pbnQoYikpZm9yKHZhciBTPXRoaXMuX3NwbGl0U2FmZWx5KGEsYiksQz0wLFA9Uy5sZW5ndGg7QzxQO0MrKyluLnB1c2goU1tDXSl9fXRoaXMudHJlZS5yZW1vdmUoZSl9cmV0dXJuIG59fSx7a2V5OiJfc3BsaXRTYWZlbHkiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dGhpcy50cmVlLnJlbW92ZSh0KTt2YXIgbj10LnJpZ2h0U0U7dGhpcy5xdWV1ZS5yZW1vdmUobik7dmFyIHI9dC5zcGxpdChlKTtyZXR1cm4gci5wdXNoKG4pLHZvaWQgMD09PXQuY29uc3VtZWRCeSYmdGhpcy50cmVlLmluc2VydCh0KSxyfX1dKSx0fSgpLFp1PSJ1bmRlZmluZWQiIT10eXBlb2YgcHJvY2VzcyYmcHJvY2Vzcy5lbnYuUE9MWUdPTl9DTElQUElOR19NQVhfUVVFVUVfU0laRXx8MWU2LEt1PSJ1bmRlZmluZWQiIT10eXBlb2YgcHJvY2VzcyYmcHJvY2Vzcy5lbnYuUE9MWUdPTl9DTElQUElOR19NQVhfU1dFRVBMSU5FX1NFR01FTlRTfHwxZTYsUXU9bmV3KGZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe2J1KHRoaXMsdCl9cmV0dXJuIEl1KHQsW3trZXk6InJ1biIsdmFsdWU6ZnVuY3Rpb24odCxlLG4pe1F1LnR5cGU9dCxSdS5yZXNldCgpO2Zvcih2YXIgcj1bbmV3IFh1KGUsITApXSxpPTAsbz1uLmxlbmd0aDtpPG87aSsrKXIucHVzaChuZXcgWHUobltpXSwhMSkpO2lmKFF1Lm51bU11bHRpUG9seXM9ci5sZW5ndGgsImRpZmZlcmVuY2UiPT09UXUudHlwZSlmb3IodmFyIHM9clswXSxhPTE7YTxyLmxlbmd0aDspbnVsbCE9PVN1KHJbYV0uYmJveCxzLmJib3gpP2ErKzpyLnNwbGljZShhLDEpO2lmKCJpbnRlcnNlY3Rpb24iPT09UXUudHlwZSlmb3IodmFyIHU9MCxsPXIubGVuZ3RoO3U8bDt1KyspZm9yKHZhciBjPXJbdV0saD11KzEscD1yLmxlbmd0aDtoPHA7aCsrKWlmKG51bGw9PT1TdShjLmJib3gscltoXS5iYm94KSlyZXR1cm5bXTtmb3IodmFyIGY9bmV3IF91KEJ1LmNvbXBhcmUpLGc9MCxkPXIubGVuZ3RoO2c8ZDtnKyspZm9yKHZhciB5PXJbZ10uZ2V0U3dlZXBFdmVudHMoKSx2PTAsXz15Lmxlbmd0aDt2PF87disrKWlmKGYuaW5zZXJ0KHlbdl0pLGYuc2l6ZT5adSl0aHJvdyBuZXcgRXJyb3IoIkluZmluaXRlIGxvb3Agd2hlbiBwdXR0aW5nIHNlZ21lbnQgZW5kcG9pbnRzIGluIGEgcHJpb3JpdHkgcXVldWUgKHF1ZXVlIHNpemUgdG9vIGJpZykuIFBsZWFzZSBmaWxlIGEgYnVnIHJlcG9ydC4iKTtmb3IodmFyIG09bmV3IEp1KGYpLHg9Zi5zaXplLEU9Zi5wb3AoKTtFOyl7dmFyIGI9RS5rZXk7aWYoZi5zaXplPT09eCl7dmFyIHc9Yi5zZWdtZW50O3Rocm93IG5ldyBFcnJvcigiVW5hYmxlIHRvIHBvcCgpICIuY29uY2F0KGIuaXNMZWZ0PyJsZWZ0IjoicmlnaHQiLCIgU3dlZXBFdmVudCAiKSsiWyIuY29uY2F0KGIucG9pbnQueCwiLCAiKS5jb25jYXQoYi5wb2ludC55LCJdIGZyb20gc2VnbWVudCAjIikuY29uY2F0KHcuaWQsIiAiKSsiWyIuY29uY2F0KHcubGVmdFNFLnBvaW50LngsIiwgIikuY29uY2F0KHcubGVmdFNFLnBvaW50LnksIl0gLT4gIikrIlsiLmNvbmNhdCh3LnJpZ2h0U0UucG9pbnQueCwiLCAiKS5jb25jYXQody5yaWdodFNFLnBvaW50LnksIl0gZnJvbSBxdWV1ZS4gIikrIlBsZWFzZSBmaWxlIGEgYnVnIHJlcG9ydC4iKX1pZihmLnNpemU+WnUpdGhyb3cgbmV3IEVycm9yKCJJbmZpbml0ZSBsb29wIHdoZW4gcGFzc2luZyBzd2VlcCBsaW5lIG92ZXIgZW5kcG9pbnRzIChxdWV1ZSBzaXplIHRvbyBiaWcpLiBQbGVhc2UgZmlsZSBhIGJ1ZyByZXBvcnQuIik7aWYobS5zZWdtZW50cy5sZW5ndGg+S3UpdGhyb3cgbmV3IEVycm9yKCJJbmZpbml0ZSBsb29wIHdoZW4gcGFzc2luZyBzd2VlcCBsaW5lIG92ZXIgZW5kcG9pbnRzICh0b28gbWFueSBzd2VlcCBsaW5lIHNlZ21lbnRzKS4gUGxlYXNlIGZpbGUgYSBidWcgcmVwb3J0LiIpO2Zvcih2YXIgST1tLnByb2Nlc3MoYiksTj0wLFM9SS5sZW5ndGg7TjxTO04rKyl7dmFyIEM9SVtOXTt2b2lkIDA9PT1DLmNvbnN1bWVkQnkmJmYuaW5zZXJ0KEMpfXg9Zi5zaXplLEU9Zi5wb3AoKX1SdS5yZXNldCgpO3ZhciBQPVl1LmZhY3RvcnkobS5zZWdtZW50cyk7cmV0dXJuIG5ldyBXdShQKS5nZXRHZW9tKCl9fV0pLHR9KCkpLCR1PXt1bmlvbjpmdW5jdGlvbih0KXtmb3IodmFyIGU9YXJndW1lbnRzLmxlbmd0aCxuPW5ldyBBcnJheShlPjE/ZS0xOjApLHI9MTtyPGU7cisrKW5bci0xXT1hcmd1bWVudHNbcl07cmV0dXJuIFF1LnJ1bigidW5pb24iLHQsbil9LGludGVyc2VjdGlvbjpmdW5jdGlvbih0KXtmb3IodmFyIGU9YXJndW1lbnRzLmxlbmd0aCxuPW5ldyBBcnJheShlPjE/ZS0xOjApLHI9MTtyPGU7cisrKW5bci0xXT1hcmd1bWVudHNbcl07cmV0dXJuIFF1LnJ1bigiaW50ZXJzZWN0aW9uIix0LG4pfSx4b3I6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPWFyZ3VtZW50cy5sZW5ndGgsbj1uZXcgQXJyYXkoZT4xP2UtMTowKSxyPTE7cjxlO3IrKyluW3ItMV09YXJndW1lbnRzW3JdO3JldHVybiBRdS5ydW4oInhvciIsdCxuKX0sZGlmZmVyZW5jZTpmdW5jdGlvbih0KXtmb3IodmFyIGU9YXJndW1lbnRzLmxlbmd0aCxuPW5ldyBBcnJheShlPjE/ZS0xOjApLHI9MTtyPGU7cisrKW5bci0xXT1hcmd1bWVudHNbcl07cmV0dXJuIFF1LnJ1bigiZGlmZmVyZW5jZSIsdCxuKX19OyJmaWxsImluIEFycmF5LnByb3RvdHlwZXx8T2JqZWN0LmRlZmluZVByb3BlcnR5KEFycmF5LnByb3RvdHlwZSwiZmlsbCIse2NvbmZpZ3VyYWJsZTohMCx2YWx1ZTpmdW5jdGlvbih0KXtpZihudWxsPT10aGlzKXRocm93IG5ldyBUeXBlRXJyb3IodGhpcysiIGlzIG5vdCBhbiBvYmplY3QiKTt2YXIgZT1PYmplY3QodGhpcyksbj1NYXRoLm1heChNYXRoLm1pbihlLmxlbmd0aCw5MDA3MTk5MjU0NzQwOTkxKSwwKXx8MCxyPTEgaW4gYXJndW1lbnRzJiZwYXJzZUludChOdW1iZXIoYXJndW1lbnRzWzFdKSwxMCl8fDA7cj1yPDA/TWF0aC5tYXgobityLDApOk1hdGgubWluKHIsbik7dmFyIGk9MiBpbiBhcmd1bWVudHMmJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9wYXJzZUludChOdW1iZXIoYXJndW1lbnRzWzJdKSwxMCl8fDA6bjtmb3IoaT1pPDA/TWF0aC5tYXgobithcmd1bWVudHNbMl0sMCk6TWF0aC5taW4oaSxuKTtyPGk7KWVbcl09dCwrK3I7cmV0dXJuIGV9LHdyaXRhYmxlOiEwfSksTnVtYmVyLmlzRmluaXRlPU51bWJlci5pc0Zpbml0ZXx8ZnVuY3Rpb24odCl7cmV0dXJuIm51bWJlciI9PXR5cGVvZiB0JiZpc0Zpbml0ZSh0KX0sTnVtYmVyLmlzSW50ZWdlcj1OdW1iZXIuaXNJbnRlZ2VyfHxmdW5jdGlvbih0KXtyZXR1cm4ibnVtYmVyIj09dHlwZW9mIHQmJmlzRmluaXRlKHQpJiZNYXRoLmZsb29yKHQpPT09dH0sTnVtYmVyLnBhcnNlRmxvYXQ9TnVtYmVyLnBhcnNlRmxvYXR8fHBhcnNlRmxvYXQsTnVtYmVyLmlzTmFOPU51bWJlci5pc05hTnx8ZnVuY3Rpb24odCl7cmV0dXJuIHQhPXR9LE1hdGgudHJ1bmM9TWF0aC50cnVuY3x8ZnVuY3Rpb24odCl7cmV0dXJuIHQ8MD9NYXRoLmNlaWwodCk6TWF0aC5mbG9vcih0KX07dmFyIHRsPWZ1bmN0aW9uKCl7fTt0bC5wcm90b3R5cGUuaW50ZXJmYWNlc189ZnVuY3Rpb24oKXtyZXR1cm5bXX0sdGwucHJvdG90eXBlLmdldENsYXNzPWZ1bmN0aW9uKCl7cmV0dXJuIHRsfSx0bC5wcm90b3R5cGUuZXF1YWxzV2l0aFRvbGVyYW5jZT1mdW5jdGlvbih0LGUsbil7cmV0dXJuIE1hdGguYWJzKHQtZSk8PW59O3ZhciBlbD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUpe3QuY2FsbCh0aGlzLGUpLHRoaXMubmFtZT0iSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uIix0aGlzLm1lc3NhZ2U9ZSx0aGlzLnN0YWNrPShuZXcgdCkuc3RhY2t9cmV0dXJuIHQmJihlLl9fcHJvdG9fXz10KSxlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSxlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1lLGV9KEVycm9yKSxubD1mdW5jdGlvbigpe30scmw9e01BWF9WQUxVRTp7Y29uZmlndXJhYmxlOiEwfX07bmwuaXNOYU49ZnVuY3Rpb24odCl7cmV0dXJuIE51bWJlci5pc05hTih0KX0sbmwuZG91YmxlVG9Mb25nQml0cz1mdW5jdGlvbih0KXtyZXR1cm4gdH0sbmwubG9uZ0JpdHNUb0RvdWJsZT1mdW5jdGlvbih0KXtyZXR1cm4gdH0sbmwuaXNJbmZpbml0ZT1mdW5jdGlvbih0KXtyZXR1cm4hTnVtYmVyLmlzRmluaXRlKHQpfSxybC5NQVhfVkFMVUUuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIE51bWJlci5NQVhfVkFMVUV9LE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG5sLHJsKTt2YXIgaWw9ZnVuY3Rpb24oKXt9LG9sPWZ1bmN0aW9uKCl7fSxzbD1mdW5jdGlvbigpe307ZnVuY3Rpb24gYWwoKXt9dmFyIHVsPWZ1bmN0aW9uIHQoKXtpZih0aGlzLng9bnVsbCx0aGlzLnk9bnVsbCx0aGlzLno9bnVsbCwwPT09YXJndW1lbnRzLmxlbmd0aCl0aGlzLng9MCx0aGlzLnk9MCx0aGlzLno9dC5OVUxMX09SRElOQVRFO2Vsc2UgaWYoMT09PWFyZ3VtZW50cy5sZW5ndGgpe3ZhciBlPWFyZ3VtZW50c1swXTt0aGlzLng9ZS54LHRoaXMueT1lLnksdGhpcy56PWUuen1lbHNlIDI9PT1hcmd1bWVudHMubGVuZ3RoPyh0aGlzLng9YXJndW1lbnRzWzBdLHRoaXMueT1hcmd1bWVudHNbMV0sdGhpcy56PXQuTlVMTF9PUkRJTkFURSk6Mz09PWFyZ3VtZW50cy5sZW5ndGgmJih0aGlzLng9YXJndW1lbnRzWzBdLHRoaXMueT1hcmd1bWVudHNbMV0sdGhpcy56PWFyZ3VtZW50c1syXSl9LGxsPXtEaW1lbnNpb25hbENvbXBhcmF0b3I6e2NvbmZpZ3VyYWJsZTohMH0sc2VyaWFsVmVyc2lvblVJRDp7Y29uZmlndXJhYmxlOiEwfSxOVUxMX09SRElOQVRFOntjb25maWd1cmFibGU6ITB9LFg6e2NvbmZpZ3VyYWJsZTohMH0sWTp7Y29uZmlndXJhYmxlOiEwfSxaOntjb25maWd1cmFibGU6ITB9fTt1bC5wcm90b3R5cGUuc2V0T3JkaW5hdGU9ZnVuY3Rpb24odCxlKXtzd2l0Y2godCl7Y2FzZSB1bC5YOnRoaXMueD1lO2JyZWFrO2Nhc2UgdWwuWTp0aGlzLnk9ZTticmVhaztjYXNlIHVsLlo6dGhpcy56PWU7YnJlYWs7ZGVmYXVsdDp0aHJvdyBuZXcgZWwoIkludmFsaWQgb3JkaW5hdGUgaW5kZXg6ICIrdCl9fSx1bC5wcm90b3R5cGUuZXF1YWxzMkQ9ZnVuY3Rpb24oKXtpZigxPT09YXJndW1lbnRzLmxlbmd0aCl7dmFyIHQ9YXJndW1lbnRzWzBdO3JldHVybiB0aGlzLng9PT10LngmJnRoaXMueT09PXQueX1pZigyPT09YXJndW1lbnRzLmxlbmd0aCl7dmFyIGU9YXJndW1lbnRzWzBdLG49YXJndW1lbnRzWzFdO3JldHVybiEhdGwuZXF1YWxzV2l0aFRvbGVyYW5jZSh0aGlzLngsZS54LG4pJiYhIXRsLmVxdWFsc1dpdGhUb2xlcmFuY2UodGhpcy55LGUueSxuKX19LHVsLnByb3RvdHlwZS5nZXRPcmRpbmF0ZT1mdW5jdGlvbih0KXtzd2l0Y2godCl7Y2FzZSB1bC5YOnJldHVybiB0aGlzLng7Y2FzZSB1bC5ZOnJldHVybiB0aGlzLnk7Y2FzZSB1bC5aOnJldHVybiB0aGlzLnp9dGhyb3cgbmV3IGVsKCJJbnZhbGlkIG9yZGluYXRlIGluZGV4OiAiK3QpfSx1bC5wcm90b3R5cGUuZXF1YWxzM0Q9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMueD09PXQueCYmdGhpcy55PT09dC55JiYodGhpcy56PT09dC56fHxubC5pc05hTih0aGlzLnopKSYmbmwuaXNOYU4odC56KX0sdWwucHJvdG90eXBlLmVxdWFscz1mdW5jdGlvbih0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIHVsJiZ0aGlzLmVxdWFsczJEKHQpfSx1bC5wcm90b3R5cGUuZXF1YWxJblo9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGwuZXF1YWxzV2l0aFRvbGVyYW5jZSh0aGlzLnosdC56LGUpfSx1bC5wcm90b3R5cGUuY29tcGFyZVRvPWZ1bmN0aW9uKHQpe3ZhciBlPXQ7cmV0dXJuIHRoaXMueDxlLng/LTE6dGhpcy54PmUueD8xOnRoaXMueTxlLnk/LTE6dGhpcy55PmUueT8xOjB9LHVsLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe30sdWwucHJvdG90eXBlLmNvcHk9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHVsKHRoaXMpfSx1bC5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4iKCIrdGhpcy54KyIsICIrdGhpcy55KyIsICIrdGhpcy56KyIpIn0sdWwucHJvdG90eXBlLmRpc3RhbmNlM0Q9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy54LXQueCxuPXRoaXMueS10Lnkscj10aGlzLnotdC56O3JldHVybiBNYXRoLnNxcnQoZSplK24qbityKnIpfSx1bC5wcm90b3R5cGUuZGlzdGFuY2U9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy54LXQueCxuPXRoaXMueS10Lnk7cmV0dXJuIE1hdGguc3FydChlKmUrbipuKX0sdWwucHJvdG90eXBlLmhhc2hDb2RlPWZ1bmN0aW9uKCl7dmFyIHQ9MTc7cmV0dXJuIHQ9MzcqKHQ9MzcqdCt1bC5oYXNoQ29kZSh0aGlzLngpKSt1bC5oYXNoQ29kZSh0aGlzLnkpfSx1bC5wcm90b3R5cGUuc2V0Q29vcmRpbmF0ZT1mdW5jdGlvbih0KXt0aGlzLng9dC54LHRoaXMueT10LnksdGhpcy56PXQuen0sdWwucHJvdG90eXBlLmludGVyZmFjZXNfPWZ1bmN0aW9uKCl7cmV0dXJuW2lsLG9sLGFsXX0sdWwucHJvdG90eXBlLmdldENsYXNzPWZ1bmN0aW9uKCl7cmV0dXJuIHVsfSx1bC5oYXNoQ29kZT1mdW5jdGlvbigpe2lmKDE9PT1hcmd1bWVudHMubGVuZ3RoKXt2YXIgdD1hcmd1bWVudHNbMF0sZT1ubC5kb3VibGVUb0xvbmdCaXRzKHQpO3JldHVybiBNYXRoLnRydW5jKChlXmUpPj4+MzIpfX0sbGwuRGltZW5zaW9uYWxDb21wYXJhdG9yLmdldD1mdW5jdGlvbigpe3JldHVybiBjbH0sbGwuc2VyaWFsVmVyc2lvblVJRC5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gMHg1Y2JmMmMyMzVjN2U1ODAwfSxsbC5OVUxMX09SRElOQVRFLmdldD1mdW5jdGlvbigpe3JldHVybiBubC5OYU59LGxsLlguZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIDB9LGxsLlkuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIDF9LGxsLlouZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIDJ9LE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHVsLGxsKTt2YXIgY2w9ZnVuY3Rpb24odCl7aWYodGhpcy5fZGltZW5zaW9uc1RvVGVzdD0yLDA9PT1hcmd1bWVudHMubGVuZ3RoKTtlbHNlIGlmKDE9PT1hcmd1bWVudHMubGVuZ3RoKXt2YXIgZT1hcmd1bWVudHNbMF07aWYoMiE9PWUmJjMhPT1lKXRocm93IG5ldyBlbCgib25seSAyIG9yIDMgZGltZW5zaW9ucyBtYXkgYmUgc3BlY2lmaWVkIik7dGhpcy5fZGltZW5zaW9uc1RvVGVzdD1lfX07Y2wucHJvdG90eXBlLmNvbXBhcmU9ZnVuY3Rpb24odCxlKXt2YXIgbj10LHI9ZSxpPWNsLmNvbXBhcmUobi54LHIueCk7aWYoMCE9PWkpcmV0dXJuIGk7dmFyIG89Y2wuY29tcGFyZShuLnksci55KTtyZXR1cm4gMCE9PW8/bzp0aGlzLl9kaW1lbnNpb25zVG9UZXN0PD0yPzA6Y2wuY29tcGFyZShuLnosci56KX0sY2wucHJvdG90eXBlLmludGVyZmFjZXNfPWZ1bmN0aW9uKCl7cmV0dXJuW3NsXX0sY2wucHJvdG90eXBlLmdldENsYXNzPWZ1bmN0aW9uKCl7cmV0dXJuIGNsfSxjbC5jb21wYXJlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQ8ZT8tMTp0PmU/MTpubC5pc05hTih0KT9ubC5pc05hTihlKT8wOi0xOm5sLmlzTmFOKGUpPzE6MH07dmFyIGhsPWZ1bmN0aW9uKCl7fTtobC5wcm90b3R5cGUuY3JlYXRlPWZ1bmN0aW9uKCl7fSxobC5wcm90b3R5cGUuaW50ZXJmYWNlc189ZnVuY3Rpb24oKXtyZXR1cm5bXX0saGwucHJvdG90eXBlLmdldENsYXNzPWZ1bmN0aW9uKCl7cmV0dXJuIGhsfTt2YXIgcGw9ZnVuY3Rpb24oKXt9LGZsPXtJTlRFUklPUjp7Y29uZmlndXJhYmxlOiEwfSxCT1VOREFSWTp7Y29uZmlndXJhYmxlOiEwfSxFWFRFUklPUjp7Y29uZmlndXJhYmxlOiEwfSxOT05FOntjb25maWd1cmFibGU6ITB9fTtwbC5wcm90b3R5cGUuaW50ZXJmYWNlc189ZnVuY3Rpb24oKXtyZXR1cm5bXX0scGwucHJvdG90eXBlLmdldENsYXNzPWZ1bmN0aW9uKCl7cmV0dXJuIHBsfSxwbC50b0xvY2F0aW9uU3ltYm9sPWZ1bmN0aW9uKHQpe3N3aXRjaCh0KXtjYXNlIHBsLkVYVEVSSU9SOnJldHVybiJlIjtjYXNlIHBsLkJPVU5EQVJZOnJldHVybiJiIjtjYXNlIHBsLklOVEVSSU9SOnJldHVybiJpIjtjYXNlIHBsLk5PTkU6cmV0dXJuIi0ifXRocm93IG5ldyBlbCgiVW5rbm93biBsb2NhdGlvbiB2YWx1ZTogIit0KX0sZmwuSU5URVJJT1IuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIDB9LGZsLkJPVU5EQVJZLmdldD1mdW5jdGlvbigpe3JldHVybiAxfSxmbC5FWFRFUklPUi5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gMn0sZmwuTk9ORS5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4tMX0sT2JqZWN0LmRlZmluZVByb3BlcnRpZXMocGwsZmwpO3ZhciBnbD1mdW5jdGlvbih0LGUpe3JldHVybiB0LmludGVyZmFjZXNfJiZ0LmludGVyZmFjZXNfKCkuaW5kZXhPZihlKT4tMX0sZGw9ZnVuY3Rpb24oKXt9LHlsPXtMT0dfMTA6e2NvbmZpZ3VyYWJsZTohMH19O2RsLnByb3RvdHlwZS5pbnRlcmZhY2VzXz1mdW5jdGlvbigpe3JldHVybltdfSxkbC5wcm90b3R5cGUuZ2V0Q2xhc3M9ZnVuY3Rpb24oKXtyZXR1cm4gZGx9LGRsLmxvZzEwPWZ1bmN0aW9uKHQpe3ZhciBlPU1hdGgubG9nKHQpO3JldHVybiBubC5pc0luZmluaXRlKGUpfHxubC5pc05hTihlKT9lOmUvZGwuTE9HXzEwfSxkbC5taW49ZnVuY3Rpb24odCxlLG4scil7dmFyIGk9dDtyZXR1cm4gZTxpJiYoaT1lKSxuPGkmJihpPW4pLHI8aSYmKGk9ciksaX0sZGwuY2xhbXA9ZnVuY3Rpb24oKXtpZigibnVtYmVyIj09dHlwZW9mIGFyZ3VtZW50c1syXSYmIm51bWJlciI9PXR5cGVvZiBhcmd1bWVudHNbMF0mJiJudW1iZXIiPT10eXBlb2YgYXJndW1lbnRzWzFdKXt2YXIgdD1hcmd1bWVudHNbMF0sZT1hcmd1bWVudHNbMV0sbj1hcmd1bWVudHNbMl07cmV0dXJuIHQ8ZT9lOnQ+bj9uOnR9aWYoTnVtYmVyLmlzSW50ZWdlcihhcmd1bWVudHNbMl0pJiZOdW1iZXIuaXNJbnRlZ2VyKGFyZ3VtZW50c1swXSkmJk51bWJlci5pc0ludGVnZXIoYXJndW1lbnRzWzFdKSl7dmFyIHI9YXJndW1lbnRzWzBdLGk9YXJndW1lbnRzWzFdLG89YXJndW1lbnRzWzJdO3JldHVybiByPGk/aTpyPm8/bzpyfX0sZGwud3JhcD1mdW5jdGlvbih0LGUpe3JldHVybiB0PDA/ZS0gLXQlZTp0JWV9LGRsLm1heD1mdW5jdGlvbigpe2lmKDM9PT1hcmd1bWVudHMubGVuZ3RoKXt2YXIgdD1hcmd1bWVudHNbMF0sZT1hcmd1bWVudHNbMV0sbj1hcmd1bWVudHNbMl0scj10O3JldHVybiBlPnImJihyPWUpLG4+ciYmKHI9bikscn1pZig0PT09YXJndW1lbnRzLmxlbmd0aCl7dmFyIGk9YXJndW1lbnRzWzBdLG89YXJndW1lbnRzWzFdLHM9YXJndW1lbnRzWzJdLGE9YXJndW1lbnRzWzNdLHU9aTtyZXR1cm4gbz51JiYodT1vKSxzPnUmJih1PXMpLGE+dSYmKHU9YSksdX19LGRsLmF2ZXJhZ2U9ZnVuY3Rpb24odCxlKXtyZXR1cm4odCtlKS8yfSx5bC5MT0dfMTAuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIE1hdGgubG9nKDEwKX0sT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZGwseWwpO3ZhciB2bD1mdW5jdGlvbih0KXt0aGlzLnN0cj10fTt2bC5wcm90b3R5cGUuYXBwZW5kPWZ1bmN0aW9uKHQpe3RoaXMuc3RyKz10fSx2bC5wcm90b3R5cGUuc2V0Q2hhckF0PWZ1bmN0aW9uKHQsZSl7dGhpcy5zdHI9dGhpcy5zdHIuc3Vic3RyKDAsdCkrZSt0aGlzLnN0ci5zdWJzdHIodCsxKX0sdmwucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnN0cn07dmFyIF9sPWZ1bmN0aW9uKHQpe3RoaXMudmFsdWU9dH07X2wucHJvdG90eXBlLmludFZhbHVlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudmFsdWV9LF9sLnByb3RvdHlwZS5jb21wYXJlVG89ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMudmFsdWU8dD8tMTp0aGlzLnZhbHVlPnQ/MTowfSxfbC5pc05hTj1mdW5jdGlvbih0KXtyZXR1cm4gTnVtYmVyLmlzTmFOKHQpfTt2YXIgbWw9ZnVuY3Rpb24oKXt9O21sLmlzV2hpdGVzcGFjZT1mdW5jdGlvbih0KXtyZXR1cm4gdDw9MzImJnQ+PTB8fDEyNz09PXR9LG1sLnRvVXBwZXJDYXNlPWZ1bmN0aW9uKHQpe3JldHVybiB0LnRvVXBwZXJDYXNlKCl9O3ZhciB4bD1mdW5jdGlvbiB0KCl7aWYodGhpcy5faGk9MCx0aGlzLl9sbz0wLDA9PT1hcmd1bWVudHMubGVuZ3RoKXRoaXMuaW5pdCgwKTtlbHNlIGlmKDE9PT1hcmd1bWVudHMubGVuZ3RoKXtpZigibnVtYmVyIj09dHlwZW9mIGFyZ3VtZW50c1swXSl7dmFyIGU9YXJndW1lbnRzWzBdO3RoaXMuaW5pdChlKX1lbHNlIGlmKGFyZ3VtZW50c1swXWluc3RhbmNlb2YgdCl7dmFyIG49YXJndW1lbnRzWzBdO3RoaXMuaW5pdChuKX1lbHNlIGlmKCJzdHJpbmciPT10eXBlb2YgYXJndW1lbnRzWzBdKXt2YXIgcj1hcmd1bWVudHNbMF07dC5jYWxsKHRoaXMsdC5wYXJzZShyKSl9fWVsc2UgaWYoMj09PWFyZ3VtZW50cy5sZW5ndGgpe3ZhciBpPWFyZ3VtZW50c1swXSxvPWFyZ3VtZW50c1sxXTt0aGlzLmluaXQoaSxvKX19LEVsPXtQSTp7Y29uZmlndXJhYmxlOiEwfSxUV09fUEk6e2NvbmZpZ3VyYWJsZTohMH0sUElfMjp7Y29uZmlndXJhYmxlOiEwfSxFOntjb25maWd1cmFibGU6ITB9LE5hTjp7Y29uZmlndXJhYmxlOiEwfSxFUFM6e2NvbmZpZ3VyYWJsZTohMH0sU1BMSVQ6e2NvbmZpZ3VyYWJsZTohMH0sTUFYX1BSSU5UX0RJR0lUUzp7Y29uZmlndXJhYmxlOiEwfSxURU46e2NvbmZpZ3VyYWJsZTohMH0sT05FOntjb25maWd1cmFibGU6ITB9LFNDSV9OT1RfRVhQT05FTlRfQ0hBUjp7Y29uZmlndXJhYmxlOiEwfSxTQ0lfTk9UX1pFUk86e2NvbmZpZ3VyYWJsZTohMH19O3hsLnByb3RvdHlwZS5sZT1mdW5jdGlvbih0KXtyZXR1cm4odGhpcy5faGk8dC5faGl8fHRoaXMuX2hpPT09dC5faGkpJiZ0aGlzLl9sbzw9dC5fbG99LHhsLnByb3RvdHlwZS5leHRyYWN0U2lnbmlmaWNhbnREaWdpdHM9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLmFicygpLHI9eGwubWFnbml0dWRlKG4uX2hpKSxpPXhsLlRFTi5wb3cocik7KG49bi5kaXZpZGUoaSkpLmd0KHhsLlRFTik/KG49bi5kaXZpZGUoeGwuVEVOKSxyKz0xKTpuLmx0KHhsLk9ORSkmJihuPW4ubXVsdGlwbHkoeGwuVEVOKSxyLT0xKTtmb3IodmFyIG89cisxLHM9bmV3IHZsLGE9eGwuTUFYX1BSSU5UX0RJR0lUUy0xLHU9MDt1PD1hO3UrKyl7dCYmdT09PW8mJnMuYXBwZW5kKCIuIik7dmFyIGw9TWF0aC50cnVuYyhuLl9oaSk7aWYobDwwKWJyZWFrO3ZhciBjPSExLGg9MDtsPjk/KGM9ITAsaD0iOSIpOmg9IjAiK2wscy5hcHBlbmQoaCksbj1uLnN1YnRyYWN0KHhsLnZhbHVlT2YobCkpLm11bHRpcGx5KHhsLlRFTiksYyYmbi5zZWxmQWRkKHhsLlRFTik7dmFyIHA9ITAsZj14bC5tYWduaXR1ZGUobi5faGkpO2lmKGY8MCYmTWF0aC5hYnMoZik+PWEtdSYmKHA9ITEpLCFwKWJyZWFrfXJldHVybiBlWzBdPXIscy50b1N0cmluZygpfSx4bC5wcm90b3R5cGUuc3FyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubXVsdGlwbHkodGhpcyl9LHhsLnByb3RvdHlwZS5kb3VibGVWYWx1ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9oaSt0aGlzLl9sb30seGwucHJvdG90eXBlLnN1YnRyYWN0PWZ1bmN0aW9uKCl7aWYoYXJndW1lbnRzWzBdaW5zdGFuY2VvZiB4bCl7dmFyIHQ9YXJndW1lbnRzWzBdO3JldHVybiB0aGlzLmFkZCh0Lm5lZ2F0ZSgpKX1pZigibnVtYmVyIj09dHlwZW9mIGFyZ3VtZW50c1swXSl7dmFyIGU9YXJndW1lbnRzWzBdO3JldHVybiB0aGlzLmFkZCgtZSl9fSx4bC5wcm90b3R5cGUuZXF1YWxzPWZ1bmN0aW9uKCl7aWYoMT09PWFyZ3VtZW50cy5sZW5ndGgpe3ZhciB0PWFyZ3VtZW50c1swXTtyZXR1cm4gdGhpcy5faGk9PT10Ll9oaSYmdGhpcy5fbG89PT10Ll9sb319LHhsLnByb3RvdHlwZS5pc1plcm89ZnVuY3Rpb24oKXtyZXR1cm4gMD09PXRoaXMuX2hpJiYwPT09dGhpcy5fbG99LHhsLnByb3RvdHlwZS5zZWxmU3VidHJhY3Q9ZnVuY3Rpb24oKXtpZihhcmd1bWVudHNbMF1pbnN0YW5jZW9mIHhsKXt2YXIgdD1hcmd1bWVudHNbMF07cmV0dXJuIHRoaXMuaXNOYU4oKT90aGlzOnRoaXMuc2VsZkFkZCgtdC5faGksLXQuX2xvKX1pZigibnVtYmVyIj09dHlwZW9mIGFyZ3VtZW50c1swXSl7dmFyIGU9YXJndW1lbnRzWzBdO3JldHVybiB0aGlzLmlzTmFOKCk/dGhpczp0aGlzLnNlbGZBZGQoLWUsMCl9fSx4bC5wcm90b3R5cGUuZ2V0U3BlY2lhbE51bWJlclN0cmluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmlzWmVybygpPyIwLjAiOnRoaXMuaXNOYU4oKT8iTmFOICI6bnVsbH0seGwucHJvdG90eXBlLm1pbj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5sZSh0KT90aGlzOnR9LHhsLnByb3RvdHlwZS5zZWxmRGl2aWRlPWZ1bmN0aW9uKCl7aWYoMT09PWFyZ3VtZW50cy5sZW5ndGgpe2lmKGFyZ3VtZW50c1swXWluc3RhbmNlb2YgeGwpe3ZhciB0PWFyZ3VtZW50c1swXTtyZXR1cm4gdGhpcy5zZWxmRGl2aWRlKHQuX2hpLHQuX2xvKX1pZigibnVtYmVyIj09dHlwZW9mIGFyZ3VtZW50c1swXSl7dmFyIGU9YXJndW1lbnRzWzBdO3JldHVybiB0aGlzLnNlbGZEaXZpZGUoZSwwKX19ZWxzZSBpZigyPT09YXJndW1lbnRzLmxlbmd0aCl7dmFyIG49YXJndW1lbnRzWzBdLHI9YXJndW1lbnRzWzFdLGk9bnVsbCxvPW51bGwscz1udWxsLGE9bnVsbCx1PW51bGwsbD1udWxsLGM9bnVsbCxoPW51bGw7cmV0dXJuIHU9dGhpcy5faGkvbixoPShpPShsPXhsLlNQTElUKnUpLShpPWwtdSkpKihzPShoPXhsLlNQTElUKm4pLShzPWgtbikpLShjPXUqbikraSooYT1uLXMpKyhvPXUtaSkqcytvKmEsaD11KyhsPSh0aGlzLl9oaS1jLWgrdGhpcy5fbG8tdSpyKS9uKSx0aGlzLl9oaT1oLHRoaXMuX2xvPXUtaCtsLHRoaXN9fSx4bC5wcm90b3R5cGUuZHVtcD1mdW5jdGlvbigpe3JldHVybiJERDwiK3RoaXMuX2hpKyIsICIrdGhpcy5fbG8rIj4ifSx4bC5wcm90b3R5cGUuZGl2aWRlPWZ1bmN0aW9uKCl7aWYoYXJndW1lbnRzWzBdaW5zdGFuY2VvZiB4bCl7dmFyIHQ9YXJndW1lbnRzWzBdLGU9bnVsbCxuPW51bGwscj1udWxsLGk9bnVsbCxvPW51bGwscz1udWxsLGE9bnVsbCx1PW51bGw7bj0obz10aGlzLl9oaS90Ll9oaSktKGU9KHM9eGwuU1BMSVQqbyktKGU9cy1vKSksdT1lKihyPSh1PXhsLlNQTElUKnQuX2hpKS0ocj11LXQuX2hpKSktKGE9byp0Ll9oaSkrZSooaT10Ll9oaS1yKStuKnIrbippO3ZhciBsPXU9bysocz0odGhpcy5faGktYS11K3RoaXMuX2xvLW8qdC5fbG8pL3QuX2hpKSxjPW8tdStzO3JldHVybiBuZXcgeGwobCxjKX1pZigibnVtYmVyIj09dHlwZW9mIGFyZ3VtZW50c1swXSl7dmFyIGg9YXJndW1lbnRzWzBdO3JldHVybiBubC5pc05hTihoKT94bC5jcmVhdGVOYU4oKTp4bC5jb3B5KHRoaXMpLnNlbGZEaXZpZGUoaCwwKX19LHhsLnByb3RvdHlwZS5nZT1mdW5jdGlvbih0KXtyZXR1cm4odGhpcy5faGk+dC5faGl8fHRoaXMuX2hpPT09dC5faGkpJiZ0aGlzLl9sbz49dC5fbG99LHhsLnByb3RvdHlwZS5wb3c9ZnVuY3Rpb24odCl7aWYoMD09PXQpcmV0dXJuIHhsLnZhbHVlT2YoMSk7dmFyIGU9bmV3IHhsKHRoaXMpLG49eGwudmFsdWVPZigxKSxyPU1hdGguYWJzKHQpO2lmKHI+MSlmb3IoO3I+MDspciUyPT0xJiZuLnNlbGZNdWx0aXBseShlKSwoci89Mik+MCYmKGU9ZS5zcXIoKSk7ZWxzZSBuPWU7cmV0dXJuIHQ8MD9uLnJlY2lwcm9jYWwoKTpufSx4bC5wcm90b3R5cGUuY2VpbD1mdW5jdGlvbigpe2lmKHRoaXMuaXNOYU4oKSlyZXR1cm4geGwuTmFOO3ZhciB0PU1hdGguY2VpbCh0aGlzLl9oaSksZT0wO3JldHVybiB0PT09dGhpcy5faGkmJihlPU1hdGguY2VpbCh0aGlzLl9sbykpLG5ldyB4bCh0LGUpfSx4bC5wcm90b3R5cGUuY29tcGFyZVRvPWZ1bmN0aW9uKHQpe3ZhciBlPXQ7cmV0dXJuIHRoaXMuX2hpPGUuX2hpPy0xOnRoaXMuX2hpPmUuX2hpPzE6dGhpcy5fbG88ZS5fbG8/LTE6dGhpcy5fbG8+ZS5fbG8/MTowfSx4bC5wcm90b3R5cGUucmludD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmlzTmFOKCk/dGhpczp0aGlzLmFkZCguNSkuZmxvb3IoKX0seGwucHJvdG90eXBlLnNldFZhbHVlPWZ1bmN0aW9uKCl7aWYoYXJndW1lbnRzWzBdaW5zdGFuY2VvZiB4bCl7dmFyIHQ9YXJndW1lbnRzWzBdO3JldHVybiB0aGlzLmluaXQodCksdGhpc31pZigibnVtYmVyIj09dHlwZW9mIGFyZ3VtZW50c1swXSl7dmFyIGU9YXJndW1lbnRzWzBdO3JldHVybiB0aGlzLmluaXQoZSksdGhpc319LHhsLnByb3RvdHlwZS5tYXg9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZ2UodCk/dGhpczp0fSx4bC5wcm90b3R5cGUuc3FydD1mdW5jdGlvbigpe2lmKHRoaXMuaXNaZXJvKCkpcmV0dXJuIHhsLnZhbHVlT2YoMCk7aWYodGhpcy5pc05lZ2F0aXZlKCkpcmV0dXJuIHhsLk5hTjt2YXIgdD0xL01hdGguc3FydCh0aGlzLl9oaSksZT10aGlzLl9oaSp0LG49eGwudmFsdWVPZihlKSxyPXRoaXMuc3VidHJhY3Qobi5zcXIoKSkuX2hpKiguNSp0KTtyZXR1cm4gbi5hZGQocil9LHhsLnByb3RvdHlwZS5zZWxmQWRkPWZ1bmN0aW9uKCl7aWYoMT09PWFyZ3VtZW50cy5sZW5ndGgpe2lmKGFyZ3VtZW50c1swXWluc3RhbmNlb2YgeGwpe3ZhciB0PWFyZ3VtZW50c1swXTtyZXR1cm4gdGhpcy5zZWxmQWRkKHQuX2hpLHQuX2xvKX1pZigibnVtYmVyIj09dHlwZW9mIGFyZ3VtZW50c1swXSl7dmFyIGU9YXJndW1lbnRzWzBdLG49bnVsbCxyPW51bGwsaT1udWxsLG89bnVsbCxzPW51bGwsYT1udWxsO3JldHVybiBvPShpPXRoaXMuX2hpK2UpLShzPWktdGhpcy5faGkpLHI9KGE9KG89ZS1zKyh0aGlzLl9oaS1vKSkrdGhpcy5fbG8pKyhpLShuPWkrYSkpLHRoaXMuX2hpPW4rcix0aGlzLl9sbz1yKyhuLXRoaXMuX2hpKSx0aGlzfX1lbHNlIGlmKDI9PT1hcmd1bWVudHMubGVuZ3RoKXt2YXIgdT1hcmd1bWVudHNbMF0sbD1hcmd1bWVudHNbMV0sYz1udWxsLGg9bnVsbCxwPW51bGwsZj1udWxsLGc9bnVsbCxkPW51bGwseT1udWxsO2Y9dGhpcy5faGkrdSxoPXRoaXMuX2xvK2wsZz1mLShkPWYtdGhpcy5faGkpLHA9aC0oeT1oLXRoaXMuX2xvKTt2YXIgdj0oYz1mKyhkPShnPXUtZCsodGhpcy5faGktZykpK2gpKSsoZD0ocD1sLXkrKHRoaXMuX2xvLXApKSsoZCsoZi1jKSkpLF89ZCsoYy12KTtyZXR1cm4gdGhpcy5faGk9dix0aGlzLl9sbz1fLHRoaXN9fSx4bC5wcm90b3R5cGUuc2VsZk11bHRpcGx5PWZ1bmN0aW9uKCl7aWYoMT09PWFyZ3VtZW50cy5sZW5ndGgpe2lmKGFyZ3VtZW50c1swXWluc3RhbmNlb2YgeGwpe3ZhciB0PWFyZ3VtZW50c1swXTtyZXR1cm4gdGhpcy5zZWxmTXVsdGlwbHkodC5faGksdC5fbG8pfWlmKCJudW1iZXIiPT10eXBlb2YgYXJndW1lbnRzWzBdKXt2YXIgZT1hcmd1bWVudHNbMF07cmV0dXJuIHRoaXMuc2VsZk11bHRpcGx5KGUsMCl9fWVsc2UgaWYoMj09PWFyZ3VtZW50cy5sZW5ndGgpe3ZhciBuPWFyZ3VtZW50c1swXSxyPWFyZ3VtZW50c1sxXSxpPW51bGwsbz1udWxsLHM9bnVsbCxhPW51bGwsdT1udWxsLGw9bnVsbDtpPSh1PXhsLlNQTElUKnRoaXMuX2hpKS10aGlzLl9oaSxsPXhsLlNQTElUKm4saT11LWksbz10aGlzLl9oaS1pLHM9bC1uO3ZhciBjPSh1PXRoaXMuX2hpKm4pKyhsPWkqKHM9bC1zKS11K2kqKGE9bi1zKStvKnMrbyphKyh0aGlzLl9oaSpyK3RoaXMuX2xvKm4pKSxoPWwrKGk9dS1jKTtyZXR1cm4gdGhpcy5faGk9Yyx0aGlzLl9sbz1oLHRoaXN9fSx4bC5wcm90b3R5cGUuc2VsZlNxcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnNlbGZNdWx0aXBseSh0aGlzKX0seGwucHJvdG90eXBlLmZsb29yPWZ1bmN0aW9uKCl7aWYodGhpcy5pc05hTigpKXJldHVybiB4bC5OYU47dmFyIHQ9TWF0aC5mbG9vcih0aGlzLl9oaSksZT0wO3JldHVybiB0PT09dGhpcy5faGkmJihlPU1hdGguZmxvb3IodGhpcy5fbG8pKSxuZXcgeGwodCxlKX0seGwucHJvdG90eXBlLm5lZ2F0ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmlzTmFOKCk/dGhpczpuZXcgeGwoLXRoaXMuX2hpLC10aGlzLl9sbyl9LHhsLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe30seGwucHJvdG90eXBlLm11bHRpcGx5PWZ1bmN0aW9uKCl7aWYoYXJndW1lbnRzWzBdaW5zdGFuY2VvZiB4bCl7dmFyIHQ9YXJndW1lbnRzWzBdO3JldHVybiB0LmlzTmFOKCk/eGwuY3JlYXRlTmFOKCk6eGwuY29weSh0aGlzKS5zZWxmTXVsdGlwbHkodCl9aWYoIm51bWJlciI9PXR5cGVvZiBhcmd1bWVudHNbMF0pe3ZhciBlPWFyZ3VtZW50c1swXTtyZXR1cm4gbmwuaXNOYU4oZSk/eGwuY3JlYXRlTmFOKCk6eGwuY29weSh0aGlzKS5zZWxmTXVsdGlwbHkoZSwwKX19LHhsLnByb3RvdHlwZS5pc05hTj1mdW5jdGlvbigpe3JldHVybiBubC5pc05hTih0aGlzLl9oaSl9LHhsLnByb3RvdHlwZS5pbnRWYWx1ZT1mdW5jdGlvbigpe3JldHVybiBNYXRoLnRydW5jKHRoaXMuX2hpKX0seGwucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7dmFyIHQ9eGwubWFnbml0dWRlKHRoaXMuX2hpKTtyZXR1cm4gdD49LTMmJnQ8PTIwP3RoaXMudG9TdGFuZGFyZE5vdGF0aW9uKCk6dGhpcy50b1NjaU5vdGF0aW9uKCl9LHhsLnByb3RvdHlwZS50b1N0YW5kYXJkTm90YXRpb249ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmdldFNwZWNpYWxOdW1iZXJTdHJpbmcoKTtpZihudWxsIT09dClyZXR1cm4gdDt2YXIgZT1uZXcgQXJyYXkoMSkuZmlsbChudWxsKSxuPXRoaXMuZXh0cmFjdFNpZ25pZmljYW50RGlnaXRzKCEwLGUpLHI9ZVswXSsxLGk9bjtpZigiLiI9PT1uLmNoYXJBdCgwKSlpPSIwIituO2Vsc2UgaWYocjwwKWk9IjAuIit4bC5zdHJpbmdPZkNoYXIoIjAiLC1yKStuO2Vsc2UgaWYoLTE9PT1uLmluZGV4T2YoIi4iKSl7dmFyIG89ci1uLmxlbmd0aDtpPW4reGwuc3RyaW5nT2ZDaGFyKCIwIixvKSsiLjAifXJldHVybiB0aGlzLmlzTmVnYXRpdmUoKT8iLSIraTppfSx4bC5wcm90b3R5cGUucmVjaXByb2NhbD1mdW5jdGlvbigpe3ZhciB0LGUsbixyLGk9bnVsbCxvPW51bGwscz1udWxsLGE9bnVsbDt0PShuPTEvdGhpcy5faGkpLShpPShzPXhsLlNQTElUKm4pLShpPXMtbikpLG89KGE9eGwuU1BMSVQqdGhpcy5faGkpLXRoaXMuX2hpO3ZhciB1PW4rKHM9KDEtKHI9bip0aGlzLl9oaSktKGE9aSoobz1hLW8pLXIraSooZT10aGlzLl9oaS1vKSt0Km8rdCplKS1uKnRoaXMuX2xvKS90aGlzLl9oaSk7cmV0dXJuIG5ldyB4bCh1LG4tdStzKX0seGwucHJvdG90eXBlLnRvU2NpTm90YXRpb249ZnVuY3Rpb24oKXtpZih0aGlzLmlzWmVybygpKXJldHVybiB4bC5TQ0lfTk9UX1pFUk87dmFyIHQ9dGhpcy5nZXRTcGVjaWFsTnVtYmVyU3RyaW5nKCk7aWYobnVsbCE9PXQpcmV0dXJuIHQ7dmFyIGU9bmV3IEFycmF5KDEpLmZpbGwobnVsbCksbj10aGlzLmV4dHJhY3RTaWduaWZpY2FudERpZ2l0cyghMSxlKSxyPXhsLlNDSV9OT1RfRVhQT05FTlRfQ0hBUitlWzBdO2lmKCIwIj09PW4uY2hhckF0KDApKXRocm93IG5ldyBFcnJvcigiRm91bmQgbGVhZGluZyB6ZXJvOiAiK24pO3ZhciBpPSIiO24ubGVuZ3RoPjEmJihpPW4uc3Vic3RyaW5nKDEpKTt2YXIgbz1uLmNoYXJBdCgwKSsiLiIraTtyZXR1cm4gdGhpcy5pc05lZ2F0aXZlKCk/Ii0iK28rcjpvK3J9LHhsLnByb3RvdHlwZS5hYnM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pc05hTigpP3hsLk5hTjp0aGlzLmlzTmVnYXRpdmUoKT90aGlzLm5lZ2F0ZSgpOm5ldyB4bCh0aGlzKX0seGwucHJvdG90eXBlLmlzUG9zaXRpdmU9ZnVuY3Rpb24oKXtyZXR1cm4odGhpcy5faGk+MHx8MD09PXRoaXMuX2hpKSYmdGhpcy5fbG8+MH0seGwucHJvdG90eXBlLmx0PWZ1bmN0aW9uKHQpe3JldHVybih0aGlzLl9oaTx0Ll9oaXx8dGhpcy5faGk9PT10Ll9oaSkmJnRoaXMuX2xvPHQuX2xvfSx4bC5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKCl7aWYoYXJndW1lbnRzWzBdaW5zdGFuY2VvZiB4bCl7dmFyIHQ9YXJndW1lbnRzWzBdO3JldHVybiB4bC5jb3B5KHRoaXMpLnNlbGZBZGQodCl9aWYoIm51bWJlciI9PXR5cGVvZiBhcmd1bWVudHNbMF0pe3ZhciBlPWFyZ3VtZW50c1swXTtyZXR1cm4geGwuY29weSh0aGlzKS5zZWxmQWRkKGUpfX0seGwucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24oKXtpZigxPT09YXJndW1lbnRzLmxlbmd0aCl7aWYoIm51bWJlciI9PXR5cGVvZiBhcmd1bWVudHNbMF0pe3ZhciB0PWFyZ3VtZW50c1swXTt0aGlzLl9oaT10LHRoaXMuX2xvPTB9ZWxzZSBpZihhcmd1bWVudHNbMF1pbnN0YW5jZW9mIHhsKXt2YXIgZT1hcmd1bWVudHNbMF07dGhpcy5faGk9ZS5faGksdGhpcy5fbG89ZS5fbG99fWVsc2UgaWYoMj09PWFyZ3VtZW50cy5sZW5ndGgpe3ZhciBuPWFyZ3VtZW50c1swXSxyPWFyZ3VtZW50c1sxXTt0aGlzLl9oaT1uLHRoaXMuX2xvPXJ9fSx4bC5wcm90b3R5cGUuZ3Q9ZnVuY3Rpb24odCl7cmV0dXJuKHRoaXMuX2hpPnQuX2hpfHx0aGlzLl9oaT09PXQuX2hpKSYmdGhpcy5fbG8+dC5fbG99LHhsLnByb3RvdHlwZS5pc05lZ2F0aXZlPWZ1bmN0aW9uKCl7cmV0dXJuKHRoaXMuX2hpPDB8fDA9PT10aGlzLl9oaSkmJnRoaXMuX2xvPDB9LHhsLnByb3RvdHlwZS50cnVuYz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmlzTmFOKCk/eGwuTmFOOnRoaXMuaXNQb3NpdGl2ZSgpP3RoaXMuZmxvb3IoKTp0aGlzLmNlaWwoKX0seGwucHJvdG90eXBlLnNpZ251bT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9oaT4wPzE6dGhpcy5faGk8MD8tMTp0aGlzLl9sbz4wPzE6dGhpcy5fbG88MD8tMTowfSx4bC5wcm90b3R5cGUuaW50ZXJmYWNlc189ZnVuY3Rpb24oKXtyZXR1cm5bYWwsaWwsb2xdfSx4bC5wcm90b3R5cGUuZ2V0Q2xhc3M9ZnVuY3Rpb24oKXtyZXR1cm4geGx9LHhsLnNxcj1mdW5jdGlvbih0KXtyZXR1cm4geGwudmFsdWVPZih0KS5zZWxmTXVsdGlwbHkodCl9LHhsLnZhbHVlT2Y9ZnVuY3Rpb24oKXtpZigic3RyaW5nIj09dHlwZW9mIGFyZ3VtZW50c1swXSl7dmFyIHQ9YXJndW1lbnRzWzBdO3JldHVybiB4bC5wYXJzZSh0KX1pZigibnVtYmVyIj09dHlwZW9mIGFyZ3VtZW50c1swXSl7dmFyIGU9YXJndW1lbnRzWzBdO3JldHVybiBuZXcgeGwoZSl9fSx4bC5zcXJ0PWZ1bmN0aW9uKHQpe3JldHVybiB4bC52YWx1ZU9mKHQpLnNxcnQoKX0seGwucGFyc2U9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTAsbj10Lmxlbmd0aDttbC5pc1doaXRlc3BhY2UodC5jaGFyQXQoZSkpOyllKys7dmFyIHI9ITE7aWYoZTxuKXt2YXIgaT10LmNoYXJBdChlKTsiLSIhPT1pJiYiKyIhPT1pfHwoZSsrLCItIj09PWkmJihyPSEwKSl9Zm9yKHZhciBvPW5ldyB4bCxzPTAsYT0wLHU9MDshKGU+PW4pOyl7dmFyIGw9dC5jaGFyQXQoZSk7aWYoZSsrLG1sLmlzRGlnaXQobCkpe3ZhciBjPWwtIjAiO28uc2VsZk11bHRpcGx5KHhsLlRFTiksby5zZWxmQWRkKGMpLHMrK31lbHNle2lmKCIuIiE9PWwpe2lmKCJlIj09PWx8fCJFIj09PWwpe3ZhciBoPXQuc3Vic3RyaW5nKGUpO3RyeXt1PV9sLnBhcnNlSW50KGgpfWNhdGNoKGUpe3Rocm93IGUgaW5zdGFuY2VvZiBFcnJvcj9uZXcgRXJyb3IoIkludmFsaWQgZXhwb25lbnQgIitoKyIgaW4gc3RyaW5nICIrdCk6ZX1icmVha310aHJvdyBuZXcgRXJyb3IoIlVuZXhwZWN0ZWQgY2hhcmFjdGVyICciK2wrIicgYXQgcG9zaXRpb24gIitlKyIgaW4gc3RyaW5nICIrdCl9YT1zfX12YXIgcD1vLGY9cy1hLXU7aWYoMD09PWYpcD1vO2Vsc2UgaWYoZj4wKXt2YXIgZz14bC5URU4ucG93KGYpO3A9by5kaXZpZGUoZyl9ZWxzZSBpZihmPDApe3ZhciBkPXhsLlRFTi5wb3coLWYpO3A9by5tdWx0aXBseShkKX1yZXR1cm4gcj9wLm5lZ2F0ZSgpOnB9LHhsLmNyZWF0ZU5hTj1mdW5jdGlvbigpe3JldHVybiBuZXcgeGwobmwuTmFOLG5sLk5hTil9LHhsLmNvcHk9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyB4bCh0KX0seGwubWFnbml0dWRlPWZ1bmN0aW9uKHQpe3ZhciBlPU1hdGguYWJzKHQpLG49TWF0aC5sb2coZSkvTWF0aC5sb2coMTApLHI9TWF0aC50cnVuYyhNYXRoLmZsb29yKG4pKTtyZXR1cm4gMTAqTWF0aC5wb3coMTAscik8PWUmJihyKz0xKSxyfSx4bC5zdHJpbmdPZkNoYXI9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49bmV3IHZsLHI9MDtyPGU7cisrKW4uYXBwZW5kKHQpO3JldHVybiBuLnRvU3RyaW5nKCl9LEVsLlBJLmdldD1mdW5jdGlvbigpe3JldHVybiBuZXcgeGwoMy4xNDE1OTI2NTM1ODk3OTMsMTIyNDY0Njc5OTE0NzM1MzJlLTMyKX0sRWwuVFdPX1BJLmdldD1mdW5jdGlvbigpe3JldHVybiBuZXcgeGwoNi4yODMxODUzMDcxNzk1ODYsMjQ0OTI5MzU5ODI5NDcwNjRlLTMyKX0sRWwuUElfMi5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHhsKDEuNTcwNzk2MzI2Nzk0ODk2Niw2MTIzMjMzOTk1NzM2NzY2ZS0zMil9LEVsLkUuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyB4bCgyLjcxODI4MTgyODQ1OTA0NSwxNDQ1NjQ2ODkxNzI5MjUwMmUtMzIpfSxFbC5OYU4uZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyB4bChubC5OYU4sbmwuTmFOKX0sRWwuRVBTLmdldD1mdW5jdGlvbigpe3JldHVybiAxMjMyNTk1MTY0NDA3ODNlLTQ2fSxFbC5TUExJVC5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gMTM0MjE3NzI5fSxFbC5NQVhfUFJJTlRfRElHSVRTLmdldD1mdW5jdGlvbigpe3JldHVybiAzMn0sRWwuVEVOLmdldD1mdW5jdGlvbigpe3JldHVybiB4bC52YWx1ZU9mKDEwKX0sRWwuT05FLmdldD1mdW5jdGlvbigpe3JldHVybiB4bC52YWx1ZU9mKDEpfSxFbC5TQ0lfTk9UX0VYUE9ORU5UX0NIQVIuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIkUifSxFbC5TQ0lfTk9UX1pFUk8uZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIjAuMEUwIn0sT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoeGwsRWwpO3ZhciBibD1mdW5jdGlvbigpe30sd2w9e0RQX1NBRkVfRVBTSUxPTjp7Y29uZmlndXJhYmxlOiEwfX07YmwucHJvdG90eXBlLmludGVyZmFjZXNfPWZ1bmN0aW9uKCl7cmV0dXJuW119LGJsLnByb3RvdHlwZS5nZXRDbGFzcz1mdW5jdGlvbigpe3JldHVybiBibH0sYmwub3JpZW50YXRpb25JbmRleD1mdW5jdGlvbih0LGUsbil7dmFyIHI9Ymwub3JpZW50YXRpb25JbmRleEZpbHRlcih0LGUsbik7aWYocjw9MSlyZXR1cm4gcjt2YXIgaT14bC52YWx1ZU9mKGUueCkuc2VsZkFkZCgtdC54KSxvPXhsLnZhbHVlT2YoZS55KS5zZWxmQWRkKC10LnkpLHM9eGwudmFsdWVPZihuLngpLnNlbGZBZGQoLWUueCksYT14bC52YWx1ZU9mKG4ueSkuc2VsZkFkZCgtZS55KTtyZXR1cm4gaS5zZWxmTXVsdGlwbHkoYSkuc2VsZlN1YnRyYWN0KG8uc2VsZk11bHRpcGx5KHMpKS5zaWdudW0oKX0sYmwuc2lnbk9mRGV0MngyPWZ1bmN0aW9uKHQsZSxuLHIpe3JldHVybiB0Lm11bHRpcGx5KHIpLnNlbGZTdWJ0cmFjdChlLm11bHRpcGx5KG4pKS5zaWdudW0oKX0sYmwuaW50ZXJzZWN0aW9uPWZ1bmN0aW9uKHQsZSxuLHIpe3ZhciBpPXhsLnZhbHVlT2Yoci55KS5zZWxmU3VidHJhY3Qobi55KS5zZWxmTXVsdGlwbHkoeGwudmFsdWVPZihlLngpLnNlbGZTdWJ0cmFjdCh0LngpKSxvPXhsLnZhbHVlT2Yoci54KS5zZWxmU3VidHJhY3Qobi54KS5zZWxmTXVsdGlwbHkoeGwudmFsdWVPZihlLnkpLnNlbGZTdWJ0cmFjdCh0LnkpKSxzPWkuc3VidHJhY3QobyksYT14bC52YWx1ZU9mKHIueCkuc2VsZlN1YnRyYWN0KG4ueCkuc2VsZk11bHRpcGx5KHhsLnZhbHVlT2YodC55KS5zZWxmU3VidHJhY3Qobi55KSksdT14bC52YWx1ZU9mKHIueSkuc2VsZlN1YnRyYWN0KG4ueSkuc2VsZk11bHRpcGx5KHhsLnZhbHVlT2YodC54KS5zZWxmU3VidHJhY3Qobi54KSksbD1hLnN1YnRyYWN0KHUpLnNlbGZEaXZpZGUocykuZG91YmxlVmFsdWUoKSxjPXhsLnZhbHVlT2YodC54KS5zZWxmQWRkKHhsLnZhbHVlT2YoZS54KS5zZWxmU3VidHJhY3QodC54KS5zZWxmTXVsdGlwbHkobCkpLmRvdWJsZVZhbHVlKCksaD14bC52YWx1ZU9mKGUueCkuc2VsZlN1YnRyYWN0KHQueCkuc2VsZk11bHRpcGx5KHhsLnZhbHVlT2YodC55KS5zZWxmU3VidHJhY3Qobi55KSkscD14bC52YWx1ZU9mKGUueSkuc2VsZlN1YnRyYWN0KHQueSkuc2VsZk11bHRpcGx5KHhsLnZhbHVlT2YodC54KS5zZWxmU3VidHJhY3Qobi54KSksZj1oLnN1YnRyYWN0KHApLnNlbGZEaXZpZGUocykuZG91YmxlVmFsdWUoKSxnPXhsLnZhbHVlT2Yobi55KS5zZWxmQWRkKHhsLnZhbHVlT2Yoci55KS5zZWxmU3VidHJhY3Qobi55KS5zZWxmTXVsdGlwbHkoZikpLmRvdWJsZVZhbHVlKCk7cmV0dXJuIG5ldyB1bChjLGcpfSxibC5vcmllbnRhdGlvbkluZGV4RmlsdGVyPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1udWxsLGk9KHQueC1uLngpKihlLnktbi55KSxvPSh0Lnktbi55KSooZS54LW4ueCkscz1pLW87aWYoaT4wKXtpZihvPD0wKXJldHVybiBibC5zaWdudW0ocyk7cj1pK299ZWxzZXtpZighKGk8MCkpcmV0dXJuIGJsLnNpZ251bShzKTtpZihvPj0wKXJldHVybiBibC5zaWdudW0ocyk7cj0taS1vfXZhciBhPWJsLkRQX1NBRkVfRVBTSUxPTipyO3JldHVybiBzPj1hfHwtcz49YT9ibC5zaWdudW0ocyk6Mn0sYmwuc2lnbnVtPWZ1bmN0aW9uKHQpe3JldHVybiB0PjA/MTp0PDA/LTE6MH0sd2wuRFBfU0FGRV9FUFNJTE9OLmdldD1mdW5jdGlvbigpe3JldHVybiAxZS0xNX0sT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoYmwsd2wpO3ZhciBJbD1mdW5jdGlvbigpe30sTmw9e1g6e2NvbmZpZ3VyYWJsZTohMH0sWTp7Y29uZmlndXJhYmxlOiEwfSxaOntjb25maWd1cmFibGU6ITB9LE06e2NvbmZpZ3VyYWJsZTohMH19O05sLlguZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIDB9LE5sLlkuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIDF9LE5sLlouZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIDJ9LE5sLk0uZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIDN9LElsLnByb3RvdHlwZS5zZXRPcmRpbmF0ZT1mdW5jdGlvbih0LGUsbil7fSxJbC5wcm90b3R5cGUuc2l6ZT1mdW5jdGlvbigpe30sSWwucHJvdG90eXBlLmdldE9yZGluYXRlPWZ1bmN0aW9uKHQsZSl7fSxJbC5wcm90b3R5cGUuZ2V0Q29vcmRpbmF0ZT1mdW5jdGlvbigpe30sSWwucHJvdG90eXBlLmdldENvb3JkaW5hdGVDb3B5PWZ1bmN0aW9uKHQpe30sSWwucHJvdG90eXBlLmdldERpbWVuc2lvbj1mdW5jdGlvbigpe30sSWwucHJvdG90eXBlLmdldFg9ZnVuY3Rpb24odCl7fSxJbC5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXt9LElsLnByb3RvdHlwZS5leHBhbmRFbnZlbG9wZT1mdW5jdGlvbih0KXt9LElsLnByb3RvdHlwZS5jb3B5PWZ1bmN0aW9uKCl7fSxJbC5wcm90b3R5cGUuZ2V0WT1mdW5jdGlvbih0KXt9LElsLnByb3RvdHlwZS50b0Nvb3JkaW5hdGVBcnJheT1mdW5jdGlvbigpe30sSWwucHJvdG90eXBlLmludGVyZmFjZXNfPWZ1bmN0aW9uKCl7cmV0dXJuW29sXX0sSWwucHJvdG90eXBlLmdldENsYXNzPWZ1bmN0aW9uKCl7cmV0dXJuIElsfSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhJbCxObCk7dmFyIFNsPWZ1bmN0aW9uKCl7fSxDbD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dC5jYWxsKHRoaXMsIlByb2plY3RpdmUgcG9pbnQgbm90IHJlcHJlc2VudGFibGUgb24gdGhlIENhcnRlc2lhbiBwbGFuZS4iKX1yZXR1cm4gdCYmKGUuX19wcm90b19fPXQpLGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpLGUucHJvdG90eXBlLmNvbnN0cnVjdG9yPWUsZS5wcm90b3R5cGUuaW50ZXJmYWNlc189ZnVuY3Rpb24oKXtyZXR1cm5bXX0sZS5wcm90b3R5cGUuZ2V0Q2xhc3M9ZnVuY3Rpb24oKXtyZXR1cm4gZX0sZX0oU2wpLFBsPWZ1bmN0aW9uKCl7fTtQbC5hcnJheWNvcHk9ZnVuY3Rpb24odCxlLG4scixpKXtmb3IodmFyIG89MCxzPWU7czxlK2k7cysrKW5bcitvXT10W3NdLG8rK30sUGwuZ2V0UHJvcGVydHk9ZnVuY3Rpb24odCl7cmV0dXJueyJsaW5lLnNlcGFyYXRvciI6IlxuIn1bdF19O3ZhciBNbD1mdW5jdGlvbiB0KCl7aWYodGhpcy54PW51bGwsdGhpcy55PW51bGwsdGhpcy53PW51bGwsMD09PWFyZ3VtZW50cy5sZW5ndGgpdGhpcy54PTAsdGhpcy55PTAsdGhpcy53PTE7ZWxzZSBpZigxPT09YXJndW1lbnRzLmxlbmd0aCl7dmFyIGU9YXJndW1lbnRzWzBdO3RoaXMueD1lLngsdGhpcy55PWUueSx0aGlzLnc9MX1lbHNlIGlmKDI9PT1hcmd1bWVudHMubGVuZ3RoKXtpZigibnVtYmVyIj09dHlwZW9mIGFyZ3VtZW50c1swXSYmIm51bWJlciI9PXR5cGVvZiBhcmd1bWVudHNbMV0pe3ZhciBuPWFyZ3VtZW50c1swXSxyPWFyZ3VtZW50c1sxXTt0aGlzLng9bix0aGlzLnk9cix0aGlzLnc9MX1lbHNlIGlmKGFyZ3VtZW50c1swXWluc3RhbmNlb2YgdCYmYXJndW1lbnRzWzFdaW5zdGFuY2VvZiB0KXt2YXIgaT1hcmd1bWVudHNbMF0sbz1hcmd1bWVudHNbMV07dGhpcy54PWkueSpvLnctby55Kmkudyx0aGlzLnk9by54Kmkudy1pLngqby53LHRoaXMudz1pLngqby55LW8ueCppLnl9ZWxzZSBpZihhcmd1bWVudHNbMF1pbnN0YW5jZW9mIHVsJiZhcmd1bWVudHNbMV1pbnN0YW5jZW9mIHVsKXt2YXIgcz1hcmd1bWVudHNbMF0sYT1hcmd1bWVudHNbMV07dGhpcy54PXMueS1hLnksdGhpcy55PWEueC1zLngsdGhpcy53PXMueCphLnktYS54KnMueX19ZWxzZSBpZigzPT09YXJndW1lbnRzLmxlbmd0aCl7dmFyIHU9YXJndW1lbnRzWzBdLGw9YXJndW1lbnRzWzFdLGM9YXJndW1lbnRzWzJdO3RoaXMueD11LHRoaXMueT1sLHRoaXMudz1jfWVsc2UgaWYoND09PWFyZ3VtZW50cy5sZW5ndGgpe3ZhciBoPWFyZ3VtZW50c1swXSxwPWFyZ3VtZW50c1sxXSxmPWFyZ3VtZW50c1syXSxnPWFyZ3VtZW50c1szXSxkPWgueS1wLnkseT1wLngtaC54LHY9aC54KnAueS1wLngqaC55LF89Zi55LWcueSxtPWcueC1mLngseD1mLngqZy55LWcueCpmLnk7dGhpcy54PXkqeC1tKnYsdGhpcy55PV8qdi1kKngsdGhpcy53PWQqbS1fKnl9fTtNbC5wcm90b3R5cGUuZ2V0WT1mdW5jdGlvbigpe3ZhciB0PXRoaXMueS90aGlzLnc7aWYobmwuaXNOYU4odCl8fG5sLmlzSW5maW5pdGUodCkpdGhyb3cgbmV3IENsO3JldHVybiB0fSxNbC5wcm90b3R5cGUuZ2V0WD1mdW5jdGlvbigpe3ZhciB0PXRoaXMueC90aGlzLnc7aWYobmwuaXNOYU4odCl8fG5sLmlzSW5maW5pdGUodCkpdGhyb3cgbmV3IENsO3JldHVybiB0fSxNbC5wcm90b3R5cGUuZ2V0Q29vcmRpbmF0ZT1mdW5jdGlvbigpe3ZhciB0PW5ldyB1bDtyZXR1cm4gdC54PXRoaXMuZ2V0WCgpLHQueT10aGlzLmdldFkoKSx0fSxNbC5wcm90b3R5cGUuaW50ZXJmYWNlc189ZnVuY3Rpb24oKXtyZXR1cm5bXX0sTWwucHJvdG90eXBlLmdldENsYXNzPWZ1bmN0aW9uKCl7cmV0dXJuIE1sfSxNbC5pbnRlcnNlY3Rpb249ZnVuY3Rpb24odCxlLG4scil7dmFyIGk9dC55LWUueSxvPWUueC10Lngscz10LngqZS55LWUueCp0LnksYT1uLnktci55LHU9ci54LW4ueCxsPW4ueCpyLnktci54Km4ueSxjPWkqdS1hKm8saD0obypsLXUqcykvYyxwPShhKnMtaSpsKS9jO2lmKG5sLmlzTmFOKGgpfHxubC5pc0luZmluaXRlKGgpfHxubC5pc05hTihwKXx8bmwuaXNJbmZpbml0ZShwKSl0aHJvdyBuZXcgQ2w7cmV0dXJuIG5ldyB1bChoLHApfTt2YXIgTGw9ZnVuY3Rpb24gdCgpe2lmKHRoaXMuX21pbng9bnVsbCx0aGlzLl9tYXh4PW51bGwsdGhpcy5fbWlueT1udWxsLHRoaXMuX21heHk9bnVsbCwwPT09YXJndW1lbnRzLmxlbmd0aCl0aGlzLmluaXQoKTtlbHNlIGlmKDE9PT1hcmd1bWVudHMubGVuZ3RoKXtpZihhcmd1bWVudHNbMF1pbnN0YW5jZW9mIHVsKXt2YXIgZT1hcmd1bWVudHNbMF07dGhpcy5pbml0KGUueCxlLngsZS55LGUueSl9ZWxzZSBpZihhcmd1bWVudHNbMF1pbnN0YW5jZW9mIHQpe3ZhciBuPWFyZ3VtZW50c1swXTt0aGlzLmluaXQobil9fWVsc2UgaWYoMj09PWFyZ3VtZW50cy5sZW5ndGgpe3ZhciByPWFyZ3VtZW50c1swXSxpPWFyZ3VtZW50c1sxXTt0aGlzLmluaXQoci54LGkueCxyLnksaS55KX1lbHNlIGlmKDQ9PT1hcmd1bWVudHMubGVuZ3RoKXt2YXIgbz1hcmd1bWVudHNbMF0scz1hcmd1bWVudHNbMV0sYT1hcmd1bWVudHNbMl0sdT1hcmd1bWVudHNbM107dGhpcy5pbml0KG8scyxhLHUpfX0sT2w9e3NlcmlhbFZlcnNpb25VSUQ6e2NvbmZpZ3VyYWJsZTohMH19O0xsLnByb3RvdHlwZS5nZXRBcmVhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0V2lkdGgoKSp0aGlzLmdldEhlaWdodCgpfSxMbC5wcm90b3R5cGUuZXF1YWxzPWZ1bmN0aW9uKHQpe2lmKCEodCBpbnN0YW5jZW9mIExsKSlyZXR1cm4hMTt2YXIgZT10O3JldHVybiB0aGlzLmlzTnVsbCgpP2UuaXNOdWxsKCk6dGhpcy5fbWF4eD09PWUuZ2V0TWF4WCgpJiZ0aGlzLl9tYXh5PT09ZS5nZXRNYXhZKCkmJnRoaXMuX21pbng9PT1lLmdldE1pblgoKSYmdGhpcy5fbWlueT09PWUuZ2V0TWluWSgpfSxMbC5wcm90b3R5cGUuaW50ZXJzZWN0aW9uPWZ1bmN0aW9uKHQpe2lmKHRoaXMuaXNOdWxsKCl8fHQuaXNOdWxsKCl8fCF0aGlzLmludGVyc2VjdHModCkpcmV0dXJuIG5ldyBMbDt2YXIgZT10aGlzLl9taW54PnQuX21pbng/dGhpcy5fbWlueDp0Ll9taW54LG49dGhpcy5fbWlueT50Ll9taW55P3RoaXMuX21pbnk6dC5fbWlueSxyPXRoaXMuX21heHg8dC5fbWF4eD90aGlzLl9tYXh4OnQuX21heHgsaT10aGlzLl9tYXh5PHQuX21heHk/dGhpcy5fbWF4eTp0Ll9tYXh5O3JldHVybiBuZXcgTGwoZSxyLG4saSl9LExsLnByb3RvdHlwZS5pc051bGw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbWF4eDx0aGlzLl9taW54fSxMbC5wcm90b3R5cGUuZ2V0TWF4WD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9tYXh4fSxMbC5wcm90b3R5cGUuY292ZXJzPWZ1bmN0aW9uKCl7aWYoMT09PWFyZ3VtZW50cy5sZW5ndGgpe2lmKGFyZ3VtZW50c1swXWluc3RhbmNlb2YgdWwpe3ZhciB0PWFyZ3VtZW50c1swXTtyZXR1cm4gdGhpcy5jb3ZlcnModC54LHQueSl9aWYoYXJndW1lbnRzWzBdaW5zdGFuY2VvZiBMbCl7dmFyIGU9YXJndW1lbnRzWzBdO3JldHVybiF0aGlzLmlzTnVsbCgpJiYhZS5pc051bGwoKSYmKGUuZ2V0TWluWCgpPj10aGlzLl9taW54JiZlLmdldE1heFgoKTw9dGhpcy5fbWF4eCYmZS5nZXRNaW5ZKCk+PXRoaXMuX21pbnkmJmUuZ2V0TWF4WSgpPD10aGlzLl9tYXh5KX19ZWxzZSBpZigyPT09YXJndW1lbnRzLmxlbmd0aCl7dmFyIG49YXJndW1lbnRzWzBdLHI9YXJndW1lbnRzWzFdO3JldHVybiF0aGlzLmlzTnVsbCgpJiYobj49dGhpcy5fbWlueCYmbjw9dGhpcy5fbWF4eCYmcj49dGhpcy5fbWlueSYmcjw9dGhpcy5fbWF4eSl9fSxMbC5wcm90b3R5cGUuaW50ZXJzZWN0cz1mdW5jdGlvbigpe2lmKDE9PT1hcmd1bWVudHMubGVuZ3RoKXtpZihhcmd1bWVudHNbMF1pbnN0YW5jZW9mIExsKXt2YXIgdD1hcmd1bWVudHNbMF07cmV0dXJuIXRoaXMuaXNOdWxsKCkmJiF0LmlzTnVsbCgpJiYhKHQuX21pbng+dGhpcy5fbWF4eHx8dC5fbWF4eDx0aGlzLl9taW54fHx0Ll9taW55PnRoaXMuX21heHl8fHQuX21heHk8dGhpcy5fbWlueSl9aWYoYXJndW1lbnRzWzBdaW5zdGFuY2VvZiB1bCl7dmFyIGU9YXJndW1lbnRzWzBdO3JldHVybiB0aGlzLmludGVyc2VjdHMoZS54LGUueSl9fWVsc2UgaWYoMj09PWFyZ3VtZW50cy5sZW5ndGgpe3ZhciBuPWFyZ3VtZW50c1swXSxyPWFyZ3VtZW50c1sxXTtyZXR1cm4hdGhpcy5pc051bGwoKSYmIShuPnRoaXMuX21heHh8fG48dGhpcy5fbWlueHx8cj50aGlzLl9tYXh5fHxyPHRoaXMuX21pbnkpfX0sTGwucHJvdG90eXBlLmdldE1pblk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbWlueX0sTGwucHJvdG90eXBlLmdldE1pblg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbWlueH0sTGwucHJvdG90eXBlLmV4cGFuZFRvSW5jbHVkZT1mdW5jdGlvbigpe2lmKDE9PT1hcmd1bWVudHMubGVuZ3RoKXtpZihhcmd1bWVudHNbMF1pbnN0YW5jZW9mIHVsKXt2YXIgdD1hcmd1bWVudHNbMF07dGhpcy5leHBhbmRUb0luY2x1ZGUodC54LHQueSl9ZWxzZSBpZihhcmd1bWVudHNbMF1pbnN0YW5jZW9mIExsKXt2YXIgZT1hcmd1bWVudHNbMF07aWYoZS5pc051bGwoKSlyZXR1cm4gbnVsbDt0aGlzLmlzTnVsbCgpPyh0aGlzLl9taW54PWUuZ2V0TWluWCgpLHRoaXMuX21heHg9ZS5nZXRNYXhYKCksdGhpcy5fbWlueT1lLmdldE1pblkoKSx0aGlzLl9tYXh5PWUuZ2V0TWF4WSgpKTooZS5fbWlueDx0aGlzLl9taW54JiYodGhpcy5fbWlueD1lLl9taW54KSxlLl9tYXh4PnRoaXMuX21heHgmJih0aGlzLl9tYXh4PWUuX21heHgpLGUuX21pbnk8dGhpcy5fbWlueSYmKHRoaXMuX21pbnk9ZS5fbWlueSksZS5fbWF4eT50aGlzLl9tYXh5JiYodGhpcy5fbWF4eT1lLl9tYXh5KSl9fWVsc2UgaWYoMj09PWFyZ3VtZW50cy5sZW5ndGgpe3ZhciBuPWFyZ3VtZW50c1swXSxyPWFyZ3VtZW50c1sxXTt0aGlzLmlzTnVsbCgpPyh0aGlzLl9taW54PW4sdGhpcy5fbWF4eD1uLHRoaXMuX21pbnk9cix0aGlzLl9tYXh5PXIpOihuPHRoaXMuX21pbngmJih0aGlzLl9taW54PW4pLG4+dGhpcy5fbWF4eCYmKHRoaXMuX21heHg9bikscjx0aGlzLl9taW55JiYodGhpcy5fbWlueT1yKSxyPnRoaXMuX21heHkmJih0aGlzLl9tYXh5PXIpKX19LExsLnByb3RvdHlwZS5taW5FeHRlbnQ9ZnVuY3Rpb24oKXtpZih0aGlzLmlzTnVsbCgpKXJldHVybiAwO3ZhciB0PXRoaXMuZ2V0V2lkdGgoKSxlPXRoaXMuZ2V0SGVpZ2h0KCk7cmV0dXJuIHQ8ZT90OmV9LExsLnByb3RvdHlwZS5nZXRXaWR0aD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmlzTnVsbCgpPzA6dGhpcy5fbWF4eC10aGlzLl9taW54fSxMbC5wcm90b3R5cGUuY29tcGFyZVRvPWZ1bmN0aW9uKHQpe3ZhciBlPXQ7cmV0dXJuIHRoaXMuaXNOdWxsKCk/ZS5pc051bGwoKT8wOi0xOmUuaXNOdWxsKCk/MTp0aGlzLl9taW54PGUuX21pbng/LTE6dGhpcy5fbWlueD5lLl9taW54PzE6dGhpcy5fbWlueTxlLl9taW55Py0xOnRoaXMuX21pbnk+ZS5fbWlueT8xOnRoaXMuX21heHg8ZS5fbWF4eD8tMTp0aGlzLl9tYXh4PmUuX21heHg/MTp0aGlzLl9tYXh5PGUuX21heHk/LTE6dGhpcy5fbWF4eT5lLl9tYXh5PzE6MH0sTGwucHJvdG90eXBlLnRyYW5zbGF0ZT1mdW5jdGlvbih0LGUpe2lmKHRoaXMuaXNOdWxsKCkpcmV0dXJuIG51bGw7dGhpcy5pbml0KHRoaXMuZ2V0TWluWCgpK3QsdGhpcy5nZXRNYXhYKCkrdCx0aGlzLmdldE1pblkoKStlLHRoaXMuZ2V0TWF4WSgpK2UpfSxMbC5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4iRW52WyIrdGhpcy5fbWlueCsiIDogIit0aGlzLl9tYXh4KyIsICIrdGhpcy5fbWlueSsiIDogIit0aGlzLl9tYXh5KyJdIn0sTGwucHJvdG90eXBlLnNldFRvTnVsbD1mdW5jdGlvbigpe3RoaXMuX21pbng9MCx0aGlzLl9tYXh4PS0xLHRoaXMuX21pbnk9MCx0aGlzLl9tYXh5PS0xfSxMbC5wcm90b3R5cGUuZ2V0SGVpZ2h0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXNOdWxsKCk/MDp0aGlzLl9tYXh5LXRoaXMuX21pbnl9LExsLnByb3RvdHlwZS5tYXhFeHRlbnQ9ZnVuY3Rpb24oKXtpZih0aGlzLmlzTnVsbCgpKXJldHVybiAwO3ZhciB0PXRoaXMuZ2V0V2lkdGgoKSxlPXRoaXMuZ2V0SGVpZ2h0KCk7cmV0dXJuIHQ+ZT90OmV9LExsLnByb3RvdHlwZS5leHBhbmRCeT1mdW5jdGlvbigpe2lmKDE9PT1hcmd1bWVudHMubGVuZ3RoKXt2YXIgdD1hcmd1bWVudHNbMF07dGhpcy5leHBhbmRCeSh0LHQpfWVsc2UgaWYoMj09PWFyZ3VtZW50cy5sZW5ndGgpe3ZhciBlPWFyZ3VtZW50c1swXSxuPWFyZ3VtZW50c1sxXTtpZih0aGlzLmlzTnVsbCgpKXJldHVybiBudWxsO3RoaXMuX21pbngtPWUsdGhpcy5fbWF4eCs9ZSx0aGlzLl9taW55LT1uLHRoaXMuX21heHkrPW4sKHRoaXMuX21pbng+dGhpcy5fbWF4eHx8dGhpcy5fbWlueT50aGlzLl9tYXh5KSYmdGhpcy5zZXRUb051bGwoKX19LExsLnByb3RvdHlwZS5jb250YWlucz1mdW5jdGlvbigpe2lmKDE9PT1hcmd1bWVudHMubGVuZ3RoKXtpZihhcmd1bWVudHNbMF1pbnN0YW5jZW9mIExsKXt2YXIgdD1hcmd1bWVudHNbMF07cmV0dXJuIHRoaXMuY292ZXJzKHQpfWlmKGFyZ3VtZW50c1swXWluc3RhbmNlb2YgdWwpe3ZhciBlPWFyZ3VtZW50c1swXTtyZXR1cm4gdGhpcy5jb3ZlcnMoZSl9fWVsc2UgaWYoMj09PWFyZ3VtZW50cy5sZW5ndGgpe3ZhciBuPWFyZ3VtZW50c1swXSxyPWFyZ3VtZW50c1sxXTtyZXR1cm4gdGhpcy5jb3ZlcnMobixyKX19LExsLnByb3RvdHlwZS5jZW50cmU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pc051bGwoKT9udWxsOm5ldyB1bCgodGhpcy5nZXRNaW5YKCkrdGhpcy5nZXRNYXhYKCkpLzIsKHRoaXMuZ2V0TWluWSgpK3RoaXMuZ2V0TWF4WSgpKS8yKX0sTGwucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24oKXtpZigwPT09YXJndW1lbnRzLmxlbmd0aCl0aGlzLnNldFRvTnVsbCgpO2Vsc2UgaWYoMT09PWFyZ3VtZW50cy5sZW5ndGgpe2lmKGFyZ3VtZW50c1swXWluc3RhbmNlb2YgdWwpe3ZhciB0PWFyZ3VtZW50c1swXTt0aGlzLmluaXQodC54LHQueCx0LnksdC55KX1lbHNlIGlmKGFyZ3VtZW50c1swXWluc3RhbmNlb2YgTGwpe3ZhciBlPWFyZ3VtZW50c1swXTt0aGlzLl9taW54PWUuX21pbngsdGhpcy5fbWF4eD1lLl9tYXh4LHRoaXMuX21pbnk9ZS5fbWlueSx0aGlzLl9tYXh5PWUuX21heHl9fWVsc2UgaWYoMj09PWFyZ3VtZW50cy5sZW5ndGgpe3ZhciBuPWFyZ3VtZW50c1swXSxyPWFyZ3VtZW50c1sxXTt0aGlzLmluaXQobi54LHIueCxuLnksci55KX1lbHNlIGlmKDQ9PT1hcmd1bWVudHMubGVuZ3RoKXt2YXIgaT1hcmd1bWVudHNbMF0sbz1hcmd1bWVudHNbMV0scz1hcmd1bWVudHNbMl0sYT1hcmd1bWVudHNbM107aTxvPyh0aGlzLl9taW54PWksdGhpcy5fbWF4eD1vKToodGhpcy5fbWlueD1vLHRoaXMuX21heHg9aSksczxhPyh0aGlzLl9taW55PXMsdGhpcy5fbWF4eT1hKToodGhpcy5fbWlueT1hLHRoaXMuX21heHk9cyl9fSxMbC5wcm90b3R5cGUuZ2V0TWF4WT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9tYXh5fSxMbC5wcm90b3R5cGUuZGlzdGFuY2U9ZnVuY3Rpb24odCl7aWYodGhpcy5pbnRlcnNlY3RzKHQpKXJldHVybiAwO3ZhciBlPTA7dGhpcy5fbWF4eDx0Ll9taW54P2U9dC5fbWlueC10aGlzLl9tYXh4OnRoaXMuX21pbng+dC5fbWF4eCYmKGU9dGhpcy5fbWlueC10Ll9tYXh4KTt2YXIgbj0wO3JldHVybiB0aGlzLl9tYXh5PHQuX21pbnk/bj10Ll9taW55LXRoaXMuX21heHk6dGhpcy5fbWlueT50Ll9tYXh5JiYobj10aGlzLl9taW55LXQuX21heHkpLDA9PT1lP246MD09PW4/ZTpNYXRoLnNxcnQoZSplK24qbil9LExsLnByb3RvdHlwZS5oYXNoQ29kZT1mdW5jdGlvbigpe3ZhciB0PTE3O3JldHVybiB0PTM3Kih0PTM3Kih0PTM3Kih0PTM3KnQrdWwuaGFzaENvZGUodGhpcy5fbWlueCkpK3VsLmhhc2hDb2RlKHRoaXMuX21heHgpKSt1bC5oYXNoQ29kZSh0aGlzLl9taW55KSkrdWwuaGFzaENvZGUodGhpcy5fbWF4eSl9LExsLnByb3RvdHlwZS5pbnRlcmZhY2VzXz1mdW5jdGlvbigpe3JldHVybltpbCxhbF19LExsLnByb3RvdHlwZS5nZXRDbGFzcz1mdW5jdGlvbigpe3JldHVybiBMbH0sTGwuaW50ZXJzZWN0cz1mdW5jdGlvbigpe2lmKDM9PT1hcmd1bWVudHMubGVuZ3RoKXt2YXIgdD1hcmd1bWVudHNbMF0sZT1hcmd1bWVudHNbMV0sbj1hcmd1bWVudHNbMl07cmV0dXJuIG4ueD49KHQueDxlLng/dC54OmUueCkmJm4ueDw9KHQueD5lLng/dC54OmUueCkmJm4ueT49KHQueTxlLnk/dC55OmUueSkmJm4ueTw9KHQueT5lLnk/dC55OmUueSl9aWYoND09PWFyZ3VtZW50cy5sZW5ndGgpe3ZhciByPWFyZ3VtZW50c1swXSxpPWFyZ3VtZW50c1sxXSxvPWFyZ3VtZW50c1syXSxzPWFyZ3VtZW50c1szXSxhPU1hdGgubWluKG8ueCxzLngpLHU9TWF0aC5tYXgoby54LHMueCksbD1NYXRoLm1pbihyLngsaS54KSxjPU1hdGgubWF4KHIueCxpLngpO3JldHVybiEobD51KSYmKCEoYzxhKSYmKGE9TWF0aC5taW4oby55LHMueSksdT1NYXRoLm1heChvLnkscy55KSxsPU1hdGgubWluKHIueSxpLnkpLGM9TWF0aC5tYXgoci55LGkueSksIShsPnUpJiYhKGM8YSkpKX19LE9sLnNlcmlhbFZlcnNpb25VSUQuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIDB4NTE4NDVjZDU1MjE4OTgwMH0sT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoTGwsT2wpO3ZhciBSbD17dHlwZVN0cjovXlxzKihcdyspXHMqXChccyooLiopXHMqXClccyokLyxlbXB0eVR5cGVTdHI6L15ccyooXHcrKVxzKkVNUFRZXHMqJC8sc3BhY2VzOi9ccysvLHBhcmVuQ29tbWE6L1wpXHMqLFxzKlwoLyxkb3VibGVQYXJlbkNvbW1hOi9cKVxzKlwpXHMqLFxzKlwoXHMqXCgvLHRyaW1QYXJlbnM6L15ccypcKD8oLio/KVwpP1xzKiQvfSxUbD1mdW5jdGlvbih0KXt0aGlzLmdlb21ldHJ5RmFjdG9yeT10fHxuZXcgX2h9O1RsLnByb3RvdHlwZS5yZWFkPWZ1bmN0aW9uKHQpe3ZhciBlLG4scjt0PXQucmVwbGFjZSgvW1xuXHJdL2csIiAiKTt2YXIgaT1SbC50eXBlU3RyLmV4ZWModCk7aWYoLTEhPT10LnNlYXJjaCgiRU1QVFkiKSYmKChpPVJsLmVtcHR5VHlwZVN0ci5leGVjKHQpKVsyXT12b2lkIDApLGkmJihuPWlbMV0udG9Mb3dlckNhc2UoKSxyPWlbMl0sRGxbbl0mJihlPURsW25dLmFwcGx5KHRoaXMsW3JdKSkpLHZvaWQgMD09PWUpdGhyb3cgbmV3IEVycm9yKCJDb3VsZCBub3QgcGFyc2UgV0tUICIrdCk7cmV0dXJuIGV9LFRsLnByb3RvdHlwZS53cml0ZT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5leHRyYWN0R2VvbWV0cnkodCl9LFRsLnByb3RvdHlwZS5leHRyYWN0R2VvbWV0cnk9ZnVuY3Rpb24odCl7dmFyIGU9dC5nZXRHZW9tZXRyeVR5cGUoKS50b0xvd2VyQ2FzZSgpO2lmKCFBbFtlXSlyZXR1cm4gbnVsbDt2YXIgbj1lLnRvVXBwZXJDYXNlKCk7cmV0dXJuIHQuaXNFbXB0eSgpP24rIiBFTVBUWSI6bisiKCIrQWxbZV0uYXBwbHkodGhpcyxbdF0pKyIpIn07dmFyIEFsPXtjb29yZGluYXRlOmZ1bmN0aW9uKHQpe3JldHVybiB0LngrIiAiK3QueX0scG9pbnQ6ZnVuY3Rpb24odCl7cmV0dXJuIEFsLmNvb3JkaW5hdGUuY2FsbCh0aGlzLHQuX2Nvb3JkaW5hdGVzLl9jb29yZGluYXRlc1swXSl9LG11bHRpcG9pbnQ6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPVtdLG49MCxyPXQuX2dlb21ldHJpZXMubGVuZ3RoO248cjsrK24pZS5wdXNoKCIoIitBbC5wb2ludC5hcHBseSh0aGlzLFt0Ll9nZW9tZXRyaWVzW25dXSkrIikiKTtyZXR1cm4gZS5qb2luKCIsIil9LGxpbmVzdHJpbmc6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPVtdLG49MCxyPXQuX3BvaW50cy5fY29vcmRpbmF0ZXMubGVuZ3RoO248cjsrK24pZS5wdXNoKEFsLmNvb3JkaW5hdGUuYXBwbHkodGhpcyxbdC5fcG9pbnRzLl9jb29yZGluYXRlc1tuXV0pKTtyZXR1cm4gZS5qb2luKCIsIil9LGxpbmVhcnJpbmc6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPVtdLG49MCxyPXQuX3BvaW50cy5fY29vcmRpbmF0ZXMubGVuZ3RoO248cjsrK24pZS5wdXNoKEFsLmNvb3JkaW5hdGUuYXBwbHkodGhpcyxbdC5fcG9pbnRzLl9jb29yZGluYXRlc1tuXV0pKTtyZXR1cm4gZS5qb2luKCIsIil9LG11bHRpbGluZXN0cmluZzpmdW5jdGlvbih0KXtmb3IodmFyIGU9W10sbj0wLHI9dC5fZ2VvbWV0cmllcy5sZW5ndGg7bjxyOysrbillLnB1c2goIigiK0FsLmxpbmVzdHJpbmcuYXBwbHkodGhpcyxbdC5fZ2VvbWV0cmllc1tuXV0pKyIpIik7cmV0dXJuIGUuam9pbigiLCIpfSxwb2x5Z29uOmZ1bmN0aW9uKHQpe3ZhciBlPVtdO2UucHVzaCgiKCIrQWwubGluZXN0cmluZy5hcHBseSh0aGlzLFt0Ll9zaGVsbF0pKyIpIik7Zm9yKHZhciBuPTAscj10Ll9ob2xlcy5sZW5ndGg7bjxyOysrbillLnB1c2goIigiK0FsLmxpbmVzdHJpbmcuYXBwbHkodGhpcyxbdC5faG9sZXNbbl1dKSsiKSIpO3JldHVybiBlLmpvaW4oIiwiKX0sbXVsdGlwb2x5Z29uOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1bXSxuPTAscj10Ll9nZW9tZXRyaWVzLmxlbmd0aDtuPHI7KytuKWUucHVzaCgiKCIrQWwucG9seWdvbi5hcHBseSh0aGlzLFt0Ll9nZW9tZXRyaWVzW25dXSkrIikiKTtyZXR1cm4gZS5qb2luKCIsIil9LGdlb21ldHJ5Y29sbGVjdGlvbjpmdW5jdGlvbih0KXtmb3IodmFyIGU9W10sbj0wLHI9dC5fZ2VvbWV0cmllcy5sZW5ndGg7bjxyOysrbillLnB1c2godGhpcy5leHRyYWN0R2VvbWV0cnkodC5fZ2VvbWV0cmllc1tuXSkpO3JldHVybiBlLmpvaW4oIiwiKX19LERsPXtwb2ludDpmdW5jdGlvbih0KXtpZih2b2lkIDA9PT10KXJldHVybiB0aGlzLmdlb21ldHJ5RmFjdG9yeS5jcmVhdGVQb2ludCgpO3ZhciBlPXQudHJpbSgpLnNwbGl0KFJsLnNwYWNlcyk7cmV0dXJuIHRoaXMuZ2VvbWV0cnlGYWN0b3J5LmNyZWF0ZVBvaW50KG5ldyB1bChOdW1iZXIucGFyc2VGbG9hdChlWzBdKSxOdW1iZXIucGFyc2VGbG9hdChlWzFdKSkpfSxtdWx0aXBvaW50OmZ1bmN0aW9uKHQpe3ZhciBlO2lmKHZvaWQgMD09PXQpcmV0dXJuIHRoaXMuZ2VvbWV0cnlGYWN0b3J5LmNyZWF0ZU11bHRpUG9pbnQoKTtmb3IodmFyIG49dC50cmltKCkuc3BsaXQoIiwiKSxyPVtdLGk9MCxvPW4ubGVuZ3RoO2k8bzsrK2kpZT1uW2ldLnJlcGxhY2UoUmwudHJpbVBhcmVucywiJDEiKSxyLnB1c2goRGwucG9pbnQuYXBwbHkodGhpcyxbZV0pKTtyZXR1cm4gdGhpcy5nZW9tZXRyeUZhY3RvcnkuY3JlYXRlTXVsdGlQb2ludChyKX0sbGluZXN0cmluZzpmdW5jdGlvbih0KXtpZih2b2lkIDA9PT10KXJldHVybiB0aGlzLmdlb21ldHJ5RmFjdG9yeS5jcmVhdGVMaW5lU3RyaW5nKCk7Zm9yKHZhciBlLG49dC50cmltKCkuc3BsaXQoIiwiKSxyPVtdLGk9MCxvPW4ubGVuZ3RoO2k8bzsrK2kpZT1uW2ldLnRyaW0oKS5zcGxpdChSbC5zcGFjZXMpLHIucHVzaChuZXcgdWwoTnVtYmVyLnBhcnNlRmxvYXQoZVswXSksTnVtYmVyLnBhcnNlRmxvYXQoZVsxXSkpKTtyZXR1cm4gdGhpcy5nZW9tZXRyeUZhY3RvcnkuY3JlYXRlTGluZVN0cmluZyhyKX0sbGluZWFycmluZzpmdW5jdGlvbih0KXtpZih2b2lkIDA9PT10KXJldHVybiB0aGlzLmdlb21ldHJ5RmFjdG9yeS5jcmVhdGVMaW5lYXJSaW5nKCk7Zm9yKHZhciBlLG49dC50cmltKCkuc3BsaXQoIiwiKSxyPVtdLGk9MCxvPW4ubGVuZ3RoO2k8bzsrK2kpZT1uW2ldLnRyaW0oKS5zcGxpdChSbC5zcGFjZXMpLHIucHVzaChuZXcgdWwoTnVtYmVyLnBhcnNlRmxvYXQoZVswXSksTnVtYmVyLnBhcnNlRmxvYXQoZVsxXSkpKTtyZXR1cm4gdGhpcy5nZW9tZXRyeUZhY3RvcnkuY3JlYXRlTGluZWFyUmluZyhyKX0sbXVsdGlsaW5lc3RyaW5nOmZ1bmN0aW9uKHQpe3ZhciBlO2lmKHZvaWQgMD09PXQpcmV0dXJuIHRoaXMuZ2VvbWV0cnlGYWN0b3J5LmNyZWF0ZU11bHRpTGluZVN0cmluZygpO2Zvcih2YXIgbj10LnRyaW0oKS5zcGxpdChSbC5wYXJlbkNvbW1hKSxyPVtdLGk9MCxvPW4ubGVuZ3RoO2k8bzsrK2kpZT1uW2ldLnJlcGxhY2UoUmwudHJpbVBhcmVucywiJDEiKSxyLnB1c2goRGwubGluZXN0cmluZy5hcHBseSh0aGlzLFtlXSkpO3JldHVybiB0aGlzLmdlb21ldHJ5RmFjdG9yeS5jcmVhdGVNdWx0aUxpbmVTdHJpbmcocil9LHBvbHlnb246ZnVuY3Rpb24odCl7dmFyIGUsbixyO2lmKHZvaWQgMD09PXQpcmV0dXJuIHRoaXMuZ2VvbWV0cnlGYWN0b3J5LmNyZWF0ZVBvbHlnb24oKTtmb3IodmFyIGksbz10LnRyaW0oKS5zcGxpdChSbC5wYXJlbkNvbW1hKSxzPVtdLGE9MCx1PW8ubGVuZ3RoO2E8dTsrK2EpZT1vW2FdLnJlcGxhY2UoUmwudHJpbVBhcmVucywiJDEiKSxuPURsLmxpbmVzdHJpbmcuYXBwbHkodGhpcyxbZV0pLHI9dGhpcy5nZW9tZXRyeUZhY3RvcnkuY3JlYXRlTGluZWFyUmluZyhuLl9wb2ludHMpLDA9PT1hP2k9cjpzLnB1c2gocik7cmV0dXJuIHRoaXMuZ2VvbWV0cnlGYWN0b3J5LmNyZWF0ZVBvbHlnb24oaSxzKX0sbXVsdGlwb2x5Z29uOmZ1bmN0aW9uKHQpe3ZhciBlO2lmKHZvaWQgMD09PXQpcmV0dXJuIHRoaXMuZ2VvbWV0cnlGYWN0b3J5LmNyZWF0ZU11bHRpUG9seWdvbigpO2Zvcih2YXIgbj10LnRyaW0oKS5zcGxpdChSbC5kb3VibGVQYXJlbkNvbW1hKSxyPVtdLGk9MCxvPW4ubGVuZ3RoO2k8bzsrK2kpZT1uW2ldLnJlcGxhY2UoUmwudHJpbVBhcmVucywiJDEiKSxyLnB1c2goRGwucG9seWdvbi5hcHBseSh0aGlzLFtlXSkpO3JldHVybiB0aGlzLmdlb21ldHJ5RmFjdG9yeS5jcmVhdGVNdWx0aVBvbHlnb24ocil9LGdlb21ldHJ5Y29sbGVjdGlvbjpmdW5jdGlvbih0KXtpZih2b2lkIDA9PT10KXJldHVybiB0aGlzLmdlb21ldHJ5RmFjdG9yeS5jcmVhdGVHZW9tZXRyeUNvbGxlY3Rpb24oKTtmb3IodmFyIGU9KHQ9dC5yZXBsYWNlKC8sXHMqKFtBLVphLXpdKS9nLCJ8JDEiKSkudHJpbSgpLnNwbGl0KCJ8Iiksbj1bXSxyPTAsaT1lLmxlbmd0aDtyPGk7KytyKW4ucHVzaCh0aGlzLnJlYWQoZVtyXSkpO3JldHVybiB0aGlzLmdlb21ldHJ5RmFjdG9yeS5jcmVhdGVHZW9tZXRyeUNvbGxlY3Rpb24obil9fSxGbD1mdW5jdGlvbih0KXt0aGlzLnBhcnNlcj1uZXcgVGwodCl9O0ZsLnByb3RvdHlwZS53cml0ZT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5wYXJzZXIud3JpdGUodCl9LEZsLnRvTGluZVN0cmluZz1mdW5jdGlvbih0LGUpe2lmKDIhPT1hcmd1bWVudHMubGVuZ3RoKXRocm93IG5ldyBFcnJvcigiTm90IGltcGxlbWVudGVkIik7cmV0dXJuIkxJTkVTVFJJTkcgKCAiK3QueCsiICIrdC55KyIsICIrZS54KyIgIitlLnkrIiApIn07dmFyIGtsPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSl7dC5jYWxsKHRoaXMsZSksdGhpcy5uYW1lPSJSdW50aW1lRXhjZXB0aW9uIix0aGlzLm1lc3NhZ2U9ZSx0aGlzLnN0YWNrPShuZXcgdCkuc3RhY2t9cmV0dXJuIHQmJihlLl9fcHJvdG9fXz10KSxlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSxlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1lLGV9KEVycm9yKSxHbD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7aWYodC5jYWxsKHRoaXMpLDA9PT1hcmd1bWVudHMubGVuZ3RoKXQuY2FsbCh0aGlzKTtlbHNlIGlmKDE9PT1hcmd1bWVudHMubGVuZ3RoKXt2YXIgZT1hcmd1bWVudHNbMF07dC5jYWxsKHRoaXMsZSl9fXJldHVybiB0JiYoZS5fX3Byb3RvX189dCksZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSksZS5wcm90b3R5cGUuY29uc3RydWN0b3I9ZSxlLnByb3RvdHlwZS5pbnRlcmZhY2VzXz1mdW5jdGlvbigpe3JldHVybltdfSxlLnByb3RvdHlwZS5nZXRDbGFzcz1mdW5jdGlvbigpe3JldHVybiBlfSxlfShrbCkscWw9ZnVuY3Rpb24oKXt9O3FsLnByb3RvdHlwZS5pbnRlcmZhY2VzXz1mdW5jdGlvbigpe3JldHVybltdfSxxbC5wcm90b3R5cGUuZ2V0Q2xhc3M9ZnVuY3Rpb24oKXtyZXR1cm4gcWx9LHFsLnNob3VsZE5ldmVyUmVhY2hIZXJlPWZ1bmN0aW9uKCl7aWYoMD09PWFyZ3VtZW50cy5sZW5ndGgpcWwuc2hvdWxkTmV2ZXJSZWFjaEhlcmUobnVsbCk7ZWxzZSBpZigxPT09YXJndW1lbnRzLmxlbmd0aCl7dmFyIHQ9YXJndW1lbnRzWzBdO3Rocm93IG5ldyBHbCgiU2hvdWxkIG5ldmVyIHJlYWNoIGhlcmUiKyhudWxsIT09dD8iOiAiK3Q6IiIpKX19LHFsLmlzVHJ1ZT1mdW5jdGlvbigpe3ZhciB0O2lmKDE9PT1hcmd1bWVudHMubGVuZ3RoKXFsLmlzVHJ1ZShhcmd1bWVudHNbMF0sbnVsbCk7ZWxzZSBpZigyPT09YXJndW1lbnRzLmxlbmd0aCYmKHQ9YXJndW1lbnRzWzFdLCFhcmd1bWVudHNbMF0pKXRocm93IG51bGw9PT10P25ldyBHbDpuZXcgR2wodCl9LHFsLmVxdWFscz1mdW5jdGlvbigpe3ZhciB0LGUsbjtpZigyPT09YXJndW1lbnRzLmxlbmd0aClxbC5lcXVhbHModD1hcmd1bWVudHNbMF0sZT1hcmd1bWVudHNbMV0sbnVsbCk7ZWxzZSBpZigzPT09YXJndW1lbnRzLmxlbmd0aCYmKHQ9YXJndW1lbnRzWzBdLG49YXJndW1lbnRzWzJdLCEoZT1hcmd1bWVudHNbMV0pLmVxdWFscyh0KSkpdGhyb3cgbmV3IEdsKCJFeHBlY3RlZCAiK3QrIiBidXQgZW5jb3VudGVyZWQgIitlKyhudWxsIT09bj8iOiAiK246IiIpKX07dmFyIEJsPWZ1bmN0aW9uKCl7dGhpcy5fcmVzdWx0PW51bGwsdGhpcy5faW5wdXRMaW5lcz1BcnJheSgyKS5maWxsKCkubWFwKChmdW5jdGlvbigpe3JldHVybiBBcnJheSgyKX0pKSx0aGlzLl9pbnRQdD1uZXcgQXJyYXkoMikuZmlsbChudWxsKSx0aGlzLl9pbnRMaW5lSW5kZXg9bnVsbCx0aGlzLl9pc1Byb3Blcj1udWxsLHRoaXMuX3BhPW51bGwsdGhpcy5fcGI9bnVsbCx0aGlzLl9wcmVjaXNpb25Nb2RlbD1udWxsLHRoaXMuX2ludFB0WzBdPW5ldyB1bCx0aGlzLl9pbnRQdFsxXT1uZXcgdWwsdGhpcy5fcGE9dGhpcy5faW50UHRbMF0sdGhpcy5fcGI9dGhpcy5faW50UHRbMV0sdGhpcy5fcmVzdWx0PTB9LHpsPXtET05UX0lOVEVSU0VDVDp7Y29uZmlndXJhYmxlOiEwfSxET19JTlRFUlNFQ1Q6e2NvbmZpZ3VyYWJsZTohMH0sQ09MTElORUFSOntjb25maWd1cmFibGU6ITB9LE5PX0lOVEVSU0VDVElPTjp7Y29uZmlndXJhYmxlOiEwfSxQT0lOVF9JTlRFUlNFQ1RJT046e2NvbmZpZ3VyYWJsZTohMH0sQ09MTElORUFSX0lOVEVSU0VDVElPTjp7Y29uZmlndXJhYmxlOiEwfX07QmwucHJvdG90eXBlLmdldEluZGV4QWxvbmdTZWdtZW50PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuY29tcHV0ZUludExpbmVJbmRleCgpLHRoaXMuX2ludExpbmVJbmRleFt0XVtlXX0sQmwucHJvdG90eXBlLmdldFRvcG9sb2d5U3VtbWFyeT1mdW5jdGlvbigpe3ZhciB0PW5ldyB2bDtyZXR1cm4gdGhpcy5pc0VuZFBvaW50KCkmJnQuYXBwZW5kKCIgZW5kcG9pbnQiKSx0aGlzLl9pc1Byb3BlciYmdC5hcHBlbmQoIiBwcm9wZXIiKSx0aGlzLmlzQ29sbGluZWFyKCkmJnQuYXBwZW5kKCIgY29sbGluZWFyIiksdC50b1N0cmluZygpfSxCbC5wcm90b3R5cGUuY29tcHV0ZUludGVyc2VjdGlvbj1mdW5jdGlvbih0LGUsbixyKXt0aGlzLl9pbnB1dExpbmVzWzBdWzBdPXQsdGhpcy5faW5wdXRMaW5lc1swXVsxXT1lLHRoaXMuX2lucHV0TGluZXNbMV1bMF09bix0aGlzLl9pbnB1dExpbmVzWzFdWzFdPXIsdGhpcy5fcmVzdWx0PXRoaXMuY29tcHV0ZUludGVyc2VjdCh0LGUsbixyKX0sQmwucHJvdG90eXBlLmdldEludGVyc2VjdGlvbk51bT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9yZXN1bHR9LEJsLnByb3RvdHlwZS5jb21wdXRlSW50TGluZUluZGV4PWZ1bmN0aW9uKCl7aWYoMD09PWFyZ3VtZW50cy5sZW5ndGgpbnVsbD09PXRoaXMuX2ludExpbmVJbmRleCYmKHRoaXMuX2ludExpbmVJbmRleD1BcnJheSgyKS5maWxsKCkubWFwKChmdW5jdGlvbigpe3JldHVybiBBcnJheSgyKX0pKSx0aGlzLmNvbXB1dGVJbnRMaW5lSW5kZXgoMCksdGhpcy5jb21wdXRlSW50TGluZUluZGV4KDEpKTtlbHNlIGlmKDE9PT1hcmd1bWVudHMubGVuZ3RoKXt2YXIgdD1hcmd1bWVudHNbMF0sZT10aGlzLmdldEVkZ2VEaXN0YW5jZSh0LDApLG49dGhpcy5nZXRFZGdlRGlzdGFuY2UodCwxKTtlPm4/KHRoaXMuX2ludExpbmVJbmRleFt0XVswXT0wLHRoaXMuX2ludExpbmVJbmRleFt0XVsxXT0xKToodGhpcy5faW50TGluZUluZGV4W3RdWzBdPTEsdGhpcy5faW50TGluZUluZGV4W3RdWzFdPTApfX0sQmwucHJvdG90eXBlLmlzUHJvcGVyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaGFzSW50ZXJzZWN0aW9uKCkmJnRoaXMuX2lzUHJvcGVyfSxCbC5wcm90b3R5cGUuc2V0UHJlY2lzaW9uTW9kZWw9ZnVuY3Rpb24odCl7dGhpcy5fcHJlY2lzaW9uTW9kZWw9dH0sQmwucHJvdG90eXBlLmlzSW50ZXJpb3JJbnRlcnNlY3Rpb249ZnVuY3Rpb24oKXt2YXIgdD10aGlzO2lmKDA9PT1hcmd1bWVudHMubGVuZ3RoKXJldHVybiEhdGhpcy5pc0ludGVyaW9ySW50ZXJzZWN0aW9uKDApfHwhIXRoaXMuaXNJbnRlcmlvckludGVyc2VjdGlvbigxKTtpZigxPT09YXJndW1lbnRzLmxlbmd0aCl7Zm9yKHZhciBlPWFyZ3VtZW50c1swXSxuPTA7bjx0aGlzLl9yZXN1bHQ7bisrKWlmKCF0Ll9pbnRQdFtuXS5lcXVhbHMyRCh0Ll9pbnB1dExpbmVzW2VdWzBdKSYmIXQuX2ludFB0W25dLmVxdWFsczJEKHQuX2lucHV0TGluZXNbZV1bMV0pKXJldHVybiEwO3JldHVybiExfX0sQmwucHJvdG90eXBlLmdldEludGVyc2VjdGlvbj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5faW50UHRbdF19LEJsLnByb3RvdHlwZS5pc0VuZFBvaW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaGFzSW50ZXJzZWN0aW9uKCkmJiF0aGlzLl9pc1Byb3Blcn0sQmwucHJvdG90eXBlLmhhc0ludGVyc2VjdGlvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9yZXN1bHQhPT1CbC5OT19JTlRFUlNFQ1RJT059LEJsLnByb3RvdHlwZS5nZXRFZGdlRGlzdGFuY2U9ZnVuY3Rpb24odCxlKXtyZXR1cm4gQmwuY29tcHV0ZUVkZ2VEaXN0YW5jZSh0aGlzLl9pbnRQdFtlXSx0aGlzLl9pbnB1dExpbmVzW3RdWzBdLHRoaXMuX2lucHV0TGluZXNbdF1bMV0pfSxCbC5wcm90b3R5cGUuaXNDb2xsaW5lYXI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmVzdWx0PT09QmwuQ09MTElORUFSX0lOVEVSU0VDVElPTn0sQmwucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIEZsLnRvTGluZVN0cmluZyh0aGlzLl9pbnB1dExpbmVzWzBdWzBdLHRoaXMuX2lucHV0TGluZXNbMF1bMV0pKyIgLSAiK0ZsLnRvTGluZVN0cmluZyh0aGlzLl9pbnB1dExpbmVzWzFdWzBdLHRoaXMuX2lucHV0TGluZXNbMV1bMV0pK3RoaXMuZ2V0VG9wb2xvZ3lTdW1tYXJ5KCl9LEJsLnByb3RvdHlwZS5nZXRFbmRwb2ludD1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLl9pbnB1dExpbmVzW3RdW2VdfSxCbC5wcm90b3R5cGUuaXNJbnRlcnNlY3Rpb249ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTA7ZTx0aGlzLl9yZXN1bHQ7ZSsrKWlmKHRoaXMuX2ludFB0W2VdLmVxdWFsczJEKHQpKXJldHVybiEwO3JldHVybiExfSxCbC5wcm90b3R5cGUuZ2V0SW50ZXJzZWN0aW9uQWxvbmdTZWdtZW50PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuY29tcHV0ZUludExpbmVJbmRleCgpLHRoaXMuX2ludFB0W3RoaXMuX2ludExpbmVJbmRleFt0XVtlXV19LEJsLnByb3RvdHlwZS5pbnRlcmZhY2VzXz1mdW5jdGlvbigpe3JldHVybltdfSxCbC5wcm90b3R5cGUuZ2V0Q2xhc3M9ZnVuY3Rpb24oKXtyZXR1cm4gQmx9LEJsLmNvbXB1dGVFZGdlRGlzdGFuY2U9ZnVuY3Rpb24odCxlLG4pe3ZhciByPU1hdGguYWJzKG4ueC1lLngpLGk9TWF0aC5hYnMobi55LWUueSksbz0tMTtpZih0LmVxdWFscyhlKSlvPTA7ZWxzZSBpZih0LmVxdWFscyhuKSlvPXI+aT9yOmk7ZWxzZXt2YXIgcz1NYXRoLmFicyh0LngtZS54KSxhPU1hdGguYWJzKHQueS1lLnkpOzAhPT0obz1yPmk/czphKXx8dC5lcXVhbHMoZSl8fChvPU1hdGgubWF4KHMsYSkpfXJldHVybiBxbC5pc1RydWUoISgwPT09byYmIXQuZXF1YWxzKGUpKSwiQmFkIGRpc3RhbmNlIGNhbGN1bGF0aW9uIiksb30sQmwubm9uUm9idXN0Q29tcHV0ZUVkZ2VEaXN0YW5jZT1mdW5jdGlvbih0LGUsbil7dmFyIHI9dC54LWUueCxpPXQueS1lLnksbz1NYXRoLnNxcnQocipyK2kqaSk7cmV0dXJuIHFsLmlzVHJ1ZSghKDA9PT1vJiYhdC5lcXVhbHMoZSkpLCJJbnZhbGlkIGRpc3RhbmNlIGNhbGN1bGF0aW9uIiksb30semwuRE9OVF9JTlRFUlNFQ1QuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIDB9LHpsLkRPX0lOVEVSU0VDVC5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gMX0semwuQ09MTElORUFSLmdldD1mdW5jdGlvbigpe3JldHVybiAyfSx6bC5OT19JTlRFUlNFQ1RJT04uZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIDB9LHpsLlBPSU5UX0lOVEVSU0VDVElPTi5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gMX0semwuQ09MTElORUFSX0lOVEVSU0VDVElPTi5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gMn0sT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoQmwsemwpO3ZhciBqbD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9cmV0dXJuIHQmJihlLl9fcHJvdG9fXz10KSxlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSxlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1lLGUucHJvdG90eXBlLmlzSW5TZWdtZW50RW52ZWxvcGVzPWZ1bmN0aW9uKHQpe3ZhciBlPW5ldyBMbCh0aGlzLl9pbnB1dExpbmVzWzBdWzBdLHRoaXMuX2lucHV0TGluZXNbMF1bMV0pLG49bmV3IExsKHRoaXMuX2lucHV0TGluZXNbMV1bMF0sdGhpcy5faW5wdXRMaW5lc1sxXVsxXSk7cmV0dXJuIGUuY29udGFpbnModCkmJm4uY29udGFpbnModCl9LGUucHJvdG90eXBlLmNvbXB1dGVJbnRlcnNlY3Rpb249ZnVuY3Rpb24oKXtpZigzIT09YXJndW1lbnRzLmxlbmd0aClyZXR1cm4gdC5wcm90b3R5cGUuY29tcHV0ZUludGVyc2VjdGlvbi5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dmFyIGU9YXJndW1lbnRzWzBdLG49YXJndW1lbnRzWzFdLHI9YXJndW1lbnRzWzJdO2lmKHRoaXMuX2lzUHJvcGVyPSExLExsLmludGVyc2VjdHMobixyLGUpJiYwPT09WGwub3JpZW50YXRpb25JbmRleChuLHIsZSkmJjA9PT1YbC5vcmllbnRhdGlvbkluZGV4KHIsbixlKSlyZXR1cm4gdGhpcy5faXNQcm9wZXI9ITAsKGUuZXF1YWxzKG4pfHxlLmVxdWFscyhyKSkmJih0aGlzLl9pc1Byb3Blcj0hMSksdGhpcy5fcmVzdWx0PXQuUE9JTlRfSU5URVJTRUNUSU9OLG51bGw7dGhpcy5fcmVzdWx0PXQuTk9fSU5URVJTRUNUSU9OfSxlLnByb3RvdHlwZS5ub3JtYWxpemVUb01pbmltdW09ZnVuY3Rpb24odCxlLG4scixpKXtpLng9dGhpcy5zbWFsbGVzdEluQWJzVmFsdWUodC54LGUueCxuLngsci54KSxpLnk9dGhpcy5zbWFsbGVzdEluQWJzVmFsdWUodC55LGUueSxuLnksci55KSx0LngtPWkueCx0LnktPWkueSxlLngtPWkueCxlLnktPWkueSxuLngtPWkueCxuLnktPWkueSxyLngtPWkueCxyLnktPWkueX0sZS5wcm90b3R5cGUuc2FmZUhDb29yZGluYXRlSW50ZXJzZWN0aW9uPWZ1bmN0aW9uKHQsbixyLGkpe3ZhciBvPW51bGw7dHJ5e289TWwuaW50ZXJzZWN0aW9uKHQsbixyLGkpfWNhdGNoKHMpe2lmKCEocyBpbnN0YW5jZW9mIENsKSl0aHJvdyBzO289ZS5uZWFyZXN0RW5kcG9pbnQodCxuLHIsaSl9cmV0dXJuIG99LGUucHJvdG90eXBlLmludGVyc2VjdGlvbj1mdW5jdGlvbih0LG4scixpKXt2YXIgbz10aGlzLmludGVyc2VjdGlvbldpdGhOb3JtYWxpemF0aW9uKHQsbixyLGkpO3JldHVybiB0aGlzLmlzSW5TZWdtZW50RW52ZWxvcGVzKG8pfHwobz1uZXcgdWwoZS5uZWFyZXN0RW5kcG9pbnQodCxuLHIsaSkpKSxudWxsIT09dGhpcy5fcHJlY2lzaW9uTW9kZWwmJnRoaXMuX3ByZWNpc2lvbk1vZGVsLm1ha2VQcmVjaXNlKG8pLG99LGUucHJvdG90eXBlLnNtYWxsZXN0SW5BYnNWYWx1ZT1mdW5jdGlvbih0LGUsbixyKXt2YXIgaT10LG89TWF0aC5hYnMoaSk7cmV0dXJuIE1hdGguYWJzKGUpPG8mJihpPWUsbz1NYXRoLmFicyhlKSksTWF0aC5hYnMobik8byYmKGk9bixvPU1hdGguYWJzKG4pKSxNYXRoLmFicyhyKTxvJiYoaT1yKSxpfSxlLnByb3RvdHlwZS5jaGVja0REPWZ1bmN0aW9uKHQsZSxuLHIsaSl7dmFyIG89YmwuaW50ZXJzZWN0aW9uKHQsZSxuLHIpLHM9dGhpcy5pc0luU2VnbWVudEVudmVsb3BlcyhvKTtQbC5vdXQucHJpbnRsbigiREQgaW4gZW52ID0gIitzKyIgIC0tLS0tLS0tLS0tLS0tLS0tLS0tLSAiK28pLGkuZGlzdGFuY2Uobyk+MWUtNCYmUGwub3V0LnByaW50bG4oIkRpc3RhbmNlID0gIitpLmRpc3RhbmNlKG8pKX0sZS5wcm90b3R5cGUuaW50ZXJzZWN0aW9uV2l0aE5vcm1hbGl6YXRpb249ZnVuY3Rpb24odCxlLG4scil7dmFyIGk9bmV3IHVsKHQpLG89bmV3IHVsKGUpLHM9bmV3IHVsKG4pLGE9bmV3IHVsKHIpLHU9bmV3IHVsO3RoaXMubm9ybWFsaXplVG9FbnZDZW50cmUoaSxvLHMsYSx1KTt2YXIgbD10aGlzLnNhZmVIQ29vcmRpbmF0ZUludGVyc2VjdGlvbihpLG8scyxhKTtyZXR1cm4gbC54Kz11LngsbC55Kz11LnksbH0sZS5wcm90b3R5cGUuY29tcHV0ZUNvbGxpbmVhckludGVyc2VjdGlvbj1mdW5jdGlvbihlLG4scixpKXt2YXIgbz1MbC5pbnRlcnNlY3RzKGUsbixyKSxzPUxsLmludGVyc2VjdHMoZSxuLGkpLGE9TGwuaW50ZXJzZWN0cyhyLGksZSksdT1MbC5pbnRlcnNlY3RzKHIsaSxuKTtyZXR1cm4gbyYmcz8odGhpcy5faW50UHRbMF09cix0aGlzLl9pbnRQdFsxXT1pLHQuQ09MTElORUFSX0lOVEVSU0VDVElPTik6YSYmdT8odGhpcy5faW50UHRbMF09ZSx0aGlzLl9pbnRQdFsxXT1uLHQuQ09MTElORUFSX0lOVEVSU0VDVElPTik6byYmYT8odGhpcy5faW50UHRbMF09cix0aGlzLl9pbnRQdFsxXT1lLCFyLmVxdWFscyhlKXx8c3x8dT90LkNPTExJTkVBUl9JTlRFUlNFQ1RJT046dC5QT0lOVF9JTlRFUlNFQ1RJT04pOm8mJnU/KHRoaXMuX2ludFB0WzBdPXIsdGhpcy5faW50UHRbMV09biwhci5lcXVhbHMobil8fHN8fGE/dC5DT0xMSU5FQVJfSU5URVJTRUNUSU9OOnQuUE9JTlRfSU5URVJTRUNUSU9OKTpzJiZhPyh0aGlzLl9pbnRQdFswXT1pLHRoaXMuX2ludFB0WzFdPWUsIWkuZXF1YWxzKGUpfHxvfHx1P3QuQ09MTElORUFSX0lOVEVSU0VDVElPTjp0LlBPSU5UX0lOVEVSU0VDVElPTik6cyYmdT8odGhpcy5faW50UHRbMF09aSx0aGlzLl9pbnRQdFsxXT1uLCFpLmVxdWFscyhuKXx8b3x8YT90LkNPTExJTkVBUl9JTlRFUlNFQ1RJT046dC5QT0lOVF9JTlRFUlNFQ1RJT04pOnQuTk9fSU5URVJTRUNUSU9OfSxlLnByb3RvdHlwZS5ub3JtYWxpemVUb0VudkNlbnRyZT1mdW5jdGlvbih0LGUsbixyLGkpe3ZhciBvPXQueDxlLng/dC54OmUueCxzPXQueTxlLnk/dC55OmUueSxhPXQueD5lLng/dC54OmUueCx1PXQueT5lLnk/dC55OmUueSxsPW4ueDxyLng/bi54OnIueCxjPW4ueTxyLnk/bi55OnIueSxoPW4ueD5yLng/bi54OnIueCxwPW4ueT5yLnk/bi55OnIueSxmPSgobz5sP286bCkrKGE8aD9hOmgpKS8yLGc9KChzPmM/czpjKSsodTxwP3U6cCkpLzI7aS54PWYsaS55PWcsdC54LT1pLngsdC55LT1pLnksZS54LT1pLngsZS55LT1pLnksbi54LT1pLngsbi55LT1pLnksci54LT1pLngsci55LT1pLnl9LGUucHJvdG90eXBlLmNvbXB1dGVJbnRlcnNlY3Q9ZnVuY3Rpb24oZSxuLHIsaSl7aWYodGhpcy5faXNQcm9wZXI9ITEsIUxsLmludGVyc2VjdHMoZSxuLHIsaSkpcmV0dXJuIHQuTk9fSU5URVJTRUNUSU9OO3ZhciBvPVhsLm9yaWVudGF0aW9uSW5kZXgoZSxuLHIpLHM9WGwub3JpZW50YXRpb25JbmRleChlLG4saSk7aWYobz4wJiZzPjB8fG88MCYmczwwKXJldHVybiB0Lk5PX0lOVEVSU0VDVElPTjt2YXIgYT1YbC5vcmllbnRhdGlvbkluZGV4KHIsaSxlKSx1PVhsLm9yaWVudGF0aW9uSW5kZXgocixpLG4pO3JldHVybiBhPjAmJnU+MHx8YTwwJiZ1PDA/dC5OT19JTlRFUlNFQ1RJT046MD09PW8mJjA9PT1zJiYwPT09YSYmMD09PXU/dGhpcy5jb21wdXRlQ29sbGluZWFySW50ZXJzZWN0aW9uKGUsbixyLGkpOigwPT09b3x8MD09PXN8fDA9PT1hfHwwPT09dT8odGhpcy5faXNQcm9wZXI9ITEsZS5lcXVhbHMyRChyKXx8ZS5lcXVhbHMyRChpKT90aGlzLl9pbnRQdFswXT1lOm4uZXF1YWxzMkQocil8fG4uZXF1YWxzMkQoaSk/dGhpcy5faW50UHRbMF09bjowPT09bz90aGlzLl9pbnRQdFswXT1uZXcgdWwocik6MD09PXM/dGhpcy5faW50UHRbMF09bmV3IHVsKGkpOjA9PT1hP3RoaXMuX2ludFB0WzBdPW5ldyB1bChlKTowPT09dSYmKHRoaXMuX2ludFB0WzBdPW5ldyB1bChuKSkpOih0aGlzLl9pc1Byb3Blcj0hMCx0aGlzLl9pbnRQdFswXT10aGlzLmludGVyc2VjdGlvbihlLG4scixpKSksdC5QT0lOVF9JTlRFUlNFQ1RJT04pfSxlLnByb3RvdHlwZS5pbnRlcmZhY2VzXz1mdW5jdGlvbigpe3JldHVybltdfSxlLnByb3RvdHlwZS5nZXRDbGFzcz1mdW5jdGlvbigpe3JldHVybiBlfSxlLm5lYXJlc3RFbmRwb2ludD1mdW5jdGlvbih0LGUsbixyKXt2YXIgaT10LG89WGwuZGlzdGFuY2VQb2ludExpbmUodCxuLHIpLHM9WGwuZGlzdGFuY2VQb2ludExpbmUoZSxuLHIpO3JldHVybiBzPG8mJihvPXMsaT1lKSwocz1YbC5kaXN0YW5jZVBvaW50TGluZShuLHQsZSkpPG8mJihvPXMsaT1uKSwocz1YbC5kaXN0YW5jZVBvaW50TGluZShyLHQsZSkpPG8mJihvPXMsaT1yKSxpfSxlfShCbCksVWw9ZnVuY3Rpb24oKXt9O1VsLnByb3RvdHlwZS5pbnRlcmZhY2VzXz1mdW5jdGlvbigpe3JldHVybltdfSxVbC5wcm90b3R5cGUuZ2V0Q2xhc3M9ZnVuY3Rpb24oKXtyZXR1cm4gVWx9LFVsLm9yaWVudGF0aW9uSW5kZXg9ZnVuY3Rpb24odCxlLG4pe3ZhciByPWUueC10LngsaT1lLnktdC55LG89bi54LWUueCxzPW4ueS1lLnk7cmV0dXJuIFVsLnNpZ25PZkRldDJ4MihyLGksbyxzKX0sVWwuc2lnbk9mRGV0MngyPWZ1bmN0aW9uKHQsZSxuLHIpe3ZhciBpPW51bGwsbz1udWxsLHM9bnVsbDtpZihpPTEsMD09PXR8fDA9PT1yKXJldHVybiAwPT09ZXx8MD09PW4/MDplPjA/bj4wPy1pOmk6bj4wP2k6LWk7aWYoMD09PWV8fDA9PT1uKXJldHVybiByPjA/dD4wP2k6LWk6dD4wPy1pOmk7aWYoZT4wP3I+MD9lPD1yfHwoaT0taSxvPXQsdD1uLG49byxvPWUsZT1yLHI9byk6ZTw9LXI/KGk9LWksbj0tbixyPS1yKToobz10LHQ9LW4sbj1vLG89ZSxlPS1yLHI9byk6cj4wPy1lPD1yPyhpPS1pLHQ9LXQsZT0tZSk6KG89LXQsdD1uLG49byxvPS1lLGU9cixyPW8pOmU+PXI/KHQ9LXQsZT0tZSxuPS1uLHI9LXIpOihpPS1pLG89LXQsdD0tbixuPW8sbz0tZSxlPS1yLHI9byksdD4wKXtpZighKG4+MCkpcmV0dXJuIGk7aWYoISh0PD1uKSlyZXR1cm4gaX1lbHNle2lmKG4+MClyZXR1cm4taTtpZighKHQ+PW4pKXJldHVybi1pO2k9LWksdD0tdCxuPS1ufWZvcig7Oyl7aWYoKHItPShzPU1hdGguZmxvb3Iobi90KSkqZSk8MClyZXR1cm4taTtpZihyPmUpcmV0dXJuIGk7aWYodD4obi09cyp0KStuKXtpZihlPHIrcilyZXR1cm4gaX1lbHNle2lmKGU+cityKXJldHVybi1pO249dC1uLHI9ZS1yLGk9LWl9aWYoMD09PXIpcmV0dXJuIDA9PT1uPzA6LWk7aWYoMD09PW4pcmV0dXJuIGk7aWYoKGUtPShzPU1hdGguZmxvb3IodC9uKSkqcik8MClyZXR1cm4gaTtpZihlPnIpcmV0dXJuLWk7aWYobj4odC09cypuKSt0KXtpZihyPGUrZSlyZXR1cm4taX1lbHNle2lmKHI+ZStlKXJldHVybiBpO3Q9bi10LGU9ci1lLGk9LWl9aWYoMD09PWUpcmV0dXJuIDA9PT10PzA6aTtpZigwPT09dClyZXR1cm4taX19O3ZhciBWbD1mdW5jdGlvbigpe3RoaXMuX3A9bnVsbCx0aGlzLl9jcm9zc2luZ0NvdW50PTAsdGhpcy5faXNQb2ludE9uU2VnbWVudD0hMTt2YXIgdD1hcmd1bWVudHNbMF07dGhpcy5fcD10fTtWbC5wcm90b3R5cGUuY291bnRTZWdtZW50PWZ1bmN0aW9uKHQsZSl7aWYodC54PHRoaXMuX3AueCYmZS54PHRoaXMuX3AueClyZXR1cm4gbnVsbDtpZih0aGlzLl9wLng9PT1lLngmJnRoaXMuX3AueT09PWUueSlyZXR1cm4gdGhpcy5faXNQb2ludE9uU2VnbWVudD0hMCxudWxsO2lmKHQueT09PXRoaXMuX3AueSYmZS55PT09dGhpcy5fcC55KXt2YXIgbj10Lngscj1lLng7cmV0dXJuIG4+ciYmKG49ZS54LHI9dC54KSx0aGlzLl9wLng+PW4mJnRoaXMuX3AueDw9ciYmKHRoaXMuX2lzUG9pbnRPblNlZ21lbnQ9ITApLG51bGx9aWYodC55PnRoaXMuX3AueSYmZS55PD10aGlzLl9wLnl8fGUueT50aGlzLl9wLnkmJnQueTw9dGhpcy5fcC55KXt2YXIgaT10LngtdGhpcy5fcC54LG89dC55LXRoaXMuX3AueSxzPWUueC10aGlzLl9wLngsYT1lLnktdGhpcy5fcC55LHU9VWwuc2lnbk9mRGV0MngyKGksbyxzLGEpO2lmKDA9PT11KXJldHVybiB0aGlzLl9pc1BvaW50T25TZWdtZW50PSEwLG51bGw7YTxvJiYodT0tdSksdT4wJiZ0aGlzLl9jcm9zc2luZ0NvdW50Kyt9fSxWbC5wcm90b3R5cGUuaXNQb2ludEluUG9seWdvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldExvY2F0aW9uKCkhPT1wbC5FWFRFUklPUn0sVmwucHJvdG90eXBlLmdldExvY2F0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2lzUG9pbnRPblNlZ21lbnQ/cGwuQk9VTkRBUlk6dGhpcy5fY3Jvc3NpbmdDb3VudCUyPT0xP3BsLklOVEVSSU9SOnBsLkVYVEVSSU9SfSxWbC5wcm90b3R5cGUuaXNPblNlZ21lbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faXNQb2ludE9uU2VnbWVudH0sVmwucHJvdG90eXBlLmludGVyZmFjZXNfPWZ1bmN0aW9uKCl7cmV0dXJuW119LFZsLnByb3RvdHlwZS5nZXRDbGFzcz1mdW5jdGlvbigpe3JldHVybiBWbH0sVmwubG9jYXRlUG9pbnRJblJpbmc9ZnVuY3Rpb24oKXtpZihhcmd1bWVudHNbMF1pbnN0YW5jZW9mIHVsJiZnbChhcmd1bWVudHNbMV0sSWwpKXtmb3IodmFyIHQ9YXJndW1lbnRzWzBdLGU9YXJndW1lbnRzWzFdLG49bmV3IFZsKHQpLHI9bmV3IHVsLGk9bmV3IHVsLG89MTtvPGUuc2l6ZSgpO28rKylpZihlLmdldENvb3JkaW5hdGUobyxyKSxlLmdldENvb3JkaW5hdGUoby0xLGkpLG4uY291bnRTZWdtZW50KHIsaSksbi5pc09uU2VnbWVudCgpKXJldHVybiBuLmdldExvY2F0aW9uKCk7cmV0dXJuIG4uZ2V0TG9jYXRpb24oKX1pZihhcmd1bWVudHNbMF1pbnN0YW5jZW9mIHVsJiZhcmd1bWVudHNbMV1pbnN0YW5jZW9mIEFycmF5KXtmb3IodmFyIHM9YXJndW1lbnRzWzBdLGE9YXJndW1lbnRzWzFdLHU9bmV3IFZsKHMpLGw9MTtsPGEubGVuZ3RoO2wrKyl7dmFyIGM9YVtsXSxoPWFbbC0xXTtpZih1LmNvdW50U2VnbWVudChjLGgpLHUuaXNPblNlZ21lbnQoKSlyZXR1cm4gdS5nZXRMb2NhdGlvbigpfXJldHVybiB1LmdldExvY2F0aW9uKCl9fTt2YXIgWGw9ZnVuY3Rpb24oKXt9LFlsPXtDTE9DS1dJU0U6e2NvbmZpZ3VyYWJsZTohMH0sUklHSFQ6e2NvbmZpZ3VyYWJsZTohMH0sQ09VTlRFUkNMT0NLV0lTRTp7Y29uZmlndXJhYmxlOiEwfSxMRUZUOntjb25maWd1cmFibGU6ITB9LENPTExJTkVBUjp7Y29uZmlndXJhYmxlOiEwfSxTVFJBSUdIVDp7Y29uZmlndXJhYmxlOiEwfX07WGwucHJvdG90eXBlLmludGVyZmFjZXNfPWZ1bmN0aW9uKCl7cmV0dXJuW119LFhsLnByb3RvdHlwZS5nZXRDbGFzcz1mdW5jdGlvbigpe3JldHVybiBYbH0sWGwub3JpZW50YXRpb25JbmRleD1mdW5jdGlvbih0LGUsbil7cmV0dXJuIGJsLm9yaWVudGF0aW9uSW5kZXgodCxlLG4pfSxYbC5zaWduZWRBcmVhPWZ1bmN0aW9uKCl7aWYoYXJndW1lbnRzWzBdaW5zdGFuY2VvZiBBcnJheSl7dmFyIHQ9YXJndW1lbnRzWzBdO2lmKHQubGVuZ3RoPDMpcmV0dXJuIDA7Zm9yKHZhciBlPTAsbj10WzBdLngscj0xO3I8dC5sZW5ndGgtMTtyKyspe3ZhciBpPXRbcl0ueC1uLG89dFtyKzFdLnkscz10W3ItMV0ueTtlKz1pKihzLW8pfXJldHVybiBlLzJ9aWYoZ2woYXJndW1lbnRzWzBdLElsKSl7dmFyIGE9YXJndW1lbnRzWzBdLHU9YS5zaXplKCk7aWYodTwzKXJldHVybiAwO3ZhciBsPW5ldyB1bCxjPW5ldyB1bCxoPW5ldyB1bDthLmdldENvb3JkaW5hdGUoMCxjKSxhLmdldENvb3JkaW5hdGUoMSxoKTt2YXIgcD1jLng7aC54LT1wO2Zvcih2YXIgZj0wLGc9MTtnPHUtMTtnKyspbC55PWMueSxjLng9aC54LGMueT1oLnksYS5nZXRDb29yZGluYXRlKGcrMSxoKSxoLngtPXAsZis9Yy54KihsLnktaC55KTtyZXR1cm4gZi8yfX0sWGwuZGlzdGFuY2VMaW5lTGluZT1mdW5jdGlvbih0LGUsbixyKXtpZih0LmVxdWFscyhlKSlyZXR1cm4gWGwuZGlzdGFuY2VQb2ludExpbmUodCxuLHIpO2lmKG4uZXF1YWxzKHIpKXJldHVybiBYbC5kaXN0YW5jZVBvaW50TGluZShyLHQsZSk7dmFyIGk9ITE7aWYoTGwuaW50ZXJzZWN0cyh0LGUsbixyKSl7dmFyIG89KGUueC10LngpKihyLnktbi55KS0oZS55LXQueSkqKHIueC1uLngpO2lmKDA9PT1vKWk9ITA7ZWxzZXt2YXIgcz0odC55LW4ueSkqKHIueC1uLngpLSh0Lngtbi54KSooci55LW4ueSksYT0oKHQueS1uLnkpKihlLngtdC54KS0odC54LW4ueCkqKGUueS10LnkpKS9vLHU9cy9vOyh1PDB8fHU+MXx8YTwwfHxhPjEpJiYoaT0hMCl9fWVsc2UgaT0hMDtyZXR1cm4gaT9kbC5taW4oWGwuZGlzdGFuY2VQb2ludExpbmUodCxuLHIpLFhsLmRpc3RhbmNlUG9pbnRMaW5lKGUsbixyKSxYbC5kaXN0YW5jZVBvaW50TGluZShuLHQsZSksWGwuZGlzdGFuY2VQb2ludExpbmUocix0LGUpKTowfSxYbC5pc1BvaW50SW5SaW5nPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIFhsLmxvY2F0ZVBvaW50SW5SaW5nKHQsZSkhPT1wbC5FWFRFUklPUn0sWGwuY29tcHV0ZUxlbmd0aD1mdW5jdGlvbih0KXt2YXIgZT10LnNpemUoKTtpZihlPD0xKXJldHVybiAwO3ZhciBuPTAscj1uZXcgdWw7dC5nZXRDb29yZGluYXRlKDAscik7Zm9yKHZhciBpPXIueCxvPXIueSxzPTE7czxlO3MrKyl7dC5nZXRDb29yZGluYXRlKHMscik7dmFyIGE9ci54LHU9ci55LGw9YS1pLGM9dS1vO24rPU1hdGguc3FydChsKmwrYypjKSxpPWEsbz11fXJldHVybiBufSxYbC5pc0NDVz1mdW5jdGlvbih0KXt2YXIgZT10Lmxlbmd0aC0xO2lmKGU8Myl0aHJvdyBuZXcgZWwoIlJpbmcgaGFzIGZld2VyIHRoYW4gNCBwb2ludHMsIHNvIG9yaWVudGF0aW9uIGNhbm5vdCBiZSBkZXRlcm1pbmVkIik7Zm9yKHZhciBuPXRbMF0scj0wLGk9MTtpPD1lO2krKyl7dmFyIG89dFtpXTtvLnk+bi55JiYobj1vLHI9aSl9dmFyIHM9cjtkb3socy09MSk8MCYmKHM9ZSl9d2hpbGUodFtzXS5lcXVhbHMyRChuKSYmcyE9PXIpO3ZhciBhPXI7ZG97YT0oYSsxKSVlfXdoaWxlKHRbYV0uZXF1YWxzMkQobikmJmEhPT1yKTt2YXIgdT10W3NdLGw9dFthXTtpZih1LmVxdWFsczJEKG4pfHxsLmVxdWFsczJEKG4pfHx1LmVxdWFsczJEKGwpKXJldHVybiExO3ZhciBjPVhsLmNvbXB1dGVPcmllbnRhdGlvbih1LG4sbCksaD0hMTtyZXR1cm4gaD0wPT09Yz91Lng+bC54OmM+MCxofSxYbC5sb2NhdGVQb2ludEluUmluZz1mdW5jdGlvbih0LGUpe3JldHVybiBWbC5sb2NhdGVQb2ludEluUmluZyh0LGUpfSxYbC5kaXN0YW5jZVBvaW50TGluZVBlcnBlbmRpY3VsYXI9ZnVuY3Rpb24odCxlLG4pe3ZhciByPShuLngtZS54KSoobi54LWUueCkrKG4ueS1lLnkpKihuLnktZS55KSxpPSgoZS55LXQueSkqKG4ueC1lLngpLShlLngtdC54KSoobi55LWUueSkpL3I7cmV0dXJuIE1hdGguYWJzKGkpKk1hdGguc3FydChyKX0sWGwuY29tcHV0ZU9yaWVudGF0aW9uPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gWGwub3JpZW50YXRpb25JbmRleCh0LGUsbil9LFhsLmRpc3RhbmNlUG9pbnRMaW5lPWZ1bmN0aW9uKCl7aWYoMj09PWFyZ3VtZW50cy5sZW5ndGgpe3ZhciB0PWFyZ3VtZW50c1swXSxlPWFyZ3VtZW50c1sxXTtpZigwPT09ZS5sZW5ndGgpdGhyb3cgbmV3IGVsKCJMaW5lIGFycmF5IG11c3QgY29udGFpbiBhdCBsZWFzdCBvbmUgdmVydGV4Iik7Zm9yKHZhciBuPXQuZGlzdGFuY2UoZVswXSkscj0wO3I8ZS5sZW5ndGgtMTtyKyspe3ZhciBpPVhsLmRpc3RhbmNlUG9pbnRMaW5lKHQsZVtyXSxlW3IrMV0pO2k8biYmKG49aSl9cmV0dXJuIG59aWYoMz09PWFyZ3VtZW50cy5sZW5ndGgpe3ZhciBvPWFyZ3VtZW50c1swXSxzPWFyZ3VtZW50c1sxXSxhPWFyZ3VtZW50c1syXTtpZihzLng9PT1hLngmJnMueT09PWEueSlyZXR1cm4gby5kaXN0YW5jZShzKTt2YXIgdT0oYS54LXMueCkqKGEueC1zLngpKyhhLnktcy55KSooYS55LXMueSksbD0oKG8ueC1zLngpKihhLngtcy54KSsoby55LXMueSkqKGEueS1zLnkpKS91O2lmKGw8PTApcmV0dXJuIG8uZGlzdGFuY2Uocyk7aWYobD49MSlyZXR1cm4gby5kaXN0YW5jZShhKTt2YXIgYz0oKHMueS1vLnkpKihhLngtcy54KS0ocy54LW8ueCkqKGEueS1zLnkpKS91O3JldHVybiBNYXRoLmFicyhjKSpNYXRoLnNxcnQodSl9fSxYbC5pc09uTGluZT1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj1uZXcgamwscj0xO3I8ZS5sZW5ndGg7cisrKXt2YXIgaT1lW3ItMV0sbz1lW3JdO2lmKG4uY29tcHV0ZUludGVyc2VjdGlvbih0LGksbyksbi5oYXNJbnRlcnNlY3Rpb24oKSlyZXR1cm4hMH1yZXR1cm4hMX0sWWwuQ0xPQ0tXSVNFLmdldD1mdW5jdGlvbigpe3JldHVybi0xfSxZbC5SSUdIVC5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gWGwuQ0xPQ0tXSVNFfSxZbC5DT1VOVEVSQ0xPQ0tXSVNFLmdldD1mdW5jdGlvbigpe3JldHVybiAxfSxZbC5MRUZULmdldD1mdW5jdGlvbigpe3JldHVybiBYbC5DT1VOVEVSQ0xPQ0tXSVNFfSxZbC5DT0xMSU5FQVIuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIDB9LFlsLlNUUkFJR0hULmdldD1mdW5jdGlvbigpe3JldHVybiBYbC5DT0xMSU5FQVJ9LE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKFhsLFlsKTt2YXIgSGw9ZnVuY3Rpb24oKXt9O0hsLnByb3RvdHlwZS5maWx0ZXI9ZnVuY3Rpb24odCl7fSxIbC5wcm90b3R5cGUuaW50ZXJmYWNlc189ZnVuY3Rpb24oKXtyZXR1cm5bXX0sSGwucHJvdG90eXBlLmdldENsYXNzPWZ1bmN0aW9uKCl7cmV0dXJuIEhsfTt2YXIgV2w9ZnVuY3Rpb24oKXt2YXIgdD1hcmd1bWVudHNbMF07dGhpcy5fZW52ZWxvcGU9bnVsbCx0aGlzLl9mYWN0b3J5PW51bGwsdGhpcy5fU1JJRD1udWxsLHRoaXMuX3VzZXJEYXRhPW51bGwsdGhpcy5fZmFjdG9yeT10LHRoaXMuX1NSSUQ9dC5nZXRTUklEKCl9LEpsPXtzZXJpYWxWZXJzaW9uVUlEOntjb25maWd1cmFibGU6ITB9LFNPUlRJTkRFWF9QT0lOVDp7Y29uZmlndXJhYmxlOiEwfSxTT1JUSU5ERVhfTVVMVElQT0lOVDp7Y29uZmlndXJhYmxlOiEwfSxTT1JUSU5ERVhfTElORVNUUklORzp7Y29uZmlndXJhYmxlOiEwfSxTT1JUSU5ERVhfTElORUFSUklORzp7Y29uZmlndXJhYmxlOiEwfSxTT1JUSU5ERVhfTVVMVElMSU5FU1RSSU5HOntjb25maWd1cmFibGU6ITB9LFNPUlRJTkRFWF9QT0xZR09OOntjb25maWd1cmFibGU6ITB9LFNPUlRJTkRFWF9NVUxUSVBPTFlHT046e2NvbmZpZ3VyYWJsZTohMH0sU09SVElOREVYX0dFT01FVFJZQ09MTEVDVElPTjp7Y29uZmlndXJhYmxlOiEwfSxnZW9tZXRyeUNoYW5nZWRGaWx0ZXI6e2NvbmZpZ3VyYWJsZTohMH19O1dsLnByb3RvdHlwZS5pc0dlb21ldHJ5Q29sbGVjdGlvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFNvcnRJbmRleCgpPT09V2wuU09SVElOREVYX0dFT01FVFJZQ09MTEVDVElPTn0sV2wucHJvdG90eXBlLmdldEZhY3Rvcnk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZmFjdG9yeX0sV2wucHJvdG90eXBlLmdldEdlb21ldHJ5Tj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpc30sV2wucHJvdG90eXBlLmdldEFyZWE9ZnVuY3Rpb24oKXtyZXR1cm4gMH0sV2wucHJvdG90eXBlLmlzUmVjdGFuZ2xlPWZ1bmN0aW9uKCl7cmV0dXJuITF9LFdsLnByb3RvdHlwZS5lcXVhbHM9ZnVuY3Rpb24oKXtpZihhcmd1bWVudHNbMF1pbnN0YW5jZW9mIFdsKXt2YXIgdD1hcmd1bWVudHNbMF07cmV0dXJuIG51bGwhPT10JiZ0aGlzLmVxdWFsc1RvcG8odCl9aWYoYXJndW1lbnRzWzBdaW5zdGFuY2VvZiBPYmplY3Qpe3ZhciBlPWFyZ3VtZW50c1swXTtpZighKGUgaW5zdGFuY2VvZiBXbCkpcmV0dXJuITE7dmFyIG49ZTtyZXR1cm4gdGhpcy5lcXVhbHNFeGFjdChuKX19LFdsLnByb3RvdHlwZS5lcXVhbHNFeGFjdD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcz09PXR8fHRoaXMuZXF1YWxzRXhhY3QodCwwKX0sV2wucHJvdG90eXBlLmdlb21ldHJ5Q2hhbmdlZD1mdW5jdGlvbigpe3RoaXMuYXBwbHkoV2wuZ2VvbWV0cnlDaGFuZ2VkRmlsdGVyKX0sV2wucHJvdG90eXBlLmdlb21ldHJ5Q2hhbmdlZEFjdGlvbj1mdW5jdGlvbigpe3RoaXMuX2VudmVsb3BlPW51bGx9LFdsLnByb3RvdHlwZS5lcXVhbHNOb3JtPWZ1bmN0aW9uKHQpe3JldHVybiBudWxsIT09dCYmdGhpcy5ub3JtKCkuZXF1YWxzRXhhY3QodC5ub3JtKCkpfSxXbC5wcm90b3R5cGUuZ2V0TGVuZ3RoPWZ1bmN0aW9uKCl7cmV0dXJuIDB9LFdsLnByb3RvdHlwZS5nZXROdW1HZW9tZXRyaWVzPWZ1bmN0aW9uKCl7cmV0dXJuIDF9LFdsLnByb3RvdHlwZS5jb21wYXJlVG89ZnVuY3Rpb24oKXtpZigxPT09YXJndW1lbnRzLmxlbmd0aCl7dmFyIHQ9YXJndW1lbnRzWzBdLGU9dDtyZXR1cm4gdGhpcy5nZXRTb3J0SW5kZXgoKSE9PWUuZ2V0U29ydEluZGV4KCk/dGhpcy5nZXRTb3J0SW5kZXgoKS1lLmdldFNvcnRJbmRleCgpOnRoaXMuaXNFbXB0eSgpJiZlLmlzRW1wdHkoKT8wOnRoaXMuaXNFbXB0eSgpPy0xOmUuaXNFbXB0eSgpPzE6dGhpcy5jb21wYXJlVG9TYW1lQ2xhc3ModCl9aWYoMj09PWFyZ3VtZW50cy5sZW5ndGgpe3ZhciBuPWFyZ3VtZW50c1swXSxyPWFyZ3VtZW50c1sxXTtyZXR1cm4gdGhpcy5nZXRTb3J0SW5kZXgoKSE9PW4uZ2V0U29ydEluZGV4KCk/dGhpcy5nZXRTb3J0SW5kZXgoKS1uLmdldFNvcnRJbmRleCgpOnRoaXMuaXNFbXB0eSgpJiZuLmlzRW1wdHkoKT8wOnRoaXMuaXNFbXB0eSgpPy0xOm4uaXNFbXB0eSgpPzE6dGhpcy5jb21wYXJlVG9TYW1lQ2xhc3MobixyKX19LFdsLnByb3RvdHlwZS5nZXRVc2VyRGF0YT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl91c2VyRGF0YX0sV2wucHJvdG90eXBlLmdldFNSSUQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fU1JJRH0sV2wucHJvdG90eXBlLmdldEVudmVsb3BlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0RmFjdG9yeSgpLnRvR2VvbWV0cnkodGhpcy5nZXRFbnZlbG9wZUludGVybmFsKCkpfSxXbC5wcm90b3R5cGUuY2hlY2tOb3RHZW9tZXRyeUNvbGxlY3Rpb249ZnVuY3Rpb24odCl7aWYodC5nZXRTb3J0SW5kZXgoKT09PVdsLlNPUlRJTkRFWF9HRU9NRVRSWUNPTExFQ1RJT04pdGhyb3cgbmV3IGVsKCJUaGlzIG1ldGhvZCBkb2VzIG5vdCBzdXBwb3J0IEdlb21ldHJ5Q29sbGVjdGlvbiBhcmd1bWVudHMiKX0sV2wucHJvdG90eXBlLmVxdWFsPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gMD09PW4/dC5lcXVhbHMoZSk6dC5kaXN0YW5jZShlKTw9bn0sV2wucHJvdG90eXBlLm5vcm09ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmNvcHkoKTtyZXR1cm4gdC5ub3JtYWxpemUoKSx0fSxXbC5wcm90b3R5cGUuZ2V0UHJlY2lzaW9uTW9kZWw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZmFjdG9yeS5nZXRQcmVjaXNpb25Nb2RlbCgpfSxXbC5wcm90b3R5cGUuZ2V0RW52ZWxvcGVJbnRlcm5hbD1mdW5jdGlvbigpe3JldHVybiBudWxsPT09dGhpcy5fZW52ZWxvcGUmJih0aGlzLl9lbnZlbG9wZT10aGlzLmNvbXB1dGVFbnZlbG9wZUludGVybmFsKCkpLG5ldyBMbCh0aGlzLl9lbnZlbG9wZSl9LFdsLnByb3RvdHlwZS5zZXRTUklEPWZ1bmN0aW9uKHQpe3RoaXMuX1NSSUQ9dH0sV2wucHJvdG90eXBlLnNldFVzZXJEYXRhPWZ1bmN0aW9uKHQpe3RoaXMuX3VzZXJEYXRhPXR9LFdsLnByb3RvdHlwZS5jb21wYXJlPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPXQuaXRlcmF0b3IoKSxyPWUuaXRlcmF0b3IoKTtuLmhhc05leHQoKSYmci5oYXNOZXh0KCk7KXt2YXIgaT1uLm5leHQoKSxvPXIubmV4dCgpLHM9aS5jb21wYXJlVG8obyk7aWYoMCE9PXMpcmV0dXJuIHN9cmV0dXJuIG4uaGFzTmV4dCgpPzE6ci5oYXNOZXh0KCk/LTE6MH0sV2wucHJvdG90eXBlLmhhc2hDb2RlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0RW52ZWxvcGVJbnRlcm5hbCgpLmhhc2hDb2RlKCl9LFdsLnByb3RvdHlwZS5pc0dlb21ldHJ5Q29sbGVjdGlvbk9yRGVyaXZlZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFNvcnRJbmRleCgpPT09V2wuU09SVElOREVYX0dFT01FVFJZQ09MTEVDVElPTnx8dGhpcy5nZXRTb3J0SW5kZXgoKT09PVdsLlNPUlRJTkRFWF9NVUxUSVBPSU5UfHx0aGlzLmdldFNvcnRJbmRleCgpPT09V2wuU09SVElOREVYX01VTFRJTElORVNUUklOR3x8dGhpcy5nZXRTb3J0SW5kZXgoKT09PVdsLlNPUlRJTkRFWF9NVUxUSVBPTFlHT059LFdsLnByb3RvdHlwZS5pbnRlcmZhY2VzXz1mdW5jdGlvbigpe3JldHVybltvbCxpbCxhbF19LFdsLnByb3RvdHlwZS5nZXRDbGFzcz1mdW5jdGlvbigpe3JldHVybiBXbH0sV2wuaGFzTm9uRW1wdHlFbGVtZW50cz1mdW5jdGlvbih0KXtmb3IodmFyIGU9MDtlPHQubGVuZ3RoO2UrKylpZighdFtlXS5pc0VtcHR5KCkpcmV0dXJuITA7cmV0dXJuITF9LFdsLmhhc051bGxFbGVtZW50cz1mdW5jdGlvbih0KXtmb3IodmFyIGU9MDtlPHQubGVuZ3RoO2UrKylpZihudWxsPT09dFtlXSlyZXR1cm4hMDtyZXR1cm4hMX0sSmwuc2VyaWFsVmVyc2lvblVJRC5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gMHg3OTllYTQ2NTIyODU0YzAwfSxKbC5TT1JUSU5ERVhfUE9JTlQuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIDB9LEpsLlNPUlRJTkRFWF9NVUxUSVBPSU5ULmdldD1mdW5jdGlvbigpe3JldHVybiAxfSxKbC5TT1JUSU5ERVhfTElORVNUUklORy5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gMn0sSmwuU09SVElOREVYX0xJTkVBUlJJTkcuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIDN9LEpsLlNPUlRJTkRFWF9NVUxUSUxJTkVTVFJJTkcuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIDR9LEpsLlNPUlRJTkRFWF9QT0xZR09OLmdldD1mdW5jdGlvbigpe3JldHVybiA1fSxKbC5TT1JUSU5ERVhfTVVMVElQT0xZR09OLmdldD1mdW5jdGlvbigpe3JldHVybiA2fSxKbC5TT1JUSU5ERVhfR0VPTUVUUllDT0xMRUNUSU9OLmdldD1mdW5jdGlvbigpe3JldHVybiA3fSxKbC5nZW9tZXRyeUNoYW5nZWRGaWx0ZXIuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIFpsfSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhXbCxKbCk7dmFyIFpsPWZ1bmN0aW9uKCl7fTtabC5pbnRlcmZhY2VzXz1mdW5jdGlvbigpe3JldHVybltIbF19LFpsLmZpbHRlcj1mdW5jdGlvbih0KXt0Lmdlb21ldHJ5Q2hhbmdlZEFjdGlvbigpfTt2YXIgS2w9ZnVuY3Rpb24oKXt9O0tsLnByb3RvdHlwZS5maWx0ZXI9ZnVuY3Rpb24odCl7fSxLbC5wcm90b3R5cGUuaW50ZXJmYWNlc189ZnVuY3Rpb24oKXtyZXR1cm5bXX0sS2wucHJvdG90eXBlLmdldENsYXNzPWZ1bmN0aW9uKCl7cmV0dXJuIEtsfTt2YXIgUWw9ZnVuY3Rpb24oKXt9LCRsPXtNb2QyQm91bmRhcnlOb2RlUnVsZTp7Y29uZmlndXJhYmxlOiEwfSxFbmRQb2ludEJvdW5kYXJ5Tm9kZVJ1bGU6e2NvbmZpZ3VyYWJsZTohMH0sTXVsdGlWYWxlbnRFbmRQb2ludEJvdW5kYXJ5Tm9kZVJ1bGU6e2NvbmZpZ3VyYWJsZTohMH0sTW9ub1ZhbGVudEVuZFBvaW50Qm91bmRhcnlOb2RlUnVsZTp7Y29uZmlndXJhYmxlOiEwfSxNT0QyX0JPVU5EQVJZX1JVTEU6e2NvbmZpZ3VyYWJsZTohMH0sRU5EUE9JTlRfQk9VTkRBUllfUlVMRTp7Y29uZmlndXJhYmxlOiEwfSxNVUxUSVZBTEVOVF9FTkRQT0lOVF9CT1VOREFSWV9SVUxFOntjb25maWd1cmFibGU6ITB9LE1PTk9WQUxFTlRfRU5EUE9JTlRfQk9VTkRBUllfUlVMRTp7Y29uZmlndXJhYmxlOiEwfSxPR0NfU0ZTX0JPVU5EQVJZX1JVTEU6e2NvbmZpZ3VyYWJsZTohMH19O1FsLnByb3RvdHlwZS5pc0luQm91bmRhcnk9ZnVuY3Rpb24odCl7fSxRbC5wcm90b3R5cGUuaW50ZXJmYWNlc189ZnVuY3Rpb24oKXtyZXR1cm5bXX0sUWwucHJvdG90eXBlLmdldENsYXNzPWZ1bmN0aW9uKCl7cmV0dXJuIFFsfSwkbC5Nb2QyQm91bmRhcnlOb2RlUnVsZS5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGN9LCRsLkVuZFBvaW50Qm91bmRhcnlOb2RlUnVsZS5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gZWN9LCRsLk11bHRpVmFsZW50RW5kUG9pbnRCb3VuZGFyeU5vZGVSdWxlLmdldD1mdW5jdGlvbigpe3JldHVybiBuY30sJGwuTW9ub1ZhbGVudEVuZFBvaW50Qm91bmRhcnlOb2RlUnVsZS5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gcmN9LCRsLk1PRDJfQk9VTkRBUllfUlVMRS5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHRjfSwkbC5FTkRQT0lOVF9CT1VOREFSWV9SVUxFLmdldD1mdW5jdGlvbigpe3JldHVybiBuZXcgZWN9LCRsLk1VTFRJVkFMRU5UX0VORFBPSU5UX0JPVU5EQVJZX1JVTEUuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBuY30sJGwuTU9OT1ZBTEVOVF9FTkRQT0lOVF9CT1VOREFSWV9SVUxFLmdldD1mdW5jdGlvbigpe3JldHVybiBuZXcgcmN9LCRsLk9HQ19TRlNfQk9VTkRBUllfUlVMRS5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gUWwuTU9EMl9CT1VOREFSWV9SVUxFfSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhRbCwkbCk7dmFyIHRjPWZ1bmN0aW9uKCl7fTt0Yy5wcm90b3R5cGUuaXNJbkJvdW5kYXJ5PWZ1bmN0aW9uKHQpe3JldHVybiB0JTI9PTF9LHRjLnByb3RvdHlwZS5pbnRlcmZhY2VzXz1mdW5jdGlvbigpe3JldHVybltRbF19LHRjLnByb3RvdHlwZS5nZXRDbGFzcz1mdW5jdGlvbigpe3JldHVybiB0Y307dmFyIGVjPWZ1bmN0aW9uKCl7fTtlYy5wcm90b3R5cGUuaXNJbkJvdW5kYXJ5PWZ1bmN0aW9uKHQpe3JldHVybiB0PjB9LGVjLnByb3RvdHlwZS5pbnRlcmZhY2VzXz1mdW5jdGlvbigpe3JldHVybltRbF19LGVjLnByb3RvdHlwZS5nZXRDbGFzcz1mdW5jdGlvbigpe3JldHVybiBlY307dmFyIG5jPWZ1bmN0aW9uKCl7fTtuYy5wcm90b3R5cGUuaXNJbkJvdW5kYXJ5PWZ1bmN0aW9uKHQpe3JldHVybiB0PjF9LG5jLnByb3RvdHlwZS5pbnRlcmZhY2VzXz1mdW5jdGlvbigpe3JldHVybltRbF19LG5jLnByb3RvdHlwZS5nZXRDbGFzcz1mdW5jdGlvbigpe3JldHVybiBuY307dmFyIHJjPWZ1bmN0aW9uKCl7fTtyYy5wcm90b3R5cGUuaXNJbkJvdW5kYXJ5PWZ1bmN0aW9uKHQpe3JldHVybiAxPT09dH0scmMucHJvdG90eXBlLmludGVyZmFjZXNfPWZ1bmN0aW9uKCl7cmV0dXJuW1FsXX0scmMucHJvdG90eXBlLmdldENsYXNzPWZ1bmN0aW9uKCl7cmV0dXJuIHJjfTt2YXIgaWM9ZnVuY3Rpb24oKXt9O2Z1bmN0aW9uIG9jKHQpe3RoaXMubWVzc2FnZT10fHwiIn1pYy5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKCl7fSxpYy5wcm90b3R5cGUuYWRkQWxsPWZ1bmN0aW9uKCl7fSxpYy5wcm90b3R5cGUuaXNFbXB0eT1mdW5jdGlvbigpe30saWMucHJvdG90eXBlLml0ZXJhdG9yPWZ1bmN0aW9uKCl7fSxpYy5wcm90b3R5cGUuc2l6ZT1mdW5jdGlvbigpe30saWMucHJvdG90eXBlLnRvQXJyYXk9ZnVuY3Rpb24oKXt9LGljLnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24oKXt9LG9jLnByb3RvdHlwZT1uZXcgRXJyb3Isb2MucHJvdG90eXBlLm5hbWU9IkluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb24iO3ZhciBzYz1mdW5jdGlvbigpe307c2MucHJvdG90eXBlLmhhc05leHQ9ZnVuY3Rpb24oKXt9LHNjLnByb3RvdHlwZS5uZXh0PWZ1bmN0aW9uKCl7fSxzYy5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKCl7fTt2YXIgYWM9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3QuYXBwbHkodGhpcyxhcmd1bWVudHMpfXJldHVybiB0JiYoZS5fX3Byb3RvX189dCksZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSksZS5wcm90b3R5cGUuY29uc3RydWN0b3I9ZSxlLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24oKXt9LGUucHJvdG90eXBlLnNldD1mdW5jdGlvbigpe30sZS5wcm90b3R5cGUuaXNFbXB0eT1mdW5jdGlvbigpe30sZX0oaWMpO2Z1bmN0aW9uIHVjKHQpe3RoaXMubWVzc2FnZT10fHwiIn11Yy5wcm90b3R5cGU9bmV3IEVycm9yLHVjLnByb3RvdHlwZS5uYW1lPSJOb1N1Y2hFbGVtZW50RXhjZXB0aW9uIjt2YXIgbGM9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3QuY2FsbCh0aGlzKSx0aGlzLmFycmF5Xz1bXSxhcmd1bWVudHNbMF1pbnN0YW5jZW9mIGljJiZ0aGlzLmFkZEFsbChhcmd1bWVudHNbMF0pfXJldHVybiB0JiYoZS5fX3Byb3RvX189dCksZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSksZS5wcm90b3R5cGUuY29uc3RydWN0b3I9ZSxlLnByb3RvdHlwZS5lbnN1cmVDYXBhY2l0eT1mdW5jdGlvbigpe30sZS5wcm90b3R5cGUuaW50ZXJmYWNlc189ZnVuY3Rpb24oKXtyZXR1cm5bdCxpY119LGUucHJvdG90eXBlLmFkZD1mdW5jdGlvbih0KXtyZXR1cm4gMT09PWFyZ3VtZW50cy5sZW5ndGg/dGhpcy5hcnJheV8ucHVzaCh0KTp0aGlzLmFycmF5Xy5zcGxpY2UoYXJndW1lbnRzWzBdLGFyZ3VtZW50c1sxXSksITB9LGUucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKCl7dGhpcy5hcnJheV89W119LGUucHJvdG90eXBlLmFkZEFsbD1mdW5jdGlvbih0KXtmb3IodmFyIGU9dC5pdGVyYXRvcigpO2UuaGFzTmV4dCgpOyl0aGlzLmFkZChlLm5leHQoKSk7cmV0dXJuITB9LGUucHJvdG90eXBlLnNldD1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuYXJyYXlfW3RdO3JldHVybiB0aGlzLmFycmF5X1t0XT1lLG59LGUucHJvdG90eXBlLml0ZXJhdG9yPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBjYyh0aGlzKX0sZS5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKHQpe2lmKHQ8MHx8dD49dGhpcy5zaXplKCkpdGhyb3cgbmV3IG9jO3JldHVybiB0aGlzLmFycmF5X1t0XX0sZS5wcm90b3R5cGUuaXNFbXB0eT1mdW5jdGlvbigpe3JldHVybiAwPT09dGhpcy5hcnJheV8ubGVuZ3RofSxlLnByb3RvdHlwZS5zaXplPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYXJyYXlfLmxlbmd0aH0sZS5wcm90b3R5cGUudG9BcnJheT1mdW5jdGlvbigpe2Zvcih2YXIgdD1bXSxlPTAsbj10aGlzLmFycmF5Xy5sZW5ndGg7ZTxuO2UrKyl0LnB1c2godGhpcy5hcnJheV9bZV0pO3JldHVybiB0fSxlLnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPSExLG49MCxyPXRoaXMuYXJyYXlfLmxlbmd0aDtuPHI7bisrKWlmKHRoaXMuYXJyYXlfW25dPT09dCl7dGhpcy5hcnJheV8uc3BsaWNlKG4sMSksZT0hMDticmVha31yZXR1cm4gZX0sZX0oYWMpLGNjPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSl7dC5jYWxsKHRoaXMpLHRoaXMuYXJyYXlMaXN0Xz1lLHRoaXMucG9zaXRpb25fPTB9cmV0dXJuIHQmJihlLl9fcHJvdG9fXz10KSxlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSxlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1lLGUucHJvdG90eXBlLm5leHQ9ZnVuY3Rpb24oKXtpZih0aGlzLnBvc2l0aW9uXz09PXRoaXMuYXJyYXlMaXN0Xy5zaXplKCkpdGhyb3cgbmV3IHVjO3JldHVybiB0aGlzLmFycmF5TGlzdF8uZ2V0KHRoaXMucG9zaXRpb25fKyspfSxlLnByb3RvdHlwZS5oYXNOZXh0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucG9zaXRpb25fPHRoaXMuYXJyYXlMaXN0Xy5zaXplKCl9LGUucHJvdG90eXBlLnNldD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5hcnJheUxpc3RfLnNldCh0aGlzLnBvc2l0aW9uXy0xLHQpfSxlLnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24oKXt0aGlzLmFycmF5TGlzdF8ucmVtb3ZlKHRoaXMuYXJyYXlMaXN0Xy5nZXQodGhpcy5wb3NpdGlvbl8pKX0sZX0oc2MpLGhjPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXtpZih0LmNhbGwodGhpcyksMD09PWFyZ3VtZW50cy5sZW5ndGgpO2Vsc2UgaWYoMT09PWFyZ3VtZW50cy5sZW5ndGgpe3ZhciBlPWFyZ3VtZW50c1swXTt0aGlzLmVuc3VyZUNhcGFjaXR5KGUubGVuZ3RoKSx0aGlzLmFkZChlLCEwKX1lbHNlIGlmKDI9PT1hcmd1bWVudHMubGVuZ3RoKXt2YXIgbj1hcmd1bWVudHNbMF0scj1hcmd1bWVudHNbMV07dGhpcy5lbnN1cmVDYXBhY2l0eShuLmxlbmd0aCksdGhpcy5hZGQobixyKX19dCYmKGUuX19wcm90b19fPXQpLGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpLGUucHJvdG90eXBlLmNvbnN0cnVjdG9yPWU7dmFyIG49e2Nvb3JkQXJyYXlUeXBlOntjb25maWd1cmFibGU6ITB9fTtyZXR1cm4gbi5jb29yZEFycmF5VHlwZS5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IEFycmF5KDApLmZpbGwobnVsbCl9LGUucHJvdG90eXBlLmdldENvb3JkaW5hdGU9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZ2V0KHQpfSxlLnByb3RvdHlwZS5hZGRBbGw9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2lmKDI9PT1hcmd1bWVudHMubGVuZ3RoKXtmb3IodmFyIG49YXJndW1lbnRzWzBdLHI9YXJndW1lbnRzWzFdLGk9ITEsbz1uLml0ZXJhdG9yKCk7by5oYXNOZXh0KCk7KWUuYWRkKG8ubmV4dCgpLHIpLGk9ITA7cmV0dXJuIGl9cmV0dXJuIHQucHJvdG90eXBlLmFkZEFsbC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LGUucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPXQucHJvdG90eXBlLmNsb25lLmNhbGwodGhpcyksbj0wO248dGhpcy5zaXplKCk7bisrKWUuYWRkKG4sdGhpcy5nZXQobikuY29weSgpKTtyZXR1cm4gZX0sZS5wcm90b3R5cGUudG9Db29yZGluYXRlQXJyYXk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50b0FycmF5KGUuY29vcmRBcnJheVR5cGUpfSxlLnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2lmKDE9PT1hcmd1bWVudHMubGVuZ3RoKXt2YXIgbj1hcmd1bWVudHNbMF07dC5wcm90b3R5cGUuYWRkLmNhbGwodGhpcyxuKX1lbHNlIGlmKDI9PT1hcmd1bWVudHMubGVuZ3RoKXtpZihhcmd1bWVudHNbMF1pbnN0YW5jZW9mIEFycmF5JiYiYm9vbGVhbiI9PXR5cGVvZiBhcmd1bWVudHNbMV0pe3ZhciByPWFyZ3VtZW50c1swXSxpPWFyZ3VtZW50c1sxXTtyZXR1cm4gdGhpcy5hZGQocixpLCEwKSwhMH1pZihhcmd1bWVudHNbMF1pbnN0YW5jZW9mIHVsJiYiYm9vbGVhbiI9PXR5cGVvZiBhcmd1bWVudHNbMV0pe3ZhciBvPWFyZ3VtZW50c1swXSxzPWFyZ3VtZW50c1sxXTtpZighcyYmdGhpcy5zaXplKCk+PTEpe3ZhciBhPXRoaXMuZ2V0KHRoaXMuc2l6ZSgpLTEpO2lmKGEuZXF1YWxzMkQobykpcmV0dXJuIG51bGx9dC5wcm90b3R5cGUuYWRkLmNhbGwodGhpcyxvKX1lbHNlIGlmKGFyZ3VtZW50c1swXWluc3RhbmNlb2YgT2JqZWN0JiYiYm9vbGVhbiI9PXR5cGVvZiBhcmd1bWVudHNbMV0pe3ZhciB1PWFyZ3VtZW50c1swXSxsPWFyZ3VtZW50c1sxXTtyZXR1cm4gdGhpcy5hZGQodSxsKSwhMH19ZWxzZSBpZigzPT09YXJndW1lbnRzLmxlbmd0aCl7aWYoImJvb2xlYW4iPT10eXBlb2YgYXJndW1lbnRzWzJdJiZhcmd1bWVudHNbMF1pbnN0YW5jZW9mIEFycmF5JiYiYm9vbGVhbiI9PXR5cGVvZiBhcmd1bWVudHNbMV0pe3ZhciBjPWFyZ3VtZW50c1swXSxoPWFyZ3VtZW50c1sxXSxwPWFyZ3VtZW50c1syXTtpZihwKWZvcih2YXIgZj0wO2Y8Yy5sZW5ndGg7ZisrKWUuYWRkKGNbZl0saCk7ZWxzZSBmb3IodmFyIGc9Yy5sZW5ndGgtMTtnPj0wO2ctLSllLmFkZChjW2ddLGgpO3JldHVybiEwfWlmKCJib29sZWFuIj09dHlwZW9mIGFyZ3VtZW50c1syXSYmTnVtYmVyLmlzSW50ZWdlcihhcmd1bWVudHNbMF0pJiZhcmd1bWVudHNbMV1pbnN0YW5jZW9mIHVsKXt2YXIgZD1hcmd1bWVudHNbMF0seT1hcmd1bWVudHNbMV0sdj1hcmd1bWVudHNbMl07aWYoIXYpe3ZhciBfPXRoaXMuc2l6ZSgpO2lmKF8+MCl7aWYoZD4wKXt2YXIgbT10aGlzLmdldChkLTEpO2lmKG0uZXF1YWxzMkQoeSkpcmV0dXJuIG51bGx9aWYoZDxfKXt2YXIgeD10aGlzLmdldChkKTtpZih4LmVxdWFsczJEKHkpKXJldHVybiBudWxsfX19dC5wcm90b3R5cGUuYWRkLmNhbGwodGhpcyxkLHkpfX1lbHNlIGlmKDQ9PT1hcmd1bWVudHMubGVuZ3RoKXt2YXIgRT1hcmd1bWVudHNbMF0sYj1hcmd1bWVudHNbMV0sdz1hcmd1bWVudHNbMl0sST1hcmd1bWVudHNbM10sTj0xO3c+SSYmKE49LTEpO2Zvcih2YXIgUz13O1MhPT1JO1MrPU4pZS5hZGQoRVtTXSxiKTtyZXR1cm4hMH19LGUucHJvdG90eXBlLmNsb3NlUmluZz1mdW5jdGlvbigpe3RoaXMuc2l6ZSgpPjAmJnRoaXMuYWRkKG5ldyB1bCh0aGlzLmdldCgwKSksITEpfSxlLnByb3RvdHlwZS5pbnRlcmZhY2VzXz1mdW5jdGlvbigpe3JldHVybltdfSxlLnByb3RvdHlwZS5nZXRDbGFzcz1mdW5jdGlvbigpe3JldHVybiBlfSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLG4pLGV9KGxjKSxwYz1mdW5jdGlvbigpe30sZmM9e0ZvcndhcmRDb21wYXJhdG9yOntjb25maWd1cmFibGU6ITB9LEJpZGlyZWN0aW9uYWxDb21wYXJhdG9yOntjb25maWd1cmFibGU6ITB9LGNvb3JkQXJyYXlUeXBlOntjb25maWd1cmFibGU6ITB9fTtmYy5Gb3J3YXJkQ29tcGFyYXRvci5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gZ2N9LGZjLkJpZGlyZWN0aW9uYWxDb21wYXJhdG9yLmdldD1mdW5jdGlvbigpe3JldHVybiBkY30sZmMuY29vcmRBcnJheVR5cGUuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBBcnJheSgwKS5maWxsKG51bGwpfSxwYy5wcm90b3R5cGUuaW50ZXJmYWNlc189ZnVuY3Rpb24oKXtyZXR1cm5bXX0scGMucHJvdG90eXBlLmdldENsYXNzPWZ1bmN0aW9uKCl7cmV0dXJuIHBjfSxwYy5pc1Jpbmc9ZnVuY3Rpb24odCl7cmV0dXJuISh0Lmxlbmd0aDw0KSYmISF0WzBdLmVxdWFsczJEKHRbdC5sZW5ndGgtMV0pfSxwYy5wdE5vdEluTGlzdD1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKXt2YXIgcj10W25dO2lmKHBjLmluZGV4T2YocixlKTwwKXJldHVybiByfXJldHVybiBudWxsfSxwYy5zY3JvbGw9ZnVuY3Rpb24odCxlKXt2YXIgbj1wYy5pbmRleE9mKGUsdCk7aWYobjwwKXJldHVybiBudWxsO3ZhciByPW5ldyBBcnJheSh0Lmxlbmd0aCkuZmlsbChudWxsKTtQbC5hcnJheWNvcHkodCxuLHIsMCx0Lmxlbmd0aC1uKSxQbC5hcnJheWNvcHkodCwwLHIsdC5sZW5ndGgtbixuKSxQbC5hcnJheWNvcHkociwwLHQsMCx0Lmxlbmd0aCl9LHBjLmVxdWFscz1mdW5jdGlvbigpe2lmKDI9PT1hcmd1bWVudHMubGVuZ3RoKXt2YXIgdD1hcmd1bWVudHNbMF0sZT1hcmd1bWVudHNbMV07aWYodD09PWUpcmV0dXJuITA7aWYobnVsbD09PXR8fG51bGw9PT1lKXJldHVybiExO2lmKHQubGVuZ3RoIT09ZS5sZW5ndGgpcmV0dXJuITE7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspaWYoIXRbbl0uZXF1YWxzKGVbbl0pKXJldHVybiExO3JldHVybiEwfWlmKDM9PT1hcmd1bWVudHMubGVuZ3RoKXt2YXIgcj1hcmd1bWVudHNbMF0saT1hcmd1bWVudHNbMV0sbz1hcmd1bWVudHNbMl07aWYocj09PWkpcmV0dXJuITA7aWYobnVsbD09PXJ8fG51bGw9PT1pKXJldHVybiExO2lmKHIubGVuZ3RoIT09aS5sZW5ndGgpcmV0dXJuITE7Zm9yKHZhciBzPTA7czxyLmxlbmd0aDtzKyspaWYoMCE9PW8uY29tcGFyZShyW3NdLGlbc10pKXJldHVybiExO3JldHVybiEwfX0scGMuaW50ZXJzZWN0aW9uPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPW5ldyBoYyxyPTA7cjx0Lmxlbmd0aDtyKyspZS5pbnRlcnNlY3RzKHRbcl0pJiZuLmFkZCh0W3JdLCEwKTtyZXR1cm4gbi50b0Nvb3JkaW5hdGVBcnJheSgpfSxwYy5oYXNSZXBlYXRlZFBvaW50cz1mdW5jdGlvbih0KXtmb3IodmFyIGU9MTtlPHQubGVuZ3RoO2UrKylpZih0W2UtMV0uZXF1YWxzKHRbZV0pKXJldHVybiEwO3JldHVybiExfSxwYy5yZW1vdmVSZXBlYXRlZFBvaW50cz1mdW5jdGlvbih0KXtyZXR1cm4gcGMuaGFzUmVwZWF0ZWRQb2ludHModCk/bmV3IGhjKHQsITEpLnRvQ29vcmRpbmF0ZUFycmF5KCk6dH0scGMucmV2ZXJzZT1mdW5jdGlvbih0KXtmb3IodmFyIGU9dC5sZW5ndGgtMSxuPU1hdGgudHJ1bmMoZS8yKSxyPTA7cjw9bjtyKyspe3ZhciBpPXRbcl07dFtyXT10W2Utcl0sdFtlLXJdPWl9fSxwYy5yZW1vdmVOdWxsPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wLG49MDtuPHQubGVuZ3RoO24rKyludWxsIT09dFtuXSYmZSsrO3ZhciByPW5ldyBBcnJheShlKS5maWxsKG51bGwpO2lmKDA9PT1lKXJldHVybiByO2Zvcih2YXIgaT0wLG89MDtvPHQubGVuZ3RoO28rKyludWxsIT09dFtvXSYmKHJbaSsrXT10W29dKTtyZXR1cm4gcn0scGMuY29weURlZXA9ZnVuY3Rpb24oKXtpZigxPT09YXJndW1lbnRzLmxlbmd0aCl7Zm9yKHZhciB0PWFyZ3VtZW50c1swXSxlPW5ldyBBcnJheSh0Lmxlbmd0aCkuZmlsbChudWxsKSxuPTA7bjx0Lmxlbmd0aDtuKyspZVtuXT1uZXcgdWwodFtuXSk7cmV0dXJuIGV9aWYoNT09PWFyZ3VtZW50cy5sZW5ndGgpZm9yKHZhciByPWFyZ3VtZW50c1swXSxpPWFyZ3VtZW50c1sxXSxvPWFyZ3VtZW50c1syXSxzPWFyZ3VtZW50c1szXSxhPWFyZ3VtZW50c1s0XSx1PTA7dTxhO3UrKylvW3MrdV09bmV3IHVsKHJbaSt1XSl9LHBjLmlzRXF1YWxSZXZlcnNlZD1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKXt2YXIgcj10W25dLGk9ZVt0Lmxlbmd0aC1uLTFdO2lmKDAhPT1yLmNvbXBhcmVUbyhpKSlyZXR1cm4hMX1yZXR1cm4hMH0scGMuZW52ZWxvcGU9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPW5ldyBMbCxuPTA7bjx0Lmxlbmd0aDtuKyspZS5leHBhbmRUb0luY2x1ZGUodFtuXSk7cmV0dXJuIGV9LHBjLnRvQ29vcmRpbmF0ZUFycmF5PWZ1bmN0aW9uKHQpe3JldHVybiB0LnRvQXJyYXkocGMuY29vcmRBcnJheVR5cGUpfSxwYy5hdExlYXN0TkNvb3JkaW5hdGVzT3JOb3RoaW5nPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGUubGVuZ3RoPj10P2U6W119LHBjLmluZGV4T2Y9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKylpZih0LmVxdWFscyhlW25dKSlyZXR1cm4gbjtyZXR1cm4tMX0scGMuaW5jcmVhc2luZ0RpcmVjdGlvbj1mdW5jdGlvbih0KXtmb3IodmFyIGU9MDtlPE1hdGgudHJ1bmModC5sZW5ndGgvMik7ZSsrKXt2YXIgbj10Lmxlbmd0aC0xLWUscj10W2VdLmNvbXBhcmVUbyh0W25dKTtpZigwIT09cilyZXR1cm4gcn1yZXR1cm4gMX0scGMuY29tcGFyZT1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj0wO248dC5sZW5ndGgmJm48ZS5sZW5ndGg7KXt2YXIgcj10W25dLmNvbXBhcmVUbyhlW25dKTtpZigwIT09cilyZXR1cm4gcjtuKyt9cmV0dXJuIG48ZS5sZW5ndGg/LTE6bjx0Lmxlbmd0aD8xOjB9LHBjLm1pbkNvb3JkaW5hdGU9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPW51bGwsbj0wO248dC5sZW5ndGg7bisrKShudWxsPT09ZXx8ZS5jb21wYXJlVG8odFtuXSk+MCkmJihlPXRbbl0pO3JldHVybiBlfSxwYy5leHRyYWN0PWZ1bmN0aW9uKHQsZSxuKXtlPWRsLmNsYW1wKGUsMCx0Lmxlbmd0aCk7dmFyIHI9KG49ZGwuY2xhbXAobiwtMSx0Lmxlbmd0aCkpLWUrMTtuPDAmJihyPTApLGU+PXQubGVuZ3RoJiYocj0wKSxuPGUmJihyPTApO3ZhciBpPW5ldyBBcnJheShyKS5maWxsKG51bGwpO2lmKDA9PT1yKXJldHVybiBpO2Zvcih2YXIgbz0wLHM9ZTtzPD1uO3MrKylpW28rK109dFtzXTtyZXR1cm4gaX0sT2JqZWN0LmRlZmluZVByb3BlcnRpZXMocGMsZmMpO3ZhciBnYz1mdW5jdGlvbigpe307Z2MucHJvdG90eXBlLmNvbXBhcmU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gcGMuY29tcGFyZSh0LGUpfSxnYy5wcm90b3R5cGUuaW50ZXJmYWNlc189ZnVuY3Rpb24oKXtyZXR1cm5bc2xdfSxnYy5wcm90b3R5cGUuZ2V0Q2xhc3M9ZnVuY3Rpb24oKXtyZXR1cm4gZ2N9O3ZhciBkYz1mdW5jdGlvbigpe307ZGMucHJvdG90eXBlLmNvbXBhcmU9ZnVuY3Rpb24odCxlKXt2YXIgbj10LHI9ZTtpZihuLmxlbmd0aDxyLmxlbmd0aClyZXR1cm4tMTtpZihuLmxlbmd0aD5yLmxlbmd0aClyZXR1cm4gMTtpZigwPT09bi5sZW5ndGgpcmV0dXJuIDA7dmFyIGk9cGMuY29tcGFyZShuLHIpO3JldHVybiBwYy5pc0VxdWFsUmV2ZXJzZWQobixyKT8wOml9LGRjLnByb3RvdHlwZS5PTERjb21wYXJlPWZ1bmN0aW9uKHQsZSl7dmFyIG49dCxyPWU7aWYobi5sZW5ndGg8ci5sZW5ndGgpcmV0dXJuLTE7aWYobi5sZW5ndGg+ci5sZW5ndGgpcmV0dXJuIDE7aWYoMD09PW4ubGVuZ3RoKXJldHVybiAwO2Zvcih2YXIgaT1wYy5pbmNyZWFzaW5nRGlyZWN0aW9uKG4pLG89cGMuaW5jcmVhc2luZ0RpcmVjdGlvbihyKSxzPWk+MD8wOm4ubGVuZ3RoLTEsYT1vPjA/MDpuLmxlbmd0aC0xLHU9MDt1PG4ubGVuZ3RoO3UrKyl7dmFyIGw9bltzXS5jb21wYXJlVG8oclthXSk7aWYoMCE9PWwpcmV0dXJuIGw7cys9aSxhKz1vfXJldHVybiAwfSxkYy5wcm90b3R5cGUuaW50ZXJmYWNlc189ZnVuY3Rpb24oKXtyZXR1cm5bc2xdfSxkYy5wcm90b3R5cGUuZ2V0Q2xhc3M9ZnVuY3Rpb24oKXtyZXR1cm4gZGN9O3ZhciB5Yz1mdW5jdGlvbigpe307eWMucHJvdG90eXBlLmdldD1mdW5jdGlvbigpe30seWMucHJvdG90eXBlLnB1dD1mdW5jdGlvbigpe30seWMucHJvdG90eXBlLnNpemU9ZnVuY3Rpb24oKXt9LHljLnByb3RvdHlwZS52YWx1ZXM9ZnVuY3Rpb24oKXt9LHljLnByb3RvdHlwZS5lbnRyeVNldD1mdW5jdGlvbigpe307dmFyIHZjPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX1yZXR1cm4gdCYmKGUuX19wcm90b19fPXQpLGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpLGUucHJvdG90eXBlLmNvbnN0cnVjdG9yPWUsZX0oeWMpO2Z1bmN0aW9uIF9jKHQpe3RoaXMubWVzc2FnZT10fHwiIn1mdW5jdGlvbiBtYygpe31fYy5wcm90b3R5cGU9bmV3IEVycm9yLF9jLnByb3RvdHlwZS5uYW1lPSJPcGVyYXRpb25Ob3RTdXBwb3J0ZWQiLG1jLnByb3RvdHlwZT1uZXcgaWMsbWMucHJvdG90eXBlLmNvbnRhaW5zPWZ1bmN0aW9uKCl7fTt2YXIgeGM9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3QuY2FsbCh0aGlzKSx0aGlzLmFycmF5Xz1bXSxhcmd1bWVudHNbMF1pbnN0YW5jZW9mIGljJiZ0aGlzLmFkZEFsbChhcmd1bWVudHNbMF0pfXJldHVybiB0JiYoZS5fX3Byb3RvX189dCksZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSksZS5wcm90b3R5cGUuY29uc3RydWN0b3I9ZSxlLnByb3RvdHlwZS5jb250YWlucz1mdW5jdGlvbih0KXtmb3IodmFyIGU9MCxuPXRoaXMuYXJyYXlfLmxlbmd0aDtlPG47ZSsrKXtpZih0aGlzLmFycmF5X1tlXT09PXQpcmV0dXJuITB9cmV0dXJuITF9LGUucHJvdG90eXBlLmFkZD1mdW5jdGlvbih0KXtyZXR1cm4hdGhpcy5jb250YWlucyh0KSYmKHRoaXMuYXJyYXlfLnB1c2godCksITApfSxlLnByb3RvdHlwZS5hZGRBbGw9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXQuaXRlcmF0b3IoKTtlLmhhc05leHQoKTspdGhpcy5hZGQoZS5uZXh0KCkpO3JldHVybiEwfSxlLnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24odCl7dGhyb3cgbmV3IEVycm9yfSxlLnByb3RvdHlwZS5zaXplPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYXJyYXlfLmxlbmd0aH0sZS5wcm90b3R5cGUuaXNFbXB0eT1mdW5jdGlvbigpe3JldHVybiAwPT09dGhpcy5hcnJheV8ubGVuZ3RofSxlLnByb3RvdHlwZS50b0FycmF5PWZ1bmN0aW9uKCl7Zm9yKHZhciB0PVtdLGU9MCxuPXRoaXMuYXJyYXlfLmxlbmd0aDtlPG47ZSsrKXQucHVzaCh0aGlzLmFycmF5X1tlXSk7cmV0dXJuIHR9LGUucHJvdG90eXBlLml0ZXJhdG9yPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBFYyh0aGlzKX0sZX0obWMpLEVjPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSl7dC5jYWxsKHRoaXMpLHRoaXMuaGFzaFNldF89ZSx0aGlzLnBvc2l0aW9uXz0wfXJldHVybiB0JiYoZS5fX3Byb3RvX189dCksZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSksZS5wcm90b3R5cGUuY29uc3RydWN0b3I9ZSxlLnByb3RvdHlwZS5uZXh0PWZ1bmN0aW9uKCl7aWYodGhpcy5wb3NpdGlvbl89PT10aGlzLmhhc2hTZXRfLnNpemUoKSl0aHJvdyBuZXcgdWM7cmV0dXJuIHRoaXMuaGFzaFNldF8uYXJyYXlfW3RoaXMucG9zaXRpb25fKytdfSxlLnByb3RvdHlwZS5oYXNOZXh0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucG9zaXRpb25fPHRoaXMuaGFzaFNldF8uc2l6ZSgpfSxlLnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24oKXt0aHJvdyBuZXcgX2N9LGV9KHNjKTtmdW5jdGlvbiBiYyh0KXtyZXR1cm4gbnVsbD09PXQ/MDp0LmNvbG9yfWZ1bmN0aW9uIHdjKHQpe3JldHVybiBudWxsPT09dD9udWxsOnQucGFyZW50fWZ1bmN0aW9uIEljKHQsZSl7bnVsbCE9PXQmJih0LmNvbG9yPWUpfWZ1bmN0aW9uIE5jKHQpe3JldHVybiBudWxsPT09dD9udWxsOnQubGVmdH1mdW5jdGlvbiBTYyh0KXtyZXR1cm4gbnVsbD09PXQ/bnVsbDp0LnJpZ2h0fWZ1bmN0aW9uIENjKCl7dGhpcy5yb290Xz1udWxsLHRoaXMuc2l6ZV89MH1DYy5wcm90b3R5cGU9bmV3IHZjLENjLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMucm9vdF87bnVsbCE9PWU7KXt2YXIgbj10LmNvbXBhcmVUbyhlLmtleSk7aWYobjwwKWU9ZS5sZWZ0O2Vsc2V7aWYoIShuPjApKXJldHVybiBlLnZhbHVlO2U9ZS5yaWdodH19cmV0dXJuIG51bGx9LENjLnByb3RvdHlwZS5wdXQ9ZnVuY3Rpb24odCxlKXtpZihudWxsPT09dGhpcy5yb290XylyZXR1cm4gdGhpcy5yb290Xz17a2V5OnQsdmFsdWU6ZSxsZWZ0Om51bGwscmlnaHQ6bnVsbCxwYXJlbnQ6bnVsbCxjb2xvcjowLGdldFZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudmFsdWV9LGdldEtleTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmtleX19LHRoaXMuc2l6ZV89MSxudWxsO3ZhciBuLHIsaT10aGlzLnJvb3RfO2Rve2lmKG49aSwocj10LmNvbXBhcmVUbyhpLmtleSkpPDApaT1pLmxlZnQ7ZWxzZXtpZighKHI+MCkpe3ZhciBvPWkudmFsdWU7cmV0dXJuIGkudmFsdWU9ZSxvfWk9aS5yaWdodH19d2hpbGUobnVsbCE9PWkpO3ZhciBzPXtrZXk6dCxsZWZ0Om51bGwscmlnaHQ6bnVsbCx2YWx1ZTplLHBhcmVudDpuLGNvbG9yOjAsZ2V0VmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy52YWx1ZX0sZ2V0S2V5OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMua2V5fX07cmV0dXJuIHI8MD9uLmxlZnQ9czpuLnJpZ2h0PXMsdGhpcy5maXhBZnRlckluc2VydGlvbihzKSx0aGlzLnNpemVfKyssbnVsbH0sQ2MucHJvdG90eXBlLmZpeEFmdGVySW5zZXJ0aW9uPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7Zm9yKHQuY29sb3I9MTtudWxsIT10JiZ0IT09dGhpcy5yb290XyYmMT09PXQucGFyZW50LmNvbG9yOylpZih3Yyh0KT09PU5jKHdjKHdjKHQpKSkpe3ZhciBuPVNjKHdjKHdjKHQpKSk7MT09PWJjKG4pPyhJYyh3Yyh0KSwwKSxJYyhuLDApLEljKHdjKHdjKHQpKSwxKSx0PXdjKHdjKHQpKSk6KHQ9PT1TYyh3Yyh0KSkmJih0PXdjKHQpLGUucm90YXRlTGVmdCh0KSksSWMod2ModCksMCksSWMod2Mod2ModCkpLDEpLGUucm90YXRlUmlnaHQod2Mod2ModCkpKSl9ZWxzZXt2YXIgcj1OYyh3Yyh3Yyh0KSkpOzE9PT1iYyhyKT8oSWMod2ModCksMCksSWMociwwKSxJYyh3Yyh3Yyh0KSksMSksdD13Yyh3Yyh0KSkpOih0PT09TmMod2ModCkpJiYodD13Yyh0KSxlLnJvdGF0ZVJpZ2h0KHQpKSxJYyh3Yyh0KSwwKSxJYyh3Yyh3Yyh0KSksMSksZS5yb3RhdGVMZWZ0KHdjKHdjKHQpKSkpfXRoaXMucm9vdF8uY29sb3I9MH0sQ2MucHJvdG90eXBlLnZhbHVlcz1mdW5jdGlvbigpe3ZhciB0PW5ldyBsYyxlPXRoaXMuZ2V0Rmlyc3RFbnRyeSgpO2lmKG51bGwhPT1lKWZvcih0LmFkZChlLnZhbHVlKTtudWxsIT09KGU9Q2Muc3VjY2Vzc29yKGUpKTspdC5hZGQoZS52YWx1ZSk7cmV0dXJuIHR9LENjLnByb3RvdHlwZS5lbnRyeVNldD1mdW5jdGlvbigpe3ZhciB0PW5ldyB4YyxlPXRoaXMuZ2V0Rmlyc3RFbnRyeSgpO2lmKG51bGwhPT1lKWZvcih0LmFkZChlKTtudWxsIT09KGU9Q2Muc3VjY2Vzc29yKGUpKTspdC5hZGQoZSk7cmV0dXJuIHR9LENjLnByb3RvdHlwZS5yb3RhdGVMZWZ0PWZ1bmN0aW9uKHQpe2lmKG51bGwhPXQpe3ZhciBlPXQucmlnaHQ7dC5yaWdodD1lLmxlZnQsbnVsbCE9ZS5sZWZ0JiYoZS5sZWZ0LnBhcmVudD10KSxlLnBhcmVudD10LnBhcmVudCxudWxsPT09dC5wYXJlbnQ/dGhpcy5yb290Xz1lOnQucGFyZW50LmxlZnQ9PT10P3QucGFyZW50LmxlZnQ9ZTp0LnBhcmVudC5yaWdodD1lLGUubGVmdD10LHQucGFyZW50PWV9fSxDYy5wcm90b3R5cGUucm90YXRlUmlnaHQ9ZnVuY3Rpb24odCl7aWYobnVsbCE9dCl7dmFyIGU9dC5sZWZ0O3QubGVmdD1lLnJpZ2h0LG51bGwhPWUucmlnaHQmJihlLnJpZ2h0LnBhcmVudD10KSxlLnBhcmVudD10LnBhcmVudCxudWxsPT09dC5wYXJlbnQ/dGhpcy5yb290Xz1lOnQucGFyZW50LnJpZ2h0PT09dD90LnBhcmVudC5yaWdodD1lOnQucGFyZW50LmxlZnQ9ZSxlLnJpZ2h0PXQsdC5wYXJlbnQ9ZX19LENjLnByb3RvdHlwZS5nZXRGaXJzdEVudHJ5PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5yb290XztpZihudWxsIT10KWZvcig7bnVsbCE9dC5sZWZ0Oyl0PXQubGVmdDtyZXR1cm4gdH0sQ2Muc3VjY2Vzc29yPWZ1bmN0aW9uKHQpe2lmKG51bGw9PT10KXJldHVybiBudWxsO2lmKG51bGwhPT10LnJpZ2h0KXtmb3IodmFyIGU9dC5yaWdodDtudWxsIT09ZS5sZWZ0OyllPWUubGVmdDtyZXR1cm4gZX1mb3IodmFyIG49dC5wYXJlbnQscj10O251bGwhPT1uJiZyPT09bi5yaWdodDspcj1uLG49bi5wYXJlbnQ7cmV0dXJuIG59LENjLnByb3RvdHlwZS5zaXplPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2l6ZV99O3ZhciBQYz1mdW5jdGlvbigpe307ZnVuY3Rpb24gTWMoKXt9ZnVuY3Rpb24gTGMoKXt0aGlzLmFycmF5Xz1bXSxhcmd1bWVudHNbMF1pbnN0YW5jZW9mIGljJiZ0aGlzLmFkZEFsbChhcmd1bWVudHNbMF0pfVBjLnByb3RvdHlwZS5pbnRlcmZhY2VzXz1mdW5jdGlvbigpe3JldHVybltdfSxQYy5wcm90b3R5cGUuZ2V0Q2xhc3M9ZnVuY3Rpb24oKXtyZXR1cm4gUGN9LE1jLnByb3RvdHlwZT1uZXcgbWMsTGMucHJvdG90eXBlPW5ldyBNYyxMYy5wcm90b3R5cGUuY29udGFpbnM9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTAsbj10aGlzLmFycmF5Xy5sZW5ndGg7ZTxuO2UrKyl7aWYoMD09PXRoaXMuYXJyYXlfW2VdLmNvbXBhcmVUbyh0KSlyZXR1cm4hMH1yZXR1cm4hMX0sTGMucHJvdG90eXBlLmFkZD1mdW5jdGlvbih0KXtpZih0aGlzLmNvbnRhaW5zKHQpKXJldHVybiExO2Zvcih2YXIgZT0wLG49dGhpcy5hcnJheV8ubGVuZ3RoO2U8bjtlKyspe2lmKDE9PT10aGlzLmFycmF5X1tlXS5jb21wYXJlVG8odCkpcmV0dXJuIHRoaXMuYXJyYXlfLnNwbGljZShlLDAsdCksITB9cmV0dXJuIHRoaXMuYXJyYXlfLnB1c2godCksITB9LExjLnByb3RvdHlwZS5hZGRBbGw9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXQuaXRlcmF0b3IoKTtlLmhhc05leHQoKTspdGhpcy5hZGQoZS5uZXh0KCkpO3JldHVybiEwfSxMYy5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKHQpe3Rocm93IG5ldyBfY30sTGMucHJvdG90eXBlLnNpemU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hcnJheV8ubGVuZ3RofSxMYy5wcm90b3R5cGUuaXNFbXB0eT1mdW5jdGlvbigpe3JldHVybiAwPT09dGhpcy5hcnJheV8ubGVuZ3RofSxMYy5wcm90b3R5cGUudG9BcnJheT1mdW5jdGlvbigpe2Zvcih2YXIgdD1bXSxlPTAsbj10aGlzLmFycmF5Xy5sZW5ndGg7ZTxuO2UrKyl0LnB1c2godGhpcy5hcnJheV9bZV0pO3JldHVybiB0fSxMYy5wcm90b3R5cGUuaXRlcmF0b3I9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IE9jKHRoaXMpfTt2YXIgT2M9ZnVuY3Rpb24odCl7dGhpcy50cmVlU2V0Xz10LHRoaXMucG9zaXRpb25fPTB9O09jLnByb3RvdHlwZS5uZXh0PWZ1bmN0aW9uKCl7aWYodGhpcy5wb3NpdGlvbl89PT10aGlzLnRyZWVTZXRfLnNpemUoKSl0aHJvdyBuZXcgdWM7cmV0dXJuIHRoaXMudHJlZVNldF8uYXJyYXlfW3RoaXMucG9zaXRpb25fKytdfSxPYy5wcm90b3R5cGUuaGFzTmV4dD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnBvc2l0aW9uXzx0aGlzLnRyZWVTZXRfLnNpemUoKX0sT2MucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbigpe3Rocm93IG5ldyBfY307dmFyIFJjPWZ1bmN0aW9uKCl7fTtSYy5zb3J0PWZ1bmN0aW9uKCl7dmFyIHQsZSxuLHIsaT1hcmd1bWVudHNbMF07aWYoMT09PWFyZ3VtZW50cy5sZW5ndGgpcj1mdW5jdGlvbih0LGUpe3JldHVybiB0LmNvbXBhcmVUbyhlKX0saS5zb3J0KHIpO2Vsc2UgaWYoMj09PWFyZ3VtZW50cy5sZW5ndGgpbj1hcmd1bWVudHNbMV0scj1mdW5jdGlvbih0LGUpe3JldHVybiBuLmNvbXBhcmUodCxlKX0saS5zb3J0KHIpO2Vsc2UgaWYoMz09PWFyZ3VtZW50cy5sZW5ndGgpeyhlPWkuc2xpY2UoYXJndW1lbnRzWzFdLGFyZ3VtZW50c1syXSkpLnNvcnQoKTt2YXIgbz1pLnNsaWNlKDAsYXJndW1lbnRzWzFdKS5jb25jYXQoZSxpLnNsaWNlKGFyZ3VtZW50c1syXSxpLmxlbmd0aCkpO2ZvcihpLnNwbGljZSgwLGkubGVuZ3RoKSx0PTA7dDxvLmxlbmd0aDt0KyspaS5wdXNoKG9bdF0pfWVsc2UgaWYoND09PWFyZ3VtZW50cy5sZW5ndGgpZm9yKGU9aS5zbGljZShhcmd1bWVudHNbMV0sYXJndW1lbnRzWzJdKSxuPWFyZ3VtZW50c1szXSxyPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG4uY29tcGFyZSh0LGUpfSxlLnNvcnQociksbz1pLnNsaWNlKDAsYXJndW1lbnRzWzFdKS5jb25jYXQoZSxpLnNsaWNlKGFyZ3VtZW50c1syXSxpLmxlbmd0aCkpLGkuc3BsaWNlKDAsaS5sZW5ndGgpLHQ9MDt0PG8ubGVuZ3RoO3QrKylpLnB1c2gob1t0XSl9LFJjLmFzTGlzdD1mdW5jdGlvbih0KXtmb3IodmFyIGU9bmV3IGxjLG49MCxyPXQubGVuZ3RoO248cjtuKyspZS5hZGQodFtuXSk7cmV0dXJuIGV9O3ZhciBUYz1mdW5jdGlvbigpe30sQWM9e1A6e2NvbmZpZ3VyYWJsZTohMH0sTDp7Y29uZmlndXJhYmxlOiEwfSxBOntjb25maWd1cmFibGU6ITB9LEZBTFNFOntjb25maWd1cmFibGU6ITB9LFRSVUU6e2NvbmZpZ3VyYWJsZTohMH0sRE9OVENBUkU6e2NvbmZpZ3VyYWJsZTohMH0sU1lNX0ZBTFNFOntjb25maWd1cmFibGU6ITB9LFNZTV9UUlVFOntjb25maWd1cmFibGU6ITB9LFNZTV9ET05UQ0FSRTp7Y29uZmlndXJhYmxlOiEwfSxTWU1fUDp7Y29uZmlndXJhYmxlOiEwfSxTWU1fTDp7Y29uZmlndXJhYmxlOiEwfSxTWU1fQTp7Y29uZmlndXJhYmxlOiEwfX07QWMuUC5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gMH0sQWMuTC5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gMX0sQWMuQS5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gMn0sQWMuRkFMU0UuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuLTF9LEFjLlRSVUUuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuLTJ9LEFjLkRPTlRDQVJFLmdldD1mdW5jdGlvbigpe3JldHVybi0zfSxBYy5TWU1fRkFMU0UuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIkYifSxBYy5TWU1fVFJVRS5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4iVCJ9LEFjLlNZTV9ET05UQ0FSRS5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4iKiJ9LEFjLlNZTV9QLmdldD1mdW5jdGlvbigpe3JldHVybiIwIn0sQWMuU1lNX0wuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIjEifSxBYy5TWU1fQS5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4iMiJ9LFRjLnByb3RvdHlwZS5pbnRlcmZhY2VzXz1mdW5jdGlvbigpe3JldHVybltdfSxUYy5wcm90b3R5cGUuZ2V0Q2xhc3M9ZnVuY3Rpb24oKXtyZXR1cm4gVGN9LFRjLnRvRGltZW5zaW9uU3ltYm9sPWZ1bmN0aW9uKHQpe3N3aXRjaCh0KXtjYXNlIFRjLkZBTFNFOnJldHVybiBUYy5TWU1fRkFMU0U7Y2FzZSBUYy5UUlVFOnJldHVybiBUYy5TWU1fVFJVRTtjYXNlIFRjLkRPTlRDQVJFOnJldHVybiBUYy5TWU1fRE9OVENBUkU7Y2FzZSBUYy5QOnJldHVybiBUYy5TWU1fUDtjYXNlIFRjLkw6cmV0dXJuIFRjLlNZTV9MO2Nhc2UgVGMuQTpyZXR1cm4gVGMuU1lNX0F9dGhyb3cgbmV3IGVsKCJVbmtub3duIGRpbWVuc2lvbiB2YWx1ZTogIit0KX0sVGMudG9EaW1lbnNpb25WYWx1ZT1mdW5jdGlvbih0KXtzd2l0Y2gobWwudG9VcHBlckNhc2UodCkpe2Nhc2UgVGMuU1lNX0ZBTFNFOnJldHVybiBUYy5GQUxTRTtjYXNlIFRjLlNZTV9UUlVFOnJldHVybiBUYy5UUlVFO2Nhc2UgVGMuU1lNX0RPTlRDQVJFOnJldHVybiBUYy5ET05UQ0FSRTtjYXNlIFRjLlNZTV9QOnJldHVybiBUYy5QO2Nhc2UgVGMuU1lNX0w6cmV0dXJuIFRjLkw7Y2FzZSBUYy5TWU1fQTpyZXR1cm4gVGMuQX10aHJvdyBuZXcgZWwoIlVua25vd24gZGltZW5zaW9uIHN5bWJvbDogIit0KX0sT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoVGMsQWMpO3ZhciBEYz1mdW5jdGlvbigpe307RGMucHJvdG90eXBlLmZpbHRlcj1mdW5jdGlvbih0KXt9LERjLnByb3RvdHlwZS5pbnRlcmZhY2VzXz1mdW5jdGlvbigpe3JldHVybltdfSxEYy5wcm90b3R5cGUuZ2V0Q2xhc3M9ZnVuY3Rpb24oKXtyZXR1cm4gRGN9O3ZhciBGYz1mdW5jdGlvbigpe307RmMucHJvdG90eXBlLmZpbHRlcj1mdW5jdGlvbih0LGUpe30sRmMucHJvdG90eXBlLmlzRG9uZT1mdW5jdGlvbigpe30sRmMucHJvdG90eXBlLmlzR2VvbWV0cnlDaGFuZ2VkPWZ1bmN0aW9uKCl7fSxGYy5wcm90b3R5cGUuaW50ZXJmYWNlc189ZnVuY3Rpb24oKXtyZXR1cm5bXX0sRmMucHJvdG90eXBlLmdldENsYXNzPWZ1bmN0aW9uKCl7cmV0dXJuIEZjfTt2YXIga2M9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLG4pe2lmKHQuY2FsbCh0aGlzLG4pLHRoaXMuX2dlb21ldHJpZXM9ZXx8W10sdC5oYXNOdWxsRWxlbWVudHModGhpcy5fZ2VvbWV0cmllcykpdGhyb3cgbmV3IGVsKCJnZW9tZXRyaWVzIG11c3Qgbm90IGNvbnRhaW4gbnVsbCBlbGVtZW50cyIpfXQmJihlLl9fcHJvdG9fXz10KSxlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSxlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1lO3ZhciBuPXtzZXJpYWxWZXJzaW9uVUlEOntjb25maWd1cmFibGU6ITB9fTtyZXR1cm4gZS5wcm90b3R5cGUuY29tcHV0ZUVudmVsb3BlSW50ZXJuYWw9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9bmV3IExsLGU9MDtlPHRoaXMuX2dlb21ldHJpZXMubGVuZ3RoO2UrKyl0LmV4cGFuZFRvSW5jbHVkZSh0aGlzLl9nZW9tZXRyaWVzW2VdLmdldEVudmVsb3BlSW50ZXJuYWwoKSk7cmV0dXJuIHR9LGUucHJvdG90eXBlLmdldEdlb21ldHJ5Tj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fZ2VvbWV0cmllc1t0XX0sZS5wcm90b3R5cGUuZ2V0U29ydEluZGV4PWZ1bmN0aW9uKCl7cmV0dXJuIHQuU09SVElOREVYX0dFT01FVFJZQ09MTEVDVElPTn0sZS5wcm90b3R5cGUuZ2V0Q29vcmRpbmF0ZXM9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9bmV3IEFycmF5KHRoaXMuZ2V0TnVtUG9pbnRzKCkpLmZpbGwobnVsbCksZT0tMSxuPTA7bjx0aGlzLl9nZW9tZXRyaWVzLmxlbmd0aDtuKyspZm9yKHZhciByPXRoaXMuX2dlb21ldHJpZXNbbl0uZ2V0Q29vcmRpbmF0ZXMoKSxpPTA7aTxyLmxlbmd0aDtpKyspdFsrK2VdPXJbaV07cmV0dXJuIHR9LGUucHJvdG90eXBlLmdldEFyZWE9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9MCxlPTA7ZTx0aGlzLl9nZW9tZXRyaWVzLmxlbmd0aDtlKyspdCs9dGhpcy5fZ2VvbWV0cmllc1tlXS5nZXRBcmVhKCk7cmV0dXJuIHR9LGUucHJvdG90eXBlLmVxdWFsc0V4YWN0PWZ1bmN0aW9uKCl7dmFyIGU9dGhpcztpZigyPT09YXJndW1lbnRzLmxlbmd0aCl7dmFyIG49YXJndW1lbnRzWzBdLHI9YXJndW1lbnRzWzFdO2lmKCF0aGlzLmlzRXF1aXZhbGVudENsYXNzKG4pKXJldHVybiExO3ZhciBpPW47aWYodGhpcy5fZ2VvbWV0cmllcy5sZW5ndGghPT1pLl9nZW9tZXRyaWVzLmxlbmd0aClyZXR1cm4hMTtmb3IodmFyIG89MDtvPHRoaXMuX2dlb21ldHJpZXMubGVuZ3RoO28rKylpZighZS5fZ2VvbWV0cmllc1tvXS5lcXVhbHNFeGFjdChpLl9nZW9tZXRyaWVzW29dLHIpKXJldHVybiExO3JldHVybiEwfXJldHVybiB0LnByb3RvdHlwZS5lcXVhbHNFeGFjdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LGUucHJvdG90eXBlLm5vcm1hbGl6ZT1mdW5jdGlvbigpe2Zvcih2YXIgdD0wO3Q8dGhpcy5fZ2VvbWV0cmllcy5sZW5ndGg7dCsrKXRoaXMuX2dlb21ldHJpZXNbdF0ubm9ybWFsaXplKCk7UmMuc29ydCh0aGlzLl9nZW9tZXRyaWVzKX0sZS5wcm90b3R5cGUuZ2V0Q29vcmRpbmF0ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmlzRW1wdHkoKT9udWxsOnRoaXMuX2dlb21ldHJpZXNbMF0uZ2V0Q29vcmRpbmF0ZSgpfSxlLnByb3RvdHlwZS5nZXRCb3VuZGFyeURpbWVuc2lvbj1mdW5jdGlvbigpe2Zvcih2YXIgdD1UYy5GQUxTRSxlPTA7ZTx0aGlzLl9nZW9tZXRyaWVzLmxlbmd0aDtlKyspdD1NYXRoLm1heCh0LHRoaXMuX2dlb21ldHJpZXNbZV0uZ2V0Qm91bmRhcnlEaW1lbnNpb24oKSk7cmV0dXJuIHR9LGUucHJvdG90eXBlLmdldERpbWVuc2lvbj1mdW5jdGlvbigpe2Zvcih2YXIgdD1UYy5GQUxTRSxlPTA7ZTx0aGlzLl9nZW9tZXRyaWVzLmxlbmd0aDtlKyspdD1NYXRoLm1heCh0LHRoaXMuX2dlb21ldHJpZXNbZV0uZ2V0RGltZW5zaW9uKCkpO3JldHVybiB0fSxlLnByb3RvdHlwZS5nZXRMZW5ndGg9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9MCxlPTA7ZTx0aGlzLl9nZW9tZXRyaWVzLmxlbmd0aDtlKyspdCs9dGhpcy5fZ2VvbWV0cmllc1tlXS5nZXRMZW5ndGgoKTtyZXR1cm4gdH0sZS5wcm90b3R5cGUuZ2V0TnVtUG9pbnRzPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PTAsZT0wO2U8dGhpcy5fZ2VvbWV0cmllcy5sZW5ndGg7ZSsrKXQrPXRoaXMuX2dlb21ldHJpZXNbZV0uZ2V0TnVtUG9pbnRzKCk7cmV0dXJuIHR9LGUucHJvdG90eXBlLmdldE51bUdlb21ldHJpZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZ2VvbWV0cmllcy5sZW5ndGh9LGUucHJvdG90eXBlLnJldmVyc2U9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpcy5fZ2VvbWV0cmllcy5sZW5ndGgsZT1uZXcgQXJyYXkodCkuZmlsbChudWxsKSxuPTA7bjx0aGlzLl9nZW9tZXRyaWVzLmxlbmd0aDtuKyspZVtuXT10aGlzLl9nZW9tZXRyaWVzW25dLnJldmVyc2UoKTtyZXR1cm4gdGhpcy5nZXRGYWN0b3J5KCkuY3JlYXRlR2VvbWV0cnlDb2xsZWN0aW9uKGUpfSxlLnByb3RvdHlwZS5jb21wYXJlVG9TYW1lQ2xhc3M9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO2lmKDE9PT1hcmd1bWVudHMubGVuZ3RoKXt2YXIgZT1hcmd1bWVudHNbMF0sbj1uZXcgTGMoUmMuYXNMaXN0KHRoaXMuX2dlb21ldHJpZXMpKSxyPW5ldyBMYyhSYy5hc0xpc3QoZS5fZ2VvbWV0cmllcykpO3JldHVybiB0aGlzLmNvbXBhcmUobixyKX1pZigyPT09YXJndW1lbnRzLmxlbmd0aCl7Zm9yKHZhciBpPWFyZ3VtZW50c1swXSxvPWFyZ3VtZW50c1sxXSxzPWksYT10aGlzLmdldE51bUdlb21ldHJpZXMoKSx1PXMuZ2V0TnVtR2VvbWV0cmllcygpLGw9MDtsPGEmJmw8dTspe3ZhciBjPXQuZ2V0R2VvbWV0cnlOKGwpLGg9cy5nZXRHZW9tZXRyeU4obCkscD1jLmNvbXBhcmVUb1NhbWVDbGFzcyhoLG8pO2lmKDAhPT1wKXJldHVybiBwO2wrK31yZXR1cm4gbDxhPzE6bDx1Py0xOjB9fSxlLnByb3RvdHlwZS5hcHBseT1mdW5jdGlvbigpe3ZhciB0PXRoaXM7aWYoZ2woYXJndW1lbnRzWzBdLEtsKSlmb3IodmFyIGU9YXJndW1lbnRzWzBdLG49MDtuPHRoaXMuX2dlb21ldHJpZXMubGVuZ3RoO24rKyl0Ll9nZW9tZXRyaWVzW25dLmFwcGx5KGUpO2Vsc2UgaWYoZ2woYXJndW1lbnRzWzBdLEZjKSl7dmFyIHI9YXJndW1lbnRzWzBdO2lmKDA9PT10aGlzLl9nZW9tZXRyaWVzLmxlbmd0aClyZXR1cm4gbnVsbDtmb3IodmFyIGk9MDtpPHRoaXMuX2dlb21ldHJpZXMubGVuZ3RoJiYodC5fZ2VvbWV0cmllc1tpXS5hcHBseShyKSwhci5pc0RvbmUoKSk7aSsrKTtyLmlzR2VvbWV0cnlDaGFuZ2VkKCkmJnRoaXMuZ2VvbWV0cnlDaGFuZ2VkKCl9ZWxzZSBpZihnbChhcmd1bWVudHNbMF0sRGMpKXt2YXIgbz1hcmd1bWVudHNbMF07by5maWx0ZXIodGhpcyk7Zm9yKHZhciBzPTA7czx0aGlzLl9nZW9tZXRyaWVzLmxlbmd0aDtzKyspdC5fZ2VvbWV0cmllc1tzXS5hcHBseShvKX1lbHNlIGlmKGdsKGFyZ3VtZW50c1swXSxIbCkpe3ZhciBhPWFyZ3VtZW50c1swXTthLmZpbHRlcih0aGlzKTtmb3IodmFyIHU9MDt1PHRoaXMuX2dlb21ldHJpZXMubGVuZ3RoO3UrKyl0Ll9nZW9tZXRyaWVzW3VdLmFwcGx5KGEpfX0sZS5wcm90b3R5cGUuZ2V0Qm91bmRhcnk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jaGVja05vdEdlb21ldHJ5Q29sbGVjdGlvbih0aGlzKSxxbC5zaG91bGROZXZlclJlYWNoSGVyZSgpLG51bGx9LGUucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7dmFyIGU9dC5wcm90b3R5cGUuY2xvbmUuY2FsbCh0aGlzKTtlLl9nZW9tZXRyaWVzPW5ldyBBcnJheSh0aGlzLl9nZW9tZXRyaWVzLmxlbmd0aCkuZmlsbChudWxsKTtmb3IodmFyIG49MDtuPHRoaXMuX2dlb21ldHJpZXMubGVuZ3RoO24rKyllLl9nZW9tZXRyaWVzW25dPXRoaXMuX2dlb21ldHJpZXNbbl0uY2xvbmUoKTtyZXR1cm4gZX0sZS5wcm90b3R5cGUuZ2V0R2VvbWV0cnlUeXBlPWZ1bmN0aW9uKCl7cmV0dXJuIkdlb21ldHJ5Q29sbGVjdGlvbiJ9LGUucHJvdG90eXBlLmNvcHk9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9bmV3IEFycmF5KHRoaXMuX2dlb21ldHJpZXMubGVuZ3RoKS5maWxsKG51bGwpLG49MDtuPHQubGVuZ3RoO24rKyl0W25dPXRoaXMuX2dlb21ldHJpZXNbbl0uY29weSgpO3JldHVybiBuZXcgZSh0LHRoaXMuX2ZhY3RvcnkpfSxlLnByb3RvdHlwZS5pc0VtcHR5PWZ1bmN0aW9uKCl7Zm9yKHZhciB0PTA7dDx0aGlzLl9nZW9tZXRyaWVzLmxlbmd0aDt0KyspaWYoIXRoaXMuX2dlb21ldHJpZXNbdF0uaXNFbXB0eSgpKXJldHVybiExO3JldHVybiEwfSxlLnByb3RvdHlwZS5pbnRlcmZhY2VzXz1mdW5jdGlvbigpe3JldHVybltdfSxlLnByb3RvdHlwZS5nZXRDbGFzcz1mdW5jdGlvbigpe3JldHVybiBlfSxuLnNlcmlhbFZlcnNpb25VSUQuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuLTB4NGYwN2JjYjFmODU3ZDgwMH0sT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSxuKSxlfShXbCksR2M9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3QuYXBwbHkodGhpcyxhcmd1bWVudHMpfXQmJihlLl9fcHJvdG9fXz10KSxlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSxlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1lO3ZhciBuPXtzZXJpYWxWZXJzaW9uVUlEOntjb25maWd1cmFibGU6ITB9fTtyZXR1cm4gZS5wcm90b3R5cGUuZ2V0U29ydEluZGV4PWZ1bmN0aW9uKCl7cmV0dXJuIFdsLlNPUlRJTkRFWF9NVUxUSUxJTkVTVFJJTkd9LGUucHJvdG90eXBlLmVxdWFsc0V4YWN0PWZ1bmN0aW9uKCl7aWYoMj09PWFyZ3VtZW50cy5sZW5ndGgpe3ZhciBlPWFyZ3VtZW50c1swXSxuPWFyZ3VtZW50c1sxXTtyZXR1cm4hIXRoaXMuaXNFcXVpdmFsZW50Q2xhc3MoZSkmJnQucHJvdG90eXBlLmVxdWFsc0V4YWN0LmNhbGwodGhpcyxlLG4pfXJldHVybiB0LnByb3RvdHlwZS5lcXVhbHNFeGFjdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LGUucHJvdG90eXBlLmdldEJvdW5kYXJ5RGltZW5zaW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXNDbG9zZWQoKT9UYy5GQUxTRTowfSxlLnByb3RvdHlwZS5pc0Nsb3NlZD1mdW5jdGlvbigpe2lmKHRoaXMuaXNFbXB0eSgpKXJldHVybiExO2Zvcih2YXIgdD0wO3Q8dGhpcy5fZ2VvbWV0cmllcy5sZW5ndGg7dCsrKWlmKCF0aGlzLl9nZW9tZXRyaWVzW3RdLmlzQ2xvc2VkKCkpcmV0dXJuITE7cmV0dXJuITB9LGUucHJvdG90eXBlLmdldERpbWVuc2lvbj1mdW5jdGlvbigpe3JldHVybiAxfSxlLnByb3RvdHlwZS5yZXZlcnNlPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PXRoaXMuX2dlb21ldHJpZXMubGVuZ3RoLGU9bmV3IEFycmF5KHQpLmZpbGwobnVsbCksbj0wO248dGhpcy5fZ2VvbWV0cmllcy5sZW5ndGg7bisrKWVbdC0xLW5dPXRoaXMuX2dlb21ldHJpZXNbbl0ucmV2ZXJzZSgpO3JldHVybiB0aGlzLmdldEZhY3RvcnkoKS5jcmVhdGVNdWx0aUxpbmVTdHJpbmcoZSl9LGUucHJvdG90eXBlLmdldEJvdW5kYXJ5PWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBxYyh0aGlzKS5nZXRCb3VuZGFyeSgpfSxlLnByb3RvdHlwZS5nZXRHZW9tZXRyeVR5cGU9ZnVuY3Rpb24oKXtyZXR1cm4iTXVsdGlMaW5lU3RyaW5nIn0sZS5wcm90b3R5cGUuY29weT1mdW5jdGlvbigpe2Zvcih2YXIgdD1uZXcgQXJyYXkodGhpcy5fZ2VvbWV0cmllcy5sZW5ndGgpLmZpbGwobnVsbCksbj0wO248dC5sZW5ndGg7bisrKXRbbl09dGhpcy5fZ2VvbWV0cmllc1tuXS5jb3B5KCk7cmV0dXJuIG5ldyBlKHQsdGhpcy5fZmFjdG9yeSl9LGUucHJvdG90eXBlLmludGVyZmFjZXNfPWZ1bmN0aW9uKCl7cmV0dXJuW1BjXX0sZS5wcm90b3R5cGUuZ2V0Q2xhc3M9ZnVuY3Rpb24oKXtyZXR1cm4gZX0sbi5zZXJpYWxWZXJzaW9uVUlELmdldD1mdW5jdGlvbigpe3JldHVybiAweDcxNTVkMmFiNGFmYTgwMDB9LE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsbiksZX0oa2MpLHFjPWZ1bmN0aW9uKCl7aWYodGhpcy5fZ2VvbT1udWxsLHRoaXMuX2dlb21GYWN0PW51bGwsdGhpcy5fYm5SdWxlPW51bGwsdGhpcy5fZW5kcG9pbnRNYXA9bnVsbCwxPT09YXJndW1lbnRzLmxlbmd0aCl7dmFyIHQ9YXJndW1lbnRzWzBdLGU9UWwuTU9EMl9CT1VOREFSWV9SVUxFO3RoaXMuX2dlb209dCx0aGlzLl9nZW9tRmFjdD10LmdldEZhY3RvcnkoKSx0aGlzLl9iblJ1bGU9ZX1lbHNlIGlmKDI9PT1hcmd1bWVudHMubGVuZ3RoKXt2YXIgbj1hcmd1bWVudHNbMF0scj1hcmd1bWVudHNbMV07dGhpcy5fZ2VvbT1uLHRoaXMuX2dlb21GYWN0PW4uZ2V0RmFjdG9yeSgpLHRoaXMuX2JuUnVsZT1yfX07cWMucHJvdG90eXBlLmJvdW5kYXJ5TXVsdGlMaW5lU3RyaW5nPWZ1bmN0aW9uKHQpe2lmKHRoaXMuX2dlb20uaXNFbXB0eSgpKXJldHVybiB0aGlzLmdldEVtcHR5TXVsdGlQb2ludCgpO3ZhciBlPXRoaXMuY29tcHV0ZUJvdW5kYXJ5Q29vcmRpbmF0ZXModCk7cmV0dXJuIDE9PT1lLmxlbmd0aD90aGlzLl9nZW9tRmFjdC5jcmVhdGVQb2ludChlWzBdKTp0aGlzLl9nZW9tRmFjdC5jcmVhdGVNdWx0aVBvaW50RnJvbUNvb3JkcyhlKX0scWMucHJvdG90eXBlLmdldEJvdW5kYXJ5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2dlb20gaW5zdGFuY2VvZiBaYz90aGlzLmJvdW5kYXJ5TGluZVN0cmluZyh0aGlzLl9nZW9tKTp0aGlzLl9nZW9tIGluc3RhbmNlb2YgR2M/dGhpcy5ib3VuZGFyeU11bHRpTGluZVN0cmluZyh0aGlzLl9nZW9tKTp0aGlzLl9nZW9tLmdldEJvdW5kYXJ5KCl9LHFjLnByb3RvdHlwZS5ib3VuZGFyeUxpbmVTdHJpbmc9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2dlb20uaXNFbXB0eSgpP3RoaXMuZ2V0RW1wdHlNdWx0aVBvaW50KCk6dC5pc0Nsb3NlZCgpP3RoaXMuX2JuUnVsZS5pc0luQm91bmRhcnkoMik/dC5nZXRTdGFydFBvaW50KCk6dGhpcy5fZ2VvbUZhY3QuY3JlYXRlTXVsdGlQb2ludCgpOnRoaXMuX2dlb21GYWN0LmNyZWF0ZU11bHRpUG9pbnQoW3QuZ2V0U3RhcnRQb2ludCgpLHQuZ2V0RW5kUG9pbnQoKV0pfSxxYy5wcm90b3R5cGUuZ2V0RW1wdHlNdWx0aVBvaW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2dlb21GYWN0LmNyZWF0ZU11bHRpUG9pbnQoKX0scWMucHJvdG90eXBlLmNvbXB1dGVCb3VuZGFyeUNvb3JkaW5hdGVzPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMsbj1uZXcgbGM7dGhpcy5fZW5kcG9pbnRNYXA9bmV3IENjO2Zvcih2YXIgcj0wO3I8dC5nZXROdW1HZW9tZXRyaWVzKCk7cisrKXt2YXIgaT10LmdldEdlb21ldHJ5TihyKTswIT09aS5nZXROdW1Qb2ludHMoKSYmKGUuYWRkRW5kcG9pbnQoaS5nZXRDb29yZGluYXRlTigwKSksZS5hZGRFbmRwb2ludChpLmdldENvb3JkaW5hdGVOKGkuZ2V0TnVtUG9pbnRzKCktMSkpKX1mb3IodmFyIG89dGhpcy5fZW5kcG9pbnRNYXAuZW50cnlTZXQoKS5pdGVyYXRvcigpO28uaGFzTmV4dCgpOyl7dmFyIHM9by5uZXh0KCksYT1zLmdldFZhbHVlKCkuY291bnQ7ZS5fYm5SdWxlLmlzSW5Cb3VuZGFyeShhKSYmbi5hZGQocy5nZXRLZXkoKSl9cmV0dXJuIHBjLnRvQ29vcmRpbmF0ZUFycmF5KG4pfSxxYy5wcm90b3R5cGUuYWRkRW5kcG9pbnQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fZW5kcG9pbnRNYXAuZ2V0KHQpO251bGw9PT1lJiYoZT1uZXcgQmMsdGhpcy5fZW5kcG9pbnRNYXAucHV0KHQsZSkpLGUuY291bnQrK30scWMucHJvdG90eXBlLmludGVyZmFjZXNfPWZ1bmN0aW9uKCl7cmV0dXJuW119LHFjLnByb3RvdHlwZS5nZXRDbGFzcz1mdW5jdGlvbigpe3JldHVybiBxY30scWMuZ2V0Qm91bmRhcnk9ZnVuY3Rpb24oKXtpZigxPT09YXJndW1lbnRzLmxlbmd0aCl7dmFyIHQ9YXJndW1lbnRzWzBdLGU9bmV3IHFjKHQpO3JldHVybiBlLmdldEJvdW5kYXJ5KCl9aWYoMj09PWFyZ3VtZW50cy5sZW5ndGgpe3ZhciBuPWFyZ3VtZW50c1swXSxyPWFyZ3VtZW50c1sxXSxpPW5ldyBxYyhuLHIpO3JldHVybiBpLmdldEJvdW5kYXJ5KCl9fTt2YXIgQmM9ZnVuY3Rpb24oKXt0aGlzLmNvdW50PW51bGx9O2Z1bmN0aW9uIHpjKCl7fWZ1bmN0aW9uIGpjKCl7fUJjLnByb3RvdHlwZS5pbnRlcmZhY2VzXz1mdW5jdGlvbigpe3JldHVybltdfSxCYy5wcm90b3R5cGUuZ2V0Q2xhc3M9ZnVuY3Rpb24oKXtyZXR1cm4gQmN9O3ZhciBVYz1mdW5jdGlvbigpe307ZnVuY3Rpb24gVmMoKXt9ZnVuY3Rpb24gWGMoKXt9ZnVuY3Rpb24gWWMoKXt9dmFyIEhjPWZ1bmN0aW9uKCl7fSxXYz17TkVXTElORTp7Y29uZmlndXJhYmxlOiEwfSxTSU1QTEVfT1JESU5BVEVfRk9STUFUOntjb25maWd1cmFibGU6ITB9fTtIYy5wcm90b3R5cGUuaW50ZXJmYWNlc189ZnVuY3Rpb24oKXtyZXR1cm5bXX0sSGMucHJvdG90eXBlLmdldENsYXNzPWZ1bmN0aW9uKCl7cmV0dXJuIEhjfSxIYy5jaGFycz1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj1uZXcgQXJyYXkoZSkuZmlsbChudWxsKSxyPTA7cjxlO3IrKyluW3JdPXQ7cmV0dXJuIFN0cmluZyhuKX0sSGMuZ2V0U3RhY2tUcmFjZT1mdW5jdGlvbigpe2lmKDE9PT1hcmd1bWVudHMubGVuZ3RoKXt2YXIgdD1hcmd1bWVudHNbMF0sZT1uZXcgVmMsbj1uZXcgemMoZSk7cmV0dXJuIHQucHJpbnRTdGFja1RyYWNlKG4pLGUudG9TdHJpbmcoKX1pZigyPT09YXJndW1lbnRzLmxlbmd0aCl7Zm9yKHZhciByPWFyZ3VtZW50c1swXSxpPWFyZ3VtZW50c1sxXSxvPSIiLHM9bmV3IGpjKEhjLmdldFN0YWNrVHJhY2UocikpLGE9bmV3IFljKHMpLHU9MDt1PGk7dSsrKXRyeXtvKz1hLnJlYWRMaW5lKCkrSGMuTkVXTElORX1jYXRjaCh0KXtpZighKHQgaW5zdGFuY2VvZiBYYykpdGhyb3cgdDtxbC5zaG91bGROZXZlclJlYWNoSGVyZSgpfXJldHVybiBvfX0sSGMuc3BsaXQ9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49ZS5sZW5ndGgscj1uZXcgbGMsaT0iIit0LG89aS5pbmRleE9mKGUpO28+PTA7KXt2YXIgcz1pLnN1YnN0cmluZygwLG8pO3IuYWRkKHMpLG89KGk9aS5zdWJzdHJpbmcobytuKSkuaW5kZXhPZihlKX1pLmxlbmd0aD4wJiZyLmFkZChpKTtmb3IodmFyIGE9bmV3IEFycmF5KHIuc2l6ZSgpKS5maWxsKG51bGwpLHU9MDt1PGEubGVuZ3RoO3UrKylhW3VdPXIuZ2V0KHUpO3JldHVybiBhfSxIYy50b1N0cmluZz1mdW5jdGlvbigpe2lmKDE9PT1hcmd1bWVudHMubGVuZ3RoKXt2YXIgdD1hcmd1bWVudHNbMF07cmV0dXJuIEhjLlNJTVBMRV9PUkRJTkFURV9GT1JNQVQuZm9ybWF0KHQpfX0sSGMuc3BhY2VzPWZ1bmN0aW9uKHQpe3JldHVybiBIYy5jaGFycygiICIsdCl9LFdjLk5FV0xJTkUuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIFBsLmdldFByb3BlcnR5KCJsaW5lLnNlcGFyYXRvciIpfSxXYy5TSU1QTEVfT1JESU5BVEVfRk9STUFULmdldD1mdW5jdGlvbigpe3JldHVybiBuZXcgVWMoIjAuIyIpfSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhIYyxXYyk7dmFyIEpjPWZ1bmN0aW9uKCl7fTtKYy5wcm90b3R5cGUuaW50ZXJmYWNlc189ZnVuY3Rpb24oKXtyZXR1cm5bXX0sSmMucHJvdG90eXBlLmdldENsYXNzPWZ1bmN0aW9uKCl7cmV0dXJuIEpjfSxKYy5jb3B5Q29vcmQ9ZnVuY3Rpb24odCxlLG4scil7Zm9yKHZhciBpPU1hdGgubWluKHQuZ2V0RGltZW5zaW9uKCksbi5nZXREaW1lbnNpb24oKSksbz0wO288aTtvKyspbi5zZXRPcmRpbmF0ZShyLG8sdC5nZXRPcmRpbmF0ZShlLG8pKX0sSmMuaXNSaW5nPWZ1bmN0aW9uKHQpe3ZhciBlPXQuc2l6ZSgpO3JldHVybiAwPT09ZXx8IShlPD0zKSYmKHQuZ2V0T3JkaW5hdGUoMCxJbC5YKT09PXQuZ2V0T3JkaW5hdGUoZS0xLElsLlgpJiZ0LmdldE9yZGluYXRlKDAsSWwuWSk9PT10LmdldE9yZGluYXRlKGUtMSxJbC5ZKSl9LEpjLmlzRXF1YWw9ZnVuY3Rpb24odCxlKXt2YXIgbj10LnNpemUoKTtpZihuIT09ZS5zaXplKCkpcmV0dXJuITE7Zm9yKHZhciByPU1hdGgubWluKHQuZ2V0RGltZW5zaW9uKCksZS5nZXREaW1lbnNpb24oKSksaT0wO2k8bjtpKyspZm9yKHZhciBvPTA7bzxyO28rKyl7dmFyIHM9dC5nZXRPcmRpbmF0ZShpLG8pLGE9ZS5nZXRPcmRpbmF0ZShpLG8pO2lmKHQuZ2V0T3JkaW5hdGUoaSxvKSE9PWUuZ2V0T3JkaW5hdGUoaSxvKSYmKCFubC5pc05hTihzKXx8IW5sLmlzTmFOKGEpKSlyZXR1cm4hMX1yZXR1cm4hMH0sSmMuZXh0ZW5kPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj10LmNyZWF0ZShuLGUuZ2V0RGltZW5zaW9uKCkpLGk9ZS5zaXplKCk7aWYoSmMuY29weShlLDAsciwwLGkpLGk+MClmb3IodmFyIG89aTtvPG47bysrKUpjLmNvcHkoZSxpLTEscixvLDEpO3JldHVybiByfSxKYy5yZXZlcnNlPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10LnNpemUoKS0xLG49TWF0aC50cnVuYyhlLzIpLHI9MDtyPD1uO3IrKylKYy5zd2FwKHQscixlLXIpfSxKYy5zd2FwPWZ1bmN0aW9uKHQsZSxuKXtpZihlPT09bilyZXR1cm4gbnVsbDtmb3IodmFyIHI9MDtyPHQuZ2V0RGltZW5zaW9uKCk7cisrKXt2YXIgaT10LmdldE9yZGluYXRlKGUscik7dC5zZXRPcmRpbmF0ZShlLHIsdC5nZXRPcmRpbmF0ZShuLHIpKSx0LnNldE9yZGluYXRlKG4scixpKX19LEpjLmNvcHk9ZnVuY3Rpb24odCxlLG4scixpKXtmb3IodmFyIG89MDtvPGk7bysrKUpjLmNvcHlDb29yZCh0LGUrbyxuLHIrbyl9LEpjLnRvU3RyaW5nPWZ1bmN0aW9uKCl7aWYoMT09PWFyZ3VtZW50cy5sZW5ndGgpe3ZhciB0PWFyZ3VtZW50c1swXSxlPXQuc2l6ZSgpO2lmKDA9PT1lKXJldHVybiIoKSI7dmFyIG49dC5nZXREaW1lbnNpb24oKSxyPW5ldyB2bDtyLmFwcGVuZCgiKCIpO2Zvcih2YXIgaT0wO2k8ZTtpKyspe2k+MCYmci5hcHBlbmQoIiAiKTtmb3IodmFyIG89MDtvPG47bysrKW8+MCYmci5hcHBlbmQoIiwiKSxyLmFwcGVuZChIYy50b1N0cmluZyh0LmdldE9yZGluYXRlKGksbykpKX1yZXR1cm4gci5hcHBlbmQoIikiKSxyLnRvU3RyaW5nKCl9fSxKYy5lbnN1cmVWYWxpZFJpbmc9ZnVuY3Rpb24odCxlKXt2YXIgbj1lLnNpemUoKTtyZXR1cm4gMD09PW4/ZTpuPD0zP0pjLmNyZWF0ZUNsb3NlZFJpbmcodCxlLDQpOmUuZ2V0T3JkaW5hdGUoMCxJbC5YKT09PWUuZ2V0T3JkaW5hdGUobi0xLElsLlgpJiZlLmdldE9yZGluYXRlKDAsSWwuWSk9PT1lLmdldE9yZGluYXRlKG4tMSxJbC5ZKT9lOkpjLmNyZWF0ZUNsb3NlZFJpbmcodCxlLG4rMSl9LEpjLmNyZWF0ZUNsb3NlZFJpbmc9ZnVuY3Rpb24odCxlLG4pe3ZhciByPXQuY3JlYXRlKG4sZS5nZXREaW1lbnNpb24oKSksaT1lLnNpemUoKTtKYy5jb3B5KGUsMCxyLDAsaSk7Zm9yKHZhciBvPWk7bzxuO28rKylKYy5jb3B5KGUsMCxyLG8sMSk7cmV0dXJuIHJ9O3ZhciBaYz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbil7dC5jYWxsKHRoaXMsbiksdGhpcy5fcG9pbnRzPW51bGwsdGhpcy5pbml0KGUpfXQmJihlLl9fcHJvdG9fXz10KSxlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSxlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1lO3ZhciBuPXtzZXJpYWxWZXJzaW9uVUlEOntjb25maWd1cmFibGU6ITB9fTtyZXR1cm4gZS5wcm90b3R5cGUuY29tcHV0ZUVudmVsb3BlSW50ZXJuYWw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pc0VtcHR5KCk/bmV3IExsOnRoaXMuX3BvaW50cy5leHBhbmRFbnZlbG9wZShuZXcgTGwpfSxlLnByb3RvdHlwZS5pc1Jpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pc0Nsb3NlZCgpJiZ0aGlzLmlzU2ltcGxlKCl9LGUucHJvdG90eXBlLmdldFNvcnRJbmRleD1mdW5jdGlvbigpe3JldHVybiB0LlNPUlRJTkRFWF9MSU5FU1RSSU5HfSxlLnByb3RvdHlwZS5nZXRDb29yZGluYXRlcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9wb2ludHMudG9Db29yZGluYXRlQXJyYXkoKX0sZS5wcm90b3R5cGUuZXF1YWxzRXhhY3Q9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2lmKDI9PT1hcmd1bWVudHMubGVuZ3RoKXt2YXIgbj1hcmd1bWVudHNbMF0scj1hcmd1bWVudHNbMV07aWYoIXRoaXMuaXNFcXVpdmFsZW50Q2xhc3MobikpcmV0dXJuITE7dmFyIGk9bjtpZih0aGlzLl9wb2ludHMuc2l6ZSgpIT09aS5fcG9pbnRzLnNpemUoKSlyZXR1cm4hMTtmb3IodmFyIG89MDtvPHRoaXMuX3BvaW50cy5zaXplKCk7bysrKWlmKCFlLmVxdWFsKGUuX3BvaW50cy5nZXRDb29yZGluYXRlKG8pLGkuX3BvaW50cy5nZXRDb29yZGluYXRlKG8pLHIpKXJldHVybiExO3JldHVybiEwfXJldHVybiB0LnByb3RvdHlwZS5lcXVhbHNFeGFjdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LGUucHJvdG90eXBlLm5vcm1hbGl6ZT1mdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLGU9MDtlPE1hdGgudHJ1bmModGhpcy5fcG9pbnRzLnNpemUoKS8yKTtlKyspe3ZhciBuPXQuX3BvaW50cy5zaXplKCktMS1lO2lmKCF0Ll9wb2ludHMuZ2V0Q29vcmRpbmF0ZShlKS5lcXVhbHModC5fcG9pbnRzLmdldENvb3JkaW5hdGUobikpKXJldHVybiB0Ll9wb2ludHMuZ2V0Q29vcmRpbmF0ZShlKS5jb21wYXJlVG8odC5fcG9pbnRzLmdldENvb3JkaW5hdGUobikpPjAmJkpjLnJldmVyc2UodC5fcG9pbnRzKSxudWxsfX0sZS5wcm90b3R5cGUuZ2V0Q29vcmRpbmF0ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmlzRW1wdHkoKT9udWxsOnRoaXMuX3BvaW50cy5nZXRDb29yZGluYXRlKDApfSxlLnByb3RvdHlwZS5nZXRCb3VuZGFyeURpbWVuc2lvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmlzQ2xvc2VkKCk/VGMuRkFMU0U6MH0sZS5wcm90b3R5cGUuaXNDbG9zZWQ9ZnVuY3Rpb24oKXtyZXR1cm4hdGhpcy5pc0VtcHR5KCkmJnRoaXMuZ2V0Q29vcmRpbmF0ZU4oMCkuZXF1YWxzMkQodGhpcy5nZXRDb29yZGluYXRlTih0aGlzLmdldE51bVBvaW50cygpLTEpKX0sZS5wcm90b3R5cGUuZ2V0RW5kUG9pbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pc0VtcHR5KCk/bnVsbDp0aGlzLmdldFBvaW50Tih0aGlzLmdldE51bVBvaW50cygpLTEpfSxlLnByb3RvdHlwZS5nZXREaW1lbnNpb249ZnVuY3Rpb24oKXtyZXR1cm4gMX0sZS5wcm90b3R5cGUuZ2V0TGVuZ3RoPWZ1bmN0aW9uKCl7cmV0dXJuIFhsLmNvbXB1dGVMZW5ndGgodGhpcy5fcG9pbnRzKX0sZS5wcm90b3R5cGUuZ2V0TnVtUG9pbnRzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3BvaW50cy5zaXplKCl9LGUucHJvdG90eXBlLnJldmVyc2U9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9wb2ludHMuY29weSgpO3JldHVybiBKYy5yZXZlcnNlKHQpLHRoaXMuZ2V0RmFjdG9yeSgpLmNyZWF0ZUxpbmVTdHJpbmcodCl9LGUucHJvdG90eXBlLmNvbXBhcmVUb1NhbWVDbGFzcz1mdW5jdGlvbigpe3ZhciB0PXRoaXM7aWYoMT09PWFyZ3VtZW50cy5sZW5ndGgpe2Zvcih2YXIgZT1hcmd1bWVudHNbMF0sbj1lLHI9MCxpPTA7cjx0aGlzLl9wb2ludHMuc2l6ZSgpJiZpPG4uX3BvaW50cy5zaXplKCk7KXt2YXIgbz10Ll9wb2ludHMuZ2V0Q29vcmRpbmF0ZShyKS5jb21wYXJlVG8obi5fcG9pbnRzLmdldENvb3JkaW5hdGUoaSkpO2lmKDAhPT1vKXJldHVybiBvO3IrKyxpKyt9cmV0dXJuIHI8dGhpcy5fcG9pbnRzLnNpemUoKT8xOmk8bi5fcG9pbnRzLnNpemUoKT8tMTowfWlmKDI9PT1hcmd1bWVudHMubGVuZ3RoKXt2YXIgcz1hcmd1bWVudHNbMF0sYT1hcmd1bWVudHNbMV0sdT1zO3JldHVybiBhLmNvbXBhcmUodGhpcy5fcG9pbnRzLHUuX3BvaW50cyl9fSxlLnByb3RvdHlwZS5hcHBseT1mdW5jdGlvbigpe3ZhciB0PXRoaXM7aWYoZ2woYXJndW1lbnRzWzBdLEtsKSlmb3IodmFyIGU9YXJndW1lbnRzWzBdLG49MDtuPHRoaXMuX3BvaW50cy5zaXplKCk7bisrKWUuZmlsdGVyKHQuX3BvaW50cy5nZXRDb29yZGluYXRlKG4pKTtlbHNlIGlmKGdsKGFyZ3VtZW50c1swXSxGYykpe3ZhciByPWFyZ3VtZW50c1swXTtpZigwPT09dGhpcy5fcG9pbnRzLnNpemUoKSlyZXR1cm4gbnVsbDtmb3IodmFyIGk9MDtpPHRoaXMuX3BvaW50cy5zaXplKCkmJihyLmZpbHRlcih0Ll9wb2ludHMsaSksIXIuaXNEb25lKCkpO2krKyk7ci5pc0dlb21ldHJ5Q2hhbmdlZCgpJiZ0aGlzLmdlb21ldHJ5Q2hhbmdlZCgpfWVsc2UgaWYoZ2woYXJndW1lbnRzWzBdLERjKSl7dmFyIG89YXJndW1lbnRzWzBdO28uZmlsdGVyKHRoaXMpfWVsc2UgaWYoZ2woYXJndW1lbnRzWzBdLEhsKSl7dmFyIHM9YXJndW1lbnRzWzBdO3MuZmlsdGVyKHRoaXMpfX0sZS5wcm90b3R5cGUuZ2V0Qm91bmRhcnk9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHFjKHRoaXMpLmdldEJvdW5kYXJ5KCl9LGUucHJvdG90eXBlLmlzRXF1aXZhbGVudENsYXNzPWZ1bmN0aW9uKHQpe3JldHVybiB0IGluc3RhbmNlb2YgZX0sZS5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXt2YXIgZT10LnByb3RvdHlwZS5jbG9uZS5jYWxsKHRoaXMpO3JldHVybiBlLl9wb2ludHM9dGhpcy5fcG9pbnRzLmNsb25lKCksZX0sZS5wcm90b3R5cGUuZ2V0Q29vcmRpbmF0ZU49ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX3BvaW50cy5nZXRDb29yZGluYXRlKHQpfSxlLnByb3RvdHlwZS5nZXRHZW9tZXRyeVR5cGU9ZnVuY3Rpb24oKXtyZXR1cm4iTGluZVN0cmluZyJ9LGUucHJvdG90eXBlLmNvcHk9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGUodGhpcy5fcG9pbnRzLmNvcHkoKSx0aGlzLl9mYWN0b3J5KX0sZS5wcm90b3R5cGUuZ2V0Q29vcmRpbmF0ZVNlcXVlbmNlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3BvaW50c30sZS5wcm90b3R5cGUuaXNFbXB0eT1mdW5jdGlvbigpe3JldHVybiAwPT09dGhpcy5fcG9pbnRzLnNpemUoKX0sZS5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbih0KXtpZihudWxsPT09dCYmKHQ9dGhpcy5nZXRGYWN0b3J5KCkuZ2V0Q29vcmRpbmF0ZVNlcXVlbmNlRmFjdG9yeSgpLmNyZWF0ZShbXSkpLDE9PT10LnNpemUoKSl0aHJvdyBuZXcgZWwoIkludmFsaWQgbnVtYmVyIG9mIHBvaW50cyBpbiBMaW5lU3RyaW5nIChmb3VuZCAiK3Quc2l6ZSgpKyIgLSBtdXN0IGJlIDAgb3IgPj0gMikiKTt0aGlzLl9wb2ludHM9dH0sZS5wcm90b3R5cGUuaXNDb29yZGluYXRlPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wO2U8dGhpcy5fcG9pbnRzLnNpemUoKTtlKyspaWYodGhpcy5fcG9pbnRzLmdldENvb3JkaW5hdGUoZSkuZXF1YWxzKHQpKXJldHVybiEwO3JldHVybiExfSxlLnByb3RvdHlwZS5nZXRTdGFydFBvaW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXNFbXB0eSgpP251bGw6dGhpcy5nZXRQb2ludE4oMCl9LGUucHJvdG90eXBlLmdldFBvaW50Tj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5nZXRGYWN0b3J5KCkuY3JlYXRlUG9pbnQodGhpcy5fcG9pbnRzLmdldENvb3JkaW5hdGUodCkpfSxlLnByb3RvdHlwZS5pbnRlcmZhY2VzXz1mdW5jdGlvbigpe3JldHVybltQY119LGUucHJvdG90eXBlLmdldENsYXNzPWZ1bmN0aW9uKCl7cmV0dXJuIGV9LG4uc2VyaWFsVmVyc2lvblVJRC5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gMHgyYjJiNTFiYTQzNWM4ZTAwfSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLG4pLGV9KFdsKSxLYz1mdW5jdGlvbigpe307S2MucHJvdG90eXBlLmludGVyZmFjZXNfPWZ1bmN0aW9uKCl7cmV0dXJuW119LEtjLnByb3RvdHlwZS5nZXRDbGFzcz1mdW5jdGlvbigpe3JldHVybiBLY307dmFyIFFjPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuKXt0LmNhbGwodGhpcyxuKSx0aGlzLl9jb29yZGluYXRlcz1lfHxudWxsLHRoaXMuaW5pdCh0aGlzLl9jb29yZGluYXRlcyl9dCYmKGUuX19wcm90b19fPXQpLGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpLGUucHJvdG90eXBlLmNvbnN0cnVjdG9yPWU7dmFyIG49e3NlcmlhbFZlcnNpb25VSUQ6e2NvbmZpZ3VyYWJsZTohMH19O3JldHVybiBlLnByb3RvdHlwZS5jb21wdXRlRW52ZWxvcGVJbnRlcm5hbD1mdW5jdGlvbigpe2lmKHRoaXMuaXNFbXB0eSgpKXJldHVybiBuZXcgTGw7dmFyIHQ9bmV3IExsO3JldHVybiB0LmV4cGFuZFRvSW5jbHVkZSh0aGlzLl9jb29yZGluYXRlcy5nZXRYKDApLHRoaXMuX2Nvb3JkaW5hdGVzLmdldFkoMCkpLHR9LGUucHJvdG90eXBlLmdldFNvcnRJbmRleD1mdW5jdGlvbigpe3JldHVybiB0LlNPUlRJTkRFWF9QT0lOVH0sZS5wcm90b3R5cGUuZ2V0Q29vcmRpbmF0ZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pc0VtcHR5KCk/W106W3RoaXMuZ2V0Q29vcmRpbmF0ZSgpXX0sZS5wcm90b3R5cGUuZXF1YWxzRXhhY3Q9ZnVuY3Rpb24oKXtpZigyPT09YXJndW1lbnRzLmxlbmd0aCl7dmFyIGU9YXJndW1lbnRzWzBdLG49YXJndW1lbnRzWzFdO3JldHVybiEhdGhpcy5pc0VxdWl2YWxlbnRDbGFzcyhlKSYmKCEoIXRoaXMuaXNFbXB0eSgpfHwhZS5pc0VtcHR5KCkpfHx0aGlzLmlzRW1wdHkoKT09PWUuaXNFbXB0eSgpJiZ0aGlzLmVxdWFsKGUuZ2V0Q29vcmRpbmF0ZSgpLHRoaXMuZ2V0Q29vcmRpbmF0ZSgpLG4pKX1yZXR1cm4gdC5wcm90b3R5cGUuZXF1YWxzRXhhY3QuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxlLnByb3RvdHlwZS5ub3JtYWxpemU9ZnVuY3Rpb24oKXt9LGUucHJvdG90eXBlLmdldENvb3JkaW5hdGU9ZnVuY3Rpb24oKXtyZXR1cm4gMCE9PXRoaXMuX2Nvb3JkaW5hdGVzLnNpemUoKT90aGlzLl9jb29yZGluYXRlcy5nZXRDb29yZGluYXRlKDApOm51bGx9LGUucHJvdG90eXBlLmdldEJvdW5kYXJ5RGltZW5zaW9uPWZ1bmN0aW9uKCl7cmV0dXJuIFRjLkZBTFNFfSxlLnByb3RvdHlwZS5nZXREaW1lbnNpb249ZnVuY3Rpb24oKXtyZXR1cm4gMH0sZS5wcm90b3R5cGUuZ2V0TnVtUG9pbnRzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXNFbXB0eSgpPzA6MX0sZS5wcm90b3R5cGUucmV2ZXJzZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvcHkoKX0sZS5wcm90b3R5cGUuZ2V0WD1mdW5jdGlvbigpe2lmKG51bGw9PT10aGlzLmdldENvb3JkaW5hdGUoKSl0aHJvdyBuZXcgRXJyb3IoImdldFggY2FsbGVkIG9uIGVtcHR5IFBvaW50Iik7cmV0dXJuIHRoaXMuZ2V0Q29vcmRpbmF0ZSgpLnh9LGUucHJvdG90eXBlLmNvbXBhcmVUb1NhbWVDbGFzcz1mdW5jdGlvbigpe2lmKDE9PT1hcmd1bWVudHMubGVuZ3RoKXt2YXIgdD1hcmd1bWVudHNbMF0sZT10O3JldHVybiB0aGlzLmdldENvb3JkaW5hdGUoKS5jb21wYXJlVG8oZS5nZXRDb29yZGluYXRlKCkpfWlmKDI9PT1hcmd1bWVudHMubGVuZ3RoKXt2YXIgbj1hcmd1bWVudHNbMF0scj1hcmd1bWVudHNbMV0saT1uO3JldHVybiByLmNvbXBhcmUodGhpcy5fY29vcmRpbmF0ZXMsaS5fY29vcmRpbmF0ZXMpfX0sZS5wcm90b3R5cGUuYXBwbHk9ZnVuY3Rpb24oKXtpZihnbChhcmd1bWVudHNbMF0sS2wpKXt2YXIgdD1hcmd1bWVudHNbMF07aWYodGhpcy5pc0VtcHR5KCkpcmV0dXJuIG51bGw7dC5maWx0ZXIodGhpcy5nZXRDb29yZGluYXRlKCkpfWVsc2UgaWYoZ2woYXJndW1lbnRzWzBdLEZjKSl7dmFyIGU9YXJndW1lbnRzWzBdO2lmKHRoaXMuaXNFbXB0eSgpKXJldHVybiBudWxsO2UuZmlsdGVyKHRoaXMuX2Nvb3JkaW5hdGVzLDApLGUuaXNHZW9tZXRyeUNoYW5nZWQoKSYmdGhpcy5nZW9tZXRyeUNoYW5nZWQoKX1lbHNlIGlmKGdsKGFyZ3VtZW50c1swXSxEYykpe3ZhciBuPWFyZ3VtZW50c1swXTtuLmZpbHRlcih0aGlzKX1lbHNlIGlmKGdsKGFyZ3VtZW50c1swXSxIbCkpe3ZhciByPWFyZ3VtZW50c1swXTtyLmZpbHRlcih0aGlzKX19LGUucHJvdG90eXBlLmdldEJvdW5kYXJ5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0RmFjdG9yeSgpLmNyZWF0ZUdlb21ldHJ5Q29sbGVjdGlvbihudWxsKX0sZS5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXt2YXIgZT10LnByb3RvdHlwZS5jbG9uZS5jYWxsKHRoaXMpO3JldHVybiBlLl9jb29yZGluYXRlcz10aGlzLl9jb29yZGluYXRlcy5jbG9uZSgpLGV9LGUucHJvdG90eXBlLmdldEdlb21ldHJ5VHlwZT1mdW5jdGlvbigpe3JldHVybiJQb2ludCJ9LGUucHJvdG90eXBlLmNvcHk9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGUodGhpcy5fY29vcmRpbmF0ZXMuY29weSgpLHRoaXMuX2ZhY3RvcnkpfSxlLnByb3RvdHlwZS5nZXRDb29yZGluYXRlU2VxdWVuY2U9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY29vcmRpbmF0ZXN9LGUucHJvdG90eXBlLmdldFk9ZnVuY3Rpb24oKXtpZihudWxsPT09dGhpcy5nZXRDb29yZGluYXRlKCkpdGhyb3cgbmV3IEVycm9yKCJnZXRZIGNhbGxlZCBvbiBlbXB0eSBQb2ludCIpO3JldHVybiB0aGlzLmdldENvb3JkaW5hdGUoKS55fSxlLnByb3RvdHlwZS5pc0VtcHR5PWZ1bmN0aW9uKCl7cmV0dXJuIDA9PT10aGlzLl9jb29yZGluYXRlcy5zaXplKCl9LGUucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24odCl7bnVsbD09PXQmJih0PXRoaXMuZ2V0RmFjdG9yeSgpLmdldENvb3JkaW5hdGVTZXF1ZW5jZUZhY3RvcnkoKS5jcmVhdGUoW10pKSxxbC5pc1RydWUodC5zaXplKCk8PTEpLHRoaXMuX2Nvb3JkaW5hdGVzPXR9LGUucHJvdG90eXBlLmlzU2ltcGxlPWZ1bmN0aW9uKCl7cmV0dXJuITB9LGUucHJvdG90eXBlLmludGVyZmFjZXNfPWZ1bmN0aW9uKCl7cmV0dXJuW0tjXX0sZS5wcm90b3R5cGUuZ2V0Q2xhc3M9ZnVuY3Rpb24oKXtyZXR1cm4gZX0sbi5zZXJpYWxWZXJzaW9uVUlELmdldD1mdW5jdGlvbigpe3JldHVybiAweDQ0MDc3YmFkMTYxY2JjMDB9LE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsbiksZX0oV2wpLCRjPWZ1bmN0aW9uKCl7fTskYy5wcm90b3R5cGUuaW50ZXJmYWNlc189ZnVuY3Rpb24oKXtyZXR1cm5bXX0sJGMucHJvdG90eXBlLmdldENsYXNzPWZ1bmN0aW9uKCl7cmV0dXJuICRjfTt2YXIgdGg9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLG4scil7aWYodC5jYWxsKHRoaXMsciksdGhpcy5fc2hlbGw9bnVsbCx0aGlzLl9ob2xlcz1udWxsLG51bGw9PT1lJiYoZT10aGlzLmdldEZhY3RvcnkoKS5jcmVhdGVMaW5lYXJSaW5nKCkpLG51bGw9PT1uJiYobj1bXSksdC5oYXNOdWxsRWxlbWVudHMobikpdGhyb3cgbmV3IGVsKCJob2xlcyBtdXN0IG5vdCBjb250YWluIG51bGwgZWxlbWVudHMiKTtpZihlLmlzRW1wdHkoKSYmdC5oYXNOb25FbXB0eUVsZW1lbnRzKG4pKXRocm93IG5ldyBlbCgic2hlbGwgaXMgZW1wdHkgYnV0IGhvbGVzIGFyZSBub3QiKTt0aGlzLl9zaGVsbD1lLHRoaXMuX2hvbGVzPW59dCYmKGUuX19wcm90b19fPXQpLGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpLGUucHJvdG90eXBlLmNvbnN0cnVjdG9yPWU7dmFyIG49e3NlcmlhbFZlcnNpb25VSUQ6e2NvbmZpZ3VyYWJsZTohMH19O3JldHVybiBlLnByb3RvdHlwZS5jb21wdXRlRW52ZWxvcGVJbnRlcm5hbD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zaGVsbC5nZXRFbnZlbG9wZUludGVybmFsKCl9LGUucHJvdG90eXBlLmdldFNvcnRJbmRleD1mdW5jdGlvbigpe3JldHVybiB0LlNPUlRJTkRFWF9QT0xZR09OfSxlLnByb3RvdHlwZS5nZXRDb29yZGluYXRlcz1mdW5jdGlvbigpe2lmKHRoaXMuaXNFbXB0eSgpKXJldHVybltdO2Zvcih2YXIgdD1uZXcgQXJyYXkodGhpcy5nZXROdW1Qb2ludHMoKSkuZmlsbChudWxsKSxlPS0xLG49dGhpcy5fc2hlbGwuZ2V0Q29vcmRpbmF0ZXMoKSxyPTA7cjxuLmxlbmd0aDtyKyspdFsrK2VdPW5bcl07Zm9yKHZhciBpPTA7aTx0aGlzLl9ob2xlcy5sZW5ndGg7aSsrKWZvcih2YXIgbz10aGlzLl9ob2xlc1tpXS5nZXRDb29yZGluYXRlcygpLHM9MDtzPG8ubGVuZ3RoO3MrKyl0WysrZV09b1tzXTtyZXR1cm4gdH0sZS5wcm90b3R5cGUuZ2V0QXJlYT1mdW5jdGlvbigpe3ZhciB0PTA7dCs9TWF0aC5hYnMoWGwuc2lnbmVkQXJlYSh0aGlzLl9zaGVsbC5nZXRDb29yZGluYXRlU2VxdWVuY2UoKSkpO2Zvcih2YXIgZT0wO2U8dGhpcy5faG9sZXMubGVuZ3RoO2UrKyl0LT1NYXRoLmFicyhYbC5zaWduZWRBcmVhKHRoaXMuX2hvbGVzW2VdLmdldENvb3JkaW5hdGVTZXF1ZW5jZSgpKSk7cmV0dXJuIHR9LGUucHJvdG90eXBlLmlzUmVjdGFuZ2xlPWZ1bmN0aW9uKCl7aWYoMCE9PXRoaXMuZ2V0TnVtSW50ZXJpb3JSaW5nKCkpcmV0dXJuITE7aWYobnVsbD09PXRoaXMuX3NoZWxsKXJldHVybiExO2lmKDUhPT10aGlzLl9zaGVsbC5nZXROdW1Qb2ludHMoKSlyZXR1cm4hMTtmb3IodmFyIHQ9dGhpcy5fc2hlbGwuZ2V0Q29vcmRpbmF0ZVNlcXVlbmNlKCksZT10aGlzLmdldEVudmVsb3BlSW50ZXJuYWwoKSxuPTA7bjw1O24rKyl7dmFyIHI9dC5nZXRYKG4pO2lmKHIhPT1lLmdldE1pblgoKSYmciE9PWUuZ2V0TWF4WCgpKXJldHVybiExO3ZhciBpPXQuZ2V0WShuKTtpZihpIT09ZS5nZXRNaW5ZKCkmJmkhPT1lLmdldE1heFkoKSlyZXR1cm4hMX1mb3IodmFyIG89dC5nZXRYKDApLHM9dC5nZXRZKDApLGE9MTthPD00O2ErKyl7dmFyIHU9dC5nZXRYKGEpLGw9dC5nZXRZKGEpO2lmKHUhPT1vPT09KGwhPT1zKSlyZXR1cm4hMTtvPXUscz1sfXJldHVybiEwfSxlLnByb3RvdHlwZS5lcXVhbHNFeGFjdD1mdW5jdGlvbigpe3ZhciBlPXRoaXM7aWYoMj09PWFyZ3VtZW50cy5sZW5ndGgpe3ZhciBuPWFyZ3VtZW50c1swXSxyPWFyZ3VtZW50c1sxXTtpZighdGhpcy5pc0VxdWl2YWxlbnRDbGFzcyhuKSlyZXR1cm4hMTt2YXIgaT1uLG89dGhpcy5fc2hlbGwscz1pLl9zaGVsbDtpZighby5lcXVhbHNFeGFjdChzLHIpKXJldHVybiExO2lmKHRoaXMuX2hvbGVzLmxlbmd0aCE9PWkuX2hvbGVzLmxlbmd0aClyZXR1cm4hMTtmb3IodmFyIGE9MDthPHRoaXMuX2hvbGVzLmxlbmd0aDthKyspaWYoIWUuX2hvbGVzW2FdLmVxdWFsc0V4YWN0KGkuX2hvbGVzW2FdLHIpKXJldHVybiExO3JldHVybiEwfXJldHVybiB0LnByb3RvdHlwZS5lcXVhbHNFeGFjdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LGUucHJvdG90eXBlLm5vcm1hbGl6ZT1mdW5jdGlvbigpe3ZhciB0PXRoaXM7aWYoMD09PWFyZ3VtZW50cy5sZW5ndGgpe3RoaXMubm9ybWFsaXplKHRoaXMuX3NoZWxsLCEwKTtmb3IodmFyIGU9MDtlPHRoaXMuX2hvbGVzLmxlbmd0aDtlKyspdC5ub3JtYWxpemUodC5faG9sZXNbZV0sITEpO1JjLnNvcnQodGhpcy5faG9sZXMpfWVsc2UgaWYoMj09PWFyZ3VtZW50cy5sZW5ndGgpe3ZhciBuPWFyZ3VtZW50c1swXSxyPWFyZ3VtZW50c1sxXTtpZihuLmlzRW1wdHkoKSlyZXR1cm4gbnVsbDt2YXIgaT1uZXcgQXJyYXkobi5nZXRDb29yZGluYXRlcygpLmxlbmd0aC0xKS5maWxsKG51bGwpO1BsLmFycmF5Y29weShuLmdldENvb3JkaW5hdGVzKCksMCxpLDAsaS5sZW5ndGgpO3ZhciBvPXBjLm1pbkNvb3JkaW5hdGUobi5nZXRDb29yZGluYXRlcygpKTtwYy5zY3JvbGwoaSxvKSxQbC5hcnJheWNvcHkoaSwwLG4uZ2V0Q29vcmRpbmF0ZXMoKSwwLGkubGVuZ3RoKSxuLmdldENvb3JkaW5hdGVzKClbaS5sZW5ndGhdPWlbMF0sWGwuaXNDQ1cobi5nZXRDb29yZGluYXRlcygpKT09PXImJnBjLnJldmVyc2Uobi5nZXRDb29yZGluYXRlcygpKX19LGUucHJvdG90eXBlLmdldENvb3JkaW5hdGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2hlbGwuZ2V0Q29vcmRpbmF0ZSgpfSxlLnByb3RvdHlwZS5nZXROdW1JbnRlcmlvclJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faG9sZXMubGVuZ3RofSxlLnByb3RvdHlwZS5nZXRCb3VuZGFyeURpbWVuc2lvbj1mdW5jdGlvbigpe3JldHVybiAxfSxlLnByb3RvdHlwZS5nZXREaW1lbnNpb249ZnVuY3Rpb24oKXtyZXR1cm4gMn0sZS5wcm90b3R5cGUuZ2V0TGVuZ3RoPWZ1bmN0aW9uKCl7dmFyIHQ9MDt0Kz10aGlzLl9zaGVsbC5nZXRMZW5ndGgoKTtmb3IodmFyIGU9MDtlPHRoaXMuX2hvbGVzLmxlbmd0aDtlKyspdCs9dGhpcy5faG9sZXNbZV0uZ2V0TGVuZ3RoKCk7cmV0dXJuIHR9LGUucHJvdG90eXBlLmdldE51bVBvaW50cz1mdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLl9zaGVsbC5nZXROdW1Qb2ludHMoKSxlPTA7ZTx0aGlzLl9ob2xlcy5sZW5ndGg7ZSsrKXQrPXRoaXMuX2hvbGVzW2VdLmdldE51bVBvaW50cygpO3JldHVybiB0fSxlLnByb3RvdHlwZS5yZXZlcnNlPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5jb3B5KCk7dC5fc2hlbGw9dGhpcy5fc2hlbGwuY29weSgpLnJldmVyc2UoKSx0Ll9ob2xlcz1uZXcgQXJyYXkodGhpcy5faG9sZXMubGVuZ3RoKS5maWxsKG51bGwpO2Zvcih2YXIgZT0wO2U8dGhpcy5faG9sZXMubGVuZ3RoO2UrKyl0Ll9ob2xlc1tlXT10aGlzLl9ob2xlc1tlXS5jb3B5KCkucmV2ZXJzZSgpO3JldHVybiB0fSxlLnByb3RvdHlwZS5jb252ZXhIdWxsPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0RXh0ZXJpb3JSaW5nKCkuY29udmV4SHVsbCgpfSxlLnByb3RvdHlwZS5jb21wYXJlVG9TYW1lQ2xhc3M9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO2lmKDE9PT1hcmd1bWVudHMubGVuZ3RoKXt2YXIgZT1hcmd1bWVudHNbMF0sbj10aGlzLl9zaGVsbCxyPWUuX3NoZWxsO3JldHVybiBuLmNvbXBhcmVUb1NhbWVDbGFzcyhyKX1pZigyPT09YXJndW1lbnRzLmxlbmd0aCl7dmFyIGk9YXJndW1lbnRzWzBdLG89YXJndW1lbnRzWzFdLHM9aSxhPXRoaXMuX3NoZWxsLHU9cy5fc2hlbGwsbD1hLmNvbXBhcmVUb1NhbWVDbGFzcyh1LG8pO2lmKDAhPT1sKXJldHVybiBsO2Zvcih2YXIgYz10aGlzLmdldE51bUludGVyaW9yUmluZygpLGg9cy5nZXROdW1JbnRlcmlvclJpbmcoKSxwPTA7cDxjJiZwPGg7KXt2YXIgZj10LmdldEludGVyaW9yUmluZ04ocCksZz1zLmdldEludGVyaW9yUmluZ04ocCksZD1mLmNvbXBhcmVUb1NhbWVDbGFzcyhnLG8pO2lmKDAhPT1kKXJldHVybiBkO3ArK31yZXR1cm4gcDxjPzE6cDxoPy0xOjB9fSxlLnByb3RvdHlwZS5hcHBseT1mdW5jdGlvbih0KXt2YXIgZT10aGlzO2lmKGdsKHQsS2wpKXt0aGlzLl9zaGVsbC5hcHBseSh0KTtmb3IodmFyIG49MDtuPHRoaXMuX2hvbGVzLmxlbmd0aDtuKyspZS5faG9sZXNbbl0uYXBwbHkodCl9ZWxzZSBpZihnbCh0LEZjKSl7aWYodGhpcy5fc2hlbGwuYXBwbHkodCksIXQuaXNEb25lKCkpZm9yKHZhciByPTA7cjx0aGlzLl9ob2xlcy5sZW5ndGgmJihlLl9ob2xlc1tyXS5hcHBseSh0KSwhdC5pc0RvbmUoKSk7cisrKTt0LmlzR2VvbWV0cnlDaGFuZ2VkKCkmJnRoaXMuZ2VvbWV0cnlDaGFuZ2VkKCl9ZWxzZSBpZihnbCh0LERjKSl0LmZpbHRlcih0aGlzKTtlbHNlIGlmKGdsKHQsSGwpKXt0LmZpbHRlcih0aGlzKSx0aGlzLl9zaGVsbC5hcHBseSh0KTtmb3IodmFyIGk9MDtpPHRoaXMuX2hvbGVzLmxlbmd0aDtpKyspZS5faG9sZXNbaV0uYXBwbHkodCl9fSxlLnByb3RvdHlwZS5nZXRCb3VuZGFyeT1mdW5jdGlvbigpe2lmKHRoaXMuaXNFbXB0eSgpKXJldHVybiB0aGlzLmdldEZhY3RvcnkoKS5jcmVhdGVNdWx0aUxpbmVTdHJpbmcoKTt2YXIgdD1uZXcgQXJyYXkodGhpcy5faG9sZXMubGVuZ3RoKzEpLmZpbGwobnVsbCk7dFswXT10aGlzLl9zaGVsbDtmb3IodmFyIGU9MDtlPHRoaXMuX2hvbGVzLmxlbmd0aDtlKyspdFtlKzFdPXRoaXMuX2hvbGVzW2VdO3JldHVybiB0Lmxlbmd0aDw9MT90aGlzLmdldEZhY3RvcnkoKS5jcmVhdGVMaW5lYXJSaW5nKHRbMF0uZ2V0Q29vcmRpbmF0ZVNlcXVlbmNlKCkpOnRoaXMuZ2V0RmFjdG9yeSgpLmNyZWF0ZU11bHRpTGluZVN0cmluZyh0KX0sZS5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXt2YXIgZT10LnByb3RvdHlwZS5jbG9uZS5jYWxsKHRoaXMpO2UuX3NoZWxsPXRoaXMuX3NoZWxsLmNsb25lKCksZS5faG9sZXM9bmV3IEFycmF5KHRoaXMuX2hvbGVzLmxlbmd0aCkuZmlsbChudWxsKTtmb3IodmFyIG49MDtuPHRoaXMuX2hvbGVzLmxlbmd0aDtuKyspZS5faG9sZXNbbl09dGhpcy5faG9sZXNbbl0uY2xvbmUoKTtyZXR1cm4gZX0sZS5wcm90b3R5cGUuZ2V0R2VvbWV0cnlUeXBlPWZ1bmN0aW9uKCl7cmV0dXJuIlBvbHlnb24ifSxlLnByb3RvdHlwZS5jb3B5PWZ1bmN0aW9uKCl7Zm9yKHZhciB0PXRoaXMuX3NoZWxsLmNvcHkoKSxuPW5ldyBBcnJheSh0aGlzLl9ob2xlcy5sZW5ndGgpLmZpbGwobnVsbCkscj0wO3I8bi5sZW5ndGg7cisrKW5bcl09dGhpcy5faG9sZXNbcl0uY29weSgpO3JldHVybiBuZXcgZSh0LG4sdGhpcy5fZmFjdG9yeSl9LGUucHJvdG90eXBlLmdldEV4dGVyaW9yUmluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zaGVsbH0sZS5wcm90b3R5cGUuaXNFbXB0eT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zaGVsbC5pc0VtcHR5KCl9LGUucHJvdG90eXBlLmdldEludGVyaW9yUmluZ049ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2hvbGVzW3RdfSxlLnByb3RvdHlwZS5pbnRlcmZhY2VzXz1mdW5jdGlvbigpe3JldHVyblskY119LGUucHJvdG90eXBlLmdldENsYXNzPWZ1bmN0aW9uKCl7cmV0dXJuIGV9LG4uc2VyaWFsVmVyc2lvblVJRC5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4tMHgzMDdmZmVmZDhkYzk3MjAwfSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLG4pLGV9KFdsKSxlaD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9dCYmKGUuX19wcm90b19fPXQpLGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpLGUucHJvdG90eXBlLmNvbnN0cnVjdG9yPWU7dmFyIG49e3NlcmlhbFZlcnNpb25VSUQ6e2NvbmZpZ3VyYWJsZTohMH19O3JldHVybiBlLnByb3RvdHlwZS5nZXRTb3J0SW5kZXg9ZnVuY3Rpb24oKXtyZXR1cm4gV2wuU09SVElOREVYX01VTFRJUE9JTlR9LGUucHJvdG90eXBlLmlzVmFsaWQ9ZnVuY3Rpb24oKXtyZXR1cm4hMH0sZS5wcm90b3R5cGUuZXF1YWxzRXhhY3Q9ZnVuY3Rpb24oKXtpZigyPT09YXJndW1lbnRzLmxlbmd0aCl7dmFyIGU9YXJndW1lbnRzWzBdLG49YXJndW1lbnRzWzFdO3JldHVybiEhdGhpcy5pc0VxdWl2YWxlbnRDbGFzcyhlKSYmdC5wcm90b3R5cGUuZXF1YWxzRXhhY3QuY2FsbCh0aGlzLGUsbil9cmV0dXJuIHQucHJvdG90eXBlLmVxdWFsc0V4YWN0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sZS5wcm90b3R5cGUuZ2V0Q29vcmRpbmF0ZT1mdW5jdGlvbigpe2lmKDE9PT1hcmd1bWVudHMubGVuZ3RoKXt2YXIgZT1hcmd1bWVudHNbMF07cmV0dXJuIHRoaXMuX2dlb21ldHJpZXNbZV0uZ2V0Q29vcmRpbmF0ZSgpfXJldHVybiB0LnByb3RvdHlwZS5nZXRDb29yZGluYXRlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sZS5wcm90b3R5cGUuZ2V0Qm91bmRhcnlEaW1lbnNpb249ZnVuY3Rpb24oKXtyZXR1cm4gVGMuRkFMU0V9LGUucHJvdG90eXBlLmdldERpbWVuc2lvbj1mdW5jdGlvbigpe3JldHVybiAwfSxlLnByb3RvdHlwZS5nZXRCb3VuZGFyeT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldEZhY3RvcnkoKS5jcmVhdGVHZW9tZXRyeUNvbGxlY3Rpb24obnVsbCl9LGUucHJvdG90eXBlLmdldEdlb21ldHJ5VHlwZT1mdW5jdGlvbigpe3JldHVybiJNdWx0aVBvaW50In0sZS5wcm90b3R5cGUuY29weT1mdW5jdGlvbigpe2Zvcih2YXIgdD1uZXcgQXJyYXkodGhpcy5fZ2VvbWV0cmllcy5sZW5ndGgpLmZpbGwobnVsbCksbj0wO248dC5sZW5ndGg7bisrKXRbbl09dGhpcy5fZ2VvbWV0cmllc1tuXS5jb3B5KCk7cmV0dXJuIG5ldyBlKHQsdGhpcy5fZmFjdG9yeSl9LGUucHJvdG90eXBlLmludGVyZmFjZXNfPWZ1bmN0aW9uKCl7cmV0dXJuW0tjXX0sZS5wcm90b3R5cGUuZ2V0Q2xhc3M9ZnVuY3Rpb24oKXtyZXR1cm4gZX0sbi5zZXJpYWxWZXJzaW9uVUlELmdldD1mdW5jdGlvbigpe3JldHVybi0weDZmYjFlZDQxNjJlMGZjMDB9LE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsbiksZX0oa2MpLG5oPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuKXtlIGluc3RhbmNlb2YgdWwmJm4gaW5zdGFuY2VvZiBfaCYmKGU9bi5nZXRDb29yZGluYXRlU2VxdWVuY2VGYWN0b3J5KCkuY3JlYXRlKGUpKSx0LmNhbGwodGhpcyxlLG4pLHRoaXMudmFsaWRhdGVDb25zdHJ1Y3Rpb24oKX10JiYoZS5fX3Byb3RvX189dCksZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSksZS5wcm90b3R5cGUuY29uc3RydWN0b3I9ZTt2YXIgbj17TUlOSU1VTV9WQUxJRF9TSVpFOntjb25maWd1cmFibGU6ITB9LHNlcmlhbFZlcnNpb25VSUQ6e2NvbmZpZ3VyYWJsZTohMH19O3JldHVybiBlLnByb3RvdHlwZS5nZXRTb3J0SW5kZXg9ZnVuY3Rpb24oKXtyZXR1cm4gV2wuU09SVElOREVYX0xJTkVBUlJJTkd9LGUucHJvdG90eXBlLmdldEJvdW5kYXJ5RGltZW5zaW9uPWZ1bmN0aW9uKCl7cmV0dXJuIFRjLkZBTFNFfSxlLnByb3RvdHlwZS5pc0Nsb3NlZD1mdW5jdGlvbigpe3JldHVybiEhdGhpcy5pc0VtcHR5KCl8fHQucHJvdG90eXBlLmlzQ2xvc2VkLmNhbGwodGhpcyl9LGUucHJvdG90eXBlLnJldmVyc2U9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9wb2ludHMuY29weSgpO3JldHVybiBKYy5yZXZlcnNlKHQpLHRoaXMuZ2V0RmFjdG9yeSgpLmNyZWF0ZUxpbmVhclJpbmcodCl9LGUucHJvdG90eXBlLnZhbGlkYXRlQ29uc3RydWN0aW9uPWZ1bmN0aW9uKCl7aWYoIXRoaXMuaXNFbXB0eSgpJiYhdC5wcm90b3R5cGUuaXNDbG9zZWQuY2FsbCh0aGlzKSl0aHJvdyBuZXcgZWwoIlBvaW50cyBvZiBMaW5lYXJSaW5nIGRvIG5vdCBmb3JtIGEgY2xvc2VkIGxpbmVzdHJpbmciKTtpZih0aGlzLmdldENvb3JkaW5hdGVTZXF1ZW5jZSgpLnNpemUoKT49MSYmdGhpcy5nZXRDb29yZGluYXRlU2VxdWVuY2UoKS5zaXplKCk8ZS5NSU5JTVVNX1ZBTElEX1NJWkUpdGhyb3cgbmV3IGVsKCJJbnZhbGlkIG51bWJlciBvZiBwb2ludHMgaW4gTGluZWFyUmluZyAoZm91bmQgIit0aGlzLmdldENvb3JkaW5hdGVTZXF1ZW5jZSgpLnNpemUoKSsiIC0gbXVzdCBiZSAwIG9yID49IDQpIil9LGUucHJvdG90eXBlLmdldEdlb21ldHJ5VHlwZT1mdW5jdGlvbigpe3JldHVybiJMaW5lYXJSaW5nIn0sZS5wcm90b3R5cGUuY29weT1mdW5jdGlvbigpe3JldHVybiBuZXcgZSh0aGlzLl9wb2ludHMuY29weSgpLHRoaXMuX2ZhY3RvcnkpfSxlLnByb3RvdHlwZS5pbnRlcmZhY2VzXz1mdW5jdGlvbigpe3JldHVybltdfSxlLnByb3RvdHlwZS5nZXRDbGFzcz1mdW5jdGlvbigpe3JldHVybiBlfSxuLk1JTklNVU1fVkFMSURfU0laRS5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gNH0sbi5zZXJpYWxWZXJzaW9uVUlELmdldD1mdW5jdGlvbigpe3JldHVybi0weDNiMjI5ZTI2MjM2N2E2MDB9LE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsbiksZX0oWmMpLHJoPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX10JiYoZS5fX3Byb3RvX189dCksZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSksZS5wcm90b3R5cGUuY29uc3RydWN0b3I9ZTt2YXIgbj17c2VyaWFsVmVyc2lvblVJRDp7Y29uZmlndXJhYmxlOiEwfX07cmV0dXJuIGUucHJvdG90eXBlLmdldFNvcnRJbmRleD1mdW5jdGlvbigpe3JldHVybiBXbC5TT1JUSU5ERVhfTVVMVElQT0xZR09OfSxlLnByb3RvdHlwZS5lcXVhbHNFeGFjdD1mdW5jdGlvbigpe2lmKDI9PT1hcmd1bWVudHMubGVuZ3RoKXt2YXIgZT1hcmd1bWVudHNbMF0sbj1hcmd1bWVudHNbMV07cmV0dXJuISF0aGlzLmlzRXF1aXZhbGVudENsYXNzKGUpJiZ0LnByb3RvdHlwZS5lcXVhbHNFeGFjdC5jYWxsKHRoaXMsZSxuKX1yZXR1cm4gdC5wcm90b3R5cGUuZXF1YWxzRXhhY3QuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxlLnByb3RvdHlwZS5nZXRCb3VuZGFyeURpbWVuc2lvbj1mdW5jdGlvbigpe3JldHVybiAxfSxlLnByb3RvdHlwZS5nZXREaW1lbnNpb249ZnVuY3Rpb24oKXtyZXR1cm4gMn0sZS5wcm90b3R5cGUucmV2ZXJzZT1mdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLl9nZW9tZXRyaWVzLmxlbmd0aCxlPW5ldyBBcnJheSh0KS5maWxsKG51bGwpLG49MDtuPHRoaXMuX2dlb21ldHJpZXMubGVuZ3RoO24rKyllW25dPXRoaXMuX2dlb21ldHJpZXNbbl0ucmV2ZXJzZSgpO3JldHVybiB0aGlzLmdldEZhY3RvcnkoKS5jcmVhdGVNdWx0aVBvbHlnb24oZSl9LGUucHJvdG90eXBlLmdldEJvdW5kYXJ5PWZ1bmN0aW9uKCl7aWYodGhpcy5pc0VtcHR5KCkpcmV0dXJuIHRoaXMuZ2V0RmFjdG9yeSgpLmNyZWF0ZU11bHRpTGluZVN0cmluZygpO2Zvcih2YXIgdD1uZXcgbGMsZT0wO2U8dGhpcy5fZ2VvbWV0cmllcy5sZW5ndGg7ZSsrKWZvcih2YXIgbj10aGlzLl9nZW9tZXRyaWVzW2VdLmdldEJvdW5kYXJ5KCkscj0wO3I8bi5nZXROdW1HZW9tZXRyaWVzKCk7cisrKXQuYWRkKG4uZ2V0R2VvbWV0cnlOKHIpKTt2YXIgaT1uZXcgQXJyYXkodC5zaXplKCkpLmZpbGwobnVsbCk7cmV0dXJuIHRoaXMuZ2V0RmFjdG9yeSgpLmNyZWF0ZU11bHRpTGluZVN0cmluZyh0LnRvQXJyYXkoaSkpfSxlLnByb3RvdHlwZS5nZXRHZW9tZXRyeVR5cGU9ZnVuY3Rpb24oKXtyZXR1cm4iTXVsdGlQb2x5Z29uIn0sZS5wcm90b3R5cGUuY29weT1mdW5jdGlvbigpe2Zvcih2YXIgdD1uZXcgQXJyYXkodGhpcy5fZ2VvbWV0cmllcy5sZW5ndGgpLmZpbGwobnVsbCksbj0wO248dC5sZW5ndGg7bisrKXRbbl09dGhpcy5fZ2VvbWV0cmllc1tuXS5jb3B5KCk7cmV0dXJuIG5ldyBlKHQsdGhpcy5fZmFjdG9yeSl9LGUucHJvdG90eXBlLmludGVyZmFjZXNfPWZ1bmN0aW9uKCl7cmV0dXJuWyRjXX0sZS5wcm90b3R5cGUuZ2V0Q2xhc3M9ZnVuY3Rpb24oKXtyZXR1cm4gZX0sbi5zZXJpYWxWZXJzaW9uVUlELmdldD1mdW5jdGlvbigpe3JldHVybi0weDdhNWFhMTM2OTE3MTk4MH0sT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSxuKSxlfShrYyksaWg9ZnVuY3Rpb24odCl7dGhpcy5fZmFjdG9yeT10fHxudWxsLHRoaXMuX2lzVXNlckRhdGFDb3BpZWQ9ITF9LG9oPXtOb09wR2VvbWV0cnlPcGVyYXRpb246e2NvbmZpZ3VyYWJsZTohMH0sQ29vcmRpbmF0ZU9wZXJhdGlvbjp7Y29uZmlndXJhYmxlOiEwfSxDb29yZGluYXRlU2VxdWVuY2VPcGVyYXRpb246e2NvbmZpZ3VyYWJsZTohMH19O2loLnByb3RvdHlwZS5zZXRDb3B5VXNlckRhdGE9ZnVuY3Rpb24odCl7dGhpcy5faXNVc2VyRGF0YUNvcGllZD10fSxpaC5wcm90b3R5cGUuZWRpdD1mdW5jdGlvbih0LGUpe2lmKG51bGw9PT10KXJldHVybiBudWxsO3ZhciBuPXRoaXMuZWRpdEludGVybmFsKHQsZSk7cmV0dXJuIHRoaXMuX2lzVXNlckRhdGFDb3BpZWQmJm4uc2V0VXNlckRhdGEodC5nZXRVc2VyRGF0YSgpKSxufSxpaC5wcm90b3R5cGUuZWRpdEludGVybmFsPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG51bGw9PT10aGlzLl9mYWN0b3J5JiYodGhpcy5fZmFjdG9yeT10LmdldEZhY3RvcnkoKSksdCBpbnN0YW5jZW9mIGtjP3RoaXMuZWRpdEdlb21ldHJ5Q29sbGVjdGlvbih0LGUpOnQgaW5zdGFuY2VvZiB0aD90aGlzLmVkaXRQb2x5Z29uKHQsZSk6dCBpbnN0YW5jZW9mIFFjfHx0IGluc3RhbmNlb2YgWmM/ZS5lZGl0KHQsdGhpcy5fZmFjdG9yeSk6KHFsLnNob3VsZE5ldmVyUmVhY2hIZXJlKCJVbnN1cHBvcnRlZCBHZW9tZXRyeSBjbGFzczogIit0LmdldENsYXNzKCkuZ2V0TmFtZSgpKSxudWxsKX0saWgucHJvdG90eXBlLmVkaXRHZW9tZXRyeUNvbGxlY3Rpb249ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49ZS5lZGl0KHQsdGhpcy5fZmFjdG9yeSkscj1uZXcgbGMsaT0wO2k8bi5nZXROdW1HZW9tZXRyaWVzKCk7aSsrKXt2YXIgbz10aGlzLmVkaXQobi5nZXRHZW9tZXRyeU4oaSksZSk7bnVsbD09PW98fG8uaXNFbXB0eSgpfHxyLmFkZChvKX1yZXR1cm4gbi5nZXRDbGFzcygpPT09ZWg/dGhpcy5fZmFjdG9yeS5jcmVhdGVNdWx0aVBvaW50KHIudG9BcnJheShbXSkpOm4uZ2V0Q2xhc3MoKT09PUdjP3RoaXMuX2ZhY3RvcnkuY3JlYXRlTXVsdGlMaW5lU3RyaW5nKHIudG9BcnJheShbXSkpOm4uZ2V0Q2xhc3MoKT09PXJoP3RoaXMuX2ZhY3RvcnkuY3JlYXRlTXVsdGlQb2x5Z29uKHIudG9BcnJheShbXSkpOnRoaXMuX2ZhY3RvcnkuY3JlYXRlR2VvbWV0cnlDb2xsZWN0aW9uKHIudG9BcnJheShbXSkpfSxpaC5wcm90b3R5cGUuZWRpdFBvbHlnb249ZnVuY3Rpb24odCxlKXt2YXIgbj1lLmVkaXQodCx0aGlzLl9mYWN0b3J5KTtpZihudWxsPT09biYmKG49dGhpcy5fZmFjdG9yeS5jcmVhdGVQb2x5Z29uKG51bGwpKSxuLmlzRW1wdHkoKSlyZXR1cm4gbjt2YXIgcj10aGlzLmVkaXQobi5nZXRFeHRlcmlvclJpbmcoKSxlKTtpZihudWxsPT09cnx8ci5pc0VtcHR5KCkpcmV0dXJuIHRoaXMuX2ZhY3RvcnkuY3JlYXRlUG9seWdvbigpO2Zvcih2YXIgaT1uZXcgbGMsbz0wO288bi5nZXROdW1JbnRlcmlvclJpbmcoKTtvKyspe3ZhciBzPXRoaXMuZWRpdChuLmdldEludGVyaW9yUmluZ04obyksZSk7bnVsbD09PXN8fHMuaXNFbXB0eSgpfHxpLmFkZChzKX1yZXR1cm4gdGhpcy5fZmFjdG9yeS5jcmVhdGVQb2x5Z29uKHIsaS50b0FycmF5KFtdKSl9LGloLnByb3RvdHlwZS5pbnRlcmZhY2VzXz1mdW5jdGlvbigpe3JldHVybltdfSxpaC5wcm90b3R5cGUuZ2V0Q2xhc3M9ZnVuY3Rpb24oKXtyZXR1cm4gaWh9LGloLkdlb21ldHJ5RWRpdG9yT3BlcmF0aW9uPWZ1bmN0aW9uKCl7fSxvaC5Ob09wR2VvbWV0cnlPcGVyYXRpb24uZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHNofSxvaC5Db29yZGluYXRlT3BlcmF0aW9uLmdldD1mdW5jdGlvbigpe3JldHVybiBhaH0sb2guQ29vcmRpbmF0ZVNlcXVlbmNlT3BlcmF0aW9uLmdldD1mdW5jdGlvbigpe3JldHVybiB1aH0sT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoaWgsb2gpO3ZhciBzaD1mdW5jdGlvbigpe307c2gucHJvdG90eXBlLmVkaXQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdH0sc2gucHJvdG90eXBlLmludGVyZmFjZXNfPWZ1bmN0aW9uKCl7cmV0dXJuW2loLkdlb21ldHJ5RWRpdG9yT3BlcmF0aW9uXX0sc2gucHJvdG90eXBlLmdldENsYXNzPWZ1bmN0aW9uKCl7cmV0dXJuIHNofTt2YXIgYWg9ZnVuY3Rpb24oKXt9O2FoLnByb3RvdHlwZS5lZGl0PWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5lZGl0Q29vcmRpbmF0ZXModC5nZXRDb29yZGluYXRlcygpLHQpO3JldHVybiBudWxsPT09bj90OnQgaW5zdGFuY2VvZiBuaD9lLmNyZWF0ZUxpbmVhclJpbmcobik6dCBpbnN0YW5jZW9mIFpjP2UuY3JlYXRlTGluZVN0cmluZyhuKTp0IGluc3RhbmNlb2YgUWM/bi5sZW5ndGg+MD9lLmNyZWF0ZVBvaW50KG5bMF0pOmUuY3JlYXRlUG9pbnQoKTp0fSxhaC5wcm90b3R5cGUuaW50ZXJmYWNlc189ZnVuY3Rpb24oKXtyZXR1cm5baWguR2VvbWV0cnlFZGl0b3JPcGVyYXRpb25dfSxhaC5wcm90b3R5cGUuZ2V0Q2xhc3M9ZnVuY3Rpb24oKXtyZXR1cm4gYWh9O3ZhciB1aD1mdW5jdGlvbigpe307dWgucHJvdG90eXBlLmVkaXQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdCBpbnN0YW5jZW9mIG5oP2UuY3JlYXRlTGluZWFyUmluZyh0aGlzLmVkaXQodC5nZXRDb29yZGluYXRlU2VxdWVuY2UoKSx0KSk6dCBpbnN0YW5jZW9mIFpjP2UuY3JlYXRlTGluZVN0cmluZyh0aGlzLmVkaXQodC5nZXRDb29yZGluYXRlU2VxdWVuY2UoKSx0KSk6dCBpbnN0YW5jZW9mIFFjP2UuY3JlYXRlUG9pbnQodGhpcy5lZGl0KHQuZ2V0Q29vcmRpbmF0ZVNlcXVlbmNlKCksdCkpOnR9LHVoLnByb3RvdHlwZS5pbnRlcmZhY2VzXz1mdW5jdGlvbigpe3JldHVybltpaC5HZW9tZXRyeUVkaXRvck9wZXJhdGlvbl19LHVoLnByb3RvdHlwZS5nZXRDbGFzcz1mdW5jdGlvbigpe3JldHVybiB1aH07dmFyIGxoPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztpZih0aGlzLl9kaW1lbnNpb249Myx0aGlzLl9jb29yZGluYXRlcz1udWxsLDE9PT1hcmd1bWVudHMubGVuZ3RoKXtpZihhcmd1bWVudHNbMF1pbnN0YW5jZW9mIEFycmF5KXRoaXMuX2Nvb3JkaW5hdGVzPWFyZ3VtZW50c1swXSx0aGlzLl9kaW1lbnNpb249MztlbHNlIGlmKE51bWJlci5pc0ludGVnZXIoYXJndW1lbnRzWzBdKSl7dmFyIGU9YXJndW1lbnRzWzBdO3RoaXMuX2Nvb3JkaW5hdGVzPW5ldyBBcnJheShlKS5maWxsKG51bGwpO2Zvcih2YXIgbj0wO248ZTtuKyspdC5fY29vcmRpbmF0ZXNbbl09bmV3IHVsfWVsc2UgaWYoZ2woYXJndW1lbnRzWzBdLElsKSl7dmFyIHI9YXJndW1lbnRzWzBdO2lmKG51bGw9PT1yKXJldHVybiB0aGlzLl9jb29yZGluYXRlcz1uZXcgQXJyYXkoMCkuZmlsbChudWxsKSxudWxsO3RoaXMuX2RpbWVuc2lvbj1yLmdldERpbWVuc2lvbigpLHRoaXMuX2Nvb3JkaW5hdGVzPW5ldyBBcnJheShyLnNpemUoKSkuZmlsbChudWxsKTtmb3IodmFyIGk9MDtpPHRoaXMuX2Nvb3JkaW5hdGVzLmxlbmd0aDtpKyspdC5fY29vcmRpbmF0ZXNbaV09ci5nZXRDb29yZGluYXRlQ29weShpKX19ZWxzZSBpZigyPT09YXJndW1lbnRzLmxlbmd0aClpZihhcmd1bWVudHNbMF1pbnN0YW5jZW9mIEFycmF5JiZOdW1iZXIuaXNJbnRlZ2VyKGFyZ3VtZW50c1sxXSkpe3ZhciBvPWFyZ3VtZW50c1swXSxzPWFyZ3VtZW50c1sxXTt0aGlzLl9jb29yZGluYXRlcz1vLHRoaXMuX2RpbWVuc2lvbj1zLG51bGw9PT1vJiYodGhpcy5fY29vcmRpbmF0ZXM9bmV3IEFycmF5KDApLmZpbGwobnVsbCkpfWVsc2UgaWYoTnVtYmVyLmlzSW50ZWdlcihhcmd1bWVudHNbMF0pJiZOdW1iZXIuaXNJbnRlZ2VyKGFyZ3VtZW50c1sxXSkpe3ZhciBhPWFyZ3VtZW50c1swXSx1PWFyZ3VtZW50c1sxXTt0aGlzLl9jb29yZGluYXRlcz1uZXcgQXJyYXkoYSkuZmlsbChudWxsKSx0aGlzLl9kaW1lbnNpb249dTtmb3IodmFyIGw9MDtsPGE7bCsrKXQuX2Nvb3JkaW5hdGVzW2xdPW5ldyB1bH19LGNoPXtzZXJpYWxWZXJzaW9uVUlEOntjb25maWd1cmFibGU6ITB9fTtsaC5wcm90b3R5cGUuc2V0T3JkaW5hdGU9ZnVuY3Rpb24odCxlLG4pe3N3aXRjaChlKXtjYXNlIElsLlg6dGhpcy5fY29vcmRpbmF0ZXNbdF0ueD1uO2JyZWFrO2Nhc2UgSWwuWTp0aGlzLl9jb29yZGluYXRlc1t0XS55PW47YnJlYWs7Y2FzZSBJbC5aOnRoaXMuX2Nvb3JkaW5hdGVzW3RdLno9bjticmVhaztkZWZhdWx0OnRocm93IG5ldyBlbCgiaW52YWxpZCBvcmRpbmF0ZUluZGV4Iil9fSxsaC5wcm90b3R5cGUuc2l6ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9jb29yZGluYXRlcy5sZW5ndGh9LGxoLnByb3RvdHlwZS5nZXRPcmRpbmF0ZT1mdW5jdGlvbih0LGUpe3N3aXRjaChlKXtjYXNlIElsLlg6cmV0dXJuIHRoaXMuX2Nvb3JkaW5hdGVzW3RdLng7Y2FzZSBJbC5ZOnJldHVybiB0aGlzLl9jb29yZGluYXRlc1t0XS55O2Nhc2UgSWwuWjpyZXR1cm4gdGhpcy5fY29vcmRpbmF0ZXNbdF0uen1yZXR1cm4gbmwuTmFOfSxsaC5wcm90b3R5cGUuZ2V0Q29vcmRpbmF0ZT1mdW5jdGlvbigpe2lmKDE9PT1hcmd1bWVudHMubGVuZ3RoKXt2YXIgdD1hcmd1bWVudHNbMF07cmV0dXJuIHRoaXMuX2Nvb3JkaW5hdGVzW3RdfWlmKDI9PT1hcmd1bWVudHMubGVuZ3RoKXt2YXIgZT1hcmd1bWVudHNbMF0sbj1hcmd1bWVudHNbMV07bi54PXRoaXMuX2Nvb3JkaW5hdGVzW2VdLngsbi55PXRoaXMuX2Nvb3JkaW5hdGVzW2VdLnksbi56PXRoaXMuX2Nvb3JkaW5hdGVzW2VdLnp9fSxsaC5wcm90b3R5cGUuZ2V0Q29vcmRpbmF0ZUNvcHk9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyB1bCh0aGlzLl9jb29yZGluYXRlc1t0XSl9LGxoLnByb3RvdHlwZS5nZXREaW1lbnNpb249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGltZW5zaW9ufSxsaC5wcm90b3R5cGUuZ2V0WD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fY29vcmRpbmF0ZXNbdF0ueH0sbGgucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PW5ldyBBcnJheSh0aGlzLnNpemUoKSkuZmlsbChudWxsKSxlPTA7ZTx0aGlzLl9jb29yZGluYXRlcy5sZW5ndGg7ZSsrKXRbZV09dGhpcy5fY29vcmRpbmF0ZXNbZV0uY2xvbmUoKTtyZXR1cm4gbmV3IGxoKHQsdGhpcy5fZGltZW5zaW9uKX0sbGgucHJvdG90eXBlLmV4cGFuZEVudmVsb3BlPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wO2U8dGhpcy5fY29vcmRpbmF0ZXMubGVuZ3RoO2UrKyl0LmV4cGFuZFRvSW5jbHVkZSh0aGlzLl9jb29yZGluYXRlc1tlXSk7cmV0dXJuIHR9LGxoLnByb3RvdHlwZS5jb3B5PWZ1bmN0aW9uKCl7Zm9yKHZhciB0PW5ldyBBcnJheSh0aGlzLnNpemUoKSkuZmlsbChudWxsKSxlPTA7ZTx0aGlzLl9jb29yZGluYXRlcy5sZW5ndGg7ZSsrKXRbZV09dGhpcy5fY29vcmRpbmF0ZXNbZV0uY29weSgpO3JldHVybiBuZXcgbGgodCx0aGlzLl9kaW1lbnNpb24pfSxsaC5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtpZih0aGlzLl9jb29yZGluYXRlcy5sZW5ndGg+MCl7dmFyIHQ9bmV3IHZsKDE3KnRoaXMuX2Nvb3JkaW5hdGVzLmxlbmd0aCk7dC5hcHBlbmQoIigiKSx0LmFwcGVuZCh0aGlzLl9jb29yZGluYXRlc1swXSk7Zm9yKHZhciBlPTE7ZTx0aGlzLl9jb29yZGluYXRlcy5sZW5ndGg7ZSsrKXQuYXBwZW5kKCIsICIpLHQuYXBwZW5kKHRoaXMuX2Nvb3JkaW5hdGVzW2VdKTtyZXR1cm4gdC5hcHBlbmQoIikiKSx0LnRvU3RyaW5nKCl9cmV0dXJuIigpIn0sbGgucHJvdG90eXBlLmdldFk9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2Nvb3JkaW5hdGVzW3RdLnl9LGxoLnByb3RvdHlwZS50b0Nvb3JkaW5hdGVBcnJheT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9jb29yZGluYXRlc30sbGgucHJvdG90eXBlLmludGVyZmFjZXNfPWZ1bmN0aW9uKCl7cmV0dXJuW0lsLGFsXX0sbGgucHJvdG90eXBlLmdldENsYXNzPWZ1bmN0aW9uKCl7cmV0dXJuIGxofSxjaC5zZXJpYWxWZXJzaW9uVUlELmdldD1mdW5jdGlvbigpe3JldHVybi0weGNiNDRhNzc4ZGIxOGUwMH0sT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobGgsY2gpO3ZhciBoaD1mdW5jdGlvbigpe30scGg9e3NlcmlhbFZlcnNpb25VSUQ6e2NvbmZpZ3VyYWJsZTohMH0saW5zdGFuY2VPYmplY3Q6e2NvbmZpZ3VyYWJsZTohMH19O2hoLnByb3RvdHlwZS5yZWFkUmVzb2x2ZT1mdW5jdGlvbigpe3JldHVybiBoaC5pbnN0YW5jZSgpfSxoaC5wcm90b3R5cGUuY3JlYXRlPWZ1bmN0aW9uKCl7aWYoMT09PWFyZ3VtZW50cy5sZW5ndGgpe2lmKGFyZ3VtZW50c1swXWluc3RhbmNlb2YgQXJyYXkpe3ZhciB0PWFyZ3VtZW50c1swXTtyZXR1cm4gbmV3IGxoKHQpfWlmKGdsKGFyZ3VtZW50c1swXSxJbCkpe3ZhciBlPWFyZ3VtZW50c1swXTtyZXR1cm4gbmV3IGxoKGUpfX1lbHNlIGlmKDI9PT1hcmd1bWVudHMubGVuZ3RoKXt2YXIgbj1hcmd1bWVudHNbMF0scj1hcmd1bWVudHNbMV07cmV0dXJuIHI+MyYmKHI9MykscjwyP25ldyBsaChuKTpuZXcgbGgobixyKX19LGhoLnByb3RvdHlwZS5pbnRlcmZhY2VzXz1mdW5jdGlvbigpe3JldHVybltobCxhbF19LGhoLnByb3RvdHlwZS5nZXRDbGFzcz1mdW5jdGlvbigpe3JldHVybiBoaH0saGguaW5zdGFuY2U9ZnVuY3Rpb24oKXtyZXR1cm4gaGguaW5zdGFuY2VPYmplY3R9LHBoLnNlcmlhbFZlcnNpb25VSUQuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuLTB4MzhlNDlmYTZjZjZmMmUwMH0scGguaW5zdGFuY2VPYmplY3QuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBoaH0sT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoaGgscGgpO3ZhciBmaD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dC5jYWxsKHRoaXMpLHRoaXMubWFwXz1uZXcgTWFwfXJldHVybiB0JiYoZS5fX3Byb3RvX189dCksZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSksZS5wcm90b3R5cGUuY29uc3RydWN0b3I9ZSxlLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMubWFwXy5nZXQodCl8fG51bGx9LGUucHJvdG90eXBlLnB1dD1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLm1hcF8uc2V0KHQsZSksZX0sZS5wcm90b3R5cGUudmFsdWVzPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PW5ldyBsYyxlPXRoaXMubWFwXy52YWx1ZXMoKSxuPWUubmV4dCgpOyFuLmRvbmU7KXQuYWRkKG4udmFsdWUpLG49ZS5uZXh0KCk7cmV0dXJuIHR9LGUucHJvdG90eXBlLmVudHJ5U2V0PWZ1bmN0aW9uKCl7dmFyIHQ9bmV3IHhjO3JldHVybiB0aGlzLm1hcF8uZW50cmllcygpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3JldHVybiB0LmFkZChlKX0pKSx0fSxlLnByb3RvdHlwZS5zaXplPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWFwXy5zaXplKCl9LGV9KHljKSxnaD1mdW5jdGlvbiB0KCl7aWYodGhpcy5fbW9kZWxUeXBlPW51bGwsdGhpcy5fc2NhbGU9bnVsbCwwPT09YXJndW1lbnRzLmxlbmd0aCl0aGlzLl9tb2RlbFR5cGU9dC5GTE9BVElORztlbHNlIGlmKDE9PT1hcmd1bWVudHMubGVuZ3RoKWlmKGFyZ3VtZW50c1swXWluc3RhbmNlb2YgeWgpe3ZhciBlPWFyZ3VtZW50c1swXTt0aGlzLl9tb2RlbFR5cGU9ZSxlPT09dC5GSVhFRCYmdGhpcy5zZXRTY2FsZSgxKX1lbHNlIGlmKCJudW1iZXIiPT10eXBlb2YgYXJndW1lbnRzWzBdKXt2YXIgbj1hcmd1bWVudHNbMF07dGhpcy5fbW9kZWxUeXBlPXQuRklYRUQsdGhpcy5zZXRTY2FsZShuKX1lbHNlIGlmKGFyZ3VtZW50c1swXWluc3RhbmNlb2YgdCl7dmFyIHI9YXJndW1lbnRzWzBdO3RoaXMuX21vZGVsVHlwZT1yLl9tb2RlbFR5cGUsdGhpcy5fc2NhbGU9ci5fc2NhbGV9fSxkaD17c2VyaWFsVmVyc2lvblVJRDp7Y29uZmlndXJhYmxlOiEwfSxtYXhpbXVtUHJlY2lzZVZhbHVlOntjb25maWd1cmFibGU6ITB9fTtnaC5wcm90b3R5cGUuZXF1YWxzPWZ1bmN0aW9uKHQpe2lmKCEodCBpbnN0YW5jZW9mIGdoKSlyZXR1cm4hMTt2YXIgZT10O3JldHVybiB0aGlzLl9tb2RlbFR5cGU9PT1lLl9tb2RlbFR5cGUmJnRoaXMuX3NjYWxlPT09ZS5fc2NhbGV9LGdoLnByb3RvdHlwZS5jb21wYXJlVG89ZnVuY3Rpb24odCl7dmFyIGU9dCxuPXRoaXMuZ2V0TWF4aW11bVNpZ25pZmljYW50RGlnaXRzKCkscj1lLmdldE1heGltdW1TaWduaWZpY2FudERpZ2l0cygpO3JldHVybiBuZXcgX2wobikuY29tcGFyZVRvKG5ldyBfbChyKSl9LGdoLnByb3RvdHlwZS5nZXRTY2FsZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zY2FsZX0sZ2gucHJvdG90eXBlLmlzRmxvYXRpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbW9kZWxUeXBlPT09Z2guRkxPQVRJTkd8fHRoaXMuX21vZGVsVHlwZT09PWdoLkZMT0FUSU5HX1NJTkdMRX0sZ2gucHJvdG90eXBlLmdldFR5cGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbW9kZWxUeXBlfSxnaC5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXt2YXIgdD0iVU5LTk9XTiI7cmV0dXJuIHRoaXMuX21vZGVsVHlwZT09PWdoLkZMT0FUSU5HP3Q9IkZsb2F0aW5nIjp0aGlzLl9tb2RlbFR5cGU9PT1naC5GTE9BVElOR19TSU5HTEU/dD0iRmxvYXRpbmctU2luZ2xlIjp0aGlzLl9tb2RlbFR5cGU9PT1naC5GSVhFRCYmKHQ9IkZpeGVkIChTY2FsZT0iK3RoaXMuZ2V0U2NhbGUoKSsiKSIpLHR9LGdoLnByb3RvdHlwZS5tYWtlUHJlY2lzZT1mdW5jdGlvbigpe2lmKCJudW1iZXIiPT10eXBlb2YgYXJndW1lbnRzWzBdKXt2YXIgdD1hcmd1bWVudHNbMF07aWYobmwuaXNOYU4odCkpcmV0dXJuIHQ7aWYodGhpcy5fbW9kZWxUeXBlPT09Z2guRkxPQVRJTkdfU0lOR0xFKXtyZXR1cm4gdH1yZXR1cm4gdGhpcy5fbW9kZWxUeXBlPT09Z2guRklYRUQ/TWF0aC5yb3VuZCh0KnRoaXMuX3NjYWxlKS90aGlzLl9zY2FsZTp0fWlmKGFyZ3VtZW50c1swXWluc3RhbmNlb2YgdWwpe3ZhciBlPWFyZ3VtZW50c1swXTtpZih0aGlzLl9tb2RlbFR5cGU9PT1naC5GTE9BVElORylyZXR1cm4gbnVsbDtlLng9dGhpcy5tYWtlUHJlY2lzZShlLngpLGUueT10aGlzLm1ha2VQcmVjaXNlKGUueSl9fSxnaC5wcm90b3R5cGUuZ2V0TWF4aW11bVNpZ25pZmljYW50RGlnaXRzPWZ1bmN0aW9uKCl7dmFyIHQ9MTY7cmV0dXJuIHRoaXMuX21vZGVsVHlwZT09PWdoLkZMT0FUSU5HP3Q9MTY6dGhpcy5fbW9kZWxUeXBlPT09Z2guRkxPQVRJTkdfU0lOR0xFP3Q9Njp0aGlzLl9tb2RlbFR5cGU9PT1naC5GSVhFRCYmKHQ9MStNYXRoLnRydW5jKE1hdGguY2VpbChNYXRoLmxvZyh0aGlzLmdldFNjYWxlKCkpL01hdGgubG9nKDEwKSkpKSx0fSxnaC5wcm90b3R5cGUuc2V0U2NhbGU9ZnVuY3Rpb24odCl7dGhpcy5fc2NhbGU9TWF0aC5hYnModCl9LGdoLnByb3RvdHlwZS5pbnRlcmZhY2VzXz1mdW5jdGlvbigpe3JldHVyblthbCxpbF19LGdoLnByb3RvdHlwZS5nZXRDbGFzcz1mdW5jdGlvbigpe3JldHVybiBnaH0sZ2gubW9zdFByZWNpc2U9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5jb21wYXJlVG8oZSk+PTA/dDplfSxkaC5zZXJpYWxWZXJzaW9uVUlELmdldD1mdW5jdGlvbigpe3JldHVybiAweDZiZWU2NDA0ZTlhMjVjMDB9LGRoLm1heGltdW1QcmVjaXNlVmFsdWUuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIDkwMDcxOTkyNTQ3NDA5OTJ9LE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGdoLGRoKTt2YXIgeWg9ZnVuY3Rpb24gdChlKXt0aGlzLl9uYW1lPWV8fG51bGwsdC5uYW1lVG9UeXBlTWFwLnB1dChlLHRoaXMpfSx2aD17c2VyaWFsVmVyc2lvblVJRDp7Y29uZmlndXJhYmxlOiEwfSxuYW1lVG9UeXBlTWFwOntjb25maWd1cmFibGU6ITB9fTt5aC5wcm90b3R5cGUucmVhZFJlc29sdmU9ZnVuY3Rpb24oKXtyZXR1cm4geWgubmFtZVRvVHlwZU1hcC5nZXQodGhpcy5fbmFtZSl9LHloLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9uYW1lfSx5aC5wcm90b3R5cGUuaW50ZXJmYWNlc189ZnVuY3Rpb24oKXtyZXR1cm5bYWxdfSx5aC5wcm90b3R5cGUuZ2V0Q2xhc3M9ZnVuY3Rpb24oKXtyZXR1cm4geWh9LHZoLnNlcmlhbFZlcnNpb25VSUQuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuLTU1Mjg2MDI2MzE3MzE1OWU0fSx2aC5uYW1lVG9UeXBlTWFwLmdldD1mdW5jdGlvbigpe3JldHVybiBuZXcgZmh9LE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHloLHZoKSxnaC5UeXBlPXloLGdoLkZJWEVEPW5ldyB5aCgiRklYRUQiKSxnaC5GTE9BVElORz1uZXcgeWgoIkZMT0FUSU5HIiksZ2guRkxPQVRJTkdfU0lOR0xFPW5ldyB5aCgiRkxPQVRJTkcgU0lOR0xFIik7dmFyIF9oPWZ1bmN0aW9uIHQoKXt0aGlzLl9wcmVjaXNpb25Nb2RlbD1uZXcgZ2gsdGhpcy5fU1JJRD0wLHRoaXMuX2Nvb3JkaW5hdGVTZXF1ZW5jZUZhY3Rvcnk9dC5nZXREZWZhdWx0Q29vcmRpbmF0ZVNlcXVlbmNlRmFjdG9yeSgpLDA9PT1hcmd1bWVudHMubGVuZ3RofHwoMT09PWFyZ3VtZW50cy5sZW5ndGg/Z2woYXJndW1lbnRzWzBdLGhsKT90aGlzLl9jb29yZGluYXRlU2VxdWVuY2VGYWN0b3J5PWFyZ3VtZW50c1swXTphcmd1bWVudHNbMF1pbnN0YW5jZW9mIGdoJiYodGhpcy5fcHJlY2lzaW9uTW9kZWw9YXJndW1lbnRzWzBdKToyPT09YXJndW1lbnRzLmxlbmd0aD8odGhpcy5fcHJlY2lzaW9uTW9kZWw9YXJndW1lbnRzWzBdLHRoaXMuX1NSSUQ9YXJndW1lbnRzWzFdKTozPT09YXJndW1lbnRzLmxlbmd0aCYmKHRoaXMuX3ByZWNpc2lvbk1vZGVsPWFyZ3VtZW50c1swXSx0aGlzLl9TUklEPWFyZ3VtZW50c1sxXSx0aGlzLl9jb29yZGluYXRlU2VxdWVuY2VGYWN0b3J5PWFyZ3VtZW50c1syXSkpfSxtaD17c2VyaWFsVmVyc2lvblVJRDp7Y29uZmlndXJhYmxlOiEwfX07X2gucHJvdG90eXBlLnRvR2VvbWV0cnk9ZnVuY3Rpb24odCl7cmV0dXJuIHQuaXNOdWxsKCk/dGhpcy5jcmVhdGVQb2ludChudWxsKTp0LmdldE1pblgoKT09PXQuZ2V0TWF4WCgpJiZ0LmdldE1pblkoKT09PXQuZ2V0TWF4WSgpP3RoaXMuY3JlYXRlUG9pbnQobmV3IHVsKHQuZ2V0TWluWCgpLHQuZ2V0TWluWSgpKSk6dC5nZXRNaW5YKCk9PT10LmdldE1heFgoKXx8dC5nZXRNaW5ZKCk9PT10LmdldE1heFkoKT90aGlzLmNyZWF0ZUxpbmVTdHJpbmcoW25ldyB1bCh0LmdldE1pblgoKSx0LmdldE1pblkoKSksbmV3IHVsKHQuZ2V0TWF4WCgpLHQuZ2V0TWF4WSgpKV0pOnRoaXMuY3JlYXRlUG9seWdvbih0aGlzLmNyZWF0ZUxpbmVhclJpbmcoW25ldyB1bCh0LmdldE1pblgoKSx0LmdldE1pblkoKSksbmV3IHVsKHQuZ2V0TWluWCgpLHQuZ2V0TWF4WSgpKSxuZXcgdWwodC5nZXRNYXhYKCksdC5nZXRNYXhZKCkpLG5ldyB1bCh0LmdldE1heFgoKSx0LmdldE1pblkoKSksbmV3IHVsKHQuZ2V0TWluWCgpLHQuZ2V0TWluWSgpKV0pLG51bGwpfSxfaC5wcm90b3R5cGUuY3JlYXRlTGluZVN0cmluZz1mdW5jdGlvbih0KXtyZXR1cm4gdD90IGluc3RhbmNlb2YgQXJyYXk/bmV3IFpjKHRoaXMuZ2V0Q29vcmRpbmF0ZVNlcXVlbmNlRmFjdG9yeSgpLmNyZWF0ZSh0KSx0aGlzKTpnbCh0LElsKT9uZXcgWmModCx0aGlzKTp2b2lkIDA6bmV3IFpjKHRoaXMuZ2V0Q29vcmRpbmF0ZVNlcXVlbmNlRmFjdG9yeSgpLmNyZWF0ZShbXSksdGhpcyl9LF9oLnByb3RvdHlwZS5jcmVhdGVNdWx0aUxpbmVTdHJpbmc9ZnVuY3Rpb24oKXtpZigwPT09YXJndW1lbnRzLmxlbmd0aClyZXR1cm4gbmV3IEdjKG51bGwsdGhpcyk7aWYoMT09PWFyZ3VtZW50cy5sZW5ndGgpe3ZhciB0PWFyZ3VtZW50c1swXTtyZXR1cm4gbmV3IEdjKHQsdGhpcyl9fSxfaC5wcm90b3R5cGUuYnVpbGRHZW9tZXRyeT1mdW5jdGlvbih0KXtmb3IodmFyIGU9bnVsbCxuPSExLHI9ITEsaT10Lml0ZXJhdG9yKCk7aS5oYXNOZXh0KCk7KXt2YXIgbz1pLm5leHQoKSxzPW8uZ2V0Q2xhc3MoKTtudWxsPT09ZSYmKGU9cykscyE9PWUmJihuPSEwKSxvLmlzR2VvbWV0cnlDb2xsZWN0aW9uT3JEZXJpdmVkKCkmJihyPSEwKX1pZihudWxsPT09ZSlyZXR1cm4gdGhpcy5jcmVhdGVHZW9tZXRyeUNvbGxlY3Rpb24oKTtpZihufHxyKXJldHVybiB0aGlzLmNyZWF0ZUdlb21ldHJ5Q29sbGVjdGlvbihfaC50b0dlb21ldHJ5QXJyYXkodCkpO3ZhciBhPXQuaXRlcmF0b3IoKS5uZXh0KCk7aWYodC5zaXplKCk+MSl7aWYoYSBpbnN0YW5jZW9mIHRoKXJldHVybiB0aGlzLmNyZWF0ZU11bHRpUG9seWdvbihfaC50b1BvbHlnb25BcnJheSh0KSk7aWYoYSBpbnN0YW5jZW9mIFpjKXJldHVybiB0aGlzLmNyZWF0ZU11bHRpTGluZVN0cmluZyhfaC50b0xpbmVTdHJpbmdBcnJheSh0KSk7aWYoYSBpbnN0YW5jZW9mIFFjKXJldHVybiB0aGlzLmNyZWF0ZU11bHRpUG9pbnQoX2gudG9Qb2ludEFycmF5KHQpKTtxbC5zaG91bGROZXZlclJlYWNoSGVyZSgiVW5oYW5kbGVkIGNsYXNzOiAiK2EuZ2V0Q2xhc3MoKS5nZXROYW1lKCkpfXJldHVybiBhfSxfaC5wcm90b3R5cGUuY3JlYXRlTXVsdGlQb2ludEZyb21Db29yZHM9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuY3JlYXRlTXVsdGlQb2ludChudWxsIT09dD90aGlzLmdldENvb3JkaW5hdGVTZXF1ZW5jZUZhY3RvcnkoKS5jcmVhdGUodCk6bnVsbCl9LF9oLnByb3RvdHlwZS5jcmVhdGVQb2ludD1mdW5jdGlvbigpe2lmKDA9PT1hcmd1bWVudHMubGVuZ3RoKXJldHVybiB0aGlzLmNyZWF0ZVBvaW50KHRoaXMuZ2V0Q29vcmRpbmF0ZVNlcXVlbmNlRmFjdG9yeSgpLmNyZWF0ZShbXSkpO2lmKDE9PT1hcmd1bWVudHMubGVuZ3RoKXtpZihhcmd1bWVudHNbMF1pbnN0YW5jZW9mIHVsKXt2YXIgdD1hcmd1bWVudHNbMF07cmV0dXJuIHRoaXMuY3JlYXRlUG9pbnQobnVsbCE9PXQ/dGhpcy5nZXRDb29yZGluYXRlU2VxdWVuY2VGYWN0b3J5KCkuY3JlYXRlKFt0XSk6bnVsbCl9aWYoZ2woYXJndW1lbnRzWzBdLElsKSl7dmFyIGU9YXJndW1lbnRzWzBdO3JldHVybiBuZXcgUWMoZSx0aGlzKX19fSxfaC5wcm90b3R5cGUuZ2V0Q29vcmRpbmF0ZVNlcXVlbmNlRmFjdG9yeT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9jb29yZGluYXRlU2VxdWVuY2VGYWN0b3J5fSxfaC5wcm90b3R5cGUuY3JlYXRlUG9seWdvbj1mdW5jdGlvbigpe2lmKDA9PT1hcmd1bWVudHMubGVuZ3RoKXJldHVybiBuZXcgdGgobnVsbCxudWxsLHRoaXMpO2lmKDE9PT1hcmd1bWVudHMubGVuZ3RoKXtpZihnbChhcmd1bWVudHNbMF0sSWwpKXt2YXIgdD1hcmd1bWVudHNbMF07cmV0dXJuIHRoaXMuY3JlYXRlUG9seWdvbih0aGlzLmNyZWF0ZUxpbmVhclJpbmcodCkpfWlmKGFyZ3VtZW50c1swXWluc3RhbmNlb2YgQXJyYXkpe3ZhciBlPWFyZ3VtZW50c1swXTtyZXR1cm4gdGhpcy5jcmVhdGVQb2x5Z29uKHRoaXMuY3JlYXRlTGluZWFyUmluZyhlKSl9aWYoYXJndW1lbnRzWzBdaW5zdGFuY2VvZiBuaCl7dmFyIG49YXJndW1lbnRzWzBdO3JldHVybiB0aGlzLmNyZWF0ZVBvbHlnb24obixudWxsKX19ZWxzZSBpZigyPT09YXJndW1lbnRzLmxlbmd0aCl7dmFyIHI9YXJndW1lbnRzWzBdLGk9YXJndW1lbnRzWzFdO3JldHVybiBuZXcgdGgocixpLHRoaXMpfX0sX2gucHJvdG90eXBlLmdldFNSSUQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fU1JJRH0sX2gucHJvdG90eXBlLmNyZWF0ZUdlb21ldHJ5Q29sbGVjdGlvbj1mdW5jdGlvbigpe2lmKDA9PT1hcmd1bWVudHMubGVuZ3RoKXJldHVybiBuZXcga2MobnVsbCx0aGlzKTtpZigxPT09YXJndW1lbnRzLmxlbmd0aCl7dmFyIHQ9YXJndW1lbnRzWzBdO3JldHVybiBuZXcga2ModCx0aGlzKX19LF9oLnByb3RvdHlwZS5jcmVhdGVHZW9tZXRyeT1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IGloKHRoaXMpLmVkaXQodCx7ZWRpdDpmdW5jdGlvbigpe2lmKDI9PT1hcmd1bWVudHMubGVuZ3RoKXt2YXIgdD1hcmd1bWVudHNbMF07cmV0dXJuIHRoaXMuX2Nvb3JkaW5hdGVTZXF1ZW5jZUZhY3RvcnkuY3JlYXRlKHQpfX19KX0sX2gucHJvdG90eXBlLmdldFByZWNpc2lvbk1vZGVsPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3ByZWNpc2lvbk1vZGVsfSxfaC5wcm90b3R5cGUuY3JlYXRlTGluZWFyUmluZz1mdW5jdGlvbigpe2lmKDA9PT1hcmd1bWVudHMubGVuZ3RoKXJldHVybiB0aGlzLmNyZWF0ZUxpbmVhclJpbmcodGhpcy5nZXRDb29yZGluYXRlU2VxdWVuY2VGYWN0b3J5KCkuY3JlYXRlKFtdKSk7aWYoMT09PWFyZ3VtZW50cy5sZW5ndGgpe2lmKGFyZ3VtZW50c1swXWluc3RhbmNlb2YgQXJyYXkpe3ZhciB0PWFyZ3VtZW50c1swXTtyZXR1cm4gdGhpcy5jcmVhdGVMaW5lYXJSaW5nKG51bGwhPT10P3RoaXMuZ2V0Q29vcmRpbmF0ZVNlcXVlbmNlRmFjdG9yeSgpLmNyZWF0ZSh0KTpudWxsKX1pZihnbChhcmd1bWVudHNbMF0sSWwpKXt2YXIgZT1hcmd1bWVudHNbMF07cmV0dXJuIG5ldyBuaChlLHRoaXMpfX19LF9oLnByb3RvdHlwZS5jcmVhdGVNdWx0aVBvbHlnb249ZnVuY3Rpb24oKXtpZigwPT09YXJndW1lbnRzLmxlbmd0aClyZXR1cm4gbmV3IHJoKG51bGwsdGhpcyk7aWYoMT09PWFyZ3VtZW50cy5sZW5ndGgpe3ZhciB0PWFyZ3VtZW50c1swXTtyZXR1cm4gbmV3IHJoKHQsdGhpcyl9fSxfaC5wcm90b3R5cGUuY3JlYXRlTXVsdGlQb2ludD1mdW5jdGlvbigpe3ZhciB0PXRoaXM7aWYoMD09PWFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIG5ldyBlaChudWxsLHRoaXMpO2lmKDE9PT1hcmd1bWVudHMubGVuZ3RoKXtpZihhcmd1bWVudHNbMF1pbnN0YW5jZW9mIEFycmF5KXt2YXIgZT1hcmd1bWVudHNbMF07cmV0dXJuIG5ldyBlaChlLHRoaXMpfWlmKGFyZ3VtZW50c1swXWluc3RhbmNlb2YgQXJyYXkpe3ZhciBuPWFyZ3VtZW50c1swXTtyZXR1cm4gdGhpcy5jcmVhdGVNdWx0aVBvaW50KG51bGwhPT1uP3RoaXMuZ2V0Q29vcmRpbmF0ZVNlcXVlbmNlRmFjdG9yeSgpLmNyZWF0ZShuKTpudWxsKX1pZihnbChhcmd1bWVudHNbMF0sSWwpKXt2YXIgcj1hcmd1bWVudHNbMF07aWYobnVsbD09PXIpcmV0dXJuIHRoaXMuY3JlYXRlTXVsdGlQb2ludChuZXcgQXJyYXkoMCkuZmlsbChudWxsKSk7Zm9yKHZhciBpPW5ldyBBcnJheShyLnNpemUoKSkuZmlsbChudWxsKSxvPTA7bzxyLnNpemUoKTtvKyspe3ZhciBzPXQuZ2V0Q29vcmRpbmF0ZVNlcXVlbmNlRmFjdG9yeSgpLmNyZWF0ZSgxLHIuZ2V0RGltZW5zaW9uKCkpO0pjLmNvcHkocixvLHMsMCwxKSxpW29dPXQuY3JlYXRlUG9pbnQocyl9cmV0dXJuIHRoaXMuY3JlYXRlTXVsdGlQb2ludChpKX19fSxfaC5wcm90b3R5cGUuaW50ZXJmYWNlc189ZnVuY3Rpb24oKXtyZXR1cm5bYWxdfSxfaC5wcm90b3R5cGUuZ2V0Q2xhc3M9ZnVuY3Rpb24oKXtyZXR1cm4gX2h9LF9oLnRvTXVsdGlQb2x5Z29uQXJyYXk9ZnVuY3Rpb24odCl7dmFyIGU9bmV3IEFycmF5KHQuc2l6ZSgpKS5maWxsKG51bGwpO3JldHVybiB0LnRvQXJyYXkoZSl9LF9oLnRvR2VvbWV0cnlBcnJheT1mdW5jdGlvbih0KXtpZihudWxsPT09dClyZXR1cm4gbnVsbDt2YXIgZT1uZXcgQXJyYXkodC5zaXplKCkpLmZpbGwobnVsbCk7cmV0dXJuIHQudG9BcnJheShlKX0sX2guZ2V0RGVmYXVsdENvb3JkaW5hdGVTZXF1ZW5jZUZhY3Rvcnk9ZnVuY3Rpb24oKXtyZXR1cm4gaGguaW5zdGFuY2UoKX0sX2gudG9NdWx0aUxpbmVTdHJpbmdBcnJheT1mdW5jdGlvbih0KXt2YXIgZT1uZXcgQXJyYXkodC5zaXplKCkpLmZpbGwobnVsbCk7cmV0dXJuIHQudG9BcnJheShlKX0sX2gudG9MaW5lU3RyaW5nQXJyYXk9ZnVuY3Rpb24odCl7dmFyIGU9bmV3IEFycmF5KHQuc2l6ZSgpKS5maWxsKG51bGwpO3JldHVybiB0LnRvQXJyYXkoZSl9LF9oLnRvTXVsdGlQb2ludEFycmF5PWZ1bmN0aW9uKHQpe3ZhciBlPW5ldyBBcnJheSh0LnNpemUoKSkuZmlsbChudWxsKTtyZXR1cm4gdC50b0FycmF5KGUpfSxfaC50b0xpbmVhclJpbmdBcnJheT1mdW5jdGlvbih0KXt2YXIgZT1uZXcgQXJyYXkodC5zaXplKCkpLmZpbGwobnVsbCk7cmV0dXJuIHQudG9BcnJheShlKX0sX2gudG9Qb2ludEFycmF5PWZ1bmN0aW9uKHQpe3ZhciBlPW5ldyBBcnJheSh0LnNpemUoKSkuZmlsbChudWxsKTtyZXR1cm4gdC50b0FycmF5KGUpfSxfaC50b1BvbHlnb25BcnJheT1mdW5jdGlvbih0KXt2YXIgZT1uZXcgQXJyYXkodC5zaXplKCkpLmZpbGwobnVsbCk7cmV0dXJuIHQudG9BcnJheShlKX0sX2guY3JlYXRlUG9pbnRGcm9tSW50ZXJuYWxDb29yZD1mdW5jdGlvbih0LGUpe3JldHVybiBlLmdldFByZWNpc2lvbk1vZGVsKCkubWFrZVByZWNpc2UodCksZS5nZXRGYWN0b3J5KCkuY3JlYXRlUG9pbnQodCl9LG1oLnNlcmlhbFZlcnNpb25VSUQuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuLTB4NWVhNzVmMjA1MWVlYjQwMH0sT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoX2gsbWgpO3ZhciB4aD1bIlBvaW50IiwiTXVsdGlQb2ludCIsIkxpbmVTdHJpbmciLCJNdWx0aUxpbmVTdHJpbmciLCJQb2x5Z29uIiwiTXVsdGlQb2x5Z29uIl0sRWg9ZnVuY3Rpb24odCl7dGhpcy5nZW9tZXRyeUZhY3Rvcnk9dHx8bmV3IF9ofTtFaC5wcm90b3R5cGUucmVhZD1mdW5jdGlvbih0KXt2YXIgZSxuPShlPSJzdHJpbmciPT10eXBlb2YgdD9KU09OLnBhcnNlKHQpOnQpLnR5cGU7aWYoIWJoW25dKXRocm93IG5ldyBFcnJvcigiVW5rbm93biBHZW9KU09OIHR5cGU6ICIrZS50eXBlKTtyZXR1cm4tMSE9PXhoLmluZGV4T2Yobik/Ymhbbl0uYXBwbHkodGhpcyxbZS5jb29yZGluYXRlc10pOiJHZW9tZXRyeUNvbGxlY3Rpb24iPT09bj9iaFtuXS5hcHBseSh0aGlzLFtlLmdlb21ldHJpZXNdKTpiaFtuXS5hcHBseSh0aGlzLFtlXSl9LEVoLnByb3RvdHlwZS53cml0ZT1mdW5jdGlvbih0KXt2YXIgZT10LmdldEdlb21ldHJ5VHlwZSgpO2lmKCF3aFtlXSl0aHJvdyBuZXcgRXJyb3IoIkdlb21ldHJ5IGlzIG5vdCBzdXBwb3J0ZWQiKTtyZXR1cm4gd2hbZV0uYXBwbHkodGhpcyxbdF0pfTt2YXIgYmg9e0ZlYXR1cmU6ZnVuY3Rpb24odCl7dmFyIGU9e307Zm9yKHZhciBuIGluIHQpZVtuXT10W25dO2lmKHQuZ2VvbWV0cnkpe3ZhciByPXQuZ2VvbWV0cnkudHlwZTtpZighYmhbcl0pdGhyb3cgbmV3IEVycm9yKCJVbmtub3duIEdlb0pTT04gdHlwZTogIit0LnR5cGUpO2UuZ2VvbWV0cnk9dGhpcy5yZWFkKHQuZ2VvbWV0cnkpfXJldHVybiB0LmJib3gmJihlLmJib3g9YmguYmJveC5hcHBseSh0aGlzLFt0LmJib3hdKSksZX0sRmVhdHVyZUNvbGxlY3Rpb246ZnVuY3Rpb24odCl7dmFyIGU9e307aWYodC5mZWF0dXJlcyl7ZS5mZWF0dXJlcz1bXTtmb3IodmFyIG49MDtuPHQuZmVhdHVyZXMubGVuZ3RoOysrbillLmZlYXR1cmVzLnB1c2godGhpcy5yZWFkKHQuZmVhdHVyZXNbbl0pKX1yZXR1cm4gdC5iYm94JiYoZS5iYm94PXRoaXMucGFyc2UuYmJveC5hcHBseSh0aGlzLFt0LmJib3hdKSksZX0sY29vcmRpbmF0ZXM6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPVtdLG49MDtuPHQubGVuZ3RoOysrbil7dmFyIHI9dFtuXTtlLnB1c2gobmV3IHVsKHJbMF0sclsxXSkpfXJldHVybiBlfSxiYm94OmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmdlb21ldHJ5RmFjdG9yeS5jcmVhdGVMaW5lYXJSaW5nKFtuZXcgdWwodFswXSx0WzFdKSxuZXcgdWwodFsyXSx0WzFdKSxuZXcgdWwodFsyXSx0WzNdKSxuZXcgdWwodFswXSx0WzNdKSxuZXcgdWwodFswXSx0WzFdKV0pfSxQb2ludDpmdW5jdGlvbih0KXt2YXIgZT1uZXcgdWwodFswXSx0WzFdKTtyZXR1cm4gdGhpcy5nZW9tZXRyeUZhY3RvcnkuY3JlYXRlUG9pbnQoZSl9LE11bHRpUG9pbnQ6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPVtdLG49MDtuPHQubGVuZ3RoOysrbillLnB1c2goYmguUG9pbnQuYXBwbHkodGhpcyxbdFtuXV0pKTtyZXR1cm4gdGhpcy5nZW9tZXRyeUZhY3RvcnkuY3JlYXRlTXVsdGlQb2ludChlKX0sTGluZVN0cmluZzpmdW5jdGlvbih0KXt2YXIgZT1iaC5jb29yZGluYXRlcy5hcHBseSh0aGlzLFt0XSk7cmV0dXJuIHRoaXMuZ2VvbWV0cnlGYWN0b3J5LmNyZWF0ZUxpbmVTdHJpbmcoZSl9LE11bHRpTGluZVN0cmluZzpmdW5jdGlvbih0KXtmb3IodmFyIGU9W10sbj0wO248dC5sZW5ndGg7KytuKWUucHVzaChiaC5MaW5lU3RyaW5nLmFwcGx5KHRoaXMsW3Rbbl1dKSk7cmV0dXJuIHRoaXMuZ2VvbWV0cnlGYWN0b3J5LmNyZWF0ZU11bHRpTGluZVN0cmluZyhlKX0sUG9seWdvbjpmdW5jdGlvbih0KXtmb3IodmFyIGU9YmguY29vcmRpbmF0ZXMuYXBwbHkodGhpcyxbdFswXV0pLG49dGhpcy5nZW9tZXRyeUZhY3RvcnkuY3JlYXRlTGluZWFyUmluZyhlKSxyPVtdLGk9MTtpPHQubGVuZ3RoOysraSl7dmFyIG89dFtpXSxzPWJoLmNvb3JkaW5hdGVzLmFwcGx5KHRoaXMsW29dKSxhPXRoaXMuZ2VvbWV0cnlGYWN0b3J5LmNyZWF0ZUxpbmVhclJpbmcocyk7ci5wdXNoKGEpfXJldHVybiB0aGlzLmdlb21ldHJ5RmFjdG9yeS5jcmVhdGVQb2x5Z29uKG4scil9LE11bHRpUG9seWdvbjpmdW5jdGlvbih0KXtmb3IodmFyIGU9W10sbj0wO248dC5sZW5ndGg7KytuKXt2YXIgcj10W25dO2UucHVzaChiaC5Qb2x5Z29uLmFwcGx5KHRoaXMsW3JdKSl9cmV0dXJuIHRoaXMuZ2VvbWV0cnlGYWN0b3J5LmNyZWF0ZU11bHRpUG9seWdvbihlKX0sR2VvbWV0cnlDb2xsZWN0aW9uOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1bXSxuPTA7bjx0Lmxlbmd0aDsrK24pe3ZhciByPXRbbl07ZS5wdXNoKHRoaXMucmVhZChyKSl9cmV0dXJuIHRoaXMuZ2VvbWV0cnlGYWN0b3J5LmNyZWF0ZUdlb21ldHJ5Q29sbGVjdGlvbihlKX19LHdoPXtjb29yZGluYXRlOmZ1bmN0aW9uKHQpe3JldHVyblt0LngsdC55XX0sUG9pbnQ6ZnVuY3Rpb24odCl7cmV0dXJue3R5cGU6IlBvaW50Iixjb29yZGluYXRlczp3aC5jb29yZGluYXRlLmFwcGx5KHRoaXMsW3QuZ2V0Q29vcmRpbmF0ZSgpXSl9fSxNdWx0aVBvaW50OmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1bXSxuPTA7bjx0Ll9nZW9tZXRyaWVzLmxlbmd0aDsrK24pe3ZhciByPXQuX2dlb21ldHJpZXNbbl0saT13aC5Qb2ludC5hcHBseSh0aGlzLFtyXSk7ZS5wdXNoKGkuY29vcmRpbmF0ZXMpfXJldHVybnt0eXBlOiJNdWx0aVBvaW50Iixjb29yZGluYXRlczplfX0sTGluZVN0cmluZzpmdW5jdGlvbih0KXtmb3IodmFyIGU9W10sbj10LmdldENvb3JkaW5hdGVzKCkscj0wO3I8bi5sZW5ndGg7KytyKXt2YXIgaT1uW3JdO2UucHVzaCh3aC5jb29yZGluYXRlLmFwcGx5KHRoaXMsW2ldKSl9cmV0dXJue3R5cGU6IkxpbmVTdHJpbmciLGNvb3JkaW5hdGVzOmV9fSxNdWx0aUxpbmVTdHJpbmc6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPVtdLG49MDtuPHQuX2dlb21ldHJpZXMubGVuZ3RoOysrbil7dmFyIHI9dC5fZ2VvbWV0cmllc1tuXSxpPXdoLkxpbmVTdHJpbmcuYXBwbHkodGhpcyxbcl0pO2UucHVzaChpLmNvb3JkaW5hdGVzKX1yZXR1cm57dHlwZToiTXVsdGlMaW5lU3RyaW5nIixjb29yZGluYXRlczplfX0sUG9seWdvbjpmdW5jdGlvbih0KXt2YXIgZT1bXSxuPXdoLkxpbmVTdHJpbmcuYXBwbHkodGhpcyxbdC5fc2hlbGxdKTtlLnB1c2gobi5jb29yZGluYXRlcyk7Zm9yKHZhciByPTA7cjx0Ll9ob2xlcy5sZW5ndGg7KytyKXt2YXIgaT10Ll9ob2xlc1tyXSxvPXdoLkxpbmVTdHJpbmcuYXBwbHkodGhpcyxbaV0pO2UucHVzaChvLmNvb3JkaW5hdGVzKX1yZXR1cm57dHlwZToiUG9seWdvbiIsY29vcmRpbmF0ZXM6ZX19LE11bHRpUG9seWdvbjpmdW5jdGlvbih0KXtmb3IodmFyIGU9W10sbj0wO248dC5fZ2VvbWV0cmllcy5sZW5ndGg7KytuKXt2YXIgcj10Ll9nZW9tZXRyaWVzW25dLGk9d2guUG9seWdvbi5hcHBseSh0aGlzLFtyXSk7ZS5wdXNoKGkuY29vcmRpbmF0ZXMpfXJldHVybnt0eXBlOiJNdWx0aVBvbHlnb24iLGNvb3JkaW5hdGVzOmV9fSxHZW9tZXRyeUNvbGxlY3Rpb246ZnVuY3Rpb24odCl7Zm9yKHZhciBlPVtdLG49MDtuPHQuX2dlb21ldHJpZXMubGVuZ3RoOysrbil7dmFyIHI9dC5fZ2VvbWV0cmllc1tuXSxpPXIuZ2V0R2VvbWV0cnlUeXBlKCk7ZS5wdXNoKHdoW2ldLmFwcGx5KHRoaXMsW3JdKSl9cmV0dXJue3R5cGU6Ikdlb21ldHJ5Q29sbGVjdGlvbiIsZ2VvbWV0cmllczplfX19LEloPWZ1bmN0aW9uKHQpe3RoaXMuZ2VvbWV0cnlGYWN0b3J5PXR8fG5ldyBfaCx0aGlzLnByZWNpc2lvbk1vZGVsPXRoaXMuZ2VvbWV0cnlGYWN0b3J5LmdldFByZWNpc2lvbk1vZGVsKCksdGhpcy5wYXJzZXI9bmV3IEVoKHRoaXMuZ2VvbWV0cnlGYWN0b3J5KX07SWgucHJvdG90eXBlLnJlYWQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5wYXJzZXIucmVhZCh0KTtyZXR1cm4gdGhpcy5wcmVjaXNpb25Nb2RlbC5nZXRUeXBlKCk9PT1naC5GSVhFRCYmdGhpcy5yZWR1Y2VQcmVjaXNpb24oZSksZX0sSWgucHJvdG90eXBlLnJlZHVjZVByZWNpc2lvbj1mdW5jdGlvbih0KXt2YXIgZSxuO2lmKHQuY29vcmRpbmF0ZSl0aGlzLnByZWNpc2lvbk1vZGVsLm1ha2VQcmVjaXNlKHQuY29vcmRpbmF0ZSk7ZWxzZSBpZih0LnBvaW50cylmb3IoZT0wLG49dC5wb2ludHMubGVuZ3RoO2U8bjtlKyspdGhpcy5wcmVjaXNpb25Nb2RlbC5tYWtlUHJlY2lzZSh0LnBvaW50c1tlXSk7ZWxzZSBpZih0Lmdlb21ldHJpZXMpZm9yKGU9MCxuPXQuZ2VvbWV0cmllcy5sZW5ndGg7ZTxuO2UrKyl0aGlzLnJlZHVjZVByZWNpc2lvbih0Lmdlb21ldHJpZXNbZV0pfTt2YXIgTmg9ZnVuY3Rpb24oKXt0aGlzLnBhcnNlcj1uZXcgRWgodGhpcy5nZW9tZXRyeUZhY3RvcnkpfTtOaC5wcm90b3R5cGUud3JpdGU9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMucGFyc2VyLndyaXRlKHQpfTt2YXIgU2g9ZnVuY3Rpb24oKXt9LENoPXtPTjp7Y29uZmlndXJhYmxlOiEwfSxMRUZUOntjb25maWd1cmFibGU6ITB9LFJJR0hUOntjb25maWd1cmFibGU6ITB9fTtmdW5jdGlvbiBQaCh0KXt0aGlzLm1lc3NhZ2U9dHx8IiJ9ZnVuY3Rpb24gTWgoKXt0aGlzLmFycmF5Xz1bXX1TaC5wcm90b3R5cGUuaW50ZXJmYWNlc189ZnVuY3Rpb24oKXtyZXR1cm5bXX0sU2gucHJvdG90eXBlLmdldENsYXNzPWZ1bmN0aW9uKCl7cmV0dXJuIFNofSxTaC5vcHBvc2l0ZT1mdW5jdGlvbih0KXtyZXR1cm4gdD09PVNoLkxFRlQ/U2guUklHSFQ6dD09PVNoLlJJR0hUP1NoLkxFRlQ6dH0sQ2guT04uZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIDB9LENoLkxFRlQuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIDF9LENoLlJJR0hULmdldD1mdW5jdGlvbigpe3JldHVybiAyfSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhTaCxDaCksUGgucHJvdG90eXBlPW5ldyBFcnJvcixQaC5wcm90b3R5cGUubmFtZT0iRW1wdHlTdGFja0V4Y2VwdGlvbiIsTWgucHJvdG90eXBlPW5ldyBhYyxNaC5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmFycmF5Xy5wdXNoKHQpLCEwfSxNaC5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKHQpe2lmKHQ8MHx8dD49dGhpcy5zaXplKCkpdGhyb3cgbmV3IEVycm9yO3JldHVybiB0aGlzLmFycmF5X1t0XX0sTWgucHJvdG90eXBlLnB1c2g9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuYXJyYXlfLnB1c2godCksdH0sTWgucHJvdG90eXBlLnBvcD1mdW5jdGlvbih0KXtpZigwPT09dGhpcy5hcnJheV8ubGVuZ3RoKXRocm93IG5ldyBQaDtyZXR1cm4gdGhpcy5hcnJheV8ucG9wKCl9LE1oLnByb3RvdHlwZS5wZWVrPWZ1bmN0aW9uKCl7aWYoMD09PXRoaXMuYXJyYXlfLmxlbmd0aCl0aHJvdyBuZXcgUGg7cmV0dXJuIHRoaXMuYXJyYXlfW3RoaXMuYXJyYXlfLmxlbmd0aC0xXX0sTWgucHJvdG90eXBlLmVtcHR5PWZ1bmN0aW9uKCl7cmV0dXJuIDA9PT10aGlzLmFycmF5Xy5sZW5ndGh9LE1oLnByb3RvdHlwZS5pc0VtcHR5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZW1wdHkoKX0sTWgucHJvdG90eXBlLnNlYXJjaD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5hcnJheV8uaW5kZXhPZih0KX0sTWgucHJvdG90eXBlLnNpemU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hcnJheV8ubGVuZ3RofSxNaC5wcm90b3R5cGUudG9BcnJheT1mdW5jdGlvbigpe2Zvcih2YXIgdD1bXSxlPTAsbj10aGlzLmFycmF5Xy5sZW5ndGg7ZTxuO2UrKyl0LnB1c2godGhpcy5hcnJheV9bZV0pO3JldHVybiB0fTt2YXIgTGg9ZnVuY3Rpb24oKXt0aGlzLl9taW5JbmRleD0tMSx0aGlzLl9taW5Db29yZD1udWxsLHRoaXMuX21pbkRlPW51bGwsdGhpcy5fb3JpZW50ZWREZT1udWxsfTtMaC5wcm90b3R5cGUuZ2V0Q29vcmRpbmF0ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9taW5Db29yZH0sTGgucHJvdG90eXBlLmdldFJpZ2h0bW9zdFNpZGU9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLmdldFJpZ2h0bW9zdFNpZGVPZlNlZ21lbnQodCxlKTtyZXR1cm4gbjwwJiYobj10aGlzLmdldFJpZ2h0bW9zdFNpZGVPZlNlZ21lbnQodCxlLTEpKSxuPDAmJih0aGlzLl9taW5Db29yZD1udWxsLHRoaXMuY2hlY2tGb3JSaWdodG1vc3RDb29yZGluYXRlKHQpKSxufSxMaC5wcm90b3R5cGUuZmluZFJpZ2h0bW9zdEVkZ2VBdFZlcnRleD1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX21pbkRlLmdldEVkZ2UoKS5nZXRDb29yZGluYXRlcygpO3FsLmlzVHJ1ZSh0aGlzLl9taW5JbmRleD4wJiZ0aGlzLl9taW5JbmRleDx0Lmxlbmd0aCwicmlnaHRtb3N0IHBvaW50IGV4cGVjdGVkIHRvIGJlIGludGVyaW9yIHZlcnRleCBvZiBlZGdlIik7dmFyIGU9dFt0aGlzLl9taW5JbmRleC0xXSxuPXRbdGhpcy5fbWluSW5kZXgrMV0scj1YbC5jb21wdXRlT3JpZW50YXRpb24odGhpcy5fbWluQ29vcmQsbixlKSxpPSExOyhlLnk8dGhpcy5fbWluQ29vcmQueSYmbi55PHRoaXMuX21pbkNvb3JkLnkmJnI9PT1YbC5DT1VOVEVSQ0xPQ0tXSVNFfHxlLnk+dGhpcy5fbWluQ29vcmQueSYmbi55PnRoaXMuX21pbkNvb3JkLnkmJnI9PT1YbC5DTE9DS1dJU0UpJiYoaT0hMCksaSYmKHRoaXMuX21pbkluZGV4PXRoaXMuX21pbkluZGV4LTEpfSxMaC5wcm90b3R5cGUuZ2V0UmlnaHRtb3N0U2lkZU9mU2VnbWVudD1mdW5jdGlvbih0LGUpe3ZhciBuPXQuZ2V0RWRnZSgpLmdldENvb3JkaW5hdGVzKCk7aWYoZTwwfHxlKzE+PW4ubGVuZ3RoKXJldHVybi0xO2lmKG5bZV0ueT09PW5bZSsxXS55KXJldHVybi0xO3ZhciByPVNoLkxFRlQ7cmV0dXJuIG5bZV0ueTxuW2UrMV0ueSYmKHI9U2guUklHSFQpLHJ9LExoLnByb3RvdHlwZS5nZXRFZGdlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX29yaWVudGVkRGV9LExoLnByb3RvdHlwZS5jaGVja0ZvclJpZ2h0bW9zdENvb3JkaW5hdGU9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMsbj10LmdldEVkZ2UoKS5nZXRDb29yZGluYXRlcygpLHI9MDtyPG4ubGVuZ3RoLTE7cisrKShudWxsPT09ZS5fbWluQ29vcmR8fG5bcl0ueD5lLl9taW5Db29yZC54KSYmKGUuX21pbkRlPXQsZS5fbWluSW5kZXg9cixlLl9taW5Db29yZD1uW3JdKX0sTGgucHJvdG90eXBlLmZpbmRSaWdodG1vc3RFZGdlQXROb2RlPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fbWluRGUuZ2V0Tm9kZSgpLmdldEVkZ2VzKCk7dGhpcy5fbWluRGU9dC5nZXRSaWdodG1vc3RFZGdlKCksdGhpcy5fbWluRGUuaXNGb3J3YXJkKCl8fCh0aGlzLl9taW5EZT10aGlzLl9taW5EZS5nZXRTeW0oKSx0aGlzLl9taW5JbmRleD10aGlzLl9taW5EZS5nZXRFZGdlKCkuZ2V0Q29vcmRpbmF0ZXMoKS5sZW5ndGgtMSl9LExoLnByb3RvdHlwZS5maW5kRWRnZT1mdW5jdGlvbih0KXtmb3IodmFyIGU9dC5pdGVyYXRvcigpO2UuaGFzTmV4dCgpOyl7dmFyIG49ZS5uZXh0KCk7bi5pc0ZvcndhcmQoKSYmdGhpcy5jaGVja0ZvclJpZ2h0bW9zdENvb3JkaW5hdGUobil9cWwuaXNUcnVlKDAhPT10aGlzLl9taW5JbmRleHx8dGhpcy5fbWluQ29vcmQuZXF1YWxzKHRoaXMuX21pbkRlLmdldENvb3JkaW5hdGUoKSksImluY29uc2lzdGVuY3kgaW4gcmlnaHRtb3N0IHByb2Nlc3NpbmciKSwwPT09dGhpcy5fbWluSW5kZXg/dGhpcy5maW5kUmlnaHRtb3N0RWRnZUF0Tm9kZSgpOnRoaXMuZmluZFJpZ2h0bW9zdEVkZ2VBdFZlcnRleCgpLHRoaXMuX29yaWVudGVkRGU9dGhpcy5fbWluRGUsdGhpcy5nZXRSaWdodG1vc3RTaWRlKHRoaXMuX21pbkRlLHRoaXMuX21pbkluZGV4KT09PVNoLkxFRlQmJih0aGlzLl9vcmllbnRlZERlPXRoaXMuX21pbkRlLmdldFN5bSgpKX0sTGgucHJvdG90eXBlLmludGVyZmFjZXNfPWZ1bmN0aW9uKCl7cmV0dXJuW119LExoLnByb3RvdHlwZS5nZXRDbGFzcz1mdW5jdGlvbigpe3JldHVybiBMaH07dmFyIE9oPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUobixyKXt0LmNhbGwodGhpcyxlLm1zZ1dpdGhDb29yZChuLHIpKSx0aGlzLnB0PXI/bmV3IHVsKHIpOm51bGwsdGhpcy5uYW1lPSJUb3BvbG9neUV4Y2VwdGlvbiJ9cmV0dXJuIHQmJihlLl9fcHJvdG9fXz10KSxlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSxlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1lLGUucHJvdG90eXBlLmdldENvb3JkaW5hdGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wdH0sZS5wcm90b3R5cGUuaW50ZXJmYWNlc189ZnVuY3Rpb24oKXtyZXR1cm5bXX0sZS5wcm90b3R5cGUuZ2V0Q2xhc3M9ZnVuY3Rpb24oKXtyZXR1cm4gZX0sZS5tc2dXaXRoQ29vcmQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gZT90OnQrIiBbICIrZSsiIF0ifSxlfShrbCksUmg9ZnVuY3Rpb24oKXt0aGlzLmFycmF5Xz1bXX07UmgucHJvdG90eXBlLmFkZExhc3Q9ZnVuY3Rpb24odCl7dGhpcy5hcnJheV8ucHVzaCh0KX0sUmgucHJvdG90eXBlLnJlbW92ZUZpcnN0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYXJyYXlfLnNoaWZ0KCl9LFJoLnByb3RvdHlwZS5pc0VtcHR5PWZ1bmN0aW9uKCl7cmV0dXJuIDA9PT10aGlzLmFycmF5Xy5sZW5ndGh9O3ZhciBUaD1mdW5jdGlvbigpe3RoaXMuX2ZpbmRlcj1udWxsLHRoaXMuX2RpckVkZ2VMaXN0PW5ldyBsYyx0aGlzLl9ub2Rlcz1uZXcgbGMsdGhpcy5fcmlnaHRNb3N0Q29vcmQ9bnVsbCx0aGlzLl9lbnY9bnVsbCx0aGlzLl9maW5kZXI9bmV3IExofTtUaC5wcm90b3R5cGUuY2xlYXJWaXNpdGVkRWRnZXM9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpcy5fZGlyRWRnZUxpc3QuaXRlcmF0b3IoKTt0Lmhhc05leHQoKTspe3QubmV4dCgpLnNldFZpc2l0ZWQoITEpfX0sVGgucHJvdG90eXBlLmdldFJpZ2h0bW9zdENvb3JkaW5hdGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmlnaHRNb3N0Q29vcmR9LFRoLnByb3RvdHlwZS5jb21wdXRlTm9kZURlcHRoPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1udWxsLG49dC5nZXRFZGdlcygpLml0ZXJhdG9yKCk7bi5oYXNOZXh0KCk7KXt2YXIgcj1uLm5leHQoKTtpZihyLmlzVmlzaXRlZCgpfHxyLmdldFN5bSgpLmlzVmlzaXRlZCgpKXtlPXI7YnJlYWt9fWlmKG51bGw9PT1lKXRocm93IG5ldyBPaCgidW5hYmxlIHRvIGZpbmQgZWRnZSB0byBjb21wdXRlIGRlcHRocyBhdCAiK3QuZ2V0Q29vcmRpbmF0ZSgpKTt0LmdldEVkZ2VzKCkuY29tcHV0ZURlcHRocyhlKTtmb3IodmFyIGk9dC5nZXRFZGdlcygpLml0ZXJhdG9yKCk7aS5oYXNOZXh0KCk7KXt2YXIgbz1pLm5leHQoKTtvLnNldFZpc2l0ZWQoITApLHRoaXMuY29weVN5bURlcHRocyhvKX19LFRoLnByb3RvdHlwZS5jb21wdXRlRGVwdGg9ZnVuY3Rpb24odCl7dGhpcy5jbGVhclZpc2l0ZWRFZGdlcygpO3ZhciBlPXRoaXMuX2ZpbmRlci5nZXRFZGdlKCk7ZS5zZXRFZGdlRGVwdGhzKFNoLlJJR0hULHQpLHRoaXMuY29weVN5bURlcHRocyhlKSx0aGlzLmNvbXB1dGVEZXB0aHMoZSl9LFRoLnByb3RvdHlwZS5jcmVhdGU9ZnVuY3Rpb24odCl7dGhpcy5hZGRSZWFjaGFibGUodCksdGhpcy5fZmluZGVyLmZpbmRFZGdlKHRoaXMuX2RpckVkZ2VMaXN0KSx0aGlzLl9yaWdodE1vc3RDb29yZD10aGlzLl9maW5kZXIuZ2V0Q29vcmRpbmF0ZSgpfSxUaC5wcm90b3R5cGUuZmluZFJlc3VsdEVkZ2VzPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PXRoaXMuX2RpckVkZ2VMaXN0Lml0ZXJhdG9yKCk7dC5oYXNOZXh0KCk7KXt2YXIgZT10Lm5leHQoKTtlLmdldERlcHRoKFNoLlJJR0hUKT49MSYmZS5nZXREZXB0aChTaC5MRUZUKTw9MCYmIWUuaXNJbnRlcmlvckFyZWFFZGdlKCkmJmUuc2V0SW5SZXN1bHQoITApfX0sVGgucHJvdG90eXBlLmNvbXB1dGVEZXB0aHM9ZnVuY3Rpb24odCl7dmFyIGU9bmV3IHhjLG49bmV3IFJoLHI9dC5nZXROb2RlKCk7Zm9yKG4uYWRkTGFzdChyKSxlLmFkZChyKSx0LnNldFZpc2l0ZWQoITApOyFuLmlzRW1wdHkoKTspe3ZhciBpPW4ucmVtb3ZlRmlyc3QoKTtlLmFkZChpKSx0aGlzLmNvbXB1dGVOb2RlRGVwdGgoaSk7Zm9yKHZhciBvPWkuZ2V0RWRnZXMoKS5pdGVyYXRvcigpO28uaGFzTmV4dCgpOyl7dmFyIHM9by5uZXh0KCkuZ2V0U3ltKCk7aWYoIXMuaXNWaXNpdGVkKCkpe3ZhciBhPXMuZ2V0Tm9kZSgpO2UuY29udGFpbnMoYSl8fChuLmFkZExhc3QoYSksZS5hZGQoYSkpfX19fSxUaC5wcm90b3R5cGUuY29tcGFyZVRvPWZ1bmN0aW9uKHQpe3ZhciBlPXQ7cmV0dXJuIHRoaXMuX3JpZ2h0TW9zdENvb3JkLng8ZS5fcmlnaHRNb3N0Q29vcmQueD8tMTp0aGlzLl9yaWdodE1vc3RDb29yZC54PmUuX3JpZ2h0TW9zdENvb3JkLng/MTowfSxUaC5wcm90b3R5cGUuZ2V0RW52ZWxvcGU9ZnVuY3Rpb24oKXtpZihudWxsPT09dGhpcy5fZW52KXtmb3IodmFyIHQ9bmV3IExsLGU9dGhpcy5fZGlyRWRnZUxpc3QuaXRlcmF0b3IoKTtlLmhhc05leHQoKTspZm9yKHZhciBuPWUubmV4dCgpLmdldEVkZ2UoKS5nZXRDb29yZGluYXRlcygpLHI9MDtyPG4ubGVuZ3RoLTE7cisrKXQuZXhwYW5kVG9JbmNsdWRlKG5bcl0pO3RoaXMuX2Vudj10fXJldHVybiB0aGlzLl9lbnZ9LFRoLnByb3RvdHlwZS5hZGRSZWFjaGFibGU9ZnVuY3Rpb24odCl7dmFyIGU9bmV3IE1oO2ZvcihlLmFkZCh0KTshZS5lbXB0eSgpOyl7dmFyIG49ZS5wb3AoKTt0aGlzLmFkZChuLGUpfX0sVGgucHJvdG90eXBlLmNvcHlTeW1EZXB0aHM9ZnVuY3Rpb24odCl7dmFyIGU9dC5nZXRTeW0oKTtlLnNldERlcHRoKFNoLkxFRlQsdC5nZXREZXB0aChTaC5SSUdIVCkpLGUuc2V0RGVwdGgoU2guUklHSFQsdC5nZXREZXB0aChTaC5MRUZUKSl9LFRoLnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24odCxlKXt0LnNldFZpc2l0ZWQoITApLHRoaXMuX25vZGVzLmFkZCh0KTtmb3IodmFyIG49dC5nZXRFZGdlcygpLml0ZXJhdG9yKCk7bi5oYXNOZXh0KCk7KXt2YXIgcj1uLm5leHQoKTt0aGlzLl9kaXJFZGdlTGlzdC5hZGQocik7dmFyIGk9ci5nZXRTeW0oKS5nZXROb2RlKCk7aS5pc1Zpc2l0ZWQoKXx8ZS5wdXNoKGkpfX0sVGgucHJvdG90eXBlLmdldE5vZGVzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX25vZGVzfSxUaC5wcm90b3R5cGUuZ2V0RGlyZWN0ZWRFZGdlcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9kaXJFZGdlTGlzdH0sVGgucHJvdG90eXBlLmludGVyZmFjZXNfPWZ1bmN0aW9uKCl7cmV0dXJuW2lsXX0sVGgucHJvdG90eXBlLmdldENsYXNzPWZ1bmN0aW9uKCl7cmV0dXJuIFRofTt2YXIgQWg9ZnVuY3Rpb24gdCgpe3ZhciBlPXRoaXM7aWYodGhpcy5sb2NhdGlvbj1udWxsLDE9PT1hcmd1bWVudHMubGVuZ3RoKXtpZihhcmd1bWVudHNbMF1pbnN0YW5jZW9mIEFycmF5KXt2YXIgbj1hcmd1bWVudHNbMF07dGhpcy5pbml0KG4ubGVuZ3RoKX1lbHNlIGlmKE51bWJlci5pc0ludGVnZXIoYXJndW1lbnRzWzBdKSl7dmFyIHI9YXJndW1lbnRzWzBdO3RoaXMuaW5pdCgxKSx0aGlzLmxvY2F0aW9uW1NoLk9OXT1yfWVsc2UgaWYoYXJndW1lbnRzWzBdaW5zdGFuY2VvZiB0KXt2YXIgaT1hcmd1bWVudHNbMF07aWYodGhpcy5pbml0KGkubG9jYXRpb24ubGVuZ3RoKSxudWxsIT09aSlmb3IodmFyIG89MDtvPHRoaXMubG9jYXRpb24ubGVuZ3RoO28rKyllLmxvY2F0aW9uW29dPWkubG9jYXRpb25bb119fWVsc2UgaWYoMz09PWFyZ3VtZW50cy5sZW5ndGgpe3ZhciBzPWFyZ3VtZW50c1swXSxhPWFyZ3VtZW50c1sxXSx1PWFyZ3VtZW50c1syXTt0aGlzLmluaXQoMyksdGhpcy5sb2NhdGlvbltTaC5PTl09cyx0aGlzLmxvY2F0aW9uW1NoLkxFRlRdPWEsdGhpcy5sb2NhdGlvbltTaC5SSUdIVF09dX19O0FoLnByb3RvdHlwZS5zZXRBbGxMb2NhdGlvbnM9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTA7ZTx0aGlzLmxvY2F0aW9uLmxlbmd0aDtlKyspdGhpcy5sb2NhdGlvbltlXT10fSxBaC5wcm90b3R5cGUuaXNOdWxsPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PTA7dDx0aGlzLmxvY2F0aW9uLmxlbmd0aDt0KyspaWYodGhpcy5sb2NhdGlvblt0XSE9PXBsLk5PTkUpcmV0dXJuITE7cmV0dXJuITB9LEFoLnByb3RvdHlwZS5zZXRBbGxMb2NhdGlvbnNJZk51bGw9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTA7ZTx0aGlzLmxvY2F0aW9uLmxlbmd0aDtlKyspdGhpcy5sb2NhdGlvbltlXT09PXBsLk5PTkUmJih0aGlzLmxvY2F0aW9uW2VdPXQpfSxBaC5wcm90b3R5cGUuaXNMaW5lPWZ1bmN0aW9uKCl7cmV0dXJuIDE9PT10aGlzLmxvY2F0aW9uLmxlbmd0aH0sQWgucHJvdG90eXBlLm1lcmdlPWZ1bmN0aW9uKHQpe2lmKHQubG9jYXRpb24ubGVuZ3RoPnRoaXMubG9jYXRpb24ubGVuZ3RoKXt2YXIgZT1uZXcgQXJyYXkoMykuZmlsbChudWxsKTtlW1NoLk9OXT10aGlzLmxvY2F0aW9uW1NoLk9OXSxlW1NoLkxFRlRdPXBsLk5PTkUsZVtTaC5SSUdIVF09cGwuTk9ORSx0aGlzLmxvY2F0aW9uPWV9Zm9yKHZhciBuPTA7bjx0aGlzLmxvY2F0aW9uLmxlbmd0aDtuKyspdGhpcy5sb2NhdGlvbltuXT09PXBsLk5PTkUmJm48dC5sb2NhdGlvbi5sZW5ndGgmJih0aGlzLmxvY2F0aW9uW25dPXQubG9jYXRpb25bbl0pfSxBaC5wcm90b3R5cGUuZ2V0TG9jYXRpb25zPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubG9jYXRpb259LEFoLnByb3RvdHlwZS5mbGlwPWZ1bmN0aW9uKCl7aWYodGhpcy5sb2NhdGlvbi5sZW5ndGg8PTEpcmV0dXJuIG51bGw7dmFyIHQ9dGhpcy5sb2NhdGlvbltTaC5MRUZUXTt0aGlzLmxvY2F0aW9uW1NoLkxFRlRdPXRoaXMubG9jYXRpb25bU2guUklHSFRdLHRoaXMubG9jYXRpb25bU2guUklHSFRdPXR9LEFoLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3ZhciB0PW5ldyB2bDtyZXR1cm4gdGhpcy5sb2NhdGlvbi5sZW5ndGg+MSYmdC5hcHBlbmQocGwudG9Mb2NhdGlvblN5bWJvbCh0aGlzLmxvY2F0aW9uW1NoLkxFRlRdKSksdC5hcHBlbmQocGwudG9Mb2NhdGlvblN5bWJvbCh0aGlzLmxvY2F0aW9uW1NoLk9OXSkpLHRoaXMubG9jYXRpb24ubGVuZ3RoPjEmJnQuYXBwZW5kKHBsLnRvTG9jYXRpb25TeW1ib2wodGhpcy5sb2NhdGlvbltTaC5SSUdIVF0pKSx0LnRvU3RyaW5nKCl9LEFoLnByb3RvdHlwZS5zZXRMb2NhdGlvbnM9ZnVuY3Rpb24odCxlLG4pe3RoaXMubG9jYXRpb25bU2guT05dPXQsdGhpcy5sb2NhdGlvbltTaC5MRUZUXT1lLHRoaXMubG9jYXRpb25bU2guUklHSFRdPW59LEFoLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24odCl7cmV0dXJuIHQ8dGhpcy5sb2NhdGlvbi5sZW5ndGg/dGhpcy5sb2NhdGlvblt0XTpwbC5OT05FfSxBaC5wcm90b3R5cGUuaXNBcmVhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubG9jYXRpb24ubGVuZ3RoPjF9LEFoLnByb3RvdHlwZS5pc0FueU51bGw9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9MDt0PHRoaXMubG9jYXRpb24ubGVuZ3RoO3QrKylpZih0aGlzLmxvY2F0aW9uW3RdPT09cGwuTk9ORSlyZXR1cm4hMDtyZXR1cm4hMX0sQWgucHJvdG90eXBlLnNldExvY2F0aW9uPWZ1bmN0aW9uKCl7aWYoMT09PWFyZ3VtZW50cy5sZW5ndGgpe3ZhciB0PWFyZ3VtZW50c1swXTt0aGlzLnNldExvY2F0aW9uKFNoLk9OLHQpfWVsc2UgaWYoMj09PWFyZ3VtZW50cy5sZW5ndGgpe3ZhciBlPWFyZ3VtZW50c1swXSxuPWFyZ3VtZW50c1sxXTt0aGlzLmxvY2F0aW9uW2VdPW59fSxBaC5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbih0KXt0aGlzLmxvY2F0aW9uPW5ldyBBcnJheSh0KS5maWxsKG51bGwpLHRoaXMuc2V0QWxsTG9jYXRpb25zKHBsLk5PTkUpfSxBaC5wcm90b3R5cGUuaXNFcXVhbE9uU2lkZT1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmxvY2F0aW9uW2VdPT09dC5sb2NhdGlvbltlXX0sQWgucHJvdG90eXBlLmFsbFBvc2l0aW9uc0VxdWFsPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wO2U8dGhpcy5sb2NhdGlvbi5sZW5ndGg7ZSsrKWlmKHRoaXMubG9jYXRpb25bZV0hPT10KXJldHVybiExO3JldHVybiEwfSxBaC5wcm90b3R5cGUuaW50ZXJmYWNlc189ZnVuY3Rpb24oKXtyZXR1cm5bXX0sQWgucHJvdG90eXBlLmdldENsYXNzPWZ1bmN0aW9uKCl7cmV0dXJuIEFofTt2YXIgRGg9ZnVuY3Rpb24gdCgpe2lmKHRoaXMuZWx0PW5ldyBBcnJheSgyKS5maWxsKG51bGwpLDE9PT1hcmd1bWVudHMubGVuZ3RoKXtpZihOdW1iZXIuaXNJbnRlZ2VyKGFyZ3VtZW50c1swXSkpe3ZhciBlPWFyZ3VtZW50c1swXTt0aGlzLmVsdFswXT1uZXcgQWgoZSksdGhpcy5lbHRbMV09bmV3IEFoKGUpfWVsc2UgaWYoYXJndW1lbnRzWzBdaW5zdGFuY2VvZiB0KXt2YXIgbj1hcmd1bWVudHNbMF07dGhpcy5lbHRbMF09bmV3IEFoKG4uZWx0WzBdKSx0aGlzLmVsdFsxXT1uZXcgQWgobi5lbHRbMV0pfX1lbHNlIGlmKDI9PT1hcmd1bWVudHMubGVuZ3RoKXt2YXIgcj1hcmd1bWVudHNbMF0saT1hcmd1bWVudHNbMV07dGhpcy5lbHRbMF09bmV3IEFoKHBsLk5PTkUpLHRoaXMuZWx0WzFdPW5ldyBBaChwbC5OT05FKSx0aGlzLmVsdFtyXS5zZXRMb2NhdGlvbihpKX1lbHNlIGlmKDM9PT1hcmd1bWVudHMubGVuZ3RoKXt2YXIgbz1hcmd1bWVudHNbMF0scz1hcmd1bWVudHNbMV0sYT1hcmd1bWVudHNbMl07dGhpcy5lbHRbMF09bmV3IEFoKG8scyxhKSx0aGlzLmVsdFsxXT1uZXcgQWgobyxzLGEpfWVsc2UgaWYoND09PWFyZ3VtZW50cy5sZW5ndGgpe3ZhciB1PWFyZ3VtZW50c1swXSxsPWFyZ3VtZW50c1sxXSxjPWFyZ3VtZW50c1syXSxoPWFyZ3VtZW50c1szXTt0aGlzLmVsdFswXT1uZXcgQWgocGwuTk9ORSxwbC5OT05FLHBsLk5PTkUpLHRoaXMuZWx0WzFdPW5ldyBBaChwbC5OT05FLHBsLk5PTkUscGwuTk9ORSksdGhpcy5lbHRbdV0uc2V0TG9jYXRpb25zKGwsYyxoKX19O0RoLnByb3RvdHlwZS5nZXRHZW9tZXRyeUNvdW50PWZ1bmN0aW9uKCl7dmFyIHQ9MDtyZXR1cm4gdGhpcy5lbHRbMF0uaXNOdWxsKCl8fHQrKyx0aGlzLmVsdFsxXS5pc051bGwoKXx8dCsrLHR9LERoLnByb3RvdHlwZS5zZXRBbGxMb2NhdGlvbnM9ZnVuY3Rpb24odCxlKXt0aGlzLmVsdFt0XS5zZXRBbGxMb2NhdGlvbnMoZSl9LERoLnByb3RvdHlwZS5pc051bGw9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZWx0W3RdLmlzTnVsbCgpfSxEaC5wcm90b3R5cGUuc2V0QWxsTG9jYXRpb25zSWZOdWxsPWZ1bmN0aW9uKCl7aWYoMT09PWFyZ3VtZW50cy5sZW5ndGgpe3ZhciB0PWFyZ3VtZW50c1swXTt0aGlzLnNldEFsbExvY2F0aW9uc0lmTnVsbCgwLHQpLHRoaXMuc2V0QWxsTG9jYXRpb25zSWZOdWxsKDEsdCl9ZWxzZSBpZigyPT09YXJndW1lbnRzLmxlbmd0aCl7dmFyIGU9YXJndW1lbnRzWzBdLG49YXJndW1lbnRzWzFdO3RoaXMuZWx0W2VdLnNldEFsbExvY2F0aW9uc0lmTnVsbChuKX19LERoLnByb3RvdHlwZS5pc0xpbmU9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZWx0W3RdLmlzTGluZSgpfSxEaC5wcm90b3R5cGUubWVyZ2U9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMsbj0wO248MjtuKyspbnVsbD09PWUuZWx0W25dJiZudWxsIT09dC5lbHRbbl0/ZS5lbHRbbl09bmV3IEFoKHQuZWx0W25dKTplLmVsdFtuXS5tZXJnZSh0LmVsdFtuXSl9LERoLnByb3RvdHlwZS5mbGlwPWZ1bmN0aW9uKCl7dGhpcy5lbHRbMF0uZmxpcCgpLHRoaXMuZWx0WzFdLmZsaXAoKX0sRGgucHJvdG90eXBlLmdldExvY2F0aW9uPWZ1bmN0aW9uKCl7aWYoMT09PWFyZ3VtZW50cy5sZW5ndGgpe3ZhciB0PWFyZ3VtZW50c1swXTtyZXR1cm4gdGhpcy5lbHRbdF0uZ2V0KFNoLk9OKX1pZigyPT09YXJndW1lbnRzLmxlbmd0aCl7dmFyIGU9YXJndW1lbnRzWzBdLG49YXJndW1lbnRzWzFdO3JldHVybiB0aGlzLmVsdFtlXS5nZXQobil9fSxEaC5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXt2YXIgdD1uZXcgdmw7cmV0dXJuIG51bGwhPT10aGlzLmVsdFswXSYmKHQuYXBwZW5kKCJBOiIpLHQuYXBwZW5kKHRoaXMuZWx0WzBdLnRvU3RyaW5nKCkpKSxudWxsIT09dGhpcy5lbHRbMV0mJih0LmFwcGVuZCgiIEI6IiksdC5hcHBlbmQodGhpcy5lbHRbMV0udG9TdHJpbmcoKSkpLHQudG9TdHJpbmcoKX0sRGgucHJvdG90eXBlLmlzQXJlYT1mdW5jdGlvbigpe2lmKDA9PT1hcmd1bWVudHMubGVuZ3RoKXJldHVybiB0aGlzLmVsdFswXS5pc0FyZWEoKXx8dGhpcy5lbHRbMV0uaXNBcmVhKCk7aWYoMT09PWFyZ3VtZW50cy5sZW5ndGgpe3ZhciB0PWFyZ3VtZW50c1swXTtyZXR1cm4gdGhpcy5lbHRbdF0uaXNBcmVhKCl9fSxEaC5wcm90b3R5cGUuaXNBbnlOdWxsPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmVsdFt0XS5pc0FueU51bGwoKX0sRGgucHJvdG90eXBlLnNldExvY2F0aW9uPWZ1bmN0aW9uKCl7aWYoMj09PWFyZ3VtZW50cy5sZW5ndGgpe3ZhciB0PWFyZ3VtZW50c1swXSxlPWFyZ3VtZW50c1sxXTt0aGlzLmVsdFt0XS5zZXRMb2NhdGlvbihTaC5PTixlKX1lbHNlIGlmKDM9PT1hcmd1bWVudHMubGVuZ3RoKXt2YXIgbj1hcmd1bWVudHNbMF0scj1hcmd1bWVudHNbMV0saT1hcmd1bWVudHNbMl07dGhpcy5lbHRbbl0uc2V0TG9jYXRpb24ocixpKX19LERoLnByb3RvdHlwZS5pc0VxdWFsT25TaWRlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuZWx0WzBdLmlzRXF1YWxPblNpZGUodC5lbHRbMF0sZSkmJnRoaXMuZWx0WzFdLmlzRXF1YWxPblNpZGUodC5lbHRbMV0sZSl9LERoLnByb3RvdHlwZS5hbGxQb3NpdGlvbnNFcXVhbD1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmVsdFt0XS5hbGxQb3NpdGlvbnNFcXVhbChlKX0sRGgucHJvdG90eXBlLnRvTGluZT1mdW5jdGlvbih0KXt0aGlzLmVsdFt0XS5pc0FyZWEoKSYmKHRoaXMuZWx0W3RdPW5ldyBBaCh0aGlzLmVsdFt0XS5sb2NhdGlvblswXSkpfSxEaC5wcm90b3R5cGUuaW50ZXJmYWNlc189ZnVuY3Rpb24oKXtyZXR1cm5bXX0sRGgucHJvdG90eXBlLmdldENsYXNzPWZ1bmN0aW9uKCl7cmV0dXJuIERofSxEaC50b0xpbmVMYWJlbD1mdW5jdGlvbih0KXtmb3IodmFyIGU9bmV3IERoKHBsLk5PTkUpLG49MDtuPDI7bisrKWUuc2V0TG9jYXRpb24obix0LmdldExvY2F0aW9uKG4pKTtyZXR1cm4gZX07dmFyIEZoPWZ1bmN0aW9uKCl7dGhpcy5fc3RhcnREZT1udWxsLHRoaXMuX21heE5vZGVEZWdyZWU9LTEsdGhpcy5fZWRnZXM9bmV3IGxjLHRoaXMuX3B0cz1uZXcgbGMsdGhpcy5fbGFiZWw9bmV3IERoKHBsLk5PTkUpLHRoaXMuX3Jpbmc9bnVsbCx0aGlzLl9pc0hvbGU9bnVsbCx0aGlzLl9zaGVsbD1udWxsLHRoaXMuX2hvbGVzPW5ldyBsYyx0aGlzLl9nZW9tZXRyeUZhY3Rvcnk9bnVsbDt2YXIgdD1hcmd1bWVudHNbMF0sZT1hcmd1bWVudHNbMV07dGhpcy5fZ2VvbWV0cnlGYWN0b3J5PWUsdGhpcy5jb21wdXRlUG9pbnRzKHQpLHRoaXMuY29tcHV0ZVJpbmcoKX07RmgucHJvdG90eXBlLmNvbXB1dGVSaW5nPWZ1bmN0aW9uKCl7aWYobnVsbCE9PXRoaXMuX3JpbmcpcmV0dXJuIG51bGw7Zm9yKHZhciB0PW5ldyBBcnJheSh0aGlzLl9wdHMuc2l6ZSgpKS5maWxsKG51bGwpLGU9MDtlPHRoaXMuX3B0cy5zaXplKCk7ZSsrKXRbZV09dGhpcy5fcHRzLmdldChlKTt0aGlzLl9yaW5nPXRoaXMuX2dlb21ldHJ5RmFjdG9yeS5jcmVhdGVMaW5lYXJSaW5nKHQpLHRoaXMuX2lzSG9sZT1YbC5pc0NDVyh0aGlzLl9yaW5nLmdldENvb3JkaW5hdGVzKCkpfSxGaC5wcm90b3R5cGUuaXNJc29sYXRlZD1mdW5jdGlvbigpe3JldHVybiAxPT09dGhpcy5fbGFiZWwuZ2V0R2VvbWV0cnlDb3VudCgpfSxGaC5wcm90b3R5cGUuY29tcHV0ZVBvaW50cz1mdW5jdGlvbih0KXt2YXIgZT10aGlzO3RoaXMuX3N0YXJ0RGU9dDt2YXIgbj10LHI9ITA7ZG97aWYobnVsbD09PW4pdGhyb3cgbmV3IE9oKCJGb3VuZCBudWxsIERpcmVjdGVkRWRnZSIpO2lmKG4uZ2V0RWRnZVJpbmcoKT09PWUpdGhyb3cgbmV3IE9oKCJEaXJlY3RlZCBFZGdlIHZpc2l0ZWQgdHdpY2UgZHVyaW5nIHJpbmctYnVpbGRpbmcgYXQgIituLmdldENvb3JkaW5hdGUoKSk7ZS5fZWRnZXMuYWRkKG4pO3ZhciBpPW4uZ2V0TGFiZWwoKTtxbC5pc1RydWUoaS5pc0FyZWEoKSksZS5tZXJnZUxhYmVsKGkpLGUuYWRkUG9pbnRzKG4uZ2V0RWRnZSgpLG4uaXNGb3J3YXJkKCkscikscj0hMSxlLnNldEVkZ2VSaW5nKG4sZSksbj1lLmdldE5leHQobil9d2hpbGUobiE9PXRoaXMuX3N0YXJ0RGUpfSxGaC5wcm90b3R5cGUuZ2V0TGluZWFyUmluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9yaW5nfSxGaC5wcm90b3R5cGUuZ2V0Q29vcmRpbmF0ZT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fcHRzLmdldCh0KX0sRmgucHJvdG90eXBlLmNvbXB1dGVNYXhOb2RlRGVncmVlPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpczt0aGlzLl9tYXhOb2RlRGVncmVlPTA7dmFyIGU9dGhpcy5fc3RhcnREZTtkb3t2YXIgbj1lLmdldE5vZGUoKS5nZXRFZGdlcygpLmdldE91dGdvaW5nRGVncmVlKHQpO24+dC5fbWF4Tm9kZURlZ3JlZSYmKHQuX21heE5vZGVEZWdyZWU9biksZT10LmdldE5leHQoZSl9d2hpbGUoZSE9PXRoaXMuX3N0YXJ0RGUpO3RoaXMuX21heE5vZGVEZWdyZWUqPTJ9LEZoLnByb3RvdHlwZS5hZGRQb2ludHM9ZnVuY3Rpb24odCxlLG4pe3ZhciByPXQuZ2V0Q29vcmRpbmF0ZXMoKTtpZihlKXt2YXIgaT0xO24mJihpPTApO2Zvcih2YXIgbz1pO288ci5sZW5ndGg7bysrKXRoaXMuX3B0cy5hZGQocltvXSl9ZWxzZXt2YXIgcz1yLmxlbmd0aC0yO24mJihzPXIubGVuZ3RoLTEpO2Zvcih2YXIgYT1zO2E+PTA7YS0tKXRoaXMuX3B0cy5hZGQoclthXSl9fSxGaC5wcm90b3R5cGUuaXNIb2xlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2lzSG9sZX0sRmgucHJvdG90eXBlLnNldEluUmVzdWx0PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fc3RhcnREZTtkb3t0LmdldEVkZ2UoKS5zZXRJblJlc3VsdCghMCksdD10LmdldE5leHQoKX13aGlsZSh0IT09dGhpcy5fc3RhcnREZSl9LEZoLnByb3RvdHlwZS5jb250YWluc1BvaW50PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZ2V0TGluZWFyUmluZygpO2lmKCFlLmdldEVudmVsb3BlSW50ZXJuYWwoKS5jb250YWlucyh0KSlyZXR1cm4hMTtpZighWGwuaXNQb2ludEluUmluZyh0LGUuZ2V0Q29vcmRpbmF0ZXMoKSkpcmV0dXJuITE7Zm9yKHZhciBuPXRoaXMuX2hvbGVzLml0ZXJhdG9yKCk7bi5oYXNOZXh0KCk7KXtpZihuLm5leHQoKS5jb250YWluc1BvaW50KHQpKXJldHVybiExfXJldHVybiEwfSxGaC5wcm90b3R5cGUuYWRkSG9sZT1mdW5jdGlvbih0KXt0aGlzLl9ob2xlcy5hZGQodCl9LEZoLnByb3RvdHlwZS5pc1NoZWxsPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGw9PT10aGlzLl9zaGVsbH0sRmgucHJvdG90eXBlLmdldExhYmVsPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2xhYmVsfSxGaC5wcm90b3R5cGUuZ2V0RWRnZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZWRnZXN9LEZoLnByb3RvdHlwZS5nZXRNYXhOb2RlRGVncmVlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX21heE5vZGVEZWdyZWU8MCYmdGhpcy5jb21wdXRlTWF4Tm9kZURlZ3JlZSgpLHRoaXMuX21heE5vZGVEZWdyZWV9LEZoLnByb3RvdHlwZS5nZXRTaGVsbD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zaGVsbH0sRmgucHJvdG90eXBlLm1lcmdlTGFiZWw9ZnVuY3Rpb24oKXtpZigxPT09YXJndW1lbnRzLmxlbmd0aCl7dmFyIHQ9YXJndW1lbnRzWzBdO3RoaXMubWVyZ2VMYWJlbCh0LDApLHRoaXMubWVyZ2VMYWJlbCh0LDEpfWVsc2UgaWYoMj09PWFyZ3VtZW50cy5sZW5ndGgpe3ZhciBlPWFyZ3VtZW50c1swXSxuPWFyZ3VtZW50c1sxXSxyPWUuZ2V0TG9jYXRpb24obixTaC5SSUdIVCk7aWYocj09PXBsLk5PTkUpcmV0dXJuIG51bGw7aWYodGhpcy5fbGFiZWwuZ2V0TG9jYXRpb24obik9PT1wbC5OT05FKXJldHVybiB0aGlzLl9sYWJlbC5zZXRMb2NhdGlvbihuLHIpLG51bGx9fSxGaC5wcm90b3R5cGUuc2V0U2hlbGw9ZnVuY3Rpb24odCl7dGhpcy5fc2hlbGw9dCxudWxsIT09dCYmdC5hZGRIb2xlKHRoaXMpfSxGaC5wcm90b3R5cGUudG9Qb2x5Z29uPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1uZXcgQXJyYXkodGhpcy5faG9sZXMuc2l6ZSgpKS5maWxsKG51bGwpLG49MDtuPHRoaXMuX2hvbGVzLnNpemUoKTtuKyspZVtuXT10aGlzLl9ob2xlcy5nZXQobikuZ2V0TGluZWFyUmluZygpO3JldHVybiB0LmNyZWF0ZVBvbHlnb24odGhpcy5nZXRMaW5lYXJSaW5nKCksZSl9LEZoLnByb3RvdHlwZS5pbnRlcmZhY2VzXz1mdW5jdGlvbigpe3JldHVybltdfSxGaC5wcm90b3R5cGUuZ2V0Q2xhc3M9ZnVuY3Rpb24oKXtyZXR1cm4gRmh9O3ZhciBraD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIGU9YXJndW1lbnRzWzBdLG49YXJndW1lbnRzWzFdO3QuY2FsbCh0aGlzLGUsbil9cmV0dXJuIHQmJihlLl9fcHJvdG9fXz10KSxlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSxlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1lLGUucHJvdG90eXBlLnNldEVkZ2VSaW5nPWZ1bmN0aW9uKHQsZSl7dC5zZXRNaW5FZGdlUmluZyhlKX0sZS5wcm90b3R5cGUuZ2V0TmV4dD1mdW5jdGlvbih0KXtyZXR1cm4gdC5nZXROZXh0TWluKCl9LGUucHJvdG90eXBlLmludGVyZmFjZXNfPWZ1bmN0aW9uKCl7cmV0dXJuW119LGUucHJvdG90eXBlLmdldENsYXNzPWZ1bmN0aW9uKCl7cmV0dXJuIGV9LGV9KEZoKSxHaD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIGU9YXJndW1lbnRzWzBdLG49YXJndW1lbnRzWzFdO3QuY2FsbCh0aGlzLGUsbil9cmV0dXJuIHQmJihlLl9fcHJvdG9fXz10KSxlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSxlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1lLGUucHJvdG90eXBlLmJ1aWxkTWluaW1hbFJpbmdzPWZ1bmN0aW9uKCl7dmFyIHQ9bmV3IGxjLGU9dGhpcy5fc3RhcnREZTtkb3tpZihudWxsPT09ZS5nZXRNaW5FZGdlUmluZygpKXt2YXIgbj1uZXcga2goZSx0aGlzLl9nZW9tZXRyeUZhY3RvcnkpO3QuYWRkKG4pfWU9ZS5nZXROZXh0KCl9d2hpbGUoZSE9PXRoaXMuX3N0YXJ0RGUpO3JldHVybiB0fSxlLnByb3RvdHlwZS5zZXRFZGdlUmluZz1mdW5jdGlvbih0LGUpe3Quc2V0RWRnZVJpbmcoZSl9LGUucHJvdG90eXBlLmxpbmtEaXJlY3RlZEVkZ2VzRm9yTWluaW1hbEVkZ2VSaW5ncz1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX3N0YXJ0RGU7ZG97dC5nZXROb2RlKCkuZ2V0RWRnZXMoKS5saW5rTWluaW1hbERpcmVjdGVkRWRnZXModGhpcyksdD10LmdldE5leHQoKX13aGlsZSh0IT09dGhpcy5fc3RhcnREZSl9LGUucHJvdG90eXBlLmdldE5leHQ9ZnVuY3Rpb24odCl7cmV0dXJuIHQuZ2V0TmV4dCgpfSxlLnByb3RvdHlwZS5pbnRlcmZhY2VzXz1mdW5jdGlvbigpe3JldHVybltdfSxlLnByb3RvdHlwZS5nZXRDbGFzcz1mdW5jdGlvbigpe3JldHVybiBlfSxlfShGaCkscWg9ZnVuY3Rpb24oKXtpZih0aGlzLl9sYWJlbD1udWxsLHRoaXMuX2lzSW5SZXN1bHQ9ITEsdGhpcy5faXNDb3ZlcmVkPSExLHRoaXMuX2lzQ292ZXJlZFNldD0hMSx0aGlzLl9pc1Zpc2l0ZWQ9ITEsMD09PWFyZ3VtZW50cy5sZW5ndGgpO2Vsc2UgaWYoMT09PWFyZ3VtZW50cy5sZW5ndGgpe3ZhciB0PWFyZ3VtZW50c1swXTt0aGlzLl9sYWJlbD10fX07cWgucHJvdG90eXBlLnNldFZpc2l0ZWQ9ZnVuY3Rpb24odCl7dGhpcy5faXNWaXNpdGVkPXR9LHFoLnByb3RvdHlwZS5zZXRJblJlc3VsdD1mdW5jdGlvbih0KXt0aGlzLl9pc0luUmVzdWx0PXR9LHFoLnByb3RvdHlwZS5pc0NvdmVyZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faXNDb3ZlcmVkfSxxaC5wcm90b3R5cGUuaXNDb3ZlcmVkU2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2lzQ292ZXJlZFNldH0scWgucHJvdG90eXBlLnNldExhYmVsPWZ1bmN0aW9uKHQpe3RoaXMuX2xhYmVsPXR9LHFoLnByb3RvdHlwZS5nZXRMYWJlbD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9sYWJlbH0scWgucHJvdG90eXBlLnNldENvdmVyZWQ9ZnVuY3Rpb24odCl7dGhpcy5faXNDb3ZlcmVkPXQsdGhpcy5faXNDb3ZlcmVkU2V0PSEwfSxxaC5wcm90b3R5cGUudXBkYXRlSU09ZnVuY3Rpb24odCl7cWwuaXNUcnVlKHRoaXMuX2xhYmVsLmdldEdlb21ldHJ5Q291bnQoKT49MiwiZm91bmQgcGFydGlhbCBsYWJlbCIpLHRoaXMuY29tcHV0ZUlNKHQpfSxxaC5wcm90b3R5cGUuaXNJblJlc3VsdD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9pc0luUmVzdWx0fSxxaC5wcm90b3R5cGUuaXNWaXNpdGVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2lzVmlzaXRlZH0scWgucHJvdG90eXBlLmludGVyZmFjZXNfPWZ1bmN0aW9uKCl7cmV0dXJuW119LHFoLnByb3RvdHlwZS5nZXRDbGFzcz1mdW5jdGlvbigpe3JldHVybiBxaH07dmFyIEJoPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt0LmNhbGwodGhpcyksdGhpcy5fY29vcmQ9bnVsbCx0aGlzLl9lZGdlcz1udWxsO3ZhciBlPWFyZ3VtZW50c1swXSxuPWFyZ3VtZW50c1sxXTt0aGlzLl9jb29yZD1lLHRoaXMuX2VkZ2VzPW4sdGhpcy5fbGFiZWw9bmV3IERoKDAscGwuTk9ORSl9cmV0dXJuIHQmJihlLl9fcHJvdG9fXz10KSxlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSxlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1lLGUucHJvdG90eXBlLmlzSW5jaWRlbnRFZGdlSW5SZXN1bHQ9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpcy5nZXRFZGdlcygpLmdldEVkZ2VzKCkuaXRlcmF0b3IoKTt0Lmhhc05leHQoKTspe2lmKHQubmV4dCgpLmdldEVkZ2UoKS5pc0luUmVzdWx0KCkpcmV0dXJuITB9cmV0dXJuITF9LGUucHJvdG90eXBlLmlzSXNvbGF0ZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gMT09PXRoaXMuX2xhYmVsLmdldEdlb21ldHJ5Q291bnQoKX0sZS5wcm90b3R5cGUuZ2V0Q29vcmRpbmF0ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9jb29yZH0sZS5wcm90b3R5cGUucHJpbnQ9ZnVuY3Rpb24odCl7dC5wcmludGxuKCJub2RlICIrdGhpcy5fY29vcmQrIiBsYmw6ICIrdGhpcy5fbGFiZWwpfSxlLnByb3RvdHlwZS5jb21wdXRlSU09ZnVuY3Rpb24odCl7fSxlLnByb3RvdHlwZS5jb21wdXRlTWVyZ2VkTG9jYXRpb249ZnVuY3Rpb24odCxlKXt2YXIgbj1wbC5OT05FO2lmKG49dGhpcy5fbGFiZWwuZ2V0TG9jYXRpb24oZSksIXQuaXNOdWxsKGUpKXt2YXIgcj10LmdldExvY2F0aW9uKGUpO24hPT1wbC5CT1VOREFSWSYmKG49cil9cmV0dXJuIG59LGUucHJvdG90eXBlLnNldExhYmVsPWZ1bmN0aW9uKCl7aWYoMiE9PWFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIHQucHJvdG90eXBlLnNldExhYmVsLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt2YXIgZT1hcmd1bWVudHNbMF0sbj1hcmd1bWVudHNbMV07bnVsbD09PXRoaXMuX2xhYmVsP3RoaXMuX2xhYmVsPW5ldyBEaChlLG4pOnRoaXMuX2xhYmVsLnNldExvY2F0aW9uKGUsbil9LGUucHJvdG90eXBlLmdldEVkZ2VzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2VkZ2VzfSxlLnByb3RvdHlwZS5tZXJnZUxhYmVsPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztpZihhcmd1bWVudHNbMF1pbnN0YW5jZW9mIGUpe3ZhciBuPWFyZ3VtZW50c1swXTt0aGlzLm1lcmdlTGFiZWwobi5fbGFiZWwpfWVsc2UgaWYoYXJndW1lbnRzWzBdaW5zdGFuY2VvZiBEaClmb3IodmFyIHI9YXJndW1lbnRzWzBdLGk9MDtpPDI7aSsrKXt2YXIgbz10LmNvbXB1dGVNZXJnZWRMb2NhdGlvbihyLGkpLHM9dC5fbGFiZWwuZ2V0TG9jYXRpb24oaSk7cz09PXBsLk5PTkUmJnQuX2xhYmVsLnNldExvY2F0aW9uKGksbyl9fSxlLnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24odCl7dGhpcy5fZWRnZXMuaW5zZXJ0KHQpLHQuc2V0Tm9kZSh0aGlzKX0sZS5wcm90b3R5cGUuc2V0TGFiZWxCb3VuZGFyeT1mdW5jdGlvbih0KXtpZihudWxsPT09dGhpcy5fbGFiZWwpcmV0dXJuIG51bGw7dmFyIGU9cGwuTk9ORTtudWxsIT09dGhpcy5fbGFiZWwmJihlPXRoaXMuX2xhYmVsLmdldExvY2F0aW9uKHQpKTt2YXIgbj1udWxsO3N3aXRjaChlKXtjYXNlIHBsLkJPVU5EQVJZOm49cGwuSU5URVJJT1I7YnJlYWs7Y2FzZSBwbC5JTlRFUklPUjpkZWZhdWx0Om49cGwuQk9VTkRBUll9dGhpcy5fbGFiZWwuc2V0TG9jYXRpb24odCxuKX0sZS5wcm90b3R5cGUuaW50ZXJmYWNlc189ZnVuY3Rpb24oKXtyZXR1cm5bXX0sZS5wcm90b3R5cGUuZ2V0Q2xhc3M9ZnVuY3Rpb24oKXtyZXR1cm4gZX0sZX0ocWgpLHpoPWZ1bmN0aW9uKCl7dGhpcy5ub2RlTWFwPW5ldyBDYyx0aGlzLm5vZGVGYWN0PW51bGw7dmFyIHQ9YXJndW1lbnRzWzBdO3RoaXMubm9kZUZhY3Q9dH07emgucHJvdG90eXBlLmZpbmQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMubm9kZU1hcC5nZXQodCl9LHpoLnByb3RvdHlwZS5hZGROb2RlPWZ1bmN0aW9uKCl7aWYoYXJndW1lbnRzWzBdaW5zdGFuY2VvZiB1bCl7dmFyIHQ9YXJndW1lbnRzWzBdLGU9dGhpcy5ub2RlTWFwLmdldCh0KTtyZXR1cm4gbnVsbD09PWUmJihlPXRoaXMubm9kZUZhY3QuY3JlYXRlTm9kZSh0KSx0aGlzLm5vZGVNYXAucHV0KHQsZSkpLGV9aWYoYXJndW1lbnRzWzBdaW5zdGFuY2VvZiBCaCl7dmFyIG49YXJndW1lbnRzWzBdLHI9dGhpcy5ub2RlTWFwLmdldChuLmdldENvb3JkaW5hdGUoKSk7cmV0dXJuIG51bGw9PT1yPyh0aGlzLm5vZGVNYXAucHV0KG4uZ2V0Q29vcmRpbmF0ZSgpLG4pLG4pOihyLm1lcmdlTGFiZWwobikscil9fSx6aC5wcm90b3R5cGUucHJpbnQ9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMuaXRlcmF0b3IoKTtlLmhhc05leHQoKTspe2UubmV4dCgpLnByaW50KHQpfX0semgucHJvdG90eXBlLml0ZXJhdG9yPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubm9kZU1hcC52YWx1ZXMoKS5pdGVyYXRvcigpfSx6aC5wcm90b3R5cGUudmFsdWVzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubm9kZU1hcC52YWx1ZXMoKX0semgucHJvdG90eXBlLmdldEJvdW5kYXJ5Tm9kZXM9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPW5ldyBsYyxuPXRoaXMuaXRlcmF0b3IoKTtuLmhhc05leHQoKTspe3ZhciByPW4ubmV4dCgpO3IuZ2V0TGFiZWwoKS5nZXRMb2NhdGlvbih0KT09PXBsLkJPVU5EQVJZJiZlLmFkZChyKX1yZXR1cm4gZX0semgucHJvdG90eXBlLmFkZD1mdW5jdGlvbih0KXt2YXIgZT10LmdldENvb3JkaW5hdGUoKTt0aGlzLmFkZE5vZGUoZSkuYWRkKHQpfSx6aC5wcm90b3R5cGUuaW50ZXJmYWNlc189ZnVuY3Rpb24oKXtyZXR1cm5bXX0semgucHJvdG90eXBlLmdldENsYXNzPWZ1bmN0aW9uKCl7cmV0dXJuIHpofTt2YXIgamg9ZnVuY3Rpb24oKXt9LFVoPXtORTp7Y29uZmlndXJhYmxlOiEwfSxOVzp7Y29uZmlndXJhYmxlOiEwfSxTVzp7Y29uZmlndXJhYmxlOiEwfSxTRTp7Y29uZmlndXJhYmxlOiEwfX07amgucHJvdG90eXBlLmludGVyZmFjZXNfPWZ1bmN0aW9uKCl7cmV0dXJuW119LGpoLnByb3RvdHlwZS5nZXRDbGFzcz1mdW5jdGlvbigpe3JldHVybiBqaH0samguaXNOb3J0aGVybj1mdW5jdGlvbih0KXtyZXR1cm4gdD09PWpoLk5FfHx0PT09amguTld9LGpoLmlzT3Bwb3NpdGU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdCE9PWUmJjI9PT0odC1lKzQpJTR9LGpoLmNvbW1vbkhhbGZQbGFuZT1mdW5jdGlvbih0LGUpe2lmKHQ9PT1lKXJldHVybiB0O2lmKDI9PT0odC1lKzQpJTQpcmV0dXJuLTE7dmFyIG49dDxlP3Q6ZTtyZXR1cm4gMD09PW4mJjM9PT0odD5lP3Q6ZSk/MzpufSxqaC5pc0luSGFsZlBsYW5lPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGU9PT1qaC5TRT90PT09amguU0V8fHQ9PT1qaC5TVzp0PT09ZXx8dD09PWUrMX0samgucXVhZHJhbnQ9ZnVuY3Rpb24oKXtpZigibnVtYmVyIj09dHlwZW9mIGFyZ3VtZW50c1swXSYmIm51bWJlciI9PXR5cGVvZiBhcmd1bWVudHNbMV0pe3ZhciB0PWFyZ3VtZW50c1swXSxlPWFyZ3VtZW50c1sxXTtpZigwPT09dCYmMD09PWUpdGhyb3cgbmV3IGVsKCJDYW5ub3QgY29tcHV0ZSB0aGUgcXVhZHJhbnQgZm9yIHBvaW50ICggIit0KyIsICIrZSsiICkiKTtyZXR1cm4gdD49MD9lPj0wP2poLk5FOmpoLlNFOmU+PTA/amguTlc6amguU1d9aWYoYXJndW1lbnRzWzBdaW5zdGFuY2VvZiB1bCYmYXJndW1lbnRzWzFdaW5zdGFuY2VvZiB1bCl7dmFyIG49YXJndW1lbnRzWzBdLHI9YXJndW1lbnRzWzFdO2lmKHIueD09PW4ueCYmci55PT09bi55KXRocm93IG5ldyBlbCgiQ2Fubm90IGNvbXB1dGUgdGhlIHF1YWRyYW50IGZvciB0d28gaWRlbnRpY2FsIHBvaW50cyAiK24pO3JldHVybiByLng+PW4ueD9yLnk+PW4ueT9qaC5ORTpqaC5TRTpyLnk+PW4ueT9qaC5OVzpqaC5TV319LFVoLk5FLmdldD1mdW5jdGlvbigpe3JldHVybiAwfSxVaC5OVy5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gMX0sVWguU1cuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIDJ9LFVoLlNFLmdldD1mdW5jdGlvbigpe3JldHVybiAzfSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhqaCxVaCk7dmFyIFZoPWZ1bmN0aW9uKCl7aWYodGhpcy5fZWRnZT1udWxsLHRoaXMuX2xhYmVsPW51bGwsdGhpcy5fbm9kZT1udWxsLHRoaXMuX3AwPW51bGwsdGhpcy5fcDE9bnVsbCx0aGlzLl9keD1udWxsLHRoaXMuX2R5PW51bGwsdGhpcy5fcXVhZHJhbnQ9bnVsbCwxPT09YXJndW1lbnRzLmxlbmd0aCl7dmFyIHQ9YXJndW1lbnRzWzBdO3RoaXMuX2VkZ2U9dH1lbHNlIGlmKDM9PT1hcmd1bWVudHMubGVuZ3RoKXt2YXIgZT1hcmd1bWVudHNbMF0sbj1hcmd1bWVudHNbMV0scj1hcmd1bWVudHNbMl0saT1udWxsO3RoaXMuX2VkZ2U9ZSx0aGlzLmluaXQobixyKSx0aGlzLl9sYWJlbD1pfWVsc2UgaWYoND09PWFyZ3VtZW50cy5sZW5ndGgpe3ZhciBvPWFyZ3VtZW50c1swXSxzPWFyZ3VtZW50c1sxXSxhPWFyZ3VtZW50c1syXSx1PWFyZ3VtZW50c1szXTt0aGlzLl9lZGdlPW8sdGhpcy5pbml0KHMsYSksdGhpcy5fbGFiZWw9dX19O1ZoLnByb3RvdHlwZS5jb21wYXJlRGlyZWN0aW9uPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9keD09PXQuX2R4JiZ0aGlzLl9keT09PXQuX2R5PzA6dGhpcy5fcXVhZHJhbnQ+dC5fcXVhZHJhbnQ/MTp0aGlzLl9xdWFkcmFudDx0Ll9xdWFkcmFudD8tMTpYbC5jb21wdXRlT3JpZW50YXRpb24odC5fcDAsdC5fcDEsdGhpcy5fcDEpfSxWaC5wcm90b3R5cGUuZ2V0RHk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZHl9LFZoLnByb3RvdHlwZS5nZXRDb29yZGluYXRlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3AwfSxWaC5wcm90b3R5cGUuc2V0Tm9kZT1mdW5jdGlvbih0KXt0aGlzLl9ub2RlPXR9LFZoLnByb3RvdHlwZS5wcmludD1mdW5jdGlvbih0KXt2YXIgZT1NYXRoLmF0YW4yKHRoaXMuX2R5LHRoaXMuX2R4KSxuPXRoaXMuZ2V0Q2xhc3MoKS5nZXROYW1lKCkscj1uLmxhc3RJbmRleE9mKCIuIiksaT1uLnN1YnN0cmluZyhyKzEpO3QucHJpbnQoIiAgIitpKyI6ICIrdGhpcy5fcDArIiAtICIrdGhpcy5fcDErIiAiK3RoaXMuX3F1YWRyYW50KyI6IitlKyIgICAiK3RoaXMuX2xhYmVsKX0sVmgucHJvdG90eXBlLmNvbXBhcmVUbz1mdW5jdGlvbih0KXt2YXIgZT10O3JldHVybiB0aGlzLmNvbXBhcmVEaXJlY3Rpb24oZSl9LFZoLnByb3RvdHlwZS5nZXREaXJlY3RlZENvb3JkaW5hdGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcDF9LFZoLnByb3RvdHlwZS5nZXREeD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9keH0sVmgucHJvdG90eXBlLmdldExhYmVsPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2xhYmVsfSxWaC5wcm90b3R5cGUuZ2V0RWRnZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9lZGdlfSxWaC5wcm90b3R5cGUuZ2V0UXVhZHJhbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcXVhZHJhbnR9LFZoLnByb3RvdHlwZS5nZXROb2RlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX25vZGV9LFZoLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3ZhciB0PU1hdGguYXRhbjIodGhpcy5fZHksdGhpcy5fZHgpLGU9dGhpcy5nZXRDbGFzcygpLmdldE5hbWUoKSxuPWUubGFzdEluZGV4T2YoIi4iKTtyZXR1cm4iICAiK2Uuc3Vic3RyaW5nKG4rMSkrIjogIit0aGlzLl9wMCsiIC0gIit0aGlzLl9wMSsiICIrdGhpcy5fcXVhZHJhbnQrIjoiK3QrIiAgICIrdGhpcy5fbGFiZWx9LFZoLnByb3RvdHlwZS5jb21wdXRlTGFiZWw9ZnVuY3Rpb24odCl7fSxWaC5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbih0LGUpe3RoaXMuX3AwPXQsdGhpcy5fcDE9ZSx0aGlzLl9keD1lLngtdC54LHRoaXMuX2R5PWUueS10LnksdGhpcy5fcXVhZHJhbnQ9amgucXVhZHJhbnQodGhpcy5fZHgsdGhpcy5fZHkpLHFsLmlzVHJ1ZSghKDA9PT10aGlzLl9keCYmMD09PXRoaXMuX2R5KSwiRWRnZUVuZCB3aXRoIGlkZW50aWNhbCBlbmRwb2ludHMgZm91bmQiKX0sVmgucHJvdG90eXBlLmludGVyZmFjZXNfPWZ1bmN0aW9uKCl7cmV0dXJuW2lsXX0sVmgucHJvdG90eXBlLmdldENsYXNzPWZ1bmN0aW9uKCl7cmV0dXJuIFZofTt2YXIgWGg9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBlPWFyZ3VtZW50c1swXSxuPWFyZ3VtZW50c1sxXTtpZih0LmNhbGwodGhpcyxlKSx0aGlzLl9pc0ZvcndhcmQ9bnVsbCx0aGlzLl9pc0luUmVzdWx0PSExLHRoaXMuX2lzVmlzaXRlZD0hMSx0aGlzLl9zeW09bnVsbCx0aGlzLl9uZXh0PW51bGwsdGhpcy5fbmV4dE1pbj1udWxsLHRoaXMuX2VkZ2VSaW5nPW51bGwsdGhpcy5fbWluRWRnZVJpbmc9bnVsbCx0aGlzLl9kZXB0aD1bMCwtOTk5LC05OTldLHRoaXMuX2lzRm9yd2FyZD1uLG4pdGhpcy5pbml0KGUuZ2V0Q29vcmRpbmF0ZSgwKSxlLmdldENvb3JkaW5hdGUoMSkpO2Vsc2V7dmFyIHI9ZS5nZXROdW1Qb2ludHMoKS0xO3RoaXMuaW5pdChlLmdldENvb3JkaW5hdGUociksZS5nZXRDb29yZGluYXRlKHItMSkpfXRoaXMuY29tcHV0ZURpcmVjdGVkTGFiZWwoKX1yZXR1cm4gdCYmKGUuX19wcm90b19fPXQpLGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpLGUucHJvdG90eXBlLmNvbnN0cnVjdG9yPWUsZS5wcm90b3R5cGUuZ2V0TmV4dE1pbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9uZXh0TWlufSxlLnByb3RvdHlwZS5nZXREZXB0aD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fZGVwdGhbdF19LGUucHJvdG90eXBlLnNldFZpc2l0ZWQ9ZnVuY3Rpb24odCl7dGhpcy5faXNWaXNpdGVkPXR9LGUucHJvdG90eXBlLmNvbXB1dGVEaXJlY3RlZExhYmVsPWZ1bmN0aW9uKCl7dGhpcy5fbGFiZWw9bmV3IERoKHRoaXMuX2VkZ2UuZ2V0TGFiZWwoKSksdGhpcy5faXNGb3J3YXJkfHx0aGlzLl9sYWJlbC5mbGlwKCl9LGUucHJvdG90eXBlLmdldE5leHQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbmV4dH0sZS5wcm90b3R5cGUuc2V0RGVwdGg9ZnVuY3Rpb24odCxlKXtpZigtOTk5IT09dGhpcy5fZGVwdGhbdF0mJnRoaXMuX2RlcHRoW3RdIT09ZSl0aHJvdyBuZXcgT2goImFzc2lnbmVkIGRlcHRocyBkbyBub3QgbWF0Y2giLHRoaXMuZ2V0Q29vcmRpbmF0ZSgpKTt0aGlzLl9kZXB0aFt0XT1lfSxlLnByb3RvdHlwZS5pc0ludGVyaW9yQXJlYUVkZ2U9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpcyxlPSEwLG49MDtuPDI7bisrKXQuX2xhYmVsLmlzQXJlYShuKSYmdC5fbGFiZWwuZ2V0TG9jYXRpb24obixTaC5MRUZUKT09PXBsLklOVEVSSU9SJiZ0Ll9sYWJlbC5nZXRMb2NhdGlvbihuLFNoLlJJR0hUKT09PXBsLklOVEVSSU9SfHwoZT0hMSk7cmV0dXJuIGV9LGUucHJvdG90eXBlLnNldE5leHRNaW49ZnVuY3Rpb24odCl7dGhpcy5fbmV4dE1pbj10fSxlLnByb3RvdHlwZS5wcmludD1mdW5jdGlvbihlKXt0LnByb3RvdHlwZS5wcmludC5jYWxsKHRoaXMsZSksZS5wcmludCgiICIrdGhpcy5fZGVwdGhbU2guTEVGVF0rIi8iK3RoaXMuX2RlcHRoW1NoLlJJR0hUXSksZS5wcmludCgiICgiK3RoaXMuZ2V0RGVwdGhEZWx0YSgpKyIpIiksdGhpcy5faXNJblJlc3VsdCYmZS5wcmludCgiIGluUmVzdWx0Iil9LGUucHJvdG90eXBlLnNldE1pbkVkZ2VSaW5nPWZ1bmN0aW9uKHQpe3RoaXMuX21pbkVkZ2VSaW5nPXR9LGUucHJvdG90eXBlLmlzTGluZUVkZ2U9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9sYWJlbC5pc0xpbmUoMCl8fHRoaXMuX2xhYmVsLmlzTGluZSgxKSxlPSF0aGlzLl9sYWJlbC5pc0FyZWEoMCl8fHRoaXMuX2xhYmVsLmFsbFBvc2l0aW9uc0VxdWFsKDAscGwuRVhURVJJT1IpLG49IXRoaXMuX2xhYmVsLmlzQXJlYSgxKXx8dGhpcy5fbGFiZWwuYWxsUG9zaXRpb25zRXF1YWwoMSxwbC5FWFRFUklPUik7cmV0dXJuIHQmJmUmJm59LGUucHJvdG90eXBlLnNldEVkZ2VSaW5nPWZ1bmN0aW9uKHQpe3RoaXMuX2VkZ2VSaW5nPXR9LGUucHJvdG90eXBlLmdldE1pbkVkZ2VSaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX21pbkVkZ2VSaW5nfSxlLnByb3RvdHlwZS5nZXREZXB0aERlbHRhPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fZWRnZS5nZXREZXB0aERlbHRhKCk7cmV0dXJuIHRoaXMuX2lzRm9yd2FyZHx8KHQ9LXQpLHR9LGUucHJvdG90eXBlLnNldEluUmVzdWx0PWZ1bmN0aW9uKHQpe3RoaXMuX2lzSW5SZXN1bHQ9dH0sZS5wcm90b3R5cGUuZ2V0U3ltPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N5bX0sZS5wcm90b3R5cGUuaXNGb3J3YXJkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2lzRm9yd2FyZH0sZS5wcm90b3R5cGUuZ2V0RWRnZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9lZGdlfSxlLnByb3RvdHlwZS5wcmludEVkZ2U9ZnVuY3Rpb24odCl7dGhpcy5wcmludCh0KSx0LnByaW50KCIgIiksdGhpcy5faXNGb3J3YXJkP3RoaXMuX2VkZ2UucHJpbnQodCk6dGhpcy5fZWRnZS5wcmludFJldmVyc2UodCl9LGUucHJvdG90eXBlLnNldFN5bT1mdW5jdGlvbih0KXt0aGlzLl9zeW09dH0sZS5wcm90b3R5cGUuc2V0VmlzaXRlZEVkZ2U9ZnVuY3Rpb24odCl7dGhpcy5zZXRWaXNpdGVkKHQpLHRoaXMuX3N5bS5zZXRWaXNpdGVkKHQpfSxlLnByb3RvdHlwZS5zZXRFZGdlRGVwdGhzPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5nZXRFZGdlKCkuZ2V0RGVwdGhEZWx0YSgpO3RoaXMuX2lzRm9yd2FyZHx8KG49LW4pO3ZhciByPTE7dD09PVNoLkxFRlQmJihyPS0xKTt2YXIgaT1TaC5vcHBvc2l0ZSh0KSxvPWUrbipyO3RoaXMuc2V0RGVwdGgodCxlKSx0aGlzLnNldERlcHRoKGksbyl9LGUucHJvdG90eXBlLmdldEVkZ2VSaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2VkZ2VSaW5nfSxlLnByb3RvdHlwZS5pc0luUmVzdWx0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2lzSW5SZXN1bHR9LGUucHJvdG90eXBlLnNldE5leHQ9ZnVuY3Rpb24odCl7dGhpcy5fbmV4dD10fSxlLnByb3RvdHlwZS5pc1Zpc2l0ZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faXNWaXNpdGVkfSxlLnByb3RvdHlwZS5pbnRlcmZhY2VzXz1mdW5jdGlvbigpe3JldHVybltdfSxlLnByb3RvdHlwZS5nZXRDbGFzcz1mdW5jdGlvbigpe3JldHVybiBlfSxlLmRlcHRoRmFjdG9yPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQ9PT1wbC5FWFRFUklPUiYmZT09PXBsLklOVEVSSU9SPzE6dD09PXBsLklOVEVSSU9SJiZlPT09cGwuRVhURVJJT1I/LTE6MH0sZX0oVmgpLFloPWZ1bmN0aW9uKCl7fTtZaC5wcm90b3R5cGUuY3JlYXRlTm9kZT1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IEJoKHQsbnVsbCl9LFloLnByb3RvdHlwZS5pbnRlcmZhY2VzXz1mdW5jdGlvbigpe3JldHVybltdfSxZaC5wcm90b3R5cGUuZ2V0Q2xhc3M9ZnVuY3Rpb24oKXtyZXR1cm4gWWh9O3ZhciBIaD1mdW5jdGlvbigpe2lmKHRoaXMuX2VkZ2VzPW5ldyBsYyx0aGlzLl9ub2Rlcz1udWxsLHRoaXMuX2VkZ2VFbmRMaXN0PW5ldyBsYywwPT09YXJndW1lbnRzLmxlbmd0aCl0aGlzLl9ub2Rlcz1uZXcgemgobmV3IFloKTtlbHNlIGlmKDE9PT1hcmd1bWVudHMubGVuZ3RoKXt2YXIgdD1hcmd1bWVudHNbMF07dGhpcy5fbm9kZXM9bmV3IHpoKHQpfX07SGgucHJvdG90eXBlLnByaW50RWRnZXM9ZnVuY3Rpb24odCl7dC5wcmludGxuKCJFZGdlczoiKTtmb3IodmFyIGU9MDtlPHRoaXMuX2VkZ2VzLnNpemUoKTtlKyspe3QucHJpbnRsbigiZWRnZSAiK2UrIjoiKTt2YXIgbj10aGlzLl9lZGdlcy5nZXQoZSk7bi5wcmludCh0KSxuLmVpTGlzdC5wcmludCh0KX19LEhoLnByb3RvdHlwZS5maW5kPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9ub2Rlcy5maW5kKHQpfSxIaC5wcm90b3R5cGUuYWRkTm9kZT1mdW5jdGlvbigpe2lmKGFyZ3VtZW50c1swXWluc3RhbmNlb2YgQmgpe3ZhciB0PWFyZ3VtZW50c1swXTtyZXR1cm4gdGhpcy5fbm9kZXMuYWRkTm9kZSh0KX1pZihhcmd1bWVudHNbMF1pbnN0YW5jZW9mIHVsKXt2YXIgZT1hcmd1bWVudHNbMF07cmV0dXJuIHRoaXMuX25vZGVzLmFkZE5vZGUoZSl9fSxIaC5wcm90b3R5cGUuZ2V0Tm9kZUl0ZXJhdG9yPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX25vZGVzLml0ZXJhdG9yKCl9LEhoLnByb3RvdHlwZS5saW5rUmVzdWx0RGlyZWN0ZWRFZGdlcz1mdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLl9ub2Rlcy5pdGVyYXRvcigpO3QuaGFzTmV4dCgpOyl7dC5uZXh0KCkuZ2V0RWRnZXMoKS5saW5rUmVzdWx0RGlyZWN0ZWRFZGdlcygpfX0sSGgucHJvdG90eXBlLmRlYnVnUHJpbnRsbj1mdW5jdGlvbih0KXtQbC5vdXQucHJpbnRsbih0KX0sSGgucHJvdG90eXBlLmlzQm91bmRhcnlOb2RlPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5fbm9kZXMuZmluZChlKTtpZihudWxsPT09bilyZXR1cm4hMTt2YXIgcj1uLmdldExhYmVsKCk7cmV0dXJuIG51bGwhPT1yJiZyLmdldExvY2F0aW9uKHQpPT09cGwuQk9VTkRBUll9LEhoLnByb3RvdHlwZS5saW5rQWxsRGlyZWN0ZWRFZGdlcz1mdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLl9ub2Rlcy5pdGVyYXRvcigpO3QuaGFzTmV4dCgpOyl7dC5uZXh0KCkuZ2V0RWRnZXMoKS5saW5rQWxsRGlyZWN0ZWRFZGdlcygpfX0sSGgucHJvdG90eXBlLm1hdGNoSW5TYW1lRGlyZWN0aW9uPWZ1bmN0aW9uKHQsZSxuLHIpe3JldHVybiEhdC5lcXVhbHMobikmJihYbC5jb21wdXRlT3JpZW50YXRpb24odCxlLHIpPT09WGwuQ09MTElORUFSJiZqaC5xdWFkcmFudCh0LGUpPT09amgucXVhZHJhbnQobixyKSl9LEhoLnByb3RvdHlwZS5nZXRFZGdlRW5kcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9lZGdlRW5kTGlzdH0sSGgucHJvdG90eXBlLmRlYnVnUHJpbnQ9ZnVuY3Rpb24odCl7UGwub3V0LnByaW50KHQpfSxIaC5wcm90b3R5cGUuZ2V0RWRnZUl0ZXJhdG9yPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2VkZ2VzLml0ZXJhdG9yKCl9LEhoLnByb3RvdHlwZS5maW5kRWRnZUluU2FtZURpcmVjdGlvbj1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj10aGlzLHI9MDtyPHRoaXMuX2VkZ2VzLnNpemUoKTtyKyspe3ZhciBpPW4uX2VkZ2VzLmdldChyKSxvPWkuZ2V0Q29vcmRpbmF0ZXMoKTtpZihuLm1hdGNoSW5TYW1lRGlyZWN0aW9uKHQsZSxvWzBdLG9bMV0pKXJldHVybiBpO2lmKG4ubWF0Y2hJblNhbWVEaXJlY3Rpb24odCxlLG9bby5sZW5ndGgtMV0sb1tvLmxlbmd0aC0yXSkpcmV0dXJuIGl9cmV0dXJuIG51bGx9LEhoLnByb3RvdHlwZS5pbnNlcnRFZGdlPWZ1bmN0aW9uKHQpe3RoaXMuX2VkZ2VzLmFkZCh0KX0sSGgucHJvdG90eXBlLmZpbmRFZGdlRW5kPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10aGlzLmdldEVkZ2VFbmRzKCkuaXRlcmF0b3IoKTtlLmhhc05leHQoKTspe3ZhciBuPWUubmV4dCgpO2lmKG4uZ2V0RWRnZSgpPT09dClyZXR1cm4gbn1yZXR1cm4gbnVsbH0sSGgucHJvdG90eXBlLmFkZEVkZ2VzPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10aGlzLG49dC5pdGVyYXRvcigpO24uaGFzTmV4dCgpOyl7dmFyIHI9bi5uZXh0KCk7ZS5fZWRnZXMuYWRkKHIpO3ZhciBpPW5ldyBYaChyLCEwKSxvPW5ldyBYaChyLCExKTtpLnNldFN5bShvKSxvLnNldFN5bShpKSxlLmFkZChpKSxlLmFkZChvKX19LEhoLnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24odCl7dGhpcy5fbm9kZXMuYWRkKHQpLHRoaXMuX2VkZ2VFbmRMaXN0LmFkZCh0KX0sSGgucHJvdG90eXBlLmdldE5vZGVzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX25vZGVzLnZhbHVlcygpfSxIaC5wcm90b3R5cGUuZmluZEVkZ2U9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49MDtuPHRoaXMuX2VkZ2VzLnNpemUoKTtuKyspe3ZhciByPXRoaXMuX2VkZ2VzLmdldChuKSxpPXIuZ2V0Q29vcmRpbmF0ZXMoKTtpZih0LmVxdWFscyhpWzBdKSYmZS5lcXVhbHMoaVsxXSkpcmV0dXJuIHJ9cmV0dXJuIG51bGx9LEhoLnByb3RvdHlwZS5pbnRlcmZhY2VzXz1mdW5jdGlvbigpe3JldHVybltdfSxIaC5wcm90b3R5cGUuZ2V0Q2xhc3M9ZnVuY3Rpb24oKXtyZXR1cm4gSGh9LEhoLmxpbmtSZXN1bHREaXJlY3RlZEVkZ2VzPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10Lml0ZXJhdG9yKCk7ZS5oYXNOZXh0KCk7KXtlLm5leHQoKS5nZXRFZGdlcygpLmxpbmtSZXN1bHREaXJlY3RlZEVkZ2VzKCl9fTt2YXIgV2g9ZnVuY3Rpb24oKXt0aGlzLl9nZW9tZXRyeUZhY3Rvcnk9bnVsbCx0aGlzLl9zaGVsbExpc3Q9bmV3IGxjO3ZhciB0PWFyZ3VtZW50c1swXTt0aGlzLl9nZW9tZXRyeUZhY3Rvcnk9dH07V2gucHJvdG90eXBlLnNvcnRTaGVsbHNBbmRIb2xlcz1mdW5jdGlvbih0LGUsbil7Zm9yKHZhciByPXQuaXRlcmF0b3IoKTtyLmhhc05leHQoKTspe3ZhciBpPXIubmV4dCgpO2kuaXNIb2xlKCk/bi5hZGQoaSk6ZS5hZGQoaSl9fSxXaC5wcm90b3R5cGUuY29tcHV0ZVBvbHlnb25zPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1uZXcgbGMsbj10Lml0ZXJhdG9yKCk7bi5oYXNOZXh0KCk7KXt2YXIgcj1uLm5leHQoKS50b1BvbHlnb24odGhpcy5fZ2VvbWV0cnlGYWN0b3J5KTtlLmFkZChyKX1yZXR1cm4gZX0sV2gucHJvdG90eXBlLnBsYWNlRnJlZUhvbGVzPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPWUuaXRlcmF0b3IoKTtuLmhhc05leHQoKTspe3ZhciByPW4ubmV4dCgpO2lmKG51bGw9PT1yLmdldFNoZWxsKCkpe3ZhciBpPXRoaXMuZmluZEVkZ2VSaW5nQ29udGFpbmluZyhyLHQpO2lmKG51bGw9PT1pKXRocm93IG5ldyBPaCgidW5hYmxlIHRvIGFzc2lnbiBob2xlIHRvIGEgc2hlbGwiLHIuZ2V0Q29vcmRpbmF0ZSgwKSk7ci5zZXRTaGVsbChpKX19fSxXaC5wcm90b3R5cGUuYnVpbGRNaW5pbWFsRWRnZVJpbmdzPWZ1bmN0aW9uKHQsZSxuKXtmb3IodmFyIHI9bmV3IGxjLGk9dC5pdGVyYXRvcigpO2kuaGFzTmV4dCgpOyl7dmFyIG89aS5uZXh0KCk7aWYoby5nZXRNYXhOb2RlRGVncmVlKCk+Mil7by5saW5rRGlyZWN0ZWRFZGdlc0Zvck1pbmltYWxFZGdlUmluZ3MoKTt2YXIgcz1vLmJ1aWxkTWluaW1hbFJpbmdzKCksYT10aGlzLmZpbmRTaGVsbChzKTtudWxsIT09YT8odGhpcy5wbGFjZVBvbHlnb25Ib2xlcyhhLHMpLGUuYWRkKGEpKTpuLmFkZEFsbChzKX1lbHNlIHIuYWRkKG8pfXJldHVybiByfSxXaC5wcm90b3R5cGUuY29udGFpbnNQb2ludD1mdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcy5fc2hlbGxMaXN0Lml0ZXJhdG9yKCk7ZS5oYXNOZXh0KCk7KXtpZihlLm5leHQoKS5jb250YWluc1BvaW50KHQpKXJldHVybiEwfXJldHVybiExfSxXaC5wcm90b3R5cGUuYnVpbGRNYXhpbWFsRWRnZVJpbmdzPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1uZXcgbGMsbj10Lml0ZXJhdG9yKCk7bi5oYXNOZXh0KCk7KXt2YXIgcj1uLm5leHQoKTtpZihyLmlzSW5SZXN1bHQoKSYmci5nZXRMYWJlbCgpLmlzQXJlYSgpJiZudWxsPT09ci5nZXRFZGdlUmluZygpKXt2YXIgaT1uZXcgR2gocix0aGlzLl9nZW9tZXRyeUZhY3RvcnkpO2UuYWRkKGkpLGkuc2V0SW5SZXN1bHQoKX19cmV0dXJuIGV9LFdoLnByb3RvdHlwZS5wbGFjZVBvbHlnb25Ib2xlcz1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj1lLml0ZXJhdG9yKCk7bi5oYXNOZXh0KCk7KXt2YXIgcj1uLm5leHQoKTtyLmlzSG9sZSgpJiZyLnNldFNoZWxsKHQpfX0sV2gucHJvdG90eXBlLmdldFBvbHlnb25zPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29tcHV0ZVBvbHlnb25zKHRoaXMuX3NoZWxsTGlzdCl9LFdoLnByb3RvdHlwZS5maW5kRWRnZVJpbmdDb250YWluaW5nPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPXQuZ2V0TGluZWFyUmluZygpLHI9bi5nZXRFbnZlbG9wZUludGVybmFsKCksaT1uLmdldENvb3JkaW5hdGVOKDApLG89bnVsbCxzPW51bGwsYT1lLml0ZXJhdG9yKCk7YS5oYXNOZXh0KCk7KXt2YXIgdT1hLm5leHQoKSxsPXUuZ2V0TGluZWFyUmluZygpLGM9bC5nZXRFbnZlbG9wZUludGVybmFsKCk7bnVsbCE9PW8mJihzPW8uZ2V0TGluZWFyUmluZygpLmdldEVudmVsb3BlSW50ZXJuYWwoKSk7dmFyIGg9ITE7Yy5jb250YWlucyhyKSYmWGwuaXNQb2ludEluUmluZyhpLGwuZ2V0Q29vcmRpbmF0ZXMoKSkmJihoPSEwKSxoJiYobnVsbD09PW98fHMuY29udGFpbnMoYykpJiYobz11KX1yZXR1cm4gb30sV2gucHJvdG90eXBlLmZpbmRTaGVsbD1mdW5jdGlvbih0KXtmb3IodmFyIGU9MCxuPW51bGwscj10Lml0ZXJhdG9yKCk7ci5oYXNOZXh0KCk7KXt2YXIgaT1yLm5leHQoKTtpLmlzSG9sZSgpfHwobj1pLGUrKyl9cmV0dXJuIHFsLmlzVHJ1ZShlPD0xLCJmb3VuZCB0d28gc2hlbGxzIGluIE1pbmltYWxFZGdlUmluZyBsaXN0Iiksbn0sV2gucHJvdG90eXBlLmFkZD1mdW5jdGlvbigpe2lmKDE9PT1hcmd1bWVudHMubGVuZ3RoKXt2YXIgdD1hcmd1bWVudHNbMF07dGhpcy5hZGQodC5nZXRFZGdlRW5kcygpLHQuZ2V0Tm9kZXMoKSl9ZWxzZSBpZigyPT09YXJndW1lbnRzLmxlbmd0aCl7dmFyIGU9YXJndW1lbnRzWzBdLG49YXJndW1lbnRzWzFdO0hoLmxpbmtSZXN1bHREaXJlY3RlZEVkZ2VzKG4pO3ZhciByPXRoaXMuYnVpbGRNYXhpbWFsRWRnZVJpbmdzKGUpLGk9bmV3IGxjLG89dGhpcy5idWlsZE1pbmltYWxFZGdlUmluZ3Mocix0aGlzLl9zaGVsbExpc3QsaSk7dGhpcy5zb3J0U2hlbGxzQW5kSG9sZXMobyx0aGlzLl9zaGVsbExpc3QsaSksdGhpcy5wbGFjZUZyZWVIb2xlcyh0aGlzLl9zaGVsbExpc3QsaSl9fSxXaC5wcm90b3R5cGUuaW50ZXJmYWNlc189ZnVuY3Rpb24oKXtyZXR1cm5bXX0sV2gucHJvdG90eXBlLmdldENsYXNzPWZ1bmN0aW9uKCl7cmV0dXJuIFdofTt2YXIgSmg9ZnVuY3Rpb24oKXt9O0poLnByb3RvdHlwZS5nZXRCb3VuZHM9ZnVuY3Rpb24oKXt9LEpoLnByb3RvdHlwZS5pbnRlcmZhY2VzXz1mdW5jdGlvbigpe3JldHVybltdfSxKaC5wcm90b3R5cGUuZ2V0Q2xhc3M9ZnVuY3Rpb24oKXtyZXR1cm4gSmh9O3ZhciBaaD1mdW5jdGlvbigpe3RoaXMuX2JvdW5kcz1udWxsLHRoaXMuX2l0ZW09bnVsbDt2YXIgdD1hcmd1bWVudHNbMF0sZT1hcmd1bWVudHNbMV07dGhpcy5fYm91bmRzPXQsdGhpcy5faXRlbT1lfTtaaC5wcm90b3R5cGUuZ2V0SXRlbT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9pdGVtfSxaaC5wcm90b3R5cGUuZ2V0Qm91bmRzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2JvdW5kc30sWmgucHJvdG90eXBlLmludGVyZmFjZXNfPWZ1bmN0aW9uKCl7cmV0dXJuW0poLGFsXX0sWmgucHJvdG90eXBlLmdldENsYXNzPWZ1bmN0aW9uKCl7cmV0dXJuIFpofTt2YXIgS2g9ZnVuY3Rpb24oKXt0aGlzLl9zaXplPW51bGwsdGhpcy5faXRlbXM9bnVsbCx0aGlzLl9zaXplPTAsdGhpcy5faXRlbXM9bmV3IGxjLHRoaXMuX2l0ZW1zLmFkZChudWxsKX07S2gucHJvdG90eXBlLnBvbGw9ZnVuY3Rpb24oKXtpZih0aGlzLmlzRW1wdHkoKSlyZXR1cm4gbnVsbDt2YXIgdD10aGlzLl9pdGVtcy5nZXQoMSk7cmV0dXJuIHRoaXMuX2l0ZW1zLnNldCgxLHRoaXMuX2l0ZW1zLmdldCh0aGlzLl9zaXplKSksdGhpcy5fc2l6ZS09MSx0aGlzLnJlb3JkZXIoMSksdH0sS2gucHJvdG90eXBlLnNpemU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2l6ZX0sS2gucHJvdG90eXBlLnJlb3JkZXI9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMsbj1udWxsLHI9dGhpcy5faXRlbXMuZ2V0KHQpOzIqdDw9dGhpcy5fc2l6ZSYmKChuPTIqdCkhPT1lLl9zaXplJiZlLl9pdGVtcy5nZXQobisxKS5jb21wYXJlVG8oZS5faXRlbXMuZ2V0KG4pKTwwJiZuKyssZS5faXRlbXMuZ2V0KG4pLmNvbXBhcmVUbyhyKTwwKTt0PW4pZS5faXRlbXMuc2V0KHQsZS5faXRlbXMuZ2V0KG4pKTt0aGlzLl9pdGVtcy5zZXQodCxyKX0sS2gucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKCl7dGhpcy5fc2l6ZT0wLHRoaXMuX2l0ZW1zLmNsZWFyKCl9LEtoLnByb3RvdHlwZS5pc0VtcHR5PWZ1bmN0aW9uKCl7cmV0dXJuIDA9PT10aGlzLl9zaXplfSxLaC5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKHQpe3RoaXMuX2l0ZW1zLmFkZChudWxsKSx0aGlzLl9zaXplKz0xO3ZhciBlPXRoaXMuX3NpemU7Zm9yKHRoaXMuX2l0ZW1zLnNldCgwLHQpO3QuY29tcGFyZVRvKHRoaXMuX2l0ZW1zLmdldChNYXRoLnRydW5jKGUvMikpKTwwO2UvPTIpdGhpcy5faXRlbXMuc2V0KGUsdGhpcy5faXRlbXMuZ2V0KE1hdGgudHJ1bmMoZS8yKSkpO3RoaXMuX2l0ZW1zLnNldChlLHQpfSxLaC5wcm90b3R5cGUuaW50ZXJmYWNlc189ZnVuY3Rpb24oKXtyZXR1cm5bXX0sS2gucHJvdG90eXBlLmdldENsYXNzPWZ1bmN0aW9uKCl7cmV0dXJuIEtofTt2YXIgUWg9ZnVuY3Rpb24oKXt9O1FoLnByb3RvdHlwZS52aXNpdEl0ZW09ZnVuY3Rpb24odCl7fSxRaC5wcm90b3R5cGUuaW50ZXJmYWNlc189ZnVuY3Rpb24oKXtyZXR1cm5bXX0sUWgucHJvdG90eXBlLmdldENsYXNzPWZ1bmN0aW9uKCl7cmV0dXJuIFFofTt2YXIgJGg9ZnVuY3Rpb24oKXt9OyRoLnByb3RvdHlwZS5pbnNlcnQ9ZnVuY3Rpb24odCxlKXt9LCRoLnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24odCxlKXt9LCRoLnByb3RvdHlwZS5xdWVyeT1mdW5jdGlvbigpe30sJGgucHJvdG90eXBlLmludGVyZmFjZXNfPWZ1bmN0aW9uKCl7cmV0dXJuW119LCRoLnByb3RvdHlwZS5nZXRDbGFzcz1mdW5jdGlvbigpe3JldHVybiAkaH07dmFyIHRwPWZ1bmN0aW9uKCl7aWYodGhpcy5fY2hpbGRCb3VuZGFibGVzPW5ldyBsYyx0aGlzLl9ib3VuZHM9bnVsbCx0aGlzLl9sZXZlbD1udWxsLDA9PT1hcmd1bWVudHMubGVuZ3RoKTtlbHNlIGlmKDE9PT1hcmd1bWVudHMubGVuZ3RoKXt2YXIgdD1hcmd1bWVudHNbMF07dGhpcy5fbGV2ZWw9dH19LGVwPXtzZXJpYWxWZXJzaW9uVUlEOntjb25maWd1cmFibGU6ITB9fTt0cC5wcm90b3R5cGUuZ2V0TGV2ZWw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbGV2ZWx9LHRwLnByb3RvdHlwZS5zaXplPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NoaWxkQm91bmRhYmxlcy5zaXplKCl9LHRwLnByb3RvdHlwZS5nZXRDaGlsZEJvdW5kYWJsZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY2hpbGRCb3VuZGFibGVzfSx0cC5wcm90b3R5cGUuYWRkQ2hpbGRCb3VuZGFibGU9ZnVuY3Rpb24odCl7cWwuaXNUcnVlKG51bGw9PT10aGlzLl9ib3VuZHMpLHRoaXMuX2NoaWxkQm91bmRhYmxlcy5hZGQodCl9LHRwLnByb3RvdHlwZS5pc0VtcHR5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NoaWxkQm91bmRhYmxlcy5pc0VtcHR5KCl9LHRwLnByb3RvdHlwZS5nZXRCb3VuZHM9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbD09PXRoaXMuX2JvdW5kcyYmKHRoaXMuX2JvdW5kcz10aGlzLmNvbXB1dGVCb3VuZHMoKSksdGhpcy5fYm91bmRzfSx0cC5wcm90b3R5cGUuaW50ZXJmYWNlc189ZnVuY3Rpb24oKXtyZXR1cm5bSmgsYWxdfSx0cC5wcm90b3R5cGUuZ2V0Q2xhc3M9ZnVuY3Rpb24oKXtyZXR1cm4gdHB9LGVwLnNlcmlhbFZlcnNpb25VSUQuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIDB4NWExZTU1ZWM0MTM2OTgwMH0sT2JqZWN0LmRlZmluZVByb3BlcnRpZXModHAsZXApO3ZhciBucD1mdW5jdGlvbigpe307bnAucmV2ZXJzZU9yZGVyPWZ1bmN0aW9uKCl7cmV0dXJue2NvbXBhcmU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gZS5jb21wYXJlVG8odCl9fX0sbnAubWluPWZ1bmN0aW9uKHQpe3JldHVybiBucC5zb3J0KHQpLHQuZ2V0KDApfSxucC5zb3J0PWZ1bmN0aW9uKHQsZSl7dmFyIG49dC50b0FycmF5KCk7ZT9SYy5zb3J0KG4sZSk6UmMuc29ydChuKTtmb3IodmFyIHI9dC5pdGVyYXRvcigpLGk9MCxvPW4ubGVuZ3RoO2k8bztpKyspci5uZXh0KCksci5zZXQobltpXSl9LG5wLnNpbmdsZXRvbkxpc3Q9ZnVuY3Rpb24odCl7dmFyIGU9bmV3IGxjO3JldHVybiBlLmFkZCh0KSxlfTt2YXIgcnA9ZnVuY3Rpb24oKXt0aGlzLl9ib3VuZGFibGUxPW51bGwsdGhpcy5fYm91bmRhYmxlMj1udWxsLHRoaXMuX2Rpc3RhbmNlPW51bGwsdGhpcy5faXRlbURpc3RhbmNlPW51bGw7dmFyIHQ9YXJndW1lbnRzWzBdLGU9YXJndW1lbnRzWzFdLG49YXJndW1lbnRzWzJdO3RoaXMuX2JvdW5kYWJsZTE9dCx0aGlzLl9ib3VuZGFibGUyPWUsdGhpcy5faXRlbURpc3RhbmNlPW4sdGhpcy5fZGlzdGFuY2U9dGhpcy5kaXN0YW5jZSgpfTtycC5wcm90b3R5cGUuZXhwYW5kVG9RdWV1ZT1mdW5jdGlvbih0LGUpe3ZhciBuPXJwLmlzQ29tcG9zaXRlKHRoaXMuX2JvdW5kYWJsZTEpLHI9cnAuaXNDb21wb3NpdGUodGhpcy5fYm91bmRhYmxlMik7aWYobiYmcilyZXR1cm4gcnAuYXJlYSh0aGlzLl9ib3VuZGFibGUxKT5ycC5hcmVhKHRoaXMuX2JvdW5kYWJsZTIpPyh0aGlzLmV4cGFuZCh0aGlzLl9ib3VuZGFibGUxLHRoaXMuX2JvdW5kYWJsZTIsdCxlKSxudWxsKToodGhpcy5leHBhbmQodGhpcy5fYm91bmRhYmxlMix0aGlzLl9ib3VuZGFibGUxLHQsZSksbnVsbCk7aWYobilyZXR1cm4gdGhpcy5leHBhbmQodGhpcy5fYm91bmRhYmxlMSx0aGlzLl9ib3VuZGFibGUyLHQsZSksbnVsbDtpZihyKXJldHVybiB0aGlzLmV4cGFuZCh0aGlzLl9ib3VuZGFibGUyLHRoaXMuX2JvdW5kYWJsZTEsdCxlKSxudWxsO3Rocm93IG5ldyBlbCgibmVpdGhlciBib3VuZGFibGUgaXMgY29tcG9zaXRlIil9LHJwLnByb3RvdHlwZS5pc0xlYXZlcz1mdW5jdGlvbigpe3JldHVybiEocnAuaXNDb21wb3NpdGUodGhpcy5fYm91bmRhYmxlMSl8fHJwLmlzQ29tcG9zaXRlKHRoaXMuX2JvdW5kYWJsZTIpKX0scnAucHJvdG90eXBlLmNvbXBhcmVUbz1mdW5jdGlvbih0KXt2YXIgZT10O3JldHVybiB0aGlzLl9kaXN0YW5jZTxlLl9kaXN0YW5jZT8tMTp0aGlzLl9kaXN0YW5jZT5lLl9kaXN0YW5jZT8xOjB9LHJwLnByb3RvdHlwZS5leHBhbmQ9ZnVuY3Rpb24odCxlLG4scil7Zm9yKHZhciBpPXQuZ2V0Q2hpbGRCb3VuZGFibGVzKCkuaXRlcmF0b3IoKTtpLmhhc05leHQoKTspe3ZhciBvPWkubmV4dCgpLHM9bmV3IHJwKG8sZSx0aGlzLl9pdGVtRGlzdGFuY2UpO3MuZ2V0RGlzdGFuY2UoKTxyJiZuLmFkZChzKX19LHJwLnByb3RvdHlwZS5nZXRCb3VuZGFibGU9ZnVuY3Rpb24odCl7cmV0dXJuIDA9PT10P3RoaXMuX2JvdW5kYWJsZTE6dGhpcy5fYm91bmRhYmxlMn0scnAucHJvdG90eXBlLmdldERpc3RhbmNlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2Rpc3RhbmNlfSxycC5wcm90b3R5cGUuZGlzdGFuY2U9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pc0xlYXZlcygpP3RoaXMuX2l0ZW1EaXN0YW5jZS5kaXN0YW5jZSh0aGlzLl9ib3VuZGFibGUxLHRoaXMuX2JvdW5kYWJsZTIpOnRoaXMuX2JvdW5kYWJsZTEuZ2V0Qm91bmRzKCkuZGlzdGFuY2UodGhpcy5fYm91bmRhYmxlMi5nZXRCb3VuZHMoKSl9LHJwLnByb3RvdHlwZS5pbnRlcmZhY2VzXz1mdW5jdGlvbigpe3JldHVybltpbF19LHJwLnByb3RvdHlwZS5nZXRDbGFzcz1mdW5jdGlvbigpe3JldHVybiBycH0scnAuYXJlYT1mdW5jdGlvbih0KXtyZXR1cm4gdC5nZXRCb3VuZHMoKS5nZXRBcmVhKCl9LHJwLmlzQ29tcG9zaXRlPWZ1bmN0aW9uKHQpe3JldHVybiB0IGluc3RhbmNlb2YgdHB9O3ZhciBpcD1mdW5jdGlvbiB0KCl7aWYodGhpcy5fcm9vdD1udWxsLHRoaXMuX2J1aWx0PSExLHRoaXMuX2l0ZW1Cb3VuZGFibGVzPW5ldyBsYyx0aGlzLl9ub2RlQ2FwYWNpdHk9bnVsbCwwPT09YXJndW1lbnRzLmxlbmd0aCl7dmFyIGU9dC5ERUZBVUxUX05PREVfQ0FQQUNJVFk7dGhpcy5fbm9kZUNhcGFjaXR5PWV9ZWxzZSBpZigxPT09YXJndW1lbnRzLmxlbmd0aCl7dmFyIG49YXJndW1lbnRzWzBdO3FsLmlzVHJ1ZShuPjEsIk5vZGUgY2FwYWNpdHkgbXVzdCBiZSBncmVhdGVyIHRoYW4gMSIpLHRoaXMuX25vZGVDYXBhY2l0eT1ufX0sb3A9e0ludGVyc2VjdHNPcDp7Y29uZmlndXJhYmxlOiEwfSxzZXJpYWxWZXJzaW9uVUlEOntjb25maWd1cmFibGU6ITB9LERFRkFVTFRfTk9ERV9DQVBBQ0lUWTp7Y29uZmlndXJhYmxlOiEwfX07aXAucHJvdG90eXBlLmdldE5vZGVDYXBhY2l0eT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9ub2RlQ2FwYWNpdHl9LGlwLnByb3RvdHlwZS5sYXN0Tm9kZT1mdW5jdGlvbih0KXtyZXR1cm4gdC5nZXQodC5zaXplKCktMSl9LGlwLnByb3RvdHlwZS5zaXplPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztpZigwPT09YXJndW1lbnRzLmxlbmd0aClyZXR1cm4gdGhpcy5pc0VtcHR5KCk/MDoodGhpcy5idWlsZCgpLHRoaXMuc2l6ZSh0aGlzLl9yb290KSk7aWYoMT09PWFyZ3VtZW50cy5sZW5ndGgpe2Zvcih2YXIgZT1hcmd1bWVudHNbMF0sbj0wLHI9ZS5nZXRDaGlsZEJvdW5kYWJsZXMoKS5pdGVyYXRvcigpO3IuaGFzTmV4dCgpOyl7dmFyIGk9ci5uZXh0KCk7aSBpbnN0YW5jZW9mIHRwP24rPXQuc2l6ZShpKTppIGluc3RhbmNlb2YgWmgmJihuKz0xKX1yZXR1cm4gbn19LGlwLnByb3RvdHlwZS5yZW1vdmVJdGVtPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPW51bGwscj10LmdldENoaWxkQm91bmRhYmxlcygpLml0ZXJhdG9yKCk7ci5oYXNOZXh0KCk7KXt2YXIgaT1yLm5leHQoKTtpIGluc3RhbmNlb2YgWmgmJmkuZ2V0SXRlbSgpPT09ZSYmKG49aSl9cmV0dXJuIG51bGwhPT1uJiYodC5nZXRDaGlsZEJvdW5kYWJsZXMoKS5yZW1vdmUobiksITApfSxpcC5wcm90b3R5cGUuaXRlbXNUcmVlPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztpZigwPT09YXJndW1lbnRzLmxlbmd0aCl7dGhpcy5idWlsZCgpO3ZhciBlPXRoaXMuaXRlbXNUcmVlKHRoaXMuX3Jvb3QpO3JldHVybiBudWxsPT09ZT9uZXcgbGM6ZX1pZigxPT09YXJndW1lbnRzLmxlbmd0aCl7Zm9yKHZhciBuPWFyZ3VtZW50c1swXSxyPW5ldyBsYyxpPW4uZ2V0Q2hpbGRCb3VuZGFibGVzKCkuaXRlcmF0b3IoKTtpLmhhc05leHQoKTspe3ZhciBvPWkubmV4dCgpO2lmKG8gaW5zdGFuY2VvZiB0cCl7dmFyIHM9dC5pdGVtc1RyZWUobyk7bnVsbCE9PXMmJnIuYWRkKHMpfWVsc2UgbyBpbnN0YW5jZW9mIFpoP3IuYWRkKG8uZ2V0SXRlbSgpKTpxbC5zaG91bGROZXZlclJlYWNoSGVyZSgpfXJldHVybiByLnNpemUoKTw9MD9udWxsOnJ9fSxpcC5wcm90b3R5cGUuaW5zZXJ0PWZ1bmN0aW9uKHQsZSl7cWwuaXNUcnVlKCF0aGlzLl9idWlsdCwiQ2Fubm90IGluc2VydCBpdGVtcyBpbnRvIGFuIFNUUiBwYWNrZWQgUi10cmVlIGFmdGVyIGl0IGhhcyBiZWVuIGJ1aWx0LiIpLHRoaXMuX2l0ZW1Cb3VuZGFibGVzLmFkZChuZXcgWmgodCxlKSl9LGlwLnByb3RvdHlwZS5ib3VuZGFibGVzQXRMZXZlbD1mdW5jdGlvbigpe3ZhciB0PXRoaXM7aWYoMT09PWFyZ3VtZW50cy5sZW5ndGgpe3ZhciBlPWFyZ3VtZW50c1swXSxuPW5ldyBsYztyZXR1cm4gdGhpcy5ib3VuZGFibGVzQXRMZXZlbChlLHRoaXMuX3Jvb3Qsbiksbn1pZigzPT09YXJndW1lbnRzLmxlbmd0aCl7dmFyIHI9YXJndW1lbnRzWzBdLGk9YXJndW1lbnRzWzFdLG89YXJndW1lbnRzWzJdO2lmKHFsLmlzVHJ1ZShyPi0yKSxpLmdldExldmVsKCk9PT1yKXJldHVybiBvLmFkZChpKSxudWxsO2Zvcih2YXIgcz1pLmdldENoaWxkQm91bmRhYmxlcygpLml0ZXJhdG9yKCk7cy5oYXNOZXh0KCk7KXt2YXIgYT1zLm5leHQoKTthIGluc3RhbmNlb2YgdHA/dC5ib3VuZGFibGVzQXRMZXZlbChyLGEsbyk6KHFsLmlzVHJ1ZShhIGluc3RhbmNlb2YgWmgpLC0xPT09ciYmby5hZGQoYSkpfXJldHVybiBudWxsfX0saXAucHJvdG90eXBlLnF1ZXJ5PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztpZigxPT09YXJndW1lbnRzLmxlbmd0aCl7dmFyIGU9YXJndW1lbnRzWzBdO3RoaXMuYnVpbGQoKTt2YXIgbj1uZXcgbGM7cmV0dXJuIHRoaXMuaXNFbXB0eSgpfHx0aGlzLmdldEludGVyc2VjdHNPcCgpLmludGVyc2VjdHModGhpcy5fcm9vdC5nZXRCb3VuZHMoKSxlKSYmdGhpcy5xdWVyeShlLHRoaXMuX3Jvb3Qsbiksbn1pZigyPT09YXJndW1lbnRzLmxlbmd0aCl7dmFyIHI9YXJndW1lbnRzWzBdLGk9YXJndW1lbnRzWzFdO2lmKHRoaXMuYnVpbGQoKSx0aGlzLmlzRW1wdHkoKSlyZXR1cm4gbnVsbDt0aGlzLmdldEludGVyc2VjdHNPcCgpLmludGVyc2VjdHModGhpcy5fcm9vdC5nZXRCb3VuZHMoKSxyKSYmdGhpcy5xdWVyeShyLHRoaXMuX3Jvb3QsaSl9ZWxzZSBpZigzPT09YXJndW1lbnRzLmxlbmd0aClpZihnbChhcmd1bWVudHNbMl0sUWgpJiZhcmd1bWVudHNbMF1pbnN0YW5jZW9mIE9iamVjdCYmYXJndW1lbnRzWzFdaW5zdGFuY2VvZiB0cClmb3IodmFyIG89YXJndW1lbnRzWzBdLHM9YXJndW1lbnRzWzFdLGE9YXJndW1lbnRzWzJdLHU9cy5nZXRDaGlsZEJvdW5kYWJsZXMoKSxsPTA7bDx1LnNpemUoKTtsKyspe3ZhciBjPXUuZ2V0KGwpO3QuZ2V0SW50ZXJzZWN0c09wKCkuaW50ZXJzZWN0cyhjLmdldEJvdW5kcygpLG8pJiYoYyBpbnN0YW5jZW9mIHRwP3QucXVlcnkobyxjLGEpOmMgaW5zdGFuY2VvZiBaaD9hLnZpc2l0SXRlbShjLmdldEl0ZW0oKSk6cWwuc2hvdWxkTmV2ZXJSZWFjaEhlcmUoKSl9ZWxzZSBpZihnbChhcmd1bWVudHNbMl0sYWMpJiZhcmd1bWVudHNbMF1pbnN0YW5jZW9mIE9iamVjdCYmYXJndW1lbnRzWzFdaW5zdGFuY2VvZiB0cClmb3IodmFyIGg9YXJndW1lbnRzWzBdLHA9YXJndW1lbnRzWzFdLGY9YXJndW1lbnRzWzJdLGc9cC5nZXRDaGlsZEJvdW5kYWJsZXMoKSxkPTA7ZDxnLnNpemUoKTtkKyspe3ZhciB5PWcuZ2V0KGQpO3QuZ2V0SW50ZXJzZWN0c09wKCkuaW50ZXJzZWN0cyh5LmdldEJvdW5kcygpLGgpJiYoeSBpbnN0YW5jZW9mIHRwP3QucXVlcnkoaCx5LGYpOnkgaW5zdGFuY2VvZiBaaD9mLmFkZCh5LmdldEl0ZW0oKSk6cWwuc2hvdWxkTmV2ZXJSZWFjaEhlcmUoKSl9fSxpcC5wcm90b3R5cGUuYnVpbGQ9ZnVuY3Rpb24oKXtpZih0aGlzLl9idWlsdClyZXR1cm4gbnVsbDt0aGlzLl9yb290PXRoaXMuX2l0ZW1Cb3VuZGFibGVzLmlzRW1wdHkoKT90aGlzLmNyZWF0ZU5vZGUoMCk6dGhpcy5jcmVhdGVIaWdoZXJMZXZlbHModGhpcy5faXRlbUJvdW5kYWJsZXMsLTEpLHRoaXMuX2l0ZW1Cb3VuZGFibGVzPW51bGwsdGhpcy5fYnVpbHQ9ITB9LGlwLnByb3RvdHlwZS5nZXRSb290PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYnVpbGQoKSx0aGlzLl9yb290fSxpcC5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztpZigyPT09YXJndW1lbnRzLmxlbmd0aCl7dmFyIGU9YXJndW1lbnRzWzBdLG49YXJndW1lbnRzWzFdO3JldHVybiB0aGlzLmJ1aWxkKCksISF0aGlzLmdldEludGVyc2VjdHNPcCgpLmludGVyc2VjdHModGhpcy5fcm9vdC5nZXRCb3VuZHMoKSxlKSYmdGhpcy5yZW1vdmUoZSx0aGlzLl9yb290LG4pfWlmKDM9PT1hcmd1bWVudHMubGVuZ3RoKXt2YXIgcj1hcmd1bWVudHNbMF0saT1hcmd1bWVudHNbMV0sbz1hcmd1bWVudHNbMl0scz10aGlzLnJlbW92ZUl0ZW0oaSxvKTtpZihzKXJldHVybiEwO2Zvcih2YXIgYT1udWxsLHU9aS5nZXRDaGlsZEJvdW5kYWJsZXMoKS5pdGVyYXRvcigpO3UuaGFzTmV4dCgpOyl7dmFyIGw9dS5uZXh0KCk7aWYodC5nZXRJbnRlcnNlY3RzT3AoKS5pbnRlcnNlY3RzKGwuZ2V0Qm91bmRzKCkscikmJihsIGluc3RhbmNlb2YgdHAmJihzPXQucmVtb3ZlKHIsbCxvKSkpKXthPWw7YnJlYWt9fXJldHVybiBudWxsIT09YSYmYS5nZXRDaGlsZEJvdW5kYWJsZXMoKS5pc0VtcHR5KCkmJmkuZ2V0Q2hpbGRCb3VuZGFibGVzKCkucmVtb3ZlKGEpLHN9fSxpcC5wcm90b3R5cGUuY3JlYXRlSGlnaGVyTGV2ZWxzPWZ1bmN0aW9uKHQsZSl7cWwuaXNUcnVlKCF0LmlzRW1wdHkoKSk7dmFyIG49dGhpcy5jcmVhdGVQYXJlbnRCb3VuZGFibGVzKHQsZSsxKTtyZXR1cm4gMT09PW4uc2l6ZSgpP24uZ2V0KDApOnRoaXMuY3JlYXRlSGlnaGVyTGV2ZWxzKG4sZSsxKX0saXAucHJvdG90eXBlLmRlcHRoPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztpZigwPT09YXJndW1lbnRzLmxlbmd0aClyZXR1cm4gdGhpcy5pc0VtcHR5KCk/MDoodGhpcy5idWlsZCgpLHRoaXMuZGVwdGgodGhpcy5fcm9vdCkpO2lmKDE9PT1hcmd1bWVudHMubGVuZ3RoKXtmb3IodmFyIGU9YXJndW1lbnRzWzBdLG49MCxyPWUuZ2V0Q2hpbGRCb3VuZGFibGVzKCkuaXRlcmF0b3IoKTtyLmhhc05leHQoKTspe3ZhciBpPXIubmV4dCgpO2lmKGkgaW5zdGFuY2VvZiB0cCl7dmFyIG89dC5kZXB0aChpKTtvPm4mJihuPW8pfX1yZXR1cm4gbisxfX0saXAucHJvdG90eXBlLmNyZWF0ZVBhcmVudEJvdW5kYWJsZXM9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzO3FsLmlzVHJ1ZSghdC5pc0VtcHR5KCkpO3ZhciByPW5ldyBsYztyLmFkZCh0aGlzLmNyZWF0ZU5vZGUoZSkpO3ZhciBpPW5ldyBsYyh0KTtucC5zb3J0KGksdGhpcy5nZXRDb21wYXJhdG9yKCkpO2Zvcih2YXIgbz1pLml0ZXJhdG9yKCk7by5oYXNOZXh0KCk7KXt2YXIgcz1vLm5leHQoKTtuLmxhc3ROb2RlKHIpLmdldENoaWxkQm91bmRhYmxlcygpLnNpemUoKT09PW4uZ2V0Tm9kZUNhcGFjaXR5KCkmJnIuYWRkKG4uY3JlYXRlTm9kZShlKSksbi5sYXN0Tm9kZShyKS5hZGRDaGlsZEJvdW5kYWJsZShzKX1yZXR1cm4gcn0saXAucHJvdG90eXBlLmlzRW1wdHk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYnVpbHQ/dGhpcy5fcm9vdC5pc0VtcHR5KCk6dGhpcy5faXRlbUJvdW5kYWJsZXMuaXNFbXB0eSgpfSxpcC5wcm90b3R5cGUuaW50ZXJmYWNlc189ZnVuY3Rpb24oKXtyZXR1cm5bYWxdfSxpcC5wcm90b3R5cGUuZ2V0Q2xhc3M9ZnVuY3Rpb24oKXtyZXR1cm4gaXB9LGlwLmNvbXBhcmVEb3VibGVzPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQ+ZT8xOnQ8ZT8tMTowfSxvcC5JbnRlcnNlY3RzT3AuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHNwfSxvcC5zZXJpYWxWZXJzaW9uVUlELmdldD1mdW5jdGlvbigpe3JldHVybi0weDM1ZWY2NGM4MmQ0YzU0MDB9LG9wLkRFRkFVTFRfTk9ERV9DQVBBQ0lUWS5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gMTB9LE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGlwLG9wKTt2YXIgc3A9ZnVuY3Rpb24oKXt9LGFwPWZ1bmN0aW9uKCl7fTthcC5wcm90b3R5cGUuZGlzdGFuY2U9ZnVuY3Rpb24odCxlKXt9LGFwLnByb3RvdHlwZS5pbnRlcmZhY2VzXz1mdW5jdGlvbigpe3JldHVybltdfSxhcC5wcm90b3R5cGUuZ2V0Q2xhc3M9ZnVuY3Rpb24oKXtyZXR1cm4gYXB9O3ZhciB1cD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKG4pe249bnx8ZS5ERUZBVUxUX05PREVfQ0FQQUNJVFksdC5jYWxsKHRoaXMsbil9dCYmKGUuX19wcm90b19fPXQpLGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpLGUucHJvdG90eXBlLmNvbnN0cnVjdG9yPWU7dmFyIG49e1NUUnRyZWVOb2RlOntjb25maWd1cmFibGU6ITB9LHNlcmlhbFZlcnNpb25VSUQ6e2NvbmZpZ3VyYWJsZTohMH0seENvbXBhcmF0b3I6e2NvbmZpZ3VyYWJsZTohMH0seUNvbXBhcmF0b3I6e2NvbmZpZ3VyYWJsZTohMH0saW50ZXJzZWN0c09wOntjb25maWd1cmFibGU6ITB9LERFRkFVTFRfTk9ERV9DQVBBQ0lUWTp7Y29uZmlndXJhYmxlOiEwfX07cmV0dXJuIGUucHJvdG90eXBlLmNyZWF0ZVBhcmVudEJvdW5kYWJsZXNGcm9tVmVydGljYWxTbGljZXM9ZnVuY3Rpb24odCxlKXtxbC5pc1RydWUodC5sZW5ndGg+MCk7Zm9yKHZhciBuPW5ldyBsYyxyPTA7cjx0Lmxlbmd0aDtyKyspbi5hZGRBbGwodGhpcy5jcmVhdGVQYXJlbnRCb3VuZGFibGVzRnJvbVZlcnRpY2FsU2xpY2UodFtyXSxlKSk7cmV0dXJuIG59LGUucHJvdG90eXBlLmNyZWF0ZU5vZGU9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBscCh0KX0sZS5wcm90b3R5cGUuc2l6ZT1mdW5jdGlvbigpe3JldHVybiAwPT09YXJndW1lbnRzLmxlbmd0aD90LnByb3RvdHlwZS5zaXplLmNhbGwodGhpcyk6dC5wcm90b3R5cGUuc2l6ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LGUucHJvdG90eXBlLmluc2VydD1mdW5jdGlvbigpe2lmKDIhPT1hcmd1bWVudHMubGVuZ3RoKXJldHVybiB0LnByb3RvdHlwZS5pbnNlcnQuYXBwbHkodGhpcyxhcmd1bWVudHMpO3ZhciBlPWFyZ3VtZW50c1swXSxuPWFyZ3VtZW50c1sxXTtpZihlLmlzTnVsbCgpKXJldHVybiBudWxsO3QucHJvdG90eXBlLmluc2VydC5jYWxsKHRoaXMsZSxuKX0sZS5wcm90b3R5cGUuZ2V0SW50ZXJzZWN0c09wPWZ1bmN0aW9uKCl7cmV0dXJuIGUuaW50ZXJzZWN0c09wfSxlLnByb3RvdHlwZS52ZXJ0aWNhbFNsaWNlcz1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj1NYXRoLnRydW5jKE1hdGguY2VpbCh0LnNpemUoKS9lKSkscj1uZXcgQXJyYXkoZSkuZmlsbChudWxsKSxpPXQuaXRlcmF0b3IoKSxvPTA7bzxlO28rKyl7cltvXT1uZXcgbGM7Zm9yKHZhciBzPTA7aS5oYXNOZXh0KCkmJnM8bjspe3ZhciBhPWkubmV4dCgpO3Jbb10uYWRkKGEpLHMrK319cmV0dXJuIHJ9LGUucHJvdG90eXBlLnF1ZXJ5PWZ1bmN0aW9uKCl7aWYoMT09PWFyZ3VtZW50cy5sZW5ndGgpe3ZhciBlPWFyZ3VtZW50c1swXTtyZXR1cm4gdC5wcm90b3R5cGUucXVlcnkuY2FsbCh0aGlzLGUpfWlmKDI9PT1hcmd1bWVudHMubGVuZ3RoKXt2YXIgbj1hcmd1bWVudHNbMF0scj1hcmd1bWVudHNbMV07dC5wcm90b3R5cGUucXVlcnkuY2FsbCh0aGlzLG4scil9ZWxzZSBpZigzPT09YXJndW1lbnRzLmxlbmd0aClpZihnbChhcmd1bWVudHNbMl0sUWgpJiZhcmd1bWVudHNbMF1pbnN0YW5jZW9mIE9iamVjdCYmYXJndW1lbnRzWzFdaW5zdGFuY2VvZiB0cCl7dmFyIGk9YXJndW1lbnRzWzBdLG89YXJndW1lbnRzWzFdLHM9YXJndW1lbnRzWzJdO3QucHJvdG90eXBlLnF1ZXJ5LmNhbGwodGhpcyxpLG8scyl9ZWxzZSBpZihnbChhcmd1bWVudHNbMl0sYWMpJiZhcmd1bWVudHNbMF1pbnN0YW5jZW9mIE9iamVjdCYmYXJndW1lbnRzWzFdaW5zdGFuY2VvZiB0cCl7dmFyIGE9YXJndW1lbnRzWzBdLHU9YXJndW1lbnRzWzFdLGw9YXJndW1lbnRzWzJdO3QucHJvdG90eXBlLnF1ZXJ5LmNhbGwodGhpcyxhLHUsbCl9fSxlLnByb3RvdHlwZS5nZXRDb21wYXJhdG9yPWZ1bmN0aW9uKCl7cmV0dXJuIGUueUNvbXBhcmF0b3J9LGUucHJvdG90eXBlLmNyZWF0ZVBhcmVudEJvdW5kYWJsZXNGcm9tVmVydGljYWxTbGljZT1mdW5jdGlvbihlLG4pe3JldHVybiB0LnByb3RvdHlwZS5jcmVhdGVQYXJlbnRCb3VuZGFibGVzLmNhbGwodGhpcyxlLG4pfSxlLnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24oKXtpZigyPT09YXJndW1lbnRzLmxlbmd0aCl7dmFyIGU9YXJndW1lbnRzWzBdLG49YXJndW1lbnRzWzFdO3JldHVybiB0LnByb3RvdHlwZS5yZW1vdmUuY2FsbCh0aGlzLGUsbil9cmV0dXJuIHQucHJvdG90eXBlLnJlbW92ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LGUucHJvdG90eXBlLmRlcHRoPWZ1bmN0aW9uKCl7cmV0dXJuIDA9PT1hcmd1bWVudHMubGVuZ3RoP3QucHJvdG90eXBlLmRlcHRoLmNhbGwodGhpcyk6dC5wcm90b3R5cGUuZGVwdGguYXBwbHkodGhpcyxhcmd1bWVudHMpfSxlLnByb3RvdHlwZS5jcmVhdGVQYXJlbnRCb3VuZGFibGVzPWZ1bmN0aW9uKHQsbil7cWwuaXNUcnVlKCF0LmlzRW1wdHkoKSk7dmFyIHI9TWF0aC50cnVuYyhNYXRoLmNlaWwodC5zaXplKCkvdGhpcy5nZXROb2RlQ2FwYWNpdHkoKSkpLGk9bmV3IGxjKHQpO25wLnNvcnQoaSxlLnhDb21wYXJhdG9yKTt2YXIgbz10aGlzLnZlcnRpY2FsU2xpY2VzKGksTWF0aC50cnVuYyhNYXRoLmNlaWwoTWF0aC5zcXJ0KHIpKSkpO3JldHVybiB0aGlzLmNyZWF0ZVBhcmVudEJvdW5kYWJsZXNGcm9tVmVydGljYWxTbGljZXMobyxuKX0sZS5wcm90b3R5cGUubmVhcmVzdE5laWdoYm91cj1mdW5jdGlvbigpe2lmKDE9PT1hcmd1bWVudHMubGVuZ3RoKXtpZihnbChhcmd1bWVudHNbMF0sYXApKXt2YXIgdD1hcmd1bWVudHNbMF0sbj1uZXcgcnAodGhpcy5nZXRSb290KCksdGhpcy5nZXRSb290KCksdCk7cmV0dXJuIHRoaXMubmVhcmVzdE5laWdoYm91cihuKX1pZihhcmd1bWVudHNbMF1pbnN0YW5jZW9mIHJwKXt2YXIgcj1hcmd1bWVudHNbMF07cmV0dXJuIHRoaXMubmVhcmVzdE5laWdoYm91cihyLG5sLlBPU0lUSVZFX0lORklOSVRZKX19ZWxzZSBpZigyPT09YXJndW1lbnRzLmxlbmd0aCl7aWYoYXJndW1lbnRzWzBdaW5zdGFuY2VvZiBlJiZnbChhcmd1bWVudHNbMV0sYXApKXt2YXIgaT1hcmd1bWVudHNbMF0sbz1hcmd1bWVudHNbMV0scz1uZXcgcnAodGhpcy5nZXRSb290KCksaS5nZXRSb290KCksbyk7cmV0dXJuIHRoaXMubmVhcmVzdE5laWdoYm91cihzKX1pZihhcmd1bWVudHNbMF1pbnN0YW5jZW9mIHJwJiYibnVtYmVyIj09dHlwZW9mIGFyZ3VtZW50c1sxXSl7dmFyIGE9YXJndW1lbnRzWzBdLHU9YXJndW1lbnRzWzFdLGw9dSxjPW51bGwsaD1uZXcgS2g7Zm9yKGguYWRkKGEpOyFoLmlzRW1wdHkoKSYmbD4wOyl7dmFyIHA9aC5wb2xsKCksZj1wLmdldERpc3RhbmNlKCk7aWYoZj49bClicmVhaztwLmlzTGVhdmVzKCk/KGw9ZixjPXApOnAuZXhwYW5kVG9RdWV1ZShoLGwpfXJldHVybltjLmdldEJvdW5kYWJsZSgwKS5nZXRJdGVtKCksYy5nZXRCb3VuZGFibGUoMSkuZ2V0SXRlbSgpXX19ZWxzZSBpZigzPT09YXJndW1lbnRzLmxlbmd0aCl7dmFyIGc9YXJndW1lbnRzWzBdLGQ9YXJndW1lbnRzWzFdLHk9YXJndW1lbnRzWzJdLHY9bmV3IFpoKGcsZCksXz1uZXcgcnAodGhpcy5nZXRSb290KCksdix5KTtyZXR1cm4gdGhpcy5uZWFyZXN0TmVpZ2hib3VyKF8pWzBdfX0sZS5wcm90b3R5cGUuaW50ZXJmYWNlc189ZnVuY3Rpb24oKXtyZXR1cm5bJGgsYWxdfSxlLnByb3RvdHlwZS5nZXRDbGFzcz1mdW5jdGlvbigpe3JldHVybiBlfSxlLmNlbnRyZVg9ZnVuY3Rpb24odCl7cmV0dXJuIGUuYXZnKHQuZ2V0TWluWCgpLHQuZ2V0TWF4WCgpKX0sZS5hdmc9ZnVuY3Rpb24odCxlKXtyZXR1cm4odCtlKS8yfSxlLmNlbnRyZVk9ZnVuY3Rpb24odCl7cmV0dXJuIGUuYXZnKHQuZ2V0TWluWSgpLHQuZ2V0TWF4WSgpKX0sbi5TVFJ0cmVlTm9kZS5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gbHB9LG4uc2VyaWFsVmVyc2lvblVJRC5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gMHgzOTkyMGY3ZDVmMjYxZTB9LG4ueENvbXBhcmF0b3IuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJue2ludGVyZmFjZXNfOmZ1bmN0aW9uKCl7cmV0dXJuW3NsXX0sY29tcGFyZTpmdW5jdGlvbihuLHIpe3JldHVybiB0LmNvbXBhcmVEb3VibGVzKGUuY2VudHJlWChuLmdldEJvdW5kcygpKSxlLmNlbnRyZVgoci5nZXRCb3VuZHMoKSkpfX19LG4ueUNvbXBhcmF0b3IuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJue2ludGVyZmFjZXNfOmZ1bmN0aW9uKCl7cmV0dXJuW3NsXX0sY29tcGFyZTpmdW5jdGlvbihuLHIpe3JldHVybiB0LmNvbXBhcmVEb3VibGVzKGUuY2VudHJlWShuLmdldEJvdW5kcygpKSxlLmNlbnRyZVkoci5nZXRCb3VuZHMoKSkpfX19LG4uaW50ZXJzZWN0c09wLmdldD1mdW5jdGlvbigpe3JldHVybntpbnRlcmZhY2VzXzpmdW5jdGlvbigpe3JldHVyblt0LkludGVyc2VjdHNPcF19LGludGVyc2VjdHM6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5pbnRlcnNlY3RzKGUpfX19LG4uREVGQVVMVF9OT0RFX0NBUEFDSVRZLmdldD1mdW5jdGlvbigpe3JldHVybiAxMH0sT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSxuKSxlfShpcCksbHA9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBlPWFyZ3VtZW50c1swXTt0LmNhbGwodGhpcyxlKX1yZXR1cm4gdCYmKGUuX19wcm90b19fPXQpLGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpLGUucHJvdG90eXBlLmNvbnN0cnVjdG9yPWUsZS5wcm90b3R5cGUuY29tcHV0ZUJvdW5kcz1mdW5jdGlvbigpe2Zvcih2YXIgdD1udWxsLGU9dGhpcy5nZXRDaGlsZEJvdW5kYWJsZXMoKS5pdGVyYXRvcigpO2UuaGFzTmV4dCgpOyl7dmFyIG49ZS5uZXh0KCk7bnVsbD09PXQ/dD1uZXcgTGwobi5nZXRCb3VuZHMoKSk6dC5leHBhbmRUb0luY2x1ZGUobi5nZXRCb3VuZHMoKSl9cmV0dXJuIHR9LGUucHJvdG90eXBlLmludGVyZmFjZXNfPWZ1bmN0aW9uKCl7cmV0dXJuW119LGUucHJvdG90eXBlLmdldENsYXNzPWZ1bmN0aW9uKCl7cmV0dXJuIGV9LGV9KHRwKSxjcD1mdW5jdGlvbigpe307Y3AucHJvdG90eXBlLmludGVyZmFjZXNfPWZ1bmN0aW9uKCl7cmV0dXJuW119LGNwLnByb3RvdHlwZS5nZXRDbGFzcz1mdW5jdGlvbigpe3JldHVybiBjcH0sY3AucmVsYXRpdmVTaWduPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQ8ZT8tMTp0PmU/MTowfSxjcC5jb21wYXJlPWZ1bmN0aW9uKHQsZSxuKXtpZihlLmVxdWFsczJEKG4pKXJldHVybiAwO3ZhciByPWNwLnJlbGF0aXZlU2lnbihlLngsbi54KSxpPWNwLnJlbGF0aXZlU2lnbihlLnksbi55KTtzd2l0Y2godCl7Y2FzZSAwOnJldHVybiBjcC5jb21wYXJlVmFsdWUocixpKTtjYXNlIDE6cmV0dXJuIGNwLmNvbXBhcmVWYWx1ZShpLHIpO2Nhc2UgMjpyZXR1cm4gY3AuY29tcGFyZVZhbHVlKGksLXIpO2Nhc2UgMzpyZXR1cm4gY3AuY29tcGFyZVZhbHVlKC1yLGkpO2Nhc2UgNDpyZXR1cm4gY3AuY29tcGFyZVZhbHVlKC1yLC1pKTtjYXNlIDU6cmV0dXJuIGNwLmNvbXBhcmVWYWx1ZSgtaSwtcik7Y2FzZSA2OnJldHVybiBjcC5jb21wYXJlVmFsdWUoLWkscik7Y2FzZSA3OnJldHVybiBjcC5jb21wYXJlVmFsdWUociwtaSl9cmV0dXJuIHFsLnNob3VsZE5ldmVyUmVhY2hIZXJlKCJpbnZhbGlkIG9jdGFudCB2YWx1ZSIpLDB9LGNwLmNvbXBhcmVWYWx1ZT1mdW5jdGlvbih0LGUpe3JldHVybiB0PDA/LTE6dD4wPzE6ZTwwPy0xOmU+MD8xOjB9O3ZhciBocD1mdW5jdGlvbigpe3RoaXMuX3NlZ1N0cmluZz1udWxsLHRoaXMuY29vcmQ9bnVsbCx0aGlzLnNlZ21lbnRJbmRleD1udWxsLHRoaXMuX3NlZ21lbnRPY3RhbnQ9bnVsbCx0aGlzLl9pc0ludGVyaW9yPW51bGw7dmFyIHQ9YXJndW1lbnRzWzBdLGU9YXJndW1lbnRzWzFdLG49YXJndW1lbnRzWzJdLHI9YXJndW1lbnRzWzNdO3RoaXMuX3NlZ1N0cmluZz10LHRoaXMuY29vcmQ9bmV3IHVsKGUpLHRoaXMuc2VnbWVudEluZGV4PW4sdGhpcy5fc2VnbWVudE9jdGFudD1yLHRoaXMuX2lzSW50ZXJpb3I9IWUuZXF1YWxzMkQodC5nZXRDb29yZGluYXRlKG4pKX07aHAucHJvdG90eXBlLmdldENvb3JkaW5hdGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb29yZH0saHAucHJvdG90eXBlLnByaW50PWZ1bmN0aW9uKHQpe3QucHJpbnQodGhpcy5jb29yZCksdC5wcmludCgiIHNlZyAjID0gIit0aGlzLnNlZ21lbnRJbmRleCl9LGhwLnByb3RvdHlwZS5jb21wYXJlVG89ZnVuY3Rpb24odCl7dmFyIGU9dDtyZXR1cm4gdGhpcy5zZWdtZW50SW5kZXg8ZS5zZWdtZW50SW5kZXg/LTE6dGhpcy5zZWdtZW50SW5kZXg+ZS5zZWdtZW50SW5kZXg/MTp0aGlzLmNvb3JkLmVxdWFsczJEKGUuY29vcmQpPzA6Y3AuY29tcGFyZSh0aGlzLl9zZWdtZW50T2N0YW50LHRoaXMuY29vcmQsZS5jb29yZCl9LGhwLnByb3RvdHlwZS5pc0VuZFBvaW50PWZ1bmN0aW9uKHQpe3JldHVybiAwPT09dGhpcy5zZWdtZW50SW5kZXgmJiF0aGlzLl9pc0ludGVyaW9yfHx0aGlzLnNlZ21lbnRJbmRleD09PXR9LGhwLnByb3RvdHlwZS5pc0ludGVyaW9yPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2lzSW50ZXJpb3J9LGhwLnByb3RvdHlwZS5pbnRlcmZhY2VzXz1mdW5jdGlvbigpe3JldHVybltpbF19LGhwLnByb3RvdHlwZS5nZXRDbGFzcz1mdW5jdGlvbigpe3JldHVybiBocH07dmFyIHBwPWZ1bmN0aW9uKCl7dGhpcy5fbm9kZU1hcD1uZXcgQ2MsdGhpcy5fZWRnZT1udWxsO3ZhciB0PWFyZ3VtZW50c1swXTt0aGlzLl9lZGdlPXR9O3BwLnByb3RvdHlwZS5nZXRTcGxpdENvb3JkaW5hdGVzPWZ1bmN0aW9uKCl7dmFyIHQ9bmV3IGhjO3RoaXMuYWRkRW5kcG9pbnRzKCk7Zm9yKHZhciBlPXRoaXMuaXRlcmF0b3IoKSxuPWUubmV4dCgpO2UuaGFzTmV4dCgpOyl7dmFyIHI9ZS5uZXh0KCk7dGhpcy5hZGRFZGdlQ29vcmRpbmF0ZXMobixyLHQpLG49cn1yZXR1cm4gdC50b0Nvb3JkaW5hdGVBcnJheSgpfSxwcC5wcm90b3R5cGUuYWRkQ29sbGFwc2VkTm9kZXM9ZnVuY3Rpb24oKXt2YXIgdD1uZXcgbGM7dGhpcy5maW5kQ29sbGFwc2VzRnJvbUluc2VydGVkTm9kZXModCksdGhpcy5maW5kQ29sbGFwc2VzRnJvbUV4aXN0aW5nVmVydGljZXModCk7Zm9yKHZhciBlPXQuaXRlcmF0b3IoKTtlLmhhc05leHQoKTspe3ZhciBuPWUubmV4dCgpLmludFZhbHVlKCk7dGhpcy5hZGQodGhpcy5fZWRnZS5nZXRDb29yZGluYXRlKG4pLG4pfX0scHAucHJvdG90eXBlLnByaW50PWZ1bmN0aW9uKHQpe3QucHJpbnRsbigiSW50ZXJzZWN0aW9uczoiKTtmb3IodmFyIGU9dGhpcy5pdGVyYXRvcigpO2UuaGFzTmV4dCgpOyl7ZS5uZXh0KCkucHJpbnQodCl9fSxwcC5wcm90b3R5cGUuZmluZENvbGxhcHNlc0Zyb21FeGlzdGluZ1ZlcnRpY2VzPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wO2U8dGhpcy5fZWRnZS5zaXplKCktMjtlKyspe3ZhciBuPXRoaXMuX2VkZ2UuZ2V0Q29vcmRpbmF0ZShlKSxyPXRoaXMuX2VkZ2UuZ2V0Q29vcmRpbmF0ZShlKzIpO24uZXF1YWxzMkQocikmJnQuYWRkKG5ldyBfbChlKzEpKX19LHBwLnByb3RvdHlwZS5hZGRFZGdlQ29vcmRpbmF0ZXM9ZnVuY3Rpb24odCxlLG4pe3ZhciByPXRoaXMuX2VkZ2UuZ2V0Q29vcmRpbmF0ZShlLnNlZ21lbnRJbmRleCksaT1lLmlzSW50ZXJpb3IoKXx8IWUuY29vcmQuZXF1YWxzMkQocik7bi5hZGQobmV3IHVsKHQuY29vcmQpLCExKTtmb3IodmFyIG89dC5zZWdtZW50SW5kZXgrMTtvPD1lLnNlZ21lbnRJbmRleDtvKyspbi5hZGQodGhpcy5fZWRnZS5nZXRDb29yZGluYXRlKG8pKTtpJiZuLmFkZChuZXcgdWwoZS5jb29yZCkpfSxwcC5wcm90b3R5cGUuaXRlcmF0b3I9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbm9kZU1hcC52YWx1ZXMoKS5pdGVyYXRvcigpfSxwcC5wcm90b3R5cGUuYWRkU3BsaXRFZGdlcz1mdW5jdGlvbih0KXt0aGlzLmFkZEVuZHBvaW50cygpLHRoaXMuYWRkQ29sbGFwc2VkTm9kZXMoKTtmb3IodmFyIGU9dGhpcy5pdGVyYXRvcigpLG49ZS5uZXh0KCk7ZS5oYXNOZXh0KCk7KXt2YXIgcj1lLm5leHQoKSxpPXRoaXMuY3JlYXRlU3BsaXRFZGdlKG4scik7dC5hZGQoaSksbj1yfX0scHAucHJvdG90eXBlLmZpbmRDb2xsYXBzZUluZGV4PWZ1bmN0aW9uKHQsZSxuKXtpZighdC5jb29yZC5lcXVhbHMyRChlLmNvb3JkKSlyZXR1cm4hMTt2YXIgcj1lLnNlZ21lbnRJbmRleC10LnNlZ21lbnRJbmRleDtyZXR1cm4gZS5pc0ludGVyaW9yKCl8fHItLSwxPT09ciYmKG5bMF09dC5zZWdtZW50SW5kZXgrMSwhMCl9LHBwLnByb3RvdHlwZS5maW5kQ29sbGFwc2VzRnJvbUluc2VydGVkTm9kZXM9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPW5ldyBBcnJheSgxKS5maWxsKG51bGwpLG49dGhpcy5pdGVyYXRvcigpLHI9bi5uZXh0KCk7bi5oYXNOZXh0KCk7KXt2YXIgaT1uLm5leHQoKTt0aGlzLmZpbmRDb2xsYXBzZUluZGV4KHIsaSxlKSYmdC5hZGQobmV3IF9sKGVbMF0pKSxyPWl9fSxwcC5wcm90b3R5cGUuZ2V0RWRnZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9lZGdlfSxwcC5wcm90b3R5cGUuYWRkRW5kcG9pbnRzPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fZWRnZS5zaXplKCktMTt0aGlzLmFkZCh0aGlzLl9lZGdlLmdldENvb3JkaW5hdGUoMCksMCksdGhpcy5hZGQodGhpcy5fZWRnZS5nZXRDb29yZGluYXRlKHQpLHQpfSxwcC5wcm90b3R5cGUuY3JlYXRlU3BsaXRFZGdlPWZ1bmN0aW9uKHQsZSl7dmFyIG49ZS5zZWdtZW50SW5kZXgtdC5zZWdtZW50SW5kZXgrMixyPXRoaXMuX2VkZ2UuZ2V0Q29vcmRpbmF0ZShlLnNlZ21lbnRJbmRleCksaT1lLmlzSW50ZXJpb3IoKXx8IWUuY29vcmQuZXF1YWxzMkQocik7aXx8bi0tO3ZhciBvPW5ldyBBcnJheShuKS5maWxsKG51bGwpLHM9MDtvW3MrK109bmV3IHVsKHQuY29vcmQpO2Zvcih2YXIgYT10LnNlZ21lbnRJbmRleCsxO2E8PWUuc2VnbWVudEluZGV4O2ErKylvW3MrK109dGhpcy5fZWRnZS5nZXRDb29yZGluYXRlKGEpO3JldHVybiBpJiYob1tzXT1uZXcgdWwoZS5jb29yZCkpLG5ldyB5cChvLHRoaXMuX2VkZ2UuZ2V0RGF0YSgpKX0scHAucHJvdG90eXBlLmFkZD1mdW5jdGlvbih0LGUpe3ZhciBuPW5ldyBocCh0aGlzLl9lZGdlLHQsZSx0aGlzLl9lZGdlLmdldFNlZ21lbnRPY3RhbnQoZSkpLHI9dGhpcy5fbm9kZU1hcC5nZXQobik7cmV0dXJuIG51bGwhPT1yPyhxbC5pc1RydWUoci5jb29yZC5lcXVhbHMyRCh0KSwiRm91bmQgZXF1YWwgbm9kZXMgd2l0aCBkaWZmZXJlbnQgY29vcmRpbmF0ZXMiKSxyKToodGhpcy5fbm9kZU1hcC5wdXQobixuKSxuKX0scHAucHJvdG90eXBlLmNoZWNrU3BsaXRFZGdlc0NvcnJlY3RuZXNzPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX2VkZ2UuZ2V0Q29vcmRpbmF0ZXMoKSxuPXQuZ2V0KDApLmdldENvb3JkaW5hdGUoMCk7aWYoIW4uZXF1YWxzMkQoZVswXSkpdGhyb3cgbmV3IGtsKCJiYWQgc3BsaXQgZWRnZSBzdGFydCBwb2ludCBhdCAiK24pO3ZhciByPXQuZ2V0KHQuc2l6ZSgpLTEpLmdldENvb3JkaW5hdGVzKCksaT1yW3IubGVuZ3RoLTFdO2lmKCFpLmVxdWFsczJEKGVbZS5sZW5ndGgtMV0pKXRocm93IG5ldyBrbCgiYmFkIHNwbGl0IGVkZ2UgZW5kIHBvaW50IGF0ICIraSl9LHBwLnByb3RvdHlwZS5pbnRlcmZhY2VzXz1mdW5jdGlvbigpe3JldHVybltdfSxwcC5wcm90b3R5cGUuZ2V0Q2xhc3M9ZnVuY3Rpb24oKXtyZXR1cm4gcHB9O3ZhciBmcD1mdW5jdGlvbigpe307ZnAucHJvdG90eXBlLmludGVyZmFjZXNfPWZ1bmN0aW9uKCl7cmV0dXJuW119LGZwLnByb3RvdHlwZS5nZXRDbGFzcz1mdW5jdGlvbigpe3JldHVybiBmcH0sZnAub2N0YW50PWZ1bmN0aW9uKCl7aWYoIm51bWJlciI9PXR5cGVvZiBhcmd1bWVudHNbMF0mJiJudW1iZXIiPT10eXBlb2YgYXJndW1lbnRzWzFdKXt2YXIgdD1hcmd1bWVudHNbMF0sZT1hcmd1bWVudHNbMV07aWYoMD09PXQmJjA9PT1lKXRocm93IG5ldyBlbCgiQ2Fubm90IGNvbXB1dGUgdGhlIG9jdGFudCBmb3IgcG9pbnQgKCAiK3QrIiwgIitlKyIgKSIpO3ZhciBuPU1hdGguYWJzKHQpLHI9TWF0aC5hYnMoZSk7cmV0dXJuIHQ+PTA/ZT49MD9uPj1yPzA6MTpuPj1yPzc6NjplPj0wP24+PXI/MzoyOm4+PXI/NDo1fWlmKGFyZ3VtZW50c1swXWluc3RhbmNlb2YgdWwmJmFyZ3VtZW50c1sxXWluc3RhbmNlb2YgdWwpe3ZhciBpPWFyZ3VtZW50c1swXSxvPWFyZ3VtZW50c1sxXSxzPW8ueC1pLngsYT1vLnktaS55O2lmKDA9PT1zJiYwPT09YSl0aHJvdyBuZXcgZWwoIkNhbm5vdCBjb21wdXRlIHRoZSBvY3RhbnQgZm9yIHR3byBpZGVudGljYWwgcG9pbnRzICIraSk7cmV0dXJuIGZwLm9jdGFudChzLGEpfX07dmFyIGdwPWZ1bmN0aW9uKCl7fTtncC5wcm90b3R5cGUuZ2V0Q29vcmRpbmF0ZXM9ZnVuY3Rpb24oKXt9LGdwLnByb3RvdHlwZS5zaXplPWZ1bmN0aW9uKCl7fSxncC5wcm90b3R5cGUuZ2V0Q29vcmRpbmF0ZT1mdW5jdGlvbih0KXt9LGdwLnByb3RvdHlwZS5pc0Nsb3NlZD1mdW5jdGlvbigpe30sZ3AucHJvdG90eXBlLnNldERhdGE9ZnVuY3Rpb24odCl7fSxncC5wcm90b3R5cGUuZ2V0RGF0YT1mdW5jdGlvbigpe30sZ3AucHJvdG90eXBlLmludGVyZmFjZXNfPWZ1bmN0aW9uKCl7cmV0dXJuW119LGdwLnByb3RvdHlwZS5nZXRDbGFzcz1mdW5jdGlvbigpe3JldHVybiBncH07dmFyIGRwPWZ1bmN0aW9uKCl7fTtkcC5wcm90b3R5cGUuYWRkSW50ZXJzZWN0aW9uPWZ1bmN0aW9uKHQsZSl7fSxkcC5wcm90b3R5cGUuaW50ZXJmYWNlc189ZnVuY3Rpb24oKXtyZXR1cm5bZ3BdfSxkcC5wcm90b3R5cGUuZ2V0Q2xhc3M9ZnVuY3Rpb24oKXtyZXR1cm4gZHB9O3ZhciB5cD1mdW5jdGlvbigpe3RoaXMuX25vZGVMaXN0PW5ldyBwcCh0aGlzKSx0aGlzLl9wdHM9bnVsbCx0aGlzLl9kYXRhPW51bGw7dmFyIHQ9YXJndW1lbnRzWzBdLGU9YXJndW1lbnRzWzFdO3RoaXMuX3B0cz10LHRoaXMuX2RhdGE9ZX07eXAucHJvdG90eXBlLmdldENvb3JkaW5hdGVzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3B0c30seXAucHJvdG90eXBlLnNpemU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcHRzLmxlbmd0aH0seXAucHJvdG90eXBlLmdldENvb3JkaW5hdGU9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX3B0c1t0XX0seXAucHJvdG90eXBlLmlzQ2xvc2VkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3B0c1swXS5lcXVhbHModGhpcy5fcHRzW3RoaXMuX3B0cy5sZW5ndGgtMV0pfSx5cC5wcm90b3R5cGUuZ2V0U2VnbWVudE9jdGFudD1mdW5jdGlvbih0KXtyZXR1cm4gdD09PXRoaXMuX3B0cy5sZW5ndGgtMT8tMTp0aGlzLnNhZmVPY3RhbnQodGhpcy5nZXRDb29yZGluYXRlKHQpLHRoaXMuZ2V0Q29vcmRpbmF0ZSh0KzEpKX0seXAucHJvdG90eXBlLnNldERhdGE9ZnVuY3Rpb24odCl7dGhpcy5fZGF0YT10fSx5cC5wcm90b3R5cGUuc2FmZU9jdGFudD1mdW5jdGlvbih0LGUpe3JldHVybiB0LmVxdWFsczJEKGUpPzA6ZnAub2N0YW50KHQsZSl9LHlwLnByb3RvdHlwZS5nZXREYXRhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RhdGF9LHlwLnByb3RvdHlwZS5hZGRJbnRlcnNlY3Rpb249ZnVuY3Rpb24oKXtpZigyPT09YXJndW1lbnRzLmxlbmd0aCl7dmFyIHQ9YXJndW1lbnRzWzBdLGU9YXJndW1lbnRzWzFdO3RoaXMuYWRkSW50ZXJzZWN0aW9uTm9kZSh0LGUpfWVsc2UgaWYoND09PWFyZ3VtZW50cy5sZW5ndGgpe3ZhciBuPWFyZ3VtZW50c1swXSxyPWFyZ3VtZW50c1sxXSxpPWFyZ3VtZW50c1szXSxvPW5ldyB1bChuLmdldEludGVyc2VjdGlvbihpKSk7dGhpcy5hZGRJbnRlcnNlY3Rpb24obyxyKX19LHlwLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiBGbC50b0xpbmVTdHJpbmcobmV3IGxoKHRoaXMuX3B0cykpfSx5cC5wcm90b3R5cGUuZ2V0Tm9kZUxpc3Q9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbm9kZUxpc3R9LHlwLnByb3RvdHlwZS5hZGRJbnRlcnNlY3Rpb25Ob2RlPWZ1bmN0aW9uKHQsZSl7dmFyIG49ZSxyPW4rMTtpZihyPHRoaXMuX3B0cy5sZW5ndGgpe3ZhciBpPXRoaXMuX3B0c1tyXTt0LmVxdWFsczJEKGkpJiYobj1yKX1yZXR1cm4gdGhpcy5fbm9kZUxpc3QuYWRkKHQsbil9LHlwLnByb3RvdHlwZS5hZGRJbnRlcnNlY3Rpb25zPWZ1bmN0aW9uKHQsZSxuKXtmb3IodmFyIHI9MDtyPHQuZ2V0SW50ZXJzZWN0aW9uTnVtKCk7cisrKXRoaXMuYWRkSW50ZXJzZWN0aW9uKHQsZSxuLHIpfSx5cC5wcm90b3R5cGUuaW50ZXJmYWNlc189ZnVuY3Rpb24oKXtyZXR1cm5bZHBdfSx5cC5wcm90b3R5cGUuZ2V0Q2xhc3M9ZnVuY3Rpb24oKXtyZXR1cm4geXB9LHlwLmdldE5vZGVkU3Vic3RyaW5ncz1mdW5jdGlvbigpe2lmKDE9PT1hcmd1bWVudHMubGVuZ3RoKXt2YXIgdD1hcmd1bWVudHNbMF0sZT1uZXcgbGM7cmV0dXJuIHlwLmdldE5vZGVkU3Vic3RyaW5ncyh0LGUpLGV9aWYoMj09PWFyZ3VtZW50cy5sZW5ndGgpZm9yKHZhciBuPWFyZ3VtZW50c1swXSxyPWFyZ3VtZW50c1sxXSxpPW4uaXRlcmF0b3IoKTtpLmhhc05leHQoKTspe3ZhciBvPWkubmV4dCgpO28uZ2V0Tm9kZUxpc3QoKS5hZGRTcGxpdEVkZ2VzKHIpfX07dmFyIHZwPWZ1bmN0aW9uKCl7aWYodGhpcy5wMD1udWxsLHRoaXMucDE9bnVsbCwwPT09YXJndW1lbnRzLmxlbmd0aCl0aGlzLnAwPW5ldyB1bCx0aGlzLnAxPW5ldyB1bDtlbHNlIGlmKDE9PT1hcmd1bWVudHMubGVuZ3RoKXt2YXIgdD1hcmd1bWVudHNbMF07dGhpcy5wMD1uZXcgdWwodC5wMCksdGhpcy5wMT1uZXcgdWwodC5wMSl9ZWxzZSBpZigyPT09YXJndW1lbnRzLmxlbmd0aCl0aGlzLnAwPWFyZ3VtZW50c1swXSx0aGlzLnAxPWFyZ3VtZW50c1sxXTtlbHNlIGlmKDQ9PT1hcmd1bWVudHMubGVuZ3RoKXt2YXIgZT1hcmd1bWVudHNbMF0sbj1hcmd1bWVudHNbMV0scj1hcmd1bWVudHNbMl0saT1hcmd1bWVudHNbM107dGhpcy5wMD1uZXcgdWwoZSxuKSx0aGlzLnAxPW5ldyB1bChyLGkpfX0sX3A9e3NlcmlhbFZlcnNpb25VSUQ6e2NvbmZpZ3VyYWJsZTohMH19O3ZwLnByb3RvdHlwZS5taW5YPWZ1bmN0aW9uKCl7cmV0dXJuIE1hdGgubWluKHRoaXMucDAueCx0aGlzLnAxLngpfSx2cC5wcm90b3R5cGUub3JpZW50YXRpb25JbmRleD1mdW5jdGlvbigpe2lmKGFyZ3VtZW50c1swXWluc3RhbmNlb2YgdnApe3ZhciB0PWFyZ3VtZW50c1swXSxlPVhsLm9yaWVudGF0aW9uSW5kZXgodGhpcy5wMCx0aGlzLnAxLHQucDApLG49WGwub3JpZW50YXRpb25JbmRleCh0aGlzLnAwLHRoaXMucDEsdC5wMSk7cmV0dXJuIGU+PTAmJm4+PTB8fGU8PTAmJm48PTA/TWF0aC5tYXgoZSxuKTowfWlmKGFyZ3VtZW50c1swXWluc3RhbmNlb2YgdWwpe3ZhciByPWFyZ3VtZW50c1swXTtyZXR1cm4gWGwub3JpZW50YXRpb25JbmRleCh0aGlzLnAwLHRoaXMucDEscil9fSx2cC5wcm90b3R5cGUudG9HZW9tZXRyeT1mdW5jdGlvbih0KXtyZXR1cm4gdC5jcmVhdGVMaW5lU3RyaW5nKFt0aGlzLnAwLHRoaXMucDFdKX0sdnAucHJvdG90eXBlLmlzVmVydGljYWw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wMC54PT09dGhpcy5wMS54fSx2cC5wcm90b3R5cGUuZXF1YWxzPWZ1bmN0aW9uKHQpe2lmKCEodCBpbnN0YW5jZW9mIHZwKSlyZXR1cm4hMTt2YXIgZT10O3JldHVybiB0aGlzLnAwLmVxdWFscyhlLnAwKSYmdGhpcy5wMS5lcXVhbHMoZS5wMSl9LHZwLnByb3RvdHlwZS5pbnRlcnNlY3Rpb249ZnVuY3Rpb24odCl7dmFyIGU9bmV3IGpsO3JldHVybiBlLmNvbXB1dGVJbnRlcnNlY3Rpb24odGhpcy5wMCx0aGlzLnAxLHQucDAsdC5wMSksZS5oYXNJbnRlcnNlY3Rpb24oKT9lLmdldEludGVyc2VjdGlvbigwKTpudWxsfSx2cC5wcm90b3R5cGUucHJvamVjdD1mdW5jdGlvbigpe2lmKGFyZ3VtZW50c1swXWluc3RhbmNlb2YgdWwpe3ZhciB0PWFyZ3VtZW50c1swXTtpZih0LmVxdWFscyh0aGlzLnAwKXx8dC5lcXVhbHModGhpcy5wMSkpcmV0dXJuIG5ldyB1bCh0KTt2YXIgZT10aGlzLnByb2plY3Rpb25GYWN0b3IodCksbj1uZXcgdWw7cmV0dXJuIG4ueD10aGlzLnAwLngrZSoodGhpcy5wMS54LXRoaXMucDAueCksbi55PXRoaXMucDAueStlKih0aGlzLnAxLnktdGhpcy5wMC55KSxufWlmKGFyZ3VtZW50c1swXWluc3RhbmNlb2YgdnApe3ZhciByPWFyZ3VtZW50c1swXSxpPXRoaXMucHJvamVjdGlvbkZhY3RvcihyLnAwKSxvPXRoaXMucHJvamVjdGlvbkZhY3RvcihyLnAxKTtpZihpPj0xJiZvPj0xKXJldHVybiBudWxsO2lmKGk8PTAmJm88PTApcmV0dXJuIG51bGw7dmFyIHM9dGhpcy5wcm9qZWN0KHIucDApO2k8MCYmKHM9dGhpcy5wMCksaT4xJiYocz10aGlzLnAxKTt2YXIgYT10aGlzLnByb2plY3Qoci5wMSk7cmV0dXJuIG88MCYmKGE9dGhpcy5wMCksbz4xJiYoYT10aGlzLnAxKSxuZXcgdnAocyxhKX19LHZwLnByb3RvdHlwZS5ub3JtYWxpemU9ZnVuY3Rpb24oKXt0aGlzLnAxLmNvbXBhcmVUbyh0aGlzLnAwKTwwJiZ0aGlzLnJldmVyc2UoKX0sdnAucHJvdG90eXBlLmFuZ2xlPWZ1bmN0aW9uKCl7cmV0dXJuIE1hdGguYXRhbjIodGhpcy5wMS55LXRoaXMucDAueSx0aGlzLnAxLngtdGhpcy5wMC54KX0sdnAucHJvdG90eXBlLmdldENvb3JkaW5hdGU9ZnVuY3Rpb24odCl7cmV0dXJuIDA9PT10P3RoaXMucDA6dGhpcy5wMX0sdnAucHJvdG90eXBlLmRpc3RhbmNlUGVycGVuZGljdWxhcj1mdW5jdGlvbih0KXtyZXR1cm4gWGwuZGlzdGFuY2VQb2ludExpbmVQZXJwZW5kaWN1bGFyKHQsdGhpcy5wMCx0aGlzLnAxKX0sdnAucHJvdG90eXBlLm1pblk9ZnVuY3Rpb24oKXtyZXR1cm4gTWF0aC5taW4odGhpcy5wMC55LHRoaXMucDEueSl9LHZwLnByb3RvdHlwZS5taWRQb2ludD1mdW5jdGlvbigpe3JldHVybiB2cC5taWRQb2ludCh0aGlzLnAwLHRoaXMucDEpfSx2cC5wcm90b3R5cGUucHJvamVjdGlvbkZhY3Rvcj1mdW5jdGlvbih0KXtpZih0LmVxdWFscyh0aGlzLnAwKSlyZXR1cm4gMDtpZih0LmVxdWFscyh0aGlzLnAxKSlyZXR1cm4gMTt2YXIgZT10aGlzLnAxLngtdGhpcy5wMC54LG49dGhpcy5wMS55LXRoaXMucDAueSxyPWUqZStuKm47cmV0dXJuIHI8PTA/bmwuTmFOOigodC54LXRoaXMucDAueCkqZSsodC55LXRoaXMucDAueSkqbikvcn0sdnAucHJvdG90eXBlLmNsb3Nlc3RQb2ludHM9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5pbnRlcnNlY3Rpb24odCk7aWYobnVsbCE9PWUpcmV0dXJuW2UsZV07dmFyIG49bmV3IEFycmF5KDIpLmZpbGwobnVsbCkscj1ubC5NQVhfVkFMVUUsaT1udWxsLG89dGhpcy5jbG9zZXN0UG9pbnQodC5wMCk7cj1vLmRpc3RhbmNlKHQucDApLG5bMF09byxuWzFdPXQucDA7dmFyIHM9dGhpcy5jbG9zZXN0UG9pbnQodC5wMSk7KGk9cy5kaXN0YW5jZSh0LnAxKSk8ciYmKHI9aSxuWzBdPXMsblsxXT10LnAxKTt2YXIgYT10LmNsb3Nlc3RQb2ludCh0aGlzLnAwKTsoaT1hLmRpc3RhbmNlKHRoaXMucDApKTxyJiYocj1pLG5bMF09dGhpcy5wMCxuWzFdPWEpO3ZhciB1PXQuY2xvc2VzdFBvaW50KHRoaXMucDEpO3JldHVybihpPXUuZGlzdGFuY2UodGhpcy5wMSkpPHImJihyPWksblswXT10aGlzLnAxLG5bMV09dSksbn0sdnAucHJvdG90eXBlLmNsb3Nlc3RQb2ludD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLnByb2plY3Rpb25GYWN0b3IodCk7cmV0dXJuIGU+MCYmZTwxP3RoaXMucHJvamVjdCh0KTp0aGlzLnAwLmRpc3RhbmNlKHQpPHRoaXMucDEuZGlzdGFuY2UodCk/dGhpcy5wMDp0aGlzLnAxfSx2cC5wcm90b3R5cGUubWF4WD1mdW5jdGlvbigpe3JldHVybiBNYXRoLm1heCh0aGlzLnAwLngsdGhpcy5wMS54KX0sdnAucHJvdG90eXBlLmdldExlbmd0aD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnAwLmRpc3RhbmNlKHRoaXMucDEpfSx2cC5wcm90b3R5cGUuY29tcGFyZVRvPWZ1bmN0aW9uKHQpe3ZhciBlPXQsbj10aGlzLnAwLmNvbXBhcmVUbyhlLnAwKTtyZXR1cm4gMCE9PW4/bjp0aGlzLnAxLmNvbXBhcmVUbyhlLnAxKX0sdnAucHJvdG90eXBlLnJldmVyc2U9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnAwO3RoaXMucDA9dGhpcy5wMSx0aGlzLnAxPXR9LHZwLnByb3RvdHlwZS5lcXVhbHNUb3BvPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnAwLmVxdWFscyh0LnAwKSYmKHRoaXMucDEuZXF1YWxzKHQucDEpfHx0aGlzLnAwLmVxdWFscyh0LnAxKSkmJnRoaXMucDEuZXF1YWxzKHQucDApfSx2cC5wcm90b3R5cGUubGluZUludGVyc2VjdGlvbj1mdW5jdGlvbih0KXt0cnl7cmV0dXJuIE1sLmludGVyc2VjdGlvbih0aGlzLnAwLHRoaXMucDEsdC5wMCx0LnAxKX1jYXRjaCh0KXtpZighKHQgaW5zdGFuY2VvZiBDbCkpdGhyb3cgdH1yZXR1cm4gbnVsbH0sdnAucHJvdG90eXBlLm1heFk9ZnVuY3Rpb24oKXtyZXR1cm4gTWF0aC5tYXgodGhpcy5wMC55LHRoaXMucDEueSl9LHZwLnByb3RvdHlwZS5wb2ludEFsb25nT2Zmc2V0PWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5wMC54K3QqKHRoaXMucDEueC10aGlzLnAwLngpLHI9dGhpcy5wMC55K3QqKHRoaXMucDEueS10aGlzLnAwLnkpLGk9dGhpcy5wMS54LXRoaXMucDAueCxvPXRoaXMucDEueS10aGlzLnAwLnkscz1NYXRoLnNxcnQoaSppK28qbyksYT0wLHU9MDtpZigwIT09ZSl7aWYoczw9MCl0aHJvdyBuZXcgRXJyb3IoIkNhbm5vdCBjb21wdXRlIG9mZnNldCBmcm9tIHplcm8tbGVuZ3RoIGxpbmUgc2VnbWVudCIpO2E9ZSppL3MsdT1lKm8vc31yZXR1cm4gbmV3IHVsKG4tdSxyK2EpfSx2cC5wcm90b3R5cGUuc2V0Q29vcmRpbmF0ZXM9ZnVuY3Rpb24oKXtpZigxPT09YXJndW1lbnRzLmxlbmd0aCl7dmFyIHQ9YXJndW1lbnRzWzBdO3RoaXMuc2V0Q29vcmRpbmF0ZXModC5wMCx0LnAxKX1lbHNlIGlmKDI9PT1hcmd1bWVudHMubGVuZ3RoKXt2YXIgZT1hcmd1bWVudHNbMF0sbj1hcmd1bWVudHNbMV07dGhpcy5wMC54PWUueCx0aGlzLnAwLnk9ZS55LHRoaXMucDEueD1uLngsdGhpcy5wMS55PW4ueX19LHZwLnByb3RvdHlwZS5zZWdtZW50RnJhY3Rpb249ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5wcm9qZWN0aW9uRmFjdG9yKHQpO3JldHVybiBlPDA/ZT0wOihlPjF8fG5sLmlzTmFOKGUpKSYmKGU9MSksZX0sdnAucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIkxJTkVTVFJJTkcoICIrdGhpcy5wMC54KyIgIit0aGlzLnAwLnkrIiwgIit0aGlzLnAxLngrIiAiK3RoaXMucDEueSsiKSJ9LHZwLnByb3RvdHlwZS5pc0hvcml6b250YWw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wMC55PT09dGhpcy5wMS55fSx2cC5wcm90b3R5cGUuZGlzdGFuY2U9ZnVuY3Rpb24oKXtpZihhcmd1bWVudHNbMF1pbnN0YW5jZW9mIHZwKXt2YXIgdD1hcmd1bWVudHNbMF07cmV0dXJuIFhsLmRpc3RhbmNlTGluZUxpbmUodGhpcy5wMCx0aGlzLnAxLHQucDAsdC5wMSl9aWYoYXJndW1lbnRzWzBdaW5zdGFuY2VvZiB1bCl7dmFyIGU9YXJndW1lbnRzWzBdO3JldHVybiBYbC5kaXN0YW5jZVBvaW50TGluZShlLHRoaXMucDAsdGhpcy5wMSl9fSx2cC5wcm90b3R5cGUucG9pbnRBbG9uZz1mdW5jdGlvbih0KXt2YXIgZT1uZXcgdWw7cmV0dXJuIGUueD10aGlzLnAwLngrdCoodGhpcy5wMS54LXRoaXMucDAueCksZS55PXRoaXMucDAueSt0Kih0aGlzLnAxLnktdGhpcy5wMC55KSxlfSx2cC5wcm90b3R5cGUuaGFzaENvZGU9ZnVuY3Rpb24oKXt2YXIgdD1ubC5kb3VibGVUb0xvbmdCaXRzKHRoaXMucDAueCk7dF49MzEqbmwuZG91YmxlVG9Mb25nQml0cyh0aGlzLnAwLnkpO3ZhciBlPU1hdGgudHJ1bmModCleTWF0aC50cnVuYyh0Pj4zMiksbj1ubC5kb3VibGVUb0xvbmdCaXRzKHRoaXMucDEueCk7cmV0dXJuIG5ePTMxKm5sLmRvdWJsZVRvTG9uZ0JpdHModGhpcy5wMS55KSxlXihNYXRoLnRydW5jKG4pXk1hdGgudHJ1bmMobj4+MzIpKX0sdnAucHJvdG90eXBlLmludGVyZmFjZXNfPWZ1bmN0aW9uKCl7cmV0dXJuW2lsLGFsXX0sdnAucHJvdG90eXBlLmdldENsYXNzPWZ1bmN0aW9uKCl7cmV0dXJuIHZwfSx2cC5taWRQb2ludD1mdW5jdGlvbih0LGUpe3JldHVybiBuZXcgdWwoKHQueCtlLngpLzIsKHQueStlLnkpLzIpfSxfcC5zZXJpYWxWZXJzaW9uVUlELmdldD1mdW5jdGlvbigpe3JldHVybiAweDJkMjE3MjEzNWY0MTFjMDB9LE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHZwLF9wKTt2YXIgbXA9ZnVuY3Rpb24oKXt0aGlzLnRlbXBFbnYxPW5ldyBMbCx0aGlzLnRlbXBFbnYyPW5ldyBMbCx0aGlzLl9vdmVybGFwU2VnMT1uZXcgdnAsdGhpcy5fb3ZlcmxhcFNlZzI9bmV3IHZwfTttcC5wcm90b3R5cGUub3ZlcmxhcD1mdW5jdGlvbigpe2lmKDI9PT1hcmd1bWVudHMubGVuZ3RoKTtlbHNlIGlmKDQ9PT1hcmd1bWVudHMubGVuZ3RoKXt2YXIgdD1hcmd1bWVudHNbMF0sZT1hcmd1bWVudHNbMV0sbj1hcmd1bWVudHNbMl0scj1hcmd1bWVudHNbM107dC5nZXRMaW5lU2VnbWVudChlLHRoaXMuX292ZXJsYXBTZWcxKSxuLmdldExpbmVTZWdtZW50KHIsdGhpcy5fb3ZlcmxhcFNlZzIpLHRoaXMub3ZlcmxhcCh0aGlzLl9vdmVybGFwU2VnMSx0aGlzLl9vdmVybGFwU2VnMil9fSxtcC5wcm90b3R5cGUuaW50ZXJmYWNlc189ZnVuY3Rpb24oKXtyZXR1cm5bXX0sbXAucHJvdG90eXBlLmdldENsYXNzPWZ1bmN0aW9uKCl7cmV0dXJuIG1wfTt2YXIgeHA9ZnVuY3Rpb24oKXt0aGlzLl9wdHM9bnVsbCx0aGlzLl9zdGFydD1udWxsLHRoaXMuX2VuZD1udWxsLHRoaXMuX2Vudj1udWxsLHRoaXMuX2NvbnRleHQ9bnVsbCx0aGlzLl9pZD1udWxsO3ZhciB0PWFyZ3VtZW50c1swXSxlPWFyZ3VtZW50c1sxXSxuPWFyZ3VtZW50c1syXSxyPWFyZ3VtZW50c1szXTt0aGlzLl9wdHM9dCx0aGlzLl9zdGFydD1lLHRoaXMuX2VuZD1uLHRoaXMuX2NvbnRleHQ9cn07eHAucHJvdG90eXBlLmdldExpbmVTZWdtZW50PWZ1bmN0aW9uKHQsZSl7ZS5wMD10aGlzLl9wdHNbdF0sZS5wMT10aGlzLl9wdHNbdCsxXX0seHAucHJvdG90eXBlLmNvbXB1dGVTZWxlY3Q9ZnVuY3Rpb24odCxlLG4scil7dmFyIGk9dGhpcy5fcHRzW2VdLG89dGhpcy5fcHRzW25dO2lmKHIudGVtcEVudjEuaW5pdChpLG8pLG4tZT09MSlyZXR1cm4gci5zZWxlY3QodGhpcyxlKSxudWxsO2lmKCF0LmludGVyc2VjdHMoci50ZW1wRW52MSkpcmV0dXJuIG51bGw7dmFyIHM9TWF0aC50cnVuYygoZStuKS8yKTtlPHMmJnRoaXMuY29tcHV0ZVNlbGVjdCh0LGUscyxyKSxzPG4mJnRoaXMuY29tcHV0ZVNlbGVjdCh0LHMsbixyKX0seHAucHJvdG90eXBlLmdldENvb3JkaW5hdGVzPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PW5ldyBBcnJheSh0aGlzLl9lbmQtdGhpcy5fc3RhcnQrMSkuZmlsbChudWxsKSxlPTAsbj10aGlzLl9zdGFydDtuPD10aGlzLl9lbmQ7bisrKXRbZSsrXT10aGlzLl9wdHNbbl07cmV0dXJuIHR9LHhwLnByb3RvdHlwZS5jb21wdXRlT3ZlcmxhcHM9ZnVuY3Rpb24odCxlKXt0aGlzLmNvbXB1dGVPdmVybGFwc0ludGVybmFsKHRoaXMuX3N0YXJ0LHRoaXMuX2VuZCx0LHQuX3N0YXJ0LHQuX2VuZCxlKX0seHAucHJvdG90eXBlLnNldElkPWZ1bmN0aW9uKHQpe3RoaXMuX2lkPXR9LHhwLnByb3RvdHlwZS5zZWxlY3Q9ZnVuY3Rpb24odCxlKXt0aGlzLmNvbXB1dGVTZWxlY3QodCx0aGlzLl9zdGFydCx0aGlzLl9lbmQsZSl9LHhwLnByb3RvdHlwZS5nZXRFbnZlbG9wZT1mdW5jdGlvbigpe2lmKG51bGw9PT10aGlzLl9lbnYpe3ZhciB0PXRoaXMuX3B0c1t0aGlzLl9zdGFydF0sZT10aGlzLl9wdHNbdGhpcy5fZW5kXTt0aGlzLl9lbnY9bmV3IExsKHQsZSl9cmV0dXJuIHRoaXMuX2Vudn0seHAucHJvdG90eXBlLmdldEVuZEluZGV4PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2VuZH0seHAucHJvdG90eXBlLmdldFN0YXJ0SW5kZXg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RhcnR9LHhwLnByb3RvdHlwZS5nZXRDb250ZXh0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NvbnRleHR9LHhwLnByb3RvdHlwZS5nZXRJZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9pZH0seHAucHJvdG90eXBlLmNvbXB1dGVPdmVybGFwc0ludGVybmFsPWZ1bmN0aW9uKHQsZSxuLHIsaSxvKXt2YXIgcz10aGlzLl9wdHNbdF0sYT10aGlzLl9wdHNbZV0sdT1uLl9wdHNbcl0sbD1uLl9wdHNbaV07aWYoZS10PT0xJiZpLXI9PTEpcmV0dXJuIG8ub3ZlcmxhcCh0aGlzLHQsbixyKSxudWxsO2lmKG8udGVtcEVudjEuaW5pdChzLGEpLG8udGVtcEVudjIuaW5pdCh1LGwpLCFvLnRlbXBFbnYxLmludGVyc2VjdHMoby50ZW1wRW52MikpcmV0dXJuIG51bGw7dmFyIGM9TWF0aC50cnVuYygodCtlKS8yKSxoPU1hdGgudHJ1bmMoKHIraSkvMik7dDxjJiYocjxoJiZ0aGlzLmNvbXB1dGVPdmVybGFwc0ludGVybmFsKHQsYyxuLHIsaCxvKSxoPGkmJnRoaXMuY29tcHV0ZU92ZXJsYXBzSW50ZXJuYWwodCxjLG4saCxpLG8pKSxjPGUmJihyPGgmJnRoaXMuY29tcHV0ZU92ZXJsYXBzSW50ZXJuYWwoYyxlLG4scixoLG8pLGg8aSYmdGhpcy5jb21wdXRlT3ZlcmxhcHNJbnRlcm5hbChjLGUsbixoLGksbykpfSx4cC5wcm90b3R5cGUuaW50ZXJmYWNlc189ZnVuY3Rpb24oKXtyZXR1cm5bXX0seHAucHJvdG90eXBlLmdldENsYXNzPWZ1bmN0aW9uKCl7cmV0dXJuIHhwfTt2YXIgRXA9ZnVuY3Rpb24oKXt9O0VwLnByb3RvdHlwZS5pbnRlcmZhY2VzXz1mdW5jdGlvbigpe3JldHVybltdfSxFcC5wcm90b3R5cGUuZ2V0Q2xhc3M9ZnVuY3Rpb24oKXtyZXR1cm4gRXB9LEVwLmdldENoYWluU3RhcnRJbmRpY2VzPWZ1bmN0aW9uKHQpe3ZhciBlPTAsbj1uZXcgbGM7bi5hZGQobmV3IF9sKGUpKTtkb3t2YXIgcj1FcC5maW5kQ2hhaW5FbmQodCxlKTtuLmFkZChuZXcgX2wocikpLGU9cn13aGlsZShlPHQubGVuZ3RoLTEpO3JldHVybiBFcC50b0ludEFycmF5KG4pfSxFcC5maW5kQ2hhaW5FbmQ9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49ZTtuPHQubGVuZ3RoLTEmJnRbbl0uZXF1YWxzMkQodFtuKzFdKTspbisrO2lmKG4+PXQubGVuZ3RoLTEpcmV0dXJuIHQubGVuZ3RoLTE7Zm9yKHZhciByPWpoLnF1YWRyYW50KHRbbl0sdFtuKzFdKSxpPWUrMTtpPHQubGVuZ3RoOyl7aWYoIXRbaS0xXS5lcXVhbHMyRCh0W2ldKSlpZihqaC5xdWFkcmFudCh0W2ktMV0sdFtpXSkhPT1yKWJyZWFrO2krK31yZXR1cm4gaS0xfSxFcC5nZXRDaGFpbnM9ZnVuY3Rpb24oKXtpZigxPT09YXJndW1lbnRzLmxlbmd0aCl7dmFyIHQ9YXJndW1lbnRzWzBdO3JldHVybiBFcC5nZXRDaGFpbnModCxudWxsKX1pZigyPT09YXJndW1lbnRzLmxlbmd0aCl7Zm9yKHZhciBlPWFyZ3VtZW50c1swXSxuPWFyZ3VtZW50c1sxXSxyPW5ldyBsYyxpPUVwLmdldENoYWluU3RhcnRJbmRpY2VzKGUpLG89MDtvPGkubGVuZ3RoLTE7bysrKXt2YXIgcz1uZXcgeHAoZSxpW29dLGlbbysxXSxuKTtyLmFkZChzKX1yZXR1cm4gcn19LEVwLnRvSW50QXJyYXk9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPW5ldyBBcnJheSh0LnNpemUoKSkuZmlsbChudWxsKSxuPTA7bjxlLmxlbmd0aDtuKyspZVtuXT10LmdldChuKS5pbnRWYWx1ZSgpO3JldHVybiBlfTt2YXIgYnA9ZnVuY3Rpb24oKXt9O2JwLnByb3RvdHlwZS5jb21wdXRlTm9kZXM9ZnVuY3Rpb24odCl7fSxicC5wcm90b3R5cGUuZ2V0Tm9kZWRTdWJzdHJpbmdzPWZ1bmN0aW9uKCl7fSxicC5wcm90b3R5cGUuaW50ZXJmYWNlc189ZnVuY3Rpb24oKXtyZXR1cm5bXX0sYnAucHJvdG90eXBlLmdldENsYXNzPWZ1bmN0aW9uKCl7cmV0dXJuIGJwfTt2YXIgd3A9ZnVuY3Rpb24oKXtpZih0aGlzLl9zZWdJbnQ9bnVsbCwwPT09YXJndW1lbnRzLmxlbmd0aCk7ZWxzZSBpZigxPT09YXJndW1lbnRzLmxlbmd0aCl7dmFyIHQ9YXJndW1lbnRzWzBdO3RoaXMuc2V0U2VnbWVudEludGVyc2VjdG9yKHQpfX07d3AucHJvdG90eXBlLnNldFNlZ21lbnRJbnRlcnNlY3Rvcj1mdW5jdGlvbih0KXt0aGlzLl9zZWdJbnQ9dH0sd3AucHJvdG90eXBlLmludGVyZmFjZXNfPWZ1bmN0aW9uKCl7cmV0dXJuW2JwXX0sd3AucHJvdG90eXBlLmdldENsYXNzPWZ1bmN0aW9uKCl7cmV0dXJuIHdwfTt2YXIgSXA9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlKXtlP3QuY2FsbCh0aGlzLGUpOnQuY2FsbCh0aGlzKSx0aGlzLl9tb25vQ2hhaW5zPW5ldyBsYyx0aGlzLl9pbmRleD1uZXcgdXAsdGhpcy5faWRDb3VudGVyPTAsdGhpcy5fbm9kZWRTZWdTdHJpbmdzPW51bGwsdGhpcy5fbk92ZXJsYXBzPTB9dCYmKGUuX19wcm90b19fPXQpLGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpLGUucHJvdG90eXBlLmNvbnN0cnVjdG9yPWU7dmFyIG49e1NlZ21lbnRPdmVybGFwQWN0aW9uOntjb25maWd1cmFibGU6ITB9fTtyZXR1cm4gZS5wcm90b3R5cGUuZ2V0TW9ub3RvbmVDaGFpbnM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbW9ub0NoYWluc30sZS5wcm90b3R5cGUuZ2V0Tm9kZWRTdWJzdHJpbmdzPWZ1bmN0aW9uKCl7cmV0dXJuIHlwLmdldE5vZGVkU3Vic3RyaW5ncyh0aGlzLl9ub2RlZFNlZ1N0cmluZ3MpfSxlLnByb3RvdHlwZS5nZXRJbmRleD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbmRleH0sZS5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10aGlzLG49RXAuZ2V0Q2hhaW5zKHQuZ2V0Q29vcmRpbmF0ZXMoKSx0KS5pdGVyYXRvcigpO24uaGFzTmV4dCgpOyl7dmFyIHI9bi5uZXh0KCk7ci5zZXRJZChlLl9pZENvdW50ZXIrKyksZS5faW5kZXguaW5zZXJ0KHIuZ2V0RW52ZWxvcGUoKSxyKSxlLl9tb25vQ2hhaW5zLmFkZChyKX19LGUucHJvdG90eXBlLmNvbXB1dGVOb2Rlcz1mdW5jdGlvbih0KXt0aGlzLl9ub2RlZFNlZ1N0cmluZ3M9dDtmb3IodmFyIGU9dC5pdGVyYXRvcigpO2UuaGFzTmV4dCgpOyl0aGlzLmFkZChlLm5leHQoKSk7dGhpcy5pbnRlcnNlY3RDaGFpbnMoKX0sZS5wcm90b3R5cGUuaW50ZXJzZWN0Q2hhaW5zPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PXRoaXMsZT1uZXcgTnAodGhpcy5fc2VnSW50KSxuPXRoaXMuX21vbm9DaGFpbnMuaXRlcmF0b3IoKTtuLmhhc05leHQoKTspZm9yKHZhciByPW4ubmV4dCgpLGk9dC5faW5kZXgucXVlcnkoci5nZXRFbnZlbG9wZSgpKS5pdGVyYXRvcigpO2kuaGFzTmV4dCgpOyl7dmFyIG89aS5uZXh0KCk7aWYoby5nZXRJZCgpPnIuZ2V0SWQoKSYmKHIuY29tcHV0ZU92ZXJsYXBzKG8sZSksdC5fbk92ZXJsYXBzKyspLHQuX3NlZ0ludC5pc0RvbmUoKSlyZXR1cm4gbnVsbH19LGUucHJvdG90eXBlLmludGVyZmFjZXNfPWZ1bmN0aW9uKCl7cmV0dXJuW119LGUucHJvdG90eXBlLmdldENsYXNzPWZ1bmN0aW9uKCl7cmV0dXJuIGV9LG4uU2VnbWVudE92ZXJsYXBBY3Rpb24uZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIE5wfSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLG4pLGV9KHdwKSxOcD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dC5jYWxsKHRoaXMpLHRoaXMuX3NpPW51bGw7dmFyIGU9YXJndW1lbnRzWzBdO3RoaXMuX3NpPWV9cmV0dXJuIHQmJihlLl9fcHJvdG9fXz10KSxlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSxlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1lLGUucHJvdG90eXBlLm92ZXJsYXA9ZnVuY3Rpb24oKXtpZig0IT09YXJndW1lbnRzLmxlbmd0aClyZXR1cm4gdC5wcm90b3R5cGUub3ZlcmxhcC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dmFyIGU9YXJndW1lbnRzWzBdLG49YXJndW1lbnRzWzFdLHI9YXJndW1lbnRzWzJdLGk9YXJndW1lbnRzWzNdLG89ZS5nZXRDb250ZXh0KCkscz1yLmdldENvbnRleHQoKTt0aGlzLl9zaS5wcm9jZXNzSW50ZXJzZWN0aW9ucyhvLG4scyxpKX0sZS5wcm90b3R5cGUuaW50ZXJmYWNlc189ZnVuY3Rpb24oKXtyZXR1cm5bXX0sZS5wcm90b3R5cGUuZ2V0Q2xhc3M9ZnVuY3Rpb24oKXtyZXR1cm4gZX0sZX0obXApLFNwPWZ1bmN0aW9uIHQoKXtpZih0aGlzLl9xdWFkcmFudFNlZ21lbnRzPXQuREVGQVVMVF9RVUFEUkFOVF9TRUdNRU5UUyx0aGlzLl9lbmRDYXBTdHlsZT10LkNBUF9ST1VORCx0aGlzLl9qb2luU3R5bGU9dC5KT0lOX1JPVU5ELHRoaXMuX21pdHJlTGltaXQ9dC5ERUZBVUxUX01JVFJFX0xJTUlULHRoaXMuX2lzU2luZ2xlU2lkZWQ9ITEsdGhpcy5fc2ltcGxpZnlGYWN0b3I9dC5ERUZBVUxUX1NJTVBMSUZZX0ZBQ1RPUiwwPT09YXJndW1lbnRzLmxlbmd0aCk7ZWxzZSBpZigxPT09YXJndW1lbnRzLmxlbmd0aCl7dmFyIGU9YXJndW1lbnRzWzBdO3RoaXMuc2V0UXVhZHJhbnRTZWdtZW50cyhlKX1lbHNlIGlmKDI9PT1hcmd1bWVudHMubGVuZ3RoKXt2YXIgbj1hcmd1bWVudHNbMF0scj1hcmd1bWVudHNbMV07dGhpcy5zZXRRdWFkcmFudFNlZ21lbnRzKG4pLHRoaXMuc2V0RW5kQ2FwU3R5bGUocil9ZWxzZSBpZig0PT09YXJndW1lbnRzLmxlbmd0aCl7dmFyIGk9YXJndW1lbnRzWzBdLG89YXJndW1lbnRzWzFdLHM9YXJndW1lbnRzWzJdLGE9YXJndW1lbnRzWzNdO3RoaXMuc2V0UXVhZHJhbnRTZWdtZW50cyhpKSx0aGlzLnNldEVuZENhcFN0eWxlKG8pLHRoaXMuc2V0Sm9pblN0eWxlKHMpLHRoaXMuc2V0TWl0cmVMaW1pdChhKX19LENwPXtDQVBfUk9VTkQ6e2NvbmZpZ3VyYWJsZTohMH0sQ0FQX0ZMQVQ6e2NvbmZpZ3VyYWJsZTohMH0sQ0FQX1NRVUFSRTp7Y29uZmlndXJhYmxlOiEwfSxKT0lOX1JPVU5EOntjb25maWd1cmFibGU6ITB9LEpPSU5fTUlUUkU6e2NvbmZpZ3VyYWJsZTohMH0sSk9JTl9CRVZFTDp7Y29uZmlndXJhYmxlOiEwfSxERUZBVUxUX1FVQURSQU5UX1NFR01FTlRTOntjb25maWd1cmFibGU6ITB9LERFRkFVTFRfTUlUUkVfTElNSVQ6e2NvbmZpZ3VyYWJsZTohMH0sREVGQVVMVF9TSU1QTElGWV9GQUNUT1I6e2NvbmZpZ3VyYWJsZTohMH19O1NwLnByb3RvdHlwZS5nZXRFbmRDYXBTdHlsZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9lbmRDYXBTdHlsZX0sU3AucHJvdG90eXBlLmlzU2luZ2xlU2lkZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faXNTaW5nbGVTaWRlZH0sU3AucHJvdG90eXBlLnNldFF1YWRyYW50U2VnbWVudHM9ZnVuY3Rpb24odCl7dGhpcy5fcXVhZHJhbnRTZWdtZW50cz10LDA9PT10aGlzLl9xdWFkcmFudFNlZ21lbnRzJiYodGhpcy5fam9pblN0eWxlPVNwLkpPSU5fQkVWRUwpLHRoaXMuX3F1YWRyYW50U2VnbWVudHM8MCYmKHRoaXMuX2pvaW5TdHlsZT1TcC5KT0lOX01JVFJFLHRoaXMuX21pdHJlTGltaXQ9TWF0aC5hYnModGhpcy5fcXVhZHJhbnRTZWdtZW50cykpLHQ8PTAmJih0aGlzLl9xdWFkcmFudFNlZ21lbnRzPTEpLHRoaXMuX2pvaW5TdHlsZSE9PVNwLkpPSU5fUk9VTkQmJih0aGlzLl9xdWFkcmFudFNlZ21lbnRzPVNwLkRFRkFVTFRfUVVBRFJBTlRfU0VHTUVOVFMpfSxTcC5wcm90b3R5cGUuZ2V0Sm9pblN0eWxlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2pvaW5TdHlsZX0sU3AucHJvdG90eXBlLnNldEpvaW5TdHlsZT1mdW5jdGlvbih0KXt0aGlzLl9qb2luU3R5bGU9dH0sU3AucHJvdG90eXBlLnNldFNpbXBsaWZ5RmFjdG9yPWZ1bmN0aW9uKHQpe3RoaXMuX3NpbXBsaWZ5RmFjdG9yPXQ8MD8wOnR9LFNwLnByb3RvdHlwZS5nZXRTaW1wbGlmeUZhY3Rvcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zaW1wbGlmeUZhY3Rvcn0sU3AucHJvdG90eXBlLmdldFF1YWRyYW50U2VnbWVudHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcXVhZHJhbnRTZWdtZW50c30sU3AucHJvdG90eXBlLnNldEVuZENhcFN0eWxlPWZ1bmN0aW9uKHQpe3RoaXMuX2VuZENhcFN0eWxlPXR9LFNwLnByb3RvdHlwZS5nZXRNaXRyZUxpbWl0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX21pdHJlTGltaXR9LFNwLnByb3RvdHlwZS5zZXRNaXRyZUxpbWl0PWZ1bmN0aW9uKHQpe3RoaXMuX21pdHJlTGltaXQ9dH0sU3AucHJvdG90eXBlLnNldFNpbmdsZVNpZGVkPWZ1bmN0aW9uKHQpe3RoaXMuX2lzU2luZ2xlU2lkZWQ9dH0sU3AucHJvdG90eXBlLmludGVyZmFjZXNfPWZ1bmN0aW9uKCl7cmV0dXJuW119LFNwLnByb3RvdHlwZS5nZXRDbGFzcz1mdW5jdGlvbigpe3JldHVybiBTcH0sU3AuYnVmZmVyRGlzdGFuY2VFcnJvcj1mdW5jdGlvbih0KXt2YXIgZT1NYXRoLlBJLzIvdDtyZXR1cm4gMS1NYXRoLmNvcyhlLzIpfSxDcC5DQVBfUk9VTkQuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIDF9LENwLkNBUF9GTEFULmdldD1mdW5jdGlvbigpe3JldHVybiAyfSxDcC5DQVBfU1FVQVJFLmdldD1mdW5jdGlvbigpe3JldHVybiAzfSxDcC5KT0lOX1JPVU5ELmdldD1mdW5jdGlvbigpe3JldHVybiAxfSxDcC5KT0lOX01JVFJFLmdldD1mdW5jdGlvbigpe3JldHVybiAyfSxDcC5KT0lOX0JFVkVMLmdldD1mdW5jdGlvbigpe3JldHVybiAzfSxDcC5ERUZBVUxUX1FVQURSQU5UX1NFR01FTlRTLmdldD1mdW5jdGlvbigpe3JldHVybiA4fSxDcC5ERUZBVUxUX01JVFJFX0xJTUlULmdldD1mdW5jdGlvbigpe3JldHVybiA1fSxDcC5ERUZBVUxUX1NJTVBMSUZZX0ZBQ1RPUi5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4uMDF9LE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKFNwLENwKTt2YXIgUHA9ZnVuY3Rpb24odCl7dGhpcy5fZGlzdGFuY2VUb2w9bnVsbCx0aGlzLl9pc0RlbGV0ZWQ9bnVsbCx0aGlzLl9hbmdsZU9yaWVudGF0aW9uPVhsLkNPVU5URVJDTE9DS1dJU0UsdGhpcy5faW5wdXRMaW5lPXR8fG51bGx9LE1wPXtJTklUOntjb25maWd1cmFibGU6ITB9LERFTEVURTp7Y29uZmlndXJhYmxlOiEwfSxLRUVQOntjb25maWd1cmFibGU6ITB9LE5VTV9QVFNfVE9fQ0hFQ0s6e2NvbmZpZ3VyYWJsZTohMH19O1BwLnByb3RvdHlwZS5pc0RlbGV0YWJsZT1mdW5jdGlvbih0LGUsbixyKXt2YXIgaT10aGlzLl9pbnB1dExpbmVbdF0sbz10aGlzLl9pbnB1dExpbmVbZV0scz10aGlzLl9pbnB1dExpbmVbbl07cmV0dXJuISF0aGlzLmlzQ29uY2F2ZShpLG8scykmJighIXRoaXMuaXNTaGFsbG93KGksbyxzLHIpJiZ0aGlzLmlzU2hhbGxvd1NhbXBsZWQoaSxvLHQsbixyKSl9LFBwLnByb3RvdHlwZS5kZWxldGVTaGFsbG93Q29uY2F2aXRpZXM9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpcyxlPTEsbj10aGlzLmZpbmROZXh0Tm9uRGVsZXRlZEluZGV4KGUpLHI9dGhpcy5maW5kTmV4dE5vbkRlbGV0ZWRJbmRleChuKSxpPSExO3I8dGhpcy5faW5wdXRMaW5lLmxlbmd0aDspe3ZhciBvPSExO3QuaXNEZWxldGFibGUoZSxuLHIsdC5fZGlzdGFuY2VUb2wpJiYodC5faXNEZWxldGVkW25dPVBwLkRFTEVURSxvPSEwLGk9ITApLGU9bz9yOm4sbj10LmZpbmROZXh0Tm9uRGVsZXRlZEluZGV4KGUpLHI9dC5maW5kTmV4dE5vbkRlbGV0ZWRJbmRleChuKX1yZXR1cm4gaX0sUHAucHJvdG90eXBlLmlzU2hhbGxvd0NvbmNhdml0eT1mdW5jdGlvbih0LGUsbixyKXtyZXR1cm4gWGwuY29tcHV0ZU9yaWVudGF0aW9uKHQsZSxuKT09PXRoaXMuX2FuZ2xlT3JpZW50YXRpb24mJlhsLmRpc3RhbmNlUG9pbnRMaW5lKGUsdCxuKTxyfSxQcC5wcm90b3R5cGUuaXNTaGFsbG93U2FtcGxlZD1mdW5jdGlvbih0LGUsbixyLGkpe3ZhciBvPU1hdGgudHJ1bmMoKHItbikvUHAuTlVNX1BUU19UT19DSEVDSyk7bzw9MCYmKG89MSk7Zm9yKHZhciBzPW47czxyO3MrPW8paWYoIXRoaXMuaXNTaGFsbG93KHQsZSx0aGlzLl9pbnB1dExpbmVbc10saSkpcmV0dXJuITE7cmV0dXJuITB9LFBwLnByb3RvdHlwZS5pc0NvbmNhdmU9ZnVuY3Rpb24odCxlLG4pe3ZhciByPVhsLmNvbXB1dGVPcmllbnRhdGlvbih0LGUsbik9PT10aGlzLl9hbmdsZU9yaWVudGF0aW9uO3JldHVybiByfSxQcC5wcm90b3R5cGUuc2ltcGxpZnk9ZnVuY3Rpb24odCl7dGhpcy5fZGlzdGFuY2VUb2w9TWF0aC5hYnModCksdDwwJiYodGhpcy5fYW5nbGVPcmllbnRhdGlvbj1YbC5DTE9DS1dJU0UpLHRoaXMuX2lzRGVsZXRlZD1uZXcgQXJyYXkodGhpcy5faW5wdXRMaW5lLmxlbmd0aCkuZmlsbChudWxsKTt2YXIgZT0hMTtkb3tlPXRoaXMuZGVsZXRlU2hhbGxvd0NvbmNhdml0aWVzKCl9d2hpbGUoZSk7cmV0dXJuIHRoaXMuY29sbGFwc2VMaW5lKCl9LFBwLnByb3RvdHlwZS5maW5kTmV4dE5vbkRlbGV0ZWRJbmRleD1mdW5jdGlvbih0KXtmb3IodmFyIGU9dCsxO2U8dGhpcy5faW5wdXRMaW5lLmxlbmd0aCYmdGhpcy5faXNEZWxldGVkW2VdPT09UHAuREVMRVRFOyllKys7cmV0dXJuIGV9LFBwLnByb3RvdHlwZS5pc1NoYWxsb3c9ZnVuY3Rpb24odCxlLG4scil7cmV0dXJuIFhsLmRpc3RhbmNlUG9pbnRMaW5lKGUsdCxuKTxyfSxQcC5wcm90b3R5cGUuY29sbGFwc2VMaW5lPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PW5ldyBoYyxlPTA7ZTx0aGlzLl9pbnB1dExpbmUubGVuZ3RoO2UrKyl0aGlzLl9pc0RlbGV0ZWRbZV0hPT1QcC5ERUxFVEUmJnQuYWRkKHRoaXMuX2lucHV0TGluZVtlXSk7cmV0dXJuIHQudG9Db29yZGluYXRlQXJyYXkoKX0sUHAucHJvdG90eXBlLmludGVyZmFjZXNfPWZ1bmN0aW9uKCl7cmV0dXJuW119LFBwLnByb3RvdHlwZS5nZXRDbGFzcz1mdW5jdGlvbigpe3JldHVybiBQcH0sUHAuc2ltcGxpZnk9ZnVuY3Rpb24odCxlKXtyZXR1cm4gbmV3IFBwKHQpLnNpbXBsaWZ5KGUpfSxNcC5JTklULmdldD1mdW5jdGlvbigpe3JldHVybiAwfSxNcC5ERUxFVEUuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIDF9LE1wLktFRVAuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIDF9LE1wLk5VTV9QVFNfVE9fQ0hFQ0suZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIDEwfSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhQcCxNcCk7dmFyIExwPWZ1bmN0aW9uKCl7dGhpcy5fcHRMaXN0PW51bGwsdGhpcy5fcHJlY2lzaW9uTW9kZWw9bnVsbCx0aGlzLl9taW5pbWltVmVydGV4RGlzdGFuY2U9MCx0aGlzLl9wdExpc3Q9bmV3IGxjfSxPcD17Q09PUkRJTkFURV9BUlJBWV9UWVBFOntjb25maWd1cmFibGU6ITB9fTtMcC5wcm90b3R5cGUuZ2V0Q29vcmRpbmF0ZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcHRMaXN0LnRvQXJyYXkoTHAuQ09PUkRJTkFURV9BUlJBWV9UWVBFKX0sTHAucHJvdG90eXBlLnNldFByZWNpc2lvbk1vZGVsPWZ1bmN0aW9uKHQpe3RoaXMuX3ByZWNpc2lvbk1vZGVsPXR9LExwLnByb3RvdHlwZS5hZGRQdD1mdW5jdGlvbih0KXt2YXIgZT1uZXcgdWwodCk7aWYodGhpcy5fcHJlY2lzaW9uTW9kZWwubWFrZVByZWNpc2UoZSksdGhpcy5pc1JlZHVuZGFudChlKSlyZXR1cm4gbnVsbDt0aGlzLl9wdExpc3QuYWRkKGUpfSxMcC5wcm90b3R5cGUucmV2ZXJlPWZ1bmN0aW9uKCl7fSxMcC5wcm90b3R5cGUuYWRkUHRzPWZ1bmN0aW9uKHQsZSl7aWYoZSlmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyl0aGlzLmFkZFB0KHRbbl0pO2Vsc2UgZm9yKHZhciByPXQubGVuZ3RoLTE7cj49MDtyLS0pdGhpcy5hZGRQdCh0W3JdKX0sTHAucHJvdG90eXBlLmlzUmVkdW5kYW50PWZ1bmN0aW9uKHQpe2lmKHRoaXMuX3B0TGlzdC5zaXplKCk8MSlyZXR1cm4hMTt2YXIgZT10aGlzLl9wdExpc3QuZ2V0KHRoaXMuX3B0TGlzdC5zaXplKCktMSk7cmV0dXJuIHQuZGlzdGFuY2UoZSk8dGhpcy5fbWluaW1pbVZlcnRleERpc3RhbmNlfSxMcC5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4obmV3IF9oKS5jcmVhdGVMaW5lU3RyaW5nKHRoaXMuZ2V0Q29vcmRpbmF0ZXMoKSkudG9TdHJpbmcoKX0sTHAucHJvdG90eXBlLmNsb3NlUmluZz1mdW5jdGlvbigpe2lmKHRoaXMuX3B0TGlzdC5zaXplKCk8MSlyZXR1cm4gbnVsbDt2YXIgdD1uZXcgdWwodGhpcy5fcHRMaXN0LmdldCgwKSksZT10aGlzLl9wdExpc3QuZ2V0KHRoaXMuX3B0TGlzdC5zaXplKCktMSk7aWYodC5lcXVhbHMoZSkpcmV0dXJuIG51bGw7dGhpcy5fcHRMaXN0LmFkZCh0KX0sTHAucHJvdG90eXBlLnNldE1pbmltdW1WZXJ0ZXhEaXN0YW5jZT1mdW5jdGlvbih0KXt0aGlzLl9taW5pbWltVmVydGV4RGlzdGFuY2U9dH0sTHAucHJvdG90eXBlLmludGVyZmFjZXNfPWZ1bmN0aW9uKCl7cmV0dXJuW119LExwLnByb3RvdHlwZS5nZXRDbGFzcz1mdW5jdGlvbigpe3JldHVybiBMcH0sT3AuQ09PUkRJTkFURV9BUlJBWV9UWVBFLmdldD1mdW5jdGlvbigpe3JldHVybiBuZXcgQXJyYXkoMCkuZmlsbChudWxsKX0sT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoTHAsT3ApO3ZhciBScD1mdW5jdGlvbigpe30sVHA9e1BJX1RJTUVTXzI6e2NvbmZpZ3VyYWJsZTohMH0sUElfT1ZFUl8yOntjb25maWd1cmFibGU6ITB9LFBJX09WRVJfNDp7Y29uZmlndXJhYmxlOiEwfSxDT1VOVEVSQ0xPQ0tXSVNFOntjb25maWd1cmFibGU6ITB9LENMT0NLV0lTRTp7Y29uZmlndXJhYmxlOiEwfSxOT05FOntjb25maWd1cmFibGU6ITB9fTtScC5wcm90b3R5cGUuaW50ZXJmYWNlc189ZnVuY3Rpb24oKXtyZXR1cm5bXX0sUnAucHJvdG90eXBlLmdldENsYXNzPWZ1bmN0aW9uKCl7cmV0dXJuIFJwfSxScC50b0RlZ3JlZXM9ZnVuY3Rpb24odCl7cmV0dXJuIDE4MCp0L01hdGguUEl9LFJwLm5vcm1hbGl6ZT1mdW5jdGlvbih0KXtmb3IoO3Q+TWF0aC5QSTspdC09UnAuUElfVElNRVNfMjtmb3IoO3Q8PS1NYXRoLlBJOyl0Kz1ScC5QSV9USU1FU18yO3JldHVybiB0fSxScC5hbmdsZT1mdW5jdGlvbigpe2lmKDE9PT1hcmd1bWVudHMubGVuZ3RoKXt2YXIgdD1hcmd1bWVudHNbMF07cmV0dXJuIE1hdGguYXRhbjIodC55LHQueCl9aWYoMj09PWFyZ3VtZW50cy5sZW5ndGgpe3ZhciBlPWFyZ3VtZW50c1swXSxuPWFyZ3VtZW50c1sxXSxyPW4ueC1lLngsaT1uLnktZS55O3JldHVybiBNYXRoLmF0YW4yKGkscil9fSxScC5pc0FjdXRlPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj10LngtZS54LGk9dC55LWUueTtyZXR1cm4gcioobi54LWUueCkraSoobi55LWUueSk+MH0sUnAuaXNPYnR1c2U9ZnVuY3Rpb24odCxlLG4pe3ZhciByPXQueC1lLngsaT10LnktZS55O3JldHVybiByKihuLngtZS54KStpKihuLnktZS55KTwwfSxScC5pbnRlcmlvckFuZ2xlPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1ScC5hbmdsZShlLHQpLGk9UnAuYW5nbGUoZSxuKTtyZXR1cm4gTWF0aC5hYnMoaS1yKX0sUnAubm9ybWFsaXplUG9zaXRpdmU9ZnVuY3Rpb24odCl7aWYodDwwKXtmb3IoO3Q8MDspdCs9UnAuUElfVElNRVNfMjt0Pj1ScC5QSV9USU1FU18yJiYodD0wKX1lbHNle2Zvcig7dD49UnAuUElfVElNRVNfMjspdC09UnAuUElfVElNRVNfMjt0PDAmJih0PTApfXJldHVybiB0fSxScC5hbmdsZUJldHdlZW49ZnVuY3Rpb24odCxlLG4pe3ZhciByPVJwLmFuZ2xlKGUsdCksaT1ScC5hbmdsZShlLG4pO3JldHVybiBScC5kaWZmKHIsaSl9LFJwLmRpZmY9ZnVuY3Rpb24odCxlKXt2YXIgbj1udWxsO3JldHVybihuPXQ8ZT9lLXQ6dC1lKT5NYXRoLlBJJiYobj0yKk1hdGguUEktbiksbn0sUnAudG9SYWRpYW5zPWZ1bmN0aW9uKHQpe3JldHVybiB0Kk1hdGguUEkvMTgwfSxScC5nZXRUdXJuPWZ1bmN0aW9uKHQsZSl7dmFyIG49TWF0aC5zaW4oZS10KTtyZXR1cm4gbj4wP1JwLkNPVU5URVJDTE9DS1dJU0U6bjwwP1JwLkNMT0NLV0lTRTpScC5OT05FfSxScC5hbmdsZUJldHdlZW5PcmllbnRlZD1mdW5jdGlvbih0LGUsbil7dmFyIHI9UnAuYW5nbGUoZSx0KSxpPVJwLmFuZ2xlKGUsbiktcjtyZXR1cm4gaTw9LU1hdGguUEk/aStScC5QSV9USU1FU18yOmk+TWF0aC5QST9pLVJwLlBJX1RJTUVTXzI6aX0sVHAuUElfVElNRVNfMi5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gMipNYXRoLlBJfSxUcC5QSV9PVkVSXzIuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIE1hdGguUEkvMn0sVHAuUElfT1ZFUl80LmdldD1mdW5jdGlvbigpe3JldHVybiBNYXRoLlBJLzR9LFRwLkNPVU5URVJDTE9DS1dJU0UuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIFhsLkNPVU5URVJDTE9DS1dJU0V9LFRwLkNMT0NLV0lTRS5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gWGwuQ0xPQ0tXSVNFfSxUcC5OT05FLmdldD1mdW5jdGlvbigpe3JldHVybiBYbC5DT0xMSU5FQVJ9LE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKFJwLFRwKTt2YXIgQXA9ZnVuY3Rpb24gdCgpe3RoaXMuX21heEN1cnZlU2VnbWVudEVycm9yPTAsdGhpcy5fZmlsbGV0QW5nbGVRdWFudHVtPW51bGwsdGhpcy5fY2xvc2luZ1NlZ0xlbmd0aEZhY3Rvcj0xLHRoaXMuX3NlZ0xpc3Q9bnVsbCx0aGlzLl9kaXN0YW5jZT0wLHRoaXMuX3ByZWNpc2lvbk1vZGVsPW51bGwsdGhpcy5fYnVmUGFyYW1zPW51bGwsdGhpcy5fbGk9bnVsbCx0aGlzLl9zMD1udWxsLHRoaXMuX3MxPW51bGwsdGhpcy5fczI9bnVsbCx0aGlzLl9zZWcwPW5ldyB2cCx0aGlzLl9zZWcxPW5ldyB2cCx0aGlzLl9vZmZzZXQwPW5ldyB2cCx0aGlzLl9vZmZzZXQxPW5ldyB2cCx0aGlzLl9zaWRlPTAsdGhpcy5faGFzTmFycm93Q29uY2F2ZUFuZ2xlPSExO3ZhciBlPWFyZ3VtZW50c1swXSxuPWFyZ3VtZW50c1sxXSxyPWFyZ3VtZW50c1syXTt0aGlzLl9wcmVjaXNpb25Nb2RlbD1lLHRoaXMuX2J1ZlBhcmFtcz1uLHRoaXMuX2xpPW5ldyBqbCx0aGlzLl9maWxsZXRBbmdsZVF1YW50dW09TWF0aC5QSS8yL24uZ2V0UXVhZHJhbnRTZWdtZW50cygpLG4uZ2V0UXVhZHJhbnRTZWdtZW50cygpPj04JiZuLmdldEpvaW5TdHlsZSgpPT09U3AuSk9JTl9ST1VORCYmKHRoaXMuX2Nsb3NpbmdTZWdMZW5ndGhGYWN0b3I9dC5NQVhfQ0xPU0lOR19TRUdfTEVOX0ZBQ1RPUiksdGhpcy5pbml0KHIpfSxEcD17T0ZGU0VUX1NFR01FTlRfU0VQQVJBVElPTl9GQUNUT1I6e2NvbmZpZ3VyYWJsZTohMH0sSU5TSURFX1RVUk5fVkVSVEVYX1NOQVBfRElTVEFOQ0VfRkFDVE9SOntjb25maWd1cmFibGU6ITB9LENVUlZFX1ZFUlRFWF9TTkFQX0RJU1RBTkNFX0ZBQ1RPUjp7Y29uZmlndXJhYmxlOiEwfSxNQVhfQ0xPU0lOR19TRUdfTEVOX0ZBQ1RPUjp7Y29uZmlndXJhYmxlOiEwfX07QXAucHJvdG90eXBlLmFkZE5leHRTZWdtZW50PWZ1bmN0aW9uKHQsZSl7aWYodGhpcy5fczA9dGhpcy5fczEsdGhpcy5fczE9dGhpcy5fczIsdGhpcy5fczI9dCx0aGlzLl9zZWcwLnNldENvb3JkaW5hdGVzKHRoaXMuX3MwLHRoaXMuX3MxKSx0aGlzLmNvbXB1dGVPZmZzZXRTZWdtZW50KHRoaXMuX3NlZzAsdGhpcy5fc2lkZSx0aGlzLl9kaXN0YW5jZSx0aGlzLl9vZmZzZXQwKSx0aGlzLl9zZWcxLnNldENvb3JkaW5hdGVzKHRoaXMuX3MxLHRoaXMuX3MyKSx0aGlzLmNvbXB1dGVPZmZzZXRTZWdtZW50KHRoaXMuX3NlZzEsdGhpcy5fc2lkZSx0aGlzLl9kaXN0YW5jZSx0aGlzLl9vZmZzZXQxKSx0aGlzLl9zMS5lcXVhbHModGhpcy5fczIpKXJldHVybiBudWxsO3ZhciBuPVhsLmNvbXB1dGVPcmllbnRhdGlvbih0aGlzLl9zMCx0aGlzLl9zMSx0aGlzLl9zMikscj1uPT09WGwuQ0xPQ0tXSVNFJiZ0aGlzLl9zaWRlPT09U2guTEVGVHx8bj09PVhsLkNPVU5URVJDTE9DS1dJU0UmJnRoaXMuX3NpZGU9PT1TaC5SSUdIVDswPT09bj90aGlzLmFkZENvbGxpbmVhcihlKTpyP3RoaXMuYWRkT3V0c2lkZVR1cm4obixlKTp0aGlzLmFkZEluc2lkZVR1cm4obixlKX0sQXAucHJvdG90eXBlLmFkZExpbmVFbmRDYXA9ZnVuY3Rpb24odCxlKXt2YXIgbj1uZXcgdnAodCxlKSxyPW5ldyB2cDt0aGlzLmNvbXB1dGVPZmZzZXRTZWdtZW50KG4sU2guTEVGVCx0aGlzLl9kaXN0YW5jZSxyKTt2YXIgaT1uZXcgdnA7dGhpcy5jb21wdXRlT2Zmc2V0U2VnbWVudChuLFNoLlJJR0hULHRoaXMuX2Rpc3RhbmNlLGkpO3ZhciBvPWUueC10Lngscz1lLnktdC55LGE9TWF0aC5hdGFuMihzLG8pO3N3aXRjaCh0aGlzLl9idWZQYXJhbXMuZ2V0RW5kQ2FwU3R5bGUoKSl7Y2FzZSBTcC5DQVBfUk9VTkQ6dGhpcy5fc2VnTGlzdC5hZGRQdChyLnAxKSx0aGlzLmFkZEZpbGxldEFyYyhlLGErTWF0aC5QSS8yLGEtTWF0aC5QSS8yLFhsLkNMT0NLV0lTRSx0aGlzLl9kaXN0YW5jZSksdGhpcy5fc2VnTGlzdC5hZGRQdChpLnAxKTticmVhaztjYXNlIFNwLkNBUF9GTEFUOnRoaXMuX3NlZ0xpc3QuYWRkUHQoci5wMSksdGhpcy5fc2VnTGlzdC5hZGRQdChpLnAxKTticmVhaztjYXNlIFNwLkNBUF9TUVVBUkU6dmFyIHU9bmV3IHVsO3UueD1NYXRoLmFicyh0aGlzLl9kaXN0YW5jZSkqTWF0aC5jb3MoYSksdS55PU1hdGguYWJzKHRoaXMuX2Rpc3RhbmNlKSpNYXRoLnNpbihhKTt2YXIgbD1uZXcgdWwoci5wMS54K3UueCxyLnAxLnkrdS55KSxjPW5ldyB1bChpLnAxLngrdS54LGkucDEueSt1LnkpO3RoaXMuX3NlZ0xpc3QuYWRkUHQobCksdGhpcy5fc2VnTGlzdC5hZGRQdChjKX19LEFwLnByb3RvdHlwZS5nZXRDb29yZGluYXRlcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zZWdMaXN0LmdldENvb3JkaW5hdGVzKCl9LEFwLnByb3RvdHlwZS5hZGRNaXRyZUpvaW49ZnVuY3Rpb24odCxlLG4scil7dmFyIGk9ITAsbz1udWxsO3RyeXtvPU1sLmludGVyc2VjdGlvbihlLnAwLGUucDEsbi5wMCxuLnAxKSwocjw9MD8xOm8uZGlzdGFuY2UodCkvTWF0aC5hYnMocikpPnRoaXMuX2J1ZlBhcmFtcy5nZXRNaXRyZUxpbWl0KCkmJihpPSExKX1jYXRjaCh0KXtpZighKHQgaW5zdGFuY2VvZiBDbCkpdGhyb3cgdDtvPW5ldyB1bCgwLDApLGk9ITF9aT90aGlzLl9zZWdMaXN0LmFkZFB0KG8pOnRoaXMuYWRkTGltaXRlZE1pdHJlSm9pbihlLG4scix0aGlzLl9idWZQYXJhbXMuZ2V0TWl0cmVMaW1pdCgpKX0sQXAucHJvdG90eXBlLmFkZEZpbGxldENvcm5lcj1mdW5jdGlvbih0LGUsbixyLGkpe3ZhciBvPWUueC10Lngscz1lLnktdC55LGE9TWF0aC5hdGFuMihzLG8pLHU9bi54LXQueCxsPW4ueS10LnksYz1NYXRoLmF0YW4yKGwsdSk7cj09PVhsLkNMT0NLV0lTRT9hPD1jJiYoYSs9MipNYXRoLlBJKTphPj1jJiYoYS09MipNYXRoLlBJKSx0aGlzLl9zZWdMaXN0LmFkZFB0KGUpLHRoaXMuYWRkRmlsbGV0QXJjKHQsYSxjLHIsaSksdGhpcy5fc2VnTGlzdC5hZGRQdChuKX0sQXAucHJvdG90eXBlLmFkZE91dHNpZGVUdXJuPWZ1bmN0aW9uKHQsZSl7aWYodGhpcy5fb2Zmc2V0MC5wMS5kaXN0YW5jZSh0aGlzLl9vZmZzZXQxLnAwKTx0aGlzLl9kaXN0YW5jZSpBcC5PRkZTRVRfU0VHTUVOVF9TRVBBUkFUSU9OX0ZBQ1RPUilyZXR1cm4gdGhpcy5fc2VnTGlzdC5hZGRQdCh0aGlzLl9vZmZzZXQwLnAxKSxudWxsO3RoaXMuX2J1ZlBhcmFtcy5nZXRKb2luU3R5bGUoKT09PVNwLkpPSU5fTUlUUkU/dGhpcy5hZGRNaXRyZUpvaW4odGhpcy5fczEsdGhpcy5fb2Zmc2V0MCx0aGlzLl9vZmZzZXQxLHRoaXMuX2Rpc3RhbmNlKTp0aGlzLl9idWZQYXJhbXMuZ2V0Sm9pblN0eWxlKCk9PT1TcC5KT0lOX0JFVkVMP3RoaXMuYWRkQmV2ZWxKb2luKHRoaXMuX29mZnNldDAsdGhpcy5fb2Zmc2V0MSk6KGUmJnRoaXMuX3NlZ0xpc3QuYWRkUHQodGhpcy5fb2Zmc2V0MC5wMSksdGhpcy5hZGRGaWxsZXRDb3JuZXIodGhpcy5fczEsdGhpcy5fb2Zmc2V0MC5wMSx0aGlzLl9vZmZzZXQxLnAwLHQsdGhpcy5fZGlzdGFuY2UpLHRoaXMuX3NlZ0xpc3QuYWRkUHQodGhpcy5fb2Zmc2V0MS5wMCkpfSxBcC5wcm90b3R5cGUuY3JlYXRlU3F1YXJlPWZ1bmN0aW9uKHQpe3RoaXMuX3NlZ0xpc3QuYWRkUHQobmV3IHVsKHQueCt0aGlzLl9kaXN0YW5jZSx0LnkrdGhpcy5fZGlzdGFuY2UpKSx0aGlzLl9zZWdMaXN0LmFkZFB0KG5ldyB1bCh0LngrdGhpcy5fZGlzdGFuY2UsdC55LXRoaXMuX2Rpc3RhbmNlKSksdGhpcy5fc2VnTGlzdC5hZGRQdChuZXcgdWwodC54LXRoaXMuX2Rpc3RhbmNlLHQueS10aGlzLl9kaXN0YW5jZSkpLHRoaXMuX3NlZ0xpc3QuYWRkUHQobmV3IHVsKHQueC10aGlzLl9kaXN0YW5jZSx0LnkrdGhpcy5fZGlzdGFuY2UpKSx0aGlzLl9zZWdMaXN0LmNsb3NlUmluZygpfSxBcC5wcm90b3R5cGUuYWRkU2VnbWVudHM9ZnVuY3Rpb24odCxlKXt0aGlzLl9zZWdMaXN0LmFkZFB0cyh0LGUpfSxBcC5wcm90b3R5cGUuYWRkRmlyc3RTZWdtZW50PWZ1bmN0aW9uKCl7dGhpcy5fc2VnTGlzdC5hZGRQdCh0aGlzLl9vZmZzZXQxLnAwKX0sQXAucHJvdG90eXBlLmFkZExhc3RTZWdtZW50PWZ1bmN0aW9uKCl7dGhpcy5fc2VnTGlzdC5hZGRQdCh0aGlzLl9vZmZzZXQxLnAxKX0sQXAucHJvdG90eXBlLmluaXRTaWRlU2VnbWVudHM9ZnVuY3Rpb24odCxlLG4pe3RoaXMuX3MxPXQsdGhpcy5fczI9ZSx0aGlzLl9zaWRlPW4sdGhpcy5fc2VnMS5zZXRDb29yZGluYXRlcyh0LGUpLHRoaXMuY29tcHV0ZU9mZnNldFNlZ21lbnQodGhpcy5fc2VnMSxuLHRoaXMuX2Rpc3RhbmNlLHRoaXMuX29mZnNldDEpfSxBcC5wcm90b3R5cGUuYWRkTGltaXRlZE1pdHJlSm9pbj1mdW5jdGlvbih0LGUsbixyKXt2YXIgaT10aGlzLl9zZWcwLnAxLG89UnAuYW5nbGUoaSx0aGlzLl9zZWcwLnAwKSxzPVJwLmFuZ2xlQmV0d2Vlbk9yaWVudGVkKHRoaXMuX3NlZzAucDAsaSx0aGlzLl9zZWcxLnAxKS8yLGE9UnAubm9ybWFsaXplKG8rcyksdT1ScC5ub3JtYWxpemUoYStNYXRoLlBJKSxsPXIqbixjPW4tbCpNYXRoLmFicyhNYXRoLnNpbihzKSksaD1pLngrbCpNYXRoLmNvcyh1KSxwPWkueStsKk1hdGguc2luKHUpLGY9bmV3IHVsKGgscCksZz1uZXcgdnAoaSxmKSxkPWcucG9pbnRBbG9uZ09mZnNldCgxLGMpLHk9Zy5wb2ludEFsb25nT2Zmc2V0KDEsLWMpO3RoaXMuX3NpZGU9PT1TaC5MRUZUPyh0aGlzLl9zZWdMaXN0LmFkZFB0KGQpLHRoaXMuX3NlZ0xpc3QuYWRkUHQoeSkpOih0aGlzLl9zZWdMaXN0LmFkZFB0KHkpLHRoaXMuX3NlZ0xpc3QuYWRkUHQoZCkpfSxBcC5wcm90b3R5cGUuY29tcHV0ZU9mZnNldFNlZ21lbnQ9ZnVuY3Rpb24odCxlLG4scil7dmFyIGk9ZT09PVNoLkxFRlQ/MTotMSxvPXQucDEueC10LnAwLngscz10LnAxLnktdC5wMC55LGE9TWF0aC5zcXJ0KG8qbytzKnMpLHU9aSpuKm8vYSxsPWkqbipzL2E7ci5wMC54PXQucDAueC1sLHIucDAueT10LnAwLnkrdSxyLnAxLng9dC5wMS54LWwsci5wMS55PXQucDEueSt1fSxBcC5wcm90b3R5cGUuYWRkRmlsbGV0QXJjPWZ1bmN0aW9uKHQsZSxuLHIsaSl7dmFyIG89cj09PVhsLkNMT0NLV0lTRT8tMToxLHM9TWF0aC5hYnMoZS1uKSxhPU1hdGgudHJ1bmMocy90aGlzLl9maWxsZXRBbmdsZVF1YW50dW0rLjUpO2lmKGE8MSlyZXR1cm4gbnVsbDtmb3IodmFyIHU9cy9hLGw9MCxjPW5ldyB1bDtsPHM7KXt2YXIgaD1lK28qbDtjLng9dC54K2kqTWF0aC5jb3MoaCksYy55PXQueStpKk1hdGguc2luKGgpLHRoaXMuX3NlZ0xpc3QuYWRkUHQoYyksbCs9dX19LEFwLnByb3RvdHlwZS5hZGRJbnNpZGVUdXJuPWZ1bmN0aW9uKHQsZSl7aWYodGhpcy5fbGkuY29tcHV0ZUludGVyc2VjdGlvbih0aGlzLl9vZmZzZXQwLnAwLHRoaXMuX29mZnNldDAucDEsdGhpcy5fb2Zmc2V0MS5wMCx0aGlzLl9vZmZzZXQxLnAxKSx0aGlzLl9saS5oYXNJbnRlcnNlY3Rpb24oKSl0aGlzLl9zZWdMaXN0LmFkZFB0KHRoaXMuX2xpLmdldEludGVyc2VjdGlvbigwKSk7ZWxzZSBpZih0aGlzLl9oYXNOYXJyb3dDb25jYXZlQW5nbGU9ITAsdGhpcy5fb2Zmc2V0MC5wMS5kaXN0YW5jZSh0aGlzLl9vZmZzZXQxLnAwKTx0aGlzLl9kaXN0YW5jZSpBcC5JTlNJREVfVFVSTl9WRVJURVhfU05BUF9ESVNUQU5DRV9GQUNUT1IpdGhpcy5fc2VnTGlzdC5hZGRQdCh0aGlzLl9vZmZzZXQwLnAxKTtlbHNle2lmKHRoaXMuX3NlZ0xpc3QuYWRkUHQodGhpcy5fb2Zmc2V0MC5wMSksdGhpcy5fY2xvc2luZ1NlZ0xlbmd0aEZhY3Rvcj4wKXt2YXIgbj1uZXcgdWwoKHRoaXMuX2Nsb3NpbmdTZWdMZW5ndGhGYWN0b3IqdGhpcy5fb2Zmc2V0MC5wMS54K3RoaXMuX3MxLngpLyh0aGlzLl9jbG9zaW5nU2VnTGVuZ3RoRmFjdG9yKzEpLCh0aGlzLl9jbG9zaW5nU2VnTGVuZ3RoRmFjdG9yKnRoaXMuX29mZnNldDAucDEueSt0aGlzLl9zMS55KS8odGhpcy5fY2xvc2luZ1NlZ0xlbmd0aEZhY3RvcisxKSk7dGhpcy5fc2VnTGlzdC5hZGRQdChuKTt2YXIgcj1uZXcgdWwoKHRoaXMuX2Nsb3NpbmdTZWdMZW5ndGhGYWN0b3IqdGhpcy5fb2Zmc2V0MS5wMC54K3RoaXMuX3MxLngpLyh0aGlzLl9jbG9zaW5nU2VnTGVuZ3RoRmFjdG9yKzEpLCh0aGlzLl9jbG9zaW5nU2VnTGVuZ3RoRmFjdG9yKnRoaXMuX29mZnNldDEucDAueSt0aGlzLl9zMS55KS8odGhpcy5fY2xvc2luZ1NlZ0xlbmd0aEZhY3RvcisxKSk7dGhpcy5fc2VnTGlzdC5hZGRQdChyKX1lbHNlIHRoaXMuX3NlZ0xpc3QuYWRkUHQodGhpcy5fczEpO3RoaXMuX3NlZ0xpc3QuYWRkUHQodGhpcy5fb2Zmc2V0MS5wMCl9fSxBcC5wcm90b3R5cGUuY3JlYXRlQ2lyY2xlPWZ1bmN0aW9uKHQpe3ZhciBlPW5ldyB1bCh0LngrdGhpcy5fZGlzdGFuY2UsdC55KTt0aGlzLl9zZWdMaXN0LmFkZFB0KGUpLHRoaXMuYWRkRmlsbGV0QXJjKHQsMCwyKk1hdGguUEksLTEsdGhpcy5fZGlzdGFuY2UpLHRoaXMuX3NlZ0xpc3QuY2xvc2VSaW5nKCl9LEFwLnByb3RvdHlwZS5hZGRCZXZlbEpvaW49ZnVuY3Rpb24odCxlKXt0aGlzLl9zZWdMaXN0LmFkZFB0KHQucDEpLHRoaXMuX3NlZ0xpc3QuYWRkUHQoZS5wMCl9LEFwLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKHQpe3RoaXMuX2Rpc3RhbmNlPXQsdGhpcy5fbWF4Q3VydmVTZWdtZW50RXJyb3I9dCooMS1NYXRoLmNvcyh0aGlzLl9maWxsZXRBbmdsZVF1YW50dW0vMikpLHRoaXMuX3NlZ0xpc3Q9bmV3IExwLHRoaXMuX3NlZ0xpc3Quc2V0UHJlY2lzaW9uTW9kZWwodGhpcy5fcHJlY2lzaW9uTW9kZWwpLHRoaXMuX3NlZ0xpc3Quc2V0TWluaW11bVZlcnRleERpc3RhbmNlKHQqQXAuQ1VSVkVfVkVSVEVYX1NOQVBfRElTVEFOQ0VfRkFDVE9SKX0sQXAucHJvdG90eXBlLmFkZENvbGxpbmVhcj1mdW5jdGlvbih0KXt0aGlzLl9saS5jb21wdXRlSW50ZXJzZWN0aW9uKHRoaXMuX3MwLHRoaXMuX3MxLHRoaXMuX3MxLHRoaXMuX3MyKSx0aGlzLl9saS5nZXRJbnRlcnNlY3Rpb25OdW0oKT49MiYmKHRoaXMuX2J1ZlBhcmFtcy5nZXRKb2luU3R5bGUoKT09PVNwLkpPSU5fQkVWRUx8fHRoaXMuX2J1ZlBhcmFtcy5nZXRKb2luU3R5bGUoKT09PVNwLkpPSU5fTUlUUkU/KHQmJnRoaXMuX3NlZ0xpc3QuYWRkUHQodGhpcy5fb2Zmc2V0MC5wMSksdGhpcy5fc2VnTGlzdC5hZGRQdCh0aGlzLl9vZmZzZXQxLnAwKSk6dGhpcy5hZGRGaWxsZXRDb3JuZXIodGhpcy5fczEsdGhpcy5fb2Zmc2V0MC5wMSx0aGlzLl9vZmZzZXQxLnAwLFhsLkNMT0NLV0lTRSx0aGlzLl9kaXN0YW5jZSkpfSxBcC5wcm90b3R5cGUuY2xvc2VSaW5nPWZ1bmN0aW9uKCl7dGhpcy5fc2VnTGlzdC5jbG9zZVJpbmcoKX0sQXAucHJvdG90eXBlLmhhc05hcnJvd0NvbmNhdmVBbmdsZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9oYXNOYXJyb3dDb25jYXZlQW5nbGV9LEFwLnByb3RvdHlwZS5pbnRlcmZhY2VzXz1mdW5jdGlvbigpe3JldHVybltdfSxBcC5wcm90b3R5cGUuZ2V0Q2xhc3M9ZnVuY3Rpb24oKXtyZXR1cm4gQXB9LERwLk9GRlNFVF9TRUdNRU5UX1NFUEFSQVRJT05fRkFDVE9SLmdldD1mdW5jdGlvbigpe3JldHVybi4wMDF9LERwLklOU0lERV9UVVJOX1ZFUlRFWF9TTkFQX0RJU1RBTkNFX0ZBQ1RPUi5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4uMDAxfSxEcC5DVVJWRV9WRVJURVhfU05BUF9ESVNUQU5DRV9GQUNUT1IuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIDFlLTZ9LERwLk1BWF9DTE9TSU5HX1NFR19MRU5fRkFDVE9SLmdldD1mdW5jdGlvbigpe3JldHVybiA4MH0sT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoQXAsRHApO3ZhciBGcD1mdW5jdGlvbigpe3RoaXMuX2Rpc3RhbmNlPTAsdGhpcy5fcHJlY2lzaW9uTW9kZWw9bnVsbCx0aGlzLl9idWZQYXJhbXM9bnVsbDt2YXIgdD1hcmd1bWVudHNbMF0sZT1hcmd1bWVudHNbMV07dGhpcy5fcHJlY2lzaW9uTW9kZWw9dCx0aGlzLl9idWZQYXJhbXM9ZX07RnAucHJvdG90eXBlLmdldE9mZnNldEN1cnZlPWZ1bmN0aW9uKHQsZSl7aWYodGhpcy5fZGlzdGFuY2U9ZSwwPT09ZSlyZXR1cm4gbnVsbDt2YXIgbj1lPDAscj1NYXRoLmFicyhlKSxpPXRoaXMuZ2V0U2VnR2VuKHIpO3QubGVuZ3RoPD0xP3RoaXMuY29tcHV0ZVBvaW50Q3VydmUodFswXSxpKTp0aGlzLmNvbXB1dGVPZmZzZXRDdXJ2ZSh0LG4saSk7dmFyIG89aS5nZXRDb29yZGluYXRlcygpO3JldHVybiBuJiZwYy5yZXZlcnNlKG8pLG99LEZwLnByb3RvdHlwZS5jb21wdXRlU2luZ2xlU2lkZWRCdWZmZXJDdXJ2ZT1mdW5jdGlvbih0LGUsbil7dmFyIHI9dGhpcy5zaW1wbGlmeVRvbGVyYW5jZSh0aGlzLl9kaXN0YW5jZSk7aWYoZSl7bi5hZGRTZWdtZW50cyh0LCEwKTt2YXIgaT1QcC5zaW1wbGlmeSh0LC1yKSxvPWkubGVuZ3RoLTE7bi5pbml0U2lkZVNlZ21lbnRzKGlbb10saVtvLTFdLFNoLkxFRlQpLG4uYWRkRmlyc3RTZWdtZW50KCk7Zm9yKHZhciBzPW8tMjtzPj0wO3MtLSluLmFkZE5leHRTZWdtZW50KGlbc10sITApfWVsc2V7bi5hZGRTZWdtZW50cyh0LCExKTt2YXIgYT1QcC5zaW1wbGlmeSh0LHIpLHU9YS5sZW5ndGgtMTtuLmluaXRTaWRlU2VnbWVudHMoYVswXSxhWzFdLFNoLkxFRlQpLG4uYWRkRmlyc3RTZWdtZW50KCk7Zm9yKHZhciBsPTI7bDw9dTtsKyspbi5hZGROZXh0U2VnbWVudChhW2xdLCEwKX1uLmFkZExhc3RTZWdtZW50KCksbi5jbG9zZVJpbmcoKX0sRnAucHJvdG90eXBlLmNvbXB1dGVSaW5nQnVmZmVyQ3VydmU9ZnVuY3Rpb24odCxlLG4pe3ZhciByPXRoaXMuc2ltcGxpZnlUb2xlcmFuY2UodGhpcy5fZGlzdGFuY2UpO2U9PT1TaC5SSUdIVCYmKHI9LXIpO3ZhciBpPVBwLnNpbXBsaWZ5KHQsciksbz1pLmxlbmd0aC0xO24uaW5pdFNpZGVTZWdtZW50cyhpW28tMV0saVswXSxlKTtmb3IodmFyIHM9MTtzPD1vO3MrKyl7dmFyIGE9MSE9PXM7bi5hZGROZXh0U2VnbWVudChpW3NdLGEpfW4uY2xvc2VSaW5nKCl9LEZwLnByb3RvdHlwZS5jb21wdXRlTGluZUJ1ZmZlckN1cnZlPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5zaW1wbGlmeVRvbGVyYW5jZSh0aGlzLl9kaXN0YW5jZSkscj1QcC5zaW1wbGlmeSh0LG4pLGk9ci5sZW5ndGgtMTtlLmluaXRTaWRlU2VnbWVudHMoclswXSxyWzFdLFNoLkxFRlQpO2Zvcih2YXIgbz0yO288PWk7bysrKWUuYWRkTmV4dFNlZ21lbnQocltvXSwhMCk7ZS5hZGRMYXN0U2VnbWVudCgpLGUuYWRkTGluZUVuZENhcChyW2ktMV0scltpXSk7dmFyIHM9UHAuc2ltcGxpZnkodCwtbiksYT1zLmxlbmd0aC0xO2UuaW5pdFNpZGVTZWdtZW50cyhzW2FdLHNbYS0xXSxTaC5MRUZUKTtmb3IodmFyIHU9YS0yO3U+PTA7dS0tKWUuYWRkTmV4dFNlZ21lbnQoc1t1XSwhMCk7ZS5hZGRMYXN0U2VnbWVudCgpLGUuYWRkTGluZUVuZENhcChzWzFdLHNbMF0pLGUuY2xvc2VSaW5nKCl9LEZwLnByb3RvdHlwZS5jb21wdXRlUG9pbnRDdXJ2ZT1mdW5jdGlvbih0LGUpe3N3aXRjaCh0aGlzLl9idWZQYXJhbXMuZ2V0RW5kQ2FwU3R5bGUoKSl7Y2FzZSBTcC5DQVBfUk9VTkQ6ZS5jcmVhdGVDaXJjbGUodCk7YnJlYWs7Y2FzZSBTcC5DQVBfU1FVQVJFOmUuY3JlYXRlU3F1YXJlKHQpfX0sRnAucHJvdG90eXBlLmdldExpbmVDdXJ2ZT1mdW5jdGlvbih0LGUpe2lmKHRoaXMuX2Rpc3RhbmNlPWUsZTwwJiYhdGhpcy5fYnVmUGFyYW1zLmlzU2luZ2xlU2lkZWQoKSlyZXR1cm4gbnVsbDtpZigwPT09ZSlyZXR1cm4gbnVsbDt2YXIgbj1NYXRoLmFicyhlKSxyPXRoaXMuZ2V0U2VnR2VuKG4pO2lmKHQubGVuZ3RoPD0xKXRoaXMuY29tcHV0ZVBvaW50Q3VydmUodFswXSxyKTtlbHNlIGlmKHRoaXMuX2J1ZlBhcmFtcy5pc1NpbmdsZVNpZGVkKCkpe3ZhciBpPWU8MDt0aGlzLmNvbXB1dGVTaW5nbGVTaWRlZEJ1ZmZlckN1cnZlKHQsaSxyKX1lbHNlIHRoaXMuY29tcHV0ZUxpbmVCdWZmZXJDdXJ2ZSh0LHIpO3JldHVybiByLmdldENvb3JkaW5hdGVzKCl9LEZwLnByb3RvdHlwZS5nZXRCdWZmZXJQYXJhbWV0ZXJzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2J1ZlBhcmFtc30sRnAucHJvdG90eXBlLnNpbXBsaWZ5VG9sZXJhbmNlPWZ1bmN0aW9uKHQpe3JldHVybiB0KnRoaXMuX2J1ZlBhcmFtcy5nZXRTaW1wbGlmeUZhY3RvcigpfSxGcC5wcm90b3R5cGUuZ2V0UmluZ0N1cnZlPWZ1bmN0aW9uKHQsZSxuKXtpZih0aGlzLl9kaXN0YW5jZT1uLHQubGVuZ3RoPD0yKXJldHVybiB0aGlzLmdldExpbmVDdXJ2ZSh0LG4pO2lmKDA9PT1uKXJldHVybiBGcC5jb3B5Q29vcmRpbmF0ZXModCk7dmFyIHI9dGhpcy5nZXRTZWdHZW4obik7cmV0dXJuIHRoaXMuY29tcHV0ZVJpbmdCdWZmZXJDdXJ2ZSh0LGUsciksci5nZXRDb29yZGluYXRlcygpfSxGcC5wcm90b3R5cGUuY29tcHV0ZU9mZnNldEN1cnZlPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj10aGlzLnNpbXBsaWZ5VG9sZXJhbmNlKHRoaXMuX2Rpc3RhbmNlKTtpZihlKXt2YXIgaT1QcC5zaW1wbGlmeSh0LC1yKSxvPWkubGVuZ3RoLTE7bi5pbml0U2lkZVNlZ21lbnRzKGlbb10saVtvLTFdLFNoLkxFRlQpLG4uYWRkRmlyc3RTZWdtZW50KCk7Zm9yKHZhciBzPW8tMjtzPj0wO3MtLSluLmFkZE5leHRTZWdtZW50KGlbc10sITApfWVsc2V7dmFyIGE9UHAuc2ltcGxpZnkodCxyKSx1PWEubGVuZ3RoLTE7bi5pbml0U2lkZVNlZ21lbnRzKGFbMF0sYVsxXSxTaC5MRUZUKSxuLmFkZEZpcnN0U2VnbWVudCgpO2Zvcih2YXIgbD0yO2w8PXU7bCsrKW4uYWRkTmV4dFNlZ21lbnQoYVtsXSwhMCl9bi5hZGRMYXN0U2VnbWVudCgpfSxGcC5wcm90b3R5cGUuZ2V0U2VnR2VuPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgQXAodGhpcy5fcHJlY2lzaW9uTW9kZWwsdGhpcy5fYnVmUGFyYW1zLHQpfSxGcC5wcm90b3R5cGUuaW50ZXJmYWNlc189ZnVuY3Rpb24oKXtyZXR1cm5bXX0sRnAucHJvdG90eXBlLmdldENsYXNzPWZ1bmN0aW9uKCl7cmV0dXJuIEZwfSxGcC5jb3B5Q29vcmRpbmF0ZXM9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPW5ldyBBcnJheSh0Lmxlbmd0aCkuZmlsbChudWxsKSxuPTA7bjxlLmxlbmd0aDtuKyspZVtuXT1uZXcgdWwodFtuXSk7cmV0dXJuIGV9O3ZhciBrcD1mdW5jdGlvbigpe3RoaXMuX3N1YmdyYXBocz1udWxsLHRoaXMuX3NlZz1uZXcgdnAsdGhpcy5fY2dhPW5ldyBYbDt2YXIgdD1hcmd1bWVudHNbMF07dGhpcy5fc3ViZ3JhcGhzPXR9LEdwPXtEZXB0aFNlZ21lbnQ6e2NvbmZpZ3VyYWJsZTohMH19O2twLnByb3RvdHlwZS5maW5kU3RhYmJlZFNlZ21lbnRzPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztpZigxPT09YXJndW1lbnRzLmxlbmd0aCl7Zm9yKHZhciBlPWFyZ3VtZW50c1swXSxuPW5ldyBsYyxyPXRoaXMuX3N1YmdyYXBocy5pdGVyYXRvcigpO3IuaGFzTmV4dCgpOyl7dmFyIGk9ci5uZXh0KCksbz1pLmdldEVudmVsb3BlKCk7ZS55PG8uZ2V0TWluWSgpfHxlLnk+by5nZXRNYXhZKCl8fHQuZmluZFN0YWJiZWRTZWdtZW50cyhlLGkuZ2V0RGlyZWN0ZWRFZGdlcygpLG4pfXJldHVybiBufWlmKDM9PT1hcmd1bWVudHMubGVuZ3RoKWlmKGdsKGFyZ3VtZW50c1syXSxhYykmJmFyZ3VtZW50c1swXWluc3RhbmNlb2YgdWwmJmFyZ3VtZW50c1sxXWluc3RhbmNlb2YgWGgpZm9yKHZhciBzPWFyZ3VtZW50c1swXSxhPWFyZ3VtZW50c1sxXSx1PWFyZ3VtZW50c1syXSxsPWEuZ2V0RWRnZSgpLmdldENvb3JkaW5hdGVzKCksYz0wO2M8bC5sZW5ndGgtMTtjKyspe3QuX3NlZy5wMD1sW2NdLHQuX3NlZy5wMT1sW2MrMV0sdC5fc2VnLnAwLnk+dC5fc2VnLnAxLnkmJnQuX3NlZy5yZXZlcnNlKCk7dmFyIGg9TWF0aC5tYXgodC5fc2VnLnAwLngsdC5fc2VnLnAxLngpO2lmKCEoaDxzLngpJiYhKHQuX3NlZy5pc0hvcml6b250YWwoKXx8cy55PHQuX3NlZy5wMC55fHxzLnk+dC5fc2VnLnAxLnl8fFhsLmNvbXB1dGVPcmllbnRhdGlvbih0Ll9zZWcucDAsdC5fc2VnLnAxLHMpPT09WGwuUklHSFQpKXt2YXIgcD1hLmdldERlcHRoKFNoLkxFRlQpO3QuX3NlZy5wMC5lcXVhbHMobFtjXSl8fChwPWEuZ2V0RGVwdGgoU2guUklHSFQpKTt2YXIgZj1uZXcgcXAodC5fc2VnLHApO3UuYWRkKGYpfX1lbHNlIGlmKGdsKGFyZ3VtZW50c1syXSxhYykmJmFyZ3VtZW50c1swXWluc3RhbmNlb2YgdWwmJmdsKGFyZ3VtZW50c1sxXSxhYykpZm9yKHZhciBnPWFyZ3VtZW50c1swXSxkPWFyZ3VtZW50c1sxXSx5PWFyZ3VtZW50c1syXSx2PWQuaXRlcmF0b3IoKTt2Lmhhc05leHQoKTspe3ZhciBfPXYubmV4dCgpO18uaXNGb3J3YXJkKCkmJnQuZmluZFN0YWJiZWRTZWdtZW50cyhnLF8seSl9fSxrcC5wcm90b3R5cGUuZ2V0RGVwdGg9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5maW5kU3RhYmJlZFNlZ21lbnRzKHQpO3JldHVybiAwPT09ZS5zaXplKCk/MDpucC5taW4oZSkuX2xlZnREZXB0aH0sa3AucHJvdG90eXBlLmludGVyZmFjZXNfPWZ1bmN0aW9uKCl7cmV0dXJuW119LGtwLnByb3RvdHlwZS5nZXRDbGFzcz1mdW5jdGlvbigpe3JldHVybiBrcH0sR3AuRGVwdGhTZWdtZW50LmdldD1mdW5jdGlvbigpe3JldHVybiBxcH0sT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoa3AsR3ApO3ZhciBxcD1mdW5jdGlvbigpe3RoaXMuX3Vwd2FyZFNlZz1udWxsLHRoaXMuX2xlZnREZXB0aD1udWxsO3ZhciB0PWFyZ3VtZW50c1swXSxlPWFyZ3VtZW50c1sxXTt0aGlzLl91cHdhcmRTZWc9bmV3IHZwKHQpLHRoaXMuX2xlZnREZXB0aD1lfTtxcC5wcm90b3R5cGUuY29tcGFyZVRvPWZ1bmN0aW9uKHQpe3ZhciBlPXQ7aWYodGhpcy5fdXB3YXJkU2VnLm1pblgoKT49ZS5fdXB3YXJkU2VnLm1heFgoKSlyZXR1cm4gMTtpZih0aGlzLl91cHdhcmRTZWcubWF4WCgpPD1lLl91cHdhcmRTZWcubWluWCgpKXJldHVybi0xO3ZhciBuPXRoaXMuX3Vwd2FyZFNlZy5vcmllbnRhdGlvbkluZGV4KGUuX3Vwd2FyZFNlZyk7cmV0dXJuIDAhPT1ufHwwIT09KG49LTEqZS5fdXB3YXJkU2VnLm9yaWVudGF0aW9uSW5kZXgodGhpcy5fdXB3YXJkU2VnKSk/bjp0aGlzLl91cHdhcmRTZWcuY29tcGFyZVRvKGUuX3Vwd2FyZFNlZyl9LHFwLnByb3RvdHlwZS5jb21wYXJlWD1mdW5jdGlvbih0LGUpe3ZhciBuPXQucDAuY29tcGFyZVRvKGUucDApO3JldHVybiAwIT09bj9uOnQucDEuY29tcGFyZVRvKGUucDEpfSxxcC5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdXB3YXJkU2VnLnRvU3RyaW5nKCl9LHFwLnByb3RvdHlwZS5pbnRlcmZhY2VzXz1mdW5jdGlvbigpe3JldHVybltpbF19LHFwLnByb3RvdHlwZS5nZXRDbGFzcz1mdW5jdGlvbigpe3JldHVybiBxcH07dmFyIEJwPWZ1bmN0aW9uKHQsZSxuKXt0aGlzLnAwPXR8fG51bGwsdGhpcy5wMT1lfHxudWxsLHRoaXMucDI9bnx8bnVsbH07QnAucHJvdG90eXBlLmFyZWE9ZnVuY3Rpb24oKXtyZXR1cm4gQnAuYXJlYSh0aGlzLnAwLHRoaXMucDEsdGhpcy5wMil9LEJwLnByb3RvdHlwZS5zaWduZWRBcmVhPWZ1bmN0aW9uKCl7cmV0dXJuIEJwLnNpZ25lZEFyZWEodGhpcy5wMCx0aGlzLnAxLHRoaXMucDIpfSxCcC5wcm90b3R5cGUuaW50ZXJwb2xhdGVaPWZ1bmN0aW9uKHQpe2lmKG51bGw9PT10KXRocm93IG5ldyBlbCgiU3VwcGxpZWQgcG9pbnQgaXMgbnVsbC4iKTtyZXR1cm4gQnAuaW50ZXJwb2xhdGVaKHQsdGhpcy5wMCx0aGlzLnAxLHRoaXMucDIpfSxCcC5wcm90b3R5cGUubG9uZ2VzdFNpZGVMZW5ndGg9ZnVuY3Rpb24oKXtyZXR1cm4gQnAubG9uZ2VzdFNpZGVMZW5ndGgodGhpcy5wMCx0aGlzLnAxLHRoaXMucDIpfSxCcC5wcm90b3R5cGUuaXNBY3V0ZT1mdW5jdGlvbigpe3JldHVybiBCcC5pc0FjdXRlKHRoaXMucDAsdGhpcy5wMSx0aGlzLnAyKX0sQnAucHJvdG90eXBlLmNpcmN1bWNlbnRyZT1mdW5jdGlvbigpe3JldHVybiBCcC5jaXJjdW1jZW50cmUodGhpcy5wMCx0aGlzLnAxLHRoaXMucDIpfSxCcC5wcm90b3R5cGUuYXJlYTNEPWZ1bmN0aW9uKCl7cmV0dXJuIEJwLmFyZWEzRCh0aGlzLnAwLHRoaXMucDEsdGhpcy5wMil9LEJwLnByb3RvdHlwZS5jZW50cm9pZD1mdW5jdGlvbigpe3JldHVybiBCcC5jZW50cm9pZCh0aGlzLnAwLHRoaXMucDEsdGhpcy5wMil9LEJwLnByb3RvdHlwZS5pbkNlbnRyZT1mdW5jdGlvbigpe3JldHVybiBCcC5pbkNlbnRyZSh0aGlzLnAwLHRoaXMucDEsdGhpcy5wMil9LEJwLnByb3RvdHlwZS5pbnRlcmZhY2VzXz1mdW5jdGlvbigpe3JldHVybltdfSxCcC5wcm90b3R5cGUuZ2V0Q2xhc3M9ZnVuY3Rpb24oKXtyZXR1cm4gQnB9LEJwLmFyZWE9ZnVuY3Rpb24odCxlLG4pe3JldHVybiBNYXRoLmFicygoKG4ueC10LngpKihlLnktdC55KS0oZS54LXQueCkqKG4ueS10LnkpKS8yKX0sQnAuc2lnbmVkQXJlYT1mdW5jdGlvbih0LGUsbil7cmV0dXJuKChuLngtdC54KSooZS55LXQueSktKGUueC10LngpKihuLnktdC55KSkvMn0sQnAuZGV0PWZ1bmN0aW9uKHQsZSxuLHIpe3JldHVybiB0KnItZSpufSxCcC5pbnRlcnBvbGF0ZVo9ZnVuY3Rpb24odCxlLG4scil7dmFyIGk9ZS54LG89ZS55LHM9bi54LWksYT1yLngtaSx1PW4ueS1vLGw9ci55LW8sYz1zKmwtYSp1LGg9dC54LWkscD10LnktbyxmPShsKmgtYSpwKS9jLGc9KC11KmgrcypwKS9jO3JldHVybiBlLnorZioobi56LWUueikrZyooci56LWUueil9LEJwLmxvbmdlc3RTaWRlTGVuZ3RoPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj10LmRpc3RhbmNlKGUpLGk9ZS5kaXN0YW5jZShuKSxvPW4uZGlzdGFuY2UodCkscz1yO3JldHVybiBpPnMmJihzPWkpLG8+cyYmKHM9byksc30sQnAuaXNBY3V0ZT1mdW5jdGlvbih0LGUsbil7cmV0dXJuISFScC5pc0FjdXRlKHQsZSxuKSYmKCEhUnAuaXNBY3V0ZShlLG4sdCkmJiEhUnAuaXNBY3V0ZShuLHQsZSkpfSxCcC5jaXJjdW1jZW50cmU9ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4ueCxpPW4ueSxvPXQueC1yLHM9dC55LWksYT1lLngtcix1PWUueS1pLGw9MipCcC5kZXQobyxzLGEsdSksYz1CcC5kZXQocyxvKm8rcypzLHUsYSphK3UqdSksaD1CcC5kZXQobyxvKm8rcypzLGEsYSphK3UqdSk7cmV0dXJuIG5ldyB1bChyLWMvbCxpK2gvbCl9LEJwLnBlcnBlbmRpY3VsYXJCaXNlY3Rvcj1mdW5jdGlvbih0LGUpe3ZhciBuPWUueC10Lngscj1lLnktdC55LGk9bmV3IE1sKHQueCtuLzIsdC55K3IvMiwxKSxvPW5ldyBNbCh0LngtcituLzIsdC55K24rci8yLDEpO3JldHVybiBuZXcgTWwoaSxvKX0sQnAuYW5nbGVCaXNlY3Rvcj1mdW5jdGlvbih0LGUsbil7dmFyIHI9ZS5kaXN0YW5jZSh0KSxpPXIvKHIrZS5kaXN0YW5jZShuKSksbz1uLngtdC54LHM9bi55LXQueTtyZXR1cm4gbmV3IHVsKHQueCtpKm8sdC55K2kqcyl9LEJwLmFyZWEzRD1mdW5jdGlvbih0LGUsbil7dmFyIHI9ZS54LXQueCxpPWUueS10Lnksbz1lLnotdC56LHM9bi54LXQueCxhPW4ueS10LnksdT1uLnotdC56LGw9aSp1LW8qYSxjPW8qcy1yKnUsaD1yKmEtaSpzLHA9bCpsK2MqYytoKmgsZj1NYXRoLnNxcnQocCkvMjtyZXR1cm4gZn0sQnAuY2VudHJvaWQ9ZnVuY3Rpb24odCxlLG4pe3ZhciByPSh0LngrZS54K24ueCkvMyxpPSh0LnkrZS55K24ueSkvMztyZXR1cm4gbmV3IHVsKHIsaSl9LEJwLmluQ2VudHJlPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1lLmRpc3RhbmNlKG4pLGk9dC5kaXN0YW5jZShuKSxvPXQuZGlzdGFuY2UoZSkscz1yK2krbyxhPShyKnQueCtpKmUueCtvKm4ueCkvcyx1PShyKnQueStpKmUueStvKm4ueSkvcztyZXR1cm4gbmV3IHVsKGEsdSl9O3ZhciB6cD1mdW5jdGlvbigpe3RoaXMuX2lucHV0R2VvbT1udWxsLHRoaXMuX2Rpc3RhbmNlPW51bGwsdGhpcy5fY3VydmVCdWlsZGVyPW51bGwsdGhpcy5fY3VydmVMaXN0PW5ldyBsYzt2YXIgdD1hcmd1bWVudHNbMF0sZT1hcmd1bWVudHNbMV0sbj1hcmd1bWVudHNbMl07dGhpcy5faW5wdXRHZW9tPXQsdGhpcy5fZGlzdGFuY2U9ZSx0aGlzLl9jdXJ2ZUJ1aWxkZXI9bn07enAucHJvdG90eXBlLmFkZFBvaW50PWZ1bmN0aW9uKHQpe2lmKHRoaXMuX2Rpc3RhbmNlPD0wKXJldHVybiBudWxsO3ZhciBlPXQuZ2V0Q29vcmRpbmF0ZXMoKSxuPXRoaXMuX2N1cnZlQnVpbGRlci5nZXRMaW5lQ3VydmUoZSx0aGlzLl9kaXN0YW5jZSk7dGhpcy5hZGRDdXJ2ZShuLHBsLkVYVEVSSU9SLHBsLklOVEVSSU9SKX0senAucHJvdG90eXBlLmFkZFBvbHlnb249ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxuPXRoaXMuX2Rpc3RhbmNlLHI9U2guTEVGVDt0aGlzLl9kaXN0YW5jZTwwJiYobj0tdGhpcy5fZGlzdGFuY2Uscj1TaC5SSUdIVCk7dmFyIGk9dC5nZXRFeHRlcmlvclJpbmcoKSxvPXBjLnJlbW92ZVJlcGVhdGVkUG9pbnRzKGkuZ2V0Q29vcmRpbmF0ZXMoKSk7aWYodGhpcy5fZGlzdGFuY2U8MCYmdGhpcy5pc0Vyb2RlZENvbXBsZXRlbHkoaSx0aGlzLl9kaXN0YW5jZSkpcmV0dXJuIG51bGw7aWYodGhpcy5fZGlzdGFuY2U8PTAmJm8ubGVuZ3RoPDMpcmV0dXJuIG51bGw7dGhpcy5hZGRQb2x5Z29uUmluZyhvLG4scixwbC5FWFRFUklPUixwbC5JTlRFUklPUik7Zm9yKHZhciBzPTA7czx0LmdldE51bUludGVyaW9yUmluZygpO3MrKyl7dmFyIGE9dC5nZXRJbnRlcmlvclJpbmdOKHMpLHU9cGMucmVtb3ZlUmVwZWF0ZWRQb2ludHMoYS5nZXRDb29yZGluYXRlcygpKTtlLl9kaXN0YW5jZT4wJiZlLmlzRXJvZGVkQ29tcGxldGVseShhLC1lLl9kaXN0YW5jZSl8fGUuYWRkUG9seWdvblJpbmcodSxuLFNoLm9wcG9zaXRlKHIpLHBsLklOVEVSSU9SLHBsLkVYVEVSSU9SKX19LHpwLnByb3RvdHlwZS5pc1RyaWFuZ2xlRXJvZGVkQ29tcGxldGVseT1mdW5jdGlvbih0LGUpe3ZhciBuPW5ldyBCcCh0WzBdLHRbMV0sdFsyXSkscj1uLmluQ2VudHJlKCk7cmV0dXJuIFhsLmRpc3RhbmNlUG9pbnRMaW5lKHIsbi5wMCxuLnAxKTxNYXRoLmFicyhlKX0senAucHJvdG90eXBlLmFkZExpbmVTdHJpbmc9ZnVuY3Rpb24odCl7aWYodGhpcy5fZGlzdGFuY2U8PTAmJiF0aGlzLl9jdXJ2ZUJ1aWxkZXIuZ2V0QnVmZmVyUGFyYW1ldGVycygpLmlzU2luZ2xlU2lkZWQoKSlyZXR1cm4gbnVsbDt2YXIgZT1wYy5yZW1vdmVSZXBlYXRlZFBvaW50cyh0LmdldENvb3JkaW5hdGVzKCkpLG49dGhpcy5fY3VydmVCdWlsZGVyLmdldExpbmVDdXJ2ZShlLHRoaXMuX2Rpc3RhbmNlKTt0aGlzLmFkZEN1cnZlKG4scGwuRVhURVJJT1IscGwuSU5URVJJT1IpfSx6cC5wcm90b3R5cGUuYWRkQ3VydmU9ZnVuY3Rpb24odCxlLG4pe2lmKG51bGw9PT10fHx0Lmxlbmd0aDwyKXJldHVybiBudWxsO3ZhciByPW5ldyB5cCh0LG5ldyBEaCgwLHBsLkJPVU5EQVJZLGUsbikpO3RoaXMuX2N1cnZlTGlzdC5hZGQocil9LHpwLnByb3RvdHlwZS5nZXRDdXJ2ZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hZGQodGhpcy5faW5wdXRHZW9tKSx0aGlzLl9jdXJ2ZUxpc3R9LHpwLnByb3RvdHlwZS5hZGRQb2x5Z29uUmluZz1mdW5jdGlvbih0LGUsbixyLGkpe2lmKDA9PT1lJiZ0Lmxlbmd0aDxuaC5NSU5JTVVNX1ZBTElEX1NJWkUpcmV0dXJuIG51bGw7dmFyIG89cixzPWk7dC5sZW5ndGg+PW5oLk1JTklNVU1fVkFMSURfU0laRSYmWGwuaXNDQ1codCkmJihvPWkscz1yLG49U2gub3Bwb3NpdGUobikpO3ZhciBhPXRoaXMuX2N1cnZlQnVpbGRlci5nZXRSaW5nQ3VydmUodCxuLGUpO3RoaXMuYWRkQ3VydmUoYSxvLHMpfSx6cC5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKHQpe2lmKHQuaXNFbXB0eSgpKXJldHVybiBudWxsO3QgaW5zdGFuY2VvZiB0aD90aGlzLmFkZFBvbHlnb24odCk6dCBpbnN0YW5jZW9mIFpjP3RoaXMuYWRkTGluZVN0cmluZyh0KTp0IGluc3RhbmNlb2YgUWM/dGhpcy5hZGRQb2ludCh0KToodCBpbnN0YW5jZW9mIGVofHx0IGluc3RhbmNlb2YgR2N8fHQgaW5zdGFuY2VvZiByaHx8dCBpbnN0YW5jZW9mIGtjKSYmdGhpcy5hZGRDb2xsZWN0aW9uKHQpfSx6cC5wcm90b3R5cGUuaXNFcm9kZWRDb21wbGV0ZWx5PWZ1bmN0aW9uKHQsZSl7dmFyIG49dC5nZXRDb29yZGluYXRlcygpO2lmKG4ubGVuZ3RoPDQpcmV0dXJuIGU8MDtpZig0PT09bi5sZW5ndGgpcmV0dXJuIHRoaXMuaXNUcmlhbmdsZUVyb2RlZENvbXBsZXRlbHkobixlKTt2YXIgcj10LmdldEVudmVsb3BlSW50ZXJuYWwoKSxpPU1hdGgubWluKHIuZ2V0SGVpZ2h0KCksci5nZXRXaWR0aCgpKTtyZXR1cm4gZTwwJiYyKk1hdGguYWJzKGUpPml9LHpwLnByb3RvdHlwZS5hZGRDb2xsZWN0aW9uPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wO2U8dC5nZXROdW1HZW9tZXRyaWVzKCk7ZSsrKXt2YXIgbj10LmdldEdlb21ldHJ5TihlKTt0aGlzLmFkZChuKX19LHpwLnByb3RvdHlwZS5pbnRlcmZhY2VzXz1mdW5jdGlvbigpe3JldHVybltdfSx6cC5wcm90b3R5cGUuZ2V0Q2xhc3M9ZnVuY3Rpb24oKXtyZXR1cm4genB9O3ZhciBqcD1mdW5jdGlvbigpe307anAucHJvdG90eXBlLmxvY2F0ZT1mdW5jdGlvbih0KXt9LGpwLnByb3RvdHlwZS5pbnRlcmZhY2VzXz1mdW5jdGlvbigpe3JldHVybltdfSxqcC5wcm90b3R5cGUuZ2V0Q2xhc3M9ZnVuY3Rpb24oKXtyZXR1cm4ganB9O3ZhciBVcD1mdW5jdGlvbigpe3RoaXMuX3BhcmVudD1udWxsLHRoaXMuX2F0U3RhcnQ9bnVsbCx0aGlzLl9tYXg9bnVsbCx0aGlzLl9pbmRleD1udWxsLHRoaXMuX3N1YmNvbGxlY3Rpb25JdGVyYXRvcj1udWxsO3ZhciB0PWFyZ3VtZW50c1swXTt0aGlzLl9wYXJlbnQ9dCx0aGlzLl9hdFN0YXJ0PSEwLHRoaXMuX2luZGV4PTAsdGhpcy5fbWF4PXQuZ2V0TnVtR2VvbWV0cmllcygpfTtVcC5wcm90b3R5cGUubmV4dD1mdW5jdGlvbigpe2lmKHRoaXMuX2F0U3RhcnQpcmV0dXJuIHRoaXMuX2F0U3RhcnQ9ITEsVXAuaXNBdG9taWModGhpcy5fcGFyZW50KSYmdGhpcy5faW5kZXgrKyx0aGlzLl9wYXJlbnQ7aWYobnVsbCE9PXRoaXMuX3N1YmNvbGxlY3Rpb25JdGVyYXRvcil7aWYodGhpcy5fc3ViY29sbGVjdGlvbkl0ZXJhdG9yLmhhc05leHQoKSlyZXR1cm4gdGhpcy5fc3ViY29sbGVjdGlvbkl0ZXJhdG9yLm5leHQoKTt0aGlzLl9zdWJjb2xsZWN0aW9uSXRlcmF0b3I9bnVsbH1pZih0aGlzLl9pbmRleD49dGhpcy5fbWF4KXRocm93IG5ldyB1Yzt2YXIgdD10aGlzLl9wYXJlbnQuZ2V0R2VvbWV0cnlOKHRoaXMuX2luZGV4KyspO3JldHVybiB0IGluc3RhbmNlb2Yga2M/KHRoaXMuX3N1YmNvbGxlY3Rpb25JdGVyYXRvcj1uZXcgVXAodCksdGhpcy5fc3ViY29sbGVjdGlvbkl0ZXJhdG9yLm5leHQoKSk6dH0sVXAucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbigpe3Rocm93IG5ldyBFcnJvcih0aGlzLmdldENsYXNzKCkuZ2V0TmFtZSgpKX0sVXAucHJvdG90eXBlLmhhc05leHQ9ZnVuY3Rpb24oKXtpZih0aGlzLl9hdFN0YXJ0KXJldHVybiEwO2lmKG51bGwhPT10aGlzLl9zdWJjb2xsZWN0aW9uSXRlcmF0b3Ipe2lmKHRoaXMuX3N1YmNvbGxlY3Rpb25JdGVyYXRvci5oYXNOZXh0KCkpcmV0dXJuITA7dGhpcy5fc3ViY29sbGVjdGlvbkl0ZXJhdG9yPW51bGx9cmV0dXJuISh0aGlzLl9pbmRleD49dGhpcy5fbWF4KX0sVXAucHJvdG90eXBlLmludGVyZmFjZXNfPWZ1bmN0aW9uKCl7cmV0dXJuW3NjXX0sVXAucHJvdG90eXBlLmdldENsYXNzPWZ1bmN0aW9uKCl7cmV0dXJuIFVwfSxVcC5pc0F0b21pYz1mdW5jdGlvbih0KXtyZXR1cm4hKHQgaW5zdGFuY2VvZiBrYyl9O3ZhciBWcD1mdW5jdGlvbigpe3RoaXMuX2dlb209bnVsbDt2YXIgdD1hcmd1bWVudHNbMF07dGhpcy5fZ2VvbT10fTtWcC5wcm90b3R5cGUubG9jYXRlPWZ1bmN0aW9uKHQpe3JldHVybiBWcC5sb2NhdGUodCx0aGlzLl9nZW9tKX0sVnAucHJvdG90eXBlLmludGVyZmFjZXNfPWZ1bmN0aW9uKCl7cmV0dXJuW2pwXX0sVnAucHJvdG90eXBlLmdldENsYXNzPWZ1bmN0aW9uKCl7cmV0dXJuIFZwfSxWcC5pc1BvaW50SW5SaW5nPWZ1bmN0aW9uKHQsZSl7cmV0dXJuISFlLmdldEVudmVsb3BlSW50ZXJuYWwoKS5pbnRlcnNlY3RzKHQpJiZYbC5pc1BvaW50SW5SaW5nKHQsZS5nZXRDb29yZGluYXRlcygpKX0sVnAuY29udGFpbnNQb2ludEluUG9seWdvbj1mdW5jdGlvbih0LGUpe2lmKGUuaXNFbXB0eSgpKXJldHVybiExO3ZhciBuPWUuZ2V0RXh0ZXJpb3JSaW5nKCk7aWYoIVZwLmlzUG9pbnRJblJpbmcodCxuKSlyZXR1cm4hMTtmb3IodmFyIHI9MDtyPGUuZ2V0TnVtSW50ZXJpb3JSaW5nKCk7cisrKXt2YXIgaT1lLmdldEludGVyaW9yUmluZ04ocik7aWYoVnAuaXNQb2ludEluUmluZyh0LGkpKXJldHVybiExfXJldHVybiEwfSxWcC5jb250YWluc1BvaW50PWZ1bmN0aW9uKHQsZSl7aWYoZSBpbnN0YW5jZW9mIHRoKXJldHVybiBWcC5jb250YWluc1BvaW50SW5Qb2x5Z29uKHQsZSk7aWYoZSBpbnN0YW5jZW9mIGtjKWZvcih2YXIgbj1uZXcgVXAoZSk7bi5oYXNOZXh0KCk7KXt2YXIgcj1uLm5leHQoKTtpZihyIT09ZSYmVnAuY29udGFpbnNQb2ludCh0LHIpKXJldHVybiEwfXJldHVybiExfSxWcC5sb2NhdGU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gZS5pc0VtcHR5KCk/cGwuRVhURVJJT1I6VnAuY29udGFpbnNQb2ludCh0LGUpP3BsLklOVEVSSU9SOnBsLkVYVEVSSU9SfTt2YXIgWHA9ZnVuY3Rpb24oKXt0aGlzLl9lZGdlTWFwPW5ldyBDYyx0aGlzLl9lZGdlTGlzdD1udWxsLHRoaXMuX3B0SW5BcmVhTG9jYXRpb249W3BsLk5PTkUscGwuTk9ORV19O1hwLnByb3RvdHlwZS5nZXROZXh0Q1c9ZnVuY3Rpb24odCl7dGhpcy5nZXRFZGdlcygpO3ZhciBlPXRoaXMuX2VkZ2VMaXN0LmluZGV4T2YodCksbj1lLTE7cmV0dXJuIDA9PT1lJiYobj10aGlzLl9lZGdlTGlzdC5zaXplKCktMSksdGhpcy5fZWRnZUxpc3QuZ2V0KG4pfSxYcC5wcm90b3R5cGUucHJvcGFnYXRlU2lkZUxhYmVscz1mdW5jdGlvbih0KXtmb3IodmFyIGU9cGwuTk9ORSxuPXRoaXMuaXRlcmF0b3IoKTtuLmhhc05leHQoKTspe3ZhciByPW4ubmV4dCgpLmdldExhYmVsKCk7ci5pc0FyZWEodCkmJnIuZ2V0TG9jYXRpb24odCxTaC5MRUZUKSE9PXBsLk5PTkUmJihlPXIuZ2V0TG9jYXRpb24odCxTaC5MRUZUKSl9aWYoZT09PXBsLk5PTkUpcmV0dXJuIG51bGw7Zm9yKHZhciBpPWUsbz10aGlzLml0ZXJhdG9yKCk7by5oYXNOZXh0KCk7KXt2YXIgcz1vLm5leHQoKSxhPXMuZ2V0TGFiZWwoKTtpZihhLmdldExvY2F0aW9uKHQsU2guT04pPT09cGwuTk9ORSYmYS5zZXRMb2NhdGlvbih0LFNoLk9OLGkpLGEuaXNBcmVhKHQpKXt2YXIgdT1hLmdldExvY2F0aW9uKHQsU2guTEVGVCksbD1hLmdldExvY2F0aW9uKHQsU2guUklHSFQpO2lmKGwhPT1wbC5OT05FKXtpZihsIT09aSl0aHJvdyBuZXcgT2goInNpZGUgbG9jYXRpb24gY29uZmxpY3QiLHMuZ2V0Q29vcmRpbmF0ZSgpKTt1PT09cGwuTk9ORSYmcWwuc2hvdWxkTmV2ZXJSZWFjaEhlcmUoImZvdW5kIHNpbmdsZSBudWxsIHNpZGUgKGF0ICIrcy5nZXRDb29yZGluYXRlKCkrIikiKSxpPXV9ZWxzZSBxbC5pc1RydWUoYS5nZXRMb2NhdGlvbih0LFNoLkxFRlQpPT09cGwuTk9ORSwiZm91bmQgc2luZ2xlIG51bGwgc2lkZSIpLGEuc2V0TG9jYXRpb24odCxTaC5SSUdIVCxpKSxhLnNldExvY2F0aW9uKHQsU2guTEVGVCxpKX19fSxYcC5wcm90b3R5cGUuZ2V0Q29vcmRpbmF0ZT1mdW5jdGlvbigpe3ZhciB0PXRoaXMuaXRlcmF0b3IoKTtyZXR1cm4gdC5oYXNOZXh0KCk/dC5uZXh0KCkuZ2V0Q29vcmRpbmF0ZSgpOm51bGx9LFhwLnByb3RvdHlwZS5wcmludD1mdW5jdGlvbih0KXtQbC5vdXQucHJpbnRsbigiRWRnZUVuZFN0YXI6ICAgIit0aGlzLmdldENvb3JkaW5hdGUoKSk7Zm9yKHZhciBlPXRoaXMuaXRlcmF0b3IoKTtlLmhhc05leHQoKTspe2UubmV4dCgpLnByaW50KHQpfX0sWHAucHJvdG90eXBlLmlzQXJlYUxhYmVsc0NvbnNpc3RlbnQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuY29tcHV0ZUVkZ2VFbmRMYWJlbHModC5nZXRCb3VuZGFyeU5vZGVSdWxlKCkpLHRoaXMuY2hlY2tBcmVhTGFiZWxzQ29uc2lzdGVudCgwKX0sWHAucHJvdG90eXBlLmNoZWNrQXJlYUxhYmVsc0NvbnNpc3RlbnQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5nZXRFZGdlcygpO2lmKGUuc2l6ZSgpPD0wKXJldHVybiEwO3ZhciBuPWUuc2l6ZSgpLTEscj1lLmdldChuKS5nZXRMYWJlbCgpLmdldExvY2F0aW9uKHQsU2guTEVGVCk7cWwuaXNUcnVlKHIhPT1wbC5OT05FLCJGb3VuZCB1bmxhYmVsbGVkIGFyZWEgZWRnZSIpO2Zvcih2YXIgaT1yLG89dGhpcy5pdGVyYXRvcigpO28uaGFzTmV4dCgpOyl7dmFyIHM9by5uZXh0KCkuZ2V0TGFiZWwoKTtxbC5pc1RydWUocy5pc0FyZWEodCksIkZvdW5kIG5vbi1hcmVhIGVkZ2UiKTt2YXIgYT1zLmdldExvY2F0aW9uKHQsU2guTEVGVCksdT1zLmdldExvY2F0aW9uKHQsU2guUklHSFQpO2lmKGE9PT11KXJldHVybiExO2lmKHUhPT1pKXJldHVybiExO2k9YX1yZXR1cm4hMH0sWHAucHJvdG90eXBlLmZpbmRJbmRleD1mdW5jdGlvbih0KXt0aGlzLml0ZXJhdG9yKCk7Zm9yKHZhciBlPTA7ZTx0aGlzLl9lZGdlTGlzdC5zaXplKCk7ZSsrKXtpZih0aGlzLl9lZGdlTGlzdC5nZXQoZSk9PT10KXJldHVybiBlfXJldHVybi0xfSxYcC5wcm90b3R5cGUuaXRlcmF0b3I9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRFZGdlcygpLml0ZXJhdG9yKCl9LFhwLnByb3RvdHlwZS5nZXRFZGdlcz1mdW5jdGlvbigpe3JldHVybiBudWxsPT09dGhpcy5fZWRnZUxpc3QmJih0aGlzLl9lZGdlTGlzdD1uZXcgbGModGhpcy5fZWRnZU1hcC52YWx1ZXMoKSkpLHRoaXMuX2VkZ2VMaXN0fSxYcC5wcm90b3R5cGUuZ2V0TG9jYXRpb249ZnVuY3Rpb24odCxlLG4pe3JldHVybiB0aGlzLl9wdEluQXJlYUxvY2F0aW9uW3RdPT09cGwuTk9ORSYmKHRoaXMuX3B0SW5BcmVhTG9jYXRpb25bdF09VnAubG9jYXRlKGUsblt0XS5nZXRHZW9tZXRyeSgpKSksdGhpcy5fcHRJbkFyZWFMb2NhdGlvblt0XX0sWHAucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7dmFyIHQ9bmV3IHZsO3QuYXBwZW5kKCJFZGdlRW5kU3RhcjogICAiK3RoaXMuZ2V0Q29vcmRpbmF0ZSgpKSx0LmFwcGVuZCgiXG4iKTtmb3IodmFyIGU9dGhpcy5pdGVyYXRvcigpO2UuaGFzTmV4dCgpOyl7dmFyIG49ZS5uZXh0KCk7dC5hcHBlbmQobiksdC5hcHBlbmQoIlxuIil9cmV0dXJuIHQudG9TdHJpbmcoKX0sWHAucHJvdG90eXBlLmNvbXB1dGVFZGdlRW5kTGFiZWxzPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10aGlzLml0ZXJhdG9yKCk7ZS5oYXNOZXh0KCk7KXtlLm5leHQoKS5jb21wdXRlTGFiZWwodCl9fSxYcC5wcm90b3R5cGUuY29tcHV0ZUxhYmVsbGluZz1mdW5jdGlvbih0KXt0aGlzLmNvbXB1dGVFZGdlRW5kTGFiZWxzKHRbMF0uZ2V0Qm91bmRhcnlOb2RlUnVsZSgpKSx0aGlzLnByb3BhZ2F0ZVNpZGVMYWJlbHMoMCksdGhpcy5wcm9wYWdhdGVTaWRlTGFiZWxzKDEpO2Zvcih2YXIgZT1bITEsITFdLG49dGhpcy5pdGVyYXRvcigpO24uaGFzTmV4dCgpOylmb3IodmFyIHI9bi5uZXh0KCkuZ2V0TGFiZWwoKSxpPTA7aTwyO2krKylyLmlzTGluZShpKSYmci5nZXRMb2NhdGlvbihpKT09PXBsLkJPVU5EQVJZJiYoZVtpXT0hMCk7Zm9yKHZhciBvPXRoaXMuaXRlcmF0b3IoKTtvLmhhc05leHQoKTspZm9yKHZhciBzPW8ubmV4dCgpLGE9cy5nZXRMYWJlbCgpLHU9MDt1PDI7dSsrKWlmKGEuaXNBbnlOdWxsKHUpKXt2YXIgbD1wbC5OT05FO2lmKGVbdV0pbD1wbC5FWFRFUklPUjtlbHNle3ZhciBjPXMuZ2V0Q29vcmRpbmF0ZSgpO2w9dGhpcy5nZXRMb2NhdGlvbih1LGMsdCl9YS5zZXRBbGxMb2NhdGlvbnNJZk51bGwodSxsKX19LFhwLnByb3RvdHlwZS5nZXREZWdyZWU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZWRnZU1hcC5zaXplKCl9LFhwLnByb3RvdHlwZS5pbnNlcnRFZGdlRW5kPWZ1bmN0aW9uKHQsZSl7dGhpcy5fZWRnZU1hcC5wdXQodCxlKSx0aGlzLl9lZGdlTGlzdD1udWxsfSxYcC5wcm90b3R5cGUuaW50ZXJmYWNlc189ZnVuY3Rpb24oKXtyZXR1cm5bXX0sWHAucHJvdG90eXBlLmdldENsYXNzPWZ1bmN0aW9uKCl7cmV0dXJuIFhwfTt2YXIgWXA9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3QuY2FsbCh0aGlzKSx0aGlzLl9yZXN1bHRBcmVhRWRnZUxpc3Q9bnVsbCx0aGlzLl9sYWJlbD1udWxsLHRoaXMuX1NDQU5OSU5HX0ZPUl9JTkNPTUlORz0xLHRoaXMuX0xJTktJTkdfVE9fT1VUR09JTkc9Mn1yZXR1cm4gdCYmKGUuX19wcm90b19fPXQpLGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpLGUucHJvdG90eXBlLmNvbnN0cnVjdG9yPWUsZS5wcm90b3R5cGUubGlua1Jlc3VsdERpcmVjdGVkRWRnZXM9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3RoaXMuZ2V0UmVzdWx0QXJlYUVkZ2VzKCk7Zm9yKHZhciBlPW51bGwsbj1udWxsLHI9dGhpcy5fU0NBTk5JTkdfRk9SX0lOQ09NSU5HLGk9MDtpPHRoaXMuX3Jlc3VsdEFyZWFFZGdlTGlzdC5zaXplKCk7aSsrKXt2YXIgbz10Ll9yZXN1bHRBcmVhRWRnZUxpc3QuZ2V0KGkpLHM9by5nZXRTeW0oKTtpZihvLmdldExhYmVsKCkuaXNBcmVhKCkpc3dpdGNoKG51bGw9PT1lJiZvLmlzSW5SZXN1bHQoKSYmKGU9bykscil7Y2FzZSB0Ll9TQ0FOTklOR19GT1JfSU5DT01JTkc6aWYoIXMuaXNJblJlc3VsdCgpKWNvbnRpbnVlO249cyxyPXQuX0xJTktJTkdfVE9fT1VUR09JTkc7YnJlYWs7Y2FzZSB0Ll9MSU5LSU5HX1RPX09VVEdPSU5HOmlmKCFvLmlzSW5SZXN1bHQoKSljb250aW51ZTtuLnNldE5leHQobykscj10Ll9TQ0FOTklOR19GT1JfSU5DT01JTkd9fWlmKHI9PT10aGlzLl9MSU5LSU5HX1RPX09VVEdPSU5HKXtpZihudWxsPT09ZSl0aHJvdyBuZXcgT2goIm5vIG91dGdvaW5nIGRpckVkZ2UgZm91bmQiLHRoaXMuZ2V0Q29vcmRpbmF0ZSgpKTtxbC5pc1RydWUoZS5pc0luUmVzdWx0KCksInVuYWJsZSB0byBsaW5rIGxhc3QgaW5jb21pbmcgZGlyRWRnZSIpLG4uc2V0TmV4dChlKX19LGUucHJvdG90eXBlLmluc2VydD1mdW5jdGlvbih0KXt2YXIgZT10O3RoaXMuaW5zZXJ0RWRnZUVuZChlLGUpfSxlLnByb3RvdHlwZS5nZXRSaWdodG1vc3RFZGdlPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5nZXRFZGdlcygpLGU9dC5zaXplKCk7aWYoZTwxKXJldHVybiBudWxsO3ZhciBuPXQuZ2V0KDApO2lmKDE9PT1lKXJldHVybiBuO3ZhciByPXQuZ2V0KGUtMSksaT1uLmdldFF1YWRyYW50KCksbz1yLmdldFF1YWRyYW50KCk7cmV0dXJuIGpoLmlzTm9ydGhlcm4oaSkmJmpoLmlzTm9ydGhlcm4obyk/bjpqaC5pc05vcnRoZXJuKGkpfHxqaC5pc05vcnRoZXJuKG8pPzAhPT1uLmdldER5KCk/bjowIT09ci5nZXREeSgpP3I6KHFsLnNob3VsZE5ldmVyUmVhY2hIZXJlKCJmb3VuZCB0d28gaG9yaXpvbnRhbCBlZGdlcyBpbmNpZGVudCBvbiBub2RlIiksbnVsbCk6cn0sZS5wcm90b3R5cGUucHJpbnQ9ZnVuY3Rpb24odCl7UGwub3V0LnByaW50bG4oIkRpcmVjdGVkRWRnZVN0YXI6ICIrdGhpcy5nZXRDb29yZGluYXRlKCkpO2Zvcih2YXIgZT10aGlzLml0ZXJhdG9yKCk7ZS5oYXNOZXh0KCk7KXt2YXIgbj1lLm5leHQoKTt0LnByaW50KCJvdXQgIiksbi5wcmludCh0KSx0LnByaW50bG4oKSx0LnByaW50KCJpbiAiKSxuLmdldFN5bSgpLnByaW50KHQpLHQucHJpbnRsbigpfX0sZS5wcm90b3R5cGUuZ2V0UmVzdWx0QXJlYUVkZ2VzPWZ1bmN0aW9uKCl7aWYobnVsbCE9PXRoaXMuX3Jlc3VsdEFyZWFFZGdlTGlzdClyZXR1cm4gdGhpcy5fcmVzdWx0QXJlYUVkZ2VMaXN0O3RoaXMuX3Jlc3VsdEFyZWFFZGdlTGlzdD1uZXcgbGM7Zm9yKHZhciB0PXRoaXMuaXRlcmF0b3IoKTt0Lmhhc05leHQoKTspe3ZhciBlPXQubmV4dCgpOyhlLmlzSW5SZXN1bHQoKXx8ZS5nZXRTeW0oKS5pc0luUmVzdWx0KCkpJiZ0aGlzLl9yZXN1bHRBcmVhRWRnZUxpc3QuYWRkKGUpfXJldHVybiB0aGlzLl9yZXN1bHRBcmVhRWRnZUxpc3R9LGUucHJvdG90eXBlLnVwZGF0ZUxhYmVsbGluZz1mdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcy5pdGVyYXRvcigpO2UuaGFzTmV4dCgpOyl7dmFyIG49ZS5uZXh0KCkuZ2V0TGFiZWwoKTtuLnNldEFsbExvY2F0aW9uc0lmTnVsbCgwLHQuZ2V0TG9jYXRpb24oMCkpLG4uc2V0QWxsTG9jYXRpb25zSWZOdWxsKDEsdC5nZXRMb2NhdGlvbigxKSl9fSxlLnByb3RvdHlwZS5saW5rQWxsRGlyZWN0ZWRFZGdlcz1mdW5jdGlvbigpe3RoaXMuZ2V0RWRnZXMoKTtmb3IodmFyIHQ9bnVsbCxlPW51bGwsbj10aGlzLl9lZGdlTGlzdC5zaXplKCktMTtuPj0wO24tLSl7dmFyIHI9dGhpcy5fZWRnZUxpc3QuZ2V0KG4pLGk9ci5nZXRTeW0oKTtudWxsPT09ZSYmKGU9aSksbnVsbCE9PXQmJmkuc2V0TmV4dCh0KSx0PXJ9ZS5zZXROZXh0KHQpfSxlLnByb3RvdHlwZS5jb21wdXRlRGVwdGhzPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztpZigxPT09YXJndW1lbnRzLmxlbmd0aCl7dmFyIGU9YXJndW1lbnRzWzBdLG49dGhpcy5maW5kSW5kZXgoZSkscj1lLmdldERlcHRoKFNoLkxFRlQpLGk9ZS5nZXREZXB0aChTaC5SSUdIVCksbz10aGlzLmNvbXB1dGVEZXB0aHMobisxLHRoaXMuX2VkZ2VMaXN0LnNpemUoKSxyKSxzPXRoaXMuY29tcHV0ZURlcHRocygwLG4sbyk7aWYocyE9PWkpdGhyb3cgbmV3IE9oKCJkZXB0aCBtaXNtYXRjaCBhdCAiK2UuZ2V0Q29vcmRpbmF0ZSgpKX1lbHNlIGlmKDM9PT1hcmd1bWVudHMubGVuZ3RoKXtmb3IodmFyIGE9YXJndW1lbnRzWzBdLHU9YXJndW1lbnRzWzFdLGw9YXJndW1lbnRzWzJdLGM9bCxoPWE7aDx1O2grKyl7dmFyIHA9dC5fZWRnZUxpc3QuZ2V0KGgpO3Auc2V0RWRnZURlcHRocyhTaC5SSUdIVCxjKSxjPXAuZ2V0RGVwdGgoU2guTEVGVCl9cmV0dXJuIGN9fSxlLnByb3RvdHlwZS5tZXJnZVN5bUxhYmVscz1mdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLml0ZXJhdG9yKCk7dC5oYXNOZXh0KCk7KXt2YXIgZT10Lm5leHQoKTtlLmdldExhYmVsKCkubWVyZ2UoZS5nZXRTeW0oKS5nZXRMYWJlbCgpKX19LGUucHJvdG90eXBlLmxpbmtNaW5pbWFsRGlyZWN0ZWRFZGdlcz1mdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcyxuPW51bGwscj1udWxsLGk9dGhpcy5fU0NBTk5JTkdfRk9SX0lOQ09NSU5HLG89dGhpcy5fcmVzdWx0QXJlYUVkZ2VMaXN0LnNpemUoKS0xO28+PTA7by0tKXt2YXIgcz1lLl9yZXN1bHRBcmVhRWRnZUxpc3QuZ2V0KG8pLGE9cy5nZXRTeW0oKTtzd2l0Y2gobnVsbD09PW4mJnMuZ2V0RWRnZVJpbmcoKT09PXQmJihuPXMpLGkpe2Nhc2UgZS5fU0NBTk5JTkdfRk9SX0lOQ09NSU5HOmlmKGEuZ2V0RWRnZVJpbmcoKSE9PXQpY29udGludWU7cj1hLGk9ZS5fTElOS0lOR19UT19PVVRHT0lORzticmVhaztjYXNlIGUuX0xJTktJTkdfVE9fT1VUR09JTkc6aWYocy5nZXRFZGdlUmluZygpIT09dCljb250aW51ZTtyLnNldE5leHRNaW4ocyksaT1lLl9TQ0FOTklOR19GT1JfSU5DT01JTkd9fWk9PT10aGlzLl9MSU5LSU5HX1RPX09VVEdPSU5HJiYocWwuaXNUcnVlKG51bGwhPT1uLCJmb3VuZCBudWxsIGZvciBmaXJzdCBvdXRnb2luZyBkaXJFZGdlIikscWwuaXNUcnVlKG4uZ2V0RWRnZVJpbmcoKT09PXQsInVuYWJsZSB0byBsaW5rIGxhc3QgaW5jb21pbmcgZGlyRWRnZSIpLHIuc2V0TmV4dE1pbihuKSl9LGUucHJvdG90eXBlLmdldE91dGdvaW5nRGVncmVlPWZ1bmN0aW9uKCl7aWYoMD09PWFyZ3VtZW50cy5sZW5ndGgpe2Zvcih2YXIgdD0wLGU9dGhpcy5pdGVyYXRvcigpO2UuaGFzTmV4dCgpOyl7dmFyIG49ZS5uZXh0KCk7bi5pc0luUmVzdWx0KCkmJnQrK31yZXR1cm4gdH1pZigxPT09YXJndW1lbnRzLmxlbmd0aCl7Zm9yKHZhciByPWFyZ3VtZW50c1swXSxpPTAsbz10aGlzLml0ZXJhdG9yKCk7by5oYXNOZXh0KCk7KXt2YXIgcz1vLm5leHQoKTtzLmdldEVkZ2VSaW5nKCk9PT1yJiZpKyt9cmV0dXJuIGl9fSxlLnByb3RvdHlwZS5nZXRMYWJlbD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9sYWJlbH0sZS5wcm90b3R5cGUuZmluZENvdmVyZWRMaW5lRWRnZXM9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9cGwuTk9ORSxlPXRoaXMuaXRlcmF0b3IoKTtlLmhhc05leHQoKTspe3ZhciBuPWUubmV4dCgpLHI9bi5nZXRTeW0oKTtpZighbi5pc0xpbmVFZGdlKCkpe2lmKG4uaXNJblJlc3VsdCgpKXt0PXBsLklOVEVSSU9SO2JyZWFrfWlmKHIuaXNJblJlc3VsdCgpKXt0PXBsLkVYVEVSSU9SO2JyZWFrfX19aWYodD09PXBsLk5PTkUpcmV0dXJuIG51bGw7Zm9yKHZhciBpPXQsbz10aGlzLml0ZXJhdG9yKCk7by5oYXNOZXh0KCk7KXt2YXIgcz1vLm5leHQoKSxhPXMuZ2V0U3ltKCk7cy5pc0xpbmVFZGdlKCk/cy5nZXRFZGdlKCkuc2V0Q292ZXJlZChpPT09cGwuSU5URVJJT1IpOihzLmlzSW5SZXN1bHQoKSYmKGk9cGwuRVhURVJJT1IpLGEuaXNJblJlc3VsdCgpJiYoaT1wbC5JTlRFUklPUikpfX0sZS5wcm90b3R5cGUuY29tcHV0ZUxhYmVsbGluZz1mdW5jdGlvbihlKXt0LnByb3RvdHlwZS5jb21wdXRlTGFiZWxsaW5nLmNhbGwodGhpcyxlKSx0aGlzLl9sYWJlbD1uZXcgRGgocGwuTk9ORSk7Zm9yKHZhciBuPXRoaXMuaXRlcmF0b3IoKTtuLmhhc05leHQoKTspZm9yKHZhciByPW4ubmV4dCgpLmdldEVkZ2UoKS5nZXRMYWJlbCgpLGk9MDtpPDI7aSsrKXt2YXIgbz1yLmdldExvY2F0aW9uKGkpO28hPT1wbC5JTlRFUklPUiYmbyE9PXBsLkJPVU5EQVJZfHx0aGlzLl9sYWJlbC5zZXRMb2NhdGlvbihpLHBsLklOVEVSSU9SKX19LGUucHJvdG90eXBlLmludGVyZmFjZXNfPWZ1bmN0aW9uKCl7cmV0dXJuW119LGUucHJvdG90eXBlLmdldENsYXNzPWZ1bmN0aW9uKCl7cmV0dXJuIGV9LGV9KFhwKSxIcD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9cmV0dXJuIHQmJihlLl9fcHJvdG9fXz10KSxlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSxlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1lLGUucHJvdG90eXBlLmNyZWF0ZU5vZGU9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBCaCh0LG5ldyBZcCl9LGUucHJvdG90eXBlLmludGVyZmFjZXNfPWZ1bmN0aW9uKCl7cmV0dXJuW119LGUucHJvdG90eXBlLmdldENsYXNzPWZ1bmN0aW9uKCl7cmV0dXJuIGV9LGV9KFloKSxXcD1mdW5jdGlvbiB0KCl7dGhpcy5fcHRzPW51bGwsdGhpcy5fb3JpZW50YXRpb249bnVsbDt2YXIgZT1hcmd1bWVudHNbMF07dGhpcy5fcHRzPWUsdGhpcy5fb3JpZW50YXRpb249dC5vcmllbnRhdGlvbihlKX07V3AucHJvdG90eXBlLmNvbXBhcmVUbz1mdW5jdGlvbih0KXt2YXIgZT10O3JldHVybiBXcC5jb21wYXJlT3JpZW50ZWQodGhpcy5fcHRzLHRoaXMuX29yaWVudGF0aW9uLGUuX3B0cyxlLl9vcmllbnRhdGlvbil9LFdwLnByb3RvdHlwZS5pbnRlcmZhY2VzXz1mdW5jdGlvbigpe3JldHVybltpbF19LFdwLnByb3RvdHlwZS5nZXRDbGFzcz1mdW5jdGlvbigpe3JldHVybiBXcH0sV3Aub3JpZW50YXRpb249ZnVuY3Rpb24odCl7cmV0dXJuIDE9PT1wYy5pbmNyZWFzaW5nRGlyZWN0aW9uKHQpfSxXcC5jb21wYXJlT3JpZW50ZWQ9ZnVuY3Rpb24odCxlLG4scil7Zm9yKHZhciBpPWU/MTotMSxvPXI/MTotMSxzPWU/dC5sZW5ndGg6LTEsYT1yP24ubGVuZ3RoOi0xLHU9ZT8wOnQubGVuZ3RoLTEsbD1yPzA6bi5sZW5ndGgtMTs7KXt2YXIgYz10W3VdLmNvbXBhcmVUbyhuW2xdKTtpZigwIT09YylyZXR1cm4gYzt2YXIgaD0odSs9aSk9PT1zLHA9KGwrPW8pPT09YTtpZihoJiYhcClyZXR1cm4tMTtpZighaCYmcClyZXR1cm4gMTtpZihoJiZwKXJldHVybiAwfX07dmFyIEpwPWZ1bmN0aW9uKCl7dGhpcy5fZWRnZXM9bmV3IGxjLHRoaXMuX29jYU1hcD1uZXcgQ2N9O0pwLnByb3RvdHlwZS5wcmludD1mdW5jdGlvbih0KXt0LnByaW50KCJNVUxUSUxJTkVTVFJJTkcgKCAiKTtmb3IodmFyIGU9MDtlPHRoaXMuX2VkZ2VzLnNpemUoKTtlKyspe3ZhciBuPXRoaXMuX2VkZ2VzLmdldChlKTtlPjAmJnQucHJpbnQoIiwiKSx0LnByaW50KCIoIik7Zm9yKHZhciByPW4uZ2V0Q29vcmRpbmF0ZXMoKSxpPTA7aTxyLmxlbmd0aDtpKyspaT4wJiZ0LnByaW50KCIsIiksdC5wcmludChyW2ldLngrIiAiK3JbaV0ueSk7dC5wcmludGxuKCIpIil9dC5wcmludCgiKSAgIil9LEpwLnByb3RvdHlwZS5hZGRBbGw9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXQuaXRlcmF0b3IoKTtlLmhhc05leHQoKTspdGhpcy5hZGQoZS5uZXh0KCkpfSxKcC5wcm90b3R5cGUuZmluZEVkZ2VJbmRleD1mdW5jdGlvbih0KXtmb3IodmFyIGU9MDtlPHRoaXMuX2VkZ2VzLnNpemUoKTtlKyspaWYodGhpcy5fZWRnZXMuZ2V0KGUpLmVxdWFscyh0KSlyZXR1cm4gZTtyZXR1cm4tMX0sSnAucHJvdG90eXBlLml0ZXJhdG9yPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2VkZ2VzLml0ZXJhdG9yKCl9LEpwLnByb3RvdHlwZS5nZXRFZGdlcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9lZGdlc30sSnAucHJvdG90eXBlLmdldD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fZWRnZXMuZ2V0KHQpfSxKcC5wcm90b3R5cGUuZmluZEVxdWFsRWRnZT1mdW5jdGlvbih0KXt2YXIgZT1uZXcgV3AodC5nZXRDb29yZGluYXRlcygpKTtyZXR1cm4gdGhpcy5fb2NhTWFwLmdldChlKX0sSnAucHJvdG90eXBlLmFkZD1mdW5jdGlvbih0KXt0aGlzLl9lZGdlcy5hZGQodCk7dmFyIGU9bmV3IFdwKHQuZ2V0Q29vcmRpbmF0ZXMoKSk7dGhpcy5fb2NhTWFwLnB1dChlLHQpfSxKcC5wcm90b3R5cGUuaW50ZXJmYWNlc189ZnVuY3Rpb24oKXtyZXR1cm5bXX0sSnAucHJvdG90eXBlLmdldENsYXNzPWZ1bmN0aW9uKCl7cmV0dXJuIEpwfTt2YXIgWnA9ZnVuY3Rpb24oKXt9O1pwLnByb3RvdHlwZS5wcm9jZXNzSW50ZXJzZWN0aW9ucz1mdW5jdGlvbih0LGUsbixyKXt9LFpwLnByb3RvdHlwZS5pc0RvbmU9ZnVuY3Rpb24oKXt9LFpwLnByb3RvdHlwZS5pbnRlcmZhY2VzXz1mdW5jdGlvbigpe3JldHVybltdfSxacC5wcm90b3R5cGUuZ2V0Q2xhc3M9ZnVuY3Rpb24oKXtyZXR1cm4gWnB9O3ZhciBLcD1mdW5jdGlvbigpe3RoaXMuX2hhc0ludGVyc2VjdGlvbj0hMSx0aGlzLl9oYXNQcm9wZXI9ITEsdGhpcy5faGFzUHJvcGVySW50ZXJpb3I9ITEsdGhpcy5faGFzSW50ZXJpb3I9ITEsdGhpcy5fcHJvcGVySW50ZXJzZWN0aW9uUG9pbnQ9bnVsbCx0aGlzLl9saT1udWxsLHRoaXMuX2lzU2VsZkludGVyc2VjdGlvbj1udWxsLHRoaXMubnVtSW50ZXJzZWN0aW9ucz0wLHRoaXMubnVtSW50ZXJpb3JJbnRlcnNlY3Rpb25zPTAsdGhpcy5udW1Qcm9wZXJJbnRlcnNlY3Rpb25zPTAsdGhpcy5udW1UZXN0cz0wO3ZhciB0PWFyZ3VtZW50c1swXTt0aGlzLl9saT10fTtLcC5wcm90b3R5cGUuaXNUcml2aWFsSW50ZXJzZWN0aW9uPWZ1bmN0aW9uKHQsZSxuLHIpe2lmKHQ9PT1uJiYxPT09dGhpcy5fbGkuZ2V0SW50ZXJzZWN0aW9uTnVtKCkpe2lmKEtwLmlzQWRqYWNlbnRTZWdtZW50cyhlLHIpKXJldHVybiEwO2lmKHQuaXNDbG9zZWQoKSl7dmFyIGk9dC5zaXplKCktMTtpZigwPT09ZSYmcj09PWl8fDA9PT1yJiZlPT09aSlyZXR1cm4hMH19cmV0dXJuITF9LEtwLnByb3RvdHlwZS5nZXRQcm9wZXJJbnRlcnNlY3Rpb25Qb2ludD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9wcm9wZXJJbnRlcnNlY3Rpb25Qb2ludH0sS3AucHJvdG90eXBlLmhhc1Byb3BlckludGVyaW9ySW50ZXJzZWN0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2hhc1Byb3BlckludGVyaW9yfSxLcC5wcm90b3R5cGUuZ2V0TGluZUludGVyc2VjdG9yPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2xpfSxLcC5wcm90b3R5cGUuaGFzUHJvcGVySW50ZXJzZWN0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2hhc1Byb3Blcn0sS3AucHJvdG90eXBlLnByb2Nlc3NJbnRlcnNlY3Rpb25zPWZ1bmN0aW9uKHQsZSxuLHIpe2lmKHQ9PT1uJiZlPT09cilyZXR1cm4gbnVsbDt0aGlzLm51bVRlc3RzKys7dmFyIGk9dC5nZXRDb29yZGluYXRlcygpW2VdLG89dC5nZXRDb29yZGluYXRlcygpW2UrMV0scz1uLmdldENvb3JkaW5hdGVzKClbcl0sYT1uLmdldENvb3JkaW5hdGVzKClbcisxXTt0aGlzLl9saS5jb21wdXRlSW50ZXJzZWN0aW9uKGksbyxzLGEpLHRoaXMuX2xpLmhhc0ludGVyc2VjdGlvbigpJiYodGhpcy5udW1JbnRlcnNlY3Rpb25zKyssdGhpcy5fbGkuaXNJbnRlcmlvckludGVyc2VjdGlvbigpJiYodGhpcy5udW1JbnRlcmlvckludGVyc2VjdGlvbnMrKyx0aGlzLl9oYXNJbnRlcmlvcj0hMCksdGhpcy5pc1RyaXZpYWxJbnRlcnNlY3Rpb24odCxlLG4scil8fCh0aGlzLl9oYXNJbnRlcnNlY3Rpb249ITAsdC5hZGRJbnRlcnNlY3Rpb25zKHRoaXMuX2xpLGUsMCksbi5hZGRJbnRlcnNlY3Rpb25zKHRoaXMuX2xpLHIsMSksdGhpcy5fbGkuaXNQcm9wZXIoKSYmKHRoaXMubnVtUHJvcGVySW50ZXJzZWN0aW9ucysrLHRoaXMuX2hhc1Byb3Blcj0hMCx0aGlzLl9oYXNQcm9wZXJJbnRlcmlvcj0hMCkpKX0sS3AucHJvdG90eXBlLmhhc0ludGVyc2VjdGlvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9oYXNJbnRlcnNlY3Rpb259LEtwLnByb3RvdHlwZS5pc0RvbmU9ZnVuY3Rpb24oKXtyZXR1cm4hMX0sS3AucHJvdG90eXBlLmhhc0ludGVyaW9ySW50ZXJzZWN0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2hhc0ludGVyaW9yfSxLcC5wcm90b3R5cGUuaW50ZXJmYWNlc189ZnVuY3Rpb24oKXtyZXR1cm5bWnBdfSxLcC5wcm90b3R5cGUuZ2V0Q2xhc3M9ZnVuY3Rpb24oKXtyZXR1cm4gS3B9LEtwLmlzQWRqYWNlbnRTZWdtZW50cz1mdW5jdGlvbih0LGUpe3JldHVybiAxPT09TWF0aC5hYnModC1lKX07dmFyIFFwPWZ1bmN0aW9uKCl7dGhpcy5jb29yZD1udWxsLHRoaXMuc2VnbWVudEluZGV4PW51bGwsdGhpcy5kaXN0PW51bGw7dmFyIHQ9YXJndW1lbnRzWzBdLGU9YXJndW1lbnRzWzFdLG49YXJndW1lbnRzWzJdO3RoaXMuY29vcmQ9bmV3IHVsKHQpLHRoaXMuc2VnbWVudEluZGV4PWUsdGhpcy5kaXN0PW59O1FwLnByb3RvdHlwZS5nZXRTZWdtZW50SW5kZXg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zZWdtZW50SW5kZXh9LFFwLnByb3RvdHlwZS5nZXRDb29yZGluYXRlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29vcmR9LFFwLnByb3RvdHlwZS5wcmludD1mdW5jdGlvbih0KXt0LnByaW50KHRoaXMuY29vcmQpLHQucHJpbnQoIiBzZWcgIyA9ICIrdGhpcy5zZWdtZW50SW5kZXgpLHQucHJpbnRsbigiIGRpc3QgPSAiK3RoaXMuZGlzdCl9LFFwLnByb3RvdHlwZS5jb21wYXJlVG89ZnVuY3Rpb24odCl7dmFyIGU9dDtyZXR1cm4gdGhpcy5jb21wYXJlKGUuc2VnbWVudEluZGV4LGUuZGlzdCl9LFFwLnByb3RvdHlwZS5pc0VuZFBvaW50PWZ1bmN0aW9uKHQpe3JldHVybiAwPT09dGhpcy5zZWdtZW50SW5kZXgmJjA9PT10aGlzLmRpc3R8fHRoaXMuc2VnbWVudEluZGV4PT09dH0sUXAucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29vcmQrIiBzZWcgIyA9ICIrdGhpcy5zZWdtZW50SW5kZXgrIiBkaXN0ID0gIit0aGlzLmRpc3R9LFFwLnByb3RvdHlwZS5nZXREaXN0YW5jZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmRpc3R9LFFwLnByb3RvdHlwZS5jb21wYXJlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuc2VnbWVudEluZGV4PHQ/LTE6dGhpcy5zZWdtZW50SW5kZXg+dD8xOnRoaXMuZGlzdDxlPy0xOnRoaXMuZGlzdD5lPzE6MH0sUXAucHJvdG90eXBlLmludGVyZmFjZXNfPWZ1bmN0aW9uKCl7cmV0dXJuW2lsXX0sUXAucHJvdG90eXBlLmdldENsYXNzPWZ1bmN0aW9uKCl7cmV0dXJuIFFwfTt2YXIgJHA9ZnVuY3Rpb24oKXt0aGlzLl9ub2RlTWFwPW5ldyBDYyx0aGlzLmVkZ2U9bnVsbDt2YXIgdD1hcmd1bWVudHNbMF07dGhpcy5lZGdlPXR9OyRwLnByb3RvdHlwZS5wcmludD1mdW5jdGlvbih0KXt0LnByaW50bG4oIkludGVyc2VjdGlvbnM6Iik7Zm9yKHZhciBlPXRoaXMuaXRlcmF0b3IoKTtlLmhhc05leHQoKTspe2UubmV4dCgpLnByaW50KHQpfX0sJHAucHJvdG90eXBlLml0ZXJhdG9yPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX25vZGVNYXAudmFsdWVzKCkuaXRlcmF0b3IoKX0sJHAucHJvdG90eXBlLmFkZFNwbGl0RWRnZXM9ZnVuY3Rpb24odCl7dGhpcy5hZGRFbmRwb2ludHMoKTtmb3IodmFyIGU9dGhpcy5pdGVyYXRvcigpLG49ZS5uZXh0KCk7ZS5oYXNOZXh0KCk7KXt2YXIgcj1lLm5leHQoKSxpPXRoaXMuY3JlYXRlU3BsaXRFZGdlKG4scik7dC5hZGQoaSksbj1yfX0sJHAucHJvdG90eXBlLmFkZEVuZHBvaW50cz1mdW5jdGlvbigpe3ZhciB0PXRoaXMuZWRnZS5wdHMubGVuZ3RoLTE7dGhpcy5hZGQodGhpcy5lZGdlLnB0c1swXSwwLDApLHRoaXMuYWRkKHRoaXMuZWRnZS5wdHNbdF0sdCwwKX0sJHAucHJvdG90eXBlLmNyZWF0ZVNwbGl0RWRnZT1mdW5jdGlvbih0LGUpe3ZhciBuPWUuc2VnbWVudEluZGV4LXQuc2VnbWVudEluZGV4KzIscj10aGlzLmVkZ2UucHRzW2Uuc2VnbWVudEluZGV4XSxpPWUuZGlzdD4wfHwhZS5jb29yZC5lcXVhbHMyRChyKTtpfHxuLS07dmFyIG89bmV3IEFycmF5KG4pLmZpbGwobnVsbCkscz0wO29bcysrXT1uZXcgdWwodC5jb29yZCk7Zm9yKHZhciBhPXQuc2VnbWVudEluZGV4KzE7YTw9ZS5zZWdtZW50SW5kZXg7YSsrKW9bcysrXT10aGlzLmVkZ2UucHRzW2FdO3JldHVybiBpJiYob1tzXT1lLmNvb3JkKSxuZXcgb2YobyxuZXcgRGgodGhpcy5lZGdlLl9sYWJlbCkpfSwkcC5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uZXcgUXAodCxlLG4pLGk9dGhpcy5fbm9kZU1hcC5nZXQocik7cmV0dXJuIG51bGwhPT1pP2k6KHRoaXMuX25vZGVNYXAucHV0KHIscikscil9LCRwLnByb3RvdHlwZS5pc0ludGVyc2VjdGlvbj1mdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcy5pdGVyYXRvcigpO2UuaGFzTmV4dCgpOyl7aWYoZS5uZXh0KCkuY29vcmQuZXF1YWxzKHQpKXJldHVybiEwfXJldHVybiExfSwkcC5wcm90b3R5cGUuaW50ZXJmYWNlc189ZnVuY3Rpb24oKXtyZXR1cm5bXX0sJHAucHJvdG90eXBlLmdldENsYXNzPWZ1bmN0aW9uKCl7cmV0dXJuICRwfTt2YXIgdGY9ZnVuY3Rpb24oKXt9O3RmLnByb3RvdHlwZS5nZXRDaGFpblN0YXJ0SW5kaWNlcz1mdW5jdGlvbih0KXt2YXIgZT0wLG49bmV3IGxjO24uYWRkKG5ldyBfbChlKSk7ZG97dmFyIHI9dGhpcy5maW5kQ2hhaW5FbmQodCxlKTtuLmFkZChuZXcgX2wocikpLGU9cn13aGlsZShlPHQubGVuZ3RoLTEpO3JldHVybiB0Zi50b0ludEFycmF5KG4pfSx0Zi5wcm90b3R5cGUuZmluZENoYWluRW5kPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPWpoLnF1YWRyYW50KHRbZV0sdFtlKzFdKSxyPWUrMTtyPHQubGVuZ3RoOyl7aWYoamgucXVhZHJhbnQodFtyLTFdLHRbcl0pIT09bilicmVhaztyKyt9cmV0dXJuIHItMX0sdGYucHJvdG90eXBlLmludGVyZmFjZXNfPWZ1bmN0aW9uKCl7cmV0dXJuW119LHRmLnByb3RvdHlwZS5nZXRDbGFzcz1mdW5jdGlvbigpe3JldHVybiB0Zn0sdGYudG9JbnRBcnJheT1mdW5jdGlvbih0KXtmb3IodmFyIGU9bmV3IEFycmF5KHQuc2l6ZSgpKS5maWxsKG51bGwpLG49MDtuPGUubGVuZ3RoO24rKyllW25dPXQuZ2V0KG4pLmludFZhbHVlKCk7cmV0dXJuIGV9O3ZhciBlZj1mdW5jdGlvbigpe3RoaXMuZT1udWxsLHRoaXMucHRzPW51bGwsdGhpcy5zdGFydEluZGV4PW51bGwsdGhpcy5lbnYxPW5ldyBMbCx0aGlzLmVudjI9bmV3IExsO3ZhciB0PWFyZ3VtZW50c1swXTt0aGlzLmU9dCx0aGlzLnB0cz10LmdldENvb3JkaW5hdGVzKCk7dmFyIGU9bmV3IHRmO3RoaXMuc3RhcnRJbmRleD1lLmdldENoYWluU3RhcnRJbmRpY2VzKHRoaXMucHRzKX07ZWYucHJvdG90eXBlLmdldENvb3JkaW5hdGVzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucHRzfSxlZi5wcm90b3R5cGUuZ2V0TWF4WD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLnB0c1t0aGlzLnN0YXJ0SW5kZXhbdF1dLngsbj10aGlzLnB0c1t0aGlzLnN0YXJ0SW5kZXhbdCsxXV0ueDtyZXR1cm4gZT5uP2U6bn0sZWYucHJvdG90eXBlLmdldE1pblg9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5wdHNbdGhpcy5zdGFydEluZGV4W3RdXS54LG49dGhpcy5wdHNbdGhpcy5zdGFydEluZGV4W3QrMV1dLng7cmV0dXJuIGU8bj9lOm59LGVmLnByb3RvdHlwZS5jb21wdXRlSW50ZXJzZWN0c0ZvckNoYWluPWZ1bmN0aW9uKCl7aWYoND09PWFyZ3VtZW50cy5sZW5ndGgpe3ZhciB0PWFyZ3VtZW50c1swXSxlPWFyZ3VtZW50c1sxXSxuPWFyZ3VtZW50c1syXSxyPWFyZ3VtZW50c1szXTt0aGlzLmNvbXB1dGVJbnRlcnNlY3RzRm9yQ2hhaW4odGhpcy5zdGFydEluZGV4W3RdLHRoaXMuc3RhcnRJbmRleFt0KzFdLGUsZS5zdGFydEluZGV4W25dLGUuc3RhcnRJbmRleFtuKzFdLHIpfWVsc2UgaWYoNj09PWFyZ3VtZW50cy5sZW5ndGgpe3ZhciBpPWFyZ3VtZW50c1swXSxvPWFyZ3VtZW50c1sxXSxzPWFyZ3VtZW50c1syXSxhPWFyZ3VtZW50c1szXSx1PWFyZ3VtZW50c1s0XSxsPWFyZ3VtZW50c1s1XSxjPXRoaXMucHRzW2ldLGg9dGhpcy5wdHNbb10scD1zLnB0c1thXSxmPXMucHRzW3VdO2lmKG8taT09MSYmdS1hPT0xKXJldHVybiBsLmFkZEludGVyc2VjdGlvbnModGhpcy5lLGkscy5lLGEpLG51bGw7aWYodGhpcy5lbnYxLmluaXQoYyxoKSx0aGlzLmVudjIuaW5pdChwLGYpLCF0aGlzLmVudjEuaW50ZXJzZWN0cyh0aGlzLmVudjIpKXJldHVybiBudWxsO3ZhciBnPU1hdGgudHJ1bmMoKGkrbykvMiksZD1NYXRoLnRydW5jKChhK3UpLzIpO2k8ZyYmKGE8ZCYmdGhpcy5jb21wdXRlSW50ZXJzZWN0c0ZvckNoYWluKGksZyxzLGEsZCxsKSxkPHUmJnRoaXMuY29tcHV0ZUludGVyc2VjdHNGb3JDaGFpbihpLGcscyxkLHUsbCkpLGc8byYmKGE8ZCYmdGhpcy5jb21wdXRlSW50ZXJzZWN0c0ZvckNoYWluKGcsbyxzLGEsZCxsKSxkPHUmJnRoaXMuY29tcHV0ZUludGVyc2VjdHNGb3JDaGFpbihnLG8scyxkLHUsbCkpfX0sZWYucHJvdG90eXBlLmdldFN0YXJ0SW5kZXhlcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnN0YXJ0SW5kZXh9LGVmLnByb3RvdHlwZS5jb21wdXRlSW50ZXJzZWN0cz1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj0wO248dGhpcy5zdGFydEluZGV4Lmxlbmd0aC0xO24rKylmb3IodmFyIHI9MDtyPHQuc3RhcnRJbmRleC5sZW5ndGgtMTtyKyspdGhpcy5jb21wdXRlSW50ZXJzZWN0c0ZvckNoYWluKG4sdCxyLGUpfSxlZi5wcm90b3R5cGUuaW50ZXJmYWNlc189ZnVuY3Rpb24oKXtyZXR1cm5bXX0sZWYucHJvdG90eXBlLmdldENsYXNzPWZ1bmN0aW9uKCl7cmV0dXJuIGVmfTt2YXIgbmY9ZnVuY3Rpb24gdCgpe3RoaXMuX2RlcHRoPUFycmF5KDIpLmZpbGwoKS5tYXAoKGZ1bmN0aW9uKCl7cmV0dXJuIEFycmF5KDMpfSkpO2Zvcih2YXIgZT0wO2U8MjtlKyspZm9yKHZhciBuPTA7bjwzO24rKyl0aGlzLl9kZXB0aFtlXVtuXT10Lk5VTExfVkFMVUV9LHJmPXtOVUxMX1ZBTFVFOntjb25maWd1cmFibGU6ITB9fTtuZi5wcm90b3R5cGUuZ2V0RGVwdGg9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5fZGVwdGhbdF1bZV19LG5mLnByb3RvdHlwZS5zZXREZXB0aD1mdW5jdGlvbih0LGUsbil7dGhpcy5fZGVwdGhbdF1bZV09bn0sbmYucHJvdG90eXBlLmlzTnVsbD1mdW5jdGlvbigpe3ZhciB0PXRoaXM7aWYoMD09PWFyZ3VtZW50cy5sZW5ndGgpe2Zvcih2YXIgZT0wO2U8MjtlKyspZm9yKHZhciBuPTA7bjwzO24rKylpZih0Ll9kZXB0aFtlXVtuXSE9PW5mLk5VTExfVkFMVUUpcmV0dXJuITE7cmV0dXJuITB9aWYoMT09PWFyZ3VtZW50cy5sZW5ndGgpe3ZhciByPWFyZ3VtZW50c1swXTtyZXR1cm4gdGhpcy5fZGVwdGhbcl1bMV09PT1uZi5OVUxMX1ZBTFVFfWlmKDI9PT1hcmd1bWVudHMubGVuZ3RoKXt2YXIgaT1hcmd1bWVudHNbMF0sbz1hcmd1bWVudHNbMV07cmV0dXJuIHRoaXMuX2RlcHRoW2ldW29dPT09bmYuTlVMTF9WQUxVRX19LG5mLnByb3RvdHlwZS5ub3JtYWxpemU9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpcyxlPTA7ZTwyO2UrKylpZighdC5pc051bGwoZSkpe3ZhciBuPXQuX2RlcHRoW2VdWzFdO3QuX2RlcHRoW2VdWzJdPG4mJihuPXQuX2RlcHRoW2VdWzJdKSxuPDAmJihuPTApO2Zvcih2YXIgcj0xO3I8MztyKyspe3ZhciBpPTA7dC5fZGVwdGhbZV1bcl0+biYmKGk9MSksdC5fZGVwdGhbZV1bcl09aX19fSxuZi5wcm90b3R5cGUuZ2V0RGVsdGE9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2RlcHRoW3RdW1NoLlJJR0hUXS10aGlzLl9kZXB0aFt0XVtTaC5MRUZUXX0sbmYucHJvdG90eXBlLmdldExvY2F0aW9uPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuX2RlcHRoW3RdW2VdPD0wP3BsLkVYVEVSSU9SOnBsLklOVEVSSU9SfSxuZi5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4iQTogIit0aGlzLl9kZXB0aFswXVsxXSsiLCIrdGhpcy5fZGVwdGhbMF1bMl0rIiBCOiAiK3RoaXMuX2RlcHRoWzFdWzFdKyIsIit0aGlzLl9kZXB0aFsxXVsyXX0sbmYucHJvdG90eXBlLmFkZD1mdW5jdGlvbigpe3ZhciB0PXRoaXM7aWYoMT09PWFyZ3VtZW50cy5sZW5ndGgpZm9yKHZhciBlPWFyZ3VtZW50c1swXSxuPTA7bjwyO24rKylmb3IodmFyIHI9MTtyPDM7cisrKXt2YXIgaT1lLmdldExvY2F0aW9uKG4scik7aSE9PXBsLkVYVEVSSU9SJiZpIT09cGwuSU5URVJJT1J8fCh0LmlzTnVsbChuLHIpP3QuX2RlcHRoW25dW3JdPW5mLmRlcHRoQXRMb2NhdGlvbihpKTp0Ll9kZXB0aFtuXVtyXSs9bmYuZGVwdGhBdExvY2F0aW9uKGkpKX1lbHNlIGlmKDM9PT1hcmd1bWVudHMubGVuZ3RoKXt2YXIgbz1hcmd1bWVudHNbMF0scz1hcmd1bWVudHNbMV0sYT1hcmd1bWVudHNbMl07YT09PXBsLklOVEVSSU9SJiZ0aGlzLl9kZXB0aFtvXVtzXSsrfX0sbmYucHJvdG90eXBlLmludGVyZmFjZXNfPWZ1bmN0aW9uKCl7cmV0dXJuW119LG5mLnByb3RvdHlwZS5nZXRDbGFzcz1mdW5jdGlvbigpe3JldHVybiBuZn0sbmYuZGVwdGhBdExvY2F0aW9uPWZ1bmN0aW9uKHQpe3JldHVybiB0PT09cGwuRVhURVJJT1I/MDp0PT09cGwuSU5URVJJT1I/MTpuZi5OVUxMX1ZBTFVFfSxyZi5OVUxMX1ZBTFVFLmdldD1mdW5jdGlvbigpe3JldHVybi0xfSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhuZixyZik7dmFyIG9mPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXtpZih0LmNhbGwodGhpcyksdGhpcy5wdHM9bnVsbCx0aGlzLl9lbnY9bnVsbCx0aGlzLmVpTGlzdD1uZXcgJHAodGhpcyksdGhpcy5fbmFtZT1udWxsLHRoaXMuX21jZT1udWxsLHRoaXMuX2lzSXNvbGF0ZWQ9ITAsdGhpcy5fZGVwdGg9bmV3IG5mLHRoaXMuX2RlcHRoRGVsdGE9MCwxPT09YXJndW1lbnRzLmxlbmd0aCl7dmFyIG49YXJndW1lbnRzWzBdO2UuY2FsbCh0aGlzLG4sbnVsbCl9ZWxzZSBpZigyPT09YXJndW1lbnRzLmxlbmd0aCl7dmFyIHI9YXJndW1lbnRzWzBdLGk9YXJndW1lbnRzWzFdO3RoaXMucHRzPXIsdGhpcy5fbGFiZWw9aX19cmV0dXJuIHQmJihlLl9fcHJvdG9fXz10KSxlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSxlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1lLGUucHJvdG90eXBlLmdldERlcHRoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RlcHRofSxlLnByb3RvdHlwZS5nZXRDb2xsYXBzZWRFZGdlPWZ1bmN0aW9uKCl7dmFyIHQ9bmV3IEFycmF5KDIpLmZpbGwobnVsbCk7cmV0dXJuIHRbMF09dGhpcy5wdHNbMF0sdFsxXT10aGlzLnB0c1sxXSxuZXcgZSh0LERoLnRvTGluZUxhYmVsKHRoaXMuX2xhYmVsKSl9LGUucHJvdG90eXBlLmlzSXNvbGF0ZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faXNJc29sYXRlZH0sZS5wcm90b3R5cGUuZ2V0Q29vcmRpbmF0ZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wdHN9LGUucHJvdG90eXBlLnNldElzb2xhdGVkPWZ1bmN0aW9uKHQpe3RoaXMuX2lzSXNvbGF0ZWQ9dH0sZS5wcm90b3R5cGUuc2V0TmFtZT1mdW5jdGlvbih0KXt0aGlzLl9uYW1lPXR9LGUucHJvdG90eXBlLmVxdWFscz1mdW5jdGlvbih0KXtpZighKHQgaW5zdGFuY2VvZiBlKSlyZXR1cm4hMTt2YXIgbj10O2lmKHRoaXMucHRzLmxlbmd0aCE9PW4ucHRzLmxlbmd0aClyZXR1cm4hMTtmb3IodmFyIHI9ITAsaT0hMCxvPXRoaXMucHRzLmxlbmd0aCxzPTA7czx0aGlzLnB0cy5sZW5ndGg7cysrKWlmKHRoaXMucHRzW3NdLmVxdWFsczJEKG4ucHRzW3NdKXx8KHI9ITEpLHRoaXMucHRzW3NdLmVxdWFsczJEKG4ucHRzWy0tb10pfHwoaT0hMSksIXImJiFpKXJldHVybiExO3JldHVybiEwfSxlLnByb3RvdHlwZS5nZXRDb29yZGluYXRlPWZ1bmN0aW9uKCl7aWYoMD09PWFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIHRoaXMucHRzLmxlbmd0aD4wP3RoaXMucHRzWzBdOm51bGw7aWYoMT09PWFyZ3VtZW50cy5sZW5ndGgpe3ZhciB0PWFyZ3VtZW50c1swXTtyZXR1cm4gdGhpcy5wdHNbdF19fSxlLnByb3RvdHlwZS5wcmludD1mdW5jdGlvbih0KXt0LnByaW50KCJlZGdlICIrdGhpcy5fbmFtZSsiOiAiKSx0LnByaW50KCJMSU5FU1RSSU5HICgiKTtmb3IodmFyIGU9MDtlPHRoaXMucHRzLmxlbmd0aDtlKyspZT4wJiZ0LnByaW50KCIsIiksdC5wcmludCh0aGlzLnB0c1tlXS54KyIgIit0aGlzLnB0c1tlXS55KTt0LnByaW50KCIpICAiK3RoaXMuX2xhYmVsKyIgIit0aGlzLl9kZXB0aERlbHRhKX0sZS5wcm90b3R5cGUuY29tcHV0ZUlNPWZ1bmN0aW9uKHQpe2UudXBkYXRlSU0odGhpcy5fbGFiZWwsdCl9LGUucHJvdG90eXBlLmlzQ29sbGFwc2VkPWZ1bmN0aW9uKCl7cmV0dXJuISF0aGlzLl9sYWJlbC5pc0FyZWEoKSYmKDM9PT10aGlzLnB0cy5sZW5ndGgmJiEhdGhpcy5wdHNbMF0uZXF1YWxzKHRoaXMucHRzWzJdKSl9LGUucHJvdG90eXBlLmlzQ2xvc2VkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucHRzWzBdLmVxdWFscyh0aGlzLnB0c1t0aGlzLnB0cy5sZW5ndGgtMV0pfSxlLnByb3RvdHlwZS5nZXRNYXhpbXVtU2VnbWVudEluZGV4PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucHRzLmxlbmd0aC0xfSxlLnByb3RvdHlwZS5nZXREZXB0aERlbHRhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RlcHRoRGVsdGF9LGUucHJvdG90eXBlLmdldE51bVBvaW50cz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnB0cy5sZW5ndGh9LGUucHJvdG90eXBlLnByaW50UmV2ZXJzZT1mdW5jdGlvbih0KXt0LnByaW50KCJlZGdlICIrdGhpcy5fbmFtZSsiOiAiKTtmb3IodmFyIGU9dGhpcy5wdHMubGVuZ3RoLTE7ZT49MDtlLS0pdC5wcmludCh0aGlzLnB0c1tlXSsiICIpO3QucHJpbnRsbigiIil9LGUucHJvdG90eXBlLmdldE1vbm90b25lQ2hhaW5FZGdlPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGw9PT10aGlzLl9tY2UmJih0aGlzLl9tY2U9bmV3IGVmKHRoaXMpKSx0aGlzLl9tY2V9LGUucHJvdG90eXBlLmdldEVudmVsb3BlPWZ1bmN0aW9uKCl7aWYobnVsbD09PXRoaXMuX2Vudil7dGhpcy5fZW52PW5ldyBMbDtmb3IodmFyIHQ9MDt0PHRoaXMucHRzLmxlbmd0aDt0KyspdGhpcy5fZW52LmV4cGFuZFRvSW5jbHVkZSh0aGlzLnB0c1t0XSl9cmV0dXJuIHRoaXMuX2Vudn0sZS5wcm90b3R5cGUuYWRkSW50ZXJzZWN0aW9uPWZ1bmN0aW9uKHQsZSxuLHIpe3ZhciBpPW5ldyB1bCh0LmdldEludGVyc2VjdGlvbihyKSksbz1lLHM9dC5nZXRFZGdlRGlzdGFuY2UobixyKSxhPW8rMTtpZihhPHRoaXMucHRzLmxlbmd0aCl7dmFyIHU9dGhpcy5wdHNbYV07aS5lcXVhbHMyRCh1KSYmKG89YSxzPTApfXRoaXMuZWlMaXN0LmFkZChpLG8scyl9LGUucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7dmFyIHQ9bmV3IHZsO3QuYXBwZW5kKCJlZGdlICIrdGhpcy5fbmFtZSsiOiAiKSx0LmFwcGVuZCgiTElORVNUUklORyAoIik7Zm9yKHZhciBlPTA7ZTx0aGlzLnB0cy5sZW5ndGg7ZSsrKWU+MCYmdC5hcHBlbmQoIiwiKSx0LmFwcGVuZCh0aGlzLnB0c1tlXS54KyIgIit0aGlzLnB0c1tlXS55KTtyZXR1cm4gdC5hcHBlbmQoIikgICIrdGhpcy5fbGFiZWwrIiAiK3RoaXMuX2RlcHRoRGVsdGEpLHQudG9TdHJpbmcoKX0sZS5wcm90b3R5cGUuaXNQb2ludHdpc2VFcXVhbD1mdW5jdGlvbih0KXtpZih0aGlzLnB0cy5sZW5ndGghPT10LnB0cy5sZW5ndGgpcmV0dXJuITE7Zm9yKHZhciBlPTA7ZTx0aGlzLnB0cy5sZW5ndGg7ZSsrKWlmKCF0aGlzLnB0c1tlXS5lcXVhbHMyRCh0LnB0c1tlXSkpcmV0dXJuITE7cmV0dXJuITB9LGUucHJvdG90eXBlLnNldERlcHRoRGVsdGE9ZnVuY3Rpb24odCl7dGhpcy5fZGVwdGhEZWx0YT10fSxlLnByb3RvdHlwZS5nZXRFZGdlSW50ZXJzZWN0aW9uTGlzdD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmVpTGlzdH0sZS5wcm90b3R5cGUuYWRkSW50ZXJzZWN0aW9ucz1mdW5jdGlvbih0LGUsbil7Zm9yKHZhciByPTA7cjx0LmdldEludGVyc2VjdGlvbk51bSgpO3IrKyl0aGlzLmFkZEludGVyc2VjdGlvbih0LGUsbixyKX0sZS5wcm90b3R5cGUuaW50ZXJmYWNlc189ZnVuY3Rpb24oKXtyZXR1cm5bXX0sZS5wcm90b3R5cGUuZ2V0Q2xhc3M9ZnVuY3Rpb24oKXtyZXR1cm4gZX0sZS51cGRhdGVJTT1mdW5jdGlvbigpe2lmKDIhPT1hcmd1bWVudHMubGVuZ3RoKXJldHVybiB0LnByb3RvdHlwZS51cGRhdGVJTS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dmFyIGU9YXJndW1lbnRzWzBdLG49YXJndW1lbnRzWzFdO24uc2V0QXRMZWFzdElmVmFsaWQoZS5nZXRMb2NhdGlvbigwLFNoLk9OKSxlLmdldExvY2F0aW9uKDEsU2guT04pLDEpLGUuaXNBcmVhKCkmJihuLnNldEF0TGVhc3RJZlZhbGlkKGUuZ2V0TG9jYXRpb24oMCxTaC5MRUZUKSxlLmdldExvY2F0aW9uKDEsU2guTEVGVCksMiksbi5zZXRBdExlYXN0SWZWYWxpZChlLmdldExvY2F0aW9uKDAsU2guUklHSFQpLGUuZ2V0TG9jYXRpb24oMSxTaC5SSUdIVCksMikpfSxlfShxaCksc2Y9ZnVuY3Rpb24odCl7dGhpcy5fd29ya2luZ1ByZWNpc2lvbk1vZGVsPW51bGwsdGhpcy5fd29ya2luZ05vZGVyPW51bGwsdGhpcy5fZ2VvbUZhY3Q9bnVsbCx0aGlzLl9ncmFwaD1udWxsLHRoaXMuX2VkZ2VMaXN0PW5ldyBKcCx0aGlzLl9idWZQYXJhbXM9dHx8bnVsbH07c2YucHJvdG90eXBlLnNldFdvcmtpbmdQcmVjaXNpb25Nb2RlbD1mdW5jdGlvbih0KXt0aGlzLl93b3JraW5nUHJlY2lzaW9uTW9kZWw9dH0sc2YucHJvdG90eXBlLmluc2VydFVuaXF1ZUVkZ2U9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fZWRnZUxpc3QuZmluZEVxdWFsRWRnZSh0KTtpZihudWxsIT09ZSl7dmFyIG49ZS5nZXRMYWJlbCgpLHI9dC5nZXRMYWJlbCgpO2UuaXNQb2ludHdpc2VFcXVhbCh0KXx8KHI9bmV3IERoKHQuZ2V0TGFiZWwoKSkpLmZsaXAoKSxuLm1lcmdlKHIpO3ZhciBpPXNmLmRlcHRoRGVsdGEociksbz1lLmdldERlcHRoRGVsdGEoKStpO2Uuc2V0RGVwdGhEZWx0YShvKX1lbHNlIHRoaXMuX2VkZ2VMaXN0LmFkZCh0KSx0LnNldERlcHRoRGVsdGEoc2YuZGVwdGhEZWx0YSh0LmdldExhYmVsKCkpKX0sc2YucHJvdG90eXBlLmJ1aWxkU3ViZ3JhcGhzPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPW5ldyBsYyxyPXQuaXRlcmF0b3IoKTtyLmhhc05leHQoKTspe3ZhciBpPXIubmV4dCgpLG89aS5nZXRSaWdodG1vc3RDb29yZGluYXRlKCkscz1uZXcga3AobikuZ2V0RGVwdGgobyk7aS5jb21wdXRlRGVwdGgocyksaS5maW5kUmVzdWx0RWRnZXMoKSxuLmFkZChpKSxlLmFkZChpLmdldERpcmVjdGVkRWRnZXMoKSxpLmdldE5vZGVzKCkpfX0sc2YucHJvdG90eXBlLmNyZWF0ZVN1YmdyYXBocz1mdW5jdGlvbih0KXtmb3IodmFyIGU9bmV3IGxjLG49dC5nZXROb2RlcygpLml0ZXJhdG9yKCk7bi5oYXNOZXh0KCk7KXt2YXIgcj1uLm5leHQoKTtpZighci5pc1Zpc2l0ZWQoKSl7dmFyIGk9bmV3IFRoO2kuY3JlYXRlKHIpLGUuYWRkKGkpfX1yZXR1cm4gbnAuc29ydChlLG5wLnJldmVyc2VPcmRlcigpKSxlfSxzZi5wcm90b3R5cGUuY3JlYXRlRW1wdHlSZXN1bHRHZW9tZXRyeT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9nZW9tRmFjdC5jcmVhdGVQb2x5Z29uKCl9LHNmLnByb3RvdHlwZS5nZXROb2Rlcj1mdW5jdGlvbih0KXtpZihudWxsIT09dGhpcy5fd29ya2luZ05vZGVyKXJldHVybiB0aGlzLl93b3JraW5nTm9kZXI7dmFyIGU9bmV3IElwLG49bmV3IGpsO3JldHVybiBuLnNldFByZWNpc2lvbk1vZGVsKHQpLGUuc2V0U2VnbWVudEludGVyc2VjdG9yKG5ldyBLcChuKSksZX0sc2YucHJvdG90eXBlLmJ1ZmZlcj1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuX3dvcmtpbmdQcmVjaXNpb25Nb2RlbDtudWxsPT09biYmKG49dC5nZXRQcmVjaXNpb25Nb2RlbCgpKSx0aGlzLl9nZW9tRmFjdD10LmdldEZhY3RvcnkoKTt2YXIgcj1uZXcgRnAobix0aGlzLl9idWZQYXJhbXMpLGk9bmV3IHpwKHQsZSxyKS5nZXRDdXJ2ZXMoKTtpZihpLnNpemUoKTw9MClyZXR1cm4gdGhpcy5jcmVhdGVFbXB0eVJlc3VsdEdlb21ldHJ5KCk7dGhpcy5jb21wdXRlTm9kZWRFZGdlcyhpLG4pLHRoaXMuX2dyYXBoPW5ldyBIaChuZXcgSHApLHRoaXMuX2dyYXBoLmFkZEVkZ2VzKHRoaXMuX2VkZ2VMaXN0LmdldEVkZ2VzKCkpO3ZhciBvPXRoaXMuY3JlYXRlU3ViZ3JhcGhzKHRoaXMuX2dyYXBoKSxzPW5ldyBXaCh0aGlzLl9nZW9tRmFjdCk7dGhpcy5idWlsZFN1YmdyYXBocyhvLHMpO3ZhciBhPXMuZ2V0UG9seWdvbnMoKTtyZXR1cm4gYS5zaXplKCk8PTA/dGhpcy5jcmVhdGVFbXB0eVJlc3VsdEdlb21ldHJ5KCk6dGhpcy5fZ2VvbUZhY3QuYnVpbGRHZW9tZXRyeShhKX0sc2YucHJvdG90eXBlLmNvbXB1dGVOb2RlZEVkZ2VzPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5nZXROb2RlcihlKTtuLmNvbXB1dGVOb2Rlcyh0KTtmb3IodmFyIHI9bi5nZXROb2RlZFN1YnN0cmluZ3MoKS5pdGVyYXRvcigpO3IuaGFzTmV4dCgpOyl7dmFyIGk9ci5uZXh0KCksbz1pLmdldENvb3JkaW5hdGVzKCk7aWYoMiE9PW8ubGVuZ3RofHwhb1swXS5lcXVhbHMyRChvWzFdKSl7dmFyIHM9aS5nZXREYXRhKCksYT1uZXcgb2YoaS5nZXRDb29yZGluYXRlcygpLG5ldyBEaChzKSk7dGhpcy5pbnNlcnRVbmlxdWVFZGdlKGEpfX19LHNmLnByb3RvdHlwZS5zZXROb2Rlcj1mdW5jdGlvbih0KXt0aGlzLl93b3JraW5nTm9kZXI9dH0sc2YucHJvdG90eXBlLmludGVyZmFjZXNfPWZ1bmN0aW9uKCl7cmV0dXJuW119LHNmLnByb3RvdHlwZS5nZXRDbGFzcz1mdW5jdGlvbigpe3JldHVybiBzZn0sc2YuZGVwdGhEZWx0YT1mdW5jdGlvbih0KXt2YXIgZT10LmdldExvY2F0aW9uKDAsU2guTEVGVCksbj10LmdldExvY2F0aW9uKDAsU2guUklHSFQpO3JldHVybiBlPT09cGwuSU5URVJJT1ImJm49PT1wbC5FWFRFUklPUj8xOmU9PT1wbC5FWFRFUklPUiYmbj09PXBsLklOVEVSSU9SPy0xOjB9LHNmLmNvbnZlcnRTZWdTdHJpbmdzPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1uZXcgX2gsbj1uZXcgbGM7dC5oYXNOZXh0KCk7KXt2YXIgcj10Lm5leHQoKSxpPWUuY3JlYXRlTGluZVN0cmluZyhyLmdldENvb3JkaW5hdGVzKCkpO24uYWRkKGkpfXJldHVybiBlLmJ1aWxkR2VvbWV0cnkobil9O3ZhciBhZj1mdW5jdGlvbigpe2lmKHRoaXMuX25vZGVyPW51bGwsdGhpcy5fc2NhbGVGYWN0b3I9bnVsbCx0aGlzLl9vZmZzZXRYPW51bGwsdGhpcy5fb2Zmc2V0WT1udWxsLHRoaXMuX2lzU2NhbGVkPSExLDI9PT1hcmd1bWVudHMubGVuZ3RoKXt2YXIgdD1hcmd1bWVudHNbMF0sZT1hcmd1bWVudHNbMV07dGhpcy5fbm9kZXI9dCx0aGlzLl9zY2FsZUZhY3Rvcj1lLHRoaXMuX29mZnNldFg9MCx0aGlzLl9vZmZzZXRZPTAsdGhpcy5faXNTY2FsZWQ9IXRoaXMuaXNJbnRlZ2VyUHJlY2lzaW9uKCl9ZWxzZSBpZig0PT09YXJndW1lbnRzLmxlbmd0aCl7dmFyIG49YXJndW1lbnRzWzBdLHI9YXJndW1lbnRzWzFdLGk9YXJndW1lbnRzWzJdLG89YXJndW1lbnRzWzNdO3RoaXMuX25vZGVyPW4sdGhpcy5fc2NhbGVGYWN0b3I9cix0aGlzLl9vZmZzZXRYPWksdGhpcy5fb2Zmc2V0WT1vLHRoaXMuX2lzU2NhbGVkPSF0aGlzLmlzSW50ZWdlclByZWNpc2lvbigpfX07YWYucHJvdG90eXBlLnJlc2NhbGU9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO2lmKGdsKGFyZ3VtZW50c1swXSxpYykpZm9yKHZhciBlPWFyZ3VtZW50c1swXSxuPWUuaXRlcmF0b3IoKTtuLmhhc05leHQoKTspe3ZhciByPW4ubmV4dCgpO3QucmVzY2FsZShyLmdldENvb3JkaW5hdGVzKCkpfWVsc2UgaWYoYXJndW1lbnRzWzBdaW5zdGFuY2VvZiBBcnJheSl7Zm9yKHZhciBpPWFyZ3VtZW50c1swXSxvPTA7bzxpLmxlbmd0aDtvKyspaVtvXS54PWlbb10ueC90Ll9zY2FsZUZhY3Rvcit0Ll9vZmZzZXRYLGlbb10ueT1pW29dLnkvdC5fc2NhbGVGYWN0b3IrdC5fb2Zmc2V0WTsyPT09aS5sZW5ndGgmJmlbMF0uZXF1YWxzMkQoaVsxXSkmJlBsLm91dC5wcmludGxuKGkpfX0sYWYucHJvdG90eXBlLnNjYWxlPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztpZihnbChhcmd1bWVudHNbMF0saWMpKXtmb3IodmFyIGU9YXJndW1lbnRzWzBdLG49bmV3IGxjLHI9ZS5pdGVyYXRvcigpO3IuaGFzTmV4dCgpOyl7dmFyIGk9ci5uZXh0KCk7bi5hZGQobmV3IHlwKHQuc2NhbGUoaS5nZXRDb29yZGluYXRlcygpKSxpLmdldERhdGEoKSkpfXJldHVybiBufWlmKGFyZ3VtZW50c1swXWluc3RhbmNlb2YgQXJyYXkpe2Zvcih2YXIgbz1hcmd1bWVudHNbMF0scz1uZXcgQXJyYXkoby5sZW5ndGgpLmZpbGwobnVsbCksYT0wO2E8by5sZW5ndGg7YSsrKXNbYV09bmV3IHVsKE1hdGgucm91bmQoKG9bYV0ueC10Ll9vZmZzZXRYKSp0Ll9zY2FsZUZhY3RvciksTWF0aC5yb3VuZCgob1thXS55LXQuX29mZnNldFkpKnQuX3NjYWxlRmFjdG9yKSxvW2FdLnopO3ZhciB1PXBjLnJlbW92ZVJlcGVhdGVkUG9pbnRzKHMpO3JldHVybiB1fX0sYWYucHJvdG90eXBlLmlzSW50ZWdlclByZWNpc2lvbj1mdW5jdGlvbigpe3JldHVybiAxPT09dGhpcy5fc2NhbGVGYWN0b3J9LGFmLnByb3RvdHlwZS5nZXROb2RlZFN1YnN0cmluZ3M9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9ub2Rlci5nZXROb2RlZFN1YnN0cmluZ3MoKTtyZXR1cm4gdGhpcy5faXNTY2FsZWQmJnRoaXMucmVzY2FsZSh0KSx0fSxhZi5wcm90b3R5cGUuY29tcHV0ZU5vZGVzPWZ1bmN0aW9uKHQpe3ZhciBlPXQ7dGhpcy5faXNTY2FsZWQmJihlPXRoaXMuc2NhbGUodCkpLHRoaXMuX25vZGVyLmNvbXB1dGVOb2RlcyhlKX0sYWYucHJvdG90eXBlLmludGVyZmFjZXNfPWZ1bmN0aW9uKCl7cmV0dXJuW2JwXX0sYWYucHJvdG90eXBlLmdldENsYXNzPWZ1bmN0aW9uKCl7cmV0dXJuIGFmfTt2YXIgdWY9ZnVuY3Rpb24oKXt0aGlzLl9saT1uZXcgamwsdGhpcy5fc2VnU3RyaW5ncz1udWxsO3ZhciB0PWFyZ3VtZW50c1swXTt0aGlzLl9zZWdTdHJpbmdzPXR9LGxmPXtmYWN0Ontjb25maWd1cmFibGU6ITB9fTt1Zi5wcm90b3R5cGUuY2hlY2tFbmRQdFZlcnRleEludGVyc2VjdGlvbnM9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO2lmKDA9PT1hcmd1bWVudHMubGVuZ3RoKWZvcih2YXIgZT10aGlzLl9zZWdTdHJpbmdzLml0ZXJhdG9yKCk7ZS5oYXNOZXh0KCk7KXt2YXIgbj1lLm5leHQoKSxyPW4uZ2V0Q29vcmRpbmF0ZXMoKTt0LmNoZWNrRW5kUHRWZXJ0ZXhJbnRlcnNlY3Rpb25zKHJbMF0sdC5fc2VnU3RyaW5ncyksdC5jaGVja0VuZFB0VmVydGV4SW50ZXJzZWN0aW9ucyhyW3IubGVuZ3RoLTFdLHQuX3NlZ1N0cmluZ3MpfWVsc2UgaWYoMj09PWFyZ3VtZW50cy5sZW5ndGgpZm9yKHZhciBpPWFyZ3VtZW50c1swXSxvPWFyZ3VtZW50c1sxXSxzPW8uaXRlcmF0b3IoKTtzLmhhc05leHQoKTspZm9yKHZhciBhPXMubmV4dCgpLHU9YS5nZXRDb29yZGluYXRlcygpLGw9MTtsPHUubGVuZ3RoLTE7bCsrKWlmKHVbbF0uZXF1YWxzKGkpKXRocm93IG5ldyBrbCgiZm91bmQgZW5kcHQvaW50ZXJpb3IgcHQgaW50ZXJzZWN0aW9uIGF0IGluZGV4ICIrbCsiIDpwdCAiK2kpfSx1Zi5wcm90b3R5cGUuY2hlY2tJbnRlcmlvckludGVyc2VjdGlvbnM9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO2lmKDA9PT1hcmd1bWVudHMubGVuZ3RoKWZvcih2YXIgZT10aGlzLl9zZWdTdHJpbmdzLml0ZXJhdG9yKCk7ZS5oYXNOZXh0KCk7KWZvcih2YXIgbj1lLm5leHQoKSxyPXRoaXMuX3NlZ1N0cmluZ3MuaXRlcmF0b3IoKTtyLmhhc05leHQoKTspe3ZhciBpPXIubmV4dCgpO3QuY2hlY2tJbnRlcmlvckludGVyc2VjdGlvbnMobixpKX1lbHNlIGlmKDI9PT1hcmd1bWVudHMubGVuZ3RoKWZvcih2YXIgbz1hcmd1bWVudHNbMF0scz1hcmd1bWVudHNbMV0sYT1vLmdldENvb3JkaW5hdGVzKCksdT1zLmdldENvb3JkaW5hdGVzKCksbD0wO2w8YS5sZW5ndGgtMTtsKyspZm9yKHZhciBjPTA7Yzx1Lmxlbmd0aC0xO2MrKyl0LmNoZWNrSW50ZXJpb3JJbnRlcnNlY3Rpb25zKG8sbCxzLGMpO2Vsc2UgaWYoND09PWFyZ3VtZW50cy5sZW5ndGgpe3ZhciBoPWFyZ3VtZW50c1swXSxwPWFyZ3VtZW50c1sxXSxmPWFyZ3VtZW50c1syXSxnPWFyZ3VtZW50c1szXTtpZihoPT09ZiYmcD09PWcpcmV0dXJuIG51bGw7dmFyIGQ9aC5nZXRDb29yZGluYXRlcygpW3BdLHk9aC5nZXRDb29yZGluYXRlcygpW3ArMV0sdj1mLmdldENvb3JkaW5hdGVzKClbZ10sXz1mLmdldENvb3JkaW5hdGVzKClbZysxXTtpZih0aGlzLl9saS5jb21wdXRlSW50ZXJzZWN0aW9uKGQseSx2LF8pLHRoaXMuX2xpLmhhc0ludGVyc2VjdGlvbigpJiYodGhpcy5fbGkuaXNQcm9wZXIoKXx8dGhpcy5oYXNJbnRlcmlvckludGVyc2VjdGlvbih0aGlzLl9saSxkLHkpfHx0aGlzLmhhc0ludGVyaW9ySW50ZXJzZWN0aW9uKHRoaXMuX2xpLHYsXykpKXRocm93IG5ldyBrbCgiZm91bmQgbm9uLW5vZGVkIGludGVyc2VjdGlvbiBhdCAiK2QrIi0iK3krIiBhbmQgIit2KyItIitfKX19LHVmLnByb3RvdHlwZS5jaGVja1ZhbGlkPWZ1bmN0aW9uKCl7dGhpcy5jaGVja0VuZFB0VmVydGV4SW50ZXJzZWN0aW9ucygpLHRoaXMuY2hlY2tJbnRlcmlvckludGVyc2VjdGlvbnMoKSx0aGlzLmNoZWNrQ29sbGFwc2VzKCl9LHVmLnByb3RvdHlwZS5jaGVja0NvbGxhcHNlcz1mdW5jdGlvbigpe3ZhciB0PXRoaXM7aWYoMD09PWFyZ3VtZW50cy5sZW5ndGgpZm9yKHZhciBlPXRoaXMuX3NlZ1N0cmluZ3MuaXRlcmF0b3IoKTtlLmhhc05leHQoKTspe3ZhciBuPWUubmV4dCgpO3QuY2hlY2tDb2xsYXBzZXMobil9ZWxzZSBpZigxPT09YXJndW1lbnRzLmxlbmd0aClmb3IodmFyIHI9YXJndW1lbnRzWzBdLGk9ci5nZXRDb29yZGluYXRlcygpLG89MDtvPGkubGVuZ3RoLTI7bysrKXQuY2hlY2tDb2xsYXBzZShpW29dLGlbbysxXSxpW28rMl0pfSx1Zi5wcm90b3R5cGUuaGFzSW50ZXJpb3JJbnRlcnNlY3Rpb249ZnVuY3Rpb24odCxlLG4pe2Zvcih2YXIgcj0wO3I8dC5nZXRJbnRlcnNlY3Rpb25OdW0oKTtyKyspe3ZhciBpPXQuZ2V0SW50ZXJzZWN0aW9uKHIpO2lmKCFpLmVxdWFscyhlKSYmIWkuZXF1YWxzKG4pKXJldHVybiEwfXJldHVybiExfSx1Zi5wcm90b3R5cGUuY2hlY2tDb2xsYXBzZT1mdW5jdGlvbih0LGUsbil7aWYodC5lcXVhbHMobikpdGhyb3cgbmV3IGtsKCJmb3VuZCBub24tbm9kZWQgY29sbGFwc2UgYXQgIit1Zi5mYWN0LmNyZWF0ZUxpbmVTdHJpbmcoW3QsZSxuXSkpfSx1Zi5wcm90b3R5cGUuaW50ZXJmYWNlc189ZnVuY3Rpb24oKXtyZXR1cm5bXX0sdWYucHJvdG90eXBlLmdldENsYXNzPWZ1bmN0aW9uKCl7cmV0dXJuIHVmfSxsZi5mYWN0LmdldD1mdW5jdGlvbigpe3JldHVybiBuZXcgX2h9LE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHVmLGxmKTt2YXIgY2Y9ZnVuY3Rpb24oKXt0aGlzLl9saT1udWxsLHRoaXMuX3B0PW51bGwsdGhpcy5fb3JpZ2luYWxQdD1udWxsLHRoaXMuX3B0U2NhbGVkPW51bGwsdGhpcy5fcDBTY2FsZWQ9bnVsbCx0aGlzLl9wMVNjYWxlZD1udWxsLHRoaXMuX3NjYWxlRmFjdG9yPW51bGwsdGhpcy5fbWlueD1udWxsLHRoaXMuX21heHg9bnVsbCx0aGlzLl9taW55PW51bGwsdGhpcy5fbWF4eT1udWxsLHRoaXMuX2Nvcm5lcj1uZXcgQXJyYXkoNCkuZmlsbChudWxsKSx0aGlzLl9zYWZlRW52PW51bGw7dmFyIHQ9YXJndW1lbnRzWzBdLGU9YXJndW1lbnRzWzFdLG49YXJndW1lbnRzWzJdO2lmKHRoaXMuX29yaWdpbmFsUHQ9dCx0aGlzLl9wdD10LHRoaXMuX3NjYWxlRmFjdG9yPWUsdGhpcy5fbGk9bixlPD0wKXRocm93IG5ldyBlbCgiU2NhbGUgZmFjdG9yIG11c3QgYmUgbm9uLXplcm8iKTsxIT09ZSYmKHRoaXMuX3B0PW5ldyB1bCh0aGlzLnNjYWxlKHQueCksdGhpcy5zY2FsZSh0LnkpKSx0aGlzLl9wMFNjYWxlZD1uZXcgdWwsdGhpcy5fcDFTY2FsZWQ9bmV3IHVsKSx0aGlzLmluaXRDb3JuZXJzKHRoaXMuX3B0KX0saGY9e1NBRkVfRU5WX0VYUEFOU0lPTl9GQUNUT1I6e2NvbmZpZ3VyYWJsZTohMH19O2NmLnByb3RvdHlwZS5pbnRlcnNlY3RzU2NhbGVkPWZ1bmN0aW9uKHQsZSl7dmFyIG49TWF0aC5taW4odC54LGUueCkscj1NYXRoLm1heCh0LngsZS54KSxpPU1hdGgubWluKHQueSxlLnkpLG89TWF0aC5tYXgodC55LGUueSkscz10aGlzLl9tYXh4PG58fHRoaXMuX21pbng+cnx8dGhpcy5fbWF4eTxpfHx0aGlzLl9taW55Pm87aWYocylyZXR1cm4hMTt2YXIgYT10aGlzLmludGVyc2VjdHNUb2xlcmFuY2VTcXVhcmUodCxlKTtyZXR1cm4gcWwuaXNUcnVlKCEocyYmYSksIkZvdW5kIGJhZCBlbnZlbG9wZSB0ZXN0IiksYX0sY2YucHJvdG90eXBlLmluaXRDb3JuZXJzPWZ1bmN0aW9uKHQpe3ZhciBlPS41O3RoaXMuX21pbng9dC54LWUsdGhpcy5fbWF4eD10LngrZSx0aGlzLl9taW55PXQueS1lLHRoaXMuX21heHk9dC55K2UsdGhpcy5fY29ybmVyWzBdPW5ldyB1bCh0aGlzLl9tYXh4LHRoaXMuX21heHkpLHRoaXMuX2Nvcm5lclsxXT1uZXcgdWwodGhpcy5fbWlueCx0aGlzLl9tYXh5KSx0aGlzLl9jb3JuZXJbMl09bmV3IHVsKHRoaXMuX21pbngsdGhpcy5fbWlueSksdGhpcy5fY29ybmVyWzNdPW5ldyB1bCh0aGlzLl9tYXh4LHRoaXMuX21pbnkpfSxjZi5wcm90b3R5cGUuaW50ZXJzZWN0cz1mdW5jdGlvbih0LGUpe3JldHVybiAxPT09dGhpcy5fc2NhbGVGYWN0b3I/dGhpcy5pbnRlcnNlY3RzU2NhbGVkKHQsZSk6KHRoaXMuY29weVNjYWxlZCh0LHRoaXMuX3AwU2NhbGVkKSx0aGlzLmNvcHlTY2FsZWQoZSx0aGlzLl9wMVNjYWxlZCksdGhpcy5pbnRlcnNlY3RzU2NhbGVkKHRoaXMuX3AwU2NhbGVkLHRoaXMuX3AxU2NhbGVkKSl9LGNmLnByb3RvdHlwZS5zY2FsZT1mdW5jdGlvbih0KXtyZXR1cm4gTWF0aC5yb3VuZCh0KnRoaXMuX3NjYWxlRmFjdG9yKX0sY2YucHJvdG90eXBlLmdldENvb3JkaW5hdGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fb3JpZ2luYWxQdH0sY2YucHJvdG90eXBlLmNvcHlTY2FsZWQ9ZnVuY3Rpb24odCxlKXtlLng9dGhpcy5zY2FsZSh0LngpLGUueT10aGlzLnNjYWxlKHQueSl9LGNmLnByb3RvdHlwZS5nZXRTYWZlRW52ZWxvcGU9ZnVuY3Rpb24oKXtpZihudWxsPT09dGhpcy5fc2FmZUVudil7dmFyIHQ9Y2YuU0FGRV9FTlZfRVhQQU5TSU9OX0ZBQ1RPUi90aGlzLl9zY2FsZUZhY3Rvcjt0aGlzLl9zYWZlRW52PW5ldyBMbCh0aGlzLl9vcmlnaW5hbFB0LngtdCx0aGlzLl9vcmlnaW5hbFB0LngrdCx0aGlzLl9vcmlnaW5hbFB0LnktdCx0aGlzLl9vcmlnaW5hbFB0LnkrdCl9cmV0dXJuIHRoaXMuX3NhZmVFbnZ9LGNmLnByb3RvdHlwZS5pbnRlcnNlY3RzUGl4ZWxDbG9zdXJlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuX2xpLmNvbXB1dGVJbnRlcnNlY3Rpb24odCxlLHRoaXMuX2Nvcm5lclswXSx0aGlzLl9jb3JuZXJbMV0pLCEhdGhpcy5fbGkuaGFzSW50ZXJzZWN0aW9uKCl8fCh0aGlzLl9saS5jb21wdXRlSW50ZXJzZWN0aW9uKHQsZSx0aGlzLl9jb3JuZXJbMV0sdGhpcy5fY29ybmVyWzJdKSwhIXRoaXMuX2xpLmhhc0ludGVyc2VjdGlvbigpfHwodGhpcy5fbGkuY29tcHV0ZUludGVyc2VjdGlvbih0LGUsdGhpcy5fY29ybmVyWzJdLHRoaXMuX2Nvcm5lclszXSksISF0aGlzLl9saS5oYXNJbnRlcnNlY3Rpb24oKXx8KHRoaXMuX2xpLmNvbXB1dGVJbnRlcnNlY3Rpb24odCxlLHRoaXMuX2Nvcm5lclszXSx0aGlzLl9jb3JuZXJbMF0pLCEhdGhpcy5fbGkuaGFzSW50ZXJzZWN0aW9uKCkpKSl9LGNmLnByb3RvdHlwZS5pbnRlcnNlY3RzVG9sZXJhbmNlU3F1YXJlPWZ1bmN0aW9uKHQsZSl7dmFyIG49ITEscj0hMTtyZXR1cm4gdGhpcy5fbGkuY29tcHV0ZUludGVyc2VjdGlvbih0LGUsdGhpcy5fY29ybmVyWzBdLHRoaXMuX2Nvcm5lclsxXSksISF0aGlzLl9saS5pc1Byb3BlcigpfHwodGhpcy5fbGkuY29tcHV0ZUludGVyc2VjdGlvbih0LGUsdGhpcy5fY29ybmVyWzFdLHRoaXMuX2Nvcm5lclsyXSksISF0aGlzLl9saS5pc1Byb3BlcigpfHwodGhpcy5fbGkuaGFzSW50ZXJzZWN0aW9uKCkmJihuPSEwKSx0aGlzLl9saS5jb21wdXRlSW50ZXJzZWN0aW9uKHQsZSx0aGlzLl9jb3JuZXJbMl0sdGhpcy5fY29ybmVyWzNdKSwhIXRoaXMuX2xpLmlzUHJvcGVyKCl8fCh0aGlzLl9saS5oYXNJbnRlcnNlY3Rpb24oKSYmKHI9ITApLHRoaXMuX2xpLmNvbXB1dGVJbnRlcnNlY3Rpb24odCxlLHRoaXMuX2Nvcm5lclszXSx0aGlzLl9jb3JuZXJbMF0pLCEhdGhpcy5fbGkuaXNQcm9wZXIoKXx8KCEoIW58fCFyKXx8KCEhdC5lcXVhbHModGhpcy5fcHQpfHwhIWUuZXF1YWxzKHRoaXMuX3B0KSkpKSkpfSxjZi5wcm90b3R5cGUuYWRkU25hcHBlZE5vZGU9ZnVuY3Rpb24odCxlKXt2YXIgbj10LmdldENvb3JkaW5hdGUoZSkscj10LmdldENvb3JkaW5hdGUoZSsxKTtyZXR1cm4hIXRoaXMuaW50ZXJzZWN0cyhuLHIpJiYodC5hZGRJbnRlcnNlY3Rpb24odGhpcy5nZXRDb29yZGluYXRlKCksZSksITApfSxjZi5wcm90b3R5cGUuaW50ZXJmYWNlc189ZnVuY3Rpb24oKXtyZXR1cm5bXX0sY2YucHJvdG90eXBlLmdldENsYXNzPWZ1bmN0aW9uKCl7cmV0dXJuIGNmfSxoZi5TQUZFX0VOVl9FWFBBTlNJT05fRkFDVE9SLmdldD1mdW5jdGlvbigpe3JldHVybi43NX0sT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoY2YsaGYpO3ZhciBwZj1mdW5jdGlvbigpe3RoaXMudGVtcEVudjE9bmV3IExsLHRoaXMuc2VsZWN0ZWRTZWdtZW50PW5ldyB2cH07cGYucHJvdG90eXBlLnNlbGVjdD1mdW5jdGlvbigpe2lmKDE9PT1hcmd1bWVudHMubGVuZ3RoKTtlbHNlIGlmKDI9PT1hcmd1bWVudHMubGVuZ3RoKXt2YXIgdD1hcmd1bWVudHNbMF0sZT1hcmd1bWVudHNbMV07dC5nZXRMaW5lU2VnbWVudChlLHRoaXMuc2VsZWN0ZWRTZWdtZW50KSx0aGlzLnNlbGVjdCh0aGlzLnNlbGVjdGVkU2VnbWVudCl9fSxwZi5wcm90b3R5cGUuaW50ZXJmYWNlc189ZnVuY3Rpb24oKXtyZXR1cm5bXX0scGYucHJvdG90eXBlLmdldENsYXNzPWZ1bmN0aW9uKCl7cmV0dXJuIHBmfTt2YXIgZmY9ZnVuY3Rpb24oKXt0aGlzLl9pbmRleD1udWxsO3ZhciB0PWFyZ3VtZW50c1swXTt0aGlzLl9pbmRleD10fSxnZj17SG90UGl4ZWxTbmFwQWN0aW9uOntjb25maWd1cmFibGU6ITB9fTtmZi5wcm90b3R5cGUuc25hcD1mdW5jdGlvbigpe2lmKDE9PT1hcmd1bWVudHMubGVuZ3RoKXt2YXIgdD1hcmd1bWVudHNbMF07cmV0dXJuIHRoaXMuc25hcCh0LG51bGwsLTEpfWlmKDM9PT1hcmd1bWVudHMubGVuZ3RoKXt2YXIgZT1hcmd1bWVudHNbMF0sbj1hcmd1bWVudHNbMV0scj1hcmd1bWVudHNbMl0saT1lLmdldFNhZmVFbnZlbG9wZSgpLG89bmV3IGRmKGUsbixyKTtyZXR1cm4gdGhpcy5faW5kZXgucXVlcnkoaSx7aW50ZXJmYWNlc186ZnVuY3Rpb24oKXtyZXR1cm5bUWhdfSx2aXNpdEl0ZW06ZnVuY3Rpb24odCl7dC5zZWxlY3QoaSxvKX19KSxvLmlzTm9kZUFkZGVkKCl9fSxmZi5wcm90b3R5cGUuaW50ZXJmYWNlc189ZnVuY3Rpb24oKXtyZXR1cm5bXX0sZmYucHJvdG90eXBlLmdldENsYXNzPWZ1bmN0aW9uKCl7cmV0dXJuIGZmfSxnZi5Ib3RQaXhlbFNuYXBBY3Rpb24uZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIGRmfSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhmZixnZik7dmFyIGRmPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt0LmNhbGwodGhpcyksdGhpcy5faG90UGl4ZWw9bnVsbCx0aGlzLl9wYXJlbnRFZGdlPW51bGwsdGhpcy5faG90UGl4ZWxWZXJ0ZXhJbmRleD1udWxsLHRoaXMuX2lzTm9kZUFkZGVkPSExO3ZhciBlPWFyZ3VtZW50c1swXSxuPWFyZ3VtZW50c1sxXSxyPWFyZ3VtZW50c1syXTt0aGlzLl9ob3RQaXhlbD1lLHRoaXMuX3BhcmVudEVkZ2U9bix0aGlzLl9ob3RQaXhlbFZlcnRleEluZGV4PXJ9cmV0dXJuIHQmJihlLl9fcHJvdG9fXz10KSxlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSxlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1lLGUucHJvdG90eXBlLmlzTm9kZUFkZGVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2lzTm9kZUFkZGVkfSxlLnByb3RvdHlwZS5zZWxlY3Q9ZnVuY3Rpb24oKXtpZigyIT09YXJndW1lbnRzLmxlbmd0aClyZXR1cm4gdC5wcm90b3R5cGUuc2VsZWN0LmFwcGx5KHRoaXMsYXJndW1lbnRzKTt2YXIgZT1hcmd1bWVudHNbMF0sbj1hcmd1bWVudHNbMV0scj1lLmdldENvbnRleHQoKTtpZihudWxsIT09dGhpcy5fcGFyZW50RWRnZSYmcj09PXRoaXMuX3BhcmVudEVkZ2UmJm49PT10aGlzLl9ob3RQaXhlbFZlcnRleEluZGV4KXJldHVybiBudWxsO3RoaXMuX2lzTm9kZUFkZGVkPXRoaXMuX2hvdFBpeGVsLmFkZFNuYXBwZWROb2RlKHIsbil9LGUucHJvdG90eXBlLmludGVyZmFjZXNfPWZ1bmN0aW9uKCl7cmV0dXJuW119LGUucHJvdG90eXBlLmdldENsYXNzPWZ1bmN0aW9uKCl7cmV0dXJuIGV9LGV9KHBmKSx5Zj1mdW5jdGlvbigpe3RoaXMuX2xpPW51bGwsdGhpcy5faW50ZXJpb3JJbnRlcnNlY3Rpb25zPW51bGw7dmFyIHQ9YXJndW1lbnRzWzBdO3RoaXMuX2xpPXQsdGhpcy5faW50ZXJpb3JJbnRlcnNlY3Rpb25zPW5ldyBsY307eWYucHJvdG90eXBlLnByb2Nlc3NJbnRlcnNlY3Rpb25zPWZ1bmN0aW9uKHQsZSxuLHIpe2lmKHQ9PT1uJiZlPT09cilyZXR1cm4gbnVsbDt2YXIgaT10LmdldENvb3JkaW5hdGVzKClbZV0sbz10LmdldENvb3JkaW5hdGVzKClbZSsxXSxzPW4uZ2V0Q29vcmRpbmF0ZXMoKVtyXSxhPW4uZ2V0Q29vcmRpbmF0ZXMoKVtyKzFdO2lmKHRoaXMuX2xpLmNvbXB1dGVJbnRlcnNlY3Rpb24oaSxvLHMsYSksdGhpcy5fbGkuaGFzSW50ZXJzZWN0aW9uKCkmJnRoaXMuX2xpLmlzSW50ZXJpb3JJbnRlcnNlY3Rpb24oKSl7Zm9yKHZhciB1PTA7dTx0aGlzLl9saS5nZXRJbnRlcnNlY3Rpb25OdW0oKTt1KyspdGhpcy5faW50ZXJpb3JJbnRlcnNlY3Rpb25zLmFkZCh0aGlzLl9saS5nZXRJbnRlcnNlY3Rpb24odSkpO3QuYWRkSW50ZXJzZWN0aW9ucyh0aGlzLl9saSxlLDApLG4uYWRkSW50ZXJzZWN0aW9ucyh0aGlzLl9saSxyLDEpfX0seWYucHJvdG90eXBlLmlzRG9uZT1mdW5jdGlvbigpe3JldHVybiExfSx5Zi5wcm90b3R5cGUuZ2V0SW50ZXJpb3JJbnRlcnNlY3Rpb25zPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ludGVyaW9ySW50ZXJzZWN0aW9uc30seWYucHJvdG90eXBlLmludGVyZmFjZXNfPWZ1bmN0aW9uKCl7cmV0dXJuW1pwXX0seWYucHJvdG90eXBlLmdldENsYXNzPWZ1bmN0aW9uKCl7cmV0dXJuIHlmfTt2YXIgdmY9ZnVuY3Rpb24oKXt0aGlzLl9wbT1udWxsLHRoaXMuX2xpPW51bGwsdGhpcy5fc2NhbGVGYWN0b3I9bnVsbCx0aGlzLl9ub2Rlcj1udWxsLHRoaXMuX3BvaW50U25hcHBlcj1udWxsLHRoaXMuX25vZGVkU2VnU3RyaW5ncz1udWxsO3ZhciB0PWFyZ3VtZW50c1swXTt0aGlzLl9wbT10LHRoaXMuX2xpPW5ldyBqbCx0aGlzLl9saS5zZXRQcmVjaXNpb25Nb2RlbCh0KSx0aGlzLl9zY2FsZUZhY3Rvcj10LmdldFNjYWxlKCl9O3ZmLnByb3RvdHlwZS5jaGVja0NvcnJlY3RuZXNzPWZ1bmN0aW9uKHQpe3ZhciBlPXlwLmdldE5vZGVkU3Vic3RyaW5ncyh0KSxuPW5ldyB1ZihlKTt0cnl7bi5jaGVja1ZhbGlkKCl9Y2F0Y2godCl7aWYoISh0IGluc3RhbmNlb2YgU2wpKXRocm93IHQ7dC5wcmludFN0YWNrVHJhY2UoKX19LHZmLnByb3RvdHlwZS5nZXROb2RlZFN1YnN0cmluZ3M9ZnVuY3Rpb24oKXtyZXR1cm4geXAuZ2V0Tm9kZWRTdWJzdHJpbmdzKHRoaXMuX25vZGVkU2VnU3RyaW5ncyl9LHZmLnByb3RvdHlwZS5zbmFwUm91bmQ9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLmZpbmRJbnRlcmlvckludGVyc2VjdGlvbnModCxlKTt0aGlzLmNvbXB1dGVJbnRlcnNlY3Rpb25TbmFwcyhuKSx0aGlzLmNvbXB1dGVWZXJ0ZXhTbmFwcyh0KX0sdmYucHJvdG90eXBlLmZpbmRJbnRlcmlvckludGVyc2VjdGlvbnM9ZnVuY3Rpb24odCxlKXt2YXIgbj1uZXcgeWYoZSk7cmV0dXJuIHRoaXMuX25vZGVyLnNldFNlZ21lbnRJbnRlcnNlY3RvcihuKSx0aGlzLl9ub2Rlci5jb21wdXRlTm9kZXModCksbi5nZXRJbnRlcmlvckludGVyc2VjdGlvbnMoKX0sdmYucHJvdG90eXBlLmNvbXB1dGVWZXJ0ZXhTbmFwcz1mdW5jdGlvbigpe3ZhciB0PXRoaXM7aWYoZ2woYXJndW1lbnRzWzBdLGljKSlmb3IodmFyIGU9YXJndW1lbnRzWzBdLG49ZS5pdGVyYXRvcigpO24uaGFzTmV4dCgpOyl7dmFyIHI9bi5uZXh0KCk7dC5jb21wdXRlVmVydGV4U25hcHMocil9ZWxzZSBpZihhcmd1bWVudHNbMF1pbnN0YW5jZW9mIHlwKWZvcih2YXIgaT1hcmd1bWVudHNbMF0sbz1pLmdldENvb3JkaW5hdGVzKCkscz0wO3M8by5sZW5ndGg7cysrKXt2YXIgYT1uZXcgY2Yob1tzXSx0Ll9zY2FsZUZhY3Rvcix0Ll9saSksdT10Ll9wb2ludFNuYXBwZXIuc25hcChhLGkscyk7dSYmaS5hZGRJbnRlcnNlY3Rpb24ob1tzXSxzKX19LHZmLnByb3RvdHlwZS5jb21wdXRlTm9kZXM9ZnVuY3Rpb24odCl7dGhpcy5fbm9kZWRTZWdTdHJpbmdzPXQsdGhpcy5fbm9kZXI9bmV3IElwLHRoaXMuX3BvaW50U25hcHBlcj1uZXcgZmYodGhpcy5fbm9kZXIuZ2V0SW5kZXgoKSksdGhpcy5zbmFwUm91bmQodCx0aGlzLl9saSl9LHZmLnByb3RvdHlwZS5jb21wdXRlSW50ZXJzZWN0aW9uU25hcHM9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMsbj10Lml0ZXJhdG9yKCk7bi5oYXNOZXh0KCk7KXt2YXIgcj1uLm5leHQoKSxpPW5ldyBjZihyLGUuX3NjYWxlRmFjdG9yLGUuX2xpKTtlLl9wb2ludFNuYXBwZXIuc25hcChpKX19LHZmLnByb3RvdHlwZS5pbnRlcmZhY2VzXz1mdW5jdGlvbigpe3JldHVyblticF19LHZmLnByb3RvdHlwZS5nZXRDbGFzcz1mdW5jdGlvbigpe3JldHVybiB2Zn07dmFyIF9mPWZ1bmN0aW9uKCl7aWYodGhpcy5fYXJnR2VvbT1udWxsLHRoaXMuX2Rpc3RhbmNlPW51bGwsdGhpcy5fYnVmUGFyYW1zPW5ldyBTcCx0aGlzLl9yZXN1bHRHZW9tZXRyeT1udWxsLHRoaXMuX3NhdmVFeGNlcHRpb249bnVsbCwxPT09YXJndW1lbnRzLmxlbmd0aCl7dmFyIHQ9YXJndW1lbnRzWzBdO3RoaXMuX2FyZ0dlb209dH1lbHNlIGlmKDI9PT1hcmd1bWVudHMubGVuZ3RoKXt2YXIgZT1hcmd1bWVudHNbMF0sbj1hcmd1bWVudHNbMV07dGhpcy5fYXJnR2VvbT1lLHRoaXMuX2J1ZlBhcmFtcz1ufX0sbWY9e0NBUF9ST1VORDp7Y29uZmlndXJhYmxlOiEwfSxDQVBfQlVUVDp7Y29uZmlndXJhYmxlOiEwfSxDQVBfRkxBVDp7Y29uZmlndXJhYmxlOiEwfSxDQVBfU1FVQVJFOntjb25maWd1cmFibGU6ITB9LE1BWF9QUkVDSVNJT05fRElHSVRTOntjb25maWd1cmFibGU6ITB9fTtfZi5wcm90b3R5cGUuYnVmZmVyRml4ZWRQcmVjaXNpb249ZnVuY3Rpb24odCl7dmFyIGU9bmV3IGFmKG5ldyB2ZihuZXcgZ2goMSkpLHQuZ2V0U2NhbGUoKSksbj1uZXcgc2YodGhpcy5fYnVmUGFyYW1zKTtuLnNldFdvcmtpbmdQcmVjaXNpb25Nb2RlbCh0KSxuLnNldE5vZGVyKGUpLHRoaXMuX3Jlc3VsdEdlb21ldHJ5PW4uYnVmZmVyKHRoaXMuX2FyZ0dlb20sdGhpcy5fZGlzdGFuY2UpfSxfZi5wcm90b3R5cGUuYnVmZmVyUmVkdWNlZFByZWNpc2lvbj1mdW5jdGlvbigpe3ZhciB0PXRoaXM7aWYoMD09PWFyZ3VtZW50cy5sZW5ndGgpe2Zvcih2YXIgZT1fZi5NQVhfUFJFQ0lTSU9OX0RJR0lUUztlPj0wO2UtLSl7dHJ5e3QuYnVmZmVyUmVkdWNlZFByZWNpc2lvbihlKX1jYXRjaChlKXtpZighKGUgaW5zdGFuY2VvZiBPaCkpdGhyb3cgZTt0Ll9zYXZlRXhjZXB0aW9uPWV9aWYobnVsbCE9PXQuX3Jlc3VsdEdlb21ldHJ5KXJldHVybiBudWxsfXRocm93IHRoaXMuX3NhdmVFeGNlcHRpb259aWYoMT09PWFyZ3VtZW50cy5sZW5ndGgpe3ZhciBuPWFyZ3VtZW50c1swXSxyPV9mLnByZWNpc2lvblNjYWxlRmFjdG9yKHRoaXMuX2FyZ0dlb20sdGhpcy5fZGlzdGFuY2UsbiksaT1uZXcgZ2gocik7dGhpcy5idWZmZXJGaXhlZFByZWNpc2lvbihpKX19LF9mLnByb3RvdHlwZS5jb21wdXRlR2VvbWV0cnk9ZnVuY3Rpb24oKXtpZih0aGlzLmJ1ZmZlck9yaWdpbmFsUHJlY2lzaW9uKCksbnVsbCE9PXRoaXMuX3Jlc3VsdEdlb21ldHJ5KXJldHVybiBudWxsO3ZhciB0PXRoaXMuX2FyZ0dlb20uZ2V0RmFjdG9yeSgpLmdldFByZWNpc2lvbk1vZGVsKCk7dC5nZXRUeXBlKCk9PT1naC5GSVhFRD90aGlzLmJ1ZmZlckZpeGVkUHJlY2lzaW9uKHQpOnRoaXMuYnVmZmVyUmVkdWNlZFByZWNpc2lvbigpfSxfZi5wcm90b3R5cGUuc2V0UXVhZHJhbnRTZWdtZW50cz1mdW5jdGlvbih0KXt0aGlzLl9idWZQYXJhbXMuc2V0UXVhZHJhbnRTZWdtZW50cyh0KX0sX2YucHJvdG90eXBlLmJ1ZmZlck9yaWdpbmFsUHJlY2lzaW9uPWZ1bmN0aW9uKCl7dHJ5e3ZhciB0PW5ldyBzZih0aGlzLl9idWZQYXJhbXMpO3RoaXMuX3Jlc3VsdEdlb21ldHJ5PXQuYnVmZmVyKHRoaXMuX2FyZ0dlb20sdGhpcy5fZGlzdGFuY2UpfWNhdGNoKHQpe2lmKCEodCBpbnN0YW5jZW9mIGtsKSl0aHJvdyB0O3RoaXMuX3NhdmVFeGNlcHRpb249dH19LF9mLnByb3RvdHlwZS5nZXRSZXN1bHRHZW9tZXRyeT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fZGlzdGFuY2U9dCx0aGlzLmNvbXB1dGVHZW9tZXRyeSgpLHRoaXMuX3Jlc3VsdEdlb21ldHJ5fSxfZi5wcm90b3R5cGUuc2V0RW5kQ2FwU3R5bGU9ZnVuY3Rpb24odCl7dGhpcy5fYnVmUGFyYW1zLnNldEVuZENhcFN0eWxlKHQpfSxfZi5wcm90b3R5cGUuaW50ZXJmYWNlc189ZnVuY3Rpb24oKXtyZXR1cm5bXX0sX2YucHJvdG90eXBlLmdldENsYXNzPWZ1bmN0aW9uKCl7cmV0dXJuIF9mfSxfZi5idWZmZXJPcD1mdW5jdGlvbigpe2lmKDI9PT1hcmd1bWVudHMubGVuZ3RoKXt2YXIgdD1hcmd1bWVudHNbMF0sZT1hcmd1bWVudHNbMV0sbj1uZXcgX2YodCkscj1uLmdldFJlc3VsdEdlb21ldHJ5KGUpO3JldHVybiByfWlmKDM9PT1hcmd1bWVudHMubGVuZ3RoKXtpZihOdW1iZXIuaXNJbnRlZ2VyKGFyZ3VtZW50c1syXSkmJmFyZ3VtZW50c1swXWluc3RhbmNlb2YgV2wmJiJudW1iZXIiPT10eXBlb2YgYXJndW1lbnRzWzFdKXt2YXIgaT1hcmd1bWVudHNbMF0sbz1hcmd1bWVudHNbMV0scz1hcmd1bWVudHNbMl0sYT1uZXcgX2YoaSk7YS5zZXRRdWFkcmFudFNlZ21lbnRzKHMpO3ZhciB1PWEuZ2V0UmVzdWx0R2VvbWV0cnkobyk7cmV0dXJuIHV9aWYoYXJndW1lbnRzWzJdaW5zdGFuY2VvZiBTcCYmYXJndW1lbnRzWzBdaW5zdGFuY2VvZiBXbCYmIm51bWJlciI9PXR5cGVvZiBhcmd1bWVudHNbMV0pe3ZhciBsPWFyZ3VtZW50c1swXSxjPWFyZ3VtZW50c1sxXSxoPWFyZ3VtZW50c1syXSxwPW5ldyBfZihsLGgpLGY9cC5nZXRSZXN1bHRHZW9tZXRyeShjKTtyZXR1cm4gZn19ZWxzZSBpZig0PT09YXJndW1lbnRzLmxlbmd0aCl7dmFyIGc9YXJndW1lbnRzWzBdLGQ9YXJndW1lbnRzWzFdLHk9YXJndW1lbnRzWzJdLHY9YXJndW1lbnRzWzNdLF89bmV3IF9mKGcpO18uc2V0UXVhZHJhbnRTZWdtZW50cyh5KSxfLnNldEVuZENhcFN0eWxlKHYpO3ZhciBtPV8uZ2V0UmVzdWx0R2VvbWV0cnkoZCk7cmV0dXJuIG19fSxfZi5wcmVjaXNpb25TY2FsZUZhY3Rvcj1mdW5jdGlvbih0LGUsbil7dmFyIHI9dC5nZXRFbnZlbG9wZUludGVybmFsKCksaT1kbC5tYXgoTWF0aC5hYnMoci5nZXRNYXhYKCkpLE1hdGguYWJzKHIuZ2V0TWF4WSgpKSxNYXRoLmFicyhyLmdldE1pblgoKSksTWF0aC5hYnMoci5nZXRNaW5ZKCkpKSsyKihlPjA/ZTowKSxvPW4tTWF0aC50cnVuYyhNYXRoLmxvZyhpKS9NYXRoLmxvZygxMCkrMSk7cmV0dXJuIE1hdGgucG93KDEwLG8pfSxtZi5DQVBfUk9VTkQuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIFNwLkNBUF9ST1VORH0sbWYuQ0FQX0JVVFQuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIFNwLkNBUF9GTEFUfSxtZi5DQVBfRkxBVC5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gU3AuQ0FQX0ZMQVR9LG1mLkNBUF9TUVVBUkUuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIFNwLkNBUF9TUVVBUkV9LG1mLk1BWF9QUkVDSVNJT05fRElHSVRTLmdldD1mdW5jdGlvbigpe3JldHVybiAxMn0sT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoX2YsbWYpO3ZhciB4Zj1mdW5jdGlvbigpe3RoaXMuX3B0PVtuZXcgdWwsbmV3IHVsXSx0aGlzLl9kaXN0YW5jZT1ubC5OYU4sdGhpcy5faXNOdWxsPSEwfTt4Zi5wcm90b3R5cGUuZ2V0Q29vcmRpbmF0ZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcHR9LHhmLnByb3RvdHlwZS5nZXRDb29yZGluYXRlPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9wdFt0XX0seGYucHJvdG90eXBlLnNldE1pbmltdW09ZnVuY3Rpb24oKXtpZigxPT09YXJndW1lbnRzLmxlbmd0aCl7dmFyIHQ9YXJndW1lbnRzWzBdO3RoaXMuc2V0TWluaW11bSh0Ll9wdFswXSx0Ll9wdFsxXSl9ZWxzZSBpZigyPT09YXJndW1lbnRzLmxlbmd0aCl7dmFyIGU9YXJndW1lbnRzWzBdLG49YXJndW1lbnRzWzFdO2lmKHRoaXMuX2lzTnVsbClyZXR1cm4gdGhpcy5pbml0aWFsaXplKGUsbiksbnVsbDt2YXIgcj1lLmRpc3RhbmNlKG4pO3I8dGhpcy5fZGlzdGFuY2UmJnRoaXMuaW5pdGlhbGl6ZShlLG4scil9fSx4Zi5wcm90b3R5cGUuaW5pdGlhbGl6ZT1mdW5jdGlvbigpe2lmKDA9PT1hcmd1bWVudHMubGVuZ3RoKXRoaXMuX2lzTnVsbD0hMDtlbHNlIGlmKDI9PT1hcmd1bWVudHMubGVuZ3RoKXt2YXIgdD1hcmd1bWVudHNbMF0sZT1hcmd1bWVudHNbMV07dGhpcy5fcHRbMF0uc2V0Q29vcmRpbmF0ZSh0KSx0aGlzLl9wdFsxXS5zZXRDb29yZGluYXRlKGUpLHRoaXMuX2Rpc3RhbmNlPXQuZGlzdGFuY2UoZSksdGhpcy5faXNOdWxsPSExfWVsc2UgaWYoMz09PWFyZ3VtZW50cy5sZW5ndGgpe3ZhciBuPWFyZ3VtZW50c1swXSxyPWFyZ3VtZW50c1sxXSxpPWFyZ3VtZW50c1syXTt0aGlzLl9wdFswXS5zZXRDb29yZGluYXRlKG4pLHRoaXMuX3B0WzFdLnNldENvb3JkaW5hdGUociksdGhpcy5fZGlzdGFuY2U9aSx0aGlzLl9pc051bGw9ITF9fSx4Zi5wcm90b3R5cGUuZ2V0RGlzdGFuY2U9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGlzdGFuY2V9LHhmLnByb3RvdHlwZS5zZXRNYXhpbXVtPWZ1bmN0aW9uKCl7aWYoMT09PWFyZ3VtZW50cy5sZW5ndGgpe3ZhciB0PWFyZ3VtZW50c1swXTt0aGlzLnNldE1heGltdW0odC5fcHRbMF0sdC5fcHRbMV0pfWVsc2UgaWYoMj09PWFyZ3VtZW50cy5sZW5ndGgpe3ZhciBlPWFyZ3VtZW50c1swXSxuPWFyZ3VtZW50c1sxXTtpZih0aGlzLl9pc051bGwpcmV0dXJuIHRoaXMuaW5pdGlhbGl6ZShlLG4pLG51bGw7dmFyIHI9ZS5kaXN0YW5jZShuKTtyPnRoaXMuX2Rpc3RhbmNlJiZ0aGlzLmluaXRpYWxpemUoZSxuLHIpfX0seGYucHJvdG90eXBlLmludGVyZmFjZXNfPWZ1bmN0aW9uKCl7cmV0dXJuW119LHhmLnByb3RvdHlwZS5nZXRDbGFzcz1mdW5jdGlvbigpe3JldHVybiB4Zn07dmFyIEVmPWZ1bmN0aW9uKCl7fTtFZi5wcm90b3R5cGUuaW50ZXJmYWNlc189ZnVuY3Rpb24oKXtyZXR1cm5bXX0sRWYucHJvdG90eXBlLmdldENsYXNzPWZ1bmN0aW9uKCl7cmV0dXJuIEVmfSxFZi5jb21wdXRlRGlzdGFuY2U9ZnVuY3Rpb24oKXtpZihhcmd1bWVudHNbMl1pbnN0YW5jZW9mIHhmJiZhcmd1bWVudHNbMF1pbnN0YW5jZW9mIFpjJiZhcmd1bWVudHNbMV1pbnN0YW5jZW9mIHVsKWZvcih2YXIgdD1hcmd1bWVudHNbMF0sZT1hcmd1bWVudHNbMV0sbj1hcmd1bWVudHNbMl0scj10LmdldENvb3JkaW5hdGVzKCksaT1uZXcgdnAsbz0wO288ci5sZW5ndGgtMTtvKyspe2kuc2V0Q29vcmRpbmF0ZXMocltvXSxyW28rMV0pO3ZhciBzPWkuY2xvc2VzdFBvaW50KGUpO24uc2V0TWluaW11bShzLGUpfWVsc2UgaWYoYXJndW1lbnRzWzJdaW5zdGFuY2VvZiB4ZiYmYXJndW1lbnRzWzBdaW5zdGFuY2VvZiB0aCYmYXJndW1lbnRzWzFdaW5zdGFuY2VvZiB1bCl7dmFyIGE9YXJndW1lbnRzWzBdLHU9YXJndW1lbnRzWzFdLGw9YXJndW1lbnRzWzJdO0VmLmNvbXB1dGVEaXN0YW5jZShhLmdldEV4dGVyaW9yUmluZygpLHUsbCk7Zm9yKHZhciBjPTA7YzxhLmdldE51bUludGVyaW9yUmluZygpO2MrKylFZi5jb21wdXRlRGlzdGFuY2UoYS5nZXRJbnRlcmlvclJpbmdOKGMpLHUsbCl9ZWxzZSBpZihhcmd1bWVudHNbMl1pbnN0YW5jZW9mIHhmJiZhcmd1bWVudHNbMF1pbnN0YW5jZW9mIFdsJiZhcmd1bWVudHNbMV1pbnN0YW5jZW9mIHVsKXt2YXIgaD1hcmd1bWVudHNbMF0scD1hcmd1bWVudHNbMV0sZj1hcmd1bWVudHNbMl07aWYoaCBpbnN0YW5jZW9mIFpjKUVmLmNvbXB1dGVEaXN0YW5jZShoLHAsZik7ZWxzZSBpZihoIGluc3RhbmNlb2YgdGgpRWYuY29tcHV0ZURpc3RhbmNlKGgscCxmKTtlbHNlIGlmKGggaW5zdGFuY2VvZiBrYylmb3IodmFyIGc9aCxkPTA7ZDxnLmdldE51bUdlb21ldHJpZXMoKTtkKyspe3ZhciB5PWcuZ2V0R2VvbWV0cnlOKGQpO0VmLmNvbXB1dGVEaXN0YW5jZSh5LHAsZil9ZWxzZSBmLnNldE1pbmltdW0oaC5nZXRDb29yZGluYXRlKCkscCl9ZWxzZSBpZihhcmd1bWVudHNbMl1pbnN0YW5jZW9mIHhmJiZhcmd1bWVudHNbMF1pbnN0YW5jZW9mIHZwJiZhcmd1bWVudHNbMV1pbnN0YW5jZW9mIHVsKXt2YXIgdj1hcmd1bWVudHNbMF0sXz1hcmd1bWVudHNbMV0sbT1hcmd1bWVudHNbMl0seD12LmNsb3Nlc3RQb2ludChfKTttLnNldE1pbmltdW0oeCxfKX19O3ZhciBiZj1mdW5jdGlvbih0KXt0aGlzLl9tYXhQdERpc3Q9bmV3IHhmLHRoaXMuX2lucHV0R2VvbT10fHxudWxsfSx3Zj17TWF4UG9pbnREaXN0YW5jZUZpbHRlcjp7Y29uZmlndXJhYmxlOiEwfSxNYXhNaWRwb2ludERpc3RhbmNlRmlsdGVyOntjb25maWd1cmFibGU6ITB9fTtiZi5wcm90b3R5cGUuY29tcHV0ZU1heE1pZHBvaW50RGlzdGFuY2U9ZnVuY3Rpb24odCl7dmFyIGU9bmV3IE5mKHRoaXMuX2lucHV0R2VvbSk7dC5hcHBseShlKSx0aGlzLl9tYXhQdERpc3Quc2V0TWF4aW11bShlLmdldE1heFBvaW50RGlzdGFuY2UoKSl9LGJmLnByb3RvdHlwZS5jb21wdXRlTWF4VmVydGV4RGlzdGFuY2U9ZnVuY3Rpb24odCl7dmFyIGU9bmV3IElmKHRoaXMuX2lucHV0R2VvbSk7dC5hcHBseShlKSx0aGlzLl9tYXhQdERpc3Quc2V0TWF4aW11bShlLmdldE1heFBvaW50RGlzdGFuY2UoKSl9LGJmLnByb3RvdHlwZS5maW5kRGlzdGFuY2U9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuY29tcHV0ZU1heFZlcnRleERpc3RhbmNlKHQpLHRoaXMuY29tcHV0ZU1heE1pZHBvaW50RGlzdGFuY2UodCksdGhpcy5fbWF4UHREaXN0LmdldERpc3RhbmNlKCl9LGJmLnByb3RvdHlwZS5nZXREaXN0YW5jZVBvaW50cz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9tYXhQdERpc3R9LGJmLnByb3RvdHlwZS5pbnRlcmZhY2VzXz1mdW5jdGlvbigpe3JldHVybltdfSxiZi5wcm90b3R5cGUuZ2V0Q2xhc3M9ZnVuY3Rpb24oKXtyZXR1cm4gYmZ9LHdmLk1heFBvaW50RGlzdGFuY2VGaWx0ZXIuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIElmfSx3Zi5NYXhNaWRwb2ludERpc3RhbmNlRmlsdGVyLmdldD1mdW5jdGlvbigpe3JldHVybiBOZn0sT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoYmYsd2YpO3ZhciBJZj1mdW5jdGlvbih0KXt0aGlzLl9tYXhQdERpc3Q9bmV3IHhmLHRoaXMuX21pblB0RGlzdD1uZXcgeGYsdGhpcy5fZ2VvbT10fHxudWxsfTtJZi5wcm90b3R5cGUuZmlsdGVyPWZ1bmN0aW9uKHQpe3RoaXMuX21pblB0RGlzdC5pbml0aWFsaXplKCksRWYuY29tcHV0ZURpc3RhbmNlKHRoaXMuX2dlb20sdCx0aGlzLl9taW5QdERpc3QpLHRoaXMuX21heFB0RGlzdC5zZXRNYXhpbXVtKHRoaXMuX21pblB0RGlzdCl9LElmLnByb3RvdHlwZS5nZXRNYXhQb2ludERpc3RhbmNlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX21heFB0RGlzdH0sSWYucHJvdG90eXBlLmludGVyZmFjZXNfPWZ1bmN0aW9uKCl7cmV0dXJuW0tsXX0sSWYucHJvdG90eXBlLmdldENsYXNzPWZ1bmN0aW9uKCl7cmV0dXJuIElmfTt2YXIgTmY9ZnVuY3Rpb24odCl7dGhpcy5fbWF4UHREaXN0PW5ldyB4Zix0aGlzLl9taW5QdERpc3Q9bmV3IHhmLHRoaXMuX2dlb209dHx8bnVsbH07TmYucHJvdG90eXBlLmZpbHRlcj1mdW5jdGlvbih0LGUpe2lmKDA9PT1lKXJldHVybiBudWxsO3ZhciBuPXQuZ2V0Q29vcmRpbmF0ZShlLTEpLHI9dC5nZXRDb29yZGluYXRlKGUpLGk9bmV3IHVsKChuLngrci54KS8yLChuLnkrci55KS8yKTt0aGlzLl9taW5QdERpc3QuaW5pdGlhbGl6ZSgpLEVmLmNvbXB1dGVEaXN0YW5jZSh0aGlzLl9nZW9tLGksdGhpcy5fbWluUHREaXN0KSx0aGlzLl9tYXhQdERpc3Quc2V0TWF4aW11bSh0aGlzLl9taW5QdERpc3QpfSxOZi5wcm90b3R5cGUuaXNEb25lPWZ1bmN0aW9uKCl7cmV0dXJuITF9LE5mLnByb3RvdHlwZS5pc0dlb21ldHJ5Q2hhbmdlZD1mdW5jdGlvbigpe3JldHVybiExfSxOZi5wcm90b3R5cGUuZ2V0TWF4UG9pbnREaXN0YW5jZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9tYXhQdERpc3R9LE5mLnByb3RvdHlwZS5pbnRlcmZhY2VzXz1mdW5jdGlvbigpe3JldHVybltGY119LE5mLnByb3RvdHlwZS5nZXRDbGFzcz1mdW5jdGlvbigpe3JldHVybiBOZn07dmFyIFNmPWZ1bmN0aW9uKHQpe3RoaXMuX2NvbXBzPXR8fG51bGx9O1NmLnByb3RvdHlwZS5maWx0ZXI9ZnVuY3Rpb24odCl7dCBpbnN0YW5jZW9mIHRoJiZ0aGlzLl9jb21wcy5hZGQodCl9LFNmLnByb3RvdHlwZS5pbnRlcmZhY2VzXz1mdW5jdGlvbigpe3JldHVybltEY119LFNmLnByb3RvdHlwZS5nZXRDbGFzcz1mdW5jdGlvbigpe3JldHVybiBTZn0sU2YuZ2V0UG9seWdvbnM9ZnVuY3Rpb24oKXtpZigxPT09YXJndW1lbnRzLmxlbmd0aCl7dmFyIHQ9YXJndW1lbnRzWzBdO3JldHVybiBTZi5nZXRQb2x5Z29ucyh0LG5ldyBsYyl9aWYoMj09PWFyZ3VtZW50cy5sZW5ndGgpe3ZhciBlPWFyZ3VtZW50c1swXSxuPWFyZ3VtZW50c1sxXTtyZXR1cm4gZSBpbnN0YW5jZW9mIHRoP24uYWRkKGUpOmUgaW5zdGFuY2VvZiBrYyYmZS5hcHBseShuZXcgU2YobikpLG59fTt2YXIgQ2Y9ZnVuY3Rpb24oKXtpZih0aGlzLl9saW5lcz1udWxsLHRoaXMuX2lzRm9yY2VkVG9MaW5lU3RyaW5nPSExLDE9PT1hcmd1bWVudHMubGVuZ3RoKXt2YXIgdD1hcmd1bWVudHNbMF07dGhpcy5fbGluZXM9dH1lbHNlIGlmKDI9PT1hcmd1bWVudHMubGVuZ3RoKXt2YXIgZT1hcmd1bWVudHNbMF0sbj1hcmd1bWVudHNbMV07dGhpcy5fbGluZXM9ZSx0aGlzLl9pc0ZvcmNlZFRvTGluZVN0cmluZz1ufX07Q2YucHJvdG90eXBlLmZpbHRlcj1mdW5jdGlvbih0KXtpZih0aGlzLl9pc0ZvcmNlZFRvTGluZVN0cmluZyYmdCBpbnN0YW5jZW9mIG5oKXt2YXIgZT10LmdldEZhY3RvcnkoKS5jcmVhdGVMaW5lU3RyaW5nKHQuZ2V0Q29vcmRpbmF0ZVNlcXVlbmNlKCkpO3JldHVybiB0aGlzLl9saW5lcy5hZGQoZSksbnVsbH10IGluc3RhbmNlb2YgWmMmJnRoaXMuX2xpbmVzLmFkZCh0KX0sQ2YucHJvdG90eXBlLnNldEZvcmNlVG9MaW5lU3RyaW5nPWZ1bmN0aW9uKHQpe3RoaXMuX2lzRm9yY2VkVG9MaW5lU3RyaW5nPXR9LENmLnByb3RvdHlwZS5pbnRlcmZhY2VzXz1mdW5jdGlvbigpe3JldHVybltIbF19LENmLnByb3RvdHlwZS5nZXRDbGFzcz1mdW5jdGlvbigpe3JldHVybiBDZn0sQ2YuZ2V0R2VvbWV0cnk9ZnVuY3Rpb24oKXtpZigxPT09YXJndW1lbnRzLmxlbmd0aCl7dmFyIHQ9YXJndW1lbnRzWzBdO3JldHVybiB0LmdldEZhY3RvcnkoKS5idWlsZEdlb21ldHJ5KENmLmdldExpbmVzKHQpKX1pZigyPT09YXJndW1lbnRzLmxlbmd0aCl7dmFyIGU9YXJndW1lbnRzWzBdLG49YXJndW1lbnRzWzFdO3JldHVybiBlLmdldEZhY3RvcnkoKS5idWlsZEdlb21ldHJ5KENmLmdldExpbmVzKGUsbikpfX0sQ2YuZ2V0TGluZXM9ZnVuY3Rpb24oKXtpZigxPT09YXJndW1lbnRzLmxlbmd0aCl7dmFyIHQ9YXJndW1lbnRzWzBdO3JldHVybiBDZi5nZXRMaW5lcyh0LCExKX1pZigyPT09YXJndW1lbnRzLmxlbmd0aCl7aWYoZ2woYXJndW1lbnRzWzBdLGljKSYmZ2woYXJndW1lbnRzWzFdLGljKSl7Zm9yKHZhciBlPWFyZ3VtZW50c1swXSxuPWFyZ3VtZW50c1sxXSxyPWUuaXRlcmF0b3IoKTtyLmhhc05leHQoKTspe3ZhciBpPXIubmV4dCgpO0NmLmdldExpbmVzKGksbil9cmV0dXJuIG59aWYoYXJndW1lbnRzWzBdaW5zdGFuY2VvZiBXbCYmImJvb2xlYW4iPT10eXBlb2YgYXJndW1lbnRzWzFdKXt2YXIgbz1hcmd1bWVudHNbMF0scz1hcmd1bWVudHNbMV0sYT1uZXcgbGM7cmV0dXJuIG8uYXBwbHkobmV3IENmKGEscykpLGF9aWYoYXJndW1lbnRzWzBdaW5zdGFuY2VvZiBXbCYmZ2woYXJndW1lbnRzWzFdLGljKSl7dmFyIHU9YXJndW1lbnRzWzBdLGw9YXJndW1lbnRzWzFdO3JldHVybiB1IGluc3RhbmNlb2YgWmM/bC5hZGQodSk6dS5hcHBseShuZXcgQ2YobCkpLGx9fWVsc2UgaWYoMz09PWFyZ3VtZW50cy5sZW5ndGgpe2lmKCJib29sZWFuIj09dHlwZW9mIGFyZ3VtZW50c1syXSYmZ2woYXJndW1lbnRzWzBdLGljKSYmZ2woYXJndW1lbnRzWzFdLGljKSl7Zm9yKHZhciBjPWFyZ3VtZW50c1swXSxoPWFyZ3VtZW50c1sxXSxwPWFyZ3VtZW50c1syXSxmPWMuaXRlcmF0b3IoKTtmLmhhc05leHQoKTspe3ZhciBnPWYubmV4dCgpO0NmLmdldExpbmVzKGcsaCxwKX1yZXR1cm4gaH1pZigiYm9vbGVhbiI9PXR5cGVvZiBhcmd1bWVudHNbMl0mJmFyZ3VtZW50c1swXWluc3RhbmNlb2YgV2wmJmdsKGFyZ3VtZW50c1sxXSxpYykpe3ZhciBkPWFyZ3VtZW50c1swXSx5PWFyZ3VtZW50c1sxXSx2PWFyZ3VtZW50c1syXTtyZXR1cm4gZC5hcHBseShuZXcgQ2YoeSx2KSkseX19fTt2YXIgUGY9ZnVuY3Rpb24oKXtpZih0aGlzLl9ib3VuZGFyeVJ1bGU9UWwuT0dDX1NGU19CT1VOREFSWV9SVUxFLHRoaXMuX2lzSW49bnVsbCx0aGlzLl9udW1Cb3VuZGFyaWVzPW51bGwsMD09PWFyZ3VtZW50cy5sZW5ndGgpO2Vsc2UgaWYoMT09PWFyZ3VtZW50cy5sZW5ndGgpe3ZhciB0PWFyZ3VtZW50c1swXTtpZihudWxsPT09dCl0aHJvdyBuZXcgZWwoIlJ1bGUgbXVzdCBiZSBub24tbnVsbCIpO3RoaXMuX2JvdW5kYXJ5UnVsZT10fX07UGYucHJvdG90eXBlLmxvY2F0ZUludGVybmFsPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztpZihhcmd1bWVudHNbMF1pbnN0YW5jZW9mIHVsJiZhcmd1bWVudHNbMV1pbnN0YW5jZW9mIHRoKXt2YXIgZT1hcmd1bWVudHNbMF0sbj1hcmd1bWVudHNbMV07aWYobi5pc0VtcHR5KCkpcmV0dXJuIHBsLkVYVEVSSU9SO3ZhciByPW4uZ2V0RXh0ZXJpb3JSaW5nKCksaT10aGlzLmxvY2F0ZUluUG9seWdvblJpbmcoZSxyKTtpZihpPT09cGwuRVhURVJJT1IpcmV0dXJuIHBsLkVYVEVSSU9SO2lmKGk9PT1wbC5CT1VOREFSWSlyZXR1cm4gcGwuQk9VTkRBUlk7Zm9yKHZhciBvPTA7bzxuLmdldE51bUludGVyaW9yUmluZygpO28rKyl7dmFyIHM9bi5nZXRJbnRlcmlvclJpbmdOKG8pLGE9dC5sb2NhdGVJblBvbHlnb25SaW5nKGUscyk7aWYoYT09PXBsLklOVEVSSU9SKXJldHVybiBwbC5FWFRFUklPUjtpZihhPT09cGwuQk9VTkRBUlkpcmV0dXJuIHBsLkJPVU5EQVJZfXJldHVybiBwbC5JTlRFUklPUn1pZihhcmd1bWVudHNbMF1pbnN0YW5jZW9mIHVsJiZhcmd1bWVudHNbMV1pbnN0YW5jZW9mIFpjKXt2YXIgdT1hcmd1bWVudHNbMF0sbD1hcmd1bWVudHNbMV07aWYoIWwuZ2V0RW52ZWxvcGVJbnRlcm5hbCgpLmludGVyc2VjdHModSkpcmV0dXJuIHBsLkVYVEVSSU9SO3ZhciBjPWwuZ2V0Q29vcmRpbmF0ZXMoKTtyZXR1cm4gbC5pc0Nsb3NlZCgpfHwhdS5lcXVhbHMoY1swXSkmJiF1LmVxdWFscyhjW2MubGVuZ3RoLTFdKT9YbC5pc09uTGluZSh1LGMpP3BsLklOVEVSSU9SOnBsLkVYVEVSSU9SOnBsLkJPVU5EQVJZfWlmKGFyZ3VtZW50c1swXWluc3RhbmNlb2YgdWwmJmFyZ3VtZW50c1sxXWluc3RhbmNlb2YgUWMpe3ZhciBoPWFyZ3VtZW50c1swXSxwPWFyZ3VtZW50c1sxXSxmPXAuZ2V0Q29vcmRpbmF0ZSgpO3JldHVybiBmLmVxdWFsczJEKGgpP3BsLklOVEVSSU9SOnBsLkVYVEVSSU9SfX0sUGYucHJvdG90eXBlLmxvY2F0ZUluUG9seWdvblJpbmc9ZnVuY3Rpb24odCxlKXtyZXR1cm4gZS5nZXRFbnZlbG9wZUludGVybmFsKCkuaW50ZXJzZWN0cyh0KT9YbC5sb2NhdGVQb2ludEluUmluZyh0LGUuZ2V0Q29vcmRpbmF0ZXMoKSk6cGwuRVhURVJJT1J9LFBmLnByb3RvdHlwZS5pbnRlcnNlY3RzPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMubG9jYXRlKHQsZSkhPT1wbC5FWFRFUklPUn0sUGYucHJvdG90eXBlLnVwZGF0ZUxvY2F0aW9uSW5mbz1mdW5jdGlvbih0KXt0PT09cGwuSU5URVJJT1ImJih0aGlzLl9pc0luPSEwKSx0PT09cGwuQk9VTkRBUlkmJnRoaXMuX251bUJvdW5kYXJpZXMrK30sUGYucHJvdG90eXBlLmNvbXB1dGVMb2NhdGlvbj1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXM7aWYoZSBpbnN0YW5jZW9mIFFjJiZ0aGlzLnVwZGF0ZUxvY2F0aW9uSW5mbyh0aGlzLmxvY2F0ZUludGVybmFsKHQsZSkpLGUgaW5zdGFuY2VvZiBaYyl0aGlzLnVwZGF0ZUxvY2F0aW9uSW5mbyh0aGlzLmxvY2F0ZUludGVybmFsKHQsZSkpO2Vsc2UgaWYoZSBpbnN0YW5jZW9mIHRoKXRoaXMudXBkYXRlTG9jYXRpb25JbmZvKHRoaXMubG9jYXRlSW50ZXJuYWwodCxlKSk7ZWxzZSBpZihlIGluc3RhbmNlb2YgR2MpZm9yKHZhciByPWUsaT0wO2k8ci5nZXROdW1HZW9tZXRyaWVzKCk7aSsrKXt2YXIgbz1yLmdldEdlb21ldHJ5TihpKTtuLnVwZGF0ZUxvY2F0aW9uSW5mbyhuLmxvY2F0ZUludGVybmFsKHQsbykpfWVsc2UgaWYoZSBpbnN0YW5jZW9mIHJoKWZvcih2YXIgcz1lLGE9MDthPHMuZ2V0TnVtR2VvbWV0cmllcygpO2ErKyl7dmFyIHU9cy5nZXRHZW9tZXRyeU4oYSk7bi51cGRhdGVMb2NhdGlvbkluZm8obi5sb2NhdGVJbnRlcm5hbCh0LHUpKX1lbHNlIGlmKGUgaW5zdGFuY2VvZiBrYylmb3IodmFyIGw9bmV3IFVwKGUpO2wuaGFzTmV4dCgpOyl7dmFyIGM9bC5uZXh0KCk7YyE9PWUmJm4uY29tcHV0ZUxvY2F0aW9uKHQsYyl9fSxQZi5wcm90b3R5cGUubG9jYXRlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGUuaXNFbXB0eSgpP3BsLkVYVEVSSU9SOmUgaW5zdGFuY2VvZiBaY3x8ZSBpbnN0YW5jZW9mIHRoP3RoaXMubG9jYXRlSW50ZXJuYWwodCxlKToodGhpcy5faXNJbj0hMSx0aGlzLl9udW1Cb3VuZGFyaWVzPTAsdGhpcy5jb21wdXRlTG9jYXRpb24odCxlKSx0aGlzLl9ib3VuZGFyeVJ1bGUuaXNJbkJvdW5kYXJ5KHRoaXMuX251bUJvdW5kYXJpZXMpP3BsLkJPVU5EQVJZOnRoaXMuX251bUJvdW5kYXJpZXM+MHx8dGhpcy5faXNJbj9wbC5JTlRFUklPUjpwbC5FWFRFUklPUil9LFBmLnByb3RvdHlwZS5pbnRlcmZhY2VzXz1mdW5jdGlvbigpe3JldHVybltdfSxQZi5wcm90b3R5cGUuZ2V0Q2xhc3M9ZnVuY3Rpb24oKXtyZXR1cm4gUGZ9O3ZhciBNZj1mdW5jdGlvbiB0KCl7aWYodGhpcy5fY29tcG9uZW50PW51bGwsdGhpcy5fc2VnSW5kZXg9bnVsbCx0aGlzLl9wdD1udWxsLDI9PT1hcmd1bWVudHMubGVuZ3RoKXt2YXIgZT1hcmd1bWVudHNbMF0sbj1hcmd1bWVudHNbMV07dC5jYWxsKHRoaXMsZSx0LklOU0lERV9BUkVBLG4pfWVsc2UgaWYoMz09PWFyZ3VtZW50cy5sZW5ndGgpe3ZhciByPWFyZ3VtZW50c1swXSxpPWFyZ3VtZW50c1sxXSxvPWFyZ3VtZW50c1syXTt0aGlzLl9jb21wb25lbnQ9cix0aGlzLl9zZWdJbmRleD1pLHRoaXMuX3B0PW99fSxMZj17SU5TSURFX0FSRUE6e2NvbmZpZ3VyYWJsZTohMH19O01mLnByb3RvdHlwZS5pc0luc2lkZUFyZWE9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2VnSW5kZXg9PT1NZi5JTlNJREVfQVJFQX0sTWYucHJvdG90eXBlLmdldENvb3JkaW5hdGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcHR9LE1mLnByb3RvdHlwZS5nZXRHZW9tZXRyeUNvbXBvbmVudD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9jb21wb25lbnR9LE1mLnByb3RvdHlwZS5nZXRTZWdtZW50SW5kZXg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2VnSW5kZXh9LE1mLnByb3RvdHlwZS5pbnRlcmZhY2VzXz1mdW5jdGlvbigpe3JldHVybltdfSxNZi5wcm90b3R5cGUuZ2V0Q2xhc3M9ZnVuY3Rpb24oKXtyZXR1cm4gTWZ9LExmLklOU0lERV9BUkVBLmdldD1mdW5jdGlvbigpe3JldHVybi0xfSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhNZixMZik7dmFyIE9mPWZ1bmN0aW9uKHQpe3RoaXMuX3B0cz10fHxudWxsfTtPZi5wcm90b3R5cGUuZmlsdGVyPWZ1bmN0aW9uKHQpe3QgaW5zdGFuY2VvZiBRYyYmdGhpcy5fcHRzLmFkZCh0KX0sT2YucHJvdG90eXBlLmludGVyZmFjZXNfPWZ1bmN0aW9uKCl7cmV0dXJuW0RjXX0sT2YucHJvdG90eXBlLmdldENsYXNzPWZ1bmN0aW9uKCl7cmV0dXJuIE9mfSxPZi5nZXRQb2ludHM9ZnVuY3Rpb24oKXtpZigxPT09YXJndW1lbnRzLmxlbmd0aCl7dmFyIHQ9YXJndW1lbnRzWzBdO3JldHVybiB0IGluc3RhbmNlb2YgUWM/bnAuc2luZ2xldG9uTGlzdCh0KTpPZi5nZXRQb2ludHModCxuZXcgbGMpfWlmKDI9PT1hcmd1bWVudHMubGVuZ3RoKXt2YXIgZT1hcmd1bWVudHNbMF0sbj1hcmd1bWVudHNbMV07cmV0dXJuIGUgaW5zdGFuY2VvZiBRYz9uLmFkZChlKTplIGluc3RhbmNlb2Yga2MmJmUuYXBwbHkobmV3IE9mKG4pKSxufX07dmFyIFJmPWZ1bmN0aW9uKCl7dGhpcy5fbG9jYXRpb25zPW51bGw7dmFyIHQ9YXJndW1lbnRzWzBdO3RoaXMuX2xvY2F0aW9ucz10fTtSZi5wcm90b3R5cGUuZmlsdGVyPWZ1bmN0aW9uKHQpeyh0IGluc3RhbmNlb2YgUWN8fHQgaW5zdGFuY2VvZiBaY3x8dCBpbnN0YW5jZW9mIHRoKSYmdGhpcy5fbG9jYXRpb25zLmFkZChuZXcgTWYodCwwLHQuZ2V0Q29vcmRpbmF0ZSgpKSl9LFJmLnByb3RvdHlwZS5pbnRlcmZhY2VzXz1mdW5jdGlvbigpe3JldHVybltEY119LFJmLnByb3RvdHlwZS5nZXRDbGFzcz1mdW5jdGlvbigpe3JldHVybiBSZn0sUmYuZ2V0TG9jYXRpb25zPWZ1bmN0aW9uKHQpe3ZhciBlPW5ldyBsYztyZXR1cm4gdC5hcHBseShuZXcgUmYoZSkpLGV9O3ZhciBUZj1mdW5jdGlvbigpe2lmKHRoaXMuX2dlb209bnVsbCx0aGlzLl90ZXJtaW5hdGVEaXN0YW5jZT0wLHRoaXMuX3B0TG9jYXRvcj1uZXcgUGYsdGhpcy5fbWluRGlzdGFuY2VMb2NhdGlvbj1udWxsLHRoaXMuX21pbkRpc3RhbmNlPW5sLk1BWF9WQUxVRSwyPT09YXJndW1lbnRzLmxlbmd0aCl7dmFyIHQ9YXJndW1lbnRzWzBdLGU9YXJndW1lbnRzWzFdO3RoaXMuX2dlb209W3QsZV0sdGhpcy5fdGVybWluYXRlRGlzdGFuY2U9MH1lbHNlIGlmKDM9PT1hcmd1bWVudHMubGVuZ3RoKXt2YXIgbj1hcmd1bWVudHNbMF0scj1hcmd1bWVudHNbMV0saT1hcmd1bWVudHNbMl07dGhpcy5fZ2VvbT1uZXcgQXJyYXkoMikuZmlsbChudWxsKSx0aGlzLl9nZW9tWzBdPW4sdGhpcy5fZ2VvbVsxXT1yLHRoaXMuX3Rlcm1pbmF0ZURpc3RhbmNlPWl9fTtUZi5wcm90b3R5cGUuY29tcHV0ZUNvbnRhaW5tZW50RGlzdGFuY2U9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO2lmKDA9PT1hcmd1bWVudHMubGVuZ3RoKXt2YXIgZT1uZXcgQXJyYXkoMikuZmlsbChudWxsKTtpZih0aGlzLmNvbXB1dGVDb250YWlubWVudERpc3RhbmNlKDAsZSksdGhpcy5fbWluRGlzdGFuY2U8PXRoaXMuX3Rlcm1pbmF0ZURpc3RhbmNlKXJldHVybiBudWxsO3RoaXMuY29tcHV0ZUNvbnRhaW5tZW50RGlzdGFuY2UoMSxlKX1lbHNlIGlmKDI9PT1hcmd1bWVudHMubGVuZ3RoKXt2YXIgbj1hcmd1bWVudHNbMF0scj1hcmd1bWVudHNbMV0saT0xLW4sbz1TZi5nZXRQb2x5Z29ucyh0aGlzLl9nZW9tW25dKTtpZihvLnNpemUoKT4wKXt2YXIgcz1SZi5nZXRMb2NhdGlvbnModGhpcy5fZ2VvbVtpXSk7aWYodGhpcy5jb21wdXRlQ29udGFpbm1lbnREaXN0YW5jZShzLG8sciksdGhpcy5fbWluRGlzdGFuY2U8PXRoaXMuX3Rlcm1pbmF0ZURpc3RhbmNlKXJldHVybiB0aGlzLl9taW5EaXN0YW5jZUxvY2F0aW9uW2ldPXJbMF0sdGhpcy5fbWluRGlzdGFuY2VMb2NhdGlvbltuXT1yWzFdLG51bGx9fWVsc2UgaWYoMz09PWFyZ3VtZW50cy5sZW5ndGgpaWYoYXJndW1lbnRzWzJdaW5zdGFuY2VvZiBBcnJheSYmZ2woYXJndW1lbnRzWzBdLGFjKSYmZ2woYXJndW1lbnRzWzFdLGFjKSl7Zm9yKHZhciBhPWFyZ3VtZW50c1swXSx1PWFyZ3VtZW50c1sxXSxsPWFyZ3VtZW50c1syXSxjPTA7YzxhLnNpemUoKTtjKyspZm9yKHZhciBoPWEuZ2V0KGMpLHA9MDtwPHUuc2l6ZSgpO3ArKylpZih0LmNvbXB1dGVDb250YWlubWVudERpc3RhbmNlKGgsdS5nZXQocCksbCksdC5fbWluRGlzdGFuY2U8PXQuX3Rlcm1pbmF0ZURpc3RhbmNlKXJldHVybiBudWxsfWVsc2UgaWYoYXJndW1lbnRzWzJdaW5zdGFuY2VvZiBBcnJheSYmYXJndW1lbnRzWzBdaW5zdGFuY2VvZiBNZiYmYXJndW1lbnRzWzFdaW5zdGFuY2VvZiB0aCl7dmFyIGY9YXJndW1lbnRzWzBdLGc9YXJndW1lbnRzWzFdLGQ9YXJndW1lbnRzWzJdLHk9Zi5nZXRDb29yZGluYXRlKCk7aWYocGwuRVhURVJJT1IhPT10aGlzLl9wdExvY2F0b3IubG9jYXRlKHksZykpcmV0dXJuIHRoaXMuX21pbkRpc3RhbmNlPTAsZFswXT1mLGRbMV09bmV3IE1mKGcseSksbnVsbH19LFRmLnByb3RvdHlwZS5jb21wdXRlTWluRGlzdGFuY2VMaW5lc1BvaW50cz1mdW5jdGlvbih0LGUsbil7Zm9yKHZhciByPXRoaXMsaT0wO2k8dC5zaXplKCk7aSsrKWZvcih2YXIgbz10LmdldChpKSxzPTA7czxlLnNpemUoKTtzKyspe3ZhciBhPWUuZ2V0KHMpO2lmKHIuY29tcHV0ZU1pbkRpc3RhbmNlKG8sYSxuKSxyLl9taW5EaXN0YW5jZTw9ci5fdGVybWluYXRlRGlzdGFuY2UpcmV0dXJuIG51bGx9fSxUZi5wcm90b3R5cGUuY29tcHV0ZUZhY2V0RGlzdGFuY2U9ZnVuY3Rpb24oKXt2YXIgdD1uZXcgQXJyYXkoMikuZmlsbChudWxsKSxlPUNmLmdldExpbmVzKHRoaXMuX2dlb21bMF0pLG49Q2YuZ2V0TGluZXModGhpcy5fZ2VvbVsxXSkscj1PZi5nZXRQb2ludHModGhpcy5fZ2VvbVswXSksaT1PZi5nZXRQb2ludHModGhpcy5fZ2VvbVsxXSk7cmV0dXJuIHRoaXMuY29tcHV0ZU1pbkRpc3RhbmNlTGluZXMoZSxuLHQpLHRoaXMudXBkYXRlTWluRGlzdGFuY2UodCwhMSksdGhpcy5fbWluRGlzdGFuY2U8PXRoaXMuX3Rlcm1pbmF0ZURpc3RhbmNlP251bGw6KHRbMF09bnVsbCx0WzFdPW51bGwsdGhpcy5jb21wdXRlTWluRGlzdGFuY2VMaW5lc1BvaW50cyhlLGksdCksdGhpcy51cGRhdGVNaW5EaXN0YW5jZSh0LCExKSx0aGlzLl9taW5EaXN0YW5jZTw9dGhpcy5fdGVybWluYXRlRGlzdGFuY2U/bnVsbDoodFswXT1udWxsLHRbMV09bnVsbCx0aGlzLmNvbXB1dGVNaW5EaXN0YW5jZUxpbmVzUG9pbnRzKG4scix0KSx0aGlzLnVwZGF0ZU1pbkRpc3RhbmNlKHQsITApLHRoaXMuX21pbkRpc3RhbmNlPD10aGlzLl90ZXJtaW5hdGVEaXN0YW5jZT9udWxsOih0WzBdPW51bGwsdFsxXT1udWxsLHRoaXMuY29tcHV0ZU1pbkRpc3RhbmNlUG9pbnRzKHIsaSx0KSx2b2lkIHRoaXMudXBkYXRlTWluRGlzdGFuY2UodCwhMSkpKSl9LFRmLnByb3RvdHlwZS5uZWFyZXN0TG9jYXRpb25zPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29tcHV0ZU1pbkRpc3RhbmNlKCksdGhpcy5fbWluRGlzdGFuY2VMb2NhdGlvbn0sVGYucHJvdG90eXBlLnVwZGF0ZU1pbkRpc3RhbmNlPWZ1bmN0aW9uKHQsZSl7aWYobnVsbD09PXRbMF0pcmV0dXJuIG51bGw7ZT8odGhpcy5fbWluRGlzdGFuY2VMb2NhdGlvblswXT10WzFdLHRoaXMuX21pbkRpc3RhbmNlTG9jYXRpb25bMV09dFswXSk6KHRoaXMuX21pbkRpc3RhbmNlTG9jYXRpb25bMF09dFswXSx0aGlzLl9taW5EaXN0YW5jZUxvY2F0aW9uWzFdPXRbMV0pfSxUZi5wcm90b3R5cGUubmVhcmVzdFBvaW50cz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbXB1dGVNaW5EaXN0YW5jZSgpLFt0aGlzLl9taW5EaXN0YW5jZUxvY2F0aW9uWzBdLmdldENvb3JkaW5hdGUoKSx0aGlzLl9taW5EaXN0YW5jZUxvY2F0aW9uWzFdLmdldENvb3JkaW5hdGUoKV19LFRmLnByb3RvdHlwZS5jb21wdXRlTWluRGlzdGFuY2U9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO2lmKDA9PT1hcmd1bWVudHMubGVuZ3RoKXtpZihudWxsIT09dGhpcy5fbWluRGlzdGFuY2VMb2NhdGlvbilyZXR1cm4gbnVsbDtpZih0aGlzLl9taW5EaXN0YW5jZUxvY2F0aW9uPW5ldyBBcnJheSgyKS5maWxsKG51bGwpLHRoaXMuY29tcHV0ZUNvbnRhaW5tZW50RGlzdGFuY2UoKSx0aGlzLl9taW5EaXN0YW5jZTw9dGhpcy5fdGVybWluYXRlRGlzdGFuY2UpcmV0dXJuIG51bGw7dGhpcy5jb21wdXRlRmFjZXREaXN0YW5jZSgpfWVsc2UgaWYoMz09PWFyZ3VtZW50cy5sZW5ndGgpaWYoYXJndW1lbnRzWzJdaW5zdGFuY2VvZiBBcnJheSYmYXJndW1lbnRzWzBdaW5zdGFuY2VvZiBaYyYmYXJndW1lbnRzWzFdaW5zdGFuY2VvZiBRYyl7dmFyIGU9YXJndW1lbnRzWzBdLG49YXJndW1lbnRzWzFdLHI9YXJndW1lbnRzWzJdO2lmKGUuZ2V0RW52ZWxvcGVJbnRlcm5hbCgpLmRpc3RhbmNlKG4uZ2V0RW52ZWxvcGVJbnRlcm5hbCgpKT50aGlzLl9taW5EaXN0YW5jZSlyZXR1cm4gbnVsbDtmb3IodmFyIGk9ZS5nZXRDb29yZGluYXRlcygpLG89bi5nZXRDb29yZGluYXRlKCkscz0wO3M8aS5sZW5ndGgtMTtzKyspe3ZhciBhPVhsLmRpc3RhbmNlUG9pbnRMaW5lKG8saVtzXSxpW3MrMV0pO2lmKGE8dC5fbWluRGlzdGFuY2Upe3QuX21pbkRpc3RhbmNlPWE7dmFyIHU9bmV3IHZwKGlbc10saVtzKzFdKSxsPXUuY2xvc2VzdFBvaW50KG8pO3JbMF09bmV3IE1mKGUscyxsKSxyWzFdPW5ldyBNZihuLDAsbyl9aWYodC5fbWluRGlzdGFuY2U8PXQuX3Rlcm1pbmF0ZURpc3RhbmNlKXJldHVybiBudWxsfX1lbHNlIGlmKGFyZ3VtZW50c1syXWluc3RhbmNlb2YgQXJyYXkmJmFyZ3VtZW50c1swXWluc3RhbmNlb2YgWmMmJmFyZ3VtZW50c1sxXWluc3RhbmNlb2YgWmMpe3ZhciBjPWFyZ3VtZW50c1swXSxoPWFyZ3VtZW50c1sxXSxwPWFyZ3VtZW50c1syXTtpZihjLmdldEVudmVsb3BlSW50ZXJuYWwoKS5kaXN0YW5jZShoLmdldEVudmVsb3BlSW50ZXJuYWwoKSk+dGhpcy5fbWluRGlzdGFuY2UpcmV0dXJuIG51bGw7Zm9yKHZhciBmPWMuZ2V0Q29vcmRpbmF0ZXMoKSxnPWguZ2V0Q29vcmRpbmF0ZXMoKSxkPTA7ZDxmLmxlbmd0aC0xO2QrKylmb3IodmFyIHk9MDt5PGcubGVuZ3RoLTE7eSsrKXt2YXIgdj1YbC5kaXN0YW5jZUxpbmVMaW5lKGZbZF0sZltkKzFdLGdbeV0sZ1t5KzFdKTtpZih2PHQuX21pbkRpc3RhbmNlKXt0Ll9taW5EaXN0YW5jZT12O3ZhciBfPW5ldyB2cChmW2RdLGZbZCsxXSksbT1uZXcgdnAoZ1t5XSxnW3krMV0pLHg9Xy5jbG9zZXN0UG9pbnRzKG0pO3BbMF09bmV3IE1mKGMsZCx4WzBdKSxwWzFdPW5ldyBNZihoLHkseFsxXSl9aWYodC5fbWluRGlzdGFuY2U8PXQuX3Rlcm1pbmF0ZURpc3RhbmNlKXJldHVybiBudWxsfX19LFRmLnByb3RvdHlwZS5jb21wdXRlTWluRGlzdGFuY2VQb2ludHM9ZnVuY3Rpb24odCxlLG4pe2Zvcih2YXIgcj10aGlzLGk9MDtpPHQuc2l6ZSgpO2krKylmb3IodmFyIG89dC5nZXQoaSkscz0wO3M8ZS5zaXplKCk7cysrKXt2YXIgYT1lLmdldChzKSx1PW8uZ2V0Q29vcmRpbmF0ZSgpLmRpc3RhbmNlKGEuZ2V0Q29vcmRpbmF0ZSgpKTtpZih1PHIuX21pbkRpc3RhbmNlJiYoci5fbWluRGlzdGFuY2U9dSxuWzBdPW5ldyBNZihvLDAsby5nZXRDb29yZGluYXRlKCkpLG5bMV09bmV3IE1mKGEsMCxhLmdldENvb3JkaW5hdGUoKSkpLHIuX21pbkRpc3RhbmNlPD1yLl90ZXJtaW5hdGVEaXN0YW5jZSlyZXR1cm4gbnVsbH19LFRmLnByb3RvdHlwZS5kaXN0YW5jZT1mdW5jdGlvbigpe2lmKG51bGw9PT10aGlzLl9nZW9tWzBdfHxudWxsPT09dGhpcy5fZ2VvbVsxXSl0aHJvdyBuZXcgZWwoIm51bGwgZ2VvbWV0cmllcyBhcmUgbm90IHN1cHBvcnRlZCIpO3JldHVybiB0aGlzLl9nZW9tWzBdLmlzRW1wdHkoKXx8dGhpcy5fZ2VvbVsxXS5pc0VtcHR5KCk/MDoodGhpcy5jb21wdXRlTWluRGlzdGFuY2UoKSx0aGlzLl9taW5EaXN0YW5jZSl9LFRmLnByb3RvdHlwZS5jb21wdXRlTWluRGlzdGFuY2VMaW5lcz1mdW5jdGlvbih0LGUsbil7Zm9yKHZhciByPXRoaXMsaT0wO2k8dC5zaXplKCk7aSsrKWZvcih2YXIgbz10LmdldChpKSxzPTA7czxlLnNpemUoKTtzKyspe3ZhciBhPWUuZ2V0KHMpO2lmKHIuY29tcHV0ZU1pbkRpc3RhbmNlKG8sYSxuKSxyLl9taW5EaXN0YW5jZTw9ci5fdGVybWluYXRlRGlzdGFuY2UpcmV0dXJuIG51bGx9fSxUZi5wcm90b3R5cGUuaW50ZXJmYWNlc189ZnVuY3Rpb24oKXtyZXR1cm5bXX0sVGYucHJvdG90eXBlLmdldENsYXNzPWZ1bmN0aW9uKCl7cmV0dXJuIFRmfSxUZi5kaXN0YW5jZT1mdW5jdGlvbih0LGUpe3JldHVybiBuZXcgVGYodCxlKS5kaXN0YW5jZSgpfSxUZi5pc1dpdGhpbkRpc3RhbmNlPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gbmV3IFRmKHQsZSxuKS5kaXN0YW5jZSgpPD1ufSxUZi5uZWFyZXN0UG9pbnRzPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG5ldyBUZih0LGUpLm5lYXJlc3RQb2ludHMoKX07dmFyIEFmPWZ1bmN0aW9uKCl7dGhpcy5fcHQ9W25ldyB1bCxuZXcgdWxdLHRoaXMuX2Rpc3RhbmNlPW5sLk5hTix0aGlzLl9pc051bGw9ITB9O0FmLnByb3RvdHlwZS5nZXRDb29yZGluYXRlcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9wdH0sQWYucHJvdG90eXBlLmdldENvb3JkaW5hdGU9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX3B0W3RdfSxBZi5wcm90b3R5cGUuc2V0TWluaW11bT1mdW5jdGlvbigpe2lmKDE9PT1hcmd1bWVudHMubGVuZ3RoKXt2YXIgdD1hcmd1bWVudHNbMF07dGhpcy5zZXRNaW5pbXVtKHQuX3B0WzBdLHQuX3B0WzFdKX1lbHNlIGlmKDI9PT1hcmd1bWVudHMubGVuZ3RoKXt2YXIgZT1hcmd1bWVudHNbMF0sbj1hcmd1bWVudHNbMV07aWYodGhpcy5faXNOdWxsKXJldHVybiB0aGlzLmluaXRpYWxpemUoZSxuKSxudWxsO3ZhciByPWUuZGlzdGFuY2Uobik7cjx0aGlzLl9kaXN0YW5jZSYmdGhpcy5pbml0aWFsaXplKGUsbixyKX19LEFmLnByb3RvdHlwZS5pbml0aWFsaXplPWZ1bmN0aW9uKCl7aWYoMD09PWFyZ3VtZW50cy5sZW5ndGgpdGhpcy5faXNOdWxsPSEwO2Vsc2UgaWYoMj09PWFyZ3VtZW50cy5sZW5ndGgpe3ZhciB0PWFyZ3VtZW50c1swXSxlPWFyZ3VtZW50c1sxXTt0aGlzLl9wdFswXS5zZXRDb29yZGluYXRlKHQpLHRoaXMuX3B0WzFdLnNldENvb3JkaW5hdGUoZSksdGhpcy5fZGlzdGFuY2U9dC5kaXN0YW5jZShlKSx0aGlzLl9pc051bGw9ITF9ZWxzZSBpZigzPT09YXJndW1lbnRzLmxlbmd0aCl7dmFyIG49YXJndW1lbnRzWzBdLHI9YXJndW1lbnRzWzFdLGk9YXJndW1lbnRzWzJdO3RoaXMuX3B0WzBdLnNldENvb3JkaW5hdGUobiksdGhpcy5fcHRbMV0uc2V0Q29vcmRpbmF0ZShyKSx0aGlzLl9kaXN0YW5jZT1pLHRoaXMuX2lzTnVsbD0hMX19LEFmLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiBGbC50b0xpbmVTdHJpbmcodGhpcy5fcHRbMF0sdGhpcy5fcHRbMV0pfSxBZi5wcm90b3R5cGUuZ2V0RGlzdGFuY2U9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGlzdGFuY2V9LEFmLnByb3RvdHlwZS5zZXRNYXhpbXVtPWZ1bmN0aW9uKCl7aWYoMT09PWFyZ3VtZW50cy5sZW5ndGgpe3ZhciB0PWFyZ3VtZW50c1swXTt0aGlzLnNldE1heGltdW0odC5fcHRbMF0sdC5fcHRbMV0pfWVsc2UgaWYoMj09PWFyZ3VtZW50cy5sZW5ndGgpe3ZhciBlPWFyZ3VtZW50c1swXSxuPWFyZ3VtZW50c1sxXTtpZih0aGlzLl9pc051bGwpcmV0dXJuIHRoaXMuaW5pdGlhbGl6ZShlLG4pLG51bGw7dmFyIHI9ZS5kaXN0YW5jZShuKTtyPnRoaXMuX2Rpc3RhbmNlJiZ0aGlzLmluaXRpYWxpemUoZSxuLHIpfX0sQWYucHJvdG90eXBlLmludGVyZmFjZXNfPWZ1bmN0aW9uKCl7cmV0dXJuW119LEFmLnByb3RvdHlwZS5nZXRDbGFzcz1mdW5jdGlvbigpe3JldHVybiBBZn07dmFyIERmPWZ1bmN0aW9uKCl7fTtEZi5wcm90b3R5cGUuaW50ZXJmYWNlc189ZnVuY3Rpb24oKXtyZXR1cm5bXX0sRGYucHJvdG90eXBlLmdldENsYXNzPWZ1bmN0aW9uKCl7cmV0dXJuIERmfSxEZi5jb21wdXRlRGlzdGFuY2U9ZnVuY3Rpb24oKXtpZihhcmd1bWVudHNbMl1pbnN0YW5jZW9mIEFmJiZhcmd1bWVudHNbMF1pbnN0YW5jZW9mIFpjJiZhcmd1bWVudHNbMV1pbnN0YW5jZW9mIHVsKWZvcih2YXIgdD1hcmd1bWVudHNbMF0sZT1hcmd1bWVudHNbMV0sbj1hcmd1bWVudHNbMl0scj1uZXcgdnAsaT10LmdldENvb3JkaW5hdGVzKCksbz0wO288aS5sZW5ndGgtMTtvKyspe3Iuc2V0Q29vcmRpbmF0ZXMoaVtvXSxpW28rMV0pO3ZhciBzPXIuY2xvc2VzdFBvaW50KGUpO24uc2V0TWluaW11bShzLGUpfWVsc2UgaWYoYXJndW1lbnRzWzJdaW5zdGFuY2VvZiBBZiYmYXJndW1lbnRzWzBdaW5zdGFuY2VvZiB0aCYmYXJndW1lbnRzWzFdaW5zdGFuY2VvZiB1bCl7dmFyIGE9YXJndW1lbnRzWzBdLHU9YXJndW1lbnRzWzFdLGw9YXJndW1lbnRzWzJdO0RmLmNvbXB1dGVEaXN0YW5jZShhLmdldEV4dGVyaW9yUmluZygpLHUsbCk7Zm9yKHZhciBjPTA7YzxhLmdldE51bUludGVyaW9yUmluZygpO2MrKylEZi5jb21wdXRlRGlzdGFuY2UoYS5nZXRJbnRlcmlvclJpbmdOKGMpLHUsbCl9ZWxzZSBpZihhcmd1bWVudHNbMl1pbnN0YW5jZW9mIEFmJiZhcmd1bWVudHNbMF1pbnN0YW5jZW9mIFdsJiZhcmd1bWVudHNbMV1pbnN0YW5jZW9mIHVsKXt2YXIgaD1hcmd1bWVudHNbMF0scD1hcmd1bWVudHNbMV0sZj1hcmd1bWVudHNbMl07aWYoaCBpbnN0YW5jZW9mIFpjKURmLmNvbXB1dGVEaXN0YW5jZShoLHAsZik7ZWxzZSBpZihoIGluc3RhbmNlb2YgdGgpRGYuY29tcHV0ZURpc3RhbmNlKGgscCxmKTtlbHNlIGlmKGggaW5zdGFuY2VvZiBrYylmb3IodmFyIGc9aCxkPTA7ZDxnLmdldE51bUdlb21ldHJpZXMoKTtkKyspe3ZhciB5PWcuZ2V0R2VvbWV0cnlOKGQpO0RmLmNvbXB1dGVEaXN0YW5jZSh5LHAsZil9ZWxzZSBmLnNldE1pbmltdW0oaC5nZXRDb29yZGluYXRlKCkscCl9ZWxzZSBpZihhcmd1bWVudHNbMl1pbnN0YW5jZW9mIEFmJiZhcmd1bWVudHNbMF1pbnN0YW5jZW9mIHZwJiZhcmd1bWVudHNbMV1pbnN0YW5jZW9mIHVsKXt2YXIgdj1hcmd1bWVudHNbMF0sXz1hcmd1bWVudHNbMV0sbT1hcmd1bWVudHNbMl0seD12LmNsb3Nlc3RQb2ludChfKTttLnNldE1pbmltdW0oeCxfKX19O3ZhciBGZj1mdW5jdGlvbigpe3RoaXMuX2cwPW51bGwsdGhpcy5fZzE9bnVsbCx0aGlzLl9wdERpc3Q9bmV3IEFmLHRoaXMuX2RlbnNpZnlGcmFjPTA7dmFyIHQ9YXJndW1lbnRzWzBdLGU9YXJndW1lbnRzWzFdO3RoaXMuX2cwPXQsdGhpcy5fZzE9ZX0sa2Y9e01heFBvaW50RGlzdGFuY2VGaWx0ZXI6e2NvbmZpZ3VyYWJsZTohMH0sTWF4RGVuc2lmaWVkQnlGcmFjdGlvbkRpc3RhbmNlRmlsdGVyOntjb25maWd1cmFibGU6ITB9fTtGZi5wcm90b3R5cGUuZ2V0Q29vcmRpbmF0ZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcHREaXN0LmdldENvb3JkaW5hdGVzKCl9LEZmLnByb3RvdHlwZS5zZXREZW5zaWZ5RnJhY3Rpb249ZnVuY3Rpb24odCl7aWYodD4xfHx0PD0wKXRocm93IG5ldyBlbCgiRnJhY3Rpb24gaXMgbm90IGluIHJhbmdlICgwLjAgLSAxLjBdIik7dGhpcy5fZGVuc2lmeUZyYWM9dH0sRmYucHJvdG90eXBlLmNvbXB1dGU9ZnVuY3Rpb24odCxlKXt0aGlzLmNvbXB1dGVPcmllbnRlZERpc3RhbmNlKHQsZSx0aGlzLl9wdERpc3QpLHRoaXMuY29tcHV0ZU9yaWVudGVkRGlzdGFuY2UoZSx0LHRoaXMuX3B0RGlzdCl9LEZmLnByb3RvdHlwZS5kaXN0YW5jZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbXB1dGUodGhpcy5fZzAsdGhpcy5fZzEpLHRoaXMuX3B0RGlzdC5nZXREaXN0YW5jZSgpfSxGZi5wcm90b3R5cGUuY29tcHV0ZU9yaWVudGVkRGlzdGFuY2U9ZnVuY3Rpb24odCxlLG4pe3ZhciByPW5ldyBHZihlKTtpZih0LmFwcGx5KHIpLG4uc2V0TWF4aW11bShyLmdldE1heFBvaW50RGlzdGFuY2UoKSksdGhpcy5fZGVuc2lmeUZyYWM+MCl7dmFyIGk9bmV3IHFmKGUsdGhpcy5fZGVuc2lmeUZyYWMpO3QuYXBwbHkoaSksbi5zZXRNYXhpbXVtKGkuZ2V0TWF4UG9pbnREaXN0YW5jZSgpKX19LEZmLnByb3RvdHlwZS5vcmllbnRlZERpc3RhbmNlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29tcHV0ZU9yaWVudGVkRGlzdGFuY2UodGhpcy5fZzAsdGhpcy5fZzEsdGhpcy5fcHREaXN0KSx0aGlzLl9wdERpc3QuZ2V0RGlzdGFuY2UoKX0sRmYucHJvdG90eXBlLmludGVyZmFjZXNfPWZ1bmN0aW9uKCl7cmV0dXJuW119LEZmLnByb3RvdHlwZS5nZXRDbGFzcz1mdW5jdGlvbigpe3JldHVybiBGZn0sRmYuZGlzdGFuY2U9ZnVuY3Rpb24oKXtpZigyPT09YXJndW1lbnRzLmxlbmd0aCl7dmFyIHQ9YXJndW1lbnRzWzBdLGU9YXJndW1lbnRzWzFdLG49bmV3IEZmKHQsZSk7cmV0dXJuIG4uZGlzdGFuY2UoKX1pZigzPT09YXJndW1lbnRzLmxlbmd0aCl7dmFyIHI9YXJndW1lbnRzWzBdLGk9YXJndW1lbnRzWzFdLG89YXJndW1lbnRzWzJdLHM9bmV3IEZmKHIsaSk7cmV0dXJuIHMuc2V0RGVuc2lmeUZyYWN0aW9uKG8pLHMuZGlzdGFuY2UoKX19LGtmLk1heFBvaW50RGlzdGFuY2VGaWx0ZXIuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIEdmfSxrZi5NYXhEZW5zaWZpZWRCeUZyYWN0aW9uRGlzdGFuY2VGaWx0ZXIuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHFmfSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhGZixrZik7dmFyIEdmPWZ1bmN0aW9uKCl7dGhpcy5fbWF4UHREaXN0PW5ldyBBZix0aGlzLl9taW5QdERpc3Q9bmV3IEFmLHRoaXMuX2V1Y2xpZGVhbkRpc3Q9bmV3IERmLHRoaXMuX2dlb209bnVsbDt2YXIgdD1hcmd1bWVudHNbMF07dGhpcy5fZ2VvbT10fTtHZi5wcm90b3R5cGUuZmlsdGVyPWZ1bmN0aW9uKHQpe3RoaXMuX21pblB0RGlzdC5pbml0aWFsaXplKCksRGYuY29tcHV0ZURpc3RhbmNlKHRoaXMuX2dlb20sdCx0aGlzLl9taW5QdERpc3QpLHRoaXMuX21heFB0RGlzdC5zZXRNYXhpbXVtKHRoaXMuX21pblB0RGlzdCl9LEdmLnByb3RvdHlwZS5nZXRNYXhQb2ludERpc3RhbmNlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX21heFB0RGlzdH0sR2YucHJvdG90eXBlLmludGVyZmFjZXNfPWZ1bmN0aW9uKCl7cmV0dXJuW0tsXX0sR2YucHJvdG90eXBlLmdldENsYXNzPWZ1bmN0aW9uKCl7cmV0dXJuIEdmfTt2YXIgcWY9ZnVuY3Rpb24oKXt0aGlzLl9tYXhQdERpc3Q9bmV3IEFmLHRoaXMuX21pblB0RGlzdD1uZXcgQWYsdGhpcy5fZ2VvbT1udWxsLHRoaXMuX251bVN1YlNlZ3M9MDt2YXIgdD1hcmd1bWVudHNbMF0sZT1hcmd1bWVudHNbMV07dGhpcy5fZ2VvbT10LHRoaXMuX251bVN1YlNlZ3M9TWF0aC50cnVuYyhNYXRoLnJvdW5kKDEvZSkpfTtxZi5wcm90b3R5cGUuZmlsdGVyPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcztpZigwPT09ZSlyZXR1cm4gbnVsbDtmb3IodmFyIHI9dC5nZXRDb29yZGluYXRlKGUtMSksaT10LmdldENvb3JkaW5hdGUoZSksbz0oaS54LXIueCkvdGhpcy5fbnVtU3ViU2VncyxzPShpLnktci55KS90aGlzLl9udW1TdWJTZWdzLGE9MDthPHRoaXMuX251bVN1YlNlZ3M7YSsrKXt2YXIgdT1yLngrYSpvLGw9ci55K2EqcyxjPW5ldyB1bCh1LGwpO24uX21pblB0RGlzdC5pbml0aWFsaXplKCksRGYuY29tcHV0ZURpc3RhbmNlKG4uX2dlb20sYyxuLl9taW5QdERpc3QpLG4uX21heFB0RGlzdC5zZXRNYXhpbXVtKG4uX21pblB0RGlzdCl9fSxxZi5wcm90b3R5cGUuaXNEb25lPWZ1bmN0aW9uKCl7cmV0dXJuITF9LHFmLnByb3RvdHlwZS5pc0dlb21ldHJ5Q2hhbmdlZD1mdW5jdGlvbigpe3JldHVybiExfSxxZi5wcm90b3R5cGUuZ2V0TWF4UG9pbnREaXN0YW5jZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9tYXhQdERpc3R9LHFmLnByb3RvdHlwZS5pbnRlcmZhY2VzXz1mdW5jdGlvbigpe3JldHVybltGY119LHFmLnByb3RvdHlwZS5nZXRDbGFzcz1mdW5jdGlvbigpe3JldHVybiBxZn07dmFyIEJmPWZ1bmN0aW9uKHQsZSxuKXt0aGlzLl9taW5WYWxpZERpc3RhbmNlPW51bGwsdGhpcy5fbWF4VmFsaWREaXN0YW5jZT1udWxsLHRoaXMuX21pbkRpc3RhbmNlRm91bmQ9bnVsbCx0aGlzLl9tYXhEaXN0YW5jZUZvdW5kPW51bGwsdGhpcy5faXNWYWxpZD0hMCx0aGlzLl9lcnJNc2c9bnVsbCx0aGlzLl9lcnJvckxvY2F0aW9uPW51bGwsdGhpcy5fZXJyb3JJbmRpY2F0b3I9bnVsbCx0aGlzLl9pbnB1dD10fHxudWxsLHRoaXMuX2J1ZkRpc3RhbmNlPWV8fG51bGwsdGhpcy5fcmVzdWx0PW58fG51bGx9LHpmPXtWRVJCT1NFOntjb25maWd1cmFibGU6ITB9LE1BWF9ESVNUQU5DRV9ESUZGX0ZSQUM6e2NvbmZpZ3VyYWJsZTohMH19O0JmLnByb3RvdHlwZS5jaGVja01heGltdW1EaXN0YW5jZT1mdW5jdGlvbih0LGUsbil7dmFyIHI9bmV3IEZmKGUsdCk7aWYoci5zZXREZW5zaWZ5RnJhY3Rpb24oLjI1KSx0aGlzLl9tYXhEaXN0YW5jZUZvdW5kPXIub3JpZW50ZWREaXN0YW5jZSgpLHRoaXMuX21heERpc3RhbmNlRm91bmQ+bil7dGhpcy5faXNWYWxpZD0hMTt2YXIgaT1yLmdldENvb3JkaW5hdGVzKCk7dGhpcy5fZXJyb3JMb2NhdGlvbj1pWzFdLHRoaXMuX2Vycm9ySW5kaWNhdG9yPXQuZ2V0RmFjdG9yeSgpLmNyZWF0ZUxpbmVTdHJpbmcoaSksdGhpcy5fZXJyTXNnPSJEaXN0YW5jZSBiZXR3ZWVuIGJ1ZmZlciBjdXJ2ZSBhbmQgaW5wdXQgaXMgdG9vIGxhcmdlICgiK3RoaXMuX21heERpc3RhbmNlRm91bmQrIiBhdCAiK0ZsLnRvTGluZVN0cmluZyhpWzBdLGlbMV0pKyIpIn19LEJmLnByb3RvdHlwZS5pc1ZhbGlkPWZ1bmN0aW9uKCl7dmFyIHQ9TWF0aC5hYnModGhpcy5fYnVmRGlzdGFuY2UpLGU9QmYuTUFYX0RJU1RBTkNFX0RJRkZfRlJBQyp0O3JldHVybiB0aGlzLl9taW5WYWxpZERpc3RhbmNlPXQtZSx0aGlzLl9tYXhWYWxpZERpc3RhbmNlPXQrZSwhKCF0aGlzLl9pbnB1dC5pc0VtcHR5KCkmJiF0aGlzLl9yZXN1bHQuaXNFbXB0eSgpKXx8KHRoaXMuX2J1ZkRpc3RhbmNlPjA/dGhpcy5jaGVja1Bvc2l0aXZlVmFsaWQoKTp0aGlzLmNoZWNrTmVnYXRpdmVWYWxpZCgpLEJmLlZFUkJPU0UmJlBsLm91dC5wcmludGxuKCJNaW4gRGlzdD0gIit0aGlzLl9taW5EaXN0YW5jZUZvdW5kKyIgIGVycj0gIisoMS10aGlzLl9taW5EaXN0YW5jZUZvdW5kL3RoaXMuX2J1ZkRpc3RhbmNlKSsiICBNYXggRGlzdD0gIit0aGlzLl9tYXhEaXN0YW5jZUZvdW5kKyIgIGVycj0gIisodGhpcy5fbWF4RGlzdGFuY2VGb3VuZC90aGlzLl9idWZEaXN0YW5jZS0xKSksdGhpcy5faXNWYWxpZCl9LEJmLnByb3RvdHlwZS5jaGVja05lZ2F0aXZlVmFsaWQ9ZnVuY3Rpb24oKXtpZighKHRoaXMuX2lucHV0IGluc3RhbmNlb2YgdGh8fHRoaXMuX2lucHV0IGluc3RhbmNlb2Ygcmh8fHRoaXMuX2lucHV0IGluc3RhbmNlb2Yga2MpKXJldHVybiBudWxsO3ZhciB0PXRoaXMuZ2V0UG9seWdvbkxpbmVzKHRoaXMuX2lucHV0KTtpZih0aGlzLmNoZWNrTWluaW11bURpc3RhbmNlKHQsdGhpcy5fcmVzdWx0LHRoaXMuX21pblZhbGlkRGlzdGFuY2UpLCF0aGlzLl9pc1ZhbGlkKXJldHVybiBudWxsO3RoaXMuY2hlY2tNYXhpbXVtRGlzdGFuY2UodCx0aGlzLl9yZXN1bHQsdGhpcy5fbWF4VmFsaWREaXN0YW5jZSl9LEJmLnByb3RvdHlwZS5nZXRFcnJvckluZGljYXRvcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9lcnJvckluZGljYXRvcn0sQmYucHJvdG90eXBlLmNoZWNrTWluaW11bURpc3RhbmNlPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uZXcgVGYodCxlLG4pO2lmKHRoaXMuX21pbkRpc3RhbmNlRm91bmQ9ci5kaXN0YW5jZSgpLHRoaXMuX21pbkRpc3RhbmNlRm91bmQ8bil7dGhpcy5faXNWYWxpZD0hMTt2YXIgaT1yLm5lYXJlc3RQb2ludHMoKTt0aGlzLl9lcnJvckxvY2F0aW9uPXIubmVhcmVzdFBvaW50cygpWzFdLHRoaXMuX2Vycm9ySW5kaWNhdG9yPXQuZ2V0RmFjdG9yeSgpLmNyZWF0ZUxpbmVTdHJpbmcoaSksdGhpcy5fZXJyTXNnPSJEaXN0YW5jZSBiZXR3ZWVuIGJ1ZmZlciBjdXJ2ZSBhbmQgaW5wdXQgaXMgdG9vIHNtYWxsICgiK3RoaXMuX21pbkRpc3RhbmNlRm91bmQrIiBhdCAiK0ZsLnRvTGluZVN0cmluZyhpWzBdLGlbMV0pKyIgKSJ9fSxCZi5wcm90b3R5cGUuY2hlY2tQb3NpdGl2ZVZhbGlkPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fcmVzdWx0LmdldEJvdW5kYXJ5KCk7aWYodGhpcy5jaGVja01pbmltdW1EaXN0YW5jZSh0aGlzLl9pbnB1dCx0LHRoaXMuX21pblZhbGlkRGlzdGFuY2UpLCF0aGlzLl9pc1ZhbGlkKXJldHVybiBudWxsO3RoaXMuY2hlY2tNYXhpbXVtRGlzdGFuY2UodGhpcy5faW5wdXQsdCx0aGlzLl9tYXhWYWxpZERpc3RhbmNlKX0sQmYucHJvdG90eXBlLmdldEVycm9yTG9jYXRpb249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZXJyb3JMb2NhdGlvbn0sQmYucHJvdG90eXBlLmdldFBvbHlnb25MaW5lcz1mdW5jdGlvbih0KXtmb3IodmFyIGU9bmV3IGxjLG49bmV3IENmKGUpLHI9U2YuZ2V0UG9seWdvbnModCkuaXRlcmF0b3IoKTtyLmhhc05leHQoKTspe3IubmV4dCgpLmFwcGx5KG4pfXJldHVybiB0LmdldEZhY3RvcnkoKS5idWlsZEdlb21ldHJ5KGUpfSxCZi5wcm90b3R5cGUuZ2V0RXJyb3JNZXNzYWdlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2Vyck1zZ30sQmYucHJvdG90eXBlLmludGVyZmFjZXNfPWZ1bmN0aW9uKCl7cmV0dXJuW119LEJmLnByb3RvdHlwZS5nZXRDbGFzcz1mdW5jdGlvbigpe3JldHVybiBCZn0semYuVkVSQk9TRS5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4hMX0semYuTUFYX0RJU1RBTkNFX0RJRkZfRlJBQy5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4uMDEyfSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhCZix6Zik7dmFyIGpmPWZ1bmN0aW9uKHQsZSxuKXt0aGlzLl9pc1ZhbGlkPSEwLHRoaXMuX2Vycm9yTXNnPW51bGwsdGhpcy5fZXJyb3JMb2NhdGlvbj1udWxsLHRoaXMuX2Vycm9ySW5kaWNhdG9yPW51bGwsdGhpcy5faW5wdXQ9dHx8bnVsbCx0aGlzLl9kaXN0YW5jZT1lfHxudWxsLHRoaXMuX3Jlc3VsdD1ufHxudWxsfSxVZj17VkVSQk9TRTp7Y29uZmlndXJhYmxlOiEwfSxNQVhfRU5WX0RJRkZfRlJBQzp7Y29uZmlndXJhYmxlOiEwfX07amYucHJvdG90eXBlLmlzVmFsaWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jaGVja1BvbHlnb25hbCgpLHRoaXMuX2lzVmFsaWQ/KHRoaXMuY2hlY2tFeHBlY3RlZEVtcHR5KCksdGhpcy5faXNWYWxpZD8odGhpcy5jaGVja0VudmVsb3BlKCksdGhpcy5faXNWYWxpZD8odGhpcy5jaGVja0FyZWEoKSx0aGlzLl9pc1ZhbGlkPyh0aGlzLmNoZWNrRGlzdGFuY2UoKSx0aGlzLl9pc1ZhbGlkKTp0aGlzLl9pc1ZhbGlkKTp0aGlzLl9pc1ZhbGlkKTp0aGlzLl9pc1ZhbGlkKTp0aGlzLl9pc1ZhbGlkfSxqZi5wcm90b3R5cGUuY2hlY2tFbnZlbG9wZT1mdW5jdGlvbigpe2lmKHRoaXMuX2Rpc3RhbmNlPDApcmV0dXJuIG51bGw7dmFyIHQ9dGhpcy5fZGlzdGFuY2UqamYuTUFYX0VOVl9ESUZGX0ZSQUM7MD09PXQmJih0PS4wMDEpO3ZhciBlPW5ldyBMbCh0aGlzLl9pbnB1dC5nZXRFbnZlbG9wZUludGVybmFsKCkpO2UuZXhwYW5kQnkodGhpcy5fZGlzdGFuY2UpO3ZhciBuPW5ldyBMbCh0aGlzLl9yZXN1bHQuZ2V0RW52ZWxvcGVJbnRlcm5hbCgpKTtuLmV4cGFuZEJ5KHQpLG4uY29udGFpbnMoZSl8fCh0aGlzLl9pc1ZhbGlkPSExLHRoaXMuX2Vycm9yTXNnPSJCdWZmZXIgZW52ZWxvcGUgaXMgaW5jb3JyZWN0Iix0aGlzLl9lcnJvckluZGljYXRvcj10aGlzLl9pbnB1dC5nZXRGYWN0b3J5KCkudG9HZW9tZXRyeShuKSksdGhpcy5yZXBvcnQoIkVudmVsb3BlIil9LGpmLnByb3RvdHlwZS5jaGVja0Rpc3RhbmNlPWZ1bmN0aW9uKCl7dmFyIHQ9bmV3IEJmKHRoaXMuX2lucHV0LHRoaXMuX2Rpc3RhbmNlLHRoaXMuX3Jlc3VsdCk7dC5pc1ZhbGlkKCl8fCh0aGlzLl9pc1ZhbGlkPSExLHRoaXMuX2Vycm9yTXNnPXQuZ2V0RXJyb3JNZXNzYWdlKCksdGhpcy5fZXJyb3JMb2NhdGlvbj10LmdldEVycm9yTG9jYXRpb24oKSx0aGlzLl9lcnJvckluZGljYXRvcj10LmdldEVycm9ySW5kaWNhdG9yKCkpLHRoaXMucmVwb3J0KCJEaXN0YW5jZSIpfSxqZi5wcm90b3R5cGUuY2hlY2tBcmVhPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5faW5wdXQuZ2V0QXJlYSgpLGU9dGhpcy5fcmVzdWx0LmdldEFyZWEoKTt0aGlzLl9kaXN0YW5jZT4wJiZ0PmUmJih0aGlzLl9pc1ZhbGlkPSExLHRoaXMuX2Vycm9yTXNnPSJBcmVhIG9mIHBvc2l0aXZlIGJ1ZmZlciBpcyBzbWFsbGVyIHRoYW4gaW5wdXQiLHRoaXMuX2Vycm9ySW5kaWNhdG9yPXRoaXMuX3Jlc3VsdCksdGhpcy5fZGlzdGFuY2U8MCYmdDxlJiYodGhpcy5faXNWYWxpZD0hMSx0aGlzLl9lcnJvck1zZz0iQXJlYSBvZiBuZWdhdGl2ZSBidWZmZXIgaXMgbGFyZ2VyIHRoYW4gaW5wdXQiLHRoaXMuX2Vycm9ySW5kaWNhdG9yPXRoaXMuX3Jlc3VsdCksdGhpcy5yZXBvcnQoIkFyZWEiKX0samYucHJvdG90eXBlLmNoZWNrUG9seWdvbmFsPWZ1bmN0aW9uKCl7dGhpcy5fcmVzdWx0IGluc3RhbmNlb2YgdGh8fHRoaXMuX3Jlc3VsdCBpbnN0YW5jZW9mIHJofHwodGhpcy5faXNWYWxpZD0hMSksdGhpcy5fZXJyb3JNc2c9IlJlc3VsdCBpcyBub3QgcG9seWdvbmFsIix0aGlzLl9lcnJvckluZGljYXRvcj10aGlzLl9yZXN1bHQsdGhpcy5yZXBvcnQoIlBvbHlnb25hbCIpfSxqZi5wcm90b3R5cGUuZ2V0RXJyb3JJbmRpY2F0b3I9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZXJyb3JJbmRpY2F0b3J9LGpmLnByb3RvdHlwZS5nZXRFcnJvckxvY2F0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2Vycm9yTG9jYXRpb259LGpmLnByb3RvdHlwZS5jaGVja0V4cGVjdGVkRW1wdHk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW5wdXQuZ2V0RGltZW5zaW9uKCk+PTJ8fHRoaXMuX2Rpc3RhbmNlPjA/bnVsbDoodGhpcy5fcmVzdWx0LmlzRW1wdHkoKXx8KHRoaXMuX2lzVmFsaWQ9ITEsdGhpcy5fZXJyb3JNc2c9IlJlc3VsdCBpcyBub24tZW1wdHkiLHRoaXMuX2Vycm9ySW5kaWNhdG9yPXRoaXMuX3Jlc3VsdCksdm9pZCB0aGlzLnJlcG9ydCgiRXhwZWN0ZWRFbXB0eSIpKX0samYucHJvdG90eXBlLnJlcG9ydD1mdW5jdGlvbih0KXtpZighamYuVkVSQk9TRSlyZXR1cm4gbnVsbDtQbC5vdXQucHJpbnRsbigiQ2hlY2sgIit0KyI6ICIrKHRoaXMuX2lzVmFsaWQ/InBhc3NlZCI6IkZBSUxFRCIpKX0samYucHJvdG90eXBlLmdldEVycm9yTWVzc2FnZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9lcnJvck1zZ30samYucHJvdG90eXBlLmludGVyZmFjZXNfPWZ1bmN0aW9uKCl7cmV0dXJuW119LGpmLnByb3RvdHlwZS5nZXRDbGFzcz1mdW5jdGlvbigpe3JldHVybiBqZn0samYuaXNWYWxpZE1zZz1mdW5jdGlvbih0LGUsbil7dmFyIHI9bmV3IGpmKHQsZSxuKTtyZXR1cm4gci5pc1ZhbGlkKCk/bnVsbDpyLmdldEVycm9yTWVzc2FnZSgpfSxqZi5pc1ZhbGlkPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4hIW5ldyBqZih0LGUsbikuaXNWYWxpZCgpfSxVZi5WRVJCT1NFLmdldD1mdW5jdGlvbigpe3JldHVybiExfSxVZi5NQVhfRU5WX0RJRkZfRlJBQy5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4uMDEyfSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhqZixVZik7dmFyIFZmPWZ1bmN0aW9uKCl7dGhpcy5fcHRzPW51bGwsdGhpcy5fZGF0YT1udWxsO3ZhciB0PWFyZ3VtZW50c1swXSxlPWFyZ3VtZW50c1sxXTt0aGlzLl9wdHM9dCx0aGlzLl9kYXRhPWV9O1ZmLnByb3RvdHlwZS5nZXRDb29yZGluYXRlcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9wdHN9LFZmLnByb3RvdHlwZS5zaXplPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3B0cy5sZW5ndGh9LFZmLnByb3RvdHlwZS5nZXRDb29yZGluYXRlPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9wdHNbdF19LFZmLnByb3RvdHlwZS5pc0Nsb3NlZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9wdHNbMF0uZXF1YWxzKHRoaXMuX3B0c1t0aGlzLl9wdHMubGVuZ3RoLTFdKX0sVmYucHJvdG90eXBlLmdldFNlZ21lbnRPY3RhbnQ9ZnVuY3Rpb24odCl7cmV0dXJuIHQ9PT10aGlzLl9wdHMubGVuZ3RoLTE/LTE6ZnAub2N0YW50KHRoaXMuZ2V0Q29vcmRpbmF0ZSh0KSx0aGlzLmdldENvb3JkaW5hdGUodCsxKSl9LFZmLnByb3RvdHlwZS5zZXREYXRhPWZ1bmN0aW9uKHQpe3RoaXMuX2RhdGE9dH0sVmYucHJvdG90eXBlLmdldERhdGE9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGF0YX0sVmYucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIEZsLnRvTGluZVN0cmluZyhuZXcgbGgodGhpcy5fcHRzKSl9LFZmLnByb3RvdHlwZS5pbnRlcmZhY2VzXz1mdW5jdGlvbigpe3JldHVybltncF19LFZmLnByb3RvdHlwZS5nZXRDbGFzcz1mdW5jdGlvbigpe3JldHVybiBWZn07dmFyIFhmPWZ1bmN0aW9uKCl7dGhpcy5fZmluZEFsbEludGVyc2VjdGlvbnM9ITEsdGhpcy5faXNDaGVja0VuZFNlZ21lbnRzT25seT0hMSx0aGlzLl9saT1udWxsLHRoaXMuX2ludGVyaW9ySW50ZXJzZWN0aW9uPW51bGwsdGhpcy5faW50U2VnbWVudHM9bnVsbCx0aGlzLl9pbnRlcnNlY3Rpb25zPW5ldyBsYyx0aGlzLl9pbnRlcnNlY3Rpb25Db3VudD0wLHRoaXMuX2tlZXBJbnRlcnNlY3Rpb25zPSEwO3ZhciB0PWFyZ3VtZW50c1swXTt0aGlzLl9saT10LHRoaXMuX2ludGVyaW9ySW50ZXJzZWN0aW9uPW51bGx9O1hmLnByb3RvdHlwZS5nZXRJbnRlcmlvckludGVyc2VjdGlvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbnRlcmlvckludGVyc2VjdGlvbn0sWGYucHJvdG90eXBlLnNldENoZWNrRW5kU2VnbWVudHNPbmx5PWZ1bmN0aW9uKHQpe3RoaXMuX2lzQ2hlY2tFbmRTZWdtZW50c09ubHk9dH0sWGYucHJvdG90eXBlLmdldEludGVyc2VjdGlvblNlZ21lbnRzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ludFNlZ21lbnRzfSxYZi5wcm90b3R5cGUuY291bnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW50ZXJzZWN0aW9uQ291bnR9LFhmLnByb3RvdHlwZS5nZXRJbnRlcnNlY3Rpb25zPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ludGVyc2VjdGlvbnN9LFhmLnByb3RvdHlwZS5zZXRGaW5kQWxsSW50ZXJzZWN0aW9ucz1mdW5jdGlvbih0KXt0aGlzLl9maW5kQWxsSW50ZXJzZWN0aW9ucz10fSxYZi5wcm90b3R5cGUuc2V0S2VlcEludGVyc2VjdGlvbnM9ZnVuY3Rpb24odCl7dGhpcy5fa2VlcEludGVyc2VjdGlvbnM9dH0sWGYucHJvdG90eXBlLnByb2Nlc3NJbnRlcnNlY3Rpb25zPWZ1bmN0aW9uKHQsZSxuLHIpe2lmKCF0aGlzLl9maW5kQWxsSW50ZXJzZWN0aW9ucyYmdGhpcy5oYXNJbnRlcnNlY3Rpb24oKSlyZXR1cm4gbnVsbDtpZih0PT09biYmZT09PXIpcmV0dXJuIG51bGw7aWYodGhpcy5faXNDaGVja0VuZFNlZ21lbnRzT25seSYmISh0aGlzLmlzRW5kU2VnbWVudCh0LGUpfHx0aGlzLmlzRW5kU2VnbWVudChuLHIpKSlyZXR1cm4gbnVsbDt2YXIgaT10LmdldENvb3JkaW5hdGVzKClbZV0sbz10LmdldENvb3JkaW5hdGVzKClbZSsxXSxzPW4uZ2V0Q29vcmRpbmF0ZXMoKVtyXSxhPW4uZ2V0Q29vcmRpbmF0ZXMoKVtyKzFdO3RoaXMuX2xpLmNvbXB1dGVJbnRlcnNlY3Rpb24oaSxvLHMsYSksdGhpcy5fbGkuaGFzSW50ZXJzZWN0aW9uKCkmJnRoaXMuX2xpLmlzSW50ZXJpb3JJbnRlcnNlY3Rpb24oKSYmKHRoaXMuX2ludFNlZ21lbnRzPW5ldyBBcnJheSg0KS5maWxsKG51bGwpLHRoaXMuX2ludFNlZ21lbnRzWzBdPWksdGhpcy5faW50U2VnbWVudHNbMV09byx0aGlzLl9pbnRTZWdtZW50c1syXT1zLHRoaXMuX2ludFNlZ21lbnRzWzNdPWEsdGhpcy5faW50ZXJpb3JJbnRlcnNlY3Rpb249dGhpcy5fbGkuZ2V0SW50ZXJzZWN0aW9uKDApLHRoaXMuX2tlZXBJbnRlcnNlY3Rpb25zJiZ0aGlzLl9pbnRlcnNlY3Rpb25zLmFkZCh0aGlzLl9pbnRlcmlvckludGVyc2VjdGlvbiksdGhpcy5faW50ZXJzZWN0aW9uQ291bnQrKyl9LFhmLnByb3RvdHlwZS5pc0VuZFNlZ21lbnQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gMD09PWV8fGU+PXQuc2l6ZSgpLTJ9LFhmLnByb3RvdHlwZS5oYXNJbnRlcnNlY3Rpb249ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbCE9PXRoaXMuX2ludGVyaW9ySW50ZXJzZWN0aW9ufSxYZi5wcm90b3R5cGUuaXNEb25lPWZ1bmN0aW9uKCl7cmV0dXJuIXRoaXMuX2ZpbmRBbGxJbnRlcnNlY3Rpb25zJiZudWxsIT09dGhpcy5faW50ZXJpb3JJbnRlcnNlY3Rpb259LFhmLnByb3RvdHlwZS5pbnRlcmZhY2VzXz1mdW5jdGlvbigpe3JldHVybltacF19LFhmLnByb3RvdHlwZS5nZXRDbGFzcz1mdW5jdGlvbigpe3JldHVybiBYZn0sWGYuY3JlYXRlQWxsSW50ZXJzZWN0aW9uc0ZpbmRlcj1mdW5jdGlvbih0KXt2YXIgZT1uZXcgWGYodCk7cmV0dXJuIGUuc2V0RmluZEFsbEludGVyc2VjdGlvbnMoITApLGV9LFhmLmNyZWF0ZUFueUludGVyc2VjdGlvbkZpbmRlcj1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IFhmKHQpfSxYZi5jcmVhdGVJbnRlcnNlY3Rpb25Db3VudGVyPWZ1bmN0aW9uKHQpe3ZhciBlPW5ldyBYZih0KTtyZXR1cm4gZS5zZXRGaW5kQWxsSW50ZXJzZWN0aW9ucyghMCksZS5zZXRLZWVwSW50ZXJzZWN0aW9ucyghMSksZX07dmFyIFlmPWZ1bmN0aW9uKCl7dGhpcy5fbGk9bmV3IGpsLHRoaXMuX3NlZ1N0cmluZ3M9bnVsbCx0aGlzLl9maW5kQWxsSW50ZXJzZWN0aW9ucz0hMSx0aGlzLl9zZWdJbnQ9bnVsbCx0aGlzLl9pc1ZhbGlkPSEwO3ZhciB0PWFyZ3VtZW50c1swXTt0aGlzLl9zZWdTdHJpbmdzPXR9O1lmLnByb3RvdHlwZS5leGVjdXRlPWZ1bmN0aW9uKCl7aWYobnVsbCE9PXRoaXMuX3NlZ0ludClyZXR1cm4gbnVsbDt0aGlzLmNoZWNrSW50ZXJpb3JJbnRlcnNlY3Rpb25zKCl9LFlmLnByb3RvdHlwZS5nZXRJbnRlcnNlY3Rpb25zPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NlZ0ludC5nZXRJbnRlcnNlY3Rpb25zKCl9LFlmLnByb3RvdHlwZS5pc1ZhbGlkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZXhlY3V0ZSgpLHRoaXMuX2lzVmFsaWR9LFlmLnByb3RvdHlwZS5zZXRGaW5kQWxsSW50ZXJzZWN0aW9ucz1mdW5jdGlvbih0KXt0aGlzLl9maW5kQWxsSW50ZXJzZWN0aW9ucz10fSxZZi5wcm90b3R5cGUuY2hlY2tJbnRlcmlvckludGVyc2VjdGlvbnM9ZnVuY3Rpb24oKXt0aGlzLl9pc1ZhbGlkPSEwLHRoaXMuX3NlZ0ludD1uZXcgWGYodGhpcy5fbGkpLHRoaXMuX3NlZ0ludC5zZXRGaW5kQWxsSW50ZXJzZWN0aW9ucyh0aGlzLl9maW5kQWxsSW50ZXJzZWN0aW9ucyk7dmFyIHQ9bmV3IElwO2lmKHQuc2V0U2VnbWVudEludGVyc2VjdG9yKHRoaXMuX3NlZ0ludCksdC5jb21wdXRlTm9kZXModGhpcy5fc2VnU3RyaW5ncyksdGhpcy5fc2VnSW50Lmhhc0ludGVyc2VjdGlvbigpKXJldHVybiB0aGlzLl9pc1ZhbGlkPSExLG51bGx9LFlmLnByb3RvdHlwZS5jaGVja1ZhbGlkPWZ1bmN0aW9uKCl7aWYodGhpcy5leGVjdXRlKCksIXRoaXMuX2lzVmFsaWQpdGhyb3cgbmV3IE9oKHRoaXMuZ2V0RXJyb3JNZXNzYWdlKCksdGhpcy5fc2VnSW50LmdldEludGVyaW9ySW50ZXJzZWN0aW9uKCkpfSxZZi5wcm90b3R5cGUuZ2V0RXJyb3JNZXNzYWdlPWZ1bmN0aW9uKCl7aWYodGhpcy5faXNWYWxpZClyZXR1cm4ibm8gaW50ZXJzZWN0aW9ucyBmb3VuZCI7dmFyIHQ9dGhpcy5fc2VnSW50LmdldEludGVyc2VjdGlvblNlZ21lbnRzKCk7cmV0dXJuImZvdW5kIG5vbi1ub2RlZCBpbnRlcnNlY3Rpb24gYmV0d2VlbiAiK0ZsLnRvTGluZVN0cmluZyh0WzBdLHRbMV0pKyIgYW5kICIrRmwudG9MaW5lU3RyaW5nKHRbMl0sdFszXSl9LFlmLnByb3RvdHlwZS5pbnRlcmZhY2VzXz1mdW5jdGlvbigpe3JldHVybltdfSxZZi5wcm90b3R5cGUuZ2V0Q2xhc3M9ZnVuY3Rpb24oKXtyZXR1cm4gWWZ9LFlmLmNvbXB1dGVJbnRlcnNlY3Rpb25zPWZ1bmN0aW9uKHQpe3ZhciBlPW5ldyBZZih0KTtyZXR1cm4gZS5zZXRGaW5kQWxsSW50ZXJzZWN0aW9ucyghMCksZS5pc1ZhbGlkKCksZS5nZXRJbnRlcnNlY3Rpb25zKCl9O3ZhciBIZj1mdW5jdGlvbiB0KCl7dGhpcy5fbnY9bnVsbDt2YXIgZT1hcmd1bWVudHNbMF07dGhpcy5fbnY9bmV3IFlmKHQudG9TZWdtZW50U3RyaW5ncyhlKSl9O0hmLnByb3RvdHlwZS5jaGVja1ZhbGlkPWZ1bmN0aW9uKCl7dGhpcy5fbnYuY2hlY2tWYWxpZCgpfSxIZi5wcm90b3R5cGUuaW50ZXJmYWNlc189ZnVuY3Rpb24oKXtyZXR1cm5bXX0sSGYucHJvdG90eXBlLmdldENsYXNzPWZ1bmN0aW9uKCl7cmV0dXJuIEhmfSxIZi50b1NlZ21lbnRTdHJpbmdzPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1uZXcgbGMsbj10Lml0ZXJhdG9yKCk7bi5oYXNOZXh0KCk7KXt2YXIgcj1uLm5leHQoKTtlLmFkZChuZXcgVmYoci5nZXRDb29yZGluYXRlcygpLHIpKX1yZXR1cm4gZX0sSGYuY2hlY2tWYWxpZD1mdW5jdGlvbih0KXtuZXcgSGYodCkuY2hlY2tWYWxpZCgpfTt2YXIgV2Y9ZnVuY3Rpb24odCl7dGhpcy5fbWFwT3A9dH07V2YucHJvdG90eXBlLm1hcD1mdW5jdGlvbih0KXtmb3IodmFyIGU9bmV3IGxjLG49MDtuPHQuZ2V0TnVtR2VvbWV0cmllcygpO24rKyl7dmFyIHI9dGhpcy5fbWFwT3AubWFwKHQuZ2V0R2VvbWV0cnlOKG4pKTtyLmlzRW1wdHkoKXx8ZS5hZGQocil9cmV0dXJuIHQuZ2V0RmFjdG9yeSgpLmNyZWF0ZUdlb21ldHJ5Q29sbGVjdGlvbihfaC50b0dlb21ldHJ5QXJyYXkoZSkpfSxXZi5wcm90b3R5cGUuaW50ZXJmYWNlc189ZnVuY3Rpb24oKXtyZXR1cm5bXX0sV2YucHJvdG90eXBlLmdldENsYXNzPWZ1bmN0aW9uKCl7cmV0dXJuIFdmfSxXZi5tYXA9ZnVuY3Rpb24odCxlKXtyZXR1cm4gbmV3IFdmKGUpLm1hcCh0KX07dmFyIEpmPWZ1bmN0aW9uKCl7dGhpcy5fb3A9bnVsbCx0aGlzLl9nZW9tZXRyeUZhY3Rvcnk9bnVsbCx0aGlzLl9wdExvY2F0b3I9bnVsbCx0aGlzLl9saW5lRWRnZXNMaXN0PW5ldyBsYyx0aGlzLl9yZXN1bHRMaW5lTGlzdD1uZXcgbGM7dmFyIHQ9YXJndW1lbnRzWzBdLGU9YXJndW1lbnRzWzFdLG49YXJndW1lbnRzWzJdO3RoaXMuX29wPXQsdGhpcy5fZ2VvbWV0cnlGYWN0b3J5PWUsdGhpcy5fcHRMb2NhdG9yPW59O0pmLnByb3RvdHlwZS5jb2xsZWN0TGluZXM9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMsbj10aGlzLl9vcC5nZXRHcmFwaCgpLmdldEVkZ2VFbmRzKCkuaXRlcmF0b3IoKTtuLmhhc05leHQoKTspe3ZhciByPW4ubmV4dCgpO2UuY29sbGVjdExpbmVFZGdlKHIsdCxlLl9saW5lRWRnZXNMaXN0KSxlLmNvbGxlY3RCb3VuZGFyeVRvdWNoRWRnZShyLHQsZS5fbGluZUVkZ2VzTGlzdCl9fSxKZi5wcm90b3R5cGUubGFiZWxJc29sYXRlZExpbmU9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLl9wdExvY2F0b3IubG9jYXRlKHQuZ2V0Q29vcmRpbmF0ZSgpLHRoaXMuX29wLmdldEFyZ0dlb21ldHJ5KGUpKTt0LmdldExhYmVsKCkuc2V0TG9jYXRpb24oZSxuKX0sSmYucHJvdG90eXBlLmJ1aWxkPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmZpbmRDb3ZlcmVkTGluZUVkZ2VzKCksdGhpcy5jb2xsZWN0TGluZXModCksdGhpcy5idWlsZExpbmVzKHQpLHRoaXMuX3Jlc3VsdExpbmVMaXN0fSxKZi5wcm90b3R5cGUuY29sbGVjdExpbmVFZGdlPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj10LmdldExhYmVsKCksaT10LmdldEVkZ2UoKTt0LmlzTGluZUVkZ2UoKSYmKHQuaXNWaXNpdGVkKCl8fCFNZy5pc1Jlc3VsdE9mT3AocixlKXx8aS5pc0NvdmVyZWQoKXx8KG4uYWRkKGkpLHQuc2V0VmlzaXRlZEVkZ2UoITApKSl9LEpmLnByb3RvdHlwZS5maW5kQ292ZXJlZExpbmVFZGdlcz1mdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLl9vcC5nZXRHcmFwaCgpLmdldE5vZGVzKCkuaXRlcmF0b3IoKTt0Lmhhc05leHQoKTspe3QubmV4dCgpLmdldEVkZ2VzKCkuZmluZENvdmVyZWRMaW5lRWRnZXMoKX1mb3IodmFyIGU9dGhpcy5fb3AuZ2V0R3JhcGgoKS5nZXRFZGdlRW5kcygpLml0ZXJhdG9yKCk7ZS5oYXNOZXh0KCk7KXt2YXIgbj1lLm5leHQoKSxyPW4uZ2V0RWRnZSgpO2lmKG4uaXNMaW5lRWRnZSgpJiYhci5pc0NvdmVyZWRTZXQoKSl7dmFyIGk9dGhpcy5fb3AuaXNDb3ZlcmVkQnlBKG4uZ2V0Q29vcmRpbmF0ZSgpKTtyLnNldENvdmVyZWQoaSl9fX0sSmYucHJvdG90eXBlLmxhYmVsSXNvbGF0ZWRMaW5lcz1mdW5jdGlvbih0KXtmb3IodmFyIGU9dC5pdGVyYXRvcigpO2UuaGFzTmV4dCgpOyl7dmFyIG49ZS5uZXh0KCkscj1uLmdldExhYmVsKCk7bi5pc0lzb2xhdGVkKCkmJihyLmlzTnVsbCgwKT90aGlzLmxhYmVsSXNvbGF0ZWRMaW5lKG4sMCk6dGhpcy5sYWJlbElzb2xhdGVkTGluZShuLDEpKX19LEpmLnByb3RvdHlwZS5idWlsZExpbmVzPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10aGlzLl9saW5lRWRnZXNMaXN0Lml0ZXJhdG9yKCk7ZS5oYXNOZXh0KCk7KXt2YXIgbj1lLm5leHQoKSxyPXRoaXMuX2dlb21ldHJ5RmFjdG9yeS5jcmVhdGVMaW5lU3RyaW5nKG4uZ2V0Q29vcmRpbmF0ZXMoKSk7dGhpcy5fcmVzdWx0TGluZUxpc3QuYWRkKHIpLG4uc2V0SW5SZXN1bHQoITApfX0sSmYucHJvdG90eXBlLmNvbGxlY3RCb3VuZGFyeVRvdWNoRWRnZT1mdW5jdGlvbih0LGUsbil7dmFyIHI9dC5nZXRMYWJlbCgpO3JldHVybiB0LmlzTGluZUVkZ2UoKXx8dC5pc1Zpc2l0ZWQoKXx8dC5pc0ludGVyaW9yQXJlYUVkZ2UoKXx8dC5nZXRFZGdlKCkuaXNJblJlc3VsdCgpP251bGw6KHFsLmlzVHJ1ZSghKHQuaXNJblJlc3VsdCgpfHx0LmdldFN5bSgpLmlzSW5SZXN1bHQoKSl8fCF0LmdldEVkZ2UoKS5pc0luUmVzdWx0KCkpLHZvaWQoTWcuaXNSZXN1bHRPZk9wKHIsZSkmJmU9PT1NZy5JTlRFUlNFQ1RJT04mJihuLmFkZCh0LmdldEVkZ2UoKSksdC5zZXRWaXNpdGVkRWRnZSghMCkpKSl9LEpmLnByb3RvdHlwZS5pbnRlcmZhY2VzXz1mdW5jdGlvbigpe3JldHVybltdfSxKZi5wcm90b3R5cGUuZ2V0Q2xhc3M9ZnVuY3Rpb24oKXtyZXR1cm4gSmZ9O3ZhciBaZj1mdW5jdGlvbigpe3RoaXMuX29wPW51bGwsdGhpcy5fZ2VvbWV0cnlGYWN0b3J5PW51bGwsdGhpcy5fcmVzdWx0UG9pbnRMaXN0PW5ldyBsYzt2YXIgdD1hcmd1bWVudHNbMF0sZT1hcmd1bWVudHNbMV07dGhpcy5fb3A9dCx0aGlzLl9nZW9tZXRyeUZhY3Rvcnk9ZX07WmYucHJvdG90eXBlLmZpbHRlckNvdmVyZWROb2RlVG9Qb2ludD1mdW5jdGlvbih0KXt2YXIgZT10LmdldENvb3JkaW5hdGUoKTtpZighdGhpcy5fb3AuaXNDb3ZlcmVkQnlMQShlKSl7dmFyIG49dGhpcy5fZ2VvbWV0cnlGYWN0b3J5LmNyZWF0ZVBvaW50KGUpO3RoaXMuX3Jlc3VsdFBvaW50TGlzdC5hZGQobil9fSxaZi5wcm90b3R5cGUuZXh0cmFjdE5vbkNvdmVyZWRSZXN1bHROb2Rlcz1mdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcy5fb3AuZ2V0R3JhcGgoKS5nZXROb2RlcygpLml0ZXJhdG9yKCk7ZS5oYXNOZXh0KCk7KXt2YXIgbj1lLm5leHQoKTtpZighbi5pc0luUmVzdWx0KCkmJighbi5pc0luY2lkZW50RWRnZUluUmVzdWx0KCkmJigwPT09bi5nZXRFZGdlcygpLmdldERlZ3JlZSgpfHx0PT09TWcuSU5URVJTRUNUSU9OKSkpe3ZhciByPW4uZ2V0TGFiZWwoKTtNZy5pc1Jlc3VsdE9mT3Aocix0KSYmdGhpcy5maWx0ZXJDb3ZlcmVkTm9kZVRvUG9pbnQobil9fX0sWmYucHJvdG90eXBlLmJ1aWxkPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmV4dHJhY3ROb25Db3ZlcmVkUmVzdWx0Tm9kZXModCksdGhpcy5fcmVzdWx0UG9pbnRMaXN0fSxaZi5wcm90b3R5cGUuaW50ZXJmYWNlc189ZnVuY3Rpb24oKXtyZXR1cm5bXX0sWmYucHJvdG90eXBlLmdldENsYXNzPWZ1bmN0aW9uKCl7cmV0dXJuIFpmfTt2YXIgS2Y9ZnVuY3Rpb24oKXt0aGlzLl9pbnB1dEdlb209bnVsbCx0aGlzLl9mYWN0b3J5PW51bGwsdGhpcy5fcHJ1bmVFbXB0eUdlb21ldHJ5PSEwLHRoaXMuX3ByZXNlcnZlR2VvbWV0cnlDb2xsZWN0aW9uVHlwZT0hMCx0aGlzLl9wcmVzZXJ2ZUNvbGxlY3Rpb25zPSExLHRoaXMuX3ByZXNlcnZlVHlwZT0hMX07S2YucHJvdG90eXBlLnRyYW5zZm9ybVBvaW50PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuX2ZhY3RvcnkuY3JlYXRlUG9pbnQodGhpcy50cmFuc2Zvcm1Db29yZGluYXRlcyh0LmdldENvb3JkaW5hdGVTZXF1ZW5jZSgpLHQpKX0sS2YucHJvdG90eXBlLnRyYW5zZm9ybVBvbHlnb249ZnVuY3Rpb24odCxlKXt2YXIgbj0hMCxyPXRoaXMudHJhbnNmb3JtTGluZWFyUmluZyh0LmdldEV4dGVyaW9yUmluZygpLHQpO251bGwhPT1yJiZyIGluc3RhbmNlb2YgbmgmJiFyLmlzRW1wdHkoKXx8KG49ITEpO2Zvcih2YXIgaT1uZXcgbGMsbz0wO288dC5nZXROdW1JbnRlcmlvclJpbmcoKTtvKyspe3ZhciBzPXRoaXMudHJhbnNmb3JtTGluZWFyUmluZyh0LmdldEludGVyaW9yUmluZ04obyksdCk7bnVsbD09PXN8fHMuaXNFbXB0eSgpfHwocyBpbnN0YW5jZW9mIG5ofHwobj0hMSksaS5hZGQocykpfWlmKG4pcmV0dXJuIHRoaXMuX2ZhY3RvcnkuY3JlYXRlUG9seWdvbihyLGkudG9BcnJheShbXSkpO3ZhciBhPW5ldyBsYztyZXR1cm4gbnVsbCE9PXImJmEuYWRkKHIpLGEuYWRkQWxsKGkpLHRoaXMuX2ZhY3RvcnkuYnVpbGRHZW9tZXRyeShhKX0sS2YucHJvdG90eXBlLmNyZWF0ZUNvb3JkaW5hdGVTZXF1ZW5jZT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fZmFjdG9yeS5nZXRDb29yZGluYXRlU2VxdWVuY2VGYWN0b3J5KCkuY3JlYXRlKHQpfSxLZi5wcm90b3R5cGUuZ2V0SW5wdXRHZW9tZXRyeT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbnB1dEdlb219LEtmLnByb3RvdHlwZS50cmFuc2Zvcm1NdWx0aUxpbmVTdHJpbmc9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49bmV3IGxjLHI9MDtyPHQuZ2V0TnVtR2VvbWV0cmllcygpO3IrKyl7dmFyIGk9dGhpcy50cmFuc2Zvcm1MaW5lU3RyaW5nKHQuZ2V0R2VvbWV0cnlOKHIpLHQpO251bGwhPT1pJiYoaS5pc0VtcHR5KCl8fG4uYWRkKGkpKX1yZXR1cm4gdGhpcy5fZmFjdG9yeS5idWlsZEdlb21ldHJ5KG4pfSxLZi5wcm90b3R5cGUudHJhbnNmb3JtQ29vcmRpbmF0ZXM9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5jb3B5KHQpfSxLZi5wcm90b3R5cGUudHJhbnNmb3JtTGluZVN0cmluZz1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLl9mYWN0b3J5LmNyZWF0ZUxpbmVTdHJpbmcodGhpcy50cmFuc2Zvcm1Db29yZGluYXRlcyh0LmdldENvb3JkaW5hdGVTZXF1ZW5jZSgpLHQpKX0sS2YucHJvdG90eXBlLnRyYW5zZm9ybU11bHRpUG9pbnQ9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49bmV3IGxjLHI9MDtyPHQuZ2V0TnVtR2VvbWV0cmllcygpO3IrKyl7dmFyIGk9dGhpcy50cmFuc2Zvcm1Qb2ludCh0LmdldEdlb21ldHJ5TihyKSx0KTtudWxsIT09aSYmKGkuaXNFbXB0eSgpfHxuLmFkZChpKSl9cmV0dXJuIHRoaXMuX2ZhY3RvcnkuYnVpbGRHZW9tZXRyeShuKX0sS2YucHJvdG90eXBlLnRyYW5zZm9ybU11bHRpUG9seWdvbj1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj1uZXcgbGMscj0wO3I8dC5nZXROdW1HZW9tZXRyaWVzKCk7cisrKXt2YXIgaT10aGlzLnRyYW5zZm9ybVBvbHlnb24odC5nZXRHZW9tZXRyeU4ociksdCk7bnVsbCE9PWkmJihpLmlzRW1wdHkoKXx8bi5hZGQoaSkpfXJldHVybiB0aGlzLl9mYWN0b3J5LmJ1aWxkR2VvbWV0cnkobil9LEtmLnByb3RvdHlwZS5jb3B5PWZ1bmN0aW9uKHQpe3JldHVybiB0LmNvcHkoKX0sS2YucHJvdG90eXBlLnRyYW5zZm9ybUdlb21ldHJ5Q29sbGVjdGlvbj1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj1uZXcgbGMscj0wO3I8dC5nZXROdW1HZW9tZXRyaWVzKCk7cisrKXt2YXIgaT10aGlzLnRyYW5zZm9ybSh0LmdldEdlb21ldHJ5TihyKSk7bnVsbCE9PWkmJih0aGlzLl9wcnVuZUVtcHR5R2VvbWV0cnkmJmkuaXNFbXB0eSgpfHxuLmFkZChpKSl9cmV0dXJuIHRoaXMuX3ByZXNlcnZlR2VvbWV0cnlDb2xsZWN0aW9uVHlwZT90aGlzLl9mYWN0b3J5LmNyZWF0ZUdlb21ldHJ5Q29sbGVjdGlvbihfaC50b0dlb21ldHJ5QXJyYXkobikpOnRoaXMuX2ZhY3RvcnkuYnVpbGRHZW9tZXRyeShuKX0sS2YucHJvdG90eXBlLnRyYW5zZm9ybT1mdW5jdGlvbih0KXtpZih0aGlzLl9pbnB1dEdlb209dCx0aGlzLl9mYWN0b3J5PXQuZ2V0RmFjdG9yeSgpLHQgaW5zdGFuY2VvZiBRYylyZXR1cm4gdGhpcy50cmFuc2Zvcm1Qb2ludCh0LG51bGwpO2lmKHQgaW5zdGFuY2VvZiBlaClyZXR1cm4gdGhpcy50cmFuc2Zvcm1NdWx0aVBvaW50KHQsbnVsbCk7aWYodCBpbnN0YW5jZW9mIG5oKXJldHVybiB0aGlzLnRyYW5zZm9ybUxpbmVhclJpbmcodCxudWxsKTtpZih0IGluc3RhbmNlb2YgWmMpcmV0dXJuIHRoaXMudHJhbnNmb3JtTGluZVN0cmluZyh0LG51bGwpO2lmKHQgaW5zdGFuY2VvZiBHYylyZXR1cm4gdGhpcy50cmFuc2Zvcm1NdWx0aUxpbmVTdHJpbmcodCxudWxsKTtpZih0IGluc3RhbmNlb2YgdGgpcmV0dXJuIHRoaXMudHJhbnNmb3JtUG9seWdvbih0LG51bGwpO2lmKHQgaW5zdGFuY2VvZiByaClyZXR1cm4gdGhpcy50cmFuc2Zvcm1NdWx0aVBvbHlnb24odCxudWxsKTtpZih0IGluc3RhbmNlb2Yga2MpcmV0dXJuIHRoaXMudHJhbnNmb3JtR2VvbWV0cnlDb2xsZWN0aW9uKHQsbnVsbCk7dGhyb3cgbmV3IGVsKCJVbmtub3duIEdlb21ldHJ5IHN1YnR5cGU6ICIrdC5nZXRDbGFzcygpLmdldE5hbWUoKSl9LEtmLnByb3RvdHlwZS50cmFuc2Zvcm1MaW5lYXJSaW5nPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy50cmFuc2Zvcm1Db29yZGluYXRlcyh0LmdldENvb3JkaW5hdGVTZXF1ZW5jZSgpLHQpO2lmKG51bGw9PT1uKXJldHVybiB0aGlzLl9mYWN0b3J5LmNyZWF0ZUxpbmVhclJpbmcobnVsbCk7dmFyIHI9bi5zaXplKCk7cmV0dXJuIHI+MCYmcjw0JiYhdGhpcy5fcHJlc2VydmVUeXBlP3RoaXMuX2ZhY3RvcnkuY3JlYXRlTGluZVN0cmluZyhuKTp0aGlzLl9mYWN0b3J5LmNyZWF0ZUxpbmVhclJpbmcobil9LEtmLnByb3RvdHlwZS5pbnRlcmZhY2VzXz1mdW5jdGlvbigpe3JldHVybltdfSxLZi5wcm90b3R5cGUuZ2V0Q2xhc3M9ZnVuY3Rpb24oKXtyZXR1cm4gS2Z9O3ZhciBRZj1mdW5jdGlvbiB0KCl7aWYodGhpcy5fc25hcFRvbGVyYW5jZT0wLHRoaXMuX3NyY1B0cz1udWxsLHRoaXMuX3NlZz1uZXcgdnAsdGhpcy5fYWxsb3dTbmFwcGluZ1RvU291cmNlVmVydGljZXM9ITEsdGhpcy5faXNDbG9zZWQ9ITEsYXJndW1lbnRzWzBdaW5zdGFuY2VvZiBaYyYmIm51bWJlciI9PXR5cGVvZiBhcmd1bWVudHNbMV0pe3ZhciBlPWFyZ3VtZW50c1swXSxuPWFyZ3VtZW50c1sxXTt0LmNhbGwodGhpcyxlLmdldENvb3JkaW5hdGVzKCksbil9ZWxzZSBpZihhcmd1bWVudHNbMF1pbnN0YW5jZW9mIEFycmF5JiYibnVtYmVyIj09dHlwZW9mIGFyZ3VtZW50c1sxXSl7dmFyIHI9YXJndW1lbnRzWzBdLGk9YXJndW1lbnRzWzFdO3RoaXMuX3NyY1B0cz1yLHRoaXMuX2lzQ2xvc2VkPXQuaXNDbG9zZWQociksdGhpcy5fc25hcFRvbGVyYW5jZT1pfX07UWYucHJvdG90eXBlLnNuYXBWZXJ0aWNlcz1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj10aGlzLl9pc0Nsb3NlZD90LnNpemUoKS0xOnQuc2l6ZSgpLHI9MDtyPG47cisrKXt2YXIgaT10LmdldChyKSxvPXRoaXMuZmluZFNuYXBGb3JWZXJ0ZXgoaSxlKTtudWxsIT09byYmKHQuc2V0KHIsbmV3IHVsKG8pKSwwPT09ciYmdGhpcy5faXNDbG9zZWQmJnQuc2V0KHQuc2l6ZSgpLTEsbmV3IHVsKG8pKSl9fSxRZi5wcm90b3R5cGUuZmluZFNuYXBGb3JWZXJ0ZXg9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7aWYodC5lcXVhbHMyRChlW25dKSlyZXR1cm4gbnVsbDtpZih0LmRpc3RhbmNlKGVbbl0pPHRoaXMuX3NuYXBUb2xlcmFuY2UpcmV0dXJuIGVbbl19cmV0dXJuIG51bGx9LFFmLnByb3RvdHlwZS5zbmFwVG89ZnVuY3Rpb24odCl7dmFyIGU9bmV3IGhjKHRoaXMuX3NyY1B0cyk7cmV0dXJuIHRoaXMuc25hcFZlcnRpY2VzKGUsdCksdGhpcy5zbmFwU2VnbWVudHMoZSx0KSxlLnRvQ29vcmRpbmF0ZUFycmF5KCl9LFFmLnByb3RvdHlwZS5zbmFwU2VnbWVudHM9ZnVuY3Rpb24odCxlKXtpZigwPT09ZS5sZW5ndGgpcmV0dXJuIG51bGw7dmFyIG49ZS5sZW5ndGg7ZVswXS5lcXVhbHMyRChlW2UubGVuZ3RoLTFdKSYmKG49ZS5sZW5ndGgtMSk7Zm9yKHZhciByPTA7cjxuO3IrKyl7dmFyIGk9ZVtyXSxvPXRoaXMuZmluZFNlZ21lbnRJbmRleFRvU25hcChpLHQpO28+PTAmJnQuYWRkKG8rMSxuZXcgdWwoaSksITEpfX0sUWYucHJvdG90eXBlLmZpbmRTZWdtZW50SW5kZXhUb1NuYXA9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49dGhpcyxyPW5sLk1BWF9WQUxVRSxpPS0xLG89MDtvPGUuc2l6ZSgpLTE7bysrKXtpZihuLl9zZWcucDA9ZS5nZXQobyksbi5fc2VnLnAxPWUuZ2V0KG8rMSksbi5fc2VnLnAwLmVxdWFsczJEKHQpfHxuLl9zZWcucDEuZXF1YWxzMkQodCkpe2lmKG4uX2FsbG93U25hcHBpbmdUb1NvdXJjZVZlcnRpY2VzKWNvbnRpbnVlO3JldHVybi0xfXZhciBzPW4uX3NlZy5kaXN0YW5jZSh0KTtzPG4uX3NuYXBUb2xlcmFuY2UmJnM8ciYmKHI9cyxpPW8pfXJldHVybiBpfSxRZi5wcm90b3R5cGUuc2V0QWxsb3dTbmFwcGluZ1RvU291cmNlVmVydGljZXM9ZnVuY3Rpb24odCl7dGhpcy5fYWxsb3dTbmFwcGluZ1RvU291cmNlVmVydGljZXM9dH0sUWYucHJvdG90eXBlLmludGVyZmFjZXNfPWZ1bmN0aW9uKCl7cmV0dXJuW119LFFmLnByb3RvdHlwZS5nZXRDbGFzcz1mdW5jdGlvbigpe3JldHVybiBRZn0sUWYuaXNDbG9zZWQ9ZnVuY3Rpb24odCl7cmV0dXJuISh0Lmxlbmd0aDw9MSkmJnRbMF0uZXF1YWxzMkQodFt0Lmxlbmd0aC0xXSl9O3ZhciAkZj1mdW5jdGlvbih0KXt0aGlzLl9zcmNHZW9tPXR8fG51bGx9LHRnPXtTTkFQX1BSRUNJU0lPTl9GQUNUT1I6e2NvbmZpZ3VyYWJsZTohMH19OyRmLnByb3RvdHlwZS5zbmFwVG89ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLmV4dHJhY3RUYXJnZXRDb29yZGluYXRlcyh0KTtyZXR1cm4gbmV3IGVnKGUsbikudHJhbnNmb3JtKHRoaXMuX3NyY0dlb20pfSwkZi5wcm90b3R5cGUuc25hcFRvU2VsZj1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuZXh0cmFjdFRhcmdldENvb3JkaW5hdGVzKHRoaXMuX3NyY0dlb20pLHI9bmV3IGVnKHQsbiwhMCkudHJhbnNmb3JtKHRoaXMuX3NyY0dlb20pLGk9cjtyZXR1cm4gZSYmZ2woaSwkYykmJihpPXIuYnVmZmVyKDApKSxpfSwkZi5wcm90b3R5cGUuY29tcHV0ZVNuYXBUb2xlcmFuY2U9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuY29tcHV0ZU1pbmltdW1TZWdtZW50TGVuZ3RoKHQpLzEwfSwkZi5wcm90b3R5cGUuZXh0cmFjdFRhcmdldENvb3JkaW5hdGVzPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1uZXcgTGMsbj10LmdldENvb3JkaW5hdGVzKCkscj0wO3I8bi5sZW5ndGg7cisrKWUuYWRkKG5bcl0pO3JldHVybiBlLnRvQXJyYXkobmV3IEFycmF5KDApLmZpbGwobnVsbCkpfSwkZi5wcm90b3R5cGUuY29tcHV0ZU1pbmltdW1TZWdtZW50TGVuZ3RoPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1ubC5NQVhfVkFMVUUsbj0wO248dC5sZW5ndGgtMTtuKyspe3ZhciByPXRbbl0uZGlzdGFuY2UodFtuKzFdKTtyPGUmJihlPXIpfXJldHVybiBlfSwkZi5wcm90b3R5cGUuaW50ZXJmYWNlc189ZnVuY3Rpb24oKXtyZXR1cm5bXX0sJGYucHJvdG90eXBlLmdldENsYXNzPWZ1bmN0aW9uKCl7cmV0dXJuICRmfSwkZi5zbmFwPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uZXcgQXJyYXkoMikuZmlsbChudWxsKSxpPW5ldyAkZih0KTtyWzBdPWkuc25hcFRvKGUsbik7dmFyIG89bmV3ICRmKGUpO3JldHVybiByWzFdPW8uc25hcFRvKHJbMF0sbikscn0sJGYuY29tcHV0ZU92ZXJsYXlTbmFwVG9sZXJhbmNlPWZ1bmN0aW9uKCl7aWYoMT09PWFyZ3VtZW50cy5sZW5ndGgpe3ZhciB0PWFyZ3VtZW50c1swXSxlPSRmLmNvbXB1dGVTaXplQmFzZWRTbmFwVG9sZXJhbmNlKHQpLG49dC5nZXRQcmVjaXNpb25Nb2RlbCgpO2lmKG4uZ2V0VHlwZSgpPT09Z2guRklYRUQpe3ZhciByPTEvbi5nZXRTY2FsZSgpKjIvMS40MTU7cj5lJiYoZT1yKX1yZXR1cm4gZX1pZigyPT09YXJndW1lbnRzLmxlbmd0aCl7dmFyIGk9YXJndW1lbnRzWzBdLG89YXJndW1lbnRzWzFdO3JldHVybiBNYXRoLm1pbigkZi5jb21wdXRlT3ZlcmxheVNuYXBUb2xlcmFuY2UoaSksJGYuY29tcHV0ZU92ZXJsYXlTbmFwVG9sZXJhbmNlKG8pKX19LCRmLmNvbXB1dGVTaXplQmFzZWRTbmFwVG9sZXJhbmNlPWZ1bmN0aW9uKHQpe3ZhciBlPXQuZ2V0RW52ZWxvcGVJbnRlcm5hbCgpO3JldHVybiBNYXRoLm1pbihlLmdldEhlaWdodCgpLGUuZ2V0V2lkdGgoKSkqJGYuU05BUF9QUkVDSVNJT05fRkFDVE9SfSwkZi5zbmFwVG9TZWxmPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gbmV3ICRmKHQpLnNuYXBUb1NlbGYoZSxuKX0sdGcuU05BUF9QUkVDSVNJT05fRkFDVE9SLmdldD1mdW5jdGlvbigpe3JldHVybiAxZS05fSxPYmplY3QuZGVmaW5lUHJvcGVydGllcygkZix0Zyk7dmFyIGVnPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuLHIpe3QuY2FsbCh0aGlzKSx0aGlzLl9zbmFwVG9sZXJhbmNlPWV8fG51bGwsdGhpcy5fc25hcFB0cz1ufHxudWxsLHRoaXMuX2lzU2VsZlNuYXA9dm9pZCAwIT09ciYmcn1yZXR1cm4gdCYmKGUuX19wcm90b19fPXQpLGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpLGUucHJvdG90eXBlLmNvbnN0cnVjdG9yPWUsZS5wcm90b3R5cGUuc25hcExpbmU9ZnVuY3Rpb24odCxlKXt2YXIgbj1uZXcgUWYodCx0aGlzLl9zbmFwVG9sZXJhbmNlKTtyZXR1cm4gbi5zZXRBbGxvd1NuYXBwaW5nVG9Tb3VyY2VWZXJ0aWNlcyh0aGlzLl9pc1NlbGZTbmFwKSxuLnNuYXBUbyhlKX0sZS5wcm90b3R5cGUudHJhbnNmb3JtQ29vcmRpbmF0ZXM9ZnVuY3Rpb24odCxlKXt2YXIgbj10LnRvQ29vcmRpbmF0ZUFycmF5KCkscj10aGlzLnNuYXBMaW5lKG4sdGhpcy5fc25hcFB0cyk7cmV0dXJuIHRoaXMuX2ZhY3RvcnkuZ2V0Q29vcmRpbmF0ZVNlcXVlbmNlRmFjdG9yeSgpLmNyZWF0ZShyKX0sZS5wcm90b3R5cGUuaW50ZXJmYWNlc189ZnVuY3Rpb24oKXtyZXR1cm5bXX0sZS5wcm90b3R5cGUuZ2V0Q2xhc3M9ZnVuY3Rpb24oKXtyZXR1cm4gZX0sZX0oS2YpLG5nPWZ1bmN0aW9uKCl7dGhpcy5faXNGaXJzdD0hMCx0aGlzLl9jb21tb25NYW50aXNzYUJpdHNDb3VudD01Myx0aGlzLl9jb21tb25CaXRzPTAsdGhpcy5fY29tbW9uU2lnbkV4cD1udWxsfTtuZy5wcm90b3R5cGUuZ2V0Q29tbW9uPWZ1bmN0aW9uKCl7cmV0dXJuIG5sLmxvbmdCaXRzVG9Eb3VibGUodGhpcy5fY29tbW9uQml0cyl9LG5nLnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24odCl7dmFyIGU9bmwuZG91YmxlVG9Mb25nQml0cyh0KTtyZXR1cm4gdGhpcy5faXNGaXJzdD8odGhpcy5fY29tbW9uQml0cz1lLHRoaXMuX2NvbW1vblNpZ25FeHA9bmcuc2lnbkV4cEJpdHModGhpcy5fY29tbW9uQml0cyksdGhpcy5faXNGaXJzdD0hMSxudWxsKTpuZy5zaWduRXhwQml0cyhlKSE9PXRoaXMuX2NvbW1vblNpZ25FeHA/KHRoaXMuX2NvbW1vbkJpdHM9MCxudWxsKToodGhpcy5fY29tbW9uTWFudGlzc2FCaXRzQ291bnQ9bmcubnVtQ29tbW9uTW9zdFNpZ01hbnRpc3NhQml0cyh0aGlzLl9jb21tb25CaXRzLGUpLHZvaWQodGhpcy5fY29tbW9uQml0cz1uZy56ZXJvTG93ZXJCaXRzKHRoaXMuX2NvbW1vbkJpdHMsNjQtKDEyK3RoaXMuX2NvbW1vbk1hbnRpc3NhQml0c0NvdW50KSkpKX0sbmcucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7aWYoMT09PWFyZ3VtZW50cy5sZW5ndGgpe3ZhciB0PWFyZ3VtZW50c1swXSxlPW5sLmxvbmdCaXRzVG9Eb3VibGUodCksbj1ubC50b0JpbmFyeVN0cmluZyh0KSxyPSIwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwIituLGk9ci5zdWJzdHJpbmcoci5sZW5ndGgtNjQpLG89aS5zdWJzdHJpbmcoMCwxKSsiICAiK2kuc3Vic3RyaW5nKDEsMTIpKyIoZXhwKSAiK2kuc3Vic3RyaW5nKDEyKSsiIFsgIitlKyIgXSI7cmV0dXJuIG99fSxuZy5wcm90b3R5cGUuaW50ZXJmYWNlc189ZnVuY3Rpb24oKXtyZXR1cm5bXX0sbmcucHJvdG90eXBlLmdldENsYXNzPWZ1bmN0aW9uKCl7cmV0dXJuIG5nfSxuZy5nZXRCaXQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gMCE9KHQmMTw8ZSk/MTowfSxuZy5zaWduRXhwQml0cz1mdW5jdGlvbih0KXtyZXR1cm4gdD4+NTJ9LG5nLnplcm9Mb3dlckJpdHM9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdCZ+KCgxPDxlKS0xKX0sbmcubnVtQ29tbW9uTW9zdFNpZ01hbnRpc3NhQml0cz1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj0wLHI9NTI7cj49MDtyLS0pe2lmKG5nLmdldEJpdCh0LHIpIT09bmcuZ2V0Qml0KGUscikpcmV0dXJuIG47bisrfXJldHVybiA1Mn07dmFyIHJnPWZ1bmN0aW9uKCl7dGhpcy5fY29tbW9uQ29vcmQ9bnVsbCx0aGlzLl9jY0ZpbHRlcj1uZXcgb2d9LGlnPXtDb21tb25Db29yZGluYXRlRmlsdGVyOntjb25maWd1cmFibGU6ITB9LFRyYW5zbGF0ZXI6e2NvbmZpZ3VyYWJsZTohMH19O3JnLnByb3RvdHlwZS5hZGRDb21tb25CaXRzPWZ1bmN0aW9uKHQpe3ZhciBlPW5ldyBzZyh0aGlzLl9jb21tb25Db29yZCk7dC5hcHBseShlKSx0Lmdlb21ldHJ5Q2hhbmdlZCgpfSxyZy5wcm90b3R5cGUucmVtb3ZlQ29tbW9uQml0cz1mdW5jdGlvbih0KXtpZigwPT09dGhpcy5fY29tbW9uQ29vcmQueCYmMD09PXRoaXMuX2NvbW1vbkNvb3JkLnkpcmV0dXJuIHQ7dmFyIGU9bmV3IHVsKHRoaXMuX2NvbW1vbkNvb3JkKTtlLng9LWUueCxlLnk9LWUueTt2YXIgbj1uZXcgc2coZSk7cmV0dXJuIHQuYXBwbHkobiksdC5nZW9tZXRyeUNoYW5nZWQoKSx0fSxyZy5wcm90b3R5cGUuZ2V0Q29tbW9uQ29vcmRpbmF0ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9jb21tb25Db29yZH0scmcucHJvdG90eXBlLmFkZD1mdW5jdGlvbih0KXt0LmFwcGx5KHRoaXMuX2NjRmlsdGVyKSx0aGlzLl9jb21tb25Db29yZD10aGlzLl9jY0ZpbHRlci5nZXRDb21tb25Db29yZGluYXRlKCl9LHJnLnByb3RvdHlwZS5pbnRlcmZhY2VzXz1mdW5jdGlvbigpe3JldHVybltdfSxyZy5wcm90b3R5cGUuZ2V0Q2xhc3M9ZnVuY3Rpb24oKXtyZXR1cm4gcmd9LGlnLkNvbW1vbkNvb3JkaW5hdGVGaWx0ZXIuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIG9nfSxpZy5UcmFuc2xhdGVyLmdldD1mdW5jdGlvbigpe3JldHVybiBzZ30sT2JqZWN0LmRlZmluZVByb3BlcnRpZXMocmcsaWcpO3ZhciBvZz1mdW5jdGlvbigpe3RoaXMuX2NvbW1vbkJpdHNYPW5ldyBuZyx0aGlzLl9jb21tb25CaXRzWT1uZXcgbmd9O29nLnByb3RvdHlwZS5maWx0ZXI9ZnVuY3Rpb24odCl7dGhpcy5fY29tbW9uQml0c1guYWRkKHQueCksdGhpcy5fY29tbW9uQml0c1kuYWRkKHQueSl9LG9nLnByb3RvdHlwZS5nZXRDb21tb25Db29yZGluYXRlPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyB1bCh0aGlzLl9jb21tb25CaXRzWC5nZXRDb21tb24oKSx0aGlzLl9jb21tb25CaXRzWS5nZXRDb21tb24oKSl9LG9nLnByb3RvdHlwZS5pbnRlcmZhY2VzXz1mdW5jdGlvbigpe3JldHVybltLbF19LG9nLnByb3RvdHlwZS5nZXRDbGFzcz1mdW5jdGlvbigpe3JldHVybiBvZ307dmFyIHNnPWZ1bmN0aW9uKCl7dGhpcy50cmFucz1udWxsO3ZhciB0PWFyZ3VtZW50c1swXTt0aGlzLnRyYW5zPXR9O3NnLnByb3RvdHlwZS5maWx0ZXI9ZnVuY3Rpb24odCxlKXt2YXIgbj10LmdldE9yZGluYXRlKGUsMCkrdGhpcy50cmFucy54LHI9dC5nZXRPcmRpbmF0ZShlLDEpK3RoaXMudHJhbnMueTt0LnNldE9yZGluYXRlKGUsMCxuKSx0LnNldE9yZGluYXRlKGUsMSxyKX0sc2cucHJvdG90eXBlLmlzRG9uZT1mdW5jdGlvbigpe3JldHVybiExfSxzZy5wcm90b3R5cGUuaXNHZW9tZXRyeUNoYW5nZWQ9ZnVuY3Rpb24oKXtyZXR1cm4hMH0sc2cucHJvdG90eXBlLmludGVyZmFjZXNfPWZ1bmN0aW9uKCl7cmV0dXJuW0ZjXX0sc2cucHJvdG90eXBlLmdldENsYXNzPWZ1bmN0aW9uKCl7cmV0dXJuIHNnfTt2YXIgYWc9ZnVuY3Rpb24odCxlKXt0aGlzLl9nZW9tPW5ldyBBcnJheSgyKS5maWxsKG51bGwpLHRoaXMuX3NuYXBUb2xlcmFuY2U9bnVsbCx0aGlzLl9jYnI9bnVsbCx0aGlzLl9nZW9tWzBdPXQsdGhpcy5fZ2VvbVsxXT1lLHRoaXMuY29tcHV0ZVNuYXBUb2xlcmFuY2UoKX07YWcucHJvdG90eXBlLnNlbGZTbmFwPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgJGYodCkuc25hcFRvKHQsdGhpcy5fc25hcFRvbGVyYW5jZSl9LGFnLnByb3RvdHlwZS5yZW1vdmVDb21tb25CaXRzPWZ1bmN0aW9uKHQpe3RoaXMuX2Nicj1uZXcgcmcsdGhpcy5fY2JyLmFkZCh0WzBdKSx0aGlzLl9jYnIuYWRkKHRbMV0pO3ZhciBlPW5ldyBBcnJheSgyKS5maWxsKG51bGwpO3JldHVybiBlWzBdPXRoaXMuX2Nici5yZW1vdmVDb21tb25CaXRzKHRbMF0uY29weSgpKSxlWzFdPXRoaXMuX2Nici5yZW1vdmVDb21tb25CaXRzKHRbMV0uY29weSgpKSxlfSxhZy5wcm90b3R5cGUucHJlcGFyZVJlc3VsdD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fY2JyLmFkZENvbW1vbkJpdHModCksdH0sYWcucHJvdG90eXBlLmdldFJlc3VsdEdlb21ldHJ5PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuc25hcCh0aGlzLl9nZW9tKSxuPU1nLm92ZXJsYXlPcChlWzBdLGVbMV0sdCk7cmV0dXJuIHRoaXMucHJlcGFyZVJlc3VsdChuKX0sYWcucHJvdG90eXBlLmNoZWNrVmFsaWQ9ZnVuY3Rpb24odCl7dC5pc1ZhbGlkKCl8fFBsLm91dC5wcmludGxuKCJTbmFwcGVkIGdlb21ldHJ5IGlzIGludmFsaWQiKX0sYWcucHJvdG90eXBlLmNvbXB1dGVTbmFwVG9sZXJhbmNlPWZ1bmN0aW9uKCl7dGhpcy5fc25hcFRvbGVyYW5jZT0kZi5jb21wdXRlT3ZlcmxheVNuYXBUb2xlcmFuY2UodGhpcy5fZ2VvbVswXSx0aGlzLl9nZW9tWzFdKX0sYWcucHJvdG90eXBlLnNuYXA9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5yZW1vdmVDb21tb25CaXRzKHQpO3JldHVybiAkZi5zbmFwKGVbMF0sZVsxXSx0aGlzLl9zbmFwVG9sZXJhbmNlKX0sYWcucHJvdG90eXBlLmludGVyZmFjZXNfPWZ1bmN0aW9uKCl7cmV0dXJuW119LGFnLnByb3RvdHlwZS5nZXRDbGFzcz1mdW5jdGlvbigpe3JldHVybiBhZ30sYWcub3ZlcmxheU9wPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gbmV3IGFnKHQsZSkuZ2V0UmVzdWx0R2VvbWV0cnkobil9LGFnLnVuaW9uPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGFnLm92ZXJsYXlPcCh0LGUsTWcuVU5JT04pfSxhZy5pbnRlcnNlY3Rpb249ZnVuY3Rpb24odCxlKXtyZXR1cm4gYWcub3ZlcmxheU9wKHQsZSxNZy5JTlRFUlNFQ1RJT04pfSxhZy5zeW1EaWZmZXJlbmNlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGFnLm92ZXJsYXlPcCh0LGUsTWcuU1lNRElGRkVSRU5DRSl9LGFnLmRpZmZlcmVuY2U9ZnVuY3Rpb24odCxlKXtyZXR1cm4gYWcub3ZlcmxheU9wKHQsZSxNZy5ESUZGRVJFTkNFKX07dmFyIHVnPWZ1bmN0aW9uKHQsZSl7dGhpcy5fZ2VvbT1uZXcgQXJyYXkoMikuZmlsbChudWxsKSx0aGlzLl9nZW9tWzBdPXQsdGhpcy5fZ2VvbVsxXT1lfTt1Zy5wcm90b3R5cGUuZ2V0UmVzdWx0R2VvbWV0cnk9ZnVuY3Rpb24odCl7dmFyIGU9bnVsbCxuPSExLHI9bnVsbDt0cnl7ZT1NZy5vdmVybGF5T3AodGhpcy5fZ2VvbVswXSx0aGlzLl9nZW9tWzFdLHQpO249ITB9Y2F0Y2godCl7aWYoISh0IGluc3RhbmNlb2Yga2wpKXRocm93IHQ7cj10fWlmKCFuKXRyeXtlPWFnLm92ZXJsYXlPcCh0aGlzLl9nZW9tWzBdLHRoaXMuX2dlb21bMV0sdCl9Y2F0Y2godCl7dGhyb3cgdCBpbnN0YW5jZW9mIGtsP3I6dH1yZXR1cm4gZX0sdWcucHJvdG90eXBlLmludGVyZmFjZXNfPWZ1bmN0aW9uKCl7cmV0dXJuW119LHVnLnByb3RvdHlwZS5nZXRDbGFzcz1mdW5jdGlvbigpe3JldHVybiB1Z30sdWcub3ZlcmxheU9wPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gbmV3IHVnKHQsZSkuZ2V0UmVzdWx0R2VvbWV0cnkobil9LHVnLnVuaW9uPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHVnLm92ZXJsYXlPcCh0LGUsTWcuVU5JT04pfSx1Zy5pbnRlcnNlY3Rpb249ZnVuY3Rpb24odCxlKXtyZXR1cm4gdWcub3ZlcmxheU9wKHQsZSxNZy5JTlRFUlNFQ1RJT04pfSx1Zy5zeW1EaWZmZXJlbmNlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHVnLm92ZXJsYXlPcCh0LGUsTWcuU1lNRElGRkVSRU5DRSl9LHVnLmRpZmZlcmVuY2U9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdWcub3ZlcmxheU9wKHQsZSxNZy5ESUZGRVJFTkNFKX07dmFyIGxnPWZ1bmN0aW9uKCl7dGhpcy5tY2U9bnVsbCx0aGlzLmNoYWluSW5kZXg9bnVsbDt2YXIgdD1hcmd1bWVudHNbMF0sZT1hcmd1bWVudHNbMV07dGhpcy5tY2U9dCx0aGlzLmNoYWluSW5kZXg9ZX07bGcucHJvdG90eXBlLmNvbXB1dGVJbnRlcnNlY3Rpb25zPWZ1bmN0aW9uKHQsZSl7dGhpcy5tY2UuY29tcHV0ZUludGVyc2VjdHNGb3JDaGFpbih0aGlzLmNoYWluSW5kZXgsdC5tY2UsdC5jaGFpbkluZGV4LGUpfSxsZy5wcm90b3R5cGUuaW50ZXJmYWNlc189ZnVuY3Rpb24oKXtyZXR1cm5bXX0sbGcucHJvdG90eXBlLmdldENsYXNzPWZ1bmN0aW9uKCl7cmV0dXJuIGxnfTt2YXIgY2c9ZnVuY3Rpb24gdCgpe2lmKHRoaXMuX2xhYmVsPW51bGwsdGhpcy5feFZhbHVlPW51bGwsdGhpcy5fZXZlbnRUeXBlPW51bGwsdGhpcy5faW5zZXJ0RXZlbnQ9bnVsbCx0aGlzLl9kZWxldGVFdmVudEluZGV4PW51bGwsdGhpcy5fb2JqPW51bGwsMj09PWFyZ3VtZW50cy5sZW5ndGgpe3ZhciBlPWFyZ3VtZW50c1swXSxuPWFyZ3VtZW50c1sxXTt0aGlzLl9ldmVudFR5cGU9dC5ERUxFVEUsdGhpcy5feFZhbHVlPWUsdGhpcy5faW5zZXJ0RXZlbnQ9bn1lbHNlIGlmKDM9PT1hcmd1bWVudHMubGVuZ3RoKXt2YXIgcj1hcmd1bWVudHNbMF0saT1hcmd1bWVudHNbMV0sbz1hcmd1bWVudHNbMl07dGhpcy5fZXZlbnRUeXBlPXQuSU5TRVJULHRoaXMuX2xhYmVsPXIsdGhpcy5feFZhbHVlPWksdGhpcy5fb2JqPW99fSxoZz17SU5TRVJUOntjb25maWd1cmFibGU6ITB9LERFTEVURTp7Y29uZmlndXJhYmxlOiEwfX07Y2cucHJvdG90eXBlLmlzRGVsZXRlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2V2ZW50VHlwZT09PWNnLkRFTEVURX0sY2cucHJvdG90eXBlLnNldERlbGV0ZUV2ZW50SW5kZXg9ZnVuY3Rpb24odCl7dGhpcy5fZGVsZXRlRXZlbnRJbmRleD10fSxjZy5wcm90b3R5cGUuZ2V0T2JqZWN0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX29ian0sY2cucHJvdG90eXBlLmNvbXBhcmVUbz1mdW5jdGlvbih0KXt2YXIgZT10O3JldHVybiB0aGlzLl94VmFsdWU8ZS5feFZhbHVlPy0xOnRoaXMuX3hWYWx1ZT5lLl94VmFsdWU/MTp0aGlzLl9ldmVudFR5cGU8ZS5fZXZlbnRUeXBlPy0xOnRoaXMuX2V2ZW50VHlwZT5lLl9ldmVudFR5cGU/MTowfSxjZy5wcm90b3R5cGUuZ2V0SW5zZXJ0RXZlbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW5zZXJ0RXZlbnR9LGNnLnByb3RvdHlwZS5pc0luc2VydD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9ldmVudFR5cGU9PT1jZy5JTlNFUlR9LGNnLnByb3RvdHlwZS5pc1NhbWVMYWJlbD1mdW5jdGlvbih0KXtyZXR1cm4gbnVsbCE9PXRoaXMuX2xhYmVsJiZ0aGlzLl9sYWJlbD09PXQuX2xhYmVsfSxjZy5wcm90b3R5cGUuZ2V0RGVsZXRlRXZlbnRJbmRleD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9kZWxldGVFdmVudEluZGV4fSxjZy5wcm90b3R5cGUuaW50ZXJmYWNlc189ZnVuY3Rpb24oKXtyZXR1cm5baWxdfSxjZy5wcm90b3R5cGUuZ2V0Q2xhc3M9ZnVuY3Rpb24oKXtyZXR1cm4gY2d9LGhnLklOU0VSVC5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gMX0saGcuREVMRVRFLmdldD1mdW5jdGlvbigpe3JldHVybiAyfSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhjZyxoZyk7dmFyIHBnPWZ1bmN0aW9uKCl7fTtwZy5wcm90b3R5cGUuaW50ZXJmYWNlc189ZnVuY3Rpb24oKXtyZXR1cm5bXX0scGcucHJvdG90eXBlLmdldENsYXNzPWZ1bmN0aW9uKCl7cmV0dXJuIHBnfTt2YXIgZmc9ZnVuY3Rpb24oKXt0aGlzLl9oYXNJbnRlcnNlY3Rpb249ITEsdGhpcy5faGFzUHJvcGVyPSExLHRoaXMuX2hhc1Byb3BlckludGVyaW9yPSExLHRoaXMuX3Byb3BlckludGVyc2VjdGlvblBvaW50PW51bGwsdGhpcy5fbGk9bnVsbCx0aGlzLl9pbmNsdWRlUHJvcGVyPW51bGwsdGhpcy5fcmVjb3JkSXNvbGF0ZWQ9bnVsbCx0aGlzLl9pc1NlbGZJbnRlcnNlY3Rpb249bnVsbCx0aGlzLl9udW1JbnRlcnNlY3Rpb25zPTAsdGhpcy5udW1UZXN0cz0wLHRoaXMuX2JkeU5vZGVzPW51bGwsdGhpcy5faXNEb25lPSExLHRoaXMuX2lzRG9uZVdoZW5Qcm9wZXJJbnQ9ITE7dmFyIHQ9YXJndW1lbnRzWzBdLGU9YXJndW1lbnRzWzFdLG49YXJndW1lbnRzWzJdO3RoaXMuX2xpPXQsdGhpcy5faW5jbHVkZVByb3Blcj1lLHRoaXMuX3JlY29yZElzb2xhdGVkPW59O2ZnLnByb3RvdHlwZS5pc1RyaXZpYWxJbnRlcnNlY3Rpb249ZnVuY3Rpb24odCxlLG4scil7aWYodD09PW4mJjE9PT10aGlzLl9saS5nZXRJbnRlcnNlY3Rpb25OdW0oKSl7aWYoZmcuaXNBZGphY2VudFNlZ21lbnRzKGUscikpcmV0dXJuITA7aWYodC5pc0Nsb3NlZCgpKXt2YXIgaT10LmdldE51bVBvaW50cygpLTE7aWYoMD09PWUmJnI9PT1pfHwwPT09ciYmZT09PWkpcmV0dXJuITB9fXJldHVybiExfSxmZy5wcm90b3R5cGUuZ2V0UHJvcGVySW50ZXJzZWN0aW9uUG9pbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcHJvcGVySW50ZXJzZWN0aW9uUG9pbnR9LGZnLnByb3RvdHlwZS5zZXRJc0RvbmVJZlByb3BlckludD1mdW5jdGlvbih0KXt0aGlzLl9pc0RvbmVXaGVuUHJvcGVySW50PXR9LGZnLnByb3RvdHlwZS5oYXNQcm9wZXJJbnRlcmlvckludGVyc2VjdGlvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9oYXNQcm9wZXJJbnRlcmlvcn0sZmcucHJvdG90eXBlLmlzQm91bmRhcnlQb2ludEludGVybmFsPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPWUuaXRlcmF0b3IoKTtuLmhhc05leHQoKTspe3ZhciByPW4ubmV4dCgpLmdldENvb3JkaW5hdGUoKTtpZih0LmlzSW50ZXJzZWN0aW9uKHIpKXJldHVybiEwfXJldHVybiExfSxmZy5wcm90b3R5cGUuaGFzUHJvcGVySW50ZXJzZWN0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2hhc1Byb3Blcn0sZmcucHJvdG90eXBlLmhhc0ludGVyc2VjdGlvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9oYXNJbnRlcnNlY3Rpb259LGZnLnByb3RvdHlwZS5pc0RvbmU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faXNEb25lfSxmZy5wcm90b3R5cGUuaXNCb3VuZGFyeVBvaW50PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG51bGwhPT1lJiYoISF0aGlzLmlzQm91bmRhcnlQb2ludEludGVybmFsKHQsZVswXSl8fCEhdGhpcy5pc0JvdW5kYXJ5UG9pbnRJbnRlcm5hbCh0LGVbMV0pKX0sZmcucHJvdG90eXBlLnNldEJvdW5kYXJ5Tm9kZXM9ZnVuY3Rpb24odCxlKXt0aGlzLl9iZHlOb2Rlcz1uZXcgQXJyYXkoMikuZmlsbChudWxsKSx0aGlzLl9iZHlOb2Rlc1swXT10LHRoaXMuX2JkeU5vZGVzWzFdPWV9LGZnLnByb3RvdHlwZS5hZGRJbnRlcnNlY3Rpb25zPWZ1bmN0aW9uKHQsZSxuLHIpe2lmKHQ9PT1uJiZlPT09cilyZXR1cm4gbnVsbDt0aGlzLm51bVRlc3RzKys7dmFyIGk9dC5nZXRDb29yZGluYXRlcygpW2VdLG89dC5nZXRDb29yZGluYXRlcygpW2UrMV0scz1uLmdldENvb3JkaW5hdGVzKClbcl0sYT1uLmdldENvb3JkaW5hdGVzKClbcisxXTt0aGlzLl9saS5jb21wdXRlSW50ZXJzZWN0aW9uKGksbyxzLGEpLHRoaXMuX2xpLmhhc0ludGVyc2VjdGlvbigpJiYodGhpcy5fcmVjb3JkSXNvbGF0ZWQmJih0LnNldElzb2xhdGVkKCExKSxuLnNldElzb2xhdGVkKCExKSksdGhpcy5fbnVtSW50ZXJzZWN0aW9ucysrLHRoaXMuaXNUcml2aWFsSW50ZXJzZWN0aW9uKHQsZSxuLHIpfHwodGhpcy5faGFzSW50ZXJzZWN0aW9uPSEwLCF0aGlzLl9pbmNsdWRlUHJvcGVyJiZ0aGlzLl9saS5pc1Byb3BlcigpfHwodC5hZGRJbnRlcnNlY3Rpb25zKHRoaXMuX2xpLGUsMCksbi5hZGRJbnRlcnNlY3Rpb25zKHRoaXMuX2xpLHIsMSkpLHRoaXMuX2xpLmlzUHJvcGVyKCkmJih0aGlzLl9wcm9wZXJJbnRlcnNlY3Rpb25Qb2ludD10aGlzLl9saS5nZXRJbnRlcnNlY3Rpb24oMCkuY29weSgpLHRoaXMuX2hhc1Byb3Blcj0hMCx0aGlzLl9pc0RvbmVXaGVuUHJvcGVySW50JiYodGhpcy5faXNEb25lPSEwKSx0aGlzLmlzQm91bmRhcnlQb2ludCh0aGlzLl9saSx0aGlzLl9iZHlOb2Rlcyl8fCh0aGlzLl9oYXNQcm9wZXJJbnRlcmlvcj0hMCkpKSl9LGZnLnByb3RvdHlwZS5pbnRlcmZhY2VzXz1mdW5jdGlvbigpe3JldHVybltdfSxmZy5wcm90b3R5cGUuZ2V0Q2xhc3M9ZnVuY3Rpb24oKXtyZXR1cm4gZmd9LGZnLmlzQWRqYWNlbnRTZWdtZW50cz1mdW5jdGlvbih0LGUpe3JldHVybiAxPT09TWF0aC5hYnModC1lKX07dmFyIGdnPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt0LmNhbGwodGhpcyksdGhpcy5ldmVudHM9bmV3IGxjLHRoaXMubk92ZXJsYXBzPW51bGx9cmV0dXJuIHQmJihlLl9fcHJvdG9fXz10KSxlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSxlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1lLGUucHJvdG90eXBlLnByZXBhcmVFdmVudHM9ZnVuY3Rpb24oKXtucC5zb3J0KHRoaXMuZXZlbnRzKTtmb3IodmFyIHQ9MDt0PHRoaXMuZXZlbnRzLnNpemUoKTt0Kyspe3ZhciBlPXRoaXMuZXZlbnRzLmdldCh0KTtlLmlzRGVsZXRlKCkmJmUuZ2V0SW5zZXJ0RXZlbnQoKS5zZXREZWxldGVFdmVudEluZGV4KHQpfX0sZS5wcm90b3R5cGUuY29tcHV0ZUludGVyc2VjdGlvbnM9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO2lmKDE9PT1hcmd1bWVudHMubGVuZ3RoKXt2YXIgZT1hcmd1bWVudHNbMF07dGhpcy5uT3ZlcmxhcHM9MCx0aGlzLnByZXBhcmVFdmVudHMoKTtmb3IodmFyIG49MDtuPHRoaXMuZXZlbnRzLnNpemUoKTtuKyspe3ZhciByPXQuZXZlbnRzLmdldChuKTtpZihyLmlzSW5zZXJ0KCkmJnQucHJvY2Vzc092ZXJsYXBzKG4sci5nZXREZWxldGVFdmVudEluZGV4KCkscixlKSxlLmlzRG9uZSgpKWJyZWFrfX1lbHNlIGlmKDM9PT1hcmd1bWVudHMubGVuZ3RoKWlmKGFyZ3VtZW50c1syXWluc3RhbmNlb2YgZmcmJmdsKGFyZ3VtZW50c1swXSxhYykmJmdsKGFyZ3VtZW50c1sxXSxhYykpe3ZhciBpPWFyZ3VtZW50c1swXSxvPWFyZ3VtZW50c1sxXSxzPWFyZ3VtZW50c1syXTt0aGlzLmFkZEVkZ2VzKGksaSksdGhpcy5hZGRFZGdlcyhvLG8pLHRoaXMuY29tcHV0ZUludGVyc2VjdGlvbnMocyl9ZWxzZSBpZigiYm9vbGVhbiI9PXR5cGVvZiBhcmd1bWVudHNbMl0mJmdsKGFyZ3VtZW50c1swXSxhYykmJmFyZ3VtZW50c1sxXWluc3RhbmNlb2YgZmcpe3ZhciBhPWFyZ3VtZW50c1swXSx1PWFyZ3VtZW50c1sxXSxsPWFyZ3VtZW50c1syXTtsP3RoaXMuYWRkRWRnZXMoYSxudWxsKTp0aGlzLmFkZEVkZ2VzKGEpLHRoaXMuY29tcHV0ZUludGVyc2VjdGlvbnModSl9fSxlLnByb3RvdHlwZS5hZGRFZGdlPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPXQuZ2V0TW9ub3RvbmVDaGFpbkVkZ2UoKSxyPW4uZ2V0U3RhcnRJbmRleGVzKCksaT0wO2k8ci5sZW5ndGgtMTtpKyspe3ZhciBvPW5ldyBsZyhuLGkpLHM9bmV3IGNnKGUsbi5nZXRNaW5YKGkpLG8pO3RoaXMuZXZlbnRzLmFkZChzKSx0aGlzLmV2ZW50cy5hZGQobmV3IGNnKG4uZ2V0TWF4WChpKSxzKSl9fSxlLnByb3RvdHlwZS5wcm9jZXNzT3ZlcmxhcHM9ZnVuY3Rpb24odCxlLG4scil7Zm9yKHZhciBpPW4uZ2V0T2JqZWN0KCksbz10O288ZTtvKyspe3ZhciBzPXRoaXMuZXZlbnRzLmdldChvKTtpZihzLmlzSW5zZXJ0KCkpe3ZhciBhPXMuZ2V0T2JqZWN0KCk7bi5pc1NhbWVMYWJlbChzKXx8KGkuY29tcHV0ZUludGVyc2VjdGlvbnMoYSxyKSx0aGlzLm5PdmVybGFwcysrKX19fSxlLnByb3RvdHlwZS5hZGRFZGdlcz1mdW5jdGlvbigpe3ZhciB0PXRoaXM7aWYoMT09PWFyZ3VtZW50cy5sZW5ndGgpZm9yKHZhciBlPWFyZ3VtZW50c1swXSxuPWUuaXRlcmF0b3IoKTtuLmhhc05leHQoKTspe3ZhciByPW4ubmV4dCgpO3QuYWRkRWRnZShyLHIpfWVsc2UgaWYoMj09PWFyZ3VtZW50cy5sZW5ndGgpZm9yKHZhciBpPWFyZ3VtZW50c1swXSxvPWFyZ3VtZW50c1sxXSxzPWkuaXRlcmF0b3IoKTtzLmhhc05leHQoKTspe3ZhciBhPXMubmV4dCgpO3QuYWRkRWRnZShhLG8pfX0sZS5wcm90b3R5cGUuaW50ZXJmYWNlc189ZnVuY3Rpb24oKXtyZXR1cm5bXX0sZS5wcm90b3R5cGUuZ2V0Q2xhc3M9ZnVuY3Rpb24oKXtyZXR1cm4gZX0sZX0ocGcpLGRnPWZ1bmN0aW9uKCl7dGhpcy5fbWluPW5sLlBPU0lUSVZFX0lORklOSVRZLHRoaXMuX21heD1ubC5ORUdBVElWRV9JTkZJTklUWX0seWc9e05vZGVDb21wYXJhdG9yOntjb25maWd1cmFibGU6ITB9fTtkZy5wcm90b3R5cGUuZ2V0TWluPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX21pbn0sZGcucHJvdG90eXBlLmludGVyc2VjdHM9ZnVuY3Rpb24odCxlKXtyZXR1cm4hKHRoaXMuX21pbj5lfHx0aGlzLl9tYXg8dCl9LGRnLnByb3RvdHlwZS5nZXRNYXg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbWF4fSxkZy5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gRmwudG9MaW5lU3RyaW5nKG5ldyB1bCh0aGlzLl9taW4sMCksbmV3IHVsKHRoaXMuX21heCwwKSl9LGRnLnByb3RvdHlwZS5pbnRlcmZhY2VzXz1mdW5jdGlvbigpe3JldHVybltdfSxkZy5wcm90b3R5cGUuZ2V0Q2xhc3M9ZnVuY3Rpb24oKXtyZXR1cm4gZGd9LHlnLk5vZGVDb21wYXJhdG9yLmdldD1mdW5jdGlvbigpe3JldHVybiB2Z30sT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZGcseWcpO3ZhciB2Zz1mdW5jdGlvbigpe307dmcucHJvdG90eXBlLmNvbXBhcmU9ZnVuY3Rpb24odCxlKXt2YXIgbj10LHI9ZSxpPShuLl9taW4rbi5fbWF4KS8yLG89KHIuX21pbityLl9tYXgpLzI7cmV0dXJuIGk8bz8tMTppPm8/MTowfSx2Zy5wcm90b3R5cGUuaW50ZXJmYWNlc189ZnVuY3Rpb24oKXtyZXR1cm5bc2xdfSx2Zy5wcm90b3R5cGUuZ2V0Q2xhc3M9ZnVuY3Rpb24oKXtyZXR1cm4gdmd9O3ZhciBfZz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dC5jYWxsKHRoaXMpLHRoaXMuX2l0ZW09bnVsbDt2YXIgZT1hcmd1bWVudHNbMF0sbj1hcmd1bWVudHNbMV0scj1hcmd1bWVudHNbMl07dGhpcy5fbWluPWUsdGhpcy5fbWF4PW4sdGhpcy5faXRlbT1yfXJldHVybiB0JiYoZS5fX3Byb3RvX189dCksZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSksZS5wcm90b3R5cGUuY29uc3RydWN0b3I9ZSxlLnByb3RvdHlwZS5xdWVyeT1mdW5jdGlvbih0LGUsbil7aWYoIXRoaXMuaW50ZXJzZWN0cyh0LGUpKXJldHVybiBudWxsO24udmlzaXRJdGVtKHRoaXMuX2l0ZW0pfSxlLnByb3RvdHlwZS5pbnRlcmZhY2VzXz1mdW5jdGlvbigpe3JldHVybltdfSxlLnByb3RvdHlwZS5nZXRDbGFzcz1mdW5jdGlvbigpe3JldHVybiBlfSxlfShkZyksbWc9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3QuY2FsbCh0aGlzKSx0aGlzLl9ub2RlMT1udWxsLHRoaXMuX25vZGUyPW51bGw7dmFyIGU9YXJndW1lbnRzWzBdLG49YXJndW1lbnRzWzFdO3RoaXMuX25vZGUxPWUsdGhpcy5fbm9kZTI9bix0aGlzLmJ1aWxkRXh0ZW50KHRoaXMuX25vZGUxLHRoaXMuX25vZGUyKX1yZXR1cm4gdCYmKGUuX19wcm90b19fPXQpLGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpLGUucHJvdG90eXBlLmNvbnN0cnVjdG9yPWUsZS5wcm90b3R5cGUuYnVpbGRFeHRlbnQ9ZnVuY3Rpb24odCxlKXt0aGlzLl9taW49TWF0aC5taW4odC5fbWluLGUuX21pbiksdGhpcy5fbWF4PU1hdGgubWF4KHQuX21heCxlLl9tYXgpfSxlLnByb3RvdHlwZS5xdWVyeT1mdW5jdGlvbih0LGUsbil7aWYoIXRoaXMuaW50ZXJzZWN0cyh0LGUpKXJldHVybiBudWxsO251bGwhPT10aGlzLl9ub2RlMSYmdGhpcy5fbm9kZTEucXVlcnkodCxlLG4pLG51bGwhPT10aGlzLl9ub2RlMiYmdGhpcy5fbm9kZTIucXVlcnkodCxlLG4pfSxlLnByb3RvdHlwZS5pbnRlcmZhY2VzXz1mdW5jdGlvbigpe3JldHVybltdfSxlLnByb3RvdHlwZS5nZXRDbGFzcz1mdW5jdGlvbigpe3JldHVybiBlfSxlfShkZykseGc9ZnVuY3Rpb24oKXt0aGlzLl9sZWF2ZXM9bmV3IGxjLHRoaXMuX3Jvb3Q9bnVsbCx0aGlzLl9sZXZlbD0wfTt4Zy5wcm90b3R5cGUuYnVpbGRUcmVlPWZ1bmN0aW9uKCl7bnAuc29ydCh0aGlzLl9sZWF2ZXMsbmV3IGRnLk5vZGVDb21wYXJhdG9yKTtmb3IodmFyIHQ9dGhpcy5fbGVhdmVzLGU9bnVsbCxuPW5ldyBsYzs7KXtpZih0aGlzLmJ1aWxkTGV2ZWwodCxuKSwxPT09bi5zaXplKCkpcmV0dXJuIG4uZ2V0KDApO2U9dCx0PW4sbj1lfX0seGcucHJvdG90eXBlLmluc2VydD1mdW5jdGlvbih0LGUsbil7aWYobnVsbCE9PXRoaXMuX3Jvb3QpdGhyb3cgbmV3IEVycm9yKCJJbmRleCBjYW5ub3QgYmUgYWRkZWQgdG8gb25jZSBpdCBoYXMgYmVlbiBxdWVyaWVkIik7dGhpcy5fbGVhdmVzLmFkZChuZXcgX2codCxlLG4pKX0seGcucHJvdG90eXBlLnF1ZXJ5PWZ1bmN0aW9uKHQsZSxuKXt0aGlzLmluaXQoKSx0aGlzLl9yb290LnF1ZXJ5KHQsZSxuKX0seGcucHJvdG90eXBlLmJ1aWxkUm9vdD1mdW5jdGlvbigpe2lmKG51bGwhPT10aGlzLl9yb290KXJldHVybiBudWxsO3RoaXMuX3Jvb3Q9dGhpcy5idWlsZFRyZWUoKX0seGcucHJvdG90eXBlLnByaW50Tm9kZT1mdW5jdGlvbih0KXtQbC5vdXQucHJpbnRsbihGbC50b0xpbmVTdHJpbmcobmV3IHVsKHQuX21pbix0aGlzLl9sZXZlbCksbmV3IHVsKHQuX21heCx0aGlzLl9sZXZlbCkpKX0seGcucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24oKXtpZihudWxsIT09dGhpcy5fcm9vdClyZXR1cm4gbnVsbDt0aGlzLmJ1aWxkUm9vdCgpfSx4Zy5wcm90b3R5cGUuYnVpbGRMZXZlbD1mdW5jdGlvbih0LGUpe3RoaXMuX2xldmVsKyssZS5jbGVhcigpO2Zvcih2YXIgbj0wO248dC5zaXplKCk7bis9Mil7dmFyIHI9dC5nZXQobik7aWYobnVsbD09PShuKzE8dC5zaXplKCk/dC5nZXQobik6bnVsbCkpZS5hZGQocik7ZWxzZXt2YXIgaT1uZXcgbWcodC5nZXQobiksdC5nZXQobisxKSk7ZS5hZGQoaSl9fX0seGcucHJvdG90eXBlLmludGVyZmFjZXNfPWZ1bmN0aW9uKCl7cmV0dXJuW119LHhnLnByb3RvdHlwZS5nZXRDbGFzcz1mdW5jdGlvbigpe3JldHVybiB4Z307dmFyIEVnPWZ1bmN0aW9uKCl7dGhpcy5faXRlbXM9bmV3IGxjfTtFZy5wcm90b3R5cGUudmlzaXRJdGVtPWZ1bmN0aW9uKHQpe3RoaXMuX2l0ZW1zLmFkZCh0KX0sRWcucHJvdG90eXBlLmdldEl0ZW1zPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2l0ZW1zfSxFZy5wcm90b3R5cGUuaW50ZXJmYWNlc189ZnVuY3Rpb24oKXtyZXR1cm5bUWhdfSxFZy5wcm90b3R5cGUuZ2V0Q2xhc3M9ZnVuY3Rpb24oKXtyZXR1cm4gRWd9O3ZhciBiZz1mdW5jdGlvbigpe3RoaXMuX2luZGV4PW51bGw7dmFyIHQ9YXJndW1lbnRzWzBdO2lmKCFnbCh0LCRjKSl0aHJvdyBuZXcgZWwoIkFyZ3VtZW50IG11c3QgYmUgUG9seWdvbmFsIik7dGhpcy5faW5kZXg9bmV3IE5nKHQpfSx3Zz17U2VnbWVudFZpc2l0b3I6e2NvbmZpZ3VyYWJsZTohMH0sSW50ZXJ2YWxJbmRleGVkR2VvbWV0cnk6e2NvbmZpZ3VyYWJsZTohMH19O2JnLnByb3RvdHlwZS5sb2NhdGU9ZnVuY3Rpb24odCl7dmFyIGU9bmV3IFZsKHQpLG49bmV3IElnKGUpO3JldHVybiB0aGlzLl9pbmRleC5xdWVyeSh0LnksdC55LG4pLGUuZ2V0TG9jYXRpb24oKX0sYmcucHJvdG90eXBlLmludGVyZmFjZXNfPWZ1bmN0aW9uKCl7cmV0dXJuW2pwXX0sYmcucHJvdG90eXBlLmdldENsYXNzPWZ1bmN0aW9uKCl7cmV0dXJuIGJnfSx3Zy5TZWdtZW50VmlzaXRvci5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gSWd9LHdnLkludGVydmFsSW5kZXhlZEdlb21ldHJ5LmdldD1mdW5jdGlvbigpe3JldHVybiBOZ30sT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoYmcsd2cpO3ZhciBJZz1mdW5jdGlvbigpe3RoaXMuX2NvdW50ZXI9bnVsbDt2YXIgdD1hcmd1bWVudHNbMF07dGhpcy5fY291bnRlcj10fTtJZy5wcm90b3R5cGUudmlzaXRJdGVtPWZ1bmN0aW9uKHQpe3ZhciBlPXQ7dGhpcy5fY291bnRlci5jb3VudFNlZ21lbnQoZS5nZXRDb29yZGluYXRlKDApLGUuZ2V0Q29vcmRpbmF0ZSgxKSl9LElnLnByb3RvdHlwZS5pbnRlcmZhY2VzXz1mdW5jdGlvbigpe3JldHVybltRaF19LElnLnByb3RvdHlwZS5nZXRDbGFzcz1mdW5jdGlvbigpe3JldHVybiBJZ307dmFyIE5nPWZ1bmN0aW9uKCl7dGhpcy5faW5kZXg9bmV3IHhnO3ZhciB0PWFyZ3VtZW50c1swXTt0aGlzLmluaXQodCl9O05nLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1DZi5nZXRMaW5lcyh0KS5pdGVyYXRvcigpO2UuaGFzTmV4dCgpOyl7dmFyIG49ZS5uZXh0KCkuZ2V0Q29vcmRpbmF0ZXMoKTt0aGlzLmFkZExpbmUobil9fSxOZy5wcm90b3R5cGUuYWRkTGluZT1mdW5jdGlvbih0KXtmb3IodmFyIGU9MTtlPHQubGVuZ3RoO2UrKyl7dmFyIG49bmV3IHZwKHRbZS0xXSx0W2VdKSxyPU1hdGgubWluKG4ucDAueSxuLnAxLnkpLGk9TWF0aC5tYXgobi5wMC55LG4ucDEueSk7dGhpcy5faW5kZXguaW5zZXJ0KHIsaSxuKX19LE5nLnByb3RvdHlwZS5xdWVyeT1mdW5jdGlvbigpe2lmKDI9PT1hcmd1bWVudHMubGVuZ3RoKXt2YXIgdD1hcmd1bWVudHNbMF0sZT1hcmd1bWVudHNbMV0sbj1uZXcgRWc7cmV0dXJuIHRoaXMuX2luZGV4LnF1ZXJ5KHQsZSxuKSxuLmdldEl0ZW1zKCl9aWYoMz09PWFyZ3VtZW50cy5sZW5ndGgpe3ZhciByPWFyZ3VtZW50c1swXSxpPWFyZ3VtZW50c1sxXSxvPWFyZ3VtZW50c1syXTt0aGlzLl9pbmRleC5xdWVyeShyLGksbyl9fSxOZy5wcm90b3R5cGUuaW50ZXJmYWNlc189ZnVuY3Rpb24oKXtyZXR1cm5bXX0sTmcucHJvdG90eXBlLmdldENsYXNzPWZ1bmN0aW9uKCl7cmV0dXJuIE5nfTt2YXIgU2c9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe2lmKHQuY2FsbCh0aGlzKSx0aGlzLl9wYXJlbnRHZW9tPW51bGwsdGhpcy5fbGluZUVkZ2VNYXA9bmV3IGZoLHRoaXMuX2JvdW5kYXJ5Tm9kZVJ1bGU9bnVsbCx0aGlzLl91c2VCb3VuZGFyeURldGVybWluYXRpb25SdWxlPSEwLHRoaXMuX2FyZ0luZGV4PW51bGwsdGhpcy5fYm91bmRhcnlOb2Rlcz1udWxsLHRoaXMuX2hhc1Rvb0Zld1BvaW50cz0hMSx0aGlzLl9pbnZhbGlkUG9pbnQ9bnVsbCx0aGlzLl9hcmVhUHRMb2NhdG9yPW51bGwsdGhpcy5fcHRMb2NhdG9yPW5ldyBQZiwyPT09YXJndW1lbnRzLmxlbmd0aCl7dmFyIGU9YXJndW1lbnRzWzBdLG49YXJndW1lbnRzWzFdLHI9UWwuT0dDX1NGU19CT1VOREFSWV9SVUxFO3RoaXMuX2FyZ0luZGV4PWUsdGhpcy5fcGFyZW50R2VvbT1uLHRoaXMuX2JvdW5kYXJ5Tm9kZVJ1bGU9cixudWxsIT09biYmdGhpcy5hZGQobil9ZWxzZSBpZigzPT09YXJndW1lbnRzLmxlbmd0aCl7dmFyIGk9YXJndW1lbnRzWzBdLG89YXJndW1lbnRzWzFdLHM9YXJndW1lbnRzWzJdO3RoaXMuX2FyZ0luZGV4PWksdGhpcy5fcGFyZW50R2VvbT1vLHRoaXMuX2JvdW5kYXJ5Tm9kZVJ1bGU9cyxudWxsIT09byYmdGhpcy5hZGQobyl9fXJldHVybiB0JiYoZS5fX3Byb3RvX189dCksZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSksZS5wcm90b3R5cGUuY29uc3RydWN0b3I9ZSxlLnByb3RvdHlwZS5pbnNlcnRCb3VuZGFyeVBvaW50PWZ1bmN0aW9uKHQsbil7dmFyIHI9dGhpcy5fbm9kZXMuYWRkTm9kZShuKS5nZXRMYWJlbCgpLGk9MTtyLmdldExvY2F0aW9uKHQsU2guT04pPT09cGwuQk9VTkRBUlkmJmkrKzt2YXIgbz1lLmRldGVybWluZUJvdW5kYXJ5KHRoaXMuX2JvdW5kYXJ5Tm9kZVJ1bGUsaSk7ci5zZXRMb2NhdGlvbih0LG8pfSxlLnByb3RvdHlwZS5jb21wdXRlU2VsZk5vZGVzPWZ1bmN0aW9uKCl7aWYoMj09PWFyZ3VtZW50cy5sZW5ndGgpe3ZhciB0PWFyZ3VtZW50c1swXSxlPWFyZ3VtZW50c1sxXTtyZXR1cm4gdGhpcy5jb21wdXRlU2VsZk5vZGVzKHQsZSwhMSl9aWYoMz09PWFyZ3VtZW50cy5sZW5ndGgpe3ZhciBuPWFyZ3VtZW50c1swXSxyPWFyZ3VtZW50c1sxXSxpPWFyZ3VtZW50c1syXSxvPW5ldyBmZyhuLCEwLCExKTtvLnNldElzRG9uZUlmUHJvcGVySW50KGkpO3ZhciBzPXRoaXMuY3JlYXRlRWRnZVNldEludGVyc2VjdG9yKCksYT10aGlzLl9wYXJlbnRHZW9tIGluc3RhbmNlb2Ygbmh8fHRoaXMuX3BhcmVudEdlb20gaW5zdGFuY2VvZiB0aHx8dGhpcy5fcGFyZW50R2VvbSBpbnN0YW5jZW9mIHJoLHU9cnx8IWE7cmV0dXJuIHMuY29tcHV0ZUludGVyc2VjdGlvbnModGhpcy5fZWRnZXMsbyx1KSx0aGlzLmFkZFNlbGZJbnRlcnNlY3Rpb25Ob2Rlcyh0aGlzLl9hcmdJbmRleCksb319LGUucHJvdG90eXBlLmNvbXB1dGVTcGxpdEVkZ2VzPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10aGlzLl9lZGdlcy5pdGVyYXRvcigpO2UuaGFzTmV4dCgpOyl7ZS5uZXh0KCkuZWlMaXN0LmFkZFNwbGl0RWRnZXModCl9fSxlLnByb3RvdHlwZS5jb21wdXRlRWRnZUludGVyc2VjdGlvbnM9ZnVuY3Rpb24odCxlLG4pe3ZhciByPW5ldyBmZyhlLG4sITApO3JldHVybiByLnNldEJvdW5kYXJ5Tm9kZXModGhpcy5nZXRCb3VuZGFyeU5vZGVzKCksdC5nZXRCb3VuZGFyeU5vZGVzKCkpLHRoaXMuY3JlYXRlRWRnZVNldEludGVyc2VjdG9yKCkuY29tcHV0ZUludGVyc2VjdGlvbnModGhpcy5fZWRnZXMsdC5fZWRnZXMscikscn0sZS5wcm90b3R5cGUuZ2V0R2VvbWV0cnk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcGFyZW50R2VvbX0sZS5wcm90b3R5cGUuZ2V0Qm91bmRhcnlOb2RlUnVsZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9ib3VuZGFyeU5vZGVSdWxlfSxlLnByb3RvdHlwZS5oYXNUb29GZXdQb2ludHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faGFzVG9vRmV3UG9pbnRzfSxlLnByb3RvdHlwZS5hZGRQb2ludD1mdW5jdGlvbigpe2lmKGFyZ3VtZW50c1swXWluc3RhbmNlb2YgUWMpe3ZhciB0PWFyZ3VtZW50c1swXSxlPXQuZ2V0Q29vcmRpbmF0ZSgpO3RoaXMuaW5zZXJ0UG9pbnQodGhpcy5fYXJnSW5kZXgsZSxwbC5JTlRFUklPUil9ZWxzZSBpZihhcmd1bWVudHNbMF1pbnN0YW5jZW9mIHVsKXt2YXIgbj1hcmd1bWVudHNbMF07dGhpcy5pbnNlcnRQb2ludCh0aGlzLl9hcmdJbmRleCxuLHBsLklOVEVSSU9SKX19LGUucHJvdG90eXBlLmFkZFBvbHlnb249ZnVuY3Rpb24odCl7dGhpcy5hZGRQb2x5Z29uUmluZyh0LmdldEV4dGVyaW9yUmluZygpLHBsLkVYVEVSSU9SLHBsLklOVEVSSU9SKTtmb3IodmFyIGU9MDtlPHQuZ2V0TnVtSW50ZXJpb3JSaW5nKCk7ZSsrKXt2YXIgbj10LmdldEludGVyaW9yUmluZ04oZSk7dGhpcy5hZGRQb2x5Z29uUmluZyhuLHBsLklOVEVSSU9SLHBsLkVYVEVSSU9SKX19LGUucHJvdG90eXBlLmFkZEVkZ2U9ZnVuY3Rpb24odCl7dGhpcy5pbnNlcnRFZGdlKHQpO3ZhciBlPXQuZ2V0Q29vcmRpbmF0ZXMoKTt0aGlzLmluc2VydFBvaW50KHRoaXMuX2FyZ0luZGV4LGVbMF0scGwuQk9VTkRBUlkpLHRoaXMuaW5zZXJ0UG9pbnQodGhpcy5fYXJnSW5kZXgsZVtlLmxlbmd0aC0xXSxwbC5CT1VOREFSWSl9LGUucHJvdG90eXBlLmFkZExpbmVTdHJpbmc9ZnVuY3Rpb24odCl7dmFyIGU9cGMucmVtb3ZlUmVwZWF0ZWRQb2ludHModC5nZXRDb29yZGluYXRlcygpKTtpZihlLmxlbmd0aDwyKXJldHVybiB0aGlzLl9oYXNUb29GZXdQb2ludHM9ITAsdGhpcy5faW52YWxpZFBvaW50PWVbMF0sbnVsbDt2YXIgbj1uZXcgb2YoZSxuZXcgRGgodGhpcy5fYXJnSW5kZXgscGwuSU5URVJJT1IpKTt0aGlzLl9saW5lRWRnZU1hcC5wdXQodCxuKSx0aGlzLmluc2VydEVkZ2UobikscWwuaXNUcnVlKGUubGVuZ3RoPj0yLCJmb3VuZCBMaW5lU3RyaW5nIHdpdGggc2luZ2xlIHBvaW50IiksdGhpcy5pbnNlcnRCb3VuZGFyeVBvaW50KHRoaXMuX2FyZ0luZGV4LGVbMF0pLHRoaXMuaW5zZXJ0Qm91bmRhcnlQb2ludCh0aGlzLl9hcmdJbmRleCxlW2UubGVuZ3RoLTFdKX0sZS5wcm90b3R5cGUuZ2V0SW52YWxpZFBvaW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ludmFsaWRQb2ludH0sZS5wcm90b3R5cGUuZ2V0Qm91bmRhcnlQb2ludHM9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpcy5nZXRCb3VuZGFyeU5vZGVzKCksZT1uZXcgQXJyYXkodC5zaXplKCkpLmZpbGwobnVsbCksbj0wLHI9dC5pdGVyYXRvcigpO3IuaGFzTmV4dCgpOyl7dmFyIGk9ci5uZXh0KCk7ZVtuKytdPWkuZ2V0Q29vcmRpbmF0ZSgpLmNvcHkoKX1yZXR1cm4gZX0sZS5wcm90b3R5cGUuZ2V0Qm91bmRhcnlOb2Rlcz1mdW5jdGlvbigpe3JldHVybiBudWxsPT09dGhpcy5fYm91bmRhcnlOb2RlcyYmKHRoaXMuX2JvdW5kYXJ5Tm9kZXM9dGhpcy5fbm9kZXMuZ2V0Qm91bmRhcnlOb2Rlcyh0aGlzLl9hcmdJbmRleCkpLHRoaXMuX2JvdW5kYXJ5Tm9kZXN9LGUucHJvdG90eXBlLmFkZFNlbGZJbnRlcnNlY3Rpb25Ob2RlPWZ1bmN0aW9uKHQsZSxuKXtpZih0aGlzLmlzQm91bmRhcnlOb2RlKHQsZSkpcmV0dXJuIG51bGw7bj09PXBsLkJPVU5EQVJZJiZ0aGlzLl91c2VCb3VuZGFyeURldGVybWluYXRpb25SdWxlP3RoaXMuaW5zZXJ0Qm91bmRhcnlQb2ludCh0LGUpOnRoaXMuaW5zZXJ0UG9pbnQodCxlLG4pfSxlLnByb3RvdHlwZS5hZGRQb2x5Z29uUmluZz1mdW5jdGlvbih0LGUsbil7aWYodC5pc0VtcHR5KCkpcmV0dXJuIG51bGw7dmFyIHI9cGMucmVtb3ZlUmVwZWF0ZWRQb2ludHModC5nZXRDb29yZGluYXRlcygpKTtpZihyLmxlbmd0aDw0KXJldHVybiB0aGlzLl9oYXNUb29GZXdQb2ludHM9ITAsdGhpcy5faW52YWxpZFBvaW50PXJbMF0sbnVsbDt2YXIgaT1lLG89bjtYbC5pc0NDVyhyKSYmKGk9bixvPWUpO3ZhciBzPW5ldyBvZihyLG5ldyBEaCh0aGlzLl9hcmdJbmRleCxwbC5CT1VOREFSWSxpLG8pKTt0aGlzLl9saW5lRWRnZU1hcC5wdXQodCxzKSx0aGlzLmluc2VydEVkZ2UocyksdGhpcy5pbnNlcnRQb2ludCh0aGlzLl9hcmdJbmRleCxyWzBdLHBsLkJPVU5EQVJZKX0sZS5wcm90b3R5cGUuaW5zZXJ0UG9pbnQ9ZnVuY3Rpb24odCxlLG4pe3ZhciByPXRoaXMuX25vZGVzLmFkZE5vZGUoZSksaT1yLmdldExhYmVsKCk7bnVsbD09PWk/ci5fbGFiZWw9bmV3IERoKHQsbik6aS5zZXRMb2NhdGlvbih0LG4pfSxlLnByb3RvdHlwZS5jcmVhdGVFZGdlU2V0SW50ZXJzZWN0b3I9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGdnfSxlLnByb3RvdHlwZS5hZGRTZWxmSW50ZXJzZWN0aW9uTm9kZXM9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMuX2VkZ2VzLml0ZXJhdG9yKCk7ZS5oYXNOZXh0KCk7KWZvcih2YXIgbj1lLm5leHQoKSxyPW4uZ2V0TGFiZWwoKS5nZXRMb2NhdGlvbih0KSxpPW4uZWlMaXN0Lml0ZXJhdG9yKCk7aS5oYXNOZXh0KCk7KXt2YXIgbz1pLm5leHQoKTt0aGlzLmFkZFNlbGZJbnRlcnNlY3Rpb25Ob2RlKHQsby5jb29yZCxyKX19LGUucHJvdG90eXBlLmFkZD1mdW5jdGlvbigpe2lmKDEhPT1hcmd1bWVudHMubGVuZ3RoKXJldHVybiB0LnByb3RvdHlwZS5hZGQuYXBwbHkodGhpcyxhcmd1bWVudHMpO3ZhciBlPWFyZ3VtZW50c1swXTtpZihlLmlzRW1wdHkoKSlyZXR1cm4gbnVsbDtpZihlIGluc3RhbmNlb2YgcmgmJih0aGlzLl91c2VCb3VuZGFyeURldGVybWluYXRpb25SdWxlPSExKSxlIGluc3RhbmNlb2YgdGgpdGhpcy5hZGRQb2x5Z29uKGUpO2Vsc2UgaWYoZSBpbnN0YW5jZW9mIFpjKXRoaXMuYWRkTGluZVN0cmluZyhlKTtlbHNlIGlmKGUgaW5zdGFuY2VvZiBRYyl0aGlzLmFkZFBvaW50KGUpO2Vsc2UgaWYoZSBpbnN0YW5jZW9mIGVoKXRoaXMuYWRkQ29sbGVjdGlvbihlKTtlbHNlIGlmKGUgaW5zdGFuY2VvZiBHYyl0aGlzLmFkZENvbGxlY3Rpb24oZSk7ZWxzZSBpZihlIGluc3RhbmNlb2YgcmgpdGhpcy5hZGRDb2xsZWN0aW9uKGUpO2Vsc2V7aWYoIShlIGluc3RhbmNlb2Yga2MpKXRocm93IG5ldyBFcnJvcihlLmdldENsYXNzKCkuZ2V0TmFtZSgpKTt0aGlzLmFkZENvbGxlY3Rpb24oZSl9fSxlLnByb3RvdHlwZS5hZGRDb2xsZWN0aW9uPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wO2U8dC5nZXROdW1HZW9tZXRyaWVzKCk7ZSsrKXt2YXIgbj10LmdldEdlb21ldHJ5TihlKTt0aGlzLmFkZChuKX19LGUucHJvdG90eXBlLmxvY2F0ZT1mdW5jdGlvbih0KXtyZXR1cm4gZ2wodGhpcy5fcGFyZW50R2VvbSwkYykmJnRoaXMuX3BhcmVudEdlb20uZ2V0TnVtR2VvbWV0cmllcygpPjUwPyhudWxsPT09dGhpcy5fYXJlYVB0TG9jYXRvciYmKHRoaXMuX2FyZWFQdExvY2F0b3I9bmV3IGJnKHRoaXMuX3BhcmVudEdlb20pKSx0aGlzLl9hcmVhUHRMb2NhdG9yLmxvY2F0ZSh0KSk6dGhpcy5fcHRMb2NhdG9yLmxvY2F0ZSh0LHRoaXMuX3BhcmVudEdlb20pfSxlLnByb3RvdHlwZS5maW5kRWRnZT1mdW5jdGlvbigpe2lmKDE9PT1hcmd1bWVudHMubGVuZ3RoKXt2YXIgZT1hcmd1bWVudHNbMF07cmV0dXJuIHRoaXMuX2xpbmVFZGdlTWFwLmdldChlKX1yZXR1cm4gdC5wcm90b3R5cGUuZmluZEVkZ2UuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxlLnByb3RvdHlwZS5pbnRlcmZhY2VzXz1mdW5jdGlvbigpe3JldHVybltdfSxlLnByb3RvdHlwZS5nZXRDbGFzcz1mdW5jdGlvbigpe3JldHVybiBlfSxlLmRldGVybWluZUJvdW5kYXJ5PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuaXNJbkJvdW5kYXJ5KGUpP3BsLkJPVU5EQVJZOnBsLklOVEVSSU9SfSxlfShIaCksQ2c9ZnVuY3Rpb24oKXtpZih0aGlzLl9saT1uZXcgamwsdGhpcy5fcmVzdWx0UHJlY2lzaW9uTW9kZWw9bnVsbCx0aGlzLl9hcmc9bnVsbCwxPT09YXJndW1lbnRzLmxlbmd0aCl7dmFyIHQ9YXJndW1lbnRzWzBdO3RoaXMuc2V0Q29tcHV0YXRpb25QcmVjaXNpb24odC5nZXRQcmVjaXNpb25Nb2RlbCgpKSx0aGlzLl9hcmc9bmV3IEFycmF5KDEpLmZpbGwobnVsbCksdGhpcy5fYXJnWzBdPW5ldyBTZygwLHQpfWVsc2UgaWYoMj09PWFyZ3VtZW50cy5sZW5ndGgpe3ZhciBlPWFyZ3VtZW50c1swXSxuPWFyZ3VtZW50c1sxXSxyPVFsLk9HQ19TRlNfQk9VTkRBUllfUlVMRTtlLmdldFByZWNpc2lvbk1vZGVsKCkuY29tcGFyZVRvKG4uZ2V0UHJlY2lzaW9uTW9kZWwoKSk+PTA/dGhpcy5zZXRDb21wdXRhdGlvblByZWNpc2lvbihlLmdldFByZWNpc2lvbk1vZGVsKCkpOnRoaXMuc2V0Q29tcHV0YXRpb25QcmVjaXNpb24obi5nZXRQcmVjaXNpb25Nb2RlbCgpKSx0aGlzLl9hcmc9bmV3IEFycmF5KDIpLmZpbGwobnVsbCksdGhpcy5fYXJnWzBdPW5ldyBTZygwLGUsciksdGhpcy5fYXJnWzFdPW5ldyBTZygxLG4scil9ZWxzZSBpZigzPT09YXJndW1lbnRzLmxlbmd0aCl7dmFyIGk9YXJndW1lbnRzWzBdLG89YXJndW1lbnRzWzFdLHM9YXJndW1lbnRzWzJdO2kuZ2V0UHJlY2lzaW9uTW9kZWwoKS5jb21wYXJlVG8oby5nZXRQcmVjaXNpb25Nb2RlbCgpKT49MD90aGlzLnNldENvbXB1dGF0aW9uUHJlY2lzaW9uKGkuZ2V0UHJlY2lzaW9uTW9kZWwoKSk6dGhpcy5zZXRDb21wdXRhdGlvblByZWNpc2lvbihvLmdldFByZWNpc2lvbk1vZGVsKCkpLHRoaXMuX2FyZz1uZXcgQXJyYXkoMikuZmlsbChudWxsKSx0aGlzLl9hcmdbMF09bmV3IFNnKDAsaSxzKSx0aGlzLl9hcmdbMV09bmV3IFNnKDEsbyxzKX19O0NnLnByb3RvdHlwZS5nZXRBcmdHZW9tZXRyeT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fYXJnW3RdLmdldEdlb21ldHJ5KCl9LENnLnByb3RvdHlwZS5zZXRDb21wdXRhdGlvblByZWNpc2lvbj1mdW5jdGlvbih0KXt0aGlzLl9yZXN1bHRQcmVjaXNpb25Nb2RlbD10LHRoaXMuX2xpLnNldFByZWNpc2lvbk1vZGVsKHRoaXMuX3Jlc3VsdFByZWNpc2lvbk1vZGVsKX0sQ2cucHJvdG90eXBlLmludGVyZmFjZXNfPWZ1bmN0aW9uKCl7cmV0dXJuW119LENnLnByb3RvdHlwZS5nZXRDbGFzcz1mdW5jdGlvbigpe3JldHVybiBDZ307dmFyIFBnPWZ1bmN0aW9uKCl7fTtQZy5wcm90b3R5cGUuaW50ZXJmYWNlc189ZnVuY3Rpb24oKXtyZXR1cm5bXX0sUGcucHJvdG90eXBlLmdldENsYXNzPWZ1bmN0aW9uKCl7cmV0dXJuIFBnfSxQZy5tYXA9ZnVuY3Rpb24oKXtpZihhcmd1bWVudHNbMF1pbnN0YW5jZW9mIFdsJiZnbChhcmd1bWVudHNbMV0sUGcuTWFwT3ApKXtmb3IodmFyIHQ9YXJndW1lbnRzWzBdLGU9YXJndW1lbnRzWzFdLG49bmV3IGxjLHI9MDtyPHQuZ2V0TnVtR2VvbWV0cmllcygpO3IrKyl7dmFyIGk9ZS5tYXAodC5nZXRHZW9tZXRyeU4ocikpO251bGwhPT1pJiZuLmFkZChpKX1yZXR1cm4gdC5nZXRGYWN0b3J5KCkuYnVpbGRHZW9tZXRyeShuKX1pZihnbChhcmd1bWVudHNbMF0saWMpJiZnbChhcmd1bWVudHNbMV0sUGcuTWFwT3ApKXtmb3IodmFyIG89YXJndW1lbnRzWzBdLHM9YXJndW1lbnRzWzFdLGE9bmV3IGxjLHU9by5pdGVyYXRvcigpO3UuaGFzTmV4dCgpOyl7dmFyIGw9dS5uZXh0KCksYz1zLm1hcChsKTtudWxsIT09YyYmYS5hZGQoYyl9cmV0dXJuIGF9fSxQZy5NYXBPcD1mdW5jdGlvbigpe307dmFyIE1nPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgZT1hcmd1bWVudHNbMF0sbj1hcmd1bWVudHNbMV07dC5jYWxsKHRoaXMsZSxuKSx0aGlzLl9wdExvY2F0b3I9bmV3IFBmLHRoaXMuX2dlb21GYWN0PW51bGwsdGhpcy5fcmVzdWx0R2VvbT1udWxsLHRoaXMuX2dyYXBoPW51bGwsdGhpcy5fZWRnZUxpc3Q9bmV3IEpwLHRoaXMuX3Jlc3VsdFBvbHlMaXN0PW5ldyBsYyx0aGlzLl9yZXN1bHRMaW5lTGlzdD1uZXcgbGMsdGhpcy5fcmVzdWx0UG9pbnRMaXN0PW5ldyBsYyx0aGlzLl9ncmFwaD1uZXcgSGgobmV3IEhwKSx0aGlzLl9nZW9tRmFjdD1lLmdldEZhY3RvcnkoKX1yZXR1cm4gdCYmKGUuX19wcm90b19fPXQpLGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpLGUucHJvdG90eXBlLmNvbnN0cnVjdG9yPWUsZS5wcm90b3R5cGUuaW5zZXJ0VW5pcXVlRWRnZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9lZGdlTGlzdC5maW5kRXF1YWxFZGdlKHQpO2lmKG51bGwhPT1lKXt2YXIgbj1lLmdldExhYmVsKCkscj10LmdldExhYmVsKCk7ZS5pc1BvaW50d2lzZUVxdWFsKHQpfHwocj1uZXcgRGgodC5nZXRMYWJlbCgpKSkuZmxpcCgpO3ZhciBpPWUuZ2V0RGVwdGgoKTtpLmlzTnVsbCgpJiZpLmFkZChuKSxpLmFkZChyKSxuLm1lcmdlKHIpfWVsc2UgdGhpcy5fZWRnZUxpc3QuYWRkKHQpfSxlLnByb3RvdHlwZS5nZXRHcmFwaD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9ncmFwaH0sZS5wcm90b3R5cGUuY2FuY2VsRHVwbGljYXRlUmVzdWx0RWRnZXM9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpcy5fZ3JhcGguZ2V0RWRnZUVuZHMoKS5pdGVyYXRvcigpO3QuaGFzTmV4dCgpOyl7dmFyIGU9dC5uZXh0KCksbj1lLmdldFN5bSgpO2UuaXNJblJlc3VsdCgpJiZuLmlzSW5SZXN1bHQoKSYmKGUuc2V0SW5SZXN1bHQoITEpLG4uc2V0SW5SZXN1bHQoITEpKX19LGUucHJvdG90eXBlLmlzQ292ZXJlZEJ5TEE9ZnVuY3Rpb24odCl7cmV0dXJuISF0aGlzLmlzQ292ZXJlZCh0LHRoaXMuX3Jlc3VsdExpbmVMaXN0KXx8ISF0aGlzLmlzQ292ZXJlZCh0LHRoaXMuX3Jlc3VsdFBvbHlMaXN0KX0sZS5wcm90b3R5cGUuY29tcHV0ZUdlb21ldHJ5PWZ1bmN0aW9uKHQsbixyLGkpe3ZhciBvPW5ldyBsYztyZXR1cm4gby5hZGRBbGwodCksby5hZGRBbGwobiksby5hZGRBbGwociksby5pc0VtcHR5KCk/ZS5jcmVhdGVFbXB0eVJlc3VsdChpLHRoaXMuX2FyZ1swXS5nZXRHZW9tZXRyeSgpLHRoaXMuX2FyZ1sxXS5nZXRHZW9tZXRyeSgpLHRoaXMuX2dlb21GYWN0KTp0aGlzLl9nZW9tRmFjdC5idWlsZEdlb21ldHJ5KG8pfSxlLnByb3RvdHlwZS5tZXJnZVN5bUxhYmVscz1mdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLl9ncmFwaC5nZXROb2RlcygpLml0ZXJhdG9yKCk7dC5oYXNOZXh0KCk7KXt0Lm5leHQoKS5nZXRFZGdlcygpLm1lcmdlU3ltTGFiZWxzKCl9fSxlLnByb3RvdHlwZS5pc0NvdmVyZWQ9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49ZS5pdGVyYXRvcigpO24uaGFzTmV4dCgpOyl7dmFyIHI9bi5uZXh0KCk7aWYodGhpcy5fcHRMb2NhdG9yLmxvY2F0ZSh0LHIpIT09cGwuRVhURVJJT1IpcmV0dXJuITB9cmV0dXJuITF9LGUucHJvdG90eXBlLnJlcGxhY2VDb2xsYXBzZWRFZGdlcz1mdW5jdGlvbigpe2Zvcih2YXIgdD1uZXcgbGMsZT10aGlzLl9lZGdlTGlzdC5pdGVyYXRvcigpO2UuaGFzTmV4dCgpOyl7dmFyIG49ZS5uZXh0KCk7bi5pc0NvbGxhcHNlZCgpJiYoZS5yZW1vdmUoKSx0LmFkZChuLmdldENvbGxhcHNlZEVkZ2UoKSkpfXRoaXMuX2VkZ2VMaXN0LmFkZEFsbCh0KX0sZS5wcm90b3R5cGUudXBkYXRlTm9kZUxhYmVsbGluZz1mdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLl9ncmFwaC5nZXROb2RlcygpLml0ZXJhdG9yKCk7dC5oYXNOZXh0KCk7KXt2YXIgZT10Lm5leHQoKSxuPWUuZ2V0RWRnZXMoKS5nZXRMYWJlbCgpO2UuZ2V0TGFiZWwoKS5tZXJnZShuKX19LGUucHJvdG90eXBlLmdldFJlc3VsdEdlb21ldHJ5PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmNvbXB1dGVPdmVybGF5KHQpLHRoaXMuX3Jlc3VsdEdlb219LGUucHJvdG90eXBlLmluc2VydFVuaXF1ZUVkZ2VzPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10Lml0ZXJhdG9yKCk7ZS5oYXNOZXh0KCk7KXt2YXIgbj1lLm5leHQoKTt0aGlzLmluc2VydFVuaXF1ZUVkZ2Uobil9fSxlLnByb3RvdHlwZS5jb21wdXRlT3ZlcmxheT1mdW5jdGlvbih0KXt0aGlzLmNvcHlQb2ludHMoMCksdGhpcy5jb3B5UG9pbnRzKDEpLHRoaXMuX2FyZ1swXS5jb21wdXRlU2VsZk5vZGVzKHRoaXMuX2xpLCExKSx0aGlzLl9hcmdbMV0uY29tcHV0ZVNlbGZOb2Rlcyh0aGlzLl9saSwhMSksdGhpcy5fYXJnWzBdLmNvbXB1dGVFZGdlSW50ZXJzZWN0aW9ucyh0aGlzLl9hcmdbMV0sdGhpcy5fbGksITApO3ZhciBlPW5ldyBsYzt0aGlzLl9hcmdbMF0uY29tcHV0ZVNwbGl0RWRnZXMoZSksdGhpcy5fYXJnWzFdLmNvbXB1dGVTcGxpdEVkZ2VzKGUpLHRoaXMuaW5zZXJ0VW5pcXVlRWRnZXMoZSksdGhpcy5jb21wdXRlTGFiZWxzRnJvbURlcHRocygpLHRoaXMucmVwbGFjZUNvbGxhcHNlZEVkZ2VzKCksSGYuY2hlY2tWYWxpZCh0aGlzLl9lZGdlTGlzdC5nZXRFZGdlcygpKSx0aGlzLl9ncmFwaC5hZGRFZGdlcyh0aGlzLl9lZGdlTGlzdC5nZXRFZGdlcygpKSx0aGlzLmNvbXB1dGVMYWJlbGxpbmcoKSx0aGlzLmxhYmVsSW5jb21wbGV0ZU5vZGVzKCksdGhpcy5maW5kUmVzdWx0QXJlYUVkZ2VzKHQpLHRoaXMuY2FuY2VsRHVwbGljYXRlUmVzdWx0RWRnZXMoKTt2YXIgbj1uZXcgV2godGhpcy5fZ2VvbUZhY3QpO24uYWRkKHRoaXMuX2dyYXBoKSx0aGlzLl9yZXN1bHRQb2x5TGlzdD1uLmdldFBvbHlnb25zKCk7dmFyIHI9bmV3IEpmKHRoaXMsdGhpcy5fZ2VvbUZhY3QsdGhpcy5fcHRMb2NhdG9yKTt0aGlzLl9yZXN1bHRMaW5lTGlzdD1yLmJ1aWxkKHQpO3ZhciBpPW5ldyBaZih0aGlzLHRoaXMuX2dlb21GYWN0LHRoaXMuX3B0TG9jYXRvcik7dGhpcy5fcmVzdWx0UG9pbnRMaXN0PWkuYnVpbGQodCksdGhpcy5fcmVzdWx0R2VvbT10aGlzLmNvbXB1dGVHZW9tZXRyeSh0aGlzLl9yZXN1bHRQb2ludExpc3QsdGhpcy5fcmVzdWx0TGluZUxpc3QsdGhpcy5fcmVzdWx0UG9seUxpc3QsdCl9LGUucHJvdG90eXBlLmxhYmVsSW5jb21wbGV0ZU5vZGU9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLl9wdExvY2F0b3IubG9jYXRlKHQuZ2V0Q29vcmRpbmF0ZSgpLHRoaXMuX2FyZ1tlXS5nZXRHZW9tZXRyeSgpKTt0LmdldExhYmVsKCkuc2V0TG9jYXRpb24oZSxuKX0sZS5wcm90b3R5cGUuY29weVBvaW50cz1mdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcy5fYXJnW3RdLmdldE5vZGVJdGVyYXRvcigpO2UuaGFzTmV4dCgpOyl7dmFyIG49ZS5uZXh0KCk7dGhpcy5fZ3JhcGguYWRkTm9kZShuLmdldENvb3JkaW5hdGUoKSkuc2V0TGFiZWwodCxuLmdldExhYmVsKCkuZ2V0TG9jYXRpb24odCkpfX0sZS5wcm90b3R5cGUuZmluZFJlc3VsdEFyZWFFZGdlcz1mdW5jdGlvbih0KXtmb3IodmFyIG49dGhpcy5fZ3JhcGguZ2V0RWRnZUVuZHMoKS5pdGVyYXRvcigpO24uaGFzTmV4dCgpOyl7dmFyIHI9bi5uZXh0KCksaT1yLmdldExhYmVsKCk7aS5pc0FyZWEoKSYmIXIuaXNJbnRlcmlvckFyZWFFZGdlKCkmJmUuaXNSZXN1bHRPZk9wKGkuZ2V0TG9jYXRpb24oMCxTaC5SSUdIVCksaS5nZXRMb2NhdGlvbigxLFNoLlJJR0hUKSx0KSYmci5zZXRJblJlc3VsdCghMCl9fSxlLnByb3RvdHlwZS5jb21wdXRlTGFiZWxzRnJvbURlcHRocz1mdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLl9lZGdlTGlzdC5pdGVyYXRvcigpO3QuaGFzTmV4dCgpOyl7dmFyIGU9dC5uZXh0KCksbj1lLmdldExhYmVsKCkscj1lLmdldERlcHRoKCk7aWYoIXIuaXNOdWxsKCkpe3Iubm9ybWFsaXplKCk7Zm9yKHZhciBpPTA7aTwyO2krKyluLmlzTnVsbChpKXx8IW4uaXNBcmVhKCl8fHIuaXNOdWxsKGkpfHwoMD09PXIuZ2V0RGVsdGEoaSk/bi50b0xpbmUoaSk6KHFsLmlzVHJ1ZSghci5pc051bGwoaSxTaC5MRUZUKSwiZGVwdGggb2YgTEVGVCBzaWRlIGhhcyBub3QgYmVlbiBpbml0aWFsaXplZCIpLG4uc2V0TG9jYXRpb24oaSxTaC5MRUZULHIuZ2V0TG9jYXRpb24oaSxTaC5MRUZUKSkscWwuaXNUcnVlKCFyLmlzTnVsbChpLFNoLlJJR0hUKSwiZGVwdGggb2YgUklHSFQgc2lkZSBoYXMgbm90IGJlZW4gaW5pdGlhbGl6ZWQiKSxuLnNldExvY2F0aW9uKGksU2guUklHSFQsci5nZXRMb2NhdGlvbihpLFNoLlJJR0hUKSkpKX19fSxlLnByb3RvdHlwZS5jb21wdXRlTGFiZWxsaW5nPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PXRoaXMuX2dyYXBoLmdldE5vZGVzKCkuaXRlcmF0b3IoKTt0Lmhhc05leHQoKTspe3QubmV4dCgpLmdldEVkZ2VzKCkuY29tcHV0ZUxhYmVsbGluZyh0aGlzLl9hcmcpfXRoaXMubWVyZ2VTeW1MYWJlbHMoKSx0aGlzLnVwZGF0ZU5vZGVMYWJlbGxpbmcoKX0sZS5wcm90b3R5cGUubGFiZWxJbmNvbXBsZXRlTm9kZXM9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpcy5fZ3JhcGguZ2V0Tm9kZXMoKS5pdGVyYXRvcigpO3QuaGFzTmV4dCgpOyl7dmFyIGU9dC5uZXh0KCksbj1lLmdldExhYmVsKCk7ZS5pc0lzb2xhdGVkKCkmJihuLmlzTnVsbCgwKT90aGlzLmxhYmVsSW5jb21wbGV0ZU5vZGUoZSwwKTp0aGlzLmxhYmVsSW5jb21wbGV0ZU5vZGUoZSwxKSksZS5nZXRFZGdlcygpLnVwZGF0ZUxhYmVsbGluZyhuKX19LGUucHJvdG90eXBlLmlzQ292ZXJlZEJ5QT1mdW5jdGlvbih0KXtyZXR1cm4hIXRoaXMuaXNDb3ZlcmVkKHQsdGhpcy5fcmVzdWx0UG9seUxpc3QpfSxlLnByb3RvdHlwZS5pbnRlcmZhY2VzXz1mdW5jdGlvbigpe3JldHVybltdfSxlLnByb3RvdHlwZS5nZXRDbGFzcz1mdW5jdGlvbigpe3JldHVybiBlfSxlfShDZyk7TWcub3ZlcmxheU9wPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gbmV3IE1nKHQsZSkuZ2V0UmVzdWx0R2VvbWV0cnkobil9LE1nLmludGVyc2VjdGlvbj1mdW5jdGlvbih0LGUpe2lmKHQuaXNFbXB0eSgpfHxlLmlzRW1wdHkoKSlyZXR1cm4gTWcuY3JlYXRlRW1wdHlSZXN1bHQoTWcuSU5URVJTRUNUSU9OLHQsZSx0LmdldEZhY3RvcnkoKSk7aWYodC5pc0dlb21ldHJ5Q29sbGVjdGlvbigpKXt2YXIgbj1lO3JldHVybiBXZi5tYXAodCx7aW50ZXJmYWNlc186ZnVuY3Rpb24oKXtyZXR1cm5bUGcuTWFwT3BdfSxtYXA6ZnVuY3Rpb24odCl7cmV0dXJuIHQuaW50ZXJzZWN0aW9uKG4pfX0pfXJldHVybiB0LmNoZWNrTm90R2VvbWV0cnlDb2xsZWN0aW9uKHQpLHQuY2hlY2tOb3RHZW9tZXRyeUNvbGxlY3Rpb24oZSksdWcub3ZlcmxheU9wKHQsZSxNZy5JTlRFUlNFQ1RJT04pfSxNZy5zeW1EaWZmZXJlbmNlPWZ1bmN0aW9uKHQsZSl7aWYodC5pc0VtcHR5KCl8fGUuaXNFbXB0eSgpKXtpZih0LmlzRW1wdHkoKSYmZS5pc0VtcHR5KCkpcmV0dXJuIE1nLmNyZWF0ZUVtcHR5UmVzdWx0KE1nLlNZTURJRkZFUkVOQ0UsdCxlLHQuZ2V0RmFjdG9yeSgpKTtpZih0LmlzRW1wdHkoKSlyZXR1cm4gZS5jb3B5KCk7aWYoZS5pc0VtcHR5KCkpcmV0dXJuIHQuY29weSgpfXJldHVybiB0LmNoZWNrTm90R2VvbWV0cnlDb2xsZWN0aW9uKHQpLHQuY2hlY2tOb3RHZW9tZXRyeUNvbGxlY3Rpb24oZSksdWcub3ZlcmxheU9wKHQsZSxNZy5TWU1ESUZGRVJFTkNFKX0sTWcucmVzdWx0RGltZW5zaW9uPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1lLmdldERpbWVuc2lvbigpLGk9bi5nZXREaW1lbnNpb24oKSxvPS0xO3N3aXRjaCh0KXtjYXNlIE1nLklOVEVSU0VDVElPTjpvPU1hdGgubWluKHIsaSk7YnJlYWs7Y2FzZSBNZy5VTklPTjpvPU1hdGgubWF4KHIsaSk7YnJlYWs7Y2FzZSBNZy5ESUZGRVJFTkNFOm89cjticmVhaztjYXNlIE1nLlNZTURJRkZFUkVOQ0U6bz1NYXRoLm1heChyLGkpfXJldHVybiBvfSxNZy5jcmVhdGVFbXB0eVJlc3VsdD1mdW5jdGlvbih0LGUsbixyKXt2YXIgaT1udWxsO3N3aXRjaChNZy5yZXN1bHREaW1lbnNpb24odCxlLG4pKXtjYXNlLTE6aT1yLmNyZWF0ZUdlb21ldHJ5Q29sbGVjdGlvbihuZXcgQXJyYXkoMCkuZmlsbChudWxsKSk7YnJlYWs7Y2FzZSAwOmk9ci5jcmVhdGVQb2ludCgpO2JyZWFrO2Nhc2UgMTppPXIuY3JlYXRlTGluZVN0cmluZygpO2JyZWFrO2Nhc2UgMjppPXIuY3JlYXRlUG9seWdvbigpfXJldHVybiBpfSxNZy5kaWZmZXJlbmNlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuaXNFbXB0eSgpP01nLmNyZWF0ZUVtcHR5UmVzdWx0KE1nLkRJRkZFUkVOQ0UsdCxlLHQuZ2V0RmFjdG9yeSgpKTplLmlzRW1wdHkoKT90LmNvcHkoKToodC5jaGVja05vdEdlb21ldHJ5Q29sbGVjdGlvbih0KSx0LmNoZWNrTm90R2VvbWV0cnlDb2xsZWN0aW9uKGUpLHVnLm92ZXJsYXlPcCh0LGUsTWcuRElGRkVSRU5DRSkpfSxNZy5pc1Jlc3VsdE9mT3A9ZnVuY3Rpb24oKXtpZigyPT09YXJndW1lbnRzLmxlbmd0aCl7dmFyIHQ9YXJndW1lbnRzWzBdLGU9YXJndW1lbnRzWzFdLG49dC5nZXRMb2NhdGlvbigwKSxyPXQuZ2V0TG9jYXRpb24oMSk7cmV0dXJuIE1nLmlzUmVzdWx0T2ZPcChuLHIsZSl9aWYoMz09PWFyZ3VtZW50cy5sZW5ndGgpe3ZhciBpPWFyZ3VtZW50c1swXSxvPWFyZ3VtZW50c1sxXSxzPWFyZ3VtZW50c1syXTtzd2l0Y2goaT09PXBsLkJPVU5EQVJZJiYoaT1wbC5JTlRFUklPUiksbz09PXBsLkJPVU5EQVJZJiYobz1wbC5JTlRFUklPUikscyl7Y2FzZSBNZy5JTlRFUlNFQ1RJT046cmV0dXJuIGk9PT1wbC5JTlRFUklPUiYmbz09PXBsLklOVEVSSU9SO2Nhc2UgTWcuVU5JT046cmV0dXJuIGk9PT1wbC5JTlRFUklPUnx8bz09PXBsLklOVEVSSU9SO2Nhc2UgTWcuRElGRkVSRU5DRTpyZXR1cm4gaT09PXBsLklOVEVSSU9SJiZvIT09cGwuSU5URVJJT1I7Y2FzZSBNZy5TWU1ESUZGRVJFTkNFOnJldHVybiBpPT09cGwuSU5URVJJT1ImJm8hPT1wbC5JTlRFUklPUnx8aSE9PXBsLklOVEVSSU9SJiZvPT09cGwuSU5URVJJT1J9cmV0dXJuITF9fSxNZy5JTlRFUlNFQ1RJT049MSxNZy5VTklPTj0yLE1nLkRJRkZFUkVOQ0U9MyxNZy5TWU1ESUZGRVJFTkNFPTQ7dmFyIExnPWZ1bmN0aW9uKCl7dGhpcy5fZz1udWxsLHRoaXMuX2JvdW5kYXJ5RGlzdGFuY2VUb2xlcmFuY2U9bnVsbCx0aGlzLl9saW5ld29yaz1udWxsLHRoaXMuX3B0TG9jYXRvcj1uZXcgUGYsdGhpcy5fc2VnPW5ldyB2cDt2YXIgdD1hcmd1bWVudHNbMF0sZT1hcmd1bWVudHNbMV07dGhpcy5fZz10LHRoaXMuX2JvdW5kYXJ5RGlzdGFuY2VUb2xlcmFuY2U9ZSx0aGlzLl9saW5ld29yaz10aGlzLmV4dHJhY3RMaW5ld29yayh0KX07TGcucHJvdG90eXBlLmlzV2l0aGluVG9sZXJhbmNlT2ZCb3VuZGFyeT1mdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcyxuPTA7bjx0aGlzLl9saW5ld29yay5nZXROdW1HZW9tZXRyaWVzKCk7bisrKWZvcih2YXIgcj1lLl9saW5ld29yay5nZXRHZW9tZXRyeU4obikuZ2V0Q29vcmRpbmF0ZVNlcXVlbmNlKCksaT0wO2k8ci5zaXplKCktMTtpKyspe2lmKHIuZ2V0Q29vcmRpbmF0ZShpLGUuX3NlZy5wMCksci5nZXRDb29yZGluYXRlKGkrMSxlLl9zZWcucDEpLGUuX3NlZy5kaXN0YW5jZSh0KTw9ZS5fYm91bmRhcnlEaXN0YW5jZVRvbGVyYW5jZSlyZXR1cm4hMH1yZXR1cm4hMX0sTGcucHJvdG90eXBlLmdldExvY2F0aW9uPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmlzV2l0aGluVG9sZXJhbmNlT2ZCb3VuZGFyeSh0KT9wbC5CT1VOREFSWTp0aGlzLl9wdExvY2F0b3IubG9jYXRlKHQsdGhpcy5fZyl9LExnLnByb3RvdHlwZS5leHRyYWN0TGluZXdvcms9ZnVuY3Rpb24odCl7dmFyIGU9bmV3IE9nO3QuYXBwbHkoZSk7dmFyIG49ZS5nZXRMaW5ld29yaygpLHI9X2gudG9MaW5lU3RyaW5nQXJyYXkobik7cmV0dXJuIHQuZ2V0RmFjdG9yeSgpLmNyZWF0ZU11bHRpTGluZVN0cmluZyhyKX0sTGcucHJvdG90eXBlLmludGVyZmFjZXNfPWZ1bmN0aW9uKCl7cmV0dXJuW119LExnLnByb3RvdHlwZS5nZXRDbGFzcz1mdW5jdGlvbigpe3JldHVybiBMZ307dmFyIE9nPWZ1bmN0aW9uKCl7dGhpcy5fbGluZXdvcms9bnVsbCx0aGlzLl9saW5ld29yaz1uZXcgbGN9O09nLnByb3RvdHlwZS5nZXRMaW5ld29yaz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9saW5ld29ya30sT2cucHJvdG90eXBlLmZpbHRlcj1mdW5jdGlvbih0KXtpZih0IGluc3RhbmNlb2YgdGgpe3ZhciBlPXQ7dGhpcy5fbGluZXdvcmsuYWRkKGUuZ2V0RXh0ZXJpb3JSaW5nKCkpO2Zvcih2YXIgbj0wO248ZS5nZXROdW1JbnRlcmlvclJpbmcoKTtuKyspdGhpcy5fbGluZXdvcmsuYWRkKGUuZ2V0SW50ZXJpb3JSaW5nTihuKSl9fSxPZy5wcm90b3R5cGUuaW50ZXJmYWNlc189ZnVuY3Rpb24oKXtyZXR1cm5bRGNdfSxPZy5wcm90b3R5cGUuZ2V0Q2xhc3M9ZnVuY3Rpb24oKXtyZXR1cm4gT2d9O3ZhciBSZz1mdW5jdGlvbigpe3RoaXMuX2c9bnVsbCx0aGlzLl9kb0xlZnQ9ITAsdGhpcy5fZG9SaWdodD0hMDt2YXIgdD1hcmd1bWVudHNbMF07dGhpcy5fZz10fTtSZy5wcm90b3R5cGUuZXh0cmFjdFBvaW50cz1mdW5jdGlvbih0LGUsbil7Zm9yKHZhciByPXQuZ2V0Q29vcmRpbmF0ZXMoKSxpPTA7aTxyLmxlbmd0aC0xO2krKyl0aGlzLmNvbXB1dGVPZmZzZXRQb2ludHMocltpXSxyW2krMV0sZSxuKX0sUmcucHJvdG90eXBlLnNldFNpZGVzVG9HZW5lcmF0ZT1mdW5jdGlvbih0LGUpe3RoaXMuX2RvTGVmdD10LHRoaXMuX2RvUmlnaHQ9ZX0sUmcucHJvdG90eXBlLmdldFBvaW50cz1mdW5jdGlvbih0KXtmb3IodmFyIGU9bmV3IGxjLG49Q2YuZ2V0TGluZXModGhpcy5fZykuaXRlcmF0b3IoKTtuLmhhc05leHQoKTspe3ZhciByPW4ubmV4dCgpO3RoaXMuZXh0cmFjdFBvaW50cyhyLHQsZSl9cmV0dXJuIGV9LFJnLnByb3RvdHlwZS5jb21wdXRlT2Zmc2V0UG9pbnRzPWZ1bmN0aW9uKHQsZSxuLHIpe3ZhciBpPWUueC10Lngsbz1lLnktdC55LHM9TWF0aC5zcXJ0KGkqaStvKm8pLGE9bippL3MsdT1uKm8vcyxsPShlLngrdC54KS8yLGM9KGUueSt0LnkpLzI7aWYodGhpcy5fZG9MZWZ0KXt2YXIgaD1uZXcgdWwobC11LGMrYSk7ci5hZGQoaCl9aWYodGhpcy5fZG9SaWdodCl7dmFyIHA9bmV3IHVsKGwrdSxjLWEpO3IuYWRkKHApfX0sUmcucHJvdG90eXBlLmludGVyZmFjZXNfPWZ1bmN0aW9uKCl7cmV0dXJuW119LFJnLnByb3RvdHlwZS5nZXRDbGFzcz1mdW5jdGlvbigpe3JldHVybiBSZ307dmFyIFRnPWZ1bmN0aW9uIHQoKXt0aGlzLl9nZW9tPW51bGwsdGhpcy5fbG9jRmluZGVyPW51bGwsdGhpcy5fbG9jYXRpb249bmV3IEFycmF5KDMpLmZpbGwobnVsbCksdGhpcy5faW52YWxpZExvY2F0aW9uPW51bGwsdGhpcy5fYm91bmRhcnlEaXN0YW5jZVRvbGVyYW5jZT10LlRPTEVSQU5DRSx0aGlzLl90ZXN0Q29vcmRzPW5ldyBsYzt2YXIgZT1hcmd1bWVudHNbMF0sbj1hcmd1bWVudHNbMV0scj1hcmd1bWVudHNbMl07dGhpcy5fYm91bmRhcnlEaXN0YW5jZVRvbGVyYW5jZT10LmNvbXB1dGVCb3VuZGFyeURpc3RhbmNlVG9sZXJhbmNlKGUsbiksdGhpcy5fZ2VvbT1bZSxuLHJdLHRoaXMuX2xvY0ZpbmRlcj1bbmV3IExnKHRoaXMuX2dlb21bMF0sdGhpcy5fYm91bmRhcnlEaXN0YW5jZVRvbGVyYW5jZSksbmV3IExnKHRoaXMuX2dlb21bMV0sdGhpcy5fYm91bmRhcnlEaXN0YW5jZVRvbGVyYW5jZSksbmV3IExnKHRoaXMuX2dlb21bMl0sdGhpcy5fYm91bmRhcnlEaXN0YW5jZVRvbGVyYW5jZSldfSxBZz17VE9MRVJBTkNFOntjb25maWd1cmFibGU6ITB9fTtUZy5wcm90b3R5cGUucmVwb3J0UmVzdWx0PWZ1bmN0aW9uKHQsZSxuKXtQbC5vdXQucHJpbnRsbigiT3ZlcmxheSByZXN1bHQgaW52YWxpZCAtIEE6IitwbC50b0xvY2F0aW9uU3ltYm9sKGVbMF0pKyIgQjoiK3BsLnRvTG9jYXRpb25TeW1ib2woZVsxXSkrIiBleHBlY3RlZDoiKyhuPyJpIjoiZSIpKyIgYWN0dWFsOiIrcGwudG9Mb2NhdGlvblN5bWJvbChlWzJdKSl9LFRnLnByb3RvdHlwZS5pc1ZhbGlkPWZ1bmN0aW9uKHQpe3RoaXMuYWRkVGVzdFB0cyh0aGlzLl9nZW9tWzBdKSx0aGlzLmFkZFRlc3RQdHModGhpcy5fZ2VvbVsxXSk7dmFyIGU9dGhpcy5jaGVja1ZhbGlkKHQpO3JldHVybiBlfSxUZy5wcm90b3R5cGUuY2hlY2tWYWxpZD1mdW5jdGlvbigpe3ZhciB0PXRoaXM7aWYoMT09PWFyZ3VtZW50cy5sZW5ndGgpe2Zvcih2YXIgZT1hcmd1bWVudHNbMF0sbj0wO248dGhpcy5fdGVzdENvb3Jkcy5zaXplKCk7bisrKXt2YXIgcj10Ll90ZXN0Q29vcmRzLmdldChuKTtpZighdC5jaGVja1ZhbGlkKGUscikpcmV0dXJuIHQuX2ludmFsaWRMb2NhdGlvbj1yLCExfXJldHVybiEwfWlmKDI9PT1hcmd1bWVudHMubGVuZ3RoKXt2YXIgaT1hcmd1bWVudHNbMF0sbz1hcmd1bWVudHNbMV07cmV0dXJuIHRoaXMuX2xvY2F0aW9uWzBdPXRoaXMuX2xvY0ZpbmRlclswXS5nZXRMb2NhdGlvbihvKSx0aGlzLl9sb2NhdGlvblsxXT10aGlzLl9sb2NGaW5kZXJbMV0uZ2V0TG9jYXRpb24obyksdGhpcy5fbG9jYXRpb25bMl09dGhpcy5fbG9jRmluZGVyWzJdLmdldExvY2F0aW9uKG8pLCEhVGcuaGFzTG9jYXRpb24odGhpcy5fbG9jYXRpb24scGwuQk9VTkRBUlkpfHx0aGlzLmlzVmFsaWRSZXN1bHQoaSx0aGlzLl9sb2NhdGlvbil9fSxUZy5wcm90b3R5cGUuYWRkVGVzdFB0cz1mdW5jdGlvbih0KXt2YXIgZT1uZXcgUmcodCk7dGhpcy5fdGVzdENvb3Jkcy5hZGRBbGwoZS5nZXRQb2ludHMoNSp0aGlzLl9ib3VuZGFyeURpc3RhbmNlVG9sZXJhbmNlKSl9LFRnLnByb3RvdHlwZS5pc1ZhbGlkUmVzdWx0PWZ1bmN0aW9uKHQsZSl7dmFyIG49TWcuaXNSZXN1bHRPZk9wKGVbMF0sZVsxXSx0KSxyPSEobl5lWzJdPT09cGwuSU5URVJJT1IpO3JldHVybiByfHx0aGlzLnJlcG9ydFJlc3VsdCh0LGUsbikscn0sVGcucHJvdG90eXBlLmdldEludmFsaWRMb2NhdGlvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbnZhbGlkTG9jYXRpb259LFRnLnByb3RvdHlwZS5pbnRlcmZhY2VzXz1mdW5jdGlvbigpe3JldHVybltdfSxUZy5wcm90b3R5cGUuZ2V0Q2xhc3M9ZnVuY3Rpb24oKXtyZXR1cm4gVGd9LFRnLmhhc0xvY2F0aW9uPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPTA7bjwzO24rKylpZih0W25dPT09ZSlyZXR1cm4hMDtyZXR1cm4hMX0sVGcuY29tcHV0ZUJvdW5kYXJ5RGlzdGFuY2VUb2xlcmFuY2U9ZnVuY3Rpb24odCxlKXtyZXR1cm4gTWF0aC5taW4oJGYuY29tcHV0ZVNpemVCYXNlZFNuYXBUb2xlcmFuY2UodCksJGYuY29tcHV0ZVNpemVCYXNlZFNuYXBUb2xlcmFuY2UoZSkpfSxUZy5pc1ZhbGlkPWZ1bmN0aW9uKHQsZSxuLHIpe3JldHVybiBuZXcgVGcodCxlLHIpLmlzVmFsaWQobil9LEFnLlRPTEVSQU5DRS5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gMWUtNn0sT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoVGcsQWcpO3ZhciBEZz1mdW5jdGlvbiB0KGUpe3RoaXMuX2dlb21GYWN0b3J5PW51bGwsdGhpcy5fc2tpcEVtcHR5PSExLHRoaXMuX2lucHV0R2VvbXM9bnVsbCx0aGlzLl9nZW9tRmFjdG9yeT10LmV4dHJhY3RGYWN0b3J5KGUpLHRoaXMuX2lucHV0R2VvbXM9ZX07RGcucHJvdG90eXBlLmV4dHJhY3RFbGVtZW50cz1mdW5jdGlvbih0LGUpe2lmKG51bGw9PT10KXJldHVybiBudWxsO2Zvcih2YXIgbj0wO248dC5nZXROdW1HZW9tZXRyaWVzKCk7bisrKXt2YXIgcj10LmdldEdlb21ldHJ5TihuKTt0aGlzLl9za2lwRW1wdHkmJnIuaXNFbXB0eSgpfHxlLmFkZChyKX19LERnLnByb3RvdHlwZS5jb21iaW5lPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PW5ldyBsYyxlPXRoaXMuX2lucHV0R2VvbXMuaXRlcmF0b3IoKTtlLmhhc05leHQoKTspe3ZhciBuPWUubmV4dCgpO3RoaXMuZXh0cmFjdEVsZW1lbnRzKG4sdCl9cmV0dXJuIDA9PT10LnNpemUoKT9udWxsIT09dGhpcy5fZ2VvbUZhY3Rvcnk/dGhpcy5fZ2VvbUZhY3RvcnkuY3JlYXRlR2VvbWV0cnlDb2xsZWN0aW9uKG51bGwpOm51bGw6dGhpcy5fZ2VvbUZhY3RvcnkuYnVpbGRHZW9tZXRyeSh0KX0sRGcucHJvdG90eXBlLmludGVyZmFjZXNfPWZ1bmN0aW9uKCl7cmV0dXJuW119LERnLnByb3RvdHlwZS5nZXRDbGFzcz1mdW5jdGlvbigpe3JldHVybiBEZ30sRGcuY29tYmluZT1mdW5jdGlvbigpe2lmKDE9PT1hcmd1bWVudHMubGVuZ3RoKXt2YXIgdD1hcmd1bWVudHNbMF0sZT1uZXcgRGcodCk7cmV0dXJuIGUuY29tYmluZSgpfWlmKDI9PT1hcmd1bWVudHMubGVuZ3RoKXt2YXIgbj1hcmd1bWVudHNbMF0scj1hcmd1bWVudHNbMV0saT1uZXcgRGcoRGcuY3JlYXRlTGlzdChuLHIpKTtyZXR1cm4gaS5jb21iaW5lKCl9aWYoMz09PWFyZ3VtZW50cy5sZW5ndGgpe3ZhciBvPWFyZ3VtZW50c1swXSxzPWFyZ3VtZW50c1sxXSxhPWFyZ3VtZW50c1syXSx1PW5ldyBEZyhEZy5jcmVhdGVMaXN0KG8scyxhKSk7cmV0dXJuIHUuY29tYmluZSgpfX0sRGcuZXh0cmFjdEZhY3Rvcnk9ZnVuY3Rpb24odCl7cmV0dXJuIHQuaXNFbXB0eSgpP251bGw6dC5pdGVyYXRvcigpLm5leHQoKS5nZXRGYWN0b3J5KCl9LERnLmNyZWF0ZUxpc3Q9ZnVuY3Rpb24oKXtpZigyPT09YXJndW1lbnRzLmxlbmd0aCl7dmFyIHQ9YXJndW1lbnRzWzBdLGU9YXJndW1lbnRzWzFdLG49bmV3IGxjO3JldHVybiBuLmFkZCh0KSxuLmFkZChlKSxufWlmKDM9PT1hcmd1bWVudHMubGVuZ3RoKXt2YXIgcj1hcmd1bWVudHNbMF0saT1hcmd1bWVudHNbMV0sbz1hcmd1bWVudHNbMl0scz1uZXcgbGM7cmV0dXJuIHMuYWRkKHIpLHMuYWRkKGkpLHMuYWRkKG8pLHN9fTt2YXIgRmc9ZnVuY3Rpb24oKXt0aGlzLl9pbnB1dFBvbHlzPW51bGwsdGhpcy5fZ2VvbUZhY3Rvcnk9bnVsbDt2YXIgdD1hcmd1bWVudHNbMF07dGhpcy5faW5wdXRQb2x5cz10LG51bGw9PT10aGlzLl9pbnB1dFBvbHlzJiYodGhpcy5faW5wdXRQb2x5cz1uZXcgbGMpfSxrZz17U1RSVFJFRV9OT0RFX0NBUEFDSVRZOntjb25maWd1cmFibGU6ITB9fTtGZy5wcm90b3R5cGUucmVkdWNlVG9HZW9tZXRyaWVzPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1uZXcgbGMsbj10Lml0ZXJhdG9yKCk7bi5oYXNOZXh0KCk7KXt2YXIgcj1uLm5leHQoKSxpPW51bGw7Z2wocixhYyk/aT10aGlzLnVuaW9uVHJlZShyKTpyIGluc3RhbmNlb2YgV2wmJihpPXIpLGUuYWRkKGkpfXJldHVybiBlfSxGZy5wcm90b3R5cGUuZXh0cmFjdEJ5RW52ZWxvcGU9ZnVuY3Rpb24odCxlLG4pe2Zvcih2YXIgcj1uZXcgbGMsaT0wO2k8ZS5nZXROdW1HZW9tZXRyaWVzKCk7aSsrKXt2YXIgbz1lLmdldEdlb21ldHJ5TihpKTtvLmdldEVudmVsb3BlSW50ZXJuYWwoKS5pbnRlcnNlY3RzKHQpP3IuYWRkKG8pOm4uYWRkKG8pfXJldHVybiB0aGlzLl9nZW9tRmFjdG9yeS5idWlsZEdlb21ldHJ5KHIpfSxGZy5wcm90b3R5cGUudW5pb25PcHRpbWl6ZWQ9ZnVuY3Rpb24odCxlKXt2YXIgbj10LmdldEVudmVsb3BlSW50ZXJuYWwoKSxyPWUuZ2V0RW52ZWxvcGVJbnRlcm5hbCgpO2lmKCFuLmludGVyc2VjdHMocikpcmV0dXJuIERnLmNvbWJpbmUodCxlKTtpZih0LmdldE51bUdlb21ldHJpZXMoKTw9MSYmZS5nZXROdW1HZW9tZXRyaWVzKCk8PTEpcmV0dXJuIHRoaXMudW5pb25BY3R1YWwodCxlKTt2YXIgaT1uLmludGVyc2VjdGlvbihyKTtyZXR1cm4gdGhpcy51bmlvblVzaW5nRW52ZWxvcGVJbnRlcnNlY3Rpb24odCxlLGkpfSxGZy5wcm90b3R5cGUudW5pb249ZnVuY3Rpb24oKXtpZihudWxsPT09dGhpcy5faW5wdXRQb2x5cyl0aHJvdyBuZXcgRXJyb3IoInVuaW9uKCkgbWV0aG9kIGNhbm5vdCBiZSBjYWxsZWQgdHdpY2UiKTtpZih0aGlzLl9pbnB1dFBvbHlzLmlzRW1wdHkoKSlyZXR1cm4gbnVsbDt0aGlzLl9nZW9tRmFjdG9yeT10aGlzLl9pbnB1dFBvbHlzLml0ZXJhdG9yKCkubmV4dCgpLmdldEZhY3RvcnkoKTtmb3IodmFyIHQ9bmV3IHVwKEZnLlNUUlRSRUVfTk9ERV9DQVBBQ0lUWSksZT10aGlzLl9pbnB1dFBvbHlzLml0ZXJhdG9yKCk7ZS5oYXNOZXh0KCk7KXt2YXIgbj1lLm5leHQoKTt0Lmluc2VydChuLmdldEVudmVsb3BlSW50ZXJuYWwoKSxuKX10aGlzLl9pbnB1dFBvbHlzPW51bGw7dmFyIHI9dC5pdGVtc1RyZWUoKTtyZXR1cm4gdGhpcy51bmlvblRyZWUocil9LEZnLnByb3RvdHlwZS5iaW5hcnlVbmlvbj1mdW5jdGlvbigpe2lmKDE9PT1hcmd1bWVudHMubGVuZ3RoKXt2YXIgdD1hcmd1bWVudHNbMF07cmV0dXJuIHRoaXMuYmluYXJ5VW5pb24odCwwLHQuc2l6ZSgpKX1pZigzPT09YXJndW1lbnRzLmxlbmd0aCl7dmFyIGU9YXJndW1lbnRzWzBdLG49YXJndW1lbnRzWzFdLHI9YXJndW1lbnRzWzJdO2lmKHItbjw9MSl7dmFyIGk9RmcuZ2V0R2VvbWV0cnkoZSxuKTtyZXR1cm4gdGhpcy51bmlvblNhZmUoaSxudWxsKX1pZihyLW49PTIpcmV0dXJuIHRoaXMudW5pb25TYWZlKEZnLmdldEdlb21ldHJ5KGUsbiksRmcuZ2V0R2VvbWV0cnkoZSxuKzEpKTt2YXIgbz1NYXRoLnRydW5jKChyK24pLzIpLHM9dGhpcy5iaW5hcnlVbmlvbihlLG4sbyksYT10aGlzLmJpbmFyeVVuaW9uKGUsbyxyKTtyZXR1cm4gdGhpcy51bmlvblNhZmUocyxhKX19LEZnLnByb3RvdHlwZS5yZXBlYXRlZFVuaW9uPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1udWxsLG49dC5pdGVyYXRvcigpO24uaGFzTmV4dCgpOyl7dmFyIHI9bi5uZXh0KCk7ZT1udWxsPT09ZT9yLmNvcHkoKTplLnVuaW9uKHIpfXJldHVybiBlfSxGZy5wcm90b3R5cGUudW5pb25TYWZlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG51bGw9PT10JiZudWxsPT09ZT9udWxsOm51bGw9PT10P2UuY29weSgpOm51bGw9PT1lP3QuY29weSgpOnRoaXMudW5pb25PcHRpbWl6ZWQodCxlKX0sRmcucHJvdG90eXBlLnVuaW9uQWN0dWFsPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIEZnLnJlc3RyaWN0VG9Qb2x5Z29ucyh0LnVuaW9uKGUpKX0sRmcucHJvdG90eXBlLnVuaW9uVHJlZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLnJlZHVjZVRvR2VvbWV0cmllcyh0KTtyZXR1cm4gdGhpcy5iaW5hcnlVbmlvbihlKX0sRmcucHJvdG90eXBlLnVuaW9uVXNpbmdFbnZlbG9wZUludGVyc2VjdGlvbj1mdW5jdGlvbih0LGUsbil7dmFyIHI9bmV3IGxjLGk9dGhpcy5leHRyYWN0QnlFbnZlbG9wZShuLHQsciksbz10aGlzLmV4dHJhY3RCeUVudmVsb3BlKG4sZSxyKSxzPXRoaXMudW5pb25BY3R1YWwoaSxvKTtyZXR1cm4gci5hZGQocyksRGcuY29tYmluZShyKX0sRmcucHJvdG90eXBlLmJ1ZmZlclVuaW9uPWZ1bmN0aW9uKCl7aWYoMT09PWFyZ3VtZW50cy5sZW5ndGgpe3ZhciB0PWFyZ3VtZW50c1swXSxlPXQuZ2V0KDApLmdldEZhY3RvcnkoKSxuPWUuYnVpbGRHZW9tZXRyeSh0KSxyPW4uYnVmZmVyKDApO3JldHVybiByfWlmKDI9PT1hcmd1bWVudHMubGVuZ3RoKXt2YXIgaT1hcmd1bWVudHNbMF0sbz1hcmd1bWVudHNbMV0scz1pLmdldEZhY3RvcnkoKSxhPXMuY3JlYXRlR2VvbWV0cnlDb2xsZWN0aW9uKFtpLG9dKSx1PWEuYnVmZmVyKDApO3JldHVybiB1fX0sRmcucHJvdG90eXBlLmludGVyZmFjZXNfPWZ1bmN0aW9uKCl7cmV0dXJuW119LEZnLnByb3RvdHlwZS5nZXRDbGFzcz1mdW5jdGlvbigpe3JldHVybiBGZ30sRmcucmVzdHJpY3RUb1BvbHlnb25zPWZ1bmN0aW9uKHQpe2lmKGdsKHQsJGMpKXJldHVybiB0O3ZhciBlPVNmLmdldFBvbHlnb25zKHQpO3JldHVybiAxPT09ZS5zaXplKCk/ZS5nZXQoMCk6dC5nZXRGYWN0b3J5KCkuY3JlYXRlTXVsdGlQb2x5Z29uKF9oLnRvUG9seWdvbkFycmF5KGUpKX0sRmcuZ2V0R2VvbWV0cnk9ZnVuY3Rpb24odCxlKXtyZXR1cm4gZT49dC5zaXplKCk/bnVsbDp0LmdldChlKX0sRmcudW5pb249ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBGZyh0KS51bmlvbigpfSxrZy5TVFJUUkVFX05PREVfQ0FQQUNJVFkuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIDR9LE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKEZnLGtnKTt2YXIgR2c9ZnVuY3Rpb24oKXt9O2Z1bmN0aW9uIHFnKCl7cmV0dXJuIG5ldyBCZ31mdW5jdGlvbiBCZygpe3RoaXMucmVzZXQoKX1HZy5wcm90b3R5cGUuaW50ZXJmYWNlc189ZnVuY3Rpb24oKXtyZXR1cm5bXX0sR2cucHJvdG90eXBlLmdldENsYXNzPWZ1bmN0aW9uKCl7cmV0dXJuIEdnfSxHZy51bmlvbj1mdW5jdGlvbih0LGUpe2lmKHQuaXNFbXB0eSgpfHxlLmlzRW1wdHkoKSl7aWYodC5pc0VtcHR5KCkmJmUuaXNFbXB0eSgpKXJldHVybiBNZy5jcmVhdGVFbXB0eVJlc3VsdChNZy5VTklPTix0LGUsdC5nZXRGYWN0b3J5KCkpO2lmKHQuaXNFbXB0eSgpKXJldHVybiBlLmNvcHkoKTtpZihlLmlzRW1wdHkoKSlyZXR1cm4gdC5jb3B5KCl9cmV0dXJuIHQuY2hlY2tOb3RHZW9tZXRyeUNvbGxlY3Rpb24odCksdC5jaGVja05vdEdlb21ldHJ5Q29sbGVjdGlvbihlKSx1Zy5vdmVybGF5T3AodCxlLE1nLlVOSU9OKX0sQmcucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjpCZyxyZXNldDpmdW5jdGlvbigpe3RoaXMucz10aGlzLnQ9MH0sYWRkOmZ1bmN0aW9uKHQpe2pnKHpnLHQsdGhpcy50KSxqZyh0aGlzLHpnLnMsdGhpcy5zKSx0aGlzLnM/dGhpcy50Kz16Zy50OnRoaXMucz16Zy50fSx2YWx1ZU9mOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc319O3ZhciB6Zz1uZXcgQmc7ZnVuY3Rpb24gamcodCxlLG4pe3ZhciByPXQucz1lK24saT1yLWUsbz1yLWk7dC50PWUtbysobi1pKX12YXIgVWc9MWUtNixWZz1NYXRoLlBJLFhnPVZnLzIsWWc9VmcvNCxIZz0yKlZnLFdnPTE4MC9WZyxKZz1WZy8xODAsWmc9TWF0aC5hYnMsS2c9TWF0aC5hdGFuLFFnPU1hdGguYXRhbjIsJGc9TWF0aC5jb3MsdGQ9TWF0aC5zaW4sZWQ9TWF0aC5zcXJ0O2Z1bmN0aW9uIG5kKHQpe3JldHVybiB0PjE/MDp0PC0xP1ZnOk1hdGguYWNvcyh0KX1mdW5jdGlvbiByZCh0KXtyZXR1cm4gdD4xP1hnOnQ8LTE/LVhnOk1hdGguYXNpbih0KX1mdW5jdGlvbiBpZCgpe31mdW5jdGlvbiBvZCh0LGUpe3QmJmFkLmhhc093blByb3BlcnR5KHQudHlwZSkmJmFkW3QudHlwZV0odCxlKX12YXIgc2Q9e0ZlYXR1cmU6ZnVuY3Rpb24odCxlKXtvZCh0Lmdlb21ldHJ5LGUpfSxGZWF0dXJlQ29sbGVjdGlvbjpmdW5jdGlvbih0LGUpe2Zvcih2YXIgbj10LmZlYXR1cmVzLHI9LTEsaT1uLmxlbmd0aDsrK3I8aTspb2QobltyXS5nZW9tZXRyeSxlKX19LGFkPXtTcGhlcmU6ZnVuY3Rpb24odCxlKXtlLnNwaGVyZSgpfSxQb2ludDpmdW5jdGlvbih0LGUpe3Q9dC5jb29yZGluYXRlcyxlLnBvaW50KHRbMF0sdFsxXSx0WzJdKX0sTXVsdGlQb2ludDpmdW5jdGlvbih0LGUpe2Zvcih2YXIgbj10LmNvb3JkaW5hdGVzLHI9LTEsaT1uLmxlbmd0aDsrK3I8aTspdD1uW3JdLGUucG9pbnQodFswXSx0WzFdLHRbMl0pfSxMaW5lU3RyaW5nOmZ1bmN0aW9uKHQsZSl7dWQodC5jb29yZGluYXRlcyxlLDApfSxNdWx0aUxpbmVTdHJpbmc6ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49dC5jb29yZGluYXRlcyxyPS0xLGk9bi5sZW5ndGg7KytyPGk7KXVkKG5bcl0sZSwwKX0sUG9seWdvbjpmdW5jdGlvbih0LGUpe2xkKHQuY29vcmRpbmF0ZXMsZSl9LE11bHRpUG9seWdvbjpmdW5jdGlvbih0LGUpe2Zvcih2YXIgbj10LmNvb3JkaW5hdGVzLHI9LTEsaT1uLmxlbmd0aDsrK3I8aTspbGQobltyXSxlKX0sR2VvbWV0cnlDb2xsZWN0aW9uOmZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPXQuZ2VvbWV0cmllcyxyPS0xLGk9bi5sZW5ndGg7KytyPGk7KW9kKG5bcl0sZSl9fTtmdW5jdGlvbiB1ZCh0LGUsbil7dmFyIHIsaT0tMSxvPXQubGVuZ3RoLW47Zm9yKGUubGluZVN0YXJ0KCk7KytpPG87KXI9dFtpXSxlLnBvaW50KHJbMF0sclsxXSxyWzJdKTtlLmxpbmVFbmQoKX1mdW5jdGlvbiBsZCh0LGUpe3ZhciBuPS0xLHI9dC5sZW5ndGg7Zm9yKGUucG9seWdvblN0YXJ0KCk7KytuPHI7KXVkKHRbbl0sZSwxKTtlLnBvbHlnb25FbmQoKX1xZygpLHFnKCk7ZnVuY3Rpb24gY2QodCl7cmV0dXJuW1FnKHRbMV0sdFswXSkscmQodFsyXSldfWZ1bmN0aW9uIGhkKHQpe3ZhciBlPXRbMF0sbj10WzFdLHI9JGcobik7cmV0dXJuW3IqJGcoZSkscip0ZChlKSx0ZChuKV19ZnVuY3Rpb24gcGQodCxlKXtyZXR1cm4gdFswXSplWzBdK3RbMV0qZVsxXSt0WzJdKmVbMl19ZnVuY3Rpb24gZmQodCxlKXtyZXR1cm5bdFsxXSplWzJdLXRbMl0qZVsxXSx0WzJdKmVbMF0tdFswXSplWzJdLHRbMF0qZVsxXS10WzFdKmVbMF1dfWZ1bmN0aW9uIGdkKHQsZSl7dFswXSs9ZVswXSx0WzFdKz1lWzFdLHRbMl0rPWVbMl19ZnVuY3Rpb24gZGQodCxlKXtyZXR1cm5bdFswXSplLHRbMV0qZSx0WzJdKmVdfWZ1bmN0aW9uIHlkKHQpe3ZhciBlPWVkKHRbMF0qdFswXSt0WzFdKnRbMV0rdFsyXSp0WzJdKTt0WzBdLz1lLHRbMV0vPWUsdFsyXS89ZX1xZygpO2Z1bmN0aW9uIHZkKHQsZSl7ZnVuY3Rpb24gbihuLHIpe3JldHVybiBuPXQobixyKSxlKG5bMF0sblsxXSl9cmV0dXJuIHQuaW52ZXJ0JiZlLmludmVydCYmKG4uaW52ZXJ0PWZ1bmN0aW9uKG4scil7cmV0dXJuKG49ZS5pbnZlcnQobixyKSkmJnQuaW52ZXJ0KG5bMF0sblsxXSl9KSxufWZ1bmN0aW9uIF9kKHQsZSl7cmV0dXJuW3Q+Vmc/dC1IZzp0PC1WZz90K0hnOnQsZV19ZnVuY3Rpb24gbWQodCl7cmV0dXJuIGZ1bmN0aW9uKGUsbil7cmV0dXJuWyhlKz10KT5WZz9lLUhnOmU8LVZnP2UrSGc6ZSxuXX19ZnVuY3Rpb24geGQodCl7dmFyIGU9bWQodCk7cmV0dXJuIGUuaW52ZXJ0PW1kKC10KSxlfWZ1bmN0aW9uIEVkKHQsZSl7dmFyIG49JGcodCkscj10ZCh0KSxpPSRnKGUpLG89dGQoZSk7ZnVuY3Rpb24gcyh0LGUpe3ZhciBzPSRnKGUpLGE9JGcodCkqcyx1PXRkKHQpKnMsbD10ZChlKSxjPWwqbithKnI7cmV0dXJuW1FnKHUqaS1jKm8sYSpuLWwqcikscmQoYyppK3UqbyldfXJldHVybiBzLmludmVydD1mdW5jdGlvbih0LGUpe3ZhciBzPSRnKGUpLGE9JGcodCkqcyx1PXRkKHQpKnMsbD10ZChlKSxjPWwqaS11Km87cmV0dXJuW1FnKHUqaStsKm8sYSpuK2MqcikscmQoYypuLWEqcildfSxzfWZ1bmN0aW9uIGJkKHQsZSl7KGU9aGQoZSkpWzBdLT10LHlkKGUpO3ZhciBuPW5kKC1lWzFdKTtyZXR1cm4oKC1lWzJdPDA/LW46bikrSGctVWcpJUhnfWZ1bmN0aW9uIHdkKCl7dmFyIHQsZT1bXTtyZXR1cm57cG9pbnQ6ZnVuY3Rpb24oZSxuKXt0LnB1c2goW2Usbl0pfSxsaW5lU3RhcnQ6ZnVuY3Rpb24oKXtlLnB1c2godD1bXSl9LGxpbmVFbmQ6aWQscmVqb2luOmZ1bmN0aW9uKCl7ZS5sZW5ndGg+MSYmZS5wdXNoKGUucG9wKCkuY29uY2F0KGUuc2hpZnQoKSkpfSxyZXN1bHQ6ZnVuY3Rpb24oKXt2YXIgbj1lO3JldHVybiBlPVtdLHQ9bnVsbCxufX19ZnVuY3Rpb24gSWQodCxlKXtyZXR1cm4gWmcodFswXS1lWzBdKTxVZyYmWmcodFsxXS1lWzFdKTxVZ31mdW5jdGlvbiBOZCh0LGUsbixyKXt0aGlzLng9dCx0aGlzLno9ZSx0aGlzLm89bix0aGlzLmU9cix0aGlzLnY9ITEsdGhpcy5uPXRoaXMucD1udWxsfWZ1bmN0aW9uIFNkKHQsZSxuLHIsaSl7dmFyIG8scyxhPVtdLHU9W107aWYodC5mb3JFYWNoKChmdW5jdGlvbih0KXtpZighKChlPXQubGVuZ3RoLTEpPD0wKSl7dmFyIGUsbixyPXRbMF0scz10W2VdO2lmKElkKHIscykpe2ZvcihpLmxpbmVTdGFydCgpLG89MDtvPGU7KytvKWkucG9pbnQoKHI9dFtvXSlbMF0sclsxXSk7aS5saW5lRW5kKCl9ZWxzZSBhLnB1c2gobj1uZXcgTmQocix0LG51bGwsITApKSx1LnB1c2gobi5vPW5ldyBOZChyLG51bGwsbiwhMSkpLGEucHVzaChuPW5ldyBOZChzLHQsbnVsbCwhMSkpLHUucHVzaChuLm89bmV3IE5kKHMsbnVsbCxuLCEwKSl9fSkpLGEubGVuZ3RoKXtmb3IodS5zb3J0KGUpLENkKGEpLENkKHUpLG89MCxzPXUubGVuZ3RoO288czsrK28pdVtvXS5lPW49IW47Zm9yKHZhciBsLGMsaD1hWzBdOzspe2Zvcih2YXIgcD1oLGY9ITA7cC52OylpZigocD1wLm4pPT09aClyZXR1cm47bD1wLnosaS5saW5lU3RhcnQoKTtkb3tpZihwLnY9cC5vLnY9ITAscC5lKXtpZihmKWZvcihvPTAscz1sLmxlbmd0aDtvPHM7KytvKWkucG9pbnQoKGM9bFtvXSlbMF0sY1sxXSk7ZWxzZSByKHAueCxwLm4ueCwxLGkpO3A9cC5ufWVsc2V7aWYoZilmb3IobD1wLnAueixvPWwubGVuZ3RoLTE7bz49MDstLW8paS5wb2ludCgoYz1sW29dKVswXSxjWzFdKTtlbHNlIHIocC54LHAucC54LC0xLGkpO3A9cC5wfWw9KHA9cC5vKS56LGY9IWZ9d2hpbGUoIXAudik7aS5saW5lRW5kKCl9fX1mdW5jdGlvbiBDZCh0KXtpZihlPXQubGVuZ3RoKXtmb3IodmFyIGUsbixyPTAsaT10WzBdOysrcjxlOylpLm49bj10W3JdLG4ucD1pLGk9bjtpLm49bj10WzBdLG4ucD1pfX1mdW5jdGlvbiBQZCh0LGUpe3JldHVybiB0PGU/LTE6dD5lPzE6dD49ZT8wOk5hTn1fZC5pbnZlcnQ9X2Q7dmFyIE1kLExkOzE9PT0oTWQ9UGQpLmxlbmd0aCYmKExkPU1kLE1kPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIFBkKExkKHQpLGUpfSk7ZnVuY3Rpb24gT2QodCl7Zm9yKHZhciBlLG4scixpPXQubGVuZ3RoLG89LTEscz0wOysrbzxpOylzKz10W29dLmxlbmd0aDtmb3Iobj1uZXcgQXJyYXkocyk7LS1pPj0wOylmb3IoZT0ocj10W2ldKS5sZW5ndGg7LS1lPj0wOyluWy0tc109cltlXTtyZXR1cm4gbn12YXIgUmQ9MWU5LFRkPS1SZDtmdW5jdGlvbiBBZCh0LGUsbixyKXtmdW5jdGlvbiBpKGksbyl7cmV0dXJuIHQ8PWkmJmk8PW4mJmU8PW8mJm88PXJ9ZnVuY3Rpb24gbyhpLG8sYSxsKXt2YXIgYz0wLGg9MDtpZihudWxsPT1pfHwoYz1zKGksYSkpIT09KGg9cyhvLGEpKXx8dShpLG8pPDBeYT4wKWRve2wucG9pbnQoMD09PWN8fDM9PT1jP3Q6bixjPjE/cjplKX13aGlsZSgoYz0oYythKzQpJTQpIT09aCk7ZWxzZSBsLnBvaW50KG9bMF0sb1sxXSl9ZnVuY3Rpb24gcyhyLGkpe3JldHVybiBaZyhyWzBdLXQpPFVnP2k+MD8wOjM6WmcoclswXS1uKTxVZz9pPjA/MjoxOlpnKHJbMV0tZSk8VWc/aT4wPzE6MDppPjA/MzoyfWZ1bmN0aW9uIGEodCxlKXtyZXR1cm4gdSh0LngsZS54KX1mdW5jdGlvbiB1KHQsZSl7dmFyIG49cyh0LDEpLHI9cyhlLDEpO3JldHVybiBuIT09cj9uLXI6MD09PW4/ZVsxXS10WzFdOjE9PT1uP3RbMF0tZVswXToyPT09bj90WzFdLWVbMV06ZVswXS10WzBdfXJldHVybiBmdW5jdGlvbihzKXt2YXIgdSxsLGMsaCxwLGYsZyxkLHksdixfLG09cyx4PXdkKCksRT17cG9pbnQ6YixsaW5lU3RhcnQ6ZnVuY3Rpb24oKXtFLnBvaW50PXcsbCYmbC5wdXNoKGM9W10pO3Y9ITAseT0hMSxnPWQ9TmFOfSxsaW5lRW5kOmZ1bmN0aW9uKCl7dSYmKHcoaCxwKSxmJiZ5JiZ4LnJlam9pbigpLHUucHVzaCh4LnJlc3VsdCgpKSk7RS5wb2ludD1iLHkmJm0ubGluZUVuZCgpfSxwb2x5Z29uU3RhcnQ6ZnVuY3Rpb24oKXttPXgsdT1bXSxsPVtdLF89ITB9LHBvbHlnb25FbmQ6ZnVuY3Rpb24oKXt2YXIgZT1mdW5jdGlvbigpe2Zvcih2YXIgZT0wLG49MCxpPWwubGVuZ3RoO248aTsrK24pZm9yKHZhciBvLHMsYT1sW25dLHU9MSxjPWEubGVuZ3RoLGg9YVswXSxwPWhbMF0sZj1oWzFdO3U8YzsrK3Upbz1wLHM9ZixwPShoPWFbdV0pWzBdLGY9aFsxXSxzPD1yP2Y+ciYmKHAtbykqKHItcyk+KGYtcykqKHQtbykmJisrZTpmPD1yJiYocC1vKSooci1zKTwoZi1zKSoodC1vKSYmLS1lO3JldHVybiBlfSgpLG49XyYmZSxpPSh1PU9kKHUpKS5sZW5ndGg7KG58fGkpJiYocy5wb2x5Z29uU3RhcnQoKSxuJiYocy5saW5lU3RhcnQoKSxvKG51bGwsbnVsbCwxLHMpLHMubGluZUVuZCgpKSxpJiZTZCh1LGEsZSxvLHMpLHMucG9seWdvbkVuZCgpKTttPXMsdT1sPWM9bnVsbH19O2Z1bmN0aW9uIGIodCxlKXtpKHQsZSkmJm0ucG9pbnQodCxlKX1mdW5jdGlvbiB3KG8scyl7dmFyIGE9aShvLHMpO2lmKGwmJmMucHVzaChbbyxzXSksdiloPW8scD1zLGY9YSx2PSExLGEmJihtLmxpbmVTdGFydCgpLG0ucG9pbnQobyxzKSk7ZWxzZSBpZihhJiZ5KW0ucG9pbnQobyxzKTtlbHNle3ZhciB1PVtnPU1hdGgubWF4KFRkLE1hdGgubWluKFJkLGcpKSxkPU1hdGgubWF4KFRkLE1hdGgubWluKFJkLGQpKV0seD1bbz1NYXRoLm1heChUZCxNYXRoLm1pbihSZCxvKSkscz1NYXRoLm1heChUZCxNYXRoLm1pbihSZCxzKSldOyFmdW5jdGlvbih0LGUsbixyLGksbyl7dmFyIHMsYT10WzBdLHU9dFsxXSxsPTAsYz0xLGg9ZVswXS1hLHA9ZVsxXS11O2lmKHM9bi1hLGh8fCEocz4wKSl7aWYocy89aCxoPDApe2lmKHM8bClyZXR1cm47czxjJiYoYz1zKX1lbHNlIGlmKGg+MCl7aWYocz5jKXJldHVybjtzPmwmJihsPXMpfWlmKHM9aS1hLGh8fCEoczwwKSl7aWYocy89aCxoPDApe2lmKHM+YylyZXR1cm47cz5sJiYobD1zKX1lbHNlIGlmKGg+MCl7aWYoczxsKXJldHVybjtzPGMmJihjPXMpfWlmKHM9ci11LHB8fCEocz4wKSl7aWYocy89cCxwPDApe2lmKHM8bClyZXR1cm47czxjJiYoYz1zKX1lbHNlIGlmKHA+MCl7aWYocz5jKXJldHVybjtzPmwmJihsPXMpfWlmKHM9by11LHB8fCEoczwwKSl7aWYocy89cCxwPDApe2lmKHM+YylyZXR1cm47cz5sJiYobD1zKX1lbHNlIGlmKHA+MCl7aWYoczxsKXJldHVybjtzPGMmJihjPXMpfXJldHVybiBsPjAmJih0WzBdPWErbCpoLHRbMV09dStsKnApLGM8MSYmKGVbMF09YStjKmgsZVsxXT11K2MqcCksITB9fX19fSh1LHgsdCxlLG4scik/YSYmKG0ubGluZVN0YXJ0KCksbS5wb2ludChvLHMpLF89ITEpOih5fHwobS5saW5lU3RhcnQoKSxtLnBvaW50KHVbMF0sdVsxXSkpLG0ucG9pbnQoeFswXSx4WzFdKSxhfHxtLmxpbmVFbmQoKSxfPSExKX1nPW8sZD1zLHk9YX1yZXR1cm4gRX19dmFyIERkPXFnKCk7cWcoKTtmdW5jdGlvbiBGZCh0KXtyZXR1cm4gdH1xZygpLHFnKCk7dmFyIGtkPTEvMCxHZD1rZCxxZD0ta2QsQmQ9cWQsemQ9e3BvaW50OmZ1bmN0aW9uKHQsZSl7dDxrZCYmKGtkPXQpO3Q+cWQmJihxZD10KTtlPEdkJiYoR2Q9ZSk7ZT5CZCYmKEJkPWUpfSxsaW5lU3RhcnQ6aWQsbGluZUVuZDppZCxwb2x5Z29uU3RhcnQ6aWQscG9seWdvbkVuZDppZCxyZXN1bHQ6ZnVuY3Rpb24oKXt2YXIgdD1bW2tkLEdkXSxbcWQsQmRdXTtyZXR1cm4gcWQ9QmQ9LShHZD1rZD0xLzApLHR9fTtxZygpO2Z1bmN0aW9uIGpkKHQsZSxuLHIpe3JldHVybiBmdW5jdGlvbihpLG8pe3ZhciBzLGEsdSxsPWUobyksYz1pLmludmVydChyWzBdLHJbMV0pLGg9d2QoKSxwPWUoaCksZj0hMSxnPXtwb2ludDpkLGxpbmVTdGFydDp2LGxpbmVFbmQ6Xyxwb2x5Z29uU3RhcnQ6ZnVuY3Rpb24oKXtnLnBvaW50PW0sZy5saW5lU3RhcnQ9eCxnLmxpbmVFbmQ9RSxhPVtdLHM9W119LHBvbHlnb25FbmQ6ZnVuY3Rpb24oKXtnLnBvaW50PWQsZy5saW5lU3RhcnQ9dixnLmxpbmVFbmQ9XyxhPU9kKGEpO3ZhciB0PWZ1bmN0aW9uKHQsZSl7dmFyIG49ZVswXSxyPWVbMV0saT1bdGQobiksLSRnKG4pLDBdLG89MCxzPTA7RGQucmVzZXQoKTtmb3IodmFyIGE9MCx1PXQubGVuZ3RoO2E8dTsrK2EpaWYoYz0obD10W2FdKS5sZW5ndGgpZm9yKHZhciBsLGMsaD1sW2MtMV0scD1oWzBdLGY9aFsxXS8yK1lnLGc9dGQoZiksZD0kZyhmKSx5PTA7eTxjOysreSxwPV8sZz14LGQ9RSxoPXYpe3ZhciB2PWxbeV0sXz12WzBdLG09dlsxXS8yK1lnLHg9dGQobSksRT0kZyhtKSxiPV8tcCx3PWI+PTA/MTotMSxJPXcqYixOPUk+VmcsUz1nKng7aWYoRGQuYWRkKFFnKFMqdyp0ZChJKSxkKkUrUyokZyhJKSkpLG8rPU4/Yit3KkhnOmIsTl5wPj1uXl8+PW4pe3ZhciBDPWZkKGhkKGgpLGhkKHYpKTt5ZChDKTt2YXIgUD1mZChpLEMpO3lkKFApO3ZhciBNPShOXmI+PTA/LTE6MSkqcmQoUFsyXSk7KHI+TXx8cj09PU0mJihDWzBdfHxDWzFdKSkmJihzKz1OXmI+PTA/MTotMSl9fXJldHVybihvPC0xZS02fHxvPFVnJiZEZDwtMWUtNileMSZzfShzLGMpO2EubGVuZ3RoPyhmfHwoby5wb2x5Z29uU3RhcnQoKSxmPSEwKSxTZChhLFZkLHQsbixvKSk6dCYmKGZ8fChvLnBvbHlnb25TdGFydCgpLGY9ITApLG8ubGluZVN0YXJ0KCksbihudWxsLG51bGwsMSxvKSxvLmxpbmVFbmQoKSksZiYmKG8ucG9seWdvbkVuZCgpLGY9ITEpLGE9cz1udWxsfSxzcGhlcmU6ZnVuY3Rpb24oKXtvLnBvbHlnb25TdGFydCgpLG8ubGluZVN0YXJ0KCksbihudWxsLG51bGwsMSxvKSxvLmxpbmVFbmQoKSxvLnBvbHlnb25FbmQoKX19O2Z1bmN0aW9uIGQoZSxuKXt2YXIgcj1pKGUsbik7dChlPXJbMF0sbj1yWzFdKSYmby5wb2ludChlLG4pfWZ1bmN0aW9uIHkodCxlKXt2YXIgbj1pKHQsZSk7bC5wb2ludChuWzBdLG5bMV0pfWZ1bmN0aW9uIHYoKXtnLnBvaW50PXksbC5saW5lU3RhcnQoKX1mdW5jdGlvbiBfKCl7Zy5wb2ludD1kLGwubGluZUVuZCgpfWZ1bmN0aW9uIG0odCxlKXt1LnB1c2goW3QsZV0pO3ZhciBuPWkodCxlKTtwLnBvaW50KG5bMF0sblsxXSl9ZnVuY3Rpb24geCgpe3AubGluZVN0YXJ0KCksdT1bXX1mdW5jdGlvbiBFKCl7bSh1WzBdWzBdLHVbMF1bMV0pLHAubGluZUVuZCgpO3ZhciB0LGUsbixyLGk9cC5jbGVhbigpLGw9aC5yZXN1bHQoKSxjPWwubGVuZ3RoO2lmKHUucG9wKCkscy5wdXNoKHUpLHU9bnVsbCxjKWlmKDEmaSl7aWYoKGU9KG49bFswXSkubGVuZ3RoLTEpPjApe2ZvcihmfHwoby5wb2x5Z29uU3RhcnQoKSxmPSEwKSxvLmxpbmVTdGFydCgpLHQ9MDt0PGU7Kyt0KW8ucG9pbnQoKHI9blt0XSlbMF0sclsxXSk7by5saW5lRW5kKCl9fWVsc2UgYz4xJiYyJmkmJmwucHVzaChsLnBvcCgpLmNvbmNhdChsLnNoaWZ0KCkpKSxhLnB1c2gobC5maWx0ZXIoVWQpKX1yZXR1cm4gZ319ZnVuY3Rpb24gVWQodCl7cmV0dXJuIHQubGVuZ3RoPjF9ZnVuY3Rpb24gVmQodCxlKXtyZXR1cm4oKHQ9dC54KVswXTwwP3RbMV0tWGctVWc6WGctdFsxXSktKChlPWUueClbMF08MD9lWzFdLVhnLVVnOlhnLWVbMV0pfXZhciBYZD1qZCgoZnVuY3Rpb24oKXtyZXR1cm4hMH0pLChmdW5jdGlvbih0KXt2YXIgZSxuPU5hTixyPU5hTixpPU5hTjtyZXR1cm57bGluZVN0YXJ0OmZ1bmN0aW9uKCl7dC5saW5lU3RhcnQoKSxlPTF9LHBvaW50OmZ1bmN0aW9uKG8scyl7dmFyIGE9bz4wP1ZnOi1WZyx1PVpnKG8tbik7WmcodS1WZyk8VWc/KHQucG9pbnQobixyPShyK3MpLzI+MD9YZzotWGcpLHQucG9pbnQoaSxyKSx0LmxpbmVFbmQoKSx0LmxpbmVTdGFydCgpLHQucG9pbnQoYSxyKSx0LnBvaW50KG8sciksZT0wKTppIT09YSYmdT49VmcmJihaZyhuLWkpPFVnJiYobi09aSpVZyksWmcoby1hKTxVZyYmKG8tPWEqVWcpLHI9ZnVuY3Rpb24odCxlLG4scil7dmFyIGksbyxzPXRkKHQtbik7cmV0dXJuIFpnKHMpPlVnP0tnKCh0ZChlKSoobz0kZyhyKSkqdGQobiktdGQocikqKGk9JGcoZSkpKnRkKHQpKS8oaSpvKnMpKTooZStyKS8yfShuLHIsbyxzKSx0LnBvaW50KGksciksdC5saW5lRW5kKCksdC5saW5lU3RhcnQoKSx0LnBvaW50KGEsciksZT0wKSx0LnBvaW50KG49byxyPXMpLGk9YX0sbGluZUVuZDpmdW5jdGlvbigpe3QubGluZUVuZCgpLG49cj1OYU59LGNsZWFuOmZ1bmN0aW9uKCl7cmV0dXJuIDItZX19fSksKGZ1bmN0aW9uKHQsZSxuLHIpe3ZhciBpO2lmKG51bGw9PXQpaT1uKlhnLHIucG9pbnQoLVZnLGkpLHIucG9pbnQoMCxpKSxyLnBvaW50KFZnLGkpLHIucG9pbnQoVmcsMCksci5wb2ludChWZywtaSksci5wb2ludCgwLC1pKSxyLnBvaW50KC1WZywtaSksci5wb2ludCgtVmcsMCksci5wb2ludCgtVmcsaSk7ZWxzZSBpZihaZyh0WzBdLWVbMF0pPlVnKXt2YXIgbz10WzBdPGVbMF0/Vmc6LVZnO2k9bipvLzIsci5wb2ludCgtbyxpKSxyLnBvaW50KDAsaSksci5wb2ludChvLGkpfWVsc2Ugci5wb2ludChlWzBdLGVbMV0pfSksWy1WZywtWGddKTtmdW5jdGlvbiBZZCh0LGUpe3ZhciBuPSRnKHQpLHI9bj4wLGk9Wmcobik+VWc7ZnVuY3Rpb24gbyh0LGUpe3JldHVybiAkZyh0KSokZyhlKT5ufWZ1bmN0aW9uIHModCxlLHIpe3ZhciBpPVsxLDAsMF0sbz1mZChoZCh0KSxoZChlKSkscz1wZChvLG8pLGE9b1swXSx1PXMtYSphO2lmKCF1KXJldHVybiFyJiZ0O3ZhciBsPW4qcy91LGM9LW4qYS91LGg9ZmQoaSxvKSxwPWRkKGksbCk7Z2QocCxkZChvLGMpKTt2YXIgZj1oLGc9cGQocCxmKSxkPXBkKGYsZikseT1nKmctZCoocGQocCxwKS0xKTtpZighKHk8MCkpe3ZhciB2PWVkKHkpLF89ZGQoZiwoLWctdikvZCk7aWYoZ2QoXyxwKSxfPWNkKF8pLCFyKXJldHVybiBfO3ZhciBtLHg9dFswXSxFPWVbMF0sYj10WzFdLHc9ZVsxXTtFPHgmJihtPXgseD1FLEU9bSk7dmFyIEk9RS14LE49WmcoSS1WZyk8VWc7aWYoIU4mJnc8YiYmKG09YixiPXcsdz1tKSxOfHxJPFVnP04/Yit3PjBeX1sxXTwoWmcoX1swXS14KTxVZz9iOncpOmI8PV9bMV0mJl9bMV08PXc6ST5WZ14oeDw9X1swXSYmX1swXTw9RSkpe3ZhciBTPWRkKGYsKC1nK3YpL2QpO3JldHVybiBnZChTLHApLFtfLGNkKFMpXX19fWZ1bmN0aW9uIGEoZSxuKXt2YXIgaT1yP3Q6VmctdCxvPTA7cmV0dXJuIGU8LWk/b3w9MTplPmkmJihvfD0yKSxuPC1pP298PTQ6bj5pJiYob3w9OCksb31yZXR1cm4gamQobywoZnVuY3Rpb24odCl7dmFyIGUsbix1LGwsYztyZXR1cm57bGluZVN0YXJ0OmZ1bmN0aW9uKCl7bD11PSExLGM9MX0scG9pbnQ6ZnVuY3Rpb24oaCxwKXt2YXIgZixnPVtoLHBdLGQ9byhoLHApLHk9cj9kPzA6YShoLHApOmQ/YShoKyhoPDA/Vmc6LVZnKSxwKTowO2lmKCFlJiYobD11PWQpJiZ0LmxpbmVTdGFydCgpLGQhPT11JiYoIShmPXMoZSxnKSl8fElkKGUsZil8fElkKGcsZikpJiYoZ1swXSs9VWcsZ1sxXSs9VWcsZD1vKGdbMF0sZ1sxXSkpLGQhPT11KWM9MCxkPyh0LmxpbmVTdGFydCgpLGY9cyhnLGUpLHQucG9pbnQoZlswXSxmWzFdKSk6KGY9cyhlLGcpLHQucG9pbnQoZlswXSxmWzFdKSx0LmxpbmVFbmQoKSksZT1mO2Vsc2UgaWYoaSYmZSYmcl5kKXt2YXIgdjt5Jm58fCEodj1zKGcsZSwhMCkpfHwoYz0wLHI/KHQubGluZVN0YXJ0KCksdC5wb2ludCh2WzBdWzBdLHZbMF1bMV0pLHQucG9pbnQodlsxXVswXSx2WzFdWzFdKSx0LmxpbmVFbmQoKSk6KHQucG9pbnQodlsxXVswXSx2WzFdWzFdKSx0LmxpbmVFbmQoKSx0LmxpbmVTdGFydCgpLHQucG9pbnQodlswXVswXSx2WzBdWzFdKSkpfSFkfHxlJiZJZChlLGcpfHx0LnBvaW50KGdbMF0sZ1sxXSksZT1nLHU9ZCxuPXl9LGxpbmVFbmQ6ZnVuY3Rpb24oKXt1JiZ0LmxpbmVFbmQoKSxlPW51bGx9LGNsZWFuOmZ1bmN0aW9uKCl7cmV0dXJuIGN8KGwmJnUpPDwxfX19KSwoZnVuY3Rpb24obixyLGksbyl7IWZ1bmN0aW9uKHQsZSxuLHIsaSxvKXtpZihuKXt2YXIgcz0kZyhlKSxhPXRkKGUpLHU9cipuO251bGw9PWk/KGk9ZStyKkhnLG89ZS11LzIpOihpPWJkKHMsaSksbz1iZChzLG8pLChyPjA/aTxvOmk+bykmJihpKz1yKkhnKSk7Zm9yKHZhciBsLGM9aTtyPjA/Yz5vOmM8bztjLT11KWw9Y2QoW3MsLWEqJGcoYyksLWEqdGQoYyldKSx0LnBvaW50KGxbMF0sbFsxXSl9fShvLHQsZSxpLG4scil9KSxyP1swLC10XTpbLVZnLHQtVmddKX1mdW5jdGlvbiBIZCh0KXtyZXR1cm4gZnVuY3Rpb24oZSl7dmFyIG49bmV3IFdkO2Zvcih2YXIgciBpbiB0KW5bcl09dFtyXTtyZXR1cm4gbi5zdHJlYW09ZSxufX1mdW5jdGlvbiBXZCgpe31mdW5jdGlvbiBKZCh0LGUsbil7dmFyIHI9ZVsxXVswXS1lWzBdWzBdLGk9ZVsxXVsxXS1lWzBdWzFdLG89dC5jbGlwRXh0ZW50JiZ0LmNsaXBFeHRlbnQoKTt0LnNjYWxlKDE1MCkudHJhbnNsYXRlKFswLDBdKSxudWxsIT1vJiZ0LmNsaXBFeHRlbnQobnVsbCksZnVuY3Rpb24odCxlKXt0JiZzZC5oYXNPd25Qcm9wZXJ0eSh0LnR5cGUpP3NkW3QudHlwZV0odCxlKTpvZCh0LGUpfShuLHQuc3RyZWFtKHpkKSk7dmFyIHM9emQucmVzdWx0KCksYT1NYXRoLm1pbihyLyhzWzFdWzBdLXNbMF1bMF0pLGkvKHNbMV1bMV0tc1swXVsxXSkpLHU9K2VbMF1bMF0rKHItYSooc1sxXVswXStzWzBdWzBdKSkvMixsPStlWzBdWzFdKyhpLWEqKHNbMV1bMV0rc1swXVsxXSkpLzI7cmV0dXJuIG51bGwhPW8mJnQuY2xpcEV4dGVudChvKSx0LnNjYWxlKDE1MCphKS50cmFuc2xhdGUoW3UsbF0pfVdkLnByb3RvdHlwZT17Y29uc3RydWN0b3I6V2QscG9pbnQ6ZnVuY3Rpb24odCxlKXt0aGlzLnN0cmVhbS5wb2ludCh0LGUpfSxzcGhlcmU6ZnVuY3Rpb24oKXt0aGlzLnN0cmVhbS5zcGhlcmUoKX0sbGluZVN0YXJ0OmZ1bmN0aW9uKCl7dGhpcy5zdHJlYW0ubGluZVN0YXJ0KCl9LGxpbmVFbmQ6ZnVuY3Rpb24oKXt0aGlzLnN0cmVhbS5saW5lRW5kKCl9LHBvbHlnb25TdGFydDpmdW5jdGlvbigpe3RoaXMuc3RyZWFtLnBvbHlnb25TdGFydCgpfSxwb2x5Z29uRW5kOmZ1bmN0aW9uKCl7dGhpcy5zdHJlYW0ucG9seWdvbkVuZCgpfX07dmFyIFpkPSRnKDMwKkpnKTtmdW5jdGlvbiBLZCh0LGUpe3JldHVybitlP2Z1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gbihyLGksbyxzLGEsdSxsLGMsaCxwLGYsZyxkLHkpe3ZhciB2PWwtcixfPWMtaSxtPXYqditfKl87aWYobT40KmUmJmQtLSl7dmFyIHg9cytwLEU9YStmLGI9dStnLHc9ZWQoeCp4K0UqRStiKmIpLEk9cmQoYi89dyksTj1aZyhaZyhiKS0xKTxVZ3x8Wmcoby1oKTxVZz8obytoKS8yOlFnKEUseCksUz10KE4sSSksQz1TWzBdLFA9U1sxXSxNPUMtcixMPVAtaSxPPV8qTS12Kkw7KE8qTy9tPmV8fFpnKCh2Kk0rXypMKS9tLS41KT4uM3x8cypwK2EqZit1Kmc8WmQpJiYobihyLGksbyxzLGEsdSxDLFAsTix4Lz13LEUvPXcsYixkLHkpLHkucG9pbnQoQyxQKSxuKEMsUCxOLHgsRSxiLGwsYyxoLHAsZixnLGQseSkpfX1yZXR1cm4gZnVuY3Rpb24oZSl7dmFyIHIsaSxvLHMsYSx1LGwsYyxoLHAsZixnLGQ9e3BvaW50OnksbGluZVN0YXJ0OnYsbGluZUVuZDptLHBvbHlnb25TdGFydDpmdW5jdGlvbigpe2UucG9seWdvblN0YXJ0KCksZC5saW5lU3RhcnQ9eH0scG9seWdvbkVuZDpmdW5jdGlvbigpe2UucG9seWdvbkVuZCgpLGQubGluZVN0YXJ0PXZ9fTtmdW5jdGlvbiB5KG4scil7bj10KG4sciksZS5wb2ludChuWzBdLG5bMV0pfWZ1bmN0aW9uIHYoKXtjPU5hTixkLnBvaW50PV8sZS5saW5lU3RhcnQoKX1mdW5jdGlvbiBfKHIsaSl7dmFyIG89aGQoW3IsaV0pLHM9dChyLGkpO24oYyxoLGwscCxmLGcsYz1zWzBdLGg9c1sxXSxsPXIscD1vWzBdLGY9b1sxXSxnPW9bMl0sMTYsZSksZS5wb2ludChjLGgpfWZ1bmN0aW9uIG0oKXtkLnBvaW50PXksZS5saW5lRW5kKCl9ZnVuY3Rpb24geCgpe3YoKSxkLnBvaW50PUUsZC5saW5lRW5kPWJ9ZnVuY3Rpb24gRSh0LGUpe18ocj10LGUpLGk9YyxvPWgscz1wLGE9Zix1PWcsZC5wb2ludD1ffWZ1bmN0aW9uIGIoKXtuKGMsaCxsLHAsZixnLGksbyxyLHMsYSx1LDE2LGUpLGQubGluZUVuZD1tLG0oKX1yZXR1cm4gZH19KHQsZSk6ZnVuY3Rpb24odCl7cmV0dXJuIEhkKHtwb2ludDpmdW5jdGlvbihlLG4pe2U9dChlLG4pLHRoaXMuc3RyZWFtLnBvaW50KGVbMF0sZVsxXSl9fSl9KHQpfXZhciBRZD1IZCh7cG9pbnQ6ZnVuY3Rpb24odCxlKXt0aGlzLnN0cmVhbS5wb2ludCh0KkpnLGUqSmcpfX0pO2Z1bmN0aW9uICRkKHQpe3JldHVybiBmdW5jdGlvbih0KXt2YXIgZSxuLHIsaSxvLHMsYSx1LGwsYyxoPTE1MCxwPTQ4MCxmPTI1MCxnPTAsZD0wLHk9MCx2PTAsXz0wLG09bnVsbCx4PVhkLEU9bnVsbCxiPUZkLHc9LjUsST1LZChDLHcpO2Z1bmN0aW9uIE4odCl7cmV0dXJuWyh0PW8odFswXSpKZyx0WzFdKkpnKSlbMF0qaCtuLHItdFsxXSpoXX1mdW5jdGlvbiBTKHQpe3JldHVybih0PW8uaW52ZXJ0KCh0WzBdLW4pL2gsKHItdFsxXSkvaCkpJiZbdFswXSpXZyx0WzFdKldnXX1mdW5jdGlvbiBDKHQsaSl7cmV0dXJuWyh0PWUodCxpKSlbMF0qaCtuLHItdFsxXSpoXX1mdW5jdGlvbiBQKCl7bz12ZChpPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4odCU9SGcpP2V8fG4/dmQoeGQodCksRWQoZSxuKSk6eGQodCk6ZXx8bj9FZChlLG4pOl9kfSh5LHYsXyksZSk7dmFyIHQ9ZShnLGQpO3JldHVybiBuPXAtdFswXSpoLHI9Zit0WzFdKmgsTSgpfWZ1bmN0aW9uIE0oKXtyZXR1cm4gbD1jPW51bGwsTn1yZXR1cm4gTi5zdHJlYW09ZnVuY3Rpb24odCl7cmV0dXJuIGwmJmM9PT10P2w6bD1RZCh4KGksSShiKGM9dCkpKSl9LE4uY2xpcEFuZ2xlPWZ1bmN0aW9uKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyh4PSt0P1lkKG09dCpKZyw2KkpnKToobT1udWxsLFhkKSxNKCkpOm0qV2d9LE4uY2xpcEV4dGVudD1mdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oYj1udWxsPT10PyhFPXM9YT11PW51bGwsRmQpOkFkKEU9K3RbMF1bMF0scz0rdFswXVsxXSxhPSt0WzFdWzBdLHU9K3RbMV1bMV0pLE0oKSk6bnVsbD09RT9udWxsOltbRSxzXSxbYSx1XV19LE4uc2NhbGU9ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGg9K3QsUCgpKTpofSxOLnRyYW5zbGF0ZT1mdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8ocD0rdFswXSxmPSt0WzFdLFAoKSk6W3AsZl19LE4uY2VudGVyPWZ1bmN0aW9uKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhnPXRbMF0lMzYwKkpnLGQ9dFsxXSUzNjAqSmcsUCgpKTpbZypXZyxkKldnXX0sTi5yb3RhdGU9ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHk9dFswXSUzNjAqSmcsdj10WzFdJTM2MCpKZyxfPXQubGVuZ3RoPjI/dFsyXSUzNjAqSmc6MCxQKCkpOlt5KldnLHYqV2csXypXZ119LE4ucHJlY2lzaW9uPWZ1bmN0aW9uKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhJPUtkKEMsdz10KnQpLE0oKSk6ZWQodyl9LE4uZml0RXh0ZW50PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIEpkKE4sdCxlKX0sTi5maXRTaXplPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gSmQodCxbWzAsMF0sZV0sbil9KE4sdCxlKX0sZnVuY3Rpb24oKXtyZXR1cm4gZT10LmFwcGx5KHRoaXMsYXJndW1lbnRzKSxOLmludmVydD1lLmludmVydCYmUyxQKCl9fSgoZnVuY3Rpb24oKXtyZXR1cm4gdH0pKSgpfXZhciB0eT1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSxuKXt2YXIgcj0kZyhlKSxpPSRnKG4pLG89dChyKmkpO3JldHVybltvKmkqdGQoZSksbyp0ZChuKV19fSgoZnVuY3Rpb24odCl7cmV0dXJuKHQ9bmQodCkpJiZ0L3RkKHQpfSkpO2Z1bmN0aW9uIGV5KCl7cmV0dXJuICRkKHR5KS5zY2FsZSg3OS40MTg4KS5jbGlwQW5nbGUoMTc5Ljk5OSl9ZnVuY3Rpb24gbnkodCxuLHIsaSl7dmFyIHM9dC5wcm9wZXJ0aWVzfHx7fSxhPSJGZWF0dXJlIj09PXQudHlwZT90Lmdlb21ldHJ5OnQ7aWYoIkdlb21ldHJ5Q29sbGVjdGlvbiI9PT1hLnR5cGUpe3ZhciB1PVtdO3JldHVybiBxKHQsKGZ1bmN0aW9uKHQpe3ZhciBlPW55KHQsbixyLGkpO2UmJnUucHVzaChlKX0pKSxmKHUpfXZhciBsPWZ1bmN0aW9uKHQpe3ZhciBuPXhuKHQpLmdlb21ldHJ5LmNvb3JkaW5hdGVzLHI9Wy1uWzBdLC1uWzFdXTtyZXR1cm4gZXkoKS5yb3RhdGUocikuc2NhbGUoZSl9KGEpLGM9e3R5cGU6YS50eXBlLGNvb3JkaW5hdGVzOml5KGEuY29vcmRpbmF0ZXMsbCl9LGg9KG5ldyBJaCkucmVhZChjKSxwPW0oeChuLHIpLCJtZXRlcnMiKSxnPV9mLmJ1ZmZlck9wKGgscCxpKTtpZighcnkoKGc9KG5ldyBOaCkud3JpdGUoZykpLmNvb3JkaW5hdGVzKSlyZXR1cm4gbyh7dHlwZTpnLnR5cGUsY29vcmRpbmF0ZXM6b3koZy5jb29yZGluYXRlcyxsKX0scyl9ZnVuY3Rpb24gcnkodCl7cmV0dXJuIEFycmF5LmlzQXJyYXkodFswXSk/cnkodFswXSk6aXNOYU4odFswXSl9ZnVuY3Rpb24gaXkodCxlKXtyZXR1cm4ib2JqZWN0IiE9dHlwZW9mIHRbMF0/ZSh0KTp0Lm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIGl5KHQsZSl9KSl9ZnVuY3Rpb24gb3kodCxlKXtyZXR1cm4ib2JqZWN0IiE9dHlwZW9mIHRbMF0/ZS5pbnZlcnQodCk6dC5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiBveSh0LGUpfSkpfWZ1bmN0aW9uIHN5KHQsZSxuKXt2b2lkIDA9PT1uJiYobj17fSk7dmFyIHI9cnQodCksaT1ydChlKSxvPSR1LmludGVyc2VjdGlvbihyLmNvb3JkaW5hdGVzLGkuY29vcmRpbmF0ZXMpO3JldHVybiAwPT09by5sZW5ndGg/bnVsbDoxPT09by5sZW5ndGg/bChvWzBdLG4ucHJvcGVydGllcyk6eShvLG4ucHJvcGVydGllcyl9ZnVuY3Rpb24gYXkodCxlLG4pe3ZvaWQgMD09PW4mJihuPXt9KTt2YXIgcj1KU09OLnN0cmluZ2lmeShuLnByb3BlcnRpZXN8fHt9KSxpPXRbMF0sbz10WzFdLHM9dFsyXSxhPXRbM10sdT0obythKS8yLGw9KGkrcykvMixjPTIqZS9tZShbaSx1XSxbcyx1XSxuKSoocy1pKSxoPTIqZS9tZShbbCxvXSxbbCxhXSxuKSooYS1vKSxwPWMvMixnPTIqcCxkPU1hdGguc3FydCgzKS8yKmgseT1zLWksdj1hLW8sXz0zLzQqZyxtPWQseD0oeS1nKS8oZy1wLzIpLEU9TWF0aC5mbG9vcih4KSxiPShFKl8tcC8yLXkpLzItcC8yK18vMix3PU1hdGguZmxvb3IoKHYtZCkvZCksST0odi13KmQpLzIsTj13KmQtdj5kLzI7TiYmKEktPWQvNCk7Zm9yKHZhciBTPVtdLEM9W10sUD0wO1A8NjtQKyspe3ZhciBNPTIqTWF0aC5QSS82KlA7Uy5wdXNoKE1hdGguY29zKE0pKSxDLnB1c2goTWF0aC5zaW4oTSkpfWZvcih2YXIgTD1bXSxPPTA7Tzw9RTtPKyspZm9yKHZhciBSPTA7Ujw9dztSKyspe3ZhciBUPU8lMj09MTtpZigoMCE9PVJ8fCFUKSYmKDAhPT1SfHwhTikpe3ZhciBBPU8qXytpLWIsRD1SKm0rbytJO2lmKFQmJihELT1kLzIpLCEwPT09bi50cmlhbmdsZXMpbHkoW0EsRF0sYy8yLGgvMixKU09OLnBhcnNlKHIpLFMsQykuZm9yRWFjaCgoZnVuY3Rpb24odCl7bi5tYXNrP3N5KG4ubWFzayx0KSYmTC5wdXNoKHQpOkwucHVzaCh0KX0pKTtlbHNle3ZhciBGPXV5KFtBLERdLGMvMixoLzIsSlNPTi5wYXJzZShyKSxTLEMpO24ubWFzaz9zeShuLm1hc2ssRikmJkwucHVzaChGKTpMLnB1c2goRil9fX1yZXR1cm4gZihMKX1mdW5jdGlvbiB1eSh0LGUsbixyLGksbyl7Zm9yKHZhciBzPVtdLGE9MDthPDY7YSsrKXt2YXIgdT10WzBdK2UqaVthXSxjPXRbMV0rbipvW2FdO3MucHVzaChbdSxjXSl9cmV0dXJuIHMucHVzaChzWzBdLnNsaWNlKCkpLGwoW3NdLHIpfWZ1bmN0aW9uIGx5KHQsZSxuLHIsaSxvKXtmb3IodmFyIHM9W10sYT0wO2E8NjthKyspe3ZhciB1PVtdO3UucHVzaCh0KSx1LnB1c2goW3RbMF0rZSppW2FdLHRbMV0rbipvW2FdXSksdS5wdXNoKFt0WzBdK2UqaVsoYSsxKSU2XSx0WzFdK24qb1soYSsxKSU2XV0pLHUucHVzaCh0KSxzLnB1c2gobChbdV0scikpfXJldHVybiBzfWZ1bmN0aW9uIGN5KHQpe3JldHVybiB5KHQpfWZ1bmN0aW9uIGh5KHQpe3JldHVybiBsKHQmJnQuZ2VvbWV0cnkuY29vcmRpbmF0ZXN8fFtbWzE4MCw5MF0sWy0xODAsOTBdLFstMTgwLC05MF0sWzE4MCwtOTBdLFsxODAsOTBdXV0pfWZ1bmN0aW9uIHB5KHQsZSxuKXtyZXR1cm4gdm9pZCAwPT09biYmKG49e30pLGZ1bmN0aW9uKHQsZSxuLHIpe3ZvaWQgMD09PXImJihyPXt9KTtmb3IodmFyIGk9W10sbz10WzBdLHM9dFsxXSxhPXRbMl0sdT10WzNdLGM9ZS9tZShbbyxzXSxbYSxzXSxyKSooYS1vKSxoPW4vbWUoW28sc10sW28sdV0scikqKHUtcykscD1hLW8sZz11LXMsZD1NYXRoLmZsb29yKHAvYykseT1NYXRoLmZsb29yKGcvaCksdj0oZy15KmgpLzIsXz1vKyhwLWQqYykvMixtPTA7bTxkO20rKyl7Zm9yKHZhciB4PXMrdixFPTA7RTx5O0UrKyl7dmFyIGI9bChbW1tfLHhdLFtfLHgraF0sW18rYyx4K2hdLFtfK2MseF0sW18seF1dXSxyLnByb3BlcnRpZXMpO3IubWFzaz9QcyhyLm1hc2ssYikmJmkucHVzaChiKTppLnB1c2goYikseCs9aH1fKz1jfXJldHVybiBmKGkpfSh0LGUsZSxuKX1mdW5jdGlvbiBmeSh0LGUsbil7dm9pZCAwPT09biYmKG49e30pO2Zvcih2YXIgcj1bXSxpPWUvbWUoW3RbMF0sdFsxXV0sW3RbMl0sdFsxXV0sbikqKHRbMl0tdFswXSksbz1lL21lKFt0WzBdLHRbMV1dLFt0WzBdLHRbM11dLG4pKih0WzNdLXRbMV0pLHM9MCxhPXRbMF07YTw9dFsyXTspe2Zvcih2YXIgdT0wLGM9dFsxXTtjPD10WzNdOyl7dmFyIGg9bnVsbCxwPW51bGw7cyUyPT0wJiZ1JTI9PTA/KGg9bChbW1thLGNdLFthLGMrb10sW2EraSxjXSxbYSxjXV1dLG4ucHJvcGVydGllcykscD1sKFtbW2EsYytvXSxbYStpLGMrb10sW2EraSxjXSxbYSxjK29dXV0sbi5wcm9wZXJ0aWVzKSk6cyUyPT0wJiZ1JTI9PTE/KGg9bChbW1thLGNdLFthK2ksYytvXSxbYStpLGNdLFthLGNdXV0sbi5wcm9wZXJ0aWVzKSxwPWwoW1tbYSxjXSxbYSxjK29dLFthK2ksYytvXSxbYSxjXV1dLG4ucHJvcGVydGllcykpOnUlMj09MCYmcyUyPT0xPyhoPWwoW1tbYSxjXSxbYSxjK29dLFthK2ksYytvXSxbYSxjXV1dLG4ucHJvcGVydGllcykscD1sKFtbW2EsY10sW2EraSxjK29dLFthK2ksY10sW2EsY11dXSxuLnByb3BlcnRpZXMpKTp1JTI9PTEmJnMlMj09MSYmKGg9bChbW1thLGNdLFthLGMrb10sW2EraSxjXSxbYSxjXV1dLG4ucHJvcGVydGllcykscD1sKFtbW2EsYytvXSxbYStpLGMrb10sW2EraSxjXSxbYSxjK29dXV0sbi5wcm9wZXJ0aWVzKSksbi5tYXNrPyhzeShuLm1hc2ssaCkmJnIucHVzaChoKSxzeShuLm1hc2sscCkmJnIucHVzaChwKSk6KHIucHVzaChoKSxyLnB1c2gocCkpLGMrPW8sdSsrfXMrKyxhKz1pfXJldHVybiBmKHIpfXR5LmludmVydD1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSxuKXt2YXIgcj1lZChlKmUrbipuKSxpPXQociksbz10ZChpKSxzPSRnKGkpO3JldHVybltRZyhlKm8scipzKSxyZChyJiZuKm8vcildfX0oKGZ1bmN0aW9uKHQpe3JldHVybiB0fSkpLHQuYWxvbmc9ZnVuY3Rpb24odCxlLG4pe3ZvaWQgMD09PW4mJihuPXt9KTtmb3IodmFyIHI9cnQodCkuY29vcmRpbmF0ZXMsaT0wLG89MDtvPHIubGVuZ3RoJiYhKGU+PWkmJm89PT1yLmxlbmd0aC0xKTtvKyspe2lmKGk+PWUpe3ZhciBzPWUtaTtpZihzKXt2YXIgdT1tbihyW29dLHJbby0xXSktMTgwO3JldHVybiB2bihyW29dLHMsdSxuKX1yZXR1cm4gYShyW29dKX1pKz1tZShyW29dLHJbbysxXSxuKX1yZXR1cm4gYShyW3IubGVuZ3RoLTFdKX0sdC5hbmdsZT1mdW5jdGlvbih0LGUsbixyKXtpZih2b2lkIDA9PT1yJiYocj17fSksIVAocikpdGhyb3cgbmV3IEVycm9yKCJvcHRpb25zIGlzIGludmFsaWQiKTtpZighdCl0aHJvdyBuZXcgRXJyb3IoInN0YXJ0UG9pbnQgaXMgcmVxdWlyZWQiKTtpZighZSl0aHJvdyBuZXcgRXJyb3IoIm1pZFBvaW50IGlzIHJlcXVpcmVkIik7aWYoIW4pdGhyb3cgbmV3IEVycm9yKCJlbmRQb2ludCBpcyByZXF1aXJlZCIpO3ZhciBpPXQsbz1lLHM9bixhPWIoITAhPT1yLm1lcmNhdG9yP21uKGksbyk6QmkoaSxvKSksdT1iKCEwIT09ci5tZXJjYXRvcj9tbihzLG8pOkJpKHMsbykpLGw9TWF0aC5hYnMoYS11KTtyZXR1cm4hMD09PXIuZXhwbGVtZW50YXJ5PzM2MC1sOmx9LHQuYXBwbHlGaWx0ZXI9dXUsdC5hcmVhPWpyLHQuYXJlYUZhY3RvcnM9aSx0LmJib3g9Wix0LmJib3hDbGlwPWZ1bmN0aW9uKHQsZSl7dmFyIG49cnQodCkscj1uLnR5cGUsaT0iRmVhdHVyZSI9PT10LnR5cGU/dC5wcm9wZXJ0aWVzOnt9LG89bi5jb29yZGluYXRlcztzd2l0Y2gocil7Y2FzZSJMaW5lU3RyaW5nIjpjYXNlIk11bHRpTGluZVN0cmluZyI6dmFyIHM9W107cmV0dXJuIkxpbmVTdHJpbmciPT09ciYmKG89W29dKSxvLmZvckVhY2goKGZ1bmN0aW9uKHQpeyFmdW5jdGlvbih0LGUsbil7dmFyIHIsaSxvLHMsYSx1PXQubGVuZ3RoLGw9UmkodFswXSxlKSxjPVtdO2ZvcihufHwobj1bXSkscj0xO3I8dTtyKyspe2ZvcihzPXRbci0xXSxpPW89UmkoYT10W3JdLGUpOzspe2lmKCEobHxpKSl7Yy5wdXNoKHMpLGkhPT1vPyhjLnB1c2goYSkscjx1LTEmJihuLnB1c2goYyksYz1bXSkpOnI9PT11LTEmJmMucHVzaChhKTticmVha31pZihsJmkpYnJlYWs7bD9sPVJpKHM9T2kocyxhLGwsZSksZSk6aT1SaShhPU9pKHMsYSxpLGUpLGUpfWw9b31jLmxlbmd0aCYmbi5wdXNoKGMpfSh0LGUscyl9KSksMT09PXMubGVuZ3RoP2goc1swXSxpKTpnKHMsaSk7Y2FzZSJQb2x5Z29uIjpyZXR1cm4gbChUaShvLGUpLGkpO2Nhc2UiTXVsdGlQb2x5Z29uIjpyZXR1cm4geShvLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIFRpKHQsZSl9KSksaSk7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoImdlb21ldHJ5ICIrcisiIG5vdCBzdXBwb3J0ZWQiKX19LHQuYmJveFBvbHlnb249Z24sdC5iZWFyaW5nPW1uLHQuYmVhcmluZ1RvQW5nbGU9Yix0LmJlYXJpbmdUb0F6aW11dGg9Yix0LmJlemllcj1mbix0LmJlemllclNwbGluZT1mbix0LmJvb2xlYW5DbG9ja3dpc2U9WWksdC5ib29sZWFuQ29udGFpbnM9ZnVuY3Rpb24odCxlKXt2YXIgbj1ydCh0KSxyPXJ0KGUpLGk9bi50eXBlLG89ci50eXBlLHM9bi5jb29yZGluYXRlcyxhPXIuY29vcmRpbmF0ZXM7c3dpdGNoKGkpe2Nhc2UiUG9pbnQiOnN3aXRjaChvKXtjYXNlIlBvaW50IjpyZXR1cm4gdnMocyxhKTtkZWZhdWx0OnRocm93IG5ldyBFcnJvcigiZmVhdHVyZTIgIitvKyIgZ2VvbWV0cnkgbm90IHN1cHBvcnRlZCIpfWNhc2UiTXVsdGlQb2ludCI6c3dpdGNoKG8pe2Nhc2UiUG9pbnQiOnJldHVybiBmdW5jdGlvbih0LGUpe3ZhciBuLHI9ITE7Zm9yKG49MDtuPHQuY29vcmRpbmF0ZXMubGVuZ3RoO24rKylpZih2cyh0LmNvb3JkaW5hdGVzW25dLGUuY29vcmRpbmF0ZXMpKXtyPSEwO2JyZWFrfXJldHVybiByfShuLHIpO2Nhc2UiTXVsdGlQb2ludCI6cmV0dXJuIGZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPTAscj1lLmNvb3JkaW5hdGVzO248ci5sZW5ndGg7bisrKXtmb3IodmFyIGk9cltuXSxvPSExLHM9MCxhPXQuY29vcmRpbmF0ZXM7czxhLmxlbmd0aDtzKyspe2lmKHZzKGksYVtzXSkpe289ITA7YnJlYWt9fWlmKCFvKXJldHVybiExfXJldHVybiEwfShuLHIpO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKCJmZWF0dXJlMiAiK28rIiBnZW9tZXRyeSBub3Qgc3VwcG9ydGVkIil9Y2FzZSJMaW5lU3RyaW5nIjpzd2l0Y2gobyl7Y2FzZSJQb2ludCI6cmV0dXJuIFdyKHIsbix7aWdub3JlRW5kVmVydGljZXM6ITB9KTtjYXNlIkxpbmVTdHJpbmciOnJldHVybiBmdW5jdGlvbih0LGUpe2Zvcih2YXIgbj0hMSxyPTAsaT1lLmNvb3JkaW5hdGVzO3I8aS5sZW5ndGg7cisrKXt2YXIgbz1pW3JdO2lmKFdyKHt0eXBlOiJQb2ludCIsY29vcmRpbmF0ZXM6b30sdCx7aWdub3JlRW5kVmVydGljZXM6ITB9KSYmKG49ITApLCFXcih7dHlwZToiUG9pbnQiLGNvb3JkaW5hdGVzOm99LHQse2lnbm9yZUVuZFZlcnRpY2VzOiExfSkpcmV0dXJuITF9cmV0dXJuIG59KG4scik7Y2FzZSJNdWx0aVBvaW50IjpyZXR1cm4gZnVuY3Rpb24odCxlKXtmb3IodmFyIG49ITEscj0wLGk9ZS5jb29yZGluYXRlcztyPGkubGVuZ3RoO3IrKyl7dmFyIG89aVtyXTtpZihXcihvLHQse2lnbm9yZUVuZFZlcnRpY2VzOiEwfSkmJihuPSEwKSwhV3Iobyx0KSlyZXR1cm4hMX1pZihuKXJldHVybiEwO3JldHVybiExfShuLHIpO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKCJmZWF0dXJlMiAiK28rIiBnZW9tZXRyeSBub3Qgc3VwcG9ydGVkIil9Y2FzZSJQb2x5Z29uIjpzd2l0Y2gobyl7Y2FzZSJQb2ludCI6cmV0dXJuIHllKHIsbix7aWdub3JlQm91bmRhcnk6ITB9KTtjYXNlIkxpbmVTdHJpbmciOnJldHVybiBmdW5jdGlvbih0LGUpe3ZhciBuPSExLHI9MCxpPVoodCksbz1aKGUpO2lmKCF5cyhpLG8pKXJldHVybiExO2Zvcig7cjxlLmNvb3JkaW5hdGVzLmxlbmd0aC0xO3IrKyl7aWYoeWUoe3R5cGU6IlBvaW50Iixjb29yZGluYXRlczpfcyhlLmNvb3JkaW5hdGVzW3JdLGUuY29vcmRpbmF0ZXNbcisxXSl9LHQse2lnbm9yZUJvdW5kYXJ5OiEwfSkpe249ITA7YnJlYWt9fXJldHVybiBufShuLHIpO2Nhc2UiUG9seWdvbiI6cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoIkZlYXR1cmUiPT09dC50eXBlJiZudWxsPT09dC5nZW9tZXRyeSlyZXR1cm4hMTtpZigiRmVhdHVyZSI9PT1lLnR5cGUmJm51bGw9PT1lLmdlb21ldHJ5KXJldHVybiExO3ZhciBuPVoodCkscj1aKGUpO2lmKCF5cyhuLHIpKXJldHVybiExO2Zvcih2YXIgaT1ydChlKS5jb29yZGluYXRlcyxvPTAscz1pO288cy5sZW5ndGg7bysrKWZvcih2YXIgYT0wLHU9c1tvXTthPHUubGVuZ3RoO2ErKyl7aWYoIXllKHVbYV0sdCkpcmV0dXJuITF9cmV0dXJuITB9KG4scik7Y2FzZSJNdWx0aVBvaW50IjpyZXR1cm4gZnVuY3Rpb24odCxlKXtmb3IodmFyIG49MCxyPWUuY29vcmRpbmF0ZXM7bjxyLmxlbmd0aDtuKyspe2lmKCF5ZShyW25dLHQse2lnbm9yZUJvdW5kYXJ5OiEwfSkpcmV0dXJuITF9cmV0dXJuITB9KG4scik7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoImZlYXR1cmUyICIrbysiIGdlb21ldHJ5IG5vdCBzdXBwb3J0ZWQiKX1kZWZhdWx0OnRocm93IG5ldyBFcnJvcigiZmVhdHVyZTEgIitpKyIgZ2VvbWV0cnkgbm90IHN1cHBvcnRlZCIpfX0sdC5ib29sZWFuQ3Jvc3Nlcz1mdW5jdGlvbih0LGUpe3ZhciBuPXJ0KHQpLHI9cnQoZSksaT1uLnR5cGUsbz1yLnR5cGU7c3dpdGNoKGkpe2Nhc2UiTXVsdGlQb2ludCI6c3dpdGNoKG8pe2Nhc2UiTGluZVN0cmluZyI6cmV0dXJuIG1zKG4scik7Y2FzZSJQb2x5Z29uIjpyZXR1cm4gRXMobixyKTtkZWZhdWx0OnRocm93IG5ldyBFcnJvcigiZmVhdHVyZTIgIitvKyIgZ2VvbWV0cnkgbm90IHN1cHBvcnRlZCIpfWNhc2UiTGluZVN0cmluZyI6c3dpdGNoKG8pe2Nhc2UiTXVsdGlQb2ludCI6cmV0dXJuIG1zKHIsbik7Y2FzZSJMaW5lU3RyaW5nIjpyZXR1cm4gZnVuY3Rpb24odCxlKXtpZihPcih0LGUpLmZlYXR1cmVzLmxlbmd0aD4wKWZvcih2YXIgbj0wO248dC5jb29yZGluYXRlcy5sZW5ndGgtMTtuKyspZm9yKHZhciByPTA7cjxlLmNvb3JkaW5hdGVzLmxlbmd0aC0xO3IrKyl7dmFyIGk9ITA7aWYoMCE9PXImJnIhPT1lLmNvb3JkaW5hdGVzLmxlbmd0aC0yfHwoaT0hMSksYnModC5jb29yZGluYXRlc1tuXSx0LmNvb3JkaW5hdGVzW24rMV0sZS5jb29yZGluYXRlc1tyXSxpKSlyZXR1cm4hMH1yZXR1cm4hMX0obixyKTtjYXNlIlBvbHlnb24iOnJldHVybiB4cyhuLHIpO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKCJmZWF0dXJlMiAiK28rIiBnZW9tZXRyeSBub3Qgc3VwcG9ydGVkIil9Y2FzZSJQb2x5Z29uIjpzd2l0Y2gobyl7Y2FzZSJNdWx0aVBvaW50IjpyZXR1cm4gRXMocixuKTtjYXNlIkxpbmVTdHJpbmciOnJldHVybiB4cyhyLG4pO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKCJmZWF0dXJlMiAiK28rIiBnZW9tZXRyeSBub3Qgc3VwcG9ydGVkIil9ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoImZlYXR1cmUxICIraSsiIGdlb21ldHJ5IG5vdCBzdXBwb3J0ZWQiKX19LHQuYm9vbGVhbkRpc2pvaW50PXBzLHQuYm9vbGVhbkVxdWFsPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHJ0KHQpLnR5cGU9PT1ydChlKS50eXBlJiZuZXcgQ3Moe3ByZWNpc2lvbjo2fSkuY29tcGFyZSh0bih0KSx0bihlKSl9LHQuYm9vbGVhbkludGVyc2VjdHM9UHMsdC5ib29sZWFuT3ZlcmxhcD1mdW5jdGlvbih0LGUpe3ZhciBuPXJ0KHQpLHI9cnQoZSksaT1uLnR5cGUsbz1yLnR5cGU7aWYoIk11bHRpUG9pbnQiPT09aSYmIk11bHRpUG9pbnQiIT09b3x8KCJMaW5lU3RyaW5nIj09PWl8fCJNdWx0aUxpbmVTdHJpbmciPT09aSkmJiJMaW5lU3RyaW5nIiE9PW8mJiJNdWx0aUxpbmVTdHJpbmciIT09b3x8KCJQb2x5Z29uIj09PWl8fCJNdWx0aVBvbHlnb24iPT09aSkmJiJQb2x5Z29uIiE9PW8mJiJNdWx0aVBvbHlnb24iIT09byl0aHJvdyBuZXcgRXJyb3IoImZlYXR1cmVzIG11c3QgYmUgb2YgdGhlIHNhbWUgdHlwZSIpO2lmKCJQb2ludCI9PT1pKXRocm93IG5ldyBFcnJvcigiUG9pbnQgZ2VvbWV0cnkgbm90IHN1cHBvcnRlZCIpO2lmKG5ldyBDcyh7cHJlY2lzaW9uOjZ9KS5jb21wYXJlKHQsZSkpcmV0dXJuITE7dmFyIHM9MDtzd2l0Y2goaSl7Y2FzZSJNdWx0aVBvaW50Ijpmb3IodmFyIGE9MDthPG4uY29vcmRpbmF0ZXMubGVuZ3RoO2ErKylmb3IodmFyIHU9MDt1PHIuY29vcmRpbmF0ZXMubGVuZ3RoO3UrKyl7dmFyIGw9bi5jb29yZGluYXRlc1thXSxjPXIuY29vcmRpbmF0ZXNbdV07aWYobFswXT09PWNbMF0mJmxbMV09PT1jWzFdKXJldHVybiEwfXJldHVybiExO2Nhc2UiTGluZVN0cmluZyI6Y2FzZSJNdWx0aUxpbmVTdHJpbmciOlUodCwoZnVuY3Rpb24odCl7VShlLChmdW5jdGlvbihlKXtraSh0LGUpLmZlYXR1cmVzLmxlbmd0aCYmcysrfSkpfSkpO2JyZWFrO2Nhc2UiUG9seWdvbiI6Y2FzZSJNdWx0aVBvbHlnb24iOlUodCwoZnVuY3Rpb24odCl7VShlLChmdW5jdGlvbihlKXtPcih0LGUpLmZlYXR1cmVzLmxlbmd0aCYmcysrfSkpfSkpfXJldHVybiBzPjB9LHQuYm9vbGVhblBhcmFsbGVsPWZ1bmN0aW9uKHQsZSl7aWYoIXQpdGhyb3cgbmV3IEVycm9yKCJsaW5lMSBpcyByZXF1aXJlZCIpO2lmKCFlKXRocm93IG5ldyBFcnJvcigibGluZTIgaXMgcmVxdWlyZWQiKTtpZigiTGluZVN0cmluZyIhPT1Vcyh0LCJsaW5lMSIpKXRocm93IG5ldyBFcnJvcigibGluZTEgbXVzdCBiZSBhIExpbmVTdHJpbmciKTtpZigiTGluZVN0cmluZyIhPT1VcyhlLCJsaW5lMiIpKXRocm93IG5ldyBFcnJvcigibGluZTIgbXVzdCBiZSBhIExpbmVTdHJpbmciKTtmb3IodmFyIG49Wm4odG4odCkpLmZlYXR1cmVzLHI9Wm4odG4oZSkpLmZlYXR1cmVzLGk9MDtpPG4ubGVuZ3RoO2krKyl7dmFyIG89bltpXS5nZW9tZXRyeS5jb29yZGluYXRlcztpZighcltpXSlicmVhaztpZighanMobyxyW2ldLmdlb21ldHJ5LmNvb3JkaW5hdGVzKSlyZXR1cm4hMX1yZXR1cm4hMH0sdC5ib29sZWFuUG9pbnRJblBvbHlnb249eWUsdC5ib29sZWFuUG9pbnRPbkxpbmU9V3IsdC5ib29sZWFuV2l0aGluPVpyLHQuYnVmZmVyPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj0obj1ufHx7fSkudW5pdHN8fCJraWxvbWV0ZXJzIixpPW4uc3RlcHN8fDg7aWYoIXQpdGhyb3cgbmV3IEVycm9yKCJnZW9qc29uIGlzIHJlcXVpcmVkIik7aWYoIm9iamVjdCIhPXR5cGVvZiBuKXRocm93IG5ldyBFcnJvcigib3B0aW9ucyBtdXN0IGJlIGFuIG9iamVjdCIpO2lmKCJudW1iZXIiIT10eXBlb2YgaSl0aHJvdyBuZXcgRXJyb3IoInN0ZXBzIG11c3QgYmUgYW4gbnVtYmVyIik7aWYodm9pZCAwPT09ZSl0aHJvdyBuZXcgRXJyb3IoInJhZGl1cyBpcyByZXF1aXJlZCIpO2lmKGk8PTApdGhyb3cgbmV3IEVycm9yKCJzdGVwcyBtdXN0IGJlIGdyZWF0ZXIgdGhhbiAwIik7dmFyIG89W107c3dpdGNoKHQudHlwZSl7Y2FzZSJHZW9tZXRyeUNvbGxlY3Rpb24iOnJldHVybiBxKHQsKGZ1bmN0aW9uKHQpe3ZhciBuPW55KHQsZSxyLGkpO24mJm8ucHVzaChuKX0pKSxmKG8pO2Nhc2UiRmVhdHVyZUNvbGxlY3Rpb24iOnJldHVybiBGKHQsKGZ1bmN0aW9uKHQpe3ZhciBuPW55KHQsZSxyLGkpO24mJkYobiwoZnVuY3Rpb24odCl7dCYmby5wdXNoKHQpfSkpfSkpLGYobyl9cmV0dXJuIG55KHQsZSxyLGkpfSx0LmNlbnRlcj14bix0LmNlbnRlck1lYW49RmEsdC5jZW50ZXJNZWRpYW49ZnVuY3Rpb24odCxlKXtpZih2b2lkIDA9PT1lJiYoZT17fSksIVAoZT1lfHx7fSkpdGhyb3cgbmV3IEVycm9yKCJvcHRpb25zIGlzIGludmFsaWQiKTt2YXIgbj1lLmNvdW50ZXJ8fDEwO2lmKCFDKG4pKXRocm93IG5ldyBFcnJvcigiY291bnRlciBtdXN0IGJlIGEgbnVtYmVyIik7dmFyIHI9ZS53ZWlnaHQsaT1GYSh0LHt3ZWlnaHQ6ZS53ZWlnaHR9KSxvPWYoW10pO0YodCwoZnVuY3Rpb24odCl7dmFyIGU7by5mZWF0dXJlcy5wdXNoKEVuKHQse3Byb3BlcnRpZXM6e3dlaWdodDpudWxsPT09KGU9dC5wcm9wZXJ0aWVzKXx8dm9pZCAwPT09ZT92b2lkIDA6ZVtyXX19KSl9KSk7dmFyIHM9e3RvbGVyYW5jZTplLnRvbGVyYW5jZSxtZWRpYW5DYW5kaWRhdGVzOltdfTtyZXR1cm4ga2EoaS5nZW9tZXRyeS5jb29yZGluYXRlcyxbMCwwXSxvLHMsbil9LHQuY2VudGVyT2ZNYXNzPWZ1bmN0aW9uIHQoZSxuKXtzd2l0Y2godm9pZCAwPT09biYmKG49e30pLGl0KGUpKXtjYXNlIlBvaW50IjpyZXR1cm4gYShLKGUpLG4ucHJvcGVydGllcyk7Y2FzZSJQb2x5Z29uIjp2YXIgcj1bXTtSKGUsKGZ1bmN0aW9uKHQpe3IucHVzaCh0KX0pKTt2YXIgaSxvLHMsdSxsLGMsaCxwLGY9RW4oZSx7cHJvcGVydGllczpuLnByb3BlcnRpZXN9KSxnPWYuZ2VvbWV0cnkuY29vcmRpbmF0ZXMsZD0wLHk9MCx2PTAsXz1yLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuW3RbMF0tZ1swXSx0WzFdLWdbMV1dfSkpO2ZvcihpPTA7aTxyLmxlbmd0aC0xO2krKyl1PShvPV9baV0pWzBdLGM9b1sxXSxsPShzPV9baSsxXSlbMF0sdis9cD11KihoPXNbMV0pLWwqYyxkKz0odStsKSpwLHkrPShjK2gpKnA7aWYoMD09PXYpcmV0dXJuIGY7dmFyIG09MS8oNiooLjUqdikpO3JldHVybiBhKFtnWzBdK20qZCxnWzFdK20qeV0sbi5wcm9wZXJ0aWVzKTtkZWZhdWx0OnZhciB4PWRlKGUpO3JldHVybiB4P3QoeCx7cHJvcGVydGllczpuLnByb3BlcnRpZXN9KTpFbihlLHtwcm9wZXJ0aWVzOm4ucHJvcGVydGllc30pfX0sdC5jZW50cm9pZD1Fbix0LmNpcmNsZT1fbix0LmNsZWFuQ29vcmRzPXRuLHQuY2xvbmU9SWUsdC5jbHVzdGVyRWFjaD1vdSx0LmNsdXN0ZXJSZWR1Y2U9c3UsdC5jbHVzdGVycz1odSx0LmNsdXN0ZXJzRGJzY2FuPWZ1bmN0aW9uKHQsZSxuKXt2b2lkIDA9PT1uJiYobj17fSksITAhPT1uLm11dGF0ZSYmKHQ9SWUodCkpLG4ubWluUG9pbnRzPW4ubWluUG9pbnRzfHwzO3ZhciByPW5ldyBUcy5EQlNDQU4saT1yLnJ1bihHKHQpLE4oZSxuLnVuaXRzKSxuLm1pblBvaW50cyxtZSksbz0tMTtyZXR1cm4gaS5mb3JFYWNoKChmdW5jdGlvbihlKXtvKyssZS5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgbj10LmZlYXR1cmVzW2VdO24ucHJvcGVydGllc3x8KG4ucHJvcGVydGllcz17fSksbi5wcm9wZXJ0aWVzLmNsdXN0ZXI9byxuLnByb3BlcnRpZXMuZGJzY2FuPSJjb3JlIn0pKX0pKSxyLm5vaXNlLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciBuPXQuZmVhdHVyZXNbZV07bi5wcm9wZXJ0aWVzfHwobi5wcm9wZXJ0aWVzPXt9KSxuLnByb3BlcnRpZXMuY2x1c3Rlcj9uLnByb3BlcnRpZXMuZGJzY2FuPSJlZGdlIjpuLnByb3BlcnRpZXMuZGJzY2FuPSJub2lzZSJ9KSksdH0sdC5jbHVzdGVyc0ttZWFucz1mdW5jdGlvbih0LGUpe3ZvaWQgMD09PWUmJihlPXt9KTt2YXIgbj10LmZlYXR1cmVzLmxlbmd0aDtlLm51bWJlck9mQ2x1c3RlcnM9ZS5udW1iZXJPZkNsdXN0ZXJzfHxNYXRoLnJvdW5kKE1hdGguc3FydChuLzIpKSxlLm51bWJlck9mQ2x1c3RlcnM+biYmKGUubnVtYmVyT2ZDbHVzdGVycz1uKSwhMCE9PWUubXV0YXRlJiYodD1JZSh0KSk7dmFyIHI9Ryh0KSxpPXIuc2xpY2UoMCxlLm51bWJlck9mQ2x1c3RlcnMpLG89enMocixlLm51bWJlck9mQ2x1c3RlcnMsaSkscz17fTtyZXR1cm4gby5jZW50cm9pZHMuZm9yRWFjaCgoZnVuY3Rpb24odCxlKXtzW2VdPXR9KSksRih0LChmdW5jdGlvbih0LGUpe3ZhciBuPW8uaWR4c1tlXTt0LnByb3BlcnRpZXMuY2x1c3Rlcj1uLHQucHJvcGVydGllcy5jZW50cm9pZD1zW25dfSkpLHR9LHQuY29sbGVjdD1mdW5jdGlvbih0LGUsbixyKXt2YXIgaT1OdCg2KSxvPWUuZmVhdHVyZXMubWFwKChmdW5jdGlvbih0KXt2YXIgZTtyZXR1cm57bWluWDp0Lmdlb21ldHJ5LmNvb3JkaW5hdGVzWzBdLG1pblk6dC5nZW9tZXRyeS5jb29yZGluYXRlc1sxXSxtYXhYOnQuZ2VvbWV0cnkuY29vcmRpbmF0ZXNbMF0sbWF4WTp0Lmdlb21ldHJ5LmNvb3JkaW5hdGVzWzFdLHByb3BlcnR5Om51bGw9PT0oZT10LnByb3BlcnRpZXMpfHx2b2lkIDA9PT1lP3ZvaWQgMDplW25dfX0pKTtyZXR1cm4gaS5sb2FkKG8pLHQuZmVhdHVyZXMuZm9yRWFjaCgoZnVuY3Rpb24odCl7dC5wcm9wZXJ0aWVzfHwodC5wcm9wZXJ0aWVzPXt9KTt2YXIgZT1aKHQpLG49aS5zZWFyY2goe21pblg6ZVswXSxtaW5ZOmVbMV0sbWF4WDplWzJdLG1heFk6ZVszXX0pLG89W107bi5mb3JFYWNoKChmdW5jdGlvbihlKXt5ZShbZS5taW5YLGUubWluWV0sdCkmJm8ucHVzaChlLnByb3BlcnR5KX0pKSx0LnByb3BlcnRpZXNbcl09b30pKSx0fSx0LmNvbGxlY3Rpb25PZj1udCx0LmNvbWJpbmU9ZnVuY3Rpb24odCl7dmFyIGU9e011bHRpUG9pbnQ6e2Nvb3JkaW5hdGVzOltdLHByb3BlcnRpZXM6W119LE11bHRpTGluZVN0cmluZzp7Y29vcmRpbmF0ZXM6W10scHJvcGVydGllczpbXX0sTXVsdGlQb2x5Z29uOntjb29yZGluYXRlczpbXSxwcm9wZXJ0aWVzOltdfX07cmV0dXJuIEYodCwoZnVuY3Rpb24odCl7dmFyIG4scixpLG87c3dpdGNoKG51bGw9PT0obz10Lmdlb21ldHJ5KXx8dm9pZCAwPT09bz92b2lkIDA6by50eXBlKXtjYXNlIlBvaW50IjplLk11bHRpUG9pbnQuY29vcmRpbmF0ZXMucHVzaCh0Lmdlb21ldHJ5LmNvb3JkaW5hdGVzKSxlLk11bHRpUG9pbnQucHJvcGVydGllcy5wdXNoKHQucHJvcGVydGllcyk7YnJlYWs7Y2FzZSJNdWx0aVBvaW50Ijoobj1lLk11bHRpUG9pbnQuY29vcmRpbmF0ZXMpLnB1c2guYXBwbHkobix0Lmdlb21ldHJ5LmNvb3JkaW5hdGVzKSxlLk11bHRpUG9pbnQucHJvcGVydGllcy5wdXNoKHQucHJvcGVydGllcyk7YnJlYWs7Y2FzZSJMaW5lU3RyaW5nIjplLk11bHRpTGluZVN0cmluZy5jb29yZGluYXRlcy5wdXNoKHQuZ2VvbWV0cnkuY29vcmRpbmF0ZXMpLGUuTXVsdGlMaW5lU3RyaW5nLnByb3BlcnRpZXMucHVzaCh0LnByb3BlcnRpZXMpO2JyZWFrO2Nhc2UiTXVsdGlMaW5lU3RyaW5nIjoocj1lLk11bHRpTGluZVN0cmluZy5jb29yZGluYXRlcykucHVzaC5hcHBseShyLHQuZ2VvbWV0cnkuY29vcmRpbmF0ZXMpLGUuTXVsdGlMaW5lU3RyaW5nLnByb3BlcnRpZXMucHVzaCh0LnByb3BlcnRpZXMpO2JyZWFrO2Nhc2UiUG9seWdvbiI6ZS5NdWx0aVBvbHlnb24uY29vcmRpbmF0ZXMucHVzaCh0Lmdlb21ldHJ5LmNvb3JkaW5hdGVzKSxlLk11bHRpUG9seWdvbi5wcm9wZXJ0aWVzLnB1c2godC5wcm9wZXJ0aWVzKTticmVhaztjYXNlIk11bHRpUG9seWdvbiI6KGk9ZS5NdWx0aVBvbHlnb24uY29vcmRpbmF0ZXMpLnB1c2guYXBwbHkoaSx0Lmdlb21ldHJ5LmNvb3JkaW5hdGVzKSxlLk11bHRpUG9seWdvbi5wcm9wZXJ0aWVzLnB1c2godC5wcm9wZXJ0aWVzKX19KSksZihPYmplY3Qua2V5cyhlKS5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiBlW3RdLmNvb3JkaW5hdGVzLmxlbmd0aH0pKS5zb3J0KCkubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gbyh7dHlwZTp0LGNvb3JkaW5hdGVzOmVbdF0uY29vcmRpbmF0ZXN9LHtjb2xsZWN0ZWRQcm9wZXJ0aWVzOmVbdF0ucHJvcGVydGllc30pfSkpKX0sdC5jb25jYXZlPWZ1bmN0aW9uKHQsZSl7dm9pZCAwPT09ZSYmKGU9e30pO3ZhciBuPWUubWF4RWRnZXx8MS8wLHI9eGUoZnVuY3Rpb24odCl7dmFyIGU9W10sbj17fTtyZXR1cm4gRih0LChmdW5jdGlvbih0KXtpZih0Lmdlb21ldHJ5KXt2YXIgcj10Lmdlb21ldHJ5LmNvb3JkaW5hdGVzLmpvaW4oIi0iKTtPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobixyKXx8KGUucHVzaCh0KSxuW3JdPSEwKX19KSksZihlKX0odCkpO2lmKHIuZmVhdHVyZXM9ci5mZWF0dXJlcy5maWx0ZXIoKGZ1bmN0aW9uKHQpe3ZhciByPXQuZ2VvbWV0cnkuY29vcmRpbmF0ZXNbMF1bMF0saT10Lmdlb21ldHJ5LmNvb3JkaW5hdGVzWzBdWzFdLG89dC5nZW9tZXRyeS5jb29yZGluYXRlc1swXVsyXSxzPW1lKHIsaSxlKSxhPW1lKGksbyxlKSx1PW1lKHIsbyxlKTtyZXR1cm4gczw9biYmYTw9biYmdTw9bn0pKSxyLmZlYXR1cmVzLmxlbmd0aDwxKXJldHVybiBudWxsO3ZhciBpPSRlKHIpO3JldHVybiAxPT09aS5jb29yZGluYXRlcy5sZW5ndGgmJihpLmNvb3JkaW5hdGVzPWkuY29vcmRpbmF0ZXNbMF0saS50eXBlPSJQb2x5Z29uIiksbyhpKX0sdC5jb250YWluc051bWJlcj0kLHQuY29udmVydEFyZWE9Uyx0LmNvbnZlcnREaXN0YW5jZT1OLHQuY29udmVydExlbmd0aD1OLHQuY29udmV4PWRlLHQuY29vcmRBbGw9Ryx0LmNvb3JkRWFjaD1SLHQuY29vcmRSZWR1Y2U9VCx0LmNyZWF0ZUJpbnM9YXUsdC5kZWdyZWVzMnJhZGlhbnM9SSx0LmRlZ3JlZXNUb1JhZGlhbnM9SSx0LmRlc3RpbmF0aW9uPXZuLHQuZGlmZmVyZW5jZT1mdW5jdGlvbih0LGUpe3ZhciBuPXJ0KHQpLHI9cnQoZSksaT10LnByb3BlcnRpZXN8fHt9LG89JHUuZGlmZmVyZW5jZShuLmNvb3JkaW5hdGVzLHIuY29vcmRpbmF0ZXMpO3JldHVybiAwPT09by5sZW5ndGg/bnVsbDoxPT09by5sZW5ndGg/bChvWzBdLGkpOnkobyxpKX0sdC5kaXNzb2x2ZT1mdW5jdGlvbih0LGUpe2lmKCFQKGU9ZXx8e30pKXRocm93IG5ldyBFcnJvcigib3B0aW9ucyBpcyBpbnZhbGlkIik7dmFyIG49ZS5wcm9wZXJ0eU5hbWU7bnQodCwiUG9seWdvbiIsImRpc3NvbHZlIik7dmFyIHI9W107aWYoIWUucHJvcGVydHlOYW1lKXJldHVybiBuaSh5KCR1LnVuaW9uLmFwcGx5KG51bGwsdC5mZWF0dXJlcy5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0Lmdlb21ldHJ5LmNvb3JkaW5hdGVzfSkpKSkpO3ZhciBpPXt9O0YodCwoZnVuY3Rpb24odCl7T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGksdC5wcm9wZXJ0aWVzW25dKXx8KGlbdC5wcm9wZXJ0aWVzW25dXT1bXSksaVt0LnByb3BlcnRpZXNbbl1dLnB1c2godCl9KSk7Zm9yKHZhciBvPU9iamVjdC5rZXlzKGkpLHM9MDtzPG8ubGVuZ3RoO3MrKyl7dmFyIGE9eSgkdS51bmlvbi5hcHBseShudWxsLGlbb1tzXV0ubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdC5nZW9tZXRyeS5jb29yZGluYXRlc30pKSkpO2EucHJvcGVydGllc1tuXT1vW3NdLHIucHVzaChhKX1yZXR1cm4gbmkoZihyKSl9LHQuZGlzdGFuY2U9bWUsdC5kaXN0YW5jZVRvRGVncmVlcz1FLHQuZGlzdGFuY2VUb1JhZGlhbnM9eCx0LmRpc3RhbmNlV2VpZ2h0PWphLHQuZWFydGhSYWRpdXM9ZSx0LmVsbGlwc2U9QWEsdC5lbnZlbG9wZT1kbix0LmV4cGxvZGU9Ym4sdC5mYWN0b3JzPW4sdC5mZWF0dXJlPW8sdC5mZWF0dXJlQ29sbGVjdGlvbj1mLHQuZmVhdHVyZUVhY2g9Rix0LmZlYXR1cmVPZj1ldCx0LmZlYXR1cmVSZWR1Y2U9ayx0LmZpbHRlclByb3BlcnRpZXM9Y3UsdC5maW5kUG9pbnQ9Vyx0LmZpbmRTZWdtZW50PUgsdC5mbGF0dGVuPW5pLHQuZmxhdHRlbkVhY2g9eix0LmZsYXR0ZW5SZWR1Y2U9aix0LmZsaXA9ZnVuY3Rpb24odCxlKXtpZighUChlPWV8fHt9KSl0aHJvdyBuZXcgRXJyb3IoIm9wdGlvbnMgaXMgaW52YWxpZCIpO3ZhciBuPWUubXV0YXRlO2lmKCF0KXRocm93IG5ldyBFcnJvcigiZ2VvanNvbiBpcyByZXF1aXJlZCIpO3JldHVybiExIT09biYmdm9pZCAwIT09bnx8KHQ9SWUodCkpLFIodCwoZnVuY3Rpb24odCl7dmFyIGU9dFswXSxuPXRbMV07dFswXT1uLHRbMV09ZX0pKSx0fSx0Lmdlb2pzb25UeXBlPXR0LHQuZ2VvbUVhY2g9cSx0Lmdlb21SZWR1Y2U9Qix0Lmdlb21ldHJ5PXMsdC5nZW9tZXRyeUNvbGxlY3Rpb249dix0LmdldENsdXN0ZXI9aXUsdC5nZXRDb29yZD1LLHQuZ2V0Q29vcmRzPVEsdC5nZXRHZW9tPXJ0LHQuZ2V0VHlwZT1pdCx0LmdyZWF0Q2lyY2xlPWZ1bmN0aW9uKHQsZSxuKXtpZigib2JqZWN0IiE9dHlwZW9mKG49bnx8e30pKXRocm93IG5ldyBFcnJvcigib3B0aW9ucyBpcyBpbnZhbGlkIik7dmFyIHI9bi5wcm9wZXJ0aWVzLGk9bi5ucG9pbnRzLG89bi5vZmZzZXQ7cmV0dXJuIHQ9Syh0KSxlPUsoZSkscj1yfHx7fSxpPWl8fDEwMCxvPW98fDEwLG5ldyB2aSh7eDp0WzBdLHk6dFsxXX0se3g6ZVswXSx5OmVbMV19LHIpLkFyYyhpLHtvZmZzZXQ6b30pLmpzb24oKX0sdC5oZWxwZXJzPU8sdC5oZXhHcmlkPWF5LHQuaW5zaWRlPXllLHQuaW50ZXJwb2xhdGU9ZnVuY3Rpb24odCxlLG4pe2lmKCJvYmplY3QiIT10eXBlb2Yobj1ufHx7fSkpdGhyb3cgbmV3IEVycm9yKCJvcHRpb25zIGlzIGludmFsaWQiKTt2YXIgcj1uLmdyaWRUeXBlLGk9bi5wcm9wZXJ0eSxvPW4ud2VpZ2h0O2lmKCF0KXRocm93IG5ldyBFcnJvcigicG9pbnRzIGlzIHJlcXVpcmVkIik7aWYobnQodCwiUG9pbnQiLCJpbnB1dCBtdXN0IGNvbnRhaW4gUG9pbnRzIiksIWUpdGhyb3cgbmV3IEVycm9yKCJjZWxsU2l6ZSBpcyByZXF1aXJlZCIpO2lmKHZvaWQgMCE9PW8mJiJudW1iZXIiIT10eXBlb2Ygbyl0aHJvdyBuZXcgRXJyb3IoIndlaWdodCBtdXN0IGJlIGEgbnVtYmVyIik7aT1pfHwiZWxldmF0aW9uIixyPXJ8fCJzcXVhcmUiLG89b3x8MTt2YXIgcyxhPVoodCk7c3dpdGNoKHIpe2Nhc2UicG9pbnQiOmNhc2UicG9pbnRzIjpzPXRpKGEsZSxuKTticmVhaztjYXNlInNxdWFyZSI6Y2FzZSJzcXVhcmVzIjpzPXB5KGEsZSxuKTticmVhaztjYXNlImhleCI6Y2FzZSJoZXhlcyI6cz1heShhLGUsbik7YnJlYWs7Y2FzZSJ0cmlhbmdsZSI6Y2FzZSJ0cmlhbmdsZXMiOnM9ZnkoYSxlLG4pO2JyZWFrO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKCJpbnZhbGlkIGdyaWRUeXBlIil9dmFyIHU9W107cmV0dXJuIEYocywoZnVuY3Rpb24oZSl7dmFyIHM9MCxhPTA7Rih0LChmdW5jdGlvbih0KXt2YXIgdSxsPW1lKCJwb2ludCI9PT1yP2U6RW4oZSksdCxuKTtpZih2b2lkIDAhPT1pJiYodT10LnByb3BlcnRpZXNbaV0pLHZvaWQgMD09PXUmJih1PXQuZ2VvbWV0cnkuY29vcmRpbmF0ZXNbMl0pLHZvaWQgMD09PXUpdGhyb3cgbmV3IEVycm9yKCJ6VmFsdWUgaXMgbWlzc2luZyIpOzA9PT1sJiYocz11KTt2YXIgYz0xL01hdGgucG93KGwsbyk7YSs9YyxzKz1jKnV9KSk7dmFyIGw9SWUoZSk7bC5wcm9wZXJ0aWVzW2ldPXMvYSx1LnB1c2gobCl9KSksZih1KX0sdC5pbnRlcnNlY3Q9c3ksdC5pbnZhcmlhbnQ9b3QsdC5pc051bWJlcj1DLHQuaXNPYmplY3Q9UCx0Lmlzb2JhbmRzPWZ1bmN0aW9uKHQsZSxuKXtpZighUChuPW58fHt9KSl0aHJvdyBuZXcgRXJyb3IoIm9wdGlvbnMgaXMgaW52YWxpZCIpO3ZhciByPW4uelByb3BlcnR5fHwiZWxldmF0aW9uIixpPW4uY29tbW9uUHJvcGVydGllc3x8e30sbz1uLmJyZWFrc1Byb3BlcnRpZXN8fFtdO2lmKG50KHQsIlBvaW50IiwiSW5wdXQgbXVzdCBjb250YWluIFBvaW50cyIpLCFlKXRocm93IG5ldyBFcnJvcigiYnJlYWtzIGlzIHJlcXVpcmVkIik7aWYoIUFycmF5LmlzQXJyYXkoZSkpdGhyb3cgbmV3IEVycm9yKCJicmVha3MgaXMgbm90IGFuIEFycmF5Iik7aWYoIVAoaSkpdGhyb3cgbmV3IEVycm9yKCJjb21tb25Qcm9wZXJ0aWVzIGlzIG5vdCBhbiBPYmplY3QiKTtpZighQXJyYXkuaXNBcnJheShvKSl0aHJvdyBuZXcgRXJyb3IoImJyZWFrc1Byb3BlcnRpZXMgaXMgbm90IGFuIEFycmF5Iik7dmFyIHM9WmkodCx7elByb3BlcnR5OnIsZmxpcDohMH0pLGE9ZnVuY3Rpb24odCxlLG4pe2Zvcih2YXIgcj1bXSxpPTE7aTxlLmxlbmd0aDtpKyspe3ZhciBvPStlW2ktMV0scz0rZVtpXSxhPVpvKEpvKCRpKHQsbyxzLW8pKSksdT17fTt1Lmdyb3VwZWRSaW5ncz1hLHVbbl09bysiLSIrcyxyLnB1c2godSl9cmV0dXJuIHJ9KHMsZSxyKTtyZXR1cm4gZigoYT1mdW5jdGlvbih0LGUsbil7dmFyIHI9WihuKSxpPXJbMl0tclswXSxvPXJbM10tclsxXSxzPXJbMF0sYT1yWzFdLHU9ZVswXS5sZW5ndGgtMSxsPWUubGVuZ3RoLTEsYz1pL3UsaD1vL2wscD1mdW5jdGlvbih0KXt0WzBdPXRbMF0qYytzLHRbMV09dFsxXSpoK2F9O3JldHVybiB0LmZvckVhY2goKGZ1bmN0aW9uKHQpe3QuZ3JvdXBlZFJpbmdzLmZvckVhY2goKGZ1bmN0aW9uKHQpe3QuZm9yRWFjaCgoZnVuY3Rpb24odCl7dC5mb3JFYWNoKHApfSkpfSkpfSkpLHR9KGEscyx0KSkubWFwKChmdW5jdGlvbih0LGUpe2lmKG9bZV0mJiFQKG9bZV0pKXRocm93IG5ldyBFcnJvcigiRWFjaCBtYXBwZWRQcm9wZXJ0eSBpcyByZXF1aXJlZCB0byBiZSBhbiBPYmplY3QiKTt2YXIgbj1jdCh7fSxpLG9bZV0pO3JldHVybiBuW3JdPXRbcl0seSh0Lmdyb3VwZWRSaW5ncyxuKX0pKSl9LHQuaXNvbGluZXM9ZnVuY3Rpb24odCxlLG4pe2lmKCFQKG49bnx8e30pKXRocm93IG5ldyBFcnJvcigib3B0aW9ucyBpcyBpbnZhbGlkIik7dmFyIHI9bi56UHJvcGVydHl8fCJlbGV2YXRpb24iLGk9bi5jb21tb25Qcm9wZXJ0aWVzfHx7fSxvPW4uYnJlYWtzUHJvcGVydGllc3x8W107aWYobnQodCwiUG9pbnQiLCJJbnB1dCBtdXN0IGNvbnRhaW4gUG9pbnRzIiksIWUpdGhyb3cgbmV3IEVycm9yKCJicmVha3MgaXMgcmVxdWlyZWQiKTtpZighQXJyYXkuaXNBcnJheShlKSl0aHJvdyBuZXcgRXJyb3IoImJyZWFrcyBtdXN0IGJlIGFuIEFycmF5Iik7aWYoIVAoaSkpdGhyb3cgbmV3IEVycm9yKCJjb21tb25Qcm9wZXJ0aWVzIG11c3QgYmUgYW4gT2JqZWN0Iik7aWYoIUFycmF5LmlzQXJyYXkobykpdGhyb3cgbmV3IEVycm9yKCJicmVha3NQcm9wZXJ0aWVzIG11c3QgYmUgYW4gQXJyYXkiKTt2YXIgcz1fdCh0LHt6UHJvcGVydHk6cixmbGlwOiEwfSk7cmV0dXJuIGYoZnVuY3Rpb24odCxlLG4pe3ZhciByPVoobiksaT1yWzJdLXJbMF0sbz1yWzNdLXJbMV0scz1yWzBdLGE9clsxXSx1PWVbMF0ubGVuZ3RoLTEsbD1lLmxlbmd0aC0xLGM9aS91LGg9by9sLHA9ZnVuY3Rpb24odCl7dFswXT10WzBdKmMrcyx0WzFdPXRbMV0qaCthfTtyZXR1cm4gdC5mb3JFYWNoKChmdW5jdGlvbih0KXtSKHQscCl9KSksdH0oZnVuY3Rpb24odCxlLG4scixpKXtmb3IodmFyIG89W10scz0xO3M8ZS5sZW5ndGg7cysrKXt2YXIgYT0rZVtzXSx1PWN0KHt9LHIsaVtzXSk7dVtuXT1hO3ZhciBsPWcoZnQodCxhKSx1KTtvLnB1c2gobCl9cmV0dXJuIG99KHMsZSxyLGksbykscyx0KSl9LHQua2lua3M9ZnVuY3Rpb24odCl7dmFyIGUsbixyPXt0eXBlOiJGZWF0dXJlQ29sbGVjdGlvbiIsZmVhdHVyZXM6W119O2lmKCJMaW5lU3RyaW5nIj09PShuPSJGZWF0dXJlIj09PXQudHlwZT90Lmdlb21ldHJ5OnQpLnR5cGUpZT1bbi5jb29yZGluYXRlc107ZWxzZSBpZigiTXVsdGlMaW5lU3RyaW5nIj09PW4udHlwZSllPW4uY29vcmRpbmF0ZXM7ZWxzZSBpZigiTXVsdGlQb2x5Z29uIj09PW4udHlwZSllPVtdLmNvbmNhdC5hcHBseShbXSxuLmNvb3JkaW5hdGVzKTtlbHNle2lmKCJQb2x5Z29uIiE9PW4udHlwZSl0aHJvdyBuZXcgRXJyb3IoIklucHV0IG11c3QgYmUgYSBMaW5lU3RyaW5nLCBNdWx0aUxpbmVTdHJpbmcsIFBvbHlnb24sIG9yIE11bHRpUG9seWdvbiBGZWF0dXJlIG9yIEdlb21ldHJ5Iik7ZT1uLmNvb3JkaW5hdGVzfXJldHVybiBlLmZvckVhY2goKGZ1bmN0aW9uKHQpe2UuZm9yRWFjaCgoZnVuY3Rpb24oZSl7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aC0xO24rKylmb3IodmFyIGk9bjtpPGUubGVuZ3RoLTE7aSsrKXtpZih0PT09ZSl7aWYoMT09PU1hdGguYWJzKG4taSkpY29udGludWU7aWYoMD09PW4mJmk9PT10Lmxlbmd0aC0yJiZ0W25dWzBdPT09dFt0Lmxlbmd0aC0xXVswXSYmdFtuXVsxXT09PXRbdC5sZW5ndGgtMV1bMV0pY29udGludWV9dmFyIG89R3IodFtuXVswXSx0W25dWzFdLHRbbisxXVswXSx0W24rMV1bMV0sZVtpXVswXSxlW2ldWzFdLGVbaSsxXVswXSxlW2krMV1bMV0pO28mJnIuZmVhdHVyZXMucHVzaChhKFtvWzBdLG9bMV1dKSl9fSkpfSkpLHJ9LHQubGVuZ3RoPVlyLHQubGVuZ3RoVG9EZWdyZWVzPUUsdC5sZW5ndGhUb1JhZGlhbnM9eCx0LmxpbmVBcmM9YmksdC5saW5lQ2h1bms9ZnVuY3Rpb24odCxlLG4pe2lmKCFQKG49bnx8e30pKXRocm93IG5ldyBFcnJvcigib3B0aW9ucyBpcyBpbnZhbGlkIik7dmFyIHI9bi51bml0cyxpPW4ucmV2ZXJzZTtpZighdCl0aHJvdyBuZXcgRXJyb3IoImdlb2pzb24gaXMgcmVxdWlyZWQiKTtpZihlPD0wKXRocm93IG5ldyBFcnJvcigic2VnbWVudExlbmd0aCBtdXN0IGJlIGdyZWF0ZXIgdGhhbiAwIik7dmFyIG89W107cmV0dXJuIHoodCwoZnVuY3Rpb24odCl7aSYmKHQuZ2VvbWV0cnkuY29vcmRpbmF0ZXM9dC5nZW9tZXRyeS5jb29yZGluYXRlcy5yZXZlcnNlKCkpLGZ1bmN0aW9uKHQsZSxuLHIpe3ZhciBpPVlyKHQse3VuaXRzOm59KTtpZihpPD1lKXJldHVybiByKHQpO3ZhciBvPWkvZTtOdW1iZXIuaXNJbnRlZ2VyKG8pfHwobz1NYXRoLmZsb29yKG8pKzEpO2Zvcih2YXIgcz0wO3M8bztzKyspe3IoSHIodCxlKnMsZSoocysxKSx7dW5pdHM6bn0pLHMpfX0odCxlLHIsKGZ1bmN0aW9uKHQpe28ucHVzaCh0KX0pKX0pKSxmKG8pfSx0LmxpbmVEaXN0YW5jZT1Zcix0LmxpbmVFYWNoPVgsdC5saW5lSW50ZXJzZWN0PU9yLHQubGluZU9mZnNldD1mdW5jdGlvbih0LGUsbil7aWYoIVAobj1ufHx7fSkpdGhyb3cgbmV3IEVycm9yKCJvcHRpb25zIGlzIGludmFsaWQiKTt2YXIgcj1uLnVuaXRzO2lmKCF0KXRocm93IG5ldyBFcnJvcigiZ2VvanNvbiBpcyByZXF1aXJlZCIpO2lmKG51bGw9PWV8fGlzTmFOKGUpKXRocm93IG5ldyBFcnJvcigiZGlzdGFuY2UgaXMgcmVxdWlyZWQiKTt2YXIgaT1pdCh0KSxvPXQucHJvcGVydGllcztzd2l0Y2goaSl7Y2FzZSJMaW5lU3RyaW5nIjpyZXR1cm4gb3ModCxlLHIpO2Nhc2UiTXVsdGlMaW5lU3RyaW5nIjp2YXIgcz1bXTtyZXR1cm4geih0LChmdW5jdGlvbih0KXtzLnB1c2gob3ModCxlLHIpLmdlb21ldHJ5LmNvb3JkaW5hdGVzKX0pKSxnKHMsbyk7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoImdlb21ldHJ5ICIraSsiIGlzIG5vdCBzdXBwb3J0ZWQiKX19LHQubGluZU92ZXJsYXA9a2ksdC5saW5lUmVkdWNlPVksdC5saW5lU2VnbWVudD1abix0LmxpbmVTbGljZT1mdW5jdGlvbih0LGUsbil7dmFyIHI9UShuKTtpZigiTGluZVN0cmluZyIhPT1pdChuKSl0aHJvdyBuZXcgRXJyb3IoImxpbmUgbXVzdCBiZSBhIExpbmVTdHJpbmciKTtmb3IodmFyIGksbz1UcihuLHQpLHM9VHIobixlKSxhPVsoaT1vLnByb3BlcnRpZXMuaW5kZXg8PXMucHJvcGVydGllcy5pbmRleD9bbyxzXTpbcyxvXSlbMF0uZ2VvbWV0cnkuY29vcmRpbmF0ZXNdLHU9aVswXS5wcm9wZXJ0aWVzLmluZGV4KzE7dTxpWzFdLnByb3BlcnRpZXMuaW5kZXgrMTt1KyspYS5wdXNoKHJbdV0pO3JldHVybiBhLnB1c2goaVsxXS5nZW9tZXRyeS5jb29yZGluYXRlcyksaChhLG4ucHJvcGVydGllcyl9LHQubGluZVNsaWNlQWxvbmc9SHIsdC5saW5lU3BsaXQ9ZnVuY3Rpb24odCxlKXtpZighdCl0aHJvdyBuZXcgRXJyb3IoImxpbmUgaXMgcmVxdWlyZWQiKTtpZighZSl0aHJvdyBuZXcgRXJyb3IoInNwbGl0dGVyIGlzIHJlcXVpcmVkIik7dmFyIG49aXQodCkscj1pdChlKTtpZigiTGluZVN0cmluZyIhPT1uKXRocm93IG5ldyBFcnJvcigibGluZSBtdXN0IGJlIExpbmVTdHJpbmciKTtpZigiRmVhdHVyZUNvbGxlY3Rpb24iPT09cil0aHJvdyBuZXcgRXJyb3IoInNwbGl0dGVyIGNhbm5vdCBiZSBhIEZlYXR1cmVDb2xsZWN0aW9uIik7aWYoIkdlb21ldHJ5Q29sbGVjdGlvbiI9PT1yKXRocm93IG5ldyBFcnJvcigic3BsaXR0ZXIgY2Fubm90IGJlIGEgR2VvbWV0cnlDb2xsZWN0aW9uIik7dmFyIGk9ZWkoZSx7cHJlY2lzaW9uOjd9KTtzd2l0Y2gocil7Y2FzZSJQb2ludCI6cmV0dXJuIG1pKHQsaSk7Y2FzZSJNdWx0aVBvaW50IjpyZXR1cm4gX2kodCxpKTtjYXNlIkxpbmVTdHJpbmciOmNhc2UiTXVsdGlMaW5lU3RyaW5nIjpjYXNlIlBvbHlnb24iOmNhc2UiTXVsdGlQb2x5Z29uIjpyZXR1cm4gX2kodCxPcih0LGkpKX19LHQubGluZVN0cmluZz1oLHQubGluZVN0cmluZ1RvUG9seWdvbj1DaSx0LmxpbmVTdHJpbmdzPXAsdC5saW5lVG9Qb2x5Z29uPUNpLHQubWFzaz1mdW5jdGlvbih0LGUpe3ZhciBuLHI9aHkoZSksaT1udWxsO3JldHVybiJGZWF0dXJlQ29sbGVjdGlvbiI9PT10LnR5cGU/aT1jeSgyPT09KG49dCkuZmVhdHVyZXMubGVuZ3RoPyR1LnVuaW9uKG4uZmVhdHVyZXNbMF0uZ2VvbWV0cnkuY29vcmRpbmF0ZXMsbi5mZWF0dXJlc1sxXS5nZW9tZXRyeS5jb29yZGluYXRlcyk6JHUudW5pb24uYXBwbHkoJHUsbi5mZWF0dXJlcy5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0Lmdlb21ldHJ5LmNvb3JkaW5hdGVzfSkpKSk6aT1jeSgkdS51bmlvbih0Lmdlb21ldHJ5LmNvb3JkaW5hdGVzKSksaS5nZW9tZXRyeS5jb29yZGluYXRlcy5mb3JFYWNoKChmdW5jdGlvbih0KXtyLmdlb21ldHJ5LmNvb3JkaW5hdGVzLnB1c2godFswXSl9KSkscn0sdC5tZXRhPUosdC5taWRwb2ludD1mdW5jdGlvbih0LGUpe3JldHVybiB2bih0LG1lKHQsZSkvMixtbih0LGUpKX0sdC5tb3JhbkluZGV4PWZ1bmN0aW9uKHQsZSl7dmFyIG49ZS5pbnB1dEZpZWxkLHI9ZS50aHJlc2hvbGR8fDFlNSxpPWUucHx8MixvPWUuYmluYXJ5fHwhMSxzPWphKHQse2FscGhhOmUuYWxwaGF8fC0xLGJpbmFyeTpvLHA6aSxzdGFuZGFyZGl6YXRpb246ZS5zdGFuZGFyZGl6YXRpb258fCEwLHRocmVzaG9sZDpyfSksYT1bXTtGKHQsKGZ1bmN0aW9uKHQpe3ZhciBlPXQucHJvcGVydGllc3x8e307YS5wdXNoKGVbbl0pfSkpO2Zvcih2YXIgdT1VYShhKSxsPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1VYSh0KSxuPTAscj0wLGk9dDtyPGkubGVuZ3RoO3IrKyl7dmFyIG89aVtyXTtuKz1NYXRoLnBvdyhvLWUsMil9cmV0dXJuIG4vdC5sZW5ndGh9KGEpLGM9MCxoPTAscD0wLGY9MCxnPXMubGVuZ3RoLGQ9MDtkPGc7ZCsrKXtmb3IodmFyIHk9MCx2PTA7djxnO3YrKyljKz1zW2RdW3ZdKihhW2RdLXUpKihhW3ZdLXUpLGgrPXNbZF1bdl0scCs9TWF0aC5wb3coc1tkXVt2XStzW3ZdW2RdLDIpLHkrPXNbZF1bdl0rc1t2XVtkXTtmKz1NYXRoLnBvdyh5LDIpfXZhciBfPWMvaC9sLG09LTEvKGctMSkseD0oZypnKihwKj0uNSktZypmK2gqaCozKS8oKGctMSkqKGcrMSkqKGgqaCkpLW0qbSxFPU1hdGguc3FydCh4KTtyZXR1cm57ZXhwZWN0ZWRNb3JhbkluZGV4Om0sbW9yYW5JbmRleDpfLHN0ZE5vcm06RSx6Tm9ybTooXy1tKS9FfX0sdC5tdWx0aUxpbmVTdHJpbmc9Zyx0Lm11bHRpUG9pbnQ9ZCx0Lm11bHRpUG9seWdvbj15LHQubmVhcmVzdD1Kbix0Lm5lYXJlc3RQb2ludD1Kbix0Lm5lYXJlc3RQb2ludE9uTGluZT1Ucix0Lm5lYXJlc3RQb2ludFRvTGluZT1mdW5jdGlvbih0LGUsbil7dm9pZCAwPT09biYmKG49e30pO3ZhciByPW4udW5pdHMsaT1uLnByb3BlcnRpZXN8fHt9LG89ZnVuY3Rpb24odCl7dmFyIGU9W107c3dpdGNoKHQuZ2VvbWV0cnk/dC5nZW9tZXRyeS50eXBlOnQudHlwZSl7Y2FzZSJHZW9tZXRyeUNvbGxlY3Rpb24iOnJldHVybiBxKHQsKGZ1bmN0aW9uKHQpeyJQb2ludCI9PT10LnR5cGUmJmUucHVzaCh7dHlwZToiRmVhdHVyZSIscHJvcGVydGllczp7fSxnZW9tZXRyeTp0fSl9KSkse3R5cGU6IkZlYXR1cmVDb2xsZWN0aW9uIixmZWF0dXJlczplfTtjYXNlIkZlYXR1cmVDb2xsZWN0aW9uIjpyZXR1cm4gdC5mZWF0dXJlcz10LmZlYXR1cmVzLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIlBvaW50Ij09PXQuZ2VvbWV0cnkudHlwZX0pKSx0O2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKCJwb2ludHMgbXVzdCBiZSBhIFBvaW50IENvbGxlY3Rpb24iKX19KHQpO2lmKCFvLmZlYXR1cmVzLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoInBvaW50cyBtdXN0IGNvbnRhaW4gZmVhdHVyZXMiKTtpZighZSl0aHJvdyBuZXcgRXJyb3IoImxpbmUgaXMgcmVxdWlyZWQiKTtpZigiTGluZVN0cmluZyIhPT1pdChlKSl0aHJvdyBuZXcgRXJyb3IoImxpbmUgbXVzdCBiZSBhIExpbmVTdHJpbmciKTt2YXIgcz0xLzAsYT1udWxsO3JldHVybiBGKG8sKGZ1bmN0aW9uKHQpe3ZhciBuPURyKHQsZSx7dW5pdHM6cn0pO248cyYmKHM9bixhPXQpfSkpLGEmJihhLnByb3BlcnRpZXM9Y3Qoe2Rpc3Q6c30sYS5wcm9wZXJ0aWVzLGkpKSxhfSx0LnBsYW5lcG9pbnQ9ZnVuY3Rpb24odCxlKXt2YXIgbj1LKHQpLHI9cnQoZSkuY29vcmRpbmF0ZXNbMF07aWYoci5sZW5ndGg8NCl0aHJvdyBuZXcgRXJyb3IoIk91dGVyUmluZyBvZiBhIFBvbHlnb24gbXVzdCBoYXZlIDQgb3IgbW9yZSBQb3NpdGlvbnMuIik7dmFyIGk9ZS5wcm9wZXJ0aWVzfHx7fSxvPWkuYSxzPWkuYixhPWkuYyx1PW5bMF0sbD1uWzFdLGM9clswXVswXSxoPXJbMF1bMV0scD12b2lkIDAhPT1vP286clswXVsyXSxmPXJbMV1bMF0sZz1yWzFdWzFdLGQ9dm9pZCAwIT09cz9zOnJbMV1bMl0seT1yWzJdWzBdLHY9clsyXVsxXSxfPXZvaWQgMCE9PWE/YTpyWzJdWzJdO3JldHVybihfKih1LWMpKihsLWcpK3AqKHUtZikqKGwtdikrZCoodS15KSoobC1oKS1kKih1LWMpKihsLXYpLV8qKHUtZikqKGwtaCktcCoodS15KSoobC1nKSkvKCh1LWMpKihsLWcpKyh1LWYpKihsLXYpKyh1LXkpKihsLWgpLSh1LWMpKihsLXYpLSh1LWYpKihsLWgpLSh1LXkpKihsLWcpKX0sdC5wb2ludD1hLHQucG9pbnRHcmlkPXRpLHQucG9pbnRPbkZlYXR1cmU9cXIsdC5wb2ludE9uTGluZT1Ucix0LnBvaW50T25TdXJmYWNlPXFyLHQucG9pbnRUb0xpbmVEaXN0YW5jZT1Ecix0LnBvaW50cz11LHQucG9pbnRzV2l0aGluUG9seWdvbj1fZSx0LnBvbHlnb249bCx0LnBvbHlnb25TbW9vdGg9ZnVuY3Rpb24odCxlKXt2YXIgbj1bXSxyPWUuaXRlcmF0aW9uc3x8MTtpZighdCl0aHJvdyBuZXcgRXJyb3IoImlucHV0UG9seXMgaXMgcmVxdWlyZWQiKTtyZXR1cm4gcSh0LChmdW5jdGlvbih0LGUsaSl7dmFyIG8scyxhO3N3aXRjaCh0LnR5cGUpe2Nhc2UiUG9seWdvbiI6bz1bW11dO2Zvcih2YXIgdT0wO3U8cjt1KyspYT1bW11dLHM9dCx1PjAmJihzPWwobykuZ2VvbWV0cnkpLHFhKHMsYSksbz1hLnNsaWNlKDApO24ucHVzaChsKG8saSkpO2JyZWFrO2Nhc2UiTXVsdGlQb2x5Z29uIjpvPVtbW11dXTtmb3IodmFyIGM9MDtjPHI7YysrKWE9W1tbXV1dLHM9dCxjPjAmJihzPXkobykuZ2VvbWV0cnkpLEJhKHMsYSksbz1hLnNsaWNlKDApO24ucHVzaCh5KG8saSkpO2JyZWFrO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKCJnZW9tZXRyeSBpcyBpbnZhbGlkLCBtdXN0IGJlIFBvbHlnb24gb3IgTXVsdGlQb2x5Z29uIil9fSkpLGYobil9LHQucG9seWdvblRhbmdlbnRzPWZ1bmN0aW9uKHQsZSl7dmFyIG4scixpLG8scz1RKHQpLHU9UShlKSxsPVooZSksYz0wLGg9bnVsbDtzd2l0Y2goc1swXT5sWzBdJiZzWzBdPGxbMl0mJnNbMV0+bFsxXSYmc1sxXTxsWzNdJiYoYz0oaD1Kbih0LGJuKGUpKSkucHJvcGVydGllcy5mZWF0dXJlSW5kZXgpLGl0KGUpKXtjYXNlIlBvbHlnb24iOm49dVswXVtjXSxyPXVbMF1bMF0sbnVsbCE9PWgmJmguZ2VvbWV0cnkuY29vcmRpbmF0ZXNbMV08c1sxXSYmKHI9dVswXVtjXSksbz1YaSh1WzBdWzBdLHVbMF1bdVswXS5sZW5ndGgtMV0scyk7dmFyIHA9VWkodVswXSxzLG8saSxuLHIpO249cFswXSxyPXBbMV07YnJlYWs7Y2FzZSJNdWx0aVBvbHlnb24iOmZvcih2YXIgZz0wLGQ9MCx5PTAsdj0wO3Y8dVswXS5sZW5ndGg7disrKXtnPXY7Zm9yKHZhciBfPSExLG09MDttPHVbMF1bdl0ubGVuZ3RoO20rKyl7aWYoZD1tLHk9PT1jKXtfPSEwO2JyZWFrfXkrK31pZihfKWJyZWFrfW49dVswXVtnXVtkXSxyPXVbMF1bZ11bZF0sbz1YaSh1WzBdWzBdWzBdLHVbMF1bMF1bdVswXVswXS5sZW5ndGgtMV0scyksdS5mb3JFYWNoKChmdW5jdGlvbih0KXt2YXIgZT1VaSh0WzBdLHMsbyxpLG4scik7bj1lWzBdLHI9ZVsxXX0pKX1yZXR1cm4gZihbYShuKSxhKHIpXSl9LHQucG9seWdvblRvTGluZT1JaSx0LnBvbHlnb25Ub0xpbmVTdHJpbmc9SWksdC5wb2x5Z29uaXplPWZ1bmN0aW9uKHQpe3ZhciBlPWhzLmZyb21HZW9Kc29uKHQpO2UuZGVsZXRlRGFuZ2xlcygpLGUuZGVsZXRlQ3V0RWRnZXMoKTt2YXIgbj1bXSxyPVtdO3JldHVybiBlLmdldEVkZ2VSaW5ncygpLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIHQuaXNWYWxpZCgpfSkpLmZvckVhY2goKGZ1bmN0aW9uKHQpe3QuaXNIb2xlKCk/bi5wdXNoKHQpOnIucHVzaCh0KX0pKSxuLmZvckVhY2goKGZ1bmN0aW9uKHQpe2NzLmZpbmRFZGdlUmluZ0NvbnRhaW5pbmcodCxyKSYmci5wdXNoKHQpfSkpLGYoci5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnRvUG9seWdvbigpfSkpKX0sdC5wb2x5Z29ucz1jLHQucHJvamVjdGlvbj1KYSx0LnByb3BFYWNoPUEsdC5wcm9wUmVkdWNlPUQsdC5wcm9wZXJ0aWVzQ29udGFpbnNGaWx0ZXI9bHUsdC5yYWRpYW5zMmRlZ3JlZXM9dyx0LnJhZGlhbnNUb0RlZ3JlZXM9dyx0LnJhZGlhbnNUb0Rpc3RhbmNlPW0sdC5yYWRpYW5zVG9MZW5ndGg9bSx0LnJhbmRvbT1ydSx0LnJhbmRvbUxpbmVTdHJpbmc9dHUsdC5yYW5kb21Qb2ludD1RYSx0LnJhbmRvbVBvbHlnb249JGEsdC5yYW5kb21Qb3NpdGlvbj1LYSx0LnJld2luZD1mdW5jdGlvbih0LGUpe2lmKCFQKGU9ZXx8e30pKXRocm93IG5ldyBFcnJvcigib3B0aW9ucyBpcyBpbnZhbGlkIik7dmFyIG49ZS5yZXZlcnNlfHwhMSxyPWUubXV0YXRlfHwhMTtpZighdCl0aHJvdyBuZXcgRXJyb3IoIjxnZW9qc29uPiBpcyByZXF1aXJlZCIpO2lmKCJib29sZWFuIiE9dHlwZW9mIG4pdGhyb3cgbmV3IEVycm9yKCI8cmV2ZXJzZT4gbXVzdCBiZSBhIGJvb2xlYW4iKTtpZigiYm9vbGVhbiIhPXR5cGVvZiByKXRocm93IG5ldyBFcnJvcigiPG11dGF0ZT4gbXVzdCBiZSBhIGJvb2xlYW4iKTshMT09PXImJih0PUllKHQpKTt2YXIgaT1bXTtzd2l0Y2godC50eXBlKXtjYXNlIkdlb21ldHJ5Q29sbGVjdGlvbiI6cmV0dXJuIHEodCwoZnVuY3Rpb24odCl7SGkodCxuKX0pKSx0O2Nhc2UiRmVhdHVyZUNvbGxlY3Rpb24iOnJldHVybiBGKHQsKGZ1bmN0aW9uKHQpe0YoSGkodCxuKSwoZnVuY3Rpb24odCl7aS5wdXNoKHQpfSkpfSkpLGYoaSl9cmV0dXJuIEhpKHQsbil9LHQucmh1bWJCZWFyaW5nPUJpLHQucmh1bWJEZXN0aW5hdGlvbj1qaSx0LnJodW1iRGlzdGFuY2U9QXIsdC5yb3VuZD1fLHQuc2FtcGxlPWZ1bmN0aW9uKHQsZSl7aWYoIXQpdGhyb3cgbmV3IEVycm9yKCJmZWF0dXJlY29sbGVjdGlvbiBpcyByZXF1aXJlZCIpO2lmKG51bGw9PWUpdGhyb3cgbmV3IEVycm9yKCJudW0gaXMgcmVxdWlyZWQiKTtpZigibnVtYmVyIiE9dHlwZW9mIGUpdGhyb3cgbmV3IEVycm9yKCJudW0gbXVzdCBiZSBhIG51bWJlciIpO3JldHVybiBmKGZ1bmN0aW9uKHQsZSl7dmFyIG4scixpPXQuc2xpY2UoMCksbz10Lmxlbmd0aCxzPW8tZTtmb3IoO28tLSA+czspbj1pW3I9TWF0aC5mbG9vcigobysxKSpNYXRoLnJhbmRvbSgpKV0saVtyXT1pW29dLGlbb109bjtyZXR1cm4gaS5zbGljZShzKX0odC5mZWF0dXJlcyxlKSl9LHQuc2VjdG9yPWZ1bmN0aW9uKHQsZSxuLHIsaSl7aWYoIVAoaT1pfHx7fSkpdGhyb3cgbmV3IEVycm9yKCJvcHRpb25zIGlzIGludmFsaWQiKTt2YXIgbz1pLnByb3BlcnRpZXM7aWYoIXQpdGhyb3cgbmV3IEVycm9yKCJjZW50ZXIgaXMgcmVxdWlyZWQiKTtpZihudWxsPT1uKXRocm93IG5ldyBFcnJvcigiYmVhcmluZzEgaXMgcmVxdWlyZWQiKTtpZihudWxsPT1yKXRocm93IG5ldyBFcnJvcigiYmVhcmluZzIgaXMgcmVxdWlyZWQiKTtpZighZSl0aHJvdyBuZXcgRXJyb3IoInJhZGl1cyBpcyByZXF1aXJlZCIpO2lmKCJvYmplY3QiIT10eXBlb2YgaSl0aHJvdyBuZXcgRXJyb3IoIm9wdGlvbnMgbXVzdCBiZSBhbiBvYmplY3QiKTtpZihxaShuKT09PXFpKHIpKXJldHVybiBfbih0LGUsaSk7dmFyIHM9USh0KSxhPWJpKHQsZSxuLHIsaSksdT1bW3NdXTtyZXR1cm4gUihhLChmdW5jdGlvbih0KXt1WzBdLnB1c2godCl9KSksdVswXS5wdXNoKHMpLGwodSxvKX0sdC5zZWdtZW50RWFjaD1VLHQuc2VnbWVudFJlZHVjZT1WLHQuc2hvcnRlc3RQYXRoPWZ1bmN0aW9uKHQsZSxuKXtpZighUChuPW58fHt9KSl0aHJvdyBuZXcgRXJyb3IoIm9wdGlvbnMgaXMgaW52YWxpZCIpO3ZhciByPW4ucmVzb2x1dGlvbixpPW4ubWluRGlzdGFuY2Uscz1uLm9ic3RhY2xlc3x8ZihbXSk7aWYoIXQpdGhyb3cgbmV3IEVycm9yKCJzdGFydCBpcyByZXF1aXJlZCIpO2lmKCFlKXRocm93IG5ldyBFcnJvcigiZW5kIGlzIHJlcXVpcmVkIik7aWYociYmIUMocil8fHI8PTApdGhyb3cgbmV3IEVycm9yKCJvcHRpb25zLnJlc29sdXRpb24gbXVzdCBiZSBhIG51bWJlciwgZ3JlYXRlciB0aGFuIDAiKTtpZihpKXRocm93IG5ldyBFcnJvcigib3B0aW9ucy5taW5EaXN0YW5jZSBpcyBub3QgeWV0IGltcGxlbWVudGVkIik7dmFyIHU9Syh0KSxsPUsoZSk7c3dpdGNoKHQ9YSh1KSxlPWEobCksaXQocykpe2Nhc2UiRmVhdHVyZUNvbGxlY3Rpb24iOmlmKDA9PT1zLmZlYXR1cmVzLmxlbmd0aClyZXR1cm4gaChbdSxsXSk7YnJlYWs7Y2FzZSJQb2x5Z29uIjpzPWYoW28ocnQocykpXSk7YnJlYWs7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoImludmFsaWQgb2JzdGFjbGVzIil9dmFyIGM9cztjLmZlYXR1cmVzLnB1c2godCksYy5mZWF0dXJlcy5wdXNoKGUpO3ZhciBwPVoodHMoZ24oWihjKSksMS4xNSkpO3J8fChyPW1lKFtwWzBdLHBbMV1dLFtwWzJdLHBbMV1dLG4pLzEwMCksYy5mZWF0dXJlcy5wb3AoKSxjLmZlYXR1cmVzLnBvcCgpO2Zvcih2YXIgZz1wWzBdLGQ9cFsxXSx5PXBbMl0sdj1wWzNdLF89ci9tZShbZyxkXSxbeSxkXSxuKSooeS1nKSxtPXIvbWUoW2csZF0sW2csdl0sbikqKHYtZCkseD15LWcsRT12LWQsYj1NYXRoLmZsb29yKHgvXyksdz1NYXRoLmZsb29yKEUvbSksST0oeC1iKl8pLzIsTj1bXSxTPVtdLE09W10sTD1bXSxPPTEvMCxSPTEvMCxUPXYtKEUtdyptKS8yLEE9MDtUPj1kOyl7Zm9yKHZhciBEPVtdLEY9W10saz1nK0ksRz0wO2s8PXk7KXt2YXIgcT1hKFtrLFRdKSxCPUpzKHEscyk7RC5wdXNoKEI/MDoxKSxGLnB1c2goaysifCIrVCk7dmFyIHo9bWUocSx0KTshQiYmejxPJiYoTz16LE09e3g6Ryx5OkF9KTt2YXIgaj1tZShxLGUpOyFCJiZqPFImJihSPWosTD17eDpHLHk6QX0pLGsrPV8sRysrfVMucHVzaChEKSxOLnB1c2goRiksVC09bSxBKyt9dmFyIFU9bmV3IFlzKFMse2RpYWdvbmFsOiEwfSksVj1VLmdyaWRbTS55XVtNLnhdLFg9VS5ncmlkW0wueV1bTC54XSxZPVhzLnNlYXJjaChVLFYsWCksSD1bdV07cmV0dXJuIFkuZm9yRWFjaCgoZnVuY3Rpb24odCl7dmFyIGU9Tlt0LnhdW3QueV0uc3BsaXQoInwiKTtILnB1c2goWytlWzBdLCtlWzFdXSl9KSksSC5wdXNoKGwpLHRuKGgoSCkpfSx0LnNpbXBsaWZ5PWZ1bmN0aW9uKHQsZSl7aWYoIVAoZT1lfHx7fSkpdGhyb3cgbmV3IEVycm9yKCJvcHRpb25zIGlzIGludmFsaWQiKTt2YXIgbj12b2lkIDAhPT1lLnRvbGVyYW5jZT9lLnRvbGVyYW5jZToxLHI9ZS5oaWdoUXVhbGl0eXx8ITEsaT1lLm11dGF0ZXx8ITE7aWYoIXQpdGhyb3cgbmV3IEVycm9yKCJnZW9qc29uIGlzIHJlcXVpcmVkIik7aWYobiYmbjwwKXRocm93IG5ldyBFcnJvcigiaW52YWxpZCB0b2xlcmFuY2UiKTtyZXR1cm4hMCE9PWkmJih0PUllKHQpKSxxKHQsKGZ1bmN0aW9uKHQpeyFmdW5jdGlvbih0LGUsbil7dmFyIHI9dC50eXBlO2lmKCJQb2ludCI9PT1yfHwiTXVsdGlQb2ludCI9PT1yKXJldHVybiB0O3RuKHQsITApO3ZhciBpPXQuY29vcmRpbmF0ZXM7c3dpdGNoKHIpe2Nhc2UiTGluZVN0cmluZyI6dC5jb29yZGluYXRlcz1sbihpLGUsbik7YnJlYWs7Y2FzZSJNdWx0aUxpbmVTdHJpbmciOnQuY29vcmRpbmF0ZXM9aS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiBsbih0LGUsbil9KSk7YnJlYWs7Y2FzZSJQb2x5Z29uIjp0LmNvb3JkaW5hdGVzPWNuKGksZSxuKTticmVhaztjYXNlIk11bHRpUG9seWdvbiI6dC5jb29yZGluYXRlcz1pLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIGNuKHQsZSxuKX0pKX19KHQsbixyKX0pKSx0fSx0LnNxdWFyZT15bix0LnNxdWFyZUdyaWQ9cHksdC5zdGFuZGFyZERldmlhdGlvbmFsRWxsaXBzZT1mdW5jdGlvbih0LGUpe2lmKCFQKGU9ZXx8e30pKXRocm93IG5ldyBFcnJvcigib3B0aW9ucyBpcyBpbnZhbGlkIik7dmFyIG49ZS5zdGVwc3x8NjQscj1lLndlaWdodCxpPWUucHJvcGVydGllc3x8e307aWYoIUMobikpdGhyb3cgbmV3IEVycm9yKCJzdGVwcyBtdXN0IGJlIGEgbnVtYmVyIik7aWYoIVAoaSkpdGhyb3cgbmV3IEVycm9yKCJwcm9wZXJ0aWVzIG11c3QgYmUgYSBudW1iZXIiKTt2YXIgbz1HKHQpLmxlbmd0aCxzPUZhKHQse3dlaWdodDpyfSksYT0wLHU9MCxsPTA7Rih0LChmdW5jdGlvbih0KXt2YXIgZT10LnByb3BlcnRpZXNbcl18fDEsbj1HYShRKHQpLFEocykpO2ErPU1hdGgucG93KG4ueCwyKSplLHUrPU1hdGgucG93KG4ueSwyKSplLGwrPW4ueCpuLnkqZX0pKTt2YXIgYz1hLXUsaD1NYXRoLnNxcnQoTWF0aC5wb3coYywyKSs0Kk1hdGgucG93KGwsMikpLHA9MipsLGc9TWF0aC5hdGFuKChjK2gpL3ApLGQ9MTgwKmcvTWF0aC5QSSx5PTAsdj0wLF89MDtGKHQsKGZ1bmN0aW9uKHQpe3ZhciBlPXQucHJvcGVydGllc1tyXXx8MSxuPUdhKFEodCksUShzKSk7eSs9TWF0aC5wb3cobi54Kk1hdGguY29zKGcpLW4ueSpNYXRoLnNpbihnKSwyKSplLHYrPU1hdGgucG93KG4ueCpNYXRoLnNpbihnKStuLnkqTWF0aC5jb3MoZyksMikqZSxfKz1lfSkpO3ZhciBtPU1hdGguc3FydCgyKnkvXykseD1NYXRoLnNxcnQoMip2L18pLEU9QWEocyxtLHgse3VuaXRzOiJkZWdyZWVzIixhbmdsZTpkLHN0ZXBzOm4scHJvcGVydGllczppfSksYj1fZSh0LGYoW0VdKSksdz17bWVhbkNlbnRlckNvb3JkaW5hdGVzOlEocyksc2VtaU1ham9yQXhpczptLHNlbWlNaW5vckF4aXM6eCxudW1iZXJPZkZlYXR1cmVzOm8sYW5nbGU6ZCxwZXJjZW50YWdlV2l0aGluRWxsaXBzZToxMDAqRyhiKS5sZW5ndGgvb307cmV0dXJuIEUucHJvcGVydGllcy5zdGFuZGFyZERldmlhdGlvbmFsRWxsaXBzZT13LEV9LHQudGFnPWZ1bmN0aW9uKHQsZSxuLHIpe3JldHVybiB0PUllKHQpLGU9SWUoZSksRih0LChmdW5jdGlvbih0KXt0LnByb3BlcnRpZXN8fCh0LnByb3BlcnRpZXM9e30pLEYoZSwoZnVuY3Rpb24oZSl7dm9pZCAwPT09dC5wcm9wZXJ0aWVzW3JdJiZ5ZSh0LGUpJiYodC5wcm9wZXJ0aWVzW3JdPWUucHJvcGVydGllc1tuXSl9KSl9KSksdH0sdC50ZXNzZWxhdGU9ZnVuY3Rpb24odCl7aWYoIXQuZ2VvbWV0cnl8fCJQb2x5Z29uIiE9PXQuZ2VvbWV0cnkudHlwZSYmIk11bHRpUG9seWdvbiIhPT10Lmdlb21ldHJ5LnR5cGUpdGhyb3cgbmV3IEVycm9yKCJpbnB1dCBtdXN0IGJlIGEgUG9seWdvbiBvciBNdWx0aVBvbHlnb24iKTt2YXIgZT17dHlwZToiRmVhdHVyZUNvbGxlY3Rpb24iLGZlYXR1cmVzOltdfTtyZXR1cm4iUG9seWdvbiI9PT10Lmdlb21ldHJ5LnR5cGU/ZS5mZWF0dXJlcz1Xbih0Lmdlb21ldHJ5LmNvb3JkaW5hdGVzKTp0Lmdlb21ldHJ5LmNvb3JkaW5hdGVzLmZvckVhY2goKGZ1bmN0aW9uKHQpe2UuZmVhdHVyZXM9ZS5mZWF0dXJlcy5jb25jYXQoV24odCkpfSkpLGV9LHQudGluPXhlLHQudG9NZXJjYXRvcj1WYSx0LnRvV2dzODQ9WGEsdC50cmFuc2Zvcm1Sb3RhdGU9JG8sdC50cmFuc2Zvcm1TY2FsZT10cyx0LnRyYW5zZm9ybVRyYW5zbGF0ZT1mdW5jdGlvbih0LGUsbixyKXtpZighUChyPXJ8fHt9KSl0aHJvdyBuZXcgRXJyb3IoIm9wdGlvbnMgaXMgaW52YWxpZCIpO3ZhciBpPXIudW5pdHMsbz1yLnpUcmFuc2xhdGlvbixzPXIubXV0YXRlO2lmKCF0KXRocm93IG5ldyBFcnJvcigiZ2VvanNvbiBpcyByZXF1aXJlZCIpO2lmKG51bGw9PWV8fGlzTmFOKGUpKXRocm93IG5ldyBFcnJvcigiZGlzdGFuY2UgaXMgcmVxdWlyZWQiKTtpZihvJiYibnVtYmVyIiE9dHlwZW9mIG8mJmlzTmFOKG8pKXRocm93IG5ldyBFcnJvcigielRyYW5zbGF0aW9uIGlzIG5vdCBhIG51bWJlciIpO2lmKG89dm9pZCAwIT09bz9vOjAsMD09PWUmJjA9PT1vKXJldHVybiB0O2lmKG51bGw9PW58fGlzTmFOKG4pKXRocm93IG5ldyBFcnJvcigiZGlyZWN0aW9uIGlzIHJlcXVpcmVkIik7cmV0dXJuIGU8MCYmKGU9LWUsbis9MTgwKSwhMSE9PXMmJnZvaWQgMCE9PXN8fCh0PUllKHQpKSxSKHQsKGZ1bmN0aW9uKHQpe3ZhciByPVEoamkodCxlLG4se3VuaXRzOml9KSk7dFswXT1yWzBdLHRbMV09clsxXSxvJiYzPT09dC5sZW5ndGgmJih0WzJdKz1vKX0pKSx0fSx0LnRyaWFuZ2xlR3JpZD1meSx0LnRydW5jYXRlPWVpLHQudW5pb249ZnVuY3Rpb24odCxlLG4pe3ZvaWQgMD09PW4mJihuPXt9KTt2YXIgcj1ydCh0KSxpPXJ0KGUpLG89JHUudW5pb24oci5jb29yZGluYXRlcyxpLmNvb3JkaW5hdGVzKTtyZXR1cm4gMD09PW8ubGVuZ3RoP251bGw6MT09PW8ubGVuZ3RoP2wob1swXSxuLnByb3BlcnRpZXMpOnkobyxuLnByb3BlcnRpZXMpfSx0LnVuaXRzRmFjdG9ycz1yLHQudW5raW5rUG9seWdvbj1mdW5jdGlvbih0KXt2YXIgZT1bXTtyZXR1cm4geih0LChmdW5jdGlvbih0KXsiUG9seWdvbiI9PT10Lmdlb21ldHJ5LnR5cGUmJkYob2kodCksKGZ1bmN0aW9uKG4pe2UucHVzaChsKG4uZ2VvbWV0cnkuY29vcmRpbmF0ZXMsdC5wcm9wZXJ0aWVzKSl9KSl9KSksZihlKX0sdC52YWxpZGF0ZUJCb3g9TSx0LnZhbGlkYXRlSWQ9TCx0LnZvcm9ub2k9ZnVuY3Rpb24odCxlKXtpZighUChlPWV8fHt9KSl0aHJvdyBuZXcgRXJyb3IoIm9wdGlvbnMgaXMgaW52YWxpZCIpO3ZhciBuPWUuYmJveHx8Wy0xODAsLTg1LDE4MCw4NV07aWYoIXQpdGhyb3cgbmV3IEVycm9yKCJwb2ludHMgaXMgcmVxdWlyZWQiKTtpZighQXJyYXkuaXNBcnJheShuKSl0aHJvdyBuZXcgRXJyb3IoImJib3ggaXMgaW52YWxpZCIpO3JldHVybiBudCh0LCJQb2ludCIsInBvaW50cyIpLGYoZnVuY3Rpb24oKXt2YXIgdD1LcyxlPVFzLG49bnVsbDtmdW5jdGlvbiByKHIpe3JldHVybiBuZXcgUmEoci5tYXAoKGZ1bmN0aW9uKG4saSl7dmFyIG89W01hdGgucm91bmQodChuLGkscikvTWEpKk1hLE1hdGgucm91bmQoZShuLGkscikvTWEpKk1hXTtyZXR1cm4gby5pbmRleD1pLG8uZGF0YT1uLG99KSksbil9cmV0dXJuIHIucG9seWdvbnM9ZnVuY3Rpb24odCl7cmV0dXJuIHIodCkucG9seWdvbnMoKX0sci5saW5rcz1mdW5jdGlvbih0KXtyZXR1cm4gcih0KS5saW5rcygpfSxyLnRyaWFuZ2xlcz1mdW5jdGlvbih0KXtyZXR1cm4gcih0KS50cmlhbmdsZXMoKX0sci54PWZ1bmN0aW9uKGUpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyh0PSJmdW5jdGlvbiI9PXR5cGVvZiBlP2U6WnMoK2UpLHIpOnR9LHIueT1mdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oZT0iZnVuY3Rpb24iPT10eXBlb2YgdD90OlpzKCt0KSxyKTplfSxyLmV4dGVudD1mdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8obj1udWxsPT10P251bGw6W1srdFswXVswXSwrdFswXVsxXV0sWyt0WzFdWzBdLCt0WzFdWzFdXV0scik6biYmW1tuWzBdWzBdLG5bMF1bMV1dLFtuWzFdWzBdLG5bMV1bMV1dXX0sci5zaXplPWZ1bmN0aW9uKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhuPW51bGw9PXQ/bnVsbDpbWzAsMF0sWyt0WzBdLCt0WzFdXV0scik6biYmW25bMV1bMF0tblswXVswXSxuWzFdWzFdLW5bMF1bMV1dfSxyfSgpLngoKGZ1bmN0aW9uKHQpe3JldHVybiB0Lmdlb21ldHJ5LmNvb3JkaW5hdGVzWzBdfSkpLnkoKGZ1bmN0aW9uKHQpe3JldHVybiB0Lmdlb21ldHJ5LmNvb3JkaW5hdGVzWzFdfSkpLmV4dGVudChbW25bMF0sblsxXV0sW25bMl0sblszXV1dKS5wb2x5Z29ucyh0LmZlYXR1cmVzKS5tYXAoVGEpKX0sdC53aXRoaW49X2UsT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pfSkpOwo=";var ra=function(){if(!Gl())return null;var t="undefined"!=typeof self?self:Gl()?window:"undefined"!=typeof global?global:null;if(la(t,"turf"))return t.turf;var n=t.document.createElement("script"),e=sa;return n.innerHTML=function(t){return wo(t)?oa.parse(t).toString(ia):""}(e),t.document.getElementsByTagName("head")[0].appendChild(n),t.turf}(),aa=6371008.8,da={centimeters:637100880,centimetres:637100880,degrees:57.22891354143274,feet:20902260.511392,inches:39.37*aa,kilometers:6371.0088,kilometres:6371.0088,meters:aa,metres:aa,miles:3958.761333810546,millimeters:6371008800,millimetres:6371008800,nauticalmiles:aa/1852,radians:1,yards:6967335.223679999},ca={centimeters:100,centimetres:100,degrees:1/111325,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:1/1609.344,millimeters:1e3,millimetres:1e3,nauticalmiles:1/1852,radians:1/aa,yards:1.0936133},ua={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046};function pa(t,n,e){void 0===e&&(e={});var i={type:"Feature"};return(0===e.id||e.id)&&(i.id=e.id),e.bbox&&(i.bbox=e.bbox),i.properties=n||{},i.geometry=t,i}function ha(t,n,e){switch(t){case"Point":return ma(n).geometry;case"LineString":return Xa(n).geometry;case"Polygon":return ya(n).geometry;case"MultiPoint":return ga(n).geometry;case"MultiLineString":return Wa(n).geometry;case"MultiPolygon":return va(n).geometry;default:throw new Error(t+" is invalid")}}function ma(t,n,e){if(void 0===e&&(e={}),!t)throw new Error("coordinates is required");if(!Array.isArray(t))throw new Error("coordinates must be an Array");if(t.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!Ma(t[0])||!Ma(t[1]))throw new Error("coordinates must contain numbers");return pa({type:"Point",coordinates:t},n,e)}function ba(t,n,e){return void 0===e&&(e={}),Ga(t.map((function(t){return ma(t,n)})),e)}function ya(t,n,e){void 0===e&&(e={});for(var i=0,o=t;i<o.length;i++){var l=o[i];if(l.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var s=0;s<l[l.length-1].length;s++)if(l[l.length-1][s]!==l[0][s])throw new Error("First and last Position are not equivalent.")}return pa({type:"Polygon",coordinates:t},n,e)}function Za(t,n,e){return void 0===e&&(e={}),Ga(t.map((function(t){return ya(t,n)})),e)}function Xa(t,n,e){if(void 0===e&&(e={}),t.length<2)throw new Error("coordinates must be an array of two or more positions");return pa({type:"LineString",coordinates:t},n,e)}function fa(t,n,e){return void 0===e&&(e={}),Ga(t.map((function(t){return Xa(t,n)})),e)}function Ga(t,n){void 0===n&&(n={});var e={type:"FeatureCollection"};return n.id&&(e.id=n.id),n.bbox&&(e.bbox=n.bbox),e.features=t,e}function Wa(t,n,e){return void 0===e&&(e={}),pa({type:"MultiLineString",coordinates:t},n,e)}function ga(t,n,e){return void 0===e&&(e={}),pa({type:"MultiPoint",coordinates:t},n,e)}function va(t,n,e){return void 0===e&&(e={}),pa({type:"MultiPolygon",coordinates:t},n,e)}function Va(t,n,e){return void 0===e&&(e={}),pa({type:"GeometryCollection",geometries:t},n,e)}function xa(t,n){if(void 0===n&&(n=0),n&&!(n>=0))throw new Error("precision must be a positive number");var e=Math.pow(10,n||0);return Math.round(t*e)/e}function Sa(t,n){void 0===n&&(n="kilometers");var e=da[n];if(!e)throw new Error(n+" units is invalid");return t*e}function La(t,n){void 0===n&&(n="kilometers");var e=da[n];if(!e)throw new Error(n+" units is invalid");return t/e}function Ra(t,n){return Ha(La(t,n))}function Ka(t){var n=t%360;return n<0&&(n+=360),n}function Ha(t){return 180*(t%(2*Math.PI))/Math.PI}function Ca(t){return t%360*Math.PI/180}function Ya(t,n,e){if(void 0===n&&(n="kilometers"),void 0===e&&(e="kilometers"),!(t>=0))throw new Error("length must be a positive number");return Sa(La(t,n),e)}function Ta(t,n,e){if(void 0===n&&(n="meters"),void 0===e&&(e="kilometers"),!(t>=0))throw new Error("area must be a positive number");var i=ua[n];if(!i)throw new Error("invalid original units");var o=ua[e];if(!o)throw new Error("invalid final units");return t/i*o}function Ma(t){return!isNaN(t)&&null!==t&&!Array.isArray(t)}function wa(t){return!!t&&t.constructor===Object}function Pa(t){if(!t)throw new Error("bbox is required");if(!Array.isArray(t))throw new Error("bbox must be an Array");if(4!==t.length&&6!==t.length)throw new Error("bbox must be an Array of 4 or 6 numbers");t.forEach((function(t){if(!Ma(t))throw new Error("bbox must only contain numbers")}))}function Ia(t){if(!t)throw new Error("id is required");if(-1===["string","number"].indexOf(n(t)))throw new Error("id must be a number or a string")}var za=Object.freeze({__proto__:null,earthRadius:aa,factors:da,unitsFactors:ca,areaFactors:ua,feature:pa,geometry:ha,point:ma,points:ba,polygon:ya,polygons:Za,lineString:Xa,lineStrings:fa,featureCollection:Ga,multiLineString:Wa,multiPoint:ga,multiPolygon:va,geometryCollection:Va,round:xa,radiansToLength:Sa,lengthToRadians:La,lengthToDegrees:Ra,bearingToAzimuth:Ka,radiansToDegrees:Ha,degreesToRadians:Ca,convertLength:Ya,convertArea:Ta,isNumber:Ma,isObject:wa,validateBBox:Pa,validateId:Ia});function Ja(t,n,e){if(null!==t)for(var i,o,l,s,r,a,d,c,u=0,p=0,h=t.type,m="FeatureCollection"===h,b="Feature"===h,y=m?t.features.length:1,Z=0;Z<y;Z++){r=(c=!!(d=m?t.features[Z].geometry:b?t.geometry:t)&&"GeometryCollection"===d.type)?d.geometries.length:1;for(var X=0;X<r;X++){var f=0,G=0;if(null!==(s=c?d.geometries[X]:d)){a=s.coordinates;var W=s.type;switch(u=!e||"Polygon"!==W&&"MultiPolygon"!==W?0:1,W){case null:break;case"Point":if(!1===n(a,p,Z,f,G))return!1;p++,f++;break;case"LineString":case"MultiPoint":for(i=0;i<a.length;i++){if(!1===n(a[i],p,Z,f,G))return!1;p++,"MultiPoint"===W&&f++}"LineString"===W&&f++;break;case"Polygon":case"MultiLineString":for(i=0;i<a.length;i++){for(o=0;o<a[i].length-u;o++){if(!1===n(a[i][o],p,Z,f,G))return!1;p++}"MultiLineString"===W&&f++,"Polygon"===W&&G++}"Polygon"===W&&f++;break;case"MultiPolygon":for(i=0;i<a.length;i++){for(G=0,o=0;o<a[i].length;o++){for(l=0;l<a[i][o].length-u;l++){if(!1===n(a[i][o][l],p,Z,f,G))return!1;p++}G++}f++}break;case"GeometryCollection":for(i=0;i<s.geometries.length;i++)if(!1===Ja(s.geometries[i],n,e))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function Na(t,n,e,i){var o=e;return Ja(t,(function(t,i,l,s,r){o=0===i&&void 0===e?t:n(o,t,i,l,s,r)}),i),o}function Fa(t,n){var e;switch(t.type){case"FeatureCollection":for(e=0;e<t.features.length&&!1!==n(t.features[e].properties,e);e++);break;case"Feature":n(t.properties,0)}}function ka(t,n,e){var i=e;return Fa(t,(function(t,o){i=0===o&&void 0===e?t:n(i,t,o)})),i}function Ba(t,n){if("Feature"===t.type)n(t,0);else if("FeatureCollection"===t.type)for(var e=0;e<t.features.length&&!1!==n(t.features[e],e);e++);}function _a(t,n,e){var i=e;return Ba(t,(function(t,o){i=0===o&&void 0===e?t:n(i,t,o)})),i}function Ua(t){var n=[];return Ja(t,(function(t){n.push(t)})),n}function Ea(t,n){var e,i,o,l,s,r,a,d,c,u,p=0,h="FeatureCollection"===t.type,m="Feature"===t.type,b=h?t.features.length:1;for(e=0;e<b;e++){for(r=h?t.features[e].geometry:m?t.geometry:t,d=h?t.features[e].properties:m?t.properties:{},c=h?t.features[e].bbox:m?t.bbox:void 0,u=h?t.features[e].id:m?t.id:void 0,s=(a=!!r&&"GeometryCollection"===r.type)?r.geometries.length:1,o=0;o<s;o++)if(null!==(l=a?r.geometries[o]:r))switch(l.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===n(l,p,d,c,u))return!1;break;case"GeometryCollection":for(i=0;i<l.geometries.length;i++)if(!1===n(l.geometries[i],p,d,c,u))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===n(null,p,d,c,u))return!1;p++}}function ja(t,n,e){var i=e;return Ea(t,(function(t,o,l,s,r){i=0===o&&void 0===e?t:n(i,t,o,l,s,r)})),i}function Qa(t,n){Ea(t,(function(t,e,i,o,l){var s,r=null===t?null:t.type;switch(r){case null:case"Point":case"LineString":case"Polygon":return!1!==n(pa(t,i,{bbox:o,id:l}),e,0)&&void 0}switch(r){case"MultiPoint":s="Point";break;case"MultiLineString":s="LineString";break;case"MultiPolygon":s="Polygon"}for(var a=0;a<t.coordinates.length;a++){var d=t.coordinates[a];if(!1===n(pa({type:s,coordinates:d},i),e,a))return!1}}))}function Oa(t,n,e){var i=e;return Qa(t,(function(t,o,l){i=0===o&&0===l&&void 0===e?t:n(i,t,o,l)})),i}function Aa(t,n){Qa(t,(function(t,e,i){var o=0;if(t.geometry){var l=t.geometry.type;if("Point"!==l&&"MultiPoint"!==l){var s,r=0,a=0,d=0;return!1!==Ja(t,(function(l,c,u,p,h){if(void 0===s||e>r||p>a||h>d)return s=l,r=e,a=p,d=h,void(o=0);var m=Xa([s,l],t.properties);if(!1===n(m,e,i,h,o))return!1;o++,s=l}))&&void 0}}}))}function Da(t,n,e){var i=e,o=!1;return Aa(t,(function(t,l,s,r,a){i=!1===o&&void 0===e?t:n(i,t,l,s,r,a),o=!0})),i}function qa(t,n){if(!t)throw new Error("geojson is required");Qa(t,(function(t,e,i){if(null!==t.geometry){var o=t.geometry.type,l=t.geometry.coordinates;switch(o){case"LineString":if(!1===n(t,e,i,0,0))return!1;break;case"Polygon":for(var s=0;s<l.length;s++)if(!1===n(Xa(l[s],t.properties),e,i,s))return!1}}}))}function $a(t,n,e){var i=e;return qa(t,(function(t,o,l,s){i=0===o&&void 0===e?t:n(i,t,o,l,s)})),i}function td(t,n){if(!wa(n=n||{}))throw new Error("options is invalid");var e,i=n.featureIndex||0,o=n.multiFeatureIndex||0,l=n.geometryIndex||0,s=n.segmentIndex||0,r=n.properties;switch(t.type){case"FeatureCollection":i<0&&(i=t.features.length+i),r=r||t.features[i].properties,e=t.features[i].geometry;break;case"Feature":r=r||t.properties,e=t.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":e=t;break;default:throw new Error("geojson is invalid")}if(null===e)return null;var a=e.coordinates;switch(e.type){case"Point":case"MultiPoint":return null;case"LineString":return s<0&&(s=a.length+s-1),Xa([a[s],a[s+1]],r,n);case"Polygon":return l<0&&(l=a.length+l),s<0&&(s=a[l].length+s-1),Xa([a[l][s],a[l][s+1]],r,n);case"MultiLineString":return o<0&&(o=a.length+o),s<0&&(s=a[o].length+s-1),Xa([a[o][s],a[o][s+1]],r,n);case"MultiPolygon":return o<0&&(o=a.length+o),l<0&&(l=a[o].length+l),s<0&&(s=a[o][l].length-s-1),Xa([a[o][l][s],a[o][l][s+1]],r,n)}throw new Error("geojson is invalid")}function nd(t,n){if(!wa(n=n||{}))throw new Error("options is invalid");var e,i=n.featureIndex||0,o=n.multiFeatureIndex||0,l=n.geometryIndex||0,s=n.coordIndex||0,r=n.properties;switch(t.type){case"FeatureCollection":i<0&&(i=t.features.length+i),r=r||t.features[i].properties,e=t.features[i].geometry;break;case"Feature":r=r||t.properties,e=t.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":e=t;break;default:throw new Error("geojson is invalid")}if(null===e)return null;var a=e.coordinates;switch(e.type){case"Point":return ma(a,r,n);case"MultiPoint":return o<0&&(o=a.length+o),ma(a[o],r,n);case"LineString":return s<0&&(s=a.length+s),ma(a[s],r,n);case"Polygon":return l<0&&(l=a.length+l),s<0&&(s=a[l].length+s),ma(a[l][s],r,n);case"MultiLineString":return o<0&&(o=a.length+o),s<0&&(s=a[o].length+s),ma(a[o][s],r,n);case"MultiPolygon":return o<0&&(o=a.length+o),l<0&&(l=a[o].length+l),s<0&&(s=a[o][l].length-s),ma(a[o][l][s],r,n)}throw new Error("geojson is invalid")}var ed=Object.freeze({__proto__:null,coordAll:Ua,coordEach:Ja,coordReduce:Na,featureEach:Ba,featureReduce:_a,findPoint:nd,findSegment:td,flattenEach:Qa,flattenReduce:Oa,geomEach:Ea,geomReduce:ja,lineEach:qa,lineReduce:$a,propEach:Fa,propReduce:ka,segmentEach:Aa,segmentReduce:Da});function id(t){var n=[1/0,1/0,-1/0,-1/0];return Ja(t,(function(t){n[0]>t[0]&&(n[0]=t[0]),n[1]>t[1]&&(n[1]=t[1]),n[2]<t[0]&&(n[2]=t[0]),n[3]<t[1]&&(n[3]=t[1])})),n}function od(t){if(!t)throw new Error("coord is required");if(!Array.isArray(t)){if("Feature"===t.type&&null!==t.geometry&&"Point"===t.geometry.type)return t.geometry.coordinates;if("Point"===t.type)return t.coordinates}if(Array.isArray(t)&&t.length>=2&&!Array.isArray(t[0])&&!Array.isArray(t[1]))return t;throw new Error("coord must be GeoJSON Point or an Array of numbers")}function ld(t){if(Array.isArray(t))return t;if("Feature"===t.type){if(null!==t.geometry)return t.geometry.coordinates}else if(t.coordinates)return t.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function sd(t){if(t.length>1&&Ma(t[0])&&Ma(t[1]))return!0;if(Array.isArray(t[0])&&t[0].length)return sd(t[0]);throw new Error("coordinates must only contain numbers")}function rd(t,n,e){if(!n||!e)throw new Error("type and name required");if(!t||t.type!==n)throw new Error("Invalid input to "+e+": must be a "+n+", given "+t.type)}function ad(t,n,e){if(!t)throw new Error("No feature passed");if(!e)throw new Error(".featureOf() requires a name");if(!t||"Feature"!==t.type||!t.geometry)throw new Error("Invalid input to "+e+", Feature with geometry required");if(!t.geometry||t.geometry.type!==n)throw new Error("Invalid input to "+e+": must be a "+n+", given "+t.geometry.type)}function dd(t,n,e){if(!t)throw new Error("No featureCollection passed");if(!e)throw new Error(".collectionOf() requires a name");if(!t||"FeatureCollection"!==t.type)throw new Error("Invalid input to "+e+", FeatureCollection required");for(var i=0,o=t.features;i<o.length;i++){var l=o[i];if(!l||"Feature"!==l.type||!l.geometry)throw new Error("Invalid input to "+e+", Feature with geometry required");if(!l.geometry||l.geometry.type!==n)throw new Error("Invalid input to "+e+": must be a "+n+", given "+l.geometry.type)}}function cd(t){return"Feature"===t.type?t.geometry:t}function ud(t,n){return"FeatureCollection"===t.type?"FeatureCollection":"GeometryCollection"===t.type?"GeometryCollection":"Feature"===t.type&&null!==t.geometry?t.geometry.type:t.type}id.default=id;var pd=Object.freeze({__proto__:null,getCoord:od,getCoords:ld,containsNumber:sd,geojsonType:rd,featureOf:ad,collectionOf:dd,getGeom:cd,getType:ud}),hd=Object.getOwnPropertySymbols,md=Object.prototype.hasOwnProperty,bd=Object.prototype.propertyIsEnumerable;
/*
  object-assign
  (c) Sindre Sorhus
  @license MIT
  */function yd(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}var Zd=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var n={},e=0;e<10;e++)n["_"+String.fromCharCode(e)]=e;if("0123456789"!==Object.getOwnPropertyNames(n).map((function(t){return n[t]})).join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach((function(t){i[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(t){return!1}}()?Object.assign:function(t,n){for(var e,i,o=yd(t),l=1;l<arguments.length;l++){for(var s in e=Object(arguments[l]))md.call(e,s)&&(o[s]=e[s]);if(hd){i=hd(e);for(var r=0;r<i.length;r++)bd.call(e,i[r])&&(o[i[r]]=e[i[r]])}}return o},Xd={successCallback:null,verbose:!1},fd={};
/**
   * @license GNU Affero General Public License.
   * Copyright (c) 2015, 2015 Ronny Lorenz <ronny@tbi.univie.ac.at>
   * v. 1.2.0
   * https://github.com/RaumZeit/MarchingSquares.js
   *
   * MarchingSquaresJS is free software: you can redistribute it and/or modify
   * it under the terms of the GNU Affero General Public License as published by
   * the Free Software Foundation, either version 3 of the License, or
   * (at your option) any later version.
   *
   * MarchingSquaresJS is distributed in the hope that it will be useful,
   * but WITHOUT ANY WARRANTY; without even the implied warranty of
   * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
   * GNU Affero General Public License for more details.
   *
   * As additional permission under GNU Affero General Public License version 3
   * section 7, third-party projects (personal or commercial) may distribute,
   * include, or link against UNMODIFIED VERSIONS of MarchingSquaresJS without the
   * requirement that said third-party project for that reason alone becomes
   * subject to any requirement of the GNU Affero General Public License version 3.
   * Any modifications to MarchingSquaresJS, however, must be shared with the public
   * and made available.
   *
   * In summary this:
   * - allows you to use MarchingSquaresJS at no cost
   * - allows you to use MarchingSquaresJS for both personal and commercial purposes
   * - allows you to distribute UNMODIFIED VERSIONS of MarchingSquaresJS under any
   *   license as long as this license notice is included
   * - enables you to keep the source code of your program that uses MarchingSquaresJS
   *   undisclosed
   * - forces you to share any modifications you have made to MarchingSquaresJS,
   *   e.g. bug-fixes
   *
   * You should have received a copy of the GNU Affero General Public License
   * along with MarchingSquaresJS.  If not, see <http://www.gnu.org/licenses/>.
   */function Gd(t,n,e){e=e||{};for(var i=Object.keys(Xd),o=0;o<i.length;o++){var l=i[o],s=e[l];s=null!=s?s:Xd[l],fd[l]=s}fd.verbose&&console.log("MarchingSquaresJS-isoContours: computing isocontour for "+n);var r=function(t){var n=[],e=0,i=1e-7;return t.cells.forEach((function(o,l){o.forEach((function(o,s){if(void 0!==o&&(5!==(h=o).cval&&10!==h.cval)&&!gd(o)){var r=function(t,n,e){var i,o,l=t.length,s=[],r=[0,0,1,1,0,0,0,0,-1,0,1,1,-1,0,-1,0],a=[0,-1,0,0,1,1,1,1,0,-1,0,0,0,-1,0,0],d=["none","left","bottom","left","right","none","bottom","left","top","top","none","top","right","right","bottom","none"],c=["none","bottom","right","right","top","top","top","top","left","bottom","right","right","left","bottom","left","none"],u=t[n][e],p=u.cval,h=d[p],m=Vd(u,h);s.push([e+m[0],n+m[1]]),h=c[p],m=Vd(u,h),s.push([e+m[0],n+m[1]]),vd(u);var b=e+r[p],y=n+a[p],Z=p;for(;b>=0&&y>=0&&y<l&&(b!=e||y!=n)&&void 0!==(u=t[y][b]);){if(0===(p=u.cval)||15===p)return{path:s,info:"mergeable"};h=c[p],i=r[p],o=a[p],5!==p&&10!==p||(5===p?u.flipped?-1===a[Z]?(h="left",i=-1,o=0):(h="right",i=1,o=0):-1===r[Z]&&(h="bottom",i=0,o=-1):10===p&&(u.flipped?-1===r[Z]?(h="top",i=0,o=1):(h="bottom",i=0,o=-1):1===a[Z]&&(h="left",i=-1,o=0))),m=Vd(u,h),s.push([b+m[0],y+m[1]]),vd(u),b+=i,y+=o,Z=p}return{path:s,info:"closed"}}(t.cells,l,s),a=!1;if("mergeable"===r.info)for(var d=r.path[r.path.length-1][0],c=r.path[r.path.length-1][1],u=e-1;u>=0;u--)if(Math.abs(n[u][0][0]-d)<=i&&Math.abs(n[u][0][1]-c)<=i){for(var p=r.path.length-2;p>=0;--p)n[u].unshift(r.path[p]);a=!0;break}a||(n[e++]=r.path)}var h}))})),n}(function(t,n){for(var e=t.length-1,i=t[0].length-1,o={rows:e,cols:i,cells:[]},l=0;l<e;++l){o.cells[l]=[];for(var s=0;s<i;++s){var r=0,a=t[l+1][s],d=t[l+1][s+1],c=t[l][s+1],u=t[l][s];if(!(isNaN(a)||isNaN(d)||isNaN(c)||isNaN(u))){r|=a>=n?8:0,r|=d>=n?4:0,r|=c>=n?2:0;var p,h,m,b,y=!1;if(5===(r|=u>=n?1:0)||10===r){var Z=(a+d+c+u)/4;5===r&&Z<n?(r=10,y=!0):10===r&&Z<n&&(r=5,y=!0)}if(0!==r&&15!==r)p=h=m=b=.5,1===r?(m=1-Wd(n,a,u),h=1-Wd(n,c,u)):2===r?(h=Wd(n,u,c),b=1-Wd(n,d,c)):3===r?(m=1-Wd(n,a,u),b=1-Wd(n,d,c)):4===r?(p=Wd(n,a,d),b=Wd(n,c,d)):5===r?(p=Wd(n,a,d),b=Wd(n,c,d),h=1-Wd(n,c,u),m=1-Wd(n,a,u)):6===r?(h=Wd(n,u,c),p=Wd(n,a,d)):7===r?(m=1-Wd(n,a,u),p=Wd(n,a,d)):8===r?(m=Wd(n,u,a),p=1-Wd(n,d,a)):9===r?(h=1-Wd(n,c,u),p=1-Wd(n,d,a)):10===r?(p=1-Wd(n,d,a),b=1-Wd(n,d,c),h=Wd(n,u,c),m=Wd(n,u,a)):11===r?(p=1-Wd(n,d,a),b=1-Wd(n,d,c)):12===r?(m=Wd(n,u,a),b=Wd(n,c,d)):13===r?(h=1-Wd(n,c,u),b=Wd(n,c,d)):14===r?(m=Wd(n,u,a),h=Wd(n,u,c)):console.log("MarchingSquaresJS-isoContours: Illegal cval detected: "+r),o.cells[l][s]={cval:r,flipped:y,top:p,right:b,bottom:h,left:m}}}}return o}(t,n));return"function"==typeof fd.successCallback&&fd.successCallback(r),r}function Wd(t,n,e){return(t-n)/(e-n)}function gd(t){return 0===t.cval||15===t.cval}function vd(t){gd(t)||5===t.cval||10===t.cval||(t.cval=15)}function Vd(t,n){return"top"===n?[t.top,1]:"bottom"===n?[t.bottom,0]:"right"===n?[1,t.right]:"left"===n?[0,t.left]:void 0}function xd(t,n){if(!wa(n=n||{}))throw new Error("options is invalid");var e=n.zProperty||"elevation",i=n.flip,o=n.flags;dd(t,"Point","input must contain Points");for(var l=function(t,n){var e={};Ba(t,(function(t){var n=ld(t)[1];e[n]||(e[n]=[]),e[n].push(t)}));var i=Object.keys(e).map((function(t){return e[t].sort((function(t,n){return ld(t)[0]-ld(n)[0]}))}));return i.sort((function(t,e){return n?ld(t[0])[1]-ld(e[0])[1]:ld(e[0])[1]-ld(t[0])[1]}))}(t,i),s=[],r=0;r<l.length;r++){for(var a=l[r],d=[],c=0;c<a.length;c++){var u=a[c];u.properties[e]?d.push(u.properties[e]):d.push(0),!0===o&&(u.properties.matrixPosition=[r,c])}s.push(d)}return s}var Sd=o((function(t,n){t.exports=function(){function t(t,i,o,l,s){!function t(e,i,o,l,s){for(;l>o;){if(l-o>600){var r=l-o+1,a=i-o+1,d=Math.log(r),c=.5*Math.exp(2*d/3),u=.5*Math.sqrt(d*c*(r-c)/r)*(a-r/2<0?-1:1);t(e,i,Math.max(o,Math.floor(i-a*c/r+u)),Math.min(l,Math.floor(i+(r-a)*c/r+u)),s)}var p=e[i],h=o,m=l;for(n(e,o,i),s(e[l],p)>0&&n(e,o,l);h<m;){for(n(e,h,m),h++,m--;s(e[h],p)<0;)h++;for(;s(e[m],p)>0;)m--}0===s(e[o],p)?n(e,o,m):n(e,++m,l),m<=i&&(o=m+1),i<=m&&(l=m-1)}}(t,i,o||0,l||t.length-1,s||e)}function n(t,n,e){var i=t[n];t[n]=t[e],t[e]=i}function e(t,n){return t<n?-1:t>n?1:0}var i=function(t){void 0===t&&(t=9),this._maxEntries=Math.max(4,t),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function o(t,n,e){if(!e)return n.indexOf(t);for(var i=0;i<n.length;i++)if(e(t,n[i]))return i;return-1}function l(t,n){s(t,0,t.children.length,n,t)}function s(t,n,e,i,o){o||(o=m(null)),o.minX=1/0,o.minY=1/0,o.maxX=-1/0,o.maxY=-1/0;for(var l=n;l<e;l++){var s=t.children[l];r(o,t.leaf?i(s):s)}return o}function r(t,n){return t.minX=Math.min(t.minX,n.minX),t.minY=Math.min(t.minY,n.minY),t.maxX=Math.max(t.maxX,n.maxX),t.maxY=Math.max(t.maxY,n.maxY),t}function a(t,n){return t.minX-n.minX}function d(t,n){return t.minY-n.minY}function c(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function u(t){return t.maxX-t.minX+(t.maxY-t.minY)}function p(t,n){return t.minX<=n.minX&&t.minY<=n.minY&&n.maxX<=t.maxX&&n.maxY<=t.maxY}function h(t,n){return n.minX<=t.maxX&&n.minY<=t.maxY&&n.maxX>=t.minX&&n.maxY>=t.minY}function m(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function b(n,e,i,o,l){for(var s=[e,i];s.length;)if(!((i=s.pop())-(e=s.pop())<=o)){var r=e+Math.ceil((i-e)/o/2)*o;t(n,r,e,i,l),s.push(e,r,r,i)}}return i.prototype.all=function(){return this._all(this.data,[])},i.prototype.search=function(t){var n=this.data,e=[];if(!h(t,n))return e;for(var i=this.toBBox,o=[];n;){for(var l=0;l<n.children.length;l++){var s=n.children[l],r=n.leaf?i(s):s;h(t,r)&&(n.leaf?e.push(s):p(t,r)?this._all(s,e):o.push(s))}n=o.pop()}return e},i.prototype.collides=function(t){var n=this.data;if(!h(t,n))return!1;for(var e=[];n;){for(var i=0;i<n.children.length;i++){var o=n.children[i],l=n.leaf?this.toBBox(o):o;if(h(t,l)){if(n.leaf||p(t,l))return!0;e.push(o)}}n=e.pop()}return!1},i.prototype.load=function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var n=0;n<t.length;n++)this.insert(t[n]);return this}var e=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===e.height)this._splitRoot(this.data,e);else{if(this.data.height<e.height){var i=this.data;this.data=e,e=i}this._insert(e,this.data.height-e.height-1,!0)}else this.data=e;return this},i.prototype.insert=function(t){return t&&this._insert(t,this.data.height-1),this},i.prototype.clear=function(){return this.data=m([]),this},i.prototype.remove=function(t,n){if(!t)return this;for(var e,i,l,s=this.data,r=this.toBBox(t),a=[],d=[];s||a.length;){if(s||(s=a.pop(),i=a[a.length-1],e=d.pop(),l=!0),s.leaf){var c=o(t,s.children,n);if(-1!==c)return s.children.splice(c,1),a.push(s),this._condense(a),this}l||s.leaf||!p(s,r)?i?(e++,s=i.children[e],l=!1):s=null:(a.push(s),d.push(e),e=0,i=s,s=s.children[0])}return this},i.prototype.toBBox=function(t){return t},i.prototype.compareMinX=function(t,n){return t.minX-n.minX},i.prototype.compareMinY=function(t,n){return t.minY-n.minY},i.prototype.toJSON=function(){return this.data},i.prototype.fromJSON=function(t){return this.data=t,this},i.prototype._all=function(t,n){for(var e=[];t;)t.leaf?n.push.apply(n,t.children):e.push.apply(e,t.children),t=e.pop();return n},i.prototype._build=function(t,n,e,i){var o,s=e-n+1,r=this._maxEntries;if(s<=r)return l(o=m(t.slice(n,e+1)),this.toBBox),o;i||(i=Math.ceil(Math.log(s)/Math.log(r)),r=Math.ceil(s/Math.pow(r,i-1))),(o=m([])).leaf=!1,o.height=i;var a=Math.ceil(s/r),d=a*Math.ceil(Math.sqrt(r));b(t,n,e,d,this.compareMinX);for(var c=n;c<=e;c+=d){var u=Math.min(c+d-1,e);b(t,c,u,a,this.compareMinY);for(var p=c;p<=u;p+=a){var h=Math.min(p+a-1,u);o.children.push(this._build(t,p,h,i-1))}}return l(o,this.toBBox),o},i.prototype._chooseSubtree=function(t,n,e,i){for(;i.push(n),!n.leaf&&i.length-1!==e;){for(var o=1/0,l=1/0,s=void 0,r=0;r<n.children.length;r++){var a=n.children[r],d=c(a),u=(p=t,h=a,(Math.max(h.maxX,p.maxX)-Math.min(h.minX,p.minX))*(Math.max(h.maxY,p.maxY)-Math.min(h.minY,p.minY))-d);u<l?(l=u,o=d<o?d:o,s=a):u===l&&d<o&&(o=d,s=a)}n=s||n.children[0]}var p,h;return n},i.prototype._insert=function(t,n,e){var i=e?t:this.toBBox(t),o=[],l=this._chooseSubtree(i,this.data,n,o);for(l.children.push(t),r(l,i);n>=0&&o[n].children.length>this._maxEntries;)this._split(o,n),n--;this._adjustParentBBoxes(i,o,n)},i.prototype._split=function(t,n){var e=t[n],i=e.children.length,o=this._minEntries;this._chooseSplitAxis(e,o,i);var s=this._chooseSplitIndex(e,o,i),r=m(e.children.splice(s,e.children.length-s));r.height=e.height,r.leaf=e.leaf,l(e,this.toBBox),l(r,this.toBBox),n?t[n-1].children.push(r):this._splitRoot(e,r)},i.prototype._splitRoot=function(t,n){this.data=m([t,n]),this.data.height=t.height+1,this.data.leaf=!1,l(this.data,this.toBBox)},i.prototype._chooseSplitIndex=function(t,n,e){for(var i,o,l,r,a,d,u,p=1/0,h=1/0,m=n;m<=e-n;m++){var b=s(t,0,m,this.toBBox),y=s(t,m,e,this.toBBox),Z=(o=b,l=y,r=void 0,a=void 0,d=void 0,u=void 0,r=Math.max(o.minX,l.minX),a=Math.max(o.minY,l.minY),d=Math.min(o.maxX,l.maxX),u=Math.min(o.maxY,l.maxY),Math.max(0,d-r)*Math.max(0,u-a)),X=c(b)+c(y);Z<p?(p=Z,i=m,h=X<h?X:h):Z===p&&X<h&&(h=X,i=m)}return i||e-n},i.prototype._chooseSplitAxis=function(t,n,e){var i=t.leaf?this.compareMinX:a,o=t.leaf?this.compareMinY:d;this._allDistMargin(t,n,e,i)<this._allDistMargin(t,n,e,o)&&t.children.sort(i)},i.prototype._allDistMargin=function(t,n,e,i){t.children.sort(i);for(var o=this.toBBox,l=s(t,0,n,o),a=s(t,e-n,e,o),d=u(l)+u(a),c=n;c<e-n;c++){var p=t.children[c];r(l,t.leaf?o(p):p),d+=u(l)}for(var h=e-n-1;h>=n;h--){var m=t.children[h];r(a,t.leaf?o(m):m),d+=u(a)}return d},i.prototype._adjustParentBBoxes=function(t,n,e){for(var i=e;i>=0;i--)r(n[i],t)},i.prototype._condense=function(t){for(var n=t.length-1,e=void 0;n>=0;n--)0===t[n].children.length?n>0?(e=t[n-1].children).splice(e.indexOf(t[n]),1):this.clear():l(t[n],this.toBBox)},i}()})),Ld=function(){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Rd;if(vl(this,t),this.data=n,this.length=this.data.length,this.compare=e,this.length>0)for(var i=(this.length>>1)-1;i>=0;i--)this._down(i)}return xl(t,[{key:"push",value:function(t){this.data.push(t),this.length++,this._up(this.length-1)}},{key:"pop",value:function(){if(0!==this.length){var t=this.data[0],n=this.data.pop();return this.length--,this.length>0&&(this.data[0]=n,this._down(0)),t}}},{key:"peek",value:function(){return this.data[0]}},{key:"_up",value:function(t){for(var n=this.data,e=this.compare,i=n[t];t>0;){var o=t-1>>1,l=n[o];if(e(i,l)>=0)break;n[t]=l,t=o}n[t]=i}},{key:"_down",value:function(t){for(var n=this.data,e=this.compare,i=this.length>>1,o=n[t];t<i;){var l=1+(t<<1),s=n[l],r=l+1;if(r<this.length&&e(n[r],s)<0&&(l=r,s=n[r]),e(s,o)>=0)break;n[t]=s,t=l}n[t]=o}}]),t}();function Rd(t,n){return t<n?-1:t>n?1:0}var Kd=Object.freeze({__proto__:null,default:Ld}),Hd=function(t,n,e,i){var o=t[0],l=t[1],s=!1;void 0===e&&(e=0),void 0===i&&(i=n.length);for(var r=(i-e)/2,a=0,d=r-1;a<r;d=a++){var c=n[e+2*a+0],u=n[e+2*a+1],p=n[e+2*d+0],h=n[e+2*d+1];u>l!=h>l&&o<(p-c)*(l-u)/(h-u)+c&&(s=!s)}return s},Cd=function(t,n,e,i){var o=t[0],l=t[1],s=!1;void 0===e&&(e=0),void 0===i&&(i=n.length);for(var r=i-e,a=0,d=r-1;a<r;d=a++){var c=n[a+e][0],u=n[a+e][1],p=n[d+e][0],h=n[d+e][1];u>l!=h>l&&o<(p-c)*(l-u)/(h-u)+c&&(s=!s)}return s},Yd=function(t,n,e,i){return n.length>0&&Array.isArray(n[0])?Cd(t,n,e,i):Hd(t,n,e,i)},Td=Hd;Yd.nested=Cd,Yd.flat=Td;var Md=o((function(t,n){!function(t){var n=134217729,e=33306690738754706e-32;function i(t,n,e,i,o){var l,s,r,a,d=n[0],c=i[0],u=0,p=0;c>d==c>-d?(l=d,d=n[++u]):(l=c,c=i[++p]);var h=0;if(u<t&&p<e)for(c>d==c>-d?(r=l-((s=d+l)-d),d=n[++u]):(r=l-((s=c+l)-c),c=i[++p]),l=s,0!==r&&(o[h++]=r);u<t&&p<e;)c>d==c>-d?(r=l-((s=l+d)-(a=s-l))+(d-a),d=n[++u]):(r=l-((s=l+c)-(a=s-l))+(c-a),c=i[++p]),l=s,0!==r&&(o[h++]=r);for(;u<t;)r=l-((s=l+d)-(a=s-l))+(d-a),d=n[++u],l=s,0!==r&&(o[h++]=r);for(;p<e;)r=l-((s=l+c)-(a=s-l))+(c-a),c=i[++p],l=s,0!==r&&(o[h++]=r);return 0===l&&0!==h||(o[h++]=l),h}function o(t){return new Float64Array(t)}var l=33306690738754716e-32,s=22204460492503146e-32,r=11093356479670487e-47,a=o(4),d=o(8),c=o(12),u=o(16),p=o(4);t.orient2d=function(t,o,h,m,b,y){var Z=(o-y)*(h-b),X=(t-b)*(m-y),f=Z-X;if(0===Z||0===X||Z>0!=X>0)return f;var G=Math.abs(Z+X);return Math.abs(f)>=l*G?f:-function(t,o,l,h,m,b,y){var Z,X,f,G,W,g,v,V,x,S,L,R,K,H,C,Y,T,M,w=t-m,P=l-m,I=o-b,z=h-b;W=(C=(V=w-(v=(g=n*w)-(g-w)))*(S=z-(x=(g=n*z)-(g-z)))-((H=w*z)-v*x-V*x-v*S))-(L=C-(T=(V=I-(v=(g=n*I)-(g-I)))*(S=P-(x=(g=n*P)-(g-P)))-((Y=I*P)-v*x-V*x-v*S))),a[0]=C-(L+W)+(W-T),W=(K=H-((R=H+L)-(W=R-H))+(L-W))-(L=K-Y),a[1]=K-(L+W)+(W-Y),W=(M=R+L)-R,a[2]=R-(M-W)+(L-W),a[3]=M;var J=function(t,n){for(var e=n[0],i=1;i<t;i++)e+=n[i];return e}(4,a),N=s*y;if(J>=N||-J>=N)return J;if(Z=t-(w+(W=t-w))+(W-m),f=l-(P+(W=l-P))+(W-m),X=o-(I+(W=o-I))+(W-b),G=h-(z+(W=h-z))+(W-b),0===Z&&0===X&&0===f&&0===G)return J;if(N=r*y+e*Math.abs(J),(J+=w*G+z*Z-(I*f+P*X))>=N||-J>=N)return J;W=(C=(V=Z-(v=(g=n*Z)-(g-Z)))*(S=z-(x=(g=n*z)-(g-z)))-((H=Z*z)-v*x-V*x-v*S))-(L=C-(T=(V=X-(v=(g=n*X)-(g-X)))*(S=P-(x=(g=n*P)-(g-P)))-((Y=X*P)-v*x-V*x-v*S))),p[0]=C-(L+W)+(W-T),W=(K=H-((R=H+L)-(W=R-H))+(L-W))-(L=K-Y),p[1]=K-(L+W)+(W-Y),W=(M=R+L)-R,p[2]=R-(M-W)+(L-W),p[3]=M;var F=i(4,a,4,p,d);W=(C=(V=w-(v=(g=n*w)-(g-w)))*(S=G-(x=(g=n*G)-(g-G)))-((H=w*G)-v*x-V*x-v*S))-(L=C-(T=(V=I-(v=(g=n*I)-(g-I)))*(S=f-(x=(g=n*f)-(g-f)))-((Y=I*f)-v*x-V*x-v*S))),p[0]=C-(L+W)+(W-T),W=(K=H-((R=H+L)-(W=R-H))+(L-W))-(L=K-Y),p[1]=K-(L+W)+(W-Y),W=(M=R+L)-R,p[2]=R-(M-W)+(L-W),p[3]=M;var k=i(F,d,4,p,c);W=(C=(V=Z-(v=(g=n*Z)-(g-Z)))*(S=G-(x=(g=n*G)-(g-G)))-((H=Z*G)-v*x-V*x-v*S))-(L=C-(T=(V=X-(v=(g=n*X)-(g-X)))*(S=f-(x=(g=n*f)-(g-f)))-((Y=X*f)-v*x-V*x-v*S))),p[0]=C-(L+W)+(W-T),W=(K=H-((R=H+L)-(W=R-H))+(L-W))-(L=K-Y),p[1]=K-(L+W)+(W-Y),W=(M=R+L)-R,p[2]=R-(M-W)+(L-W),p[3]=M;var B=i(k,c,4,p,u);return u[B-1]}(t,o,h,m,b,y,G)},t.orient2dfast=function(t,n,e,i,o,l){return(n-l)*(e-o)-(t-o)*(i-l)},Object.defineProperty(t,"__esModule",{value:!0})}(n)})),wd=i(Kd),Pd=Md.orient2d;wd.default&&(wd=wd.default);var Id=zd;function zd(t,n,e){n=Math.max(0,void 0===n?2:n),e=e||0;var i=function(t){for(var n=t[0],e=t[0],i=t[0],o=t[0],l=0;l<t.length;l++){var s=t[l];s[0]<n[0]&&(n=s),s[0]>i[0]&&(i=s),s[1]<e[1]&&(e=s),s[1]>o[1]&&(o=s)}var r=[n,e,i,o],a=r.slice();for(l=0;l<t.length;l++)Yd(t[l],r)||a.push(t[l]);return function(t){t.sort(Ad);for(var n=[],e=0;e<t.length;e++){for(;n.length>=2&&_d(n[n.length-2],n[n.length-1],t[e])<=0;)n.pop();n.push(t[e])}for(var i=[],o=t.length-1;o>=0;o--){for(;i.length>=2&&_d(i[i.length-2],i[i.length-1],t[o])<=0;)i.pop();i.push(t[o])}return i.pop(),n.pop(),n.concat(i)}(a)}(t),o=new Sd(16);o.toBBox=function(t){return{minX:t[0],minY:t[1],maxX:t[0],maxY:t[1]}},o.compareMinX=function(t,n){return t[0]-n[0]},o.compareMinY=function(t,n){return t[1]-n[1]},o.load(t);for(var l,s=[],r=0;r<i.length;r++){var a=i[r];o.remove(a),l=Ed(a,l),s.push(l)}var d=new Sd(16);for(r=0;r<s.length;r++)d.insert(Ud(s[r]));for(var c=n*n,u=e*e;s.length;){var p=s.shift(),h=p.p,m=p.next.p,b=jd(h,m);if(!(b<u)){var y=b/c;(a=Jd(o,p.prev.p,h,m,p.next.next.p,y,d))&&Math.min(jd(a,h),jd(a,m))<=y&&(s.push(p),s.push(Ed(a,p)),o.remove(a),d.remove(p),d.insert(Ud(p)),d.insert(Ud(p.next)))}}p=l;var Z=[];do{Z.push(p.p),p=p.next}while(p!==l);return Z.push(p.p),Z}function Jd(t,n,e,i,o,l,s){for(var r=new wd([],Nd),a=t.data;a;){for(var d=0;d<a.children.length;d++){var c=a.children[d],u=a.leaf?Qd(c,e,i):Fd(e,i,c);u>l||r.push({node:c,dist:u})}for(;r.length&&!r.peek().node.children;){var p=r.pop(),h=p.node,m=Qd(h,n,e),b=Qd(h,i,o);if(p.dist<m&&p.dist<b&&Bd(e,h,s)&&Bd(i,h,s))return h}(a=r.pop())&&(a=a.node)}return null}function Nd(t,n){return t.dist-n.dist}function Fd(t,n,e){if(kd(t,e)||kd(n,e))return 0;var i=Od(t[0],t[1],n[0],n[1],e.minX,e.minY,e.maxX,e.minY);if(0===i)return 0;var o=Od(t[0],t[1],n[0],n[1],e.minX,e.minY,e.minX,e.maxY);if(0===o)return 0;var l=Od(t[0],t[1],n[0],n[1],e.maxX,e.minY,e.maxX,e.maxY);if(0===l)return 0;var s=Od(t[0],t[1],n[0],n[1],e.minX,e.maxY,e.maxX,e.maxY);return 0===s?0:Math.min(i,o,l,s)}function kd(t,n){return t[0]>=n.minX&&t[0]<=n.maxX&&t[1]>=n.minY&&t[1]<=n.maxY}function Bd(t,n,e){for(var i,o,l,s,r=Math.min(t[0],n[0]),a=Math.min(t[1],n[1]),d=Math.max(t[0],n[0]),c=Math.max(t[1],n[1]),u=e.search({minX:r,minY:a,maxX:d,maxY:c}),p=0;p<u.length;p++)if(i=u[p].p,o=u[p].next.p,l=t,i!==(s=n)&&o!==l&&_d(i,o,l)>0!=_d(i,o,s)>0&&_d(l,s,i)>0!=_d(l,s,o)>0)return!1;return!0}function _d(t,n,e){return Pd(t[0],t[1],n[0],n[1],e[0],e[1])}function Ud(t){var n=t.p,e=t.next.p;return t.minX=Math.min(n[0],e[0]),t.minY=Math.min(n[1],e[1]),t.maxX=Math.max(n[0],e[0]),t.maxY=Math.max(n[1],e[1]),t}function Ed(t,n){var e={p:t,prev:null,next:null,minX:0,minY:0,maxX:0,maxY:0};return n?(e.next=n.next,e.prev=n,n.next.prev=e,n.next=e):(e.prev=e,e.next=e),e}function jd(t,n){var e=t[0]-n[0],i=t[1]-n[1];return e*e+i*i}function Qd(t,n,e){var i=n[0],o=n[1],l=e[0]-i,s=e[1]-o;if(0!==l||0!==s){var r=((t[0]-i)*l+(t[1]-o)*s)/(l*l+s*s);r>1?(i=e[0],o=e[1]):r>0&&(i+=l*r,o+=s*r)}return(l=t[0]-i)*l+(s=t[1]-o)*s}function Od(t,n,e,i,o,l,s,r){var a,d,c,u,p=e-t,h=i-n,m=s-o,b=r-l,y=t-o,Z=n-l,X=p*p+h*h,f=p*m+h*b,G=m*m+b*b,W=p*y+h*Z,g=m*y+b*Z,v=X*G-f*f,V=v,x=v;0===v?(d=0,V=1,u=g,x=G):(u=X*g-f*W,(d=f*g-G*W)<0?(d=0,u=g,x=G):d>V&&(d=V,u=g+f,x=G)),u<0?(u=0,-W<0?d=0:-W>X?d=V:(d=-W,V=X)):u>x&&(u=x,-W+f<0?d=0:-W+f>X?d=V:(d=-W+f,V=X));var S=(1-(c=0===u?0:u/x))*o+c*s-((1-(a=0===d?0:d/V))*t+a*e),L=(1-c)*l+c*r-((1-a)*n+a*i);return S*S+L*L}function Ad(t,n){return t[0]===n[0]?t[1]-n[1]:t[0]-n[0]}var Dd=zd;function qd(t,n){void 0===n&&(n={}),n.concavity=n.concavity||1/0;var e=[];if(Ja(t,(function(t){e.push([t[0],t[1]])})),!e.length)return null;var i=Dd(e,n.concavity);return i.length>3?ya([i]):null}function $d(t,n,e){if(void 0===e&&(e={}),!t)throw new Error("point is required");if(!n)throw new Error("polygon is required");var i=od(t),o=cd(n),l=o.type,s=n.bbox,r=o.coordinates;if(s&&!1===function(t,n){return n[0]<=t[0]&&n[1]<=t[1]&&n[2]>=t[0]&&n[3]>=t[1]}(i,s))return!1;"Polygon"===l&&(r=[r]);for(var a=!1,d=0;d<r.length&&!a;d++)if(tc(i,r[d][0],e.ignoreBoundary)){for(var c=!1,u=1;u<r[d].length&&!c;)tc(i,r[d][u],!e.ignoreBoundary)&&(c=!0),u++;c||(a=!0)}return a}function tc(t,n,e){var i=!1;n[0][0]===n[n.length-1][0]&&n[0][1]===n[n.length-1][1]&&(n=n.slice(0,n.length-1));for(var o=0,l=n.length-1;o<n.length;l=o++){var s=n[o][0],r=n[o][1],a=n[l][0],d=n[l][1];if(t[1]*(s-a)+r*(a-t[0])+d*(t[0]-s)==0&&(s-t[0])*(a-t[0])<=0&&(r-t[1])*(d-t[1])<=0)return!e;r>t[1]!=d>t[1]&&t[0]<(a-s)*(t[1]-r)/(d-r)+s&&(i=!i)}return i}function nc(t,n){var e=[];return Ba(t,(function(t){var i=!1;if("Point"===t.geometry.type)Ea(n,(function(n){$d(t,n)&&(i=!0)})),i&&e.push(t);else{if("MultiPoint"!==t.geometry.type)throw new Error("Input geometry must be a Point or MultiPoint");var o=[];Ea(n,(function(n){Ja(t,(function(t){$d(t,n)&&(i=!0,o.push(t))}))})),i&&e.push(ga(o))}})),Ga(e)}function ec(t,n,e){void 0===e&&(e={});var i=od(t),o=od(n),l=Ca(o[1]-i[1]),s=Ca(o[0]-i[0]),r=Ca(i[1]),a=Ca(o[1]),d=Math.pow(Math.sin(l/2),2)+Math.pow(Math.sin(s/2),2)*Math.cos(r)*Math.cos(a);return Sa(2*Math.atan2(Math.sqrt(d),Math.sqrt(1-d)),e.units)}function ic(t,n){var e=!1;return Ga(function(t){if(t.length<3)return[];t.sort(lc);var n,e,i,o,l,s,r=t.length-1,a=t[r].x,d=t[0].x,c=t[r].y,u=c,p=1e-12;for(;r--;)t[r].y<c&&(c=t[r].y),t[r].y>u&&(u=t[r].y);var h,m=d-a,b=u-c,y=m>b?m:b,Z=.5*(d+a),X=.5*(u+c),f=[new oc({__sentinel:!0,x:Z-20*y,y:X-y},{__sentinel:!0,x:Z,y:X+20*y},{__sentinel:!0,x:Z+20*y,y:X-y})],G=[],W=[];r=t.length;for(;r--;){for(W.length=0,h=f.length;h--;)(m=t[r].x-f[h].x)>0&&m*m>f[h].r?(G.push(f[h]),f.splice(h,1)):m*m+(b=t[r].y-f[h].y)*b>f[h].r||(W.push(f[h].a,f[h].b,f[h].b,f[h].c,f[h].c,f[h].a),f.splice(h,1));for(sc(W),h=W.length;h;)e=W[--h],n=W[--h],i=t[r],o=e.x-n.x,l=e.y-n.y,s=2*(o*(i.y-e.y)-l*(i.x-e.x)),Math.abs(s)>p&&f.push(new oc(n,e,i))}Array.prototype.push.apply(G,f),r=G.length;for(;r--;)(G[r].a.__sentinel||G[r].b.__sentinel||G[r].c.__sentinel)&&G.splice(r,1);return G}(t.features.map((function(t){var i={x:t.geometry.coordinates[0],y:t.geometry.coordinates[1]};return n?i.z=t.properties[n]:3===t.geometry.coordinates.length&&(e=!0,i.z=t.geometry.coordinates[2]),i}))).map((function(t){var n=[t.a.x,t.a.y],i=[t.b.x,t.b.y],o=[t.c.x,t.c.y],l={};return e?(n.push(t.a.z),i.push(t.b.z),o.push(t.c.z)):l={a:t.a.z,b:t.b.z,c:t.c.z},ya([[n,i,o,n]],l)})))}zd.default=Id;var oc=function(t,n,e){this.a=t,this.b=n,this.c=e;var i,o,l=n.x-t.x,s=n.y-t.y,r=e.x-t.x,a=e.y-t.y,d=l*(t.x+n.x)+s*(t.y+n.y),c=r*(t.x+e.x)+a*(t.y+e.y),u=2*(l*(e.y-n.y)-s*(e.x-n.x));this.x=(a*d-s*c)/u,this.y=(l*c-r*d)/u,i=this.x-t.x,o=this.y-t.y,this.r=i*i+o*o};function lc(t,n){return n.x-t.x}function sc(t){var n,e,i,o,l,s=t.length;t:for(;s;)for(e=t[--s],n=t[--s],i=s;i;)if(l=t[--i],n===(o=t[--i])&&e===l||n===l&&e===o){t.splice(s,2),t.splice(i,2),s-=2;continue t}}function rc(t){if(!t)throw new Error("geojson is required");switch(t.type){case"Feature":return ac(t);case"FeatureCollection":return function(t){var n={type:"FeatureCollection"};return Object.keys(t).forEach((function(e){switch(e){case"type":case"features":return;default:n[e]=t[e]}})),n.features=t.features.map((function(t){return ac(t)})),n}(t);case"Point":case"LineString":case"Polygon":case"MultiPoint":case"MultiLineString":case"MultiPolygon":case"GeometryCollection":return cc(t);default:throw new Error("unknown GeoJSON type")}}function ac(t){var n={type:"Feature"};return Object.keys(t).forEach((function(e){switch(e){case"type":case"properties":case"geometry":return;default:n[e]=t[e]}})),n.properties=dc(t.properties),n.geometry=cc(t.geometry),n}function dc(t){var e={};return t?(Object.keys(t).forEach((function(i){var o=t[i];"object"===n(o)?null===o?e[i]=null:Array.isArray(o)?e[i]=o.map((function(t){return t})):e[i]=dc(o):e[i]=o})),e):e}function cc(t){var n={type:t.type};return t.bbox&&(n.bbox=t.bbox),"GeometryCollection"===t.type?(n.geometries=t.geometries.map((function(t){return cc(t)})),n):(n.coordinates=uc(t.coordinates),n)}function uc(t){var e=t;return"object"!==n(e[0])?e.slice():e.map((function(t){return uc(t)}))}function pc(t,n){if(void 0===n&&(n={}),!wa(n=n||{}))throw new Error("options is invalid");var e=n.mutate;if("FeatureCollection"!==ud(t))throw new Error("geojson must be a FeatureCollection");if(!t.features.length)throw new Error("geojson is empty");!1!==e&&void 0!==e||(t=rc(t));var i=[],o=$a(t,(function(t,n){var e=function(t,n){var e,i=t.geometry.coordinates,o=n.geometry.coordinates,l=hc(i[0]),s=hc(i[i.length-1]),r=hc(o[0]),a=hc(o[o.length-1]);if(l===a)e=o.concat(i.slice(1));else if(r===s)e=i.concat(o.slice(1));else if(l===r)e=i.slice(1).reverse().concat(o);else{if(s!==a)return null;e=i.concat(o.reverse().slice(1))}return Xa(e)}(t,n);return e||(i.push(t),n)}));return o&&i.push(o),i.length?1===i.length?i[0]:Wa(i.map((function(t){return t.coordinates}))):null}function hc(t){return t[0].toString()+","+t[1].toString()}function mc(t){return t}function bc(t,n){var e=function(t){if(null==t)return mc;var n,e,i=t.scale[0],o=t.scale[1],l=t.translate[0],s=t.translate[1];return function(t,r){r||(n=e=0);var a=2,d=t.length,c=new Array(d);for(c[0]=(n+=t[0])*i+l,c[1]=(e+=t[1])*o+s;a<d;)c[a]=t[a],++a;return c}}(t.transform),i=t.arcs;function o(t,n){n.length&&n.pop();for(var o=i[t<0?~t:t],l=0,s=o.length;l<s;++l)n.push(e(o[l],l));t<0&&function(t,n){for(var e,i=t.length,o=i-n;o<--i;)e=t[o],t[o++]=t[i],t[i]=e}(n,s)}function l(t){return e(t)}function s(t){for(var n=[],e=0,i=t.length;e<i;++e)o(t[e],n);return n.length<2&&n.push(n[0]),n}function r(t){for(var n=s(t);n.length<4;)n.push(n[0]);return n}function a(t){return t.map(r)}return function t(n){var e,i=n.type;switch(i){case"GeometryCollection":return{type:i,geometries:n.geometries.map(t)};case"Point":e=l(n.coordinates);break;case"MultiPoint":e=n.coordinates.map(l);break;case"LineString":e=s(n.arcs);break;case"MultiLineString":e=n.arcs.map(s);break;case"Polygon":e=a(n.arcs);break;case"MultiPolygon":e=n.arcs.map(a);break;default:return null}return{type:i,coordinates:e}}(n)}function yc(t,n){var e={},i={},o={},l=[],s=-1;function r(t,n){for(var i in t){var o=t[i];delete n[o.start],delete o.start,delete o.end,o.forEach((function(t){e[t<0?~t:t]=1})),l.push(o)}}return n.forEach((function(e,i){var o,l=t.arcs[e<0?~e:e];l.length<3&&!l[1][0]&&!l[1][1]&&(o=n[++s],n[s]=e,n[i]=o)})),n.forEach((function(n){var e,l,s=function(n){var e,i=t.arcs[n<0?~n:n],o=i[0];t.transform?(e=[0,0],i.forEach((function(t){e[0]+=t[0],e[1]+=t[1]}))):e=i[i.length-1];return n<0?[e,o]:[o,e]}(n),r=s[0],a=s[1];if(e=o[r])if(delete o[e.end],e.push(n),e.end=a,l=i[a]){delete i[l.start];var d=l===e?e:e.concat(l);i[d.start=e.start]=o[d.end=l.end]=d}else i[e.start]=o[e.end]=e;else if(e=i[a])if(delete i[e.start],e.unshift(n),e.start=r,l=o[r]){delete o[l.end];var c=l===e?e:l.concat(e);i[c.start=l.start]=o[c.end=e.end]=c}else i[e.start]=o[e.end]=e;else i[(e=[n]).start=r]=o[e.end=a]=e})),r(o,i),r(i,o),n.forEach((function(t){e[t<0?~t:t]||l.push([t])})),l}function Zc(t,n){var e={},i=[],o=[];function l(t){t.forEach((function(n){n.forEach((function(n){(e[n=n<0?~n:n]||(e[n]=[])).push(t)}))})),i.push(t)}function s(n){return function(t){for(var n,e=-1,i=t.length,o=t[i-1],l=0;++e<i;)n=o,o=t[e],l+=n[0]*o[1]-n[1]*o[0];return Math.abs(l)}(bc(t,{type:"Polygon",arcs:[n]}).coordinates[0])}return n.forEach((function t(n){switch(n.type){case"GeometryCollection":n.geometries.forEach(t);break;case"Polygon":l(n.arcs);break;case"MultiPolygon":n.arcs.forEach(l)}})),i.forEach((function(t){if(!t._){var n=[],i=[t];for(t._=1,o.push(n);t=i.pop();)n.push(t),t.forEach((function(t){t.forEach((function(t){e[t<0?~t:t].forEach((function(t){t._||(t._=1,i.push(t))}))}))}))}})),i.forEach((function(t){delete t._})),{type:"MultiPolygon",arcs:o.map((function(n){var i,o=[];if(n.forEach((function(t){t.forEach((function(t){t.forEach((function(t){e[t<0?~t:t].length<2&&o.push(t)}))}))})),(i=(o=yc(t,o)).length)>1)for(var l,r,a=1,d=s(o[0]);a<i;++a)(l=s(o[a]))>d&&(r=o[0],o[0]=o[a],o[a]=r,d=l);return o})).filter((function(t){return t.length>0}))}}var Xc=Object.prototype.hasOwnProperty;function fc(t,n,e,i,o,l){3===arguments.length&&(i=l=Array,o=null);for(var s=new i(t=1<<Math.max(4,Math.ceil(Math.log(t)/Math.LN2))),r=new l(t),a=t-1,d=0;d<t;++d)s[d]=o;function c(i,l){for(var d=n(i)&a,c=s[d],u=0;c!=o;){if(e(c,i))return r[d]=l;if(++u>=t)throw new Error("full hashmap");c=s[d=d+1&a]}return s[d]=i,r[d]=l,l}function u(i,l){for(var d=n(i)&a,c=s[d],u=0;c!=o;){if(e(c,i))return r[d];if(++u>=t)throw new Error("full hashmap");c=s[d=d+1&a]}return s[d]=i,r[d]=l,l}function p(i,l){for(var d=n(i)&a,c=s[d],u=0;c!=o;){if(e(c,i))return r[d];if(++u>=t)break;c=s[d=d+1&a]}return l}function h(){for(var t=[],n=0,e=s.length;n<e;++n){var i=s[n];i!=o&&t.push(i)}return t}return{set:c,maybeSet:u,get:p,keys:h}}function Gc(t,n){return t[0]===n[0]&&t[1]===n[1]}var Wc=new ArrayBuffer(16),gc=new Float64Array(Wc),vc=new Uint32Array(Wc);function Vc(t){gc[0]=t[0],gc[1]=t[1];var n=vc[0]^vc[1];return 2147483647&(n=n<<5^n>>7^vc[2]^vc[3])}function xc(t){var n,e,i,o,l=t.coordinates,s=t.lines,r=t.rings,a=function(){for(var t=fc(1.4*l.length,W,g,Int32Array,-1,Int32Array),n=new Int32Array(l.length),e=0,i=l.length;e<i;++e)n[e]=t.maybeSet(e,e);return n}(),d=new Int32Array(l.length),c=new Int32Array(l.length),u=new Int32Array(l.length),p=new Int8Array(l.length),h=0;for(n=0,e=l.length;n<e;++n)d[n]=c[n]=u[n]=-1;for(n=0,e=s.length;n<e;++n){var m=s[n],b=m[0],y=m[1];for(i=a[b],o=a[++b],++h,p[i]=1;++b<=y;)G(n,i,i=o,o=a[b]);++h,p[o]=1}for(n=0,e=l.length;n<e;++n)d[n]=-1;for(n=0,e=r.length;n<e;++n){var Z=r[n],X=Z[0]+1,f=Z[1];for(G(n,a[f-1],i=a[X-1],o=a[X]);++X<=f;)G(n,i,i=o,o=a[X])}function G(t,n,e,i){if(d[e]!==t){d[e]=t;var o=c[e];if(o>=0){var l=u[e];o===n&&l===i||o===i&&l===n||(++h,p[e]=1)}else c[e]=n,u[e]=i}}function W(t){return Vc(l[t])}function g(t,n){return Gc(l[t],l[n])}d=c=u=null;var v,V=function(t,n,e,i,o){3===arguments.length&&(i=Array,o=null);for(var l=new i(t=1<<Math.max(4,Math.ceil(Math.log(t)/Math.LN2))),s=t-1,r=0;r<t;++r)l[r]=o;function a(i){for(var r=n(i)&s,a=l[r],d=0;a!=o;){if(e(a,i))return!0;if(++d>=t)throw new Error("full hashset");a=l[r=r+1&s]}return l[r]=i,!0}function d(i){for(var r=n(i)&s,a=l[r],d=0;a!=o;){if(e(a,i))return!0;if(++d>=t)break;a=l[r=r+1&s]}return!1}function c(){for(var t=[],n=0,e=l.length;n<e;++n){var i=l[n];i!=o&&t.push(i)}return t}return{add:a,has:d,values:c}}(1.4*h,Vc,Gc);for(n=0,e=l.length;n<e;++n)p[v=a[n]]&&V.add(l[v]);return V}function Sc(t,n,e,i){Lc(t,n,e),Lc(t,n,n+i),Lc(t,n+i,e)}function Lc(t,n,e){for(var i,o=n+(e---n>>1);n<o;++n,--e)i=t[n],t[n]=t[e],t[e]=i}function Rc(t){var n,e,i={};for(n in t)i[n]=null==(e=t[n])?{type:null}:("FeatureCollection"===e.type?Kc:"Feature"===e.type?Hc:Cc)(e);return i}function Kc(t){var n={type:"GeometryCollection",geometries:t.features.map(Hc)};return null!=t.bbox&&(n.bbox=t.bbox),n}function Hc(t){var n,e=Cc(t.geometry);for(n in null!=t.id&&(e.id=t.id),null!=t.bbox&&(e.bbox=t.bbox),t.properties){e.properties=t.properties;break}return e}function Cc(t){if(null==t)return{type:null};var n="GeometryCollection"===t.type?{type:"GeometryCollection",geometries:t.geometries.map(Cc)}:"Point"===t.type||"MultiPoint"===t.type?{type:t.type,coordinates:t.coordinates}:{type:t.type,arcs:t.coordinates};return null!=t.bbox&&(n.bbox=t.bbox),n}function Yc(t,n){var e=function(t){var n=1/0,e=1/0,i=-1/0,o=-1/0;function l(t){null!=t&&Xc.call(s,t.type)&&s[t.type](t)}var s={GeometryCollection:function(t){t.geometries.forEach(l)},Point:function(t){r(t.coordinates)},MultiPoint:function(t){t.coordinates.forEach(r)},LineString:function(t){a(t.arcs)},MultiLineString:function(t){t.arcs.forEach(a)},Polygon:function(t){t.arcs.forEach(a)},MultiPolygon:function(t){t.arcs.forEach(d)}};function r(t){var l=t[0],s=t[1];l<n&&(n=l),l>i&&(i=l),s<e&&(e=s),s>o&&(o=s)}function a(t){t.forEach(r)}function d(t){t.forEach(a)}for(var c in t)l(t[c]);return i>=n&&o>=e?[n,e,i,o]:void 0}(t=Rc(t)),i=n>0&&e&&function(t,n,e){var i=n[0],o=n[1],l=n[2],s=n[3],r=l-i?(e-1)/(l-i):1,a=s-o?(e-1)/(s-o):1;function d(t){return[Math.round((t[0]-i)*r),Math.round((t[1]-o)*a)]}function c(t,n){for(var e,l,s,d,c,u=-1,p=0,h=t.length,m=new Array(h);++u<h;)e=t[u],d=Math.round((e[0]-i)*r),c=Math.round((e[1]-o)*a),d===l&&c===s||(m[p++]=[l=d,s=c]);for(m.length=p;p<n;)p=m.push([m[0][0],m[0][1]]);return m}function u(t){return c(t,2)}function p(t){return c(t,4)}function h(t){return t.map(p)}function m(t){null!=t&&Xc.call(b,t.type)&&b[t.type](t)}var b={GeometryCollection:function(t){t.geometries.forEach(m)},Point:function(t){t.coordinates=d(t.coordinates)},MultiPoint:function(t){t.coordinates=t.coordinates.map(d)},LineString:function(t){t.arcs=u(t.arcs)},MultiLineString:function(t){t.arcs=t.arcs.map(u)},Polygon:function(t){t.arcs=h(t.arcs)},MultiPolygon:function(t){t.arcs=t.arcs.map(h)}};for(var y in t)m(t[y]);return{scale:[1/r,1/a],translate:[i,o]}}(t,e,n),o=function(t){var n,e,i,o,l=t.coordinates,s=t.lines,r=t.rings,a=s.length+r.length;for(delete t.lines,delete t.rings,i=0,o=s.length;i<o;++i)for(n=s[i];n=n.next;)++a;for(i=0,o=r.length;i<o;++i)for(e=r[i];e=e.next;)++a;var d=fc(2*a*1.4,Vc,Gc),c=t.arcs=[];for(i=0,o=s.length;i<o;++i){n=s[i];do{u(n)}while(n=n.next)}for(i=0,o=r.length;i<o;++i)if((e=r[i]).next)do{u(e)}while(e=e.next);else p(e);function u(t){var n,e,i,o,s,r,a,u;if(i=d.get(n=l[t[0]]))for(a=0,u=i.length;a<u;++a)if(h(o=i[a],t))return t[0]=o[0],void(t[1]=o[1]);if(s=d.get(e=l[t[1]]))for(a=0,u=s.length;a<u;++a)if(m(r=s[a],t))return t[1]=r[0],void(t[0]=r[1]);i?i.push(t):d.set(n,[t]),s?s.push(t):d.set(e,[t]),c.push(t)}function p(t){var n,e,i,o,s;if(e=d.get(l[t[0]]))for(o=0,s=e.length;o<s;++o){if(b(i=e[o],t))return t[0]=i[0],void(t[1]=i[1]);if(y(i,t))return t[0]=i[1],void(t[1]=i[0])}if(e=d.get(n=l[t[0]+Z(t)]))for(o=0,s=e.length;o<s;++o){if(b(i=e[o],t))return t[0]=i[0],void(t[1]=i[1]);if(y(i,t))return t[0]=i[1],void(t[1]=i[0])}e?e.push(t):d.set(n,[t]),c.push(t)}function h(t,n){var e=t[0],i=n[0],o=t[1];if(e-o!=i-n[1])return!1;for(;e<=o;++e,++i)if(!Gc(l[e],l[i]))return!1;return!0}function m(t,n){var e=t[0],i=n[0],o=t[1],s=n[1];if(e-o!=i-s)return!1;for(;e<=o;++e,--s)if(!Gc(l[e],l[s]))return!1;return!0}function b(t,n){var e=t[0],i=n[0],o=t[1]-e;if(o!==n[1]-i)return!1;for(var s=Z(t),r=Z(n),a=0;a<o;++a)if(!Gc(l[e+(a+s)%o],l[i+(a+r)%o]))return!1;return!0}function y(t,n){var e=t[0],i=n[0],o=t[1],s=n[1],r=o-e;if(r!==s-i)return!1;for(var a=Z(t),d=r-Z(n),c=0;c<r;++c)if(!Gc(l[e+(c+a)%r],l[s-(c+d)%r]))return!1;return!0}function Z(t){for(var n=t[0],e=t[1],i=n,o=i,s=l[i];++i<e;){var r=l[i];(r[0]<s[0]||r[0]===s[0]&&r[1]<s[1])&&(o=i,s=r)}return o-n}return t}(function(t){var n,e,i,o=xc(t),l=t.coordinates,s=t.lines,r=t.rings;for(e=0,i=s.length;e<i;++e)for(var a=s[e],d=a[0],c=a[1];++d<c;)o.has(l[d])&&(n={0:d,1:a[1]},a[1]=d,a=a.next=n);for(e=0,i=r.length;e<i;++e)for(var u=r[e],p=u[0],h=p,m=u[1],b=o.has(l[p]);++h<m;)o.has(l[h])&&(b?(n={0:h,1:u[1]},u[1]=h,u=u.next=n):(Sc(l,p,m,m-h),l[m]=l[p],b=!0,h=p));return t}(function(t){var n=-1,e=[],i=[],o=[];function l(t){t&&Xc.call(s,t.type)&&s[t.type](t)}var s={GeometryCollection:function(t){t.geometries.forEach(l)},LineString:function(t){t.arcs=r(t.arcs)},MultiLineString:function(t){t.arcs=t.arcs.map(r)},Polygon:function(t){t.arcs=t.arcs.map(a)},MultiPolygon:function(t){t.arcs=t.arcs.map(d)}};function r(t){for(var i=0,l=t.length;i<l;++i)o[++n]=t[i];var s={0:n-l+1,1:n};return e.push(s),s}function a(t){for(var e=0,l=t.length;e<l;++e)o[++n]=t[e];var s={0:n-l+1,1:n};return i.push(s),s}function d(t){return t.map(a)}for(var c in t)l(t[c]);return{type:"Topology",coordinates:o,lines:e,rings:i,objects:t}}(t))),l=o.coordinates,s=fc(1.4*o.arcs.length,Tc,Mc);function r(t){t&&Xc.call(a,t.type)&&a[t.type](t)}t=o.objects,o.bbox=e,o.arcs=o.arcs.map((function(t,n){return s.set(t,n),l.slice(t[0],t[1]+1)})),delete o.coordinates,l=null;var a={GeometryCollection:function(t){t.geometries.forEach(r)},LineString:function(t){t.arcs=d(t.arcs)},MultiLineString:function(t){t.arcs=t.arcs.map(d)},Polygon:function(t){t.arcs=t.arcs.map(d)},MultiPolygon:function(t){t.arcs=t.arcs.map(c)}};function d(t){var n=[];do{var e=s.get(t);n.push(t[0]<t[1]?e:~e)}while(t=t.next);return n}function c(t){return t.map(d)}for(var u in t)r(t[u]);return i&&(o.transform=i,o.arcs=function(t){for(var n=-1,e=t.length;++n<e;){for(var i,o,l=t[n],s=0,r=1,a=l.length,d=l[0],c=d[0],u=d[1];++s<a;)i=(d=l[s])[0],o=d[1],i===c&&o===u||(l[r++]=[i-c,o-u],c=i,u=o);1===r&&(l[r++]=[0,0]),l.length=r}return t}(o.arcs)),o}function Tc(t){var n,e=t[0],i=t[1];return i<e&&(n=e,e=i,i=n),e+31*i}function Mc(t,n){var e,i=t[0],o=t[1],l=n[0],s=n[1];return o<i&&(e=i,i=o,o=e),s<l&&(e=l,l=s,s=e),i===l&&o===s}function wc(t,n){if(void 0===n&&(n={}),"FeatureCollection"!==ud(t))throw new Error("geojson must be a FeatureCollection");if(!t.features.length)throw new Error("geojson is empty");!1!==n.mutate&&void 0!==n.mutate||(t=rc(t));var e=[];Qa(t,(function(t){e.push(t.geometry)}));var i=Yc({geoms:Va(e).geometry}),o=function(t){return bc(t,Zc.apply(this,arguments))}(i,i.objects.geoms.geometries);return o}function Pc(t,n){if(void 0===n&&(n={}),!wa(n=n||{}))throw new Error("options is invalid");var e=n.mutate;if("FeatureCollection"!==ud(t))throw new Error("geojson must be a FeatureCollection");if(!t.features.length)throw new Error("geojson is empty");!1!==e&&void 0!==e||(t=rc(t));var i=function(t){var n={};Qa(t,(function(t){n[t.geometry.type]=!0}));var e=Object.keys(n);if(1===e.length)return e[0];return null}(t);if(!i)throw new Error("geojson must be homogenous");var o=t;switch(i){case"LineString":return pc(o,n);case"Polygon":return wc(o,n);default:throw new Error(i+" is not supported")}}var Ic=o((function(t,n){t.exports=function(){function t(t,e,o,l,s){n(t,e,o||0,l||t.length-1,s||i)}function n(t,i,o,l,s){for(;l>o;){if(l-o>600){var r=l-o+1,a=i-o+1,d=Math.log(r),c=.5*Math.exp(2*d/3),u=.5*Math.sqrt(d*c*(r-c)/r)*(a-r/2<0?-1:1);n(t,i,Math.max(o,Math.floor(i-a*c/r+u)),Math.min(l,Math.floor(i+(r-a)*c/r+u)),s)}var p=t[i],h=o,m=l;for(e(t,o,i),s(t[l],p)>0&&e(t,o,l);h<m;){for(e(t,h,m),h++,m--;s(t[h],p)<0;)h++;for(;s(t[m],p)>0;)m--}0===s(t[o],p)?e(t,o,m):e(t,++m,l),m<=i&&(o=m+1),i<=m&&(l=m-1)}}function e(t,n,e){var i=t[n];t[n]=t[e],t[e]=i}function i(t,n){return t<n?-1:t>n?1:0}return t}()})),zc=Nc,Jc=Nc;function Nc(t,n){if(!(this instanceof Nc))return new Nc(t,n);this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),n&&this._initFormat(n),this.clear()}function Fc(t,n,e){if(!e)return n.indexOf(t);for(var i=0;i<n.length;i++)if(e(t,n[i]))return i;return-1}function kc(t,n){Bc(t,0,t.children.length,n,t)}function Bc(t,n,e,i,o){o||(o=Dc(null)),o.minX=1/0,o.minY=1/0,o.maxX=-1/0,o.maxY=-1/0;for(var l,s=n;s<e;s++)l=t.children[s],_c(o,t.leaf?i(l):l);return o}function _c(t,n){return t.minX=Math.min(t.minX,n.minX),t.minY=Math.min(t.minY,n.minY),t.maxX=Math.max(t.maxX,n.maxX),t.maxY=Math.max(t.maxY,n.maxY),t}function Uc(t,n){return t.minX-n.minX}function Ec(t,n){return t.minY-n.minY}function jc(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function Qc(t){return t.maxX-t.minX+(t.maxY-t.minY)}function Oc(t,n){return t.minX<=n.minX&&t.minY<=n.minY&&n.maxX<=t.maxX&&n.maxY<=t.maxY}function Ac(t,n){return n.minX<=t.maxX&&n.minY<=t.maxY&&n.maxX>=t.minX&&n.maxY>=t.minY}function Dc(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function qc(t,n,e,i,o){for(var l,s=[n,e];s.length;)(e=s.pop())-(n=s.pop())<=i||(l=n+Math.ceil((e-n)/i/2)*i,Ic(t,l,n,e,o),s.push(n,l,l,e))}function $c(t,e){void 0===e&&(e={});var i="object"===n(e)?e.mutate:e;if(!t)throw new Error("geojson is required");var o=ud(t),l=[];switch(o){case"LineString":l=tu(t);break;case"MultiLineString":case"Polygon":ld(t).forEach((function(t){l.push(tu(t))}));break;case"MultiPolygon":ld(t).forEach((function(t){var n=[];t.forEach((function(t){n.push(tu(t))})),l.push(n)}));break;case"Point":return t;case"MultiPoint":var s={};ld(t).forEach((function(t){var n=t.join("-");Object.prototype.hasOwnProperty.call(s,n)||(l.push(t),s[n]=!0)}));break;default:throw new Error(o+" geometry not supported")}return t.coordinates?!0===i?(t.coordinates=l,t):{type:o,coordinates:l}:!0===i?(t.geometry.coordinates=l,t):pa({type:o,coordinates:l},t.properties,{bbox:t.bbox,id:t.id})}function tu(t){var n=ld(t);if(2===n.length&&!nu(n[0],n[1]))return n;var e=[],i=n.length-1,o=e.length;e.push(n[0]);for(var l=1;l<i;l++){var s=e[e.length-1];n[l][0]===s[0]&&n[l][1]===s[1]||(e.push(n[l]),(o=e.length)>2&&eu(e[o-3],e[o-1],e[o-2])&&e.splice(e.length-2,1))}if(e.push(n[n.length-1]),o=e.length,nu(n[0],n[n.length-1])&&o<4)throw new Error("invalid polygon");return eu(e[o-3],e[o-1],e[o-2])&&e.splice(e.length-2,1),e}function nu(t,n){return t[0]===n[0]&&t[1]===n[1]}function eu(t,n,e){var i=e[0],o=e[1],l=t[0],s=t[1],r=n[0],a=n[1],d=r-l,c=a-s;return 0===(i-l)*c-(o-s)*d&&(Math.abs(d)>=Math.abs(c)?d>0?l<=i&&i<=r:r<=i&&i<=l:c>0?s<=o&&o<=a:a<=o&&o<=s)}function iu(t,n,e){var i=n.x,o=n.y,l=e.x-i,s=e.y-o;if(0!==l||0!==s){var r=((t.x-i)*l+(t.y-o)*s)/(l*l+s*s);r>1?(i=e.x,o=e.y):r>0&&(i+=l*r,o+=s*r)}return(l=t.x-i)*l+(s=t.y-o)*s}function ou(t,n,e,i,o){for(var l,s=i,r=n+1;r<e;r++){var a=iu(t[r],t[n],t[e]);a>s&&(l=r,s=a)}s>i&&(l-n>1&&ou(t,n,l,i,o),o.push(t[l]),e-l>1&&ou(t,l,e,i,o))}function lu(t,n){var e=t.length-1,i=[t[0]];return ou(t,0,e,n,i),i.push(t[e]),i}function su(t,n,e){if(t.length<=2)return t;var i=void 0!==n?n*n:1;return t=e?t:function(t,n){for(var e,i,o,l,s,r=t[0],a=[r],d=1,c=t.length;d<c;d++)e=t[d],o=r,l=void 0,s=void 0,l=(i=e).x-o.x,s=i.y-o.y,l*l+s*s>n&&(a.push(e),r=e);return r!==e&&a.push(e),a}(t,i),t=lu(t,i)}function ru(t,n,e){return su(t.map((function(t){return{x:t[0],y:t[1],z:t[2]}})),n,e).map((function(t){return t.z?[t.x,t.y,t.z]:[t.x,t.y]}))}function au(t,n,e){return t.map((function(t){var i=t.map((function(t){return{x:t[0],y:t[1]}}));if(i.length<4)throw new Error("invalid polygon");for(var o=su(i,n,e).map((function(t){return[t.x,t.y]}));!du(o);)o=su(i,n-=.01*n,e).map((function(t){return[t.x,t.y]}));return o[o.length-1][0]===o[0][0]&&o[o.length-1][1]===o[0][1]||o.push(o[0]),o}))}function du(t){return!(t.length<3)&&!(3===t.length&&t[2][0]===t[0][0]&&t[2][1]===t[0][1])}
/**
   * BezierSpline
   * https://github.com/leszekr/bezier-spline-js
   *
   * @private
   * @copyright
   * Copyright (c) 2013 Leszek Rybicki
   *
   * Permission is hereby granted, free of charge, to any person obtaining a copy
   * of this software and associated documentation files (the "Software"), to deal
   * in the Software without restriction, including without limitation the rights
   * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
   * copies of the Software, and to permit persons to whom the Software is
   * furnished to do so, subject to the following conditions:
   *
   * The above copyright notice and this permission notice shall be included in all
   * copies or substantial portions of the Software.
   *
   * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
   * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
   * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
   * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
   * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
   * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
   * SOFTWARE.
   */Nc.prototype={all:function(){return this._all(this.data,[])},search:function(t){var n=this.data,e=[],i=this.toBBox;if(!Ac(t,n))return e;for(var o,l,s,r,a=[];n;){for(o=0,l=n.children.length;o<l;o++)s=n.children[o],Ac(t,r=n.leaf?i(s):s)&&(n.leaf?e.push(s):Oc(t,r)?this._all(s,e):a.push(s));n=a.pop()}return e},collides:function(t){var n=this.data,e=this.toBBox;if(!Ac(t,n))return!1;for(var i,o,l,s,r=[];n;){for(i=0,o=n.children.length;i<o;i++)if(l=n.children[i],Ac(t,s=n.leaf?e(l):l)){if(n.leaf||Oc(t,s))return!0;r.push(l)}n=r.pop()}return!1},load:function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var n=0,e=t.length;n<e;n++)this.insert(t[n]);return this}var i=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===i.height)this._splitRoot(this.data,i);else{if(this.data.height<i.height){var o=this.data;this.data=i,i=o}this._insert(i,this.data.height-i.height-1,!0)}else this.data=i;return this},insert:function(t){return t&&this._insert(t,this.data.height-1),this},clear:function(){return this.data=Dc([]),this},remove:function(t,n){if(!t)return this;for(var e,i,o,l,s=this.data,r=this.toBBox(t),a=[],d=[];s||a.length;){if(s||(s=a.pop(),i=a[a.length-1],e=d.pop(),l=!0),s.leaf&&-1!==(o=Fc(t,s.children,n)))return s.children.splice(o,1),a.push(s),this._condense(a),this;l||s.leaf||!Oc(s,r)?i?(e++,s=i.children[e],l=!1):s=null:(a.push(s),d.push(e),e=0,i=s,s=s.children[0])}return this},toBBox:function(t){return t},compareMinX:Uc,compareMinY:Ec,toJSON:function(){return this.data},fromJSON:function(t){return this.data=t,this},_all:function(t,n){for(var e=[];t;)t.leaf?n.push.apply(n,t.children):e.push.apply(e,t.children),t=e.pop();return n},_build:function(t,n,e,i){var o,l=e-n+1,s=this._maxEntries;if(l<=s)return kc(o=Dc(t.slice(n,e+1)),this.toBBox),o;i||(i=Math.ceil(Math.log(l)/Math.log(s)),s=Math.ceil(l/Math.pow(s,i-1))),(o=Dc([])).leaf=!1,o.height=i;var r,a,d,c,u=Math.ceil(l/s),p=u*Math.ceil(Math.sqrt(s));for(qc(t,n,e,p,this.compareMinX),r=n;r<=e;r+=p)for(qc(t,r,d=Math.min(r+p-1,e),u,this.compareMinY),a=r;a<=d;a+=u)c=Math.min(a+u-1,d),o.children.push(this._build(t,a,c,i-1));return kc(o,this.toBBox),o},_chooseSubtree:function(t,n,e,i){for(var o,l,s,r,a,d,c,u,p,h;i.push(n),!n.leaf&&i.length-1!==e;){for(c=u=1/0,o=0,l=n.children.length;o<l;o++)a=jc(s=n.children[o]),p=t,h=s,(d=(Math.max(h.maxX,p.maxX)-Math.min(h.minX,p.minX))*(Math.max(h.maxY,p.maxY)-Math.min(h.minY,p.minY))-a)<u?(u=d,c=a<c?a:c,r=s):d===u&&a<c&&(c=a,r=s);n=r||n.children[0]}return n},_insert:function(t,n,e){var i=this.toBBox,o=e?t:i(t),l=[],s=this._chooseSubtree(o,this.data,n,l);for(s.children.push(t),_c(s,o);n>=0&&l[n].children.length>this._maxEntries;)this._split(l,n),n--;this._adjustParentBBoxes(o,l,n)},_split:function(t,n){var e=t[n],i=e.children.length,o=this._minEntries;this._chooseSplitAxis(e,o,i);var l=this._chooseSplitIndex(e,o,i),s=Dc(e.children.splice(l,e.children.length-l));s.height=e.height,s.leaf=e.leaf,kc(e,this.toBBox),kc(s,this.toBBox),n?t[n-1].children.push(s):this._splitRoot(e,s)},_splitRoot:function(t,n){this.data=Dc([t,n]),this.data.height=t.height+1,this.data.leaf=!1,kc(this.data,this.toBBox)},_chooseSplitIndex:function(t,n,e){var i,o,l,s,r,a,d,c,u,p,h,m,b,y;for(a=d=1/0,i=n;i<=e-n;i++)o=Bc(t,0,i,this.toBBox),l=Bc(t,i,e,this.toBBox),u=o,p=l,h=void 0,m=void 0,b=void 0,y=void 0,h=Math.max(u.minX,p.minX),m=Math.max(u.minY,p.minY),b=Math.min(u.maxX,p.maxX),y=Math.min(u.maxY,p.maxY),s=Math.max(0,b-h)*Math.max(0,y-m),r=jc(o)+jc(l),s<a?(a=s,c=i,d=r<d?r:d):s===a&&r<d&&(d=r,c=i);return c},_chooseSplitAxis:function(t,n,e){var i=t.leaf?this.compareMinX:Uc,o=t.leaf?this.compareMinY:Ec;this._allDistMargin(t,n,e,i)<this._allDistMargin(t,n,e,o)&&t.children.sort(i)},_allDistMargin:function(t,n,e,i){t.children.sort(i);var o,l,s=this.toBBox,r=Bc(t,0,n,s),a=Bc(t,e-n,e,s),d=Qc(r)+Qc(a);for(o=n;o<e-n;o++)l=t.children[o],_c(r,t.leaf?s(l):l),d+=Qc(r);for(o=e-n-1;o>=n;o--)l=t.children[o],_c(a,t.leaf?s(l):l),d+=Qc(a);return d},_adjustParentBBoxes:function(t,n,e){for(var i=e;i>=0;i--)_c(n[i],t)},_condense:function(t){for(var n,e=t.length-1;e>=0;e--)0===t[e].children.length?e>0?(n=t[e-1].children).splice(n.indexOf(t[e]),1):this.clear():kc(t[e],this.toBBox)},_initFormat:function(t){var n=["return a"," - b",";"];this.compareMinX=new Function("a","b",n.join(t[0])),this.compareMinY=new Function("a","b",n.join(t[1])),this.toBBox=new Function("a","return {minX: a"+t[0]+", minY: a"+t[1]+", maxX: a"+t[2]+", maxY: a"+t[3]+"};")}},zc.default=Jc;var cu=function(){function t(t){this.points=t.points||[],this.duration=t.duration||1e4,this.sharpness=t.sharpness||.85,this.centers=[],this.controls=[],this.stepLength=t.stepLength||60,this.length=this.points.length,this.delay=0;for(var n=0;n<this.length;n++)this.points[n].z=this.points[n].z||0;for(n=0;n<this.length-1;n++){var e=this.points[n],i=this.points[n+1];this.centers.push({x:(e.x+i.x)/2,y:(e.y+i.y)/2,z:(e.z+i.z)/2})}this.controls.push([this.points[0],this.points[0]]);for(n=0;n<this.centers.length-1;n++){var o=this.points[n+1].x-(this.centers[n].x+this.centers[n+1].x)/2,l=this.points[n+1].y-(this.centers[n].y+this.centers[n+1].y)/2,s=this.points[n+1].z-(this.centers[n].y+this.centers[n+1].z)/2;this.controls.push([{x:(1-this.sharpness)*this.points[n+1].x+this.sharpness*(this.centers[n].x+o),y:(1-this.sharpness)*this.points[n+1].y+this.sharpness*(this.centers[n].y+l),z:(1-this.sharpness)*this.points[n+1].z+this.sharpness*(this.centers[n].z+s)},{x:(1-this.sharpness)*this.points[n+1].x+this.sharpness*(this.centers[n+1].x+o),y:(1-this.sharpness)*this.points[n+1].y+this.sharpness*(this.centers[n+1].y+l),z:(1-this.sharpness)*this.points[n+1].z+this.sharpness*(this.centers[n+1].z+s)}])}return this.controls.push([this.points[this.length-1],this.points[this.length-1]]),this.steps=this.cacheSteps(this.stepLength),this}return t.prototype.cacheSteps=function(t){var n=[],e=this.pos(0);n.push(0);for(var i=0;i<this.duration;i+=10){var o=this.pos(i);Math.sqrt((o.x-e.x)*(o.x-e.x)+(o.y-e.y)*(o.y-e.y)+(o.z-e.z)*(o.z-e.z))>t&&(n.push(i),e=o)}return n},t.prototype.vector=function(t){var n=this.pos(t+10),e=this.pos(t-10);return{angle:180*Math.atan2(n.y-e.y,n.x-e.x)/3.14,speed:Math.sqrt((e.x-n.x)*(e.x-n.x)+(e.y-n.y)*(e.y-n.y)+(e.z-n.z)*(e.z-n.z))}},t.prototype.pos=function(t){var n=t-this.delay;n<0&&(n=0),n>this.duration&&(n=this.duration-1);var e=n/this.duration;if(e>=1)return this.points[this.length-1];var i=Math.floor((this.points.length-1)*e);return function(t,n,e,i,o){var l=function(t){var n=t*t;return[n*t,3*n*(1-t),3*t*(1-t)*(1-t),(1-t)*(1-t)*(1-t)]}(t);return{x:o.x*l[0]+i.x*l[1]+e.x*l[2]+n.x*l[3],y:o.y*l[0]+i.y*l[1]+e.y*l[2]+n.y*l[3],z:o.z*l[0]+i.z*l[1]+e.z*l[2]+n.z*l[3]}}((this.length-1)*e-i,this.points[i],this.controls[i][1],this.controls[i+1][0],this.points[i+1])},t}();function uu(t,n){void 0===n&&(n={});for(var e=n.resolution||1e4,i=n.sharpness||.85,o=[],l=cd(t).coordinates.map((function(t){return{x:t[0],y:t[1]}})),s=new cu({duration:e,points:l,sharpness:i}),r=function(t){var n=s.pos(t);Math.floor(t/100)%2==0&&o.push([n.x,n.y])},a=0;a<s.duration;a+=10)r(a);return r(s.duration),Xa(o,n.properties)}function pu(t,n){void 0===n&&(n={});var e=Number(t[0]),i=Number(t[1]),o=Number(t[2]),l=Number(t[3]);if(6===t.length)throw new Error("@turf/bbox-polygon does not support BBox with 6 positions");var s=[e,i];return ya([[s,[o,i],[o,l],[e,l],s]],n.properties,{bbox:t,id:n.id})}function hu(t){return pu(id(t))}function mu(t){var n=t[0],e=t[1],i=t[2],o=t[3];if(ec(t.slice(0,2),[i,e])>=ec(t.slice(0,2),[n,o])){var l=(e+o)/2;return[n,l-(i-n)/2,i,l+(i-n)/2]}var s=(n+i)/2;return[s-(o-e)/2,e,s+(o-e)/2,o]}function bu(t,n,e,i){void 0===i&&(i={});var o=od(t),l=Ca(o[0]),s=Ca(o[1]),r=Ca(e),a=La(n,i.units),d=Math.asin(Math.sin(s)*Math.cos(a)+Math.cos(s)*Math.sin(a)*Math.cos(r));return ma([Ha(l+Math.atan2(Math.sin(r)*Math.sin(a)*Math.cos(s),Math.cos(a)-Math.sin(s)*Math.sin(d))),Ha(d)],i.properties)}function yu(t,n,e){void 0===e&&(e={});for(var i=e.steps||64,o=e.properties?e.properties:!Array.isArray(t)&&"Feature"===t.type&&t.properties?t.properties:{},l=[],s=0;s<i;s++)l.push(bu(t,n,-360*s/i,e).geometry.coordinates);return l.push(l[0]),ya([l],o)}function Zu(t,n,e){if(void 0===e&&(e={}),!0===e.final)return function(t,n){var e=Zu(n,t);return e=(e+180)%360}(t,n);var i=od(t),o=od(n),l=Ca(i[0]),s=Ca(o[0]),r=Ca(i[1]),a=Ca(o[1]),d=Math.sin(s-l)*Math.cos(a),c=Math.cos(r)*Math.sin(a)-Math.sin(r)*Math.cos(a)*Math.cos(s-l);return Ha(Math.atan2(d,c))}function Xu(t,n){void 0===n&&(n={});var e=id(t);return ma([(e[0]+e[2])/2,(e[1]+e[3])/2],n.properties,n)}function fu(t,n){void 0===n&&(n={});var e=0,i=0,o=0;return Ja(t,(function(t){e+=t[0],i+=t[1],o++}),!0),ma([e/o,i/o],n.properties)}function Gu(t){var n=[];return"FeatureCollection"===t.type?Ba(t,(function(t){Ja(t,(function(e){n.push(ma(e,t.properties))}))})):Ja(t,(function(e){n.push(ma(e,t.properties))})),Ga(n)}var Wu=vu,gu=vu;function vu(t,n,e){e=e||2;var i,o,l,s,r,a,d,c=n&&n.length,u=c?n[0]*e:t.length,p=Vu(t,0,u,e,!0),h=[];if(!p||p.next===p.prev)return h;if(c&&(p=function(t,n,e,i){var o,l,s,r=[];for(o=0,l=n.length;o<l;o++)(s=Vu(t,n[o]*i,o<l-1?n[o+1]*i:t.length,i,!1))===s.next&&(s.steiner=!0),r.push(wu(s));for(r.sort(Cu),o=0;o<r.length;o++)e=xu(e=Yu(r[o],e),e.next);return e}(t,n,p,e)),t.length>80*e){i=l=t[0],o=s=t[1];for(var m=e;m<u;m+=e)(r=t[m])<i&&(i=r),(a=t[m+1])<o&&(o=a),r>l&&(l=r),a>s&&(s=a);d=0!==(d=Math.max(l-i,s-o))?1/d:0}return Su(p,h,e,i,o,d),h}function Vu(t,n,e,i,o){var l,s;if(o===Qu(t,n,e,i)>0)for(l=n;l<e;l+=i)s=Uu(l,t[l],t[l+1],s);else for(l=e-i;l>=n;l-=i)s=Uu(l,t[l],t[l+1],s);return s&&Ju(s,s.next)&&(Eu(s),s=s.next),s}function xu(t,n){if(!t)return t;n||(n=t);var e,i=t;do{if(e=!1,i.steiner||!Ju(i,i.next)&&0!==zu(i.prev,i,i.next))i=i.next;else{if(Eu(i),(i=n=i.prev)===i.next)break;e=!0}}while(e||i!==n);return n}function Su(t,n,e,i,o,l,s){if(t){!s&&l&&function(t,n,e,i){var o=t;do{null===o.z&&(o.z=Mu(o.x,o.y,n,e,i)),o.prevZ=o.prev,o.nextZ=o.next,o=o.next}while(o!==t);o.prevZ.nextZ=null,o.prevZ=null,function(t){var n,e,i,o,l,s,r,a,d=1;do{for(e=t,t=null,l=null,s=0;e;){for(s++,i=e,r=0,n=0;n<d&&(r++,i=i.nextZ);n++);for(a=d;r>0||a>0&&i;)0!==r&&(0===a||!i||e.z<=i.z)?(o=e,e=e.nextZ,r--):(o=i,i=i.nextZ,a--),l?l.nextZ=o:t=o,o.prevZ=l,l=o;e=i}l.nextZ=null,d*=2}while(s>1)}(o)}(t,i,o,l);for(var r,a,d=t;t.prev!==t.next;)if(r=t.prev,a=t.next,l?Ru(t,i,o,l):Lu(t))n.push(r.i/e),n.push(t.i/e),n.push(a.i/e),Eu(t),t=a.next,d=a.next;else if((t=a)===d){s?1===s?Su(t=Ku(xu(t),n,e),n,e,i,o,l,2):2===s&&Hu(t,n,e,i,o,l):Su(xu(t),n,e,i,o,l,1);break}}}function Lu(t){var n=t.prev,e=t,i=t.next;if(zu(n,e,i)>=0)return!1;for(var o=t.next.next;o!==t.prev;){if(Pu(n.x,n.y,e.x,e.y,i.x,i.y,o.x,o.y)&&zu(o.prev,o,o.next)>=0)return!1;o=o.next}return!0}function Ru(t,n,e,i){var o=t.prev,l=t,s=t.next;if(zu(o,l,s)>=0)return!1;for(var r=o.x<l.x?o.x<s.x?o.x:s.x:l.x<s.x?l.x:s.x,a=o.y<l.y?o.y<s.y?o.y:s.y:l.y<s.y?l.y:s.y,d=o.x>l.x?o.x>s.x?o.x:s.x:l.x>s.x?l.x:s.x,c=o.y>l.y?o.y>s.y?o.y:s.y:l.y>s.y?l.y:s.y,u=Mu(r,a,n,e,i),p=Mu(d,c,n,e,i),h=t.prevZ,m=t.nextZ;h&&h.z>=u&&m&&m.z<=p;){if(h!==t.prev&&h!==t.next&&Pu(o.x,o.y,l.x,l.y,s.x,s.y,h.x,h.y)&&zu(h.prev,h,h.next)>=0)return!1;if(h=h.prevZ,m!==t.prev&&m!==t.next&&Pu(o.x,o.y,l.x,l.y,s.x,s.y,m.x,m.y)&&zu(m.prev,m,m.next)>=0)return!1;m=m.nextZ}for(;h&&h.z>=u;){if(h!==t.prev&&h!==t.next&&Pu(o.x,o.y,l.x,l.y,s.x,s.y,h.x,h.y)&&zu(h.prev,h,h.next)>=0)return!1;h=h.prevZ}for(;m&&m.z<=p;){if(m!==t.prev&&m!==t.next&&Pu(o.x,o.y,l.x,l.y,s.x,s.y,m.x,m.y)&&zu(m.prev,m,m.next)>=0)return!1;m=m.nextZ}return!0}function Ku(t,n,e){var i=t;do{var o=i.prev,l=i.next.next;!Ju(o,l)&&Nu(o,i,i.next,l)&&Bu(o,l)&&Bu(l,o)&&(n.push(o.i/e),n.push(i.i/e),n.push(l.i/e),Eu(i),Eu(i.next),i=t=l),i=i.next}while(i!==t);return xu(i)}function Hu(t,n,e,i,o,l){var s=t;do{for(var r=s.next.next;r!==s.prev;){if(s.i!==r.i&&Iu(s,r)){var a=_u(s,r);return s=xu(s,s.next),a=xu(a,a.next),Su(s,n,e,i,o,l),void Su(a,n,e,i,o,l)}r=r.next}s=s.next}while(s!==t)}function Cu(t,n){return t.x-n.x}function Yu(t,n){var e=function(t,n){var e,i=n,o=t.x,l=t.y,s=-1/0;do{if(l<=i.y&&l>=i.next.y&&i.next.y!==i.y){var r=i.x+(l-i.y)*(i.next.x-i.x)/(i.next.y-i.y);if(r<=o&&r>s){if(s=r,r===o){if(l===i.y)return i;if(l===i.next.y)return i.next}e=i.x<i.next.x?i:i.next}}i=i.next}while(i!==n);if(!e)return null;if(o===s)return e;var a,d=e,c=e.x,u=e.y,p=1/0;i=e;do{o>=i.x&&i.x>=c&&o!==i.x&&Pu(l<u?o:s,l,c,u,l<u?s:o,l,i.x,i.y)&&(a=Math.abs(l-i.y)/(o-i.x),Bu(i,t)&&(a<p||a===p&&(i.x>e.x||i.x===e.x&&Tu(e,i)))&&(e=i,p=a)),i=i.next}while(i!==d);return e}(t,n);if(!e)return n;var i=_u(e,t),o=xu(e,e.next);return xu(i,i.next),n===e?o:n}function Tu(t,n){return zu(t.prev,t,n.prev)<0&&zu(n.next,t,t.next)<0}function Mu(t,n,e,i,o){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-e)*o)|t<<8))|t<<4))|t<<2))|t<<1))|(n=1431655765&((n=858993459&((n=252645135&((n=16711935&((n=32767*(n-i)*o)|n<<8))|n<<4))|n<<2))|n<<1))<<1}function wu(t){var n=t,e=t;do{(n.x<e.x||n.x===e.x&&n.y<e.y)&&(e=n),n=n.next}while(n!==t);return e}function Pu(t,n,e,i,o,l,s,r){return(o-s)*(n-r)-(t-s)*(l-r)>=0&&(t-s)*(i-r)-(e-s)*(n-r)>=0&&(e-s)*(l-r)-(o-s)*(i-r)>=0}function Iu(t,n){return t.next.i!==n.i&&t.prev.i!==n.i&&!function(t,n){var e=t;do{if(e.i!==t.i&&e.next.i!==t.i&&e.i!==n.i&&e.next.i!==n.i&&Nu(e,e.next,t,n))return!0;e=e.next}while(e!==t);return!1}(t,n)&&(Bu(t,n)&&Bu(n,t)&&function(t,n){var e=t,i=!1,o=(t.x+n.x)/2,l=(t.y+n.y)/2;do{e.y>l!=e.next.y>l&&e.next.y!==e.y&&o<(e.next.x-e.x)*(l-e.y)/(e.next.y-e.y)+e.x&&(i=!i),e=e.next}while(e!==t);return i}(t,n)&&(zu(t.prev,t,n.prev)||zu(t,n.prev,n))||Ju(t,n)&&zu(t.prev,t,t.next)>0&&zu(n.prev,n,n.next)>0)}function zu(t,n,e){return(n.y-t.y)*(e.x-n.x)-(n.x-t.x)*(e.y-n.y)}function Ju(t,n){return t.x===n.x&&t.y===n.y}function Nu(t,n,e,i){var o=ku(zu(t,n,e)),l=ku(zu(t,n,i)),s=ku(zu(e,i,t)),r=ku(zu(e,i,n));return o!==l&&s!==r||(!(0!==o||!Fu(t,e,n))||(!(0!==l||!Fu(t,i,n))||(!(0!==s||!Fu(e,t,i))||!(0!==r||!Fu(e,n,i)))))}function Fu(t,n,e){return n.x<=Math.max(t.x,e.x)&&n.x>=Math.min(t.x,e.x)&&n.y<=Math.max(t.y,e.y)&&n.y>=Math.min(t.y,e.y)}function ku(t){return t>0?1:t<0?-1:0}function Bu(t,n){return zu(t.prev,t,t.next)<0?zu(t,n,t.next)>=0&&zu(t,t.prev,n)>=0:zu(t,n,t.prev)<0||zu(t,t.next,n)<0}function _u(t,n){var e=new ju(t.i,t.x,t.y),i=new ju(n.i,n.x,n.y),o=t.next,l=n.prev;return t.next=n,n.prev=t,e.next=o,o.prev=e,i.next=e,e.prev=i,l.next=i,i.prev=l,i}function Uu(t,n,e,i){var o=new ju(t,n,e);return i?(o.next=i.next,o.prev=i,i.next.prev=o,i.next=o):(o.prev=o,o.next=o),o}function Eu(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function ju(t,n,e){this.i=t,this.x=n,this.y=e,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Qu(t,n,e,i){for(var o=0,l=n,s=e-i;l<e;l+=i)o+=(t[s]-t[l])*(t[l+1]+t[s+1]),s=l;return o}function Ou(t){var n=function(t){for(var n=t[0][0].length,e={vertices:[],holes:[],dimensions:n},i=0,o=0;o<t.length;o++){for(var l=0;l<t[o].length;l++)for(var s=0;s<n;s++)e.vertices.push(t[o][l][s]);o>0&&(i+=t[o-1].length,e.holes.push(i))}return e}(t),e=Wu(n.vertices,n.holes,2),i=[],o=[];e.forEach((function(t,i){var l=e[i];o.push([n.vertices[2*l],n.vertices[2*l+1]])}));for(var l=0;l<o.length;l+=3){var s=o.slice(l,l+3);s.push(o[l]),i.push(ya([s]))}return i}function Au(t,n){if(!t)throw new Error("targetPoint is required");if(!n)throw new Error("points is required");var e,i=1/0,o=0;return Ba(n,(function(n,e){var l=ec(t,n);l<i&&(o=e,i=l)})),(e=rc(n.features[o])).properties.featureIndex=o,e.properties.distanceToPoint=i,e}function Du(t){if(!t)throw new Error("geojson is required");var n=[];return Qa(t,(function(t){!function(t,n){var e=[],i=t.geometry;if(null!==i){switch(i.type){case"Polygon":e=ld(i);break;case"LineString":e=[ld(i)]}e.forEach((function(e){var i=function(t,n){var e=[];return t.reduce((function(t,i){var o=Xa([t,i],n);return o.bbox=function(t,n){var e=t[0],i=t[1],o=n[0],l=n[1];return[e<o?e:o,i<l?i:l,e>o?e:o,i>l?i:l]}(t,i),e.push(o),i})),e}(e,t.properties);i.forEach((function(t){t.id=n.length,n.push(t)}))}))}}(t,n)})),Ga(n)}vu.deviation=function(t,n,e,i){var o=n&&n.length,l=o?n[0]*e:t.length,s=Math.abs(Qu(t,0,l,e));if(o)for(var r=0,a=n.length;r<a;r++){var d=n[r]*e,c=r<a-1?n[r+1]*e:t.length;s-=Math.abs(Qu(t,d,c,e))}var u=0;for(r=0;r<i.length;r+=3){var p=i[r]*e,h=i[r+1]*e,m=i[r+2]*e;u+=Math.abs((t[p]-t[m])*(t[h+1]-t[p+1])-(t[p]-t[h])*(t[m+1]-t[p+1]))}return 0===s&&0===u?0:Math.abs((u-s)/s)},vu.flatten=function(t){for(var n=t[0][0].length,e={vertices:[],holes:[],dimensions:n},i=0,o=0;o<t.length;o++){for(var l=0;l<t[o].length;l++)for(var s=0;s<n;s++)e.vertices.push(t[o][l][s]);o>0&&(i+=t[o-1].length,e.holes.push(i))}return e},Wu.default=gu;var qu=o((function(t,n){t.exports=function(){function t(t,i,o,l,s){!function t(e,i,o,l,s){for(;l>o;){if(l-o>600){var r=l-o+1,a=i-o+1,d=Math.log(r),c=.5*Math.exp(2*d/3),u=.5*Math.sqrt(d*c*(r-c)/r)*(a-r/2<0?-1:1);t(e,i,Math.max(o,Math.floor(i-a*c/r+u)),Math.min(l,Math.floor(i+(r-a)*c/r+u)),s)}var p=e[i],h=o,m=l;for(n(e,o,i),s(e[l],p)>0&&n(e,o,l);h<m;){for(n(e,h,m),h++,m--;s(e[h],p)<0;)h++;for(;s(e[m],p)>0;)m--}0===s(e[o],p)?n(e,o,m):n(e,++m,l),m<=i&&(o=m+1),i<=m&&(l=m-1)}}(t,i,o||0,l||t.length-1,s||e)}function n(t,n,e){var i=t[n];t[n]=t[e],t[e]=i}function e(t,n){return t<n?-1:t>n?1:0}var i=function(t){void 0===t&&(t=9),this._maxEntries=Math.max(4,t),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function o(t,n,e){if(!e)return n.indexOf(t);for(var i=0;i<n.length;i++)if(e(t,n[i]))return i;return-1}function l(t,n){s(t,0,t.children.length,n,t)}function s(t,n,e,i,o){o||(o=m(null)),o.minX=1/0,o.minY=1/0,o.maxX=-1/0,o.maxY=-1/0;for(var l=n;l<e;l++){var s=t.children[l];r(o,t.leaf?i(s):s)}return o}function r(t,n){return t.minX=Math.min(t.minX,n.minX),t.minY=Math.min(t.minY,n.minY),t.maxX=Math.max(t.maxX,n.maxX),t.maxY=Math.max(t.maxY,n.maxY),t}function a(t,n){return t.minX-n.minX}function d(t,n){return t.minY-n.minY}function c(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function u(t){return t.maxX-t.minX+(t.maxY-t.minY)}function p(t,n){return t.minX<=n.minX&&t.minY<=n.minY&&n.maxX<=t.maxX&&n.maxY<=t.maxY}function h(t,n){return n.minX<=t.maxX&&n.minY<=t.maxY&&n.maxX>=t.minX&&n.maxY>=t.minY}function m(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function b(n,e,i,o,l){for(var s=[e,i];s.length;)if(!((i=s.pop())-(e=s.pop())<=o)){var r=e+Math.ceil((i-e)/o/2)*o;t(n,r,e,i,l),s.push(e,r,r,i)}}return i.prototype.all=function(){return this._all(this.data,[])},i.prototype.search=function(t){var n=this.data,e=[];if(!h(t,n))return e;for(var i=this.toBBox,o=[];n;){for(var l=0;l<n.children.length;l++){var s=n.children[l],r=n.leaf?i(s):s;h(t,r)&&(n.leaf?e.push(s):p(t,r)?this._all(s,e):o.push(s))}n=o.pop()}return e},i.prototype.collides=function(t){var n=this.data;if(!h(t,n))return!1;for(var e=[];n;){for(var i=0;i<n.children.length;i++){var o=n.children[i],l=n.leaf?this.toBBox(o):o;if(h(t,l)){if(n.leaf||p(t,l))return!0;e.push(o)}}n=e.pop()}return!1},i.prototype.load=function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var n=0;n<t.length;n++)this.insert(t[n]);return this}var e=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===e.height)this._splitRoot(this.data,e);else{if(this.data.height<e.height){var i=this.data;this.data=e,e=i}this._insert(e,this.data.height-e.height-1,!0)}else this.data=e;return this},i.prototype.insert=function(t){return t&&this._insert(t,this.data.height-1),this},i.prototype.clear=function(){return this.data=m([]),this},i.prototype.remove=function(t,n){if(!t)return this;for(var e,i,l,s=this.data,r=this.toBBox(t),a=[],d=[];s||a.length;){if(s||(s=a.pop(),i=a[a.length-1],e=d.pop(),l=!0),s.leaf){var c=o(t,s.children,n);if(-1!==c)return s.children.splice(c,1),a.push(s),this._condense(a),this}l||s.leaf||!p(s,r)?i?(e++,s=i.children[e],l=!1):s=null:(a.push(s),d.push(e),e=0,i=s,s=s.children[0])}return this},i.prototype.toBBox=function(t){return t},i.prototype.compareMinX=function(t,n){return t.minX-n.minX},i.prototype.compareMinY=function(t,n){return t.minY-n.minY},i.prototype.toJSON=function(){return this.data},i.prototype.fromJSON=function(t){return this.data=t,this},i.prototype._all=function(t,n){for(var e=[];t;)t.leaf?n.push.apply(n,t.children):e.push.apply(e,t.children),t=e.pop();return n},i.prototype._build=function(t,n,e,i){var o,s=e-n+1,r=this._maxEntries;if(s<=r)return l(o=m(t.slice(n,e+1)),this.toBBox),o;i||(i=Math.ceil(Math.log(s)/Math.log(r)),r=Math.ceil(s/Math.pow(r,i-1))),(o=m([])).leaf=!1,o.height=i;var a=Math.ceil(s/r),d=a*Math.ceil(Math.sqrt(r));b(t,n,e,d,this.compareMinX);for(var c=n;c<=e;c+=d){var u=Math.min(c+d-1,e);b(t,c,u,a,this.compareMinY);for(var p=c;p<=u;p+=a){var h=Math.min(p+a-1,u);o.children.push(this._build(t,p,h,i-1))}}return l(o,this.toBBox),o},i.prototype._chooseSubtree=function(t,n,e,i){for(;i.push(n),!n.leaf&&i.length-1!==e;){for(var o=1/0,l=1/0,s=void 0,r=0;r<n.children.length;r++){var a=n.children[r],d=c(a),u=(p=t,h=a,(Math.max(h.maxX,p.maxX)-Math.min(h.minX,p.minX))*(Math.max(h.maxY,p.maxY)-Math.min(h.minY,p.minY))-d);u<l?(l=u,o=d<o?d:o,s=a):u===l&&d<o&&(o=d,s=a)}n=s||n.children[0]}var p,h;return n},i.prototype._insert=function(t,n,e){var i=e?t:this.toBBox(t),o=[],l=this._chooseSubtree(i,this.data,n,o);for(l.children.push(t),r(l,i);n>=0&&o[n].children.length>this._maxEntries;)this._split(o,n),n--;this._adjustParentBBoxes(i,o,n)},i.prototype._split=function(t,n){var e=t[n],i=e.children.length,o=this._minEntries;this._chooseSplitAxis(e,o,i);var s=this._chooseSplitIndex(e,o,i),r=m(e.children.splice(s,e.children.length-s));r.height=e.height,r.leaf=e.leaf,l(e,this.toBBox),l(r,this.toBBox),n?t[n-1].children.push(r):this._splitRoot(e,r)},i.prototype._splitRoot=function(t,n){this.data=m([t,n]),this.data.height=t.height+1,this.data.leaf=!1,l(this.data,this.toBBox)},i.prototype._chooseSplitIndex=function(t,n,e){for(var i,o,l,r,a,d,u,p=1/0,h=1/0,m=n;m<=e-n;m++){var b=s(t,0,m,this.toBBox),y=s(t,m,e,this.toBBox),Z=(o=b,l=y,r=void 0,a=void 0,d=void 0,u=void 0,r=Math.max(o.minX,l.minX),a=Math.max(o.minY,l.minY),d=Math.min(o.maxX,l.maxX),u=Math.min(o.maxY,l.maxY),Math.max(0,d-r)*Math.max(0,u-a)),X=c(b)+c(y);Z<p?(p=Z,i=m,h=X<h?X:h):Z===p&&X<h&&(h=X,i=m)}return i||e-n},i.prototype._chooseSplitAxis=function(t,n,e){var i=t.leaf?this.compareMinX:a,o=t.leaf?this.compareMinY:d;this._allDistMargin(t,n,e,i)<this._allDistMargin(t,n,e,o)&&t.children.sort(i)},i.prototype._allDistMargin=function(t,n,e,i){t.children.sort(i);for(var o=this.toBBox,l=s(t,0,n,o),a=s(t,e-n,e,o),d=u(l)+u(a),c=n;c<e-n;c++){var p=t.children[c];r(l,t.leaf?o(p):p),d+=u(l)}for(var h=e-n-1;h>=n;h--){var m=t.children[h];r(a,t.leaf?o(m):m),d+=u(a)}return d},i.prototype._adjustParentBBoxes=function(t,n,e){for(var i=e;i>=0;i--)r(n[i],t)},i.prototype._condense=function(t){for(var n=t.length-1,e=void 0;n>=0;n--)0===t[n].children.length?n>0?(e=t[n-1].children).splice(e.indexOf(t[n]),1):this.clear():l(t[n],this.toBBox)},i}()})),$u=o((function(t,e){function i(t,n,e){void 0===e&&(e={});var i={type:"Feature"};return(0===e.id||e.id)&&(i.id=e.id),e.bbox&&(i.bbox=e.bbox),i.properties=n||{},i.geometry=t,i}function o(t,n,e){if(void 0===e&&(e={}),!t)throw new Error("coordinates is required");if(!Array.isArray(t))throw new Error("coordinates must be an Array");if(t.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!m(t[0])||!m(t[1]))throw new Error("coordinates must contain numbers");return i({type:"Point",coordinates:t},n,e)}function l(t,n,e){void 0===e&&(e={});for(var o=0,l=t;o<l.length;o++){var s=l[o];if(s.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var r=0;r<s[s.length-1].length;r++)if(s[s.length-1][r]!==s[0][r])throw new Error("First and last Position are not equivalent.")}return i({type:"Polygon",coordinates:t},n,e)}function s(t,n,e){if(void 0===e&&(e={}),t.length<2)throw new Error("coordinates must be an array of two or more positions");return i({type:"LineString",coordinates:t},n,e)}function r(t,n){void 0===n&&(n={});var e={type:"FeatureCollection"};return n.id&&(e.id=n.id),n.bbox&&(e.bbox=n.bbox),e.features=t,e}function a(t,n,e){return void 0===e&&(e={}),i({type:"MultiLineString",coordinates:t},n,e)}function d(t,n,e){return void 0===e&&(e={}),i({type:"MultiPoint",coordinates:t},n,e)}function c(t,n,e){return void 0===e&&(e={}),i({type:"MultiPolygon",coordinates:t},n,e)}function u(t,n){void 0===n&&(n="kilometers");var i=e.factors[n];if(!i)throw new Error(n+" units is invalid");return t*i}function p(t,n){void 0===n&&(n="kilometers");var i=e.factors[n];if(!i)throw new Error(n+" units is invalid");return t/i}function h(t){return 180*(t%(2*Math.PI))/Math.PI}function m(t){return!isNaN(t)&&null!==t&&!Array.isArray(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.earthRadius=6371008.8,e.factors={centimeters:100*e.earthRadius,centimetres:100*e.earthRadius,degrees:e.earthRadius/111325,feet:3.28084*e.earthRadius,inches:39.37*e.earthRadius,kilometers:e.earthRadius/1e3,kilometres:e.earthRadius/1e3,meters:e.earthRadius,metres:e.earthRadius,miles:e.earthRadius/1609.344,millimeters:1e3*e.earthRadius,millimetres:1e3*e.earthRadius,nauticalmiles:e.earthRadius/1852,radians:1,yards:1.0936*e.earthRadius},e.unitsFactors={centimeters:100,centimetres:100,degrees:1/111325,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:1/1609.344,millimeters:1e3,millimetres:1e3,nauticalmiles:1/1852,radians:1/e.earthRadius,yards:1.0936133},e.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046},e.feature=i,e.geometry=function(t,n,e){switch(t){case"Point":return o(n).geometry;case"LineString":return s(n).geometry;case"Polygon":return l(n).geometry;case"MultiPoint":return d(n).geometry;case"MultiLineString":return a(n).geometry;case"MultiPolygon":return c(n).geometry;default:throw new Error(t+" is invalid")}},e.point=o,e.points=function(t,n,e){return void 0===e&&(e={}),r(t.map((function(t){return o(t,n)})),e)},e.polygon=l,e.polygons=function(t,n,e){return void 0===e&&(e={}),r(t.map((function(t){return l(t,n)})),e)},e.lineString=s,e.lineStrings=function(t,n,e){return void 0===e&&(e={}),r(t.map((function(t){return s(t,n)})),e)},e.featureCollection=r,e.multiLineString=a,e.multiPoint=d,e.multiPolygon=c,e.geometryCollection=function(t,n,e){return void 0===e&&(e={}),i({type:"GeometryCollection",geometries:t},n,e)},e.round=function(t,n){if(void 0===n&&(n=0),n&&!(n>=0))throw new Error("precision must be a positive number");var e=Math.pow(10,n||0);return Math.round(t*e)/e},e.radiansToLength=u,e.lengthToRadians=p,e.lengthToDegrees=function(t,n){return h(p(t,n))},e.bearingToAzimuth=function(t){var n=t%360;return n<0&&(n+=360),n},e.radiansToDegrees=h,e.degreesToRadians=function(t){return t%360*Math.PI/180},e.convertLength=function(t,n,e){if(void 0===n&&(n="kilometers"),void 0===e&&(e="kilometers"),!(t>=0))throw new Error("length must be a positive number");return u(p(t,n),e)},e.convertArea=function(t,n,i){if(void 0===n&&(n="meters"),void 0===i&&(i="kilometers"),!(t>=0))throw new Error("area must be a positive number");var o=e.areaFactors[n];if(!o)throw new Error("invalid original units");var l=e.areaFactors[i];if(!l)throw new Error("invalid final units");return t/o*l},e.isNumber=m,e.isObject=function(t){return!!t&&t.constructor===Object},e.validateBBox=function(t){if(!t)throw new Error("bbox is required");if(!Array.isArray(t))throw new Error("bbox must be an Array");if(4!==t.length&&6!==t.length)throw new Error("bbox must be an Array of 4 or 6 numbers");t.forEach((function(t){if(!m(t))throw new Error("bbox must only contain numbers")}))},e.validateId=function(t){if(!t)throw new Error("id is required");if(-1===["string","number"].indexOf(n(t)))throw new Error("id must be a number or a string")}})),tp=$u;function np(t,n,e){if(null!==t)for(var i,o,l,s,r,a,d,c,u=0,p=0,h=t.type,m="FeatureCollection"===h,b="Feature"===h,y=m?t.features.length:1,Z=0;Z<y;Z++){r=(c=!!(d=m?t.features[Z].geometry:b?t.geometry:t)&&"GeometryCollection"===d.type)?d.geometries.length:1;for(var X=0;X<r;X++){var f=0,G=0;if(null!==(s=c?d.geometries[X]:d)){a=s.coordinates;var W=s.type;switch(u=!e||"Polygon"!==W&&"MultiPolygon"!==W?0:1,W){case null:break;case"Point":if(!1===n(a,p,Z,f,G))return!1;p++,f++;break;case"LineString":case"MultiPoint":for(i=0;i<a.length;i++){if(!1===n(a[i],p,Z,f,G))return!1;p++,"MultiPoint"===W&&f++}"LineString"===W&&f++;break;case"Polygon":case"MultiLineString":for(i=0;i<a.length;i++){for(o=0;o<a[i].length-u;o++){if(!1===n(a[i][o],p,Z,f,G))return!1;p++}"MultiLineString"===W&&f++,"Polygon"===W&&G++}"Polygon"===W&&f++;break;case"MultiPolygon":for(i=0;i<a.length;i++){for(G=0,o=0;o<a[i].length;o++){for(l=0;l<a[i][o].length-u;l++){if(!1===n(a[i][o][l],p,Z,f,G))return!1;p++}G++}f++}break;case"GeometryCollection":for(i=0;i<s.geometries.length;i++)if(!1===np(s.geometries[i],n,e))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function ep(t,n){var e;switch(t.type){case"FeatureCollection":for(e=0;e<t.features.length&&!1!==n(t.features[e].properties,e);e++);break;case"Feature":n(t.properties,0)}}function ip(t,n){if("Feature"===t.type)n(t,0);else if("FeatureCollection"===t.type)for(var e=0;e<t.features.length&&!1!==n(t.features[e],e);e++);}function op(t,n){var e,i,o,l,s,r,a,d,c,u,p=0,h="FeatureCollection"===t.type,m="Feature"===t.type,b=h?t.features.length:1;for(e=0;e<b;e++){for(r=h?t.features[e].geometry:m?t.geometry:t,d=h?t.features[e].properties:m?t.properties:{},c=h?t.features[e].bbox:m?t.bbox:void 0,u=h?t.features[e].id:m?t.id:void 0,s=(a=!!r&&"GeometryCollection"===r.type)?r.geometries.length:1,o=0;o<s;o++)if(null!==(l=a?r.geometries[o]:r))switch(l.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===n(l,p,d,c,u))return!1;break;case"GeometryCollection":for(i=0;i<l.geometries.length;i++)if(!1===n(l.geometries[i],p,d,c,u))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===n(null,p,d,c,u))return!1;p++}}function lp(t,n){op(t,(function(t,e,i,o,l){var s,r=null===t?null:t.type;switch(r){case null:case"Point":case"LineString":case"Polygon":return!1!==n(tp.feature(t,i,{bbox:o,id:l}),e,0)&&void 0}switch(r){case"MultiPoint":s="Point";break;case"MultiLineString":s="LineString";break;case"MultiPolygon":s="Polygon"}for(var a=0;a<t.coordinates.length;a++){var d={type:s,coordinates:t.coordinates[a]};if(!1===n(tp.feature(d,i),e,a))return!1}}))}function sp(t,n){lp(t,(function(t,e,i){var o=0;if(t.geometry){var l=t.geometry.type;if("Point"!==l&&"MultiPoint"!==l){var s,r=0,a=0,d=0;return!1!==np(t,(function(l,c,u,p,h){if(void 0===s||e>r||p>a||h>d)return s=l,r=e,a=p,d=h,void(o=0);var m=tp.lineString([s,l],t.properties);if(!1===n(m,e,i,h,o))return!1;o++,s=l}))&&void 0}}}))}function rp(t,n){if(!t)throw new Error("geojson is required");lp(t,(function(t,e,i){if(null!==t.geometry){var o=t.geometry.type,l=t.geometry.coordinates;switch(o){case"LineString":if(!1===n(t,e,i,0,0))return!1;break;case"Polygon":for(var s=0;s<l.length;s++)if(!1===n(tp.lineString(l[s],t.properties),e,i,s))return!1}}}))}var ap=function(t){var n=[];return np(t,(function(t){n.push(t)})),n},dp=np,cp=function(t,n,e,i){var o=e;return np(t,(function(t,i,l,s,r){o=0===i&&void 0===e?t:n(o,t,i,l,s,r)}),i),o},up=ip,pp=function(t,n,e){var i=e;return ip(t,(function(t,o){i=0===o&&void 0===e?t:n(i,t,o)})),i},hp=function(t,n){if(n=n||{},!tp.isObject(n))throw new Error("options is invalid");var e,i=n.featureIndex||0,o=n.multiFeatureIndex||0,l=n.geometryIndex||0,s=n.coordIndex||0,r=n.properties;switch(t.type){case"FeatureCollection":i<0&&(i=t.features.length+i),r=r||t.features[i].properties,e=t.features[i].geometry;break;case"Feature":r=r||t.properties,e=t.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":e=t;break;default:throw new Error("geojson is invalid")}if(null===e)return null;var a=e.coordinates;switch(e.type){case"Point":return tp.point(a,r,n);case"MultiPoint":return o<0&&(o=a.length+o),tp.point(a[o],r,n);case"LineString":return s<0&&(s=a.length+s),tp.point(a[s],r,n);case"Polygon":return l<0&&(l=a.length+l),s<0&&(s=a[l].length+s),tp.point(a[l][s],r,n);case"MultiLineString":return o<0&&(o=a.length+o),s<0&&(s=a[o].length+s),tp.point(a[o][s],r,n);case"MultiPolygon":return o<0&&(o=a.length+o),l<0&&(l=a[o].length+l),s<0&&(s=a[o][l].length-s),tp.point(a[o][l][s],r,n)}throw new Error("geojson is invalid")},mp=function(t,n){if(n=n||{},!tp.isObject(n))throw new Error("options is invalid");var e,i=n.featureIndex||0,o=n.multiFeatureIndex||0,l=n.geometryIndex||0,s=n.segmentIndex||0,r=n.properties;switch(t.type){case"FeatureCollection":i<0&&(i=t.features.length+i),r=r||t.features[i].properties,e=t.features[i].geometry;break;case"Feature":r=r||t.properties,e=t.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":e=t;break;default:throw new Error("geojson is invalid")}if(null===e)return null;var a=e.coordinates;switch(e.type){case"Point":case"MultiPoint":return null;case"LineString":return s<0&&(s=a.length+s-1),tp.lineString([a[s],a[s+1]],r,n);case"Polygon":return l<0&&(l=a.length+l),s<0&&(s=a[l].length+s-1),tp.lineString([a[l][s],a[l][s+1]],r,n);case"MultiLineString":return o<0&&(o=a.length+o),s<0&&(s=a[o].length+s-1),tp.lineString([a[o][s],a[o][s+1]],r,n);case"MultiPolygon":return o<0&&(o=a.length+o),l<0&&(l=a[o].length+l),s<0&&(s=a[o][l].length-s-1),tp.lineString([a[o][l][s],a[o][l][s+1]],r,n)}throw new Error("geojson is invalid")},bp=lp,yp=function(t,n,e){var i=e;return lp(t,(function(t,o,l){i=0===o&&0===l&&void 0===e?t:n(i,t,o,l)})),i},Zp=op,Xp=function(t,n,e){var i=e;return op(t,(function(t,o,l,s,r){i=0===o&&void 0===e?t:n(i,t,o,l,s,r)})),i},fp=rp,Gp=function(t,n,e){var i=e;return rp(t,(function(t,o,l,s){i=0===o&&void 0===e?t:n(i,t,o,l,s)})),i},Wp=ep,gp=function(t,n,e){var i=e;return ep(t,(function(t,o){i=0===o&&void 0===e?t:n(i,t,o)})),i},vp=sp,Vp=function(t,n,e){var i=e,o=!1;return sp(t,(function(t,l,s,r,a){i=!1===o&&void 0===e?t:n(i,t,l,s,r,a),o=!0})),i},xp=Object.defineProperty({coordAll:ap,coordEach:dp,coordReduce:cp,featureEach:up,featureReduce:pp,findPoint:hp,findSegment:mp,flattenEach:bp,flattenReduce:yp,geomEach:Zp,geomReduce:Xp,lineEach:fp,lineReduce:Gp,propEach:Wp,propReduce:gp,segmentEach:vp,segmentReduce:Vp},"__esModule",{value:!0});function Sp(t){var n=[1/0,1/0,-1/0,-1/0];return xp.coordEach(t,(function(t){n[0]>t[0]&&(n[0]=t[0]),n[1]>t[1]&&(n[1]=t[1]),n[2]<t[0]&&(n[2]=t[0]),n[3]<t[1]&&(n[3]=t[1])})),n}Sp.default=Sp;var Lp=Sp,Rp=Object.defineProperty({default:Lp},"__esModule",{value:!0}).default,Kp=xp.featureEach;xp.coordEach,tp.polygon;var Hp=tp.featureCollection;function Cp(t){var n=new qu(t);return n.insert=function(t){if("Feature"!==t.type)throw new Error("invalid feature");return t.bbox=t.bbox?t.bbox:Rp(t),qu.prototype.insert.call(this,t)},n.load=function(t){var n=[];return Array.isArray(t)?t.forEach((function(t){if("Feature"!==t.type)throw new Error("invalid features");t.bbox=t.bbox?t.bbox:Rp(t),n.push(t)})):Kp(t,(function(t){if("Feature"!==t.type)throw new Error("invalid features");t.bbox=t.bbox?t.bbox:Rp(t),n.push(t)})),qu.prototype.load.call(this,n)},n.remove=function(t,n){if("Feature"!==t.type)throw new Error("invalid feature");return t.bbox=t.bbox?t.bbox:Rp(t),qu.prototype.remove.call(this,t,n)},n.clear=function(){return qu.prototype.clear.call(this)},n.search=function(t){var n=qu.prototype.search.call(this,this.toBBox(t));return Hp(n)},n.collides=function(t){return qu.prototype.collides.call(this,this.toBBox(t))},n.all=function(){var t=qu.prototype.all.call(this);return Hp(t)},n.toJSON=function(){return qu.prototype.toJSON.call(this)},n.fromJSON=function(t){return qu.prototype.fromJSON.call(this,t)},n.toBBox=function(t){var n;if(t.bbox)n=t.bbox;else if(Array.isArray(t)&&4===t.length)n=t;else if(Array.isArray(t)&&6===t.length)n=[t[0],t[1],t[3],t[4]];else if("Feature"===t.type)n=Rp(t);else{if("FeatureCollection"!==t.type)throw new Error("invalid geojson");n=Rp(t)}return{minX:n[0],minY:n[1],maxX:n[2],maxY:n[3]}},n}var Yp=Cp,Tp=Cp;function Mp(t,n){var e={},i=[];if("LineString"===t.type&&(t=pa(t)),"LineString"===n.type&&(n=pa(n)),"Feature"===t.type&&"Feature"===n.type&&null!==t.geometry&&null!==n.geometry&&"LineString"===t.geometry.type&&"LineString"===n.geometry.type&&2===t.geometry.coordinates.length&&2===n.geometry.coordinates.length){var o=wp(t,n);return o&&i.push(o),Ga(i)}var l=Yp();return l.load(Du(n)),Ba(Du(t),(function(t){Ba(l.search(t),(function(n){var o=wp(t,n);if(o){var l=ld(o).join(",");e[l]||(e[l]=!0,i.push(o))}}))})),Ga(i)}function wp(t,n){var e=ld(t),i=ld(n);if(2!==e.length)throw new Error("<intersects> line1 must only contain 2 coordinates");if(2!==i.length)throw new Error("<intersects> line2 must only contain 2 coordinates");var o=e[0][0],l=e[0][1],s=e[1][0],r=e[1][1],a=i[0][0],d=i[0][1],c=i[1][0],u=i[1][1],p=(u-d)*(s-o)-(c-a)*(r-l),h=(c-a)*(l-d)-(u-d)*(o-a),m=(s-o)*(l-d)-(r-l)*(o-a);if(0===p)return null;var b=h/p,y=m/p;return b>=0&&b<=1&&y>=0&&y<=1?ma([o+b*(s-o),l+b*(r-l)]):null}function Pp(t,n,e){void 0===e&&(e={});var i=ma([1/0,1/0],{dist:1/0}),o=0;return Qa(t,(function(t){for(var l=ld(t),s=0;s<l.length-1;s++){var r=ma(l[s]);r.properties.dist=ec(n,r,e);var a=ma(l[s+1]);a.properties.dist=ec(n,a,e);var d=ec(r,a,e),c=Math.max(r.properties.dist,a.properties.dist),u=Zu(r,a),p=bu(n,c,u+90,e),h=bu(n,c,u-90,e),m=Mp(Xa([p.geometry.coordinates,h.geometry.coordinates]),Xa([r.geometry.coordinates,a.geometry.coordinates])),b=null;m.features.length>0&&((b=m.features[0]).properties.dist=ec(n,b,e),b.properties.location=o+ec(r,b,e)),r.properties.dist<i.properties.dist&&((i=r).properties.index=s,i.properties.location=o),a.properties.dist<i.properties.dist&&((i=a).properties.index=s+1,i.properties.location=o+d),b&&b.properties.dist<i.properties.dist&&((i=b).properties.index=s),o+=d}})),i}function Ip(t,n,e){void 0===e&&(e={});var i=od(t),o=od(n);o[0]+=o[0]-i[0]>180?-360:i[0]-o[0]>180?360:0;var l=function(t,n,e){var i=e=void 0===e?aa:Number(e),o=t[1]*Math.PI/180,l=n[1]*Math.PI/180,s=l-o,r=Math.abs(n[0]-t[0])*Math.PI/180;r>Math.PI&&(r-=2*Math.PI);var a=Math.log(Math.tan(l/2+Math.PI/4)/Math.tan(o/2+Math.PI/4)),d=Math.abs(a)>1e-11?s/a:Math.cos(o);return Math.sqrt(s*s+d*d*r*r)*i}(i,o);return Ya(l,"meters",e.units)}function zp(t,n,e){if(void 0===e&&(e={}),e.method||(e.method="geodesic"),e.units||(e.units="kilometers"),!t)throw new Error("pt is required");if(Array.isArray(t)?t=ma(t):"Point"===t.type?t=pa(t):ad(t,"Point","point"),!n)throw new Error("line is required");Array.isArray(n)?n=Xa(n):"LineString"===n.type?n=pa(n):ad(n,"LineString","line");var i=1/0,o=t.geometry.coordinates;return Aa(n,(function(t){var n=t.geometry.coordinates[0],l=t.geometry.coordinates[1],s=function(t,n,e,i){var o=[e[0]-n[0],e[1]-n[1]],l=Jp([t[0]-n[0],t[1]-n[1]],o);if(l<=0)return Np(t,n,{method:i.method,units:"degrees"});var s=Jp(o,o);if(s<=l)return Np(t,e,{method:i.method,units:"degrees"});var r=l/s,a=[n[0]+r*o[0],n[1]+r*o[1]];return Np(t,a,{method:i.method,units:"degrees"})}(o,n,l,e);s<i&&(i=s)})),Ya(i,"degrees",e.units)}function Jp(t,n){return t[0]*n[0]+t[1]*n[1]}function Np(t,n,e){return"planar"===e.method?Ip(t,n,e):ec(t,n,e)}function Fp(t,n,e,i,o,l,s,r){var a,d,c,u,p={x:null,y:null,onLine1:!1,onLine2:!1};return 0===(a=(r-l)*(e-t)-(s-o)*(i-n))?null!==p.x&&null!==p.y&&p:(u=(e-t)*(d=n-l)-(i-n)*(c=t-o),d=((s-o)*d-(r-l)*c)/a,c=u/a,p.x=t+d*(e-t),p.y=n+d*(i-n),d>=0&&d<=1&&(p.onLine1=!0),c>=0&&c<=1&&(p.onLine2=!0),!(!p.onLine1||!p.onLine2)&&[p.x,p.y])}function kp(t){for(var n=function(t){if("FeatureCollection"!==t.type)return"Feature"!==t.type?Ga([pa(t)]):Ga([t]);return t}(t),e=Xu(n),i=!1,o=0;!i&&o<n.features.length;){var l,s=n.features[o].geometry,r=!1;if("Point"===s.type)e.geometry.coordinates[0]===s.coordinates[0]&&e.geometry.coordinates[1]===s.coordinates[1]&&(i=!0);else if("MultiPoint"===s.type){var a=!1;for(l=0;!a&&l<s.coordinates.length;)e.geometry.coordinates[0]===s.coordinates[l][0]&&e.geometry.coordinates[1]===s.coordinates[l][1]&&(i=!0,a=!0),l++}else if("LineString"===s.type)for(l=0;!r&&l<s.coordinates.length-1;)Bp(e.geometry.coordinates[0],e.geometry.coordinates[1],s.coordinates[l][0],s.coordinates[l][1],s.coordinates[l+1][0],s.coordinates[l+1][1])&&(r=!0,i=!0),l++;else if("MultiLineString"===s.type)for(var d=0;d<s.coordinates.length;){r=!1,l=0;for(var c=s.coordinates[d];!r&&l<c.length-1;)Bp(e.geometry.coordinates[0],e.geometry.coordinates[1],c[l][0],c[l][1],c[l+1][0],c[l+1][1])&&(r=!0,i=!0),l++;d++}else"Polygon"!==s.type&&"MultiPolygon"!==s.type||$d(e,s)&&(i=!0);o++}if(i)return e;var u=Ga([]);for(o=0;o<n.features.length;o++)u.features=u.features.concat(Gu(n.features[o]).features);return ma(Au(e,u).geometry.coordinates)}function Bp(t,n,e,i,o,l){return Math.sqrt((o-e)*(o-e)+(l-i)*(l-i))===Math.sqrt((t-e)*(t-e)+(n-i)*(n-i))+Math.sqrt((o-t)*(o-t)+(l-n)*(l-n))}Yp.default=Tp;var _p=6378137;function Up(t){return ja(t,(function(t,n){return t+function(t){var n,e=0;switch(t.type){case"Polygon":return Ep(t.coordinates);case"MultiPolygon":for(n=0;n<t.coordinates.length;n++)e+=Ep(t.coordinates[n]);return e;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0}return 0}(n)}),0)}function Ep(t){var n=0;if(t&&t.length>0){n+=Math.abs(jp(t[0]));for(var e=1;e<t.length;e++)n-=Math.abs(jp(t[e]))}return n}function jp(t){var n,e,i,o,l,s,r=0,a=t.length;if(a>2){for(s=0;s<a;s++)s===a-2?(i=a-2,o=a-1,l=0):s===a-1?(i=a-1,o=0,l=1):(i=s,o=s+1,l=s+2),n=t[i],e=t[o],r+=(Qp(t[l][0])-Qp(n[0]))*Math.sin(Qp(e[1]));r=r*_p*_p/2}return r}function Qp(t){return t*Math.PI/180}function Op(t,n){return void 0===n&&(n={}),Da(t,(function(t,e){var i=e.geometry.coordinates;return t+ec(i[0],i[1],n)}),0)}function Ap(t,n,e,i){if(!wa(i=i||{}))throw new Error("options is invalid");var o,l=[];if("Feature"===t.type)o=t.geometry.coordinates;else{if("LineString"!==t.type)throw new Error("input must be a LineString Feature or Geometry");o=t.coordinates}for(var s,r,a,d=o.length,c=0,u=0;u<o.length&&!(n>=c&&u===o.length-1);u++){if(c>n&&0===l.length){if(!(s=n-c))return l.push(o[u]),Xa(l);r=Zu(o[u],o[u-1])-180,a=bu(o[u],s,r,i),l.push(a.geometry.coordinates)}if(c>=e)return(s=e-c)?(r=Zu(o[u],o[u-1])-180,a=bu(o[u],s,r,i),l.push(a.geometry.coordinates),Xa(l)):(l.push(o[u]),Xa(l));if(c>=n&&l.push(o[u]),u===o.length-1)return Xa(l);c+=ec(o[u],o[u+1],i)}if(c<n&&o.length===d)throw new Error("Start position is beyond line");var p=o[o.length-1];return Xa([p,p])}function Dp(t,n,e){void 0===e&&(e={});for(var i=od(t),o=ld(n),l=0;l<o.length-1;l++){var s=!1;if(e.ignoreEndVertices&&(0===l&&(s="start"),l===o.length-2&&(s="end"),0===l&&l+1===o.length-1&&(s="both")),qp(o[l],o[l+1],i,s,void 0===e.epsilon?null:e.epsilon))return!0}return!1}function qp(t,n,e,i,o){var l=e[0],s=e[1],r=t[0],a=t[1],d=n[0],c=n[1],u=d-r,p=c-a,h=(e[0]-r)*p-(e[1]-a)*u;if(null!==o){if(Math.abs(h)>o)return!1}else if(0!==h)return!1;return i?"start"===i?Math.abs(u)>=Math.abs(p)?u>0?r<l&&l<=d:d<=l&&l<r:p>0?a<s&&s<=c:c<=s&&s<a:"end"===i?Math.abs(u)>=Math.abs(p)?u>0?r<=l&&l<d:d<l&&l<=r:p>0?a<=s&&s<c:c<s&&s<=a:"both"===i&&(Math.abs(u)>=Math.abs(p)?u>0?r<l&&l<d:d<l&&l<r:p>0?a<s&&s<c:c<s&&s<a):Math.abs(u)>=Math.abs(p)?u>0?r<=l&&l<=d:d<=l&&l<=r:p>0?a<=s&&s<=c:c<=s&&s<=a}function $p(t,n){var e=cd(t),i=cd(n),o=e.type,l=i.type;switch(o){case"Point":switch(l){case"MultiPoint":return function(t,n){var e,i=!1;for(e=0;e<n.coordinates.length;e++)if(nh(n.coordinates[e],t.coordinates)){i=!0;break}return i}(e,i);case"LineString":return Dp(e,i,{ignoreEndVertices:!0});case"Polygon":case"MultiPolygon":return $d(e,i,{ignoreBoundary:!0});default:throw new Error("feature2 "+l+" geometry not supported")}case"MultiPoint":switch(l){case"MultiPoint":return function(t,n){for(var e=0;e<t.coordinates.length;e++){for(var i=!1,o=0;o<n.coordinates.length;o++)nh(t.coordinates[e],n.coordinates[o])&&(i=!0);if(!i)return!1}return!0}(e,i);case"LineString":return function(t,n){for(var e=!1,i=0;i<t.coordinates.length;i++){if(!Dp(t.coordinates[i],n))return!1;e||(e=Dp(t.coordinates[i],n,{ignoreEndVertices:!0}))}return e}(e,i);case"Polygon":case"MultiPolygon":return function(t,n){for(var e=!0,i=!1,o=0;o<t.coordinates.length;o++){if(!(i=$d(t.coordinates[1],n))){e=!1;break}i=$d(t.coordinates[1],n,{ignoreBoundary:!0})}return e&&i}(e,i);default:throw new Error("feature2 "+l+" geometry not supported")}case"LineString":switch(l){case"LineString":return function(t,n){for(var e=0;e<t.coordinates.length;e++)if(!Dp(t.coordinates[e],n))return!1;return!0}(e,i);case"Polygon":case"MultiPolygon":return function(t,n){var e=id(n),i=id(t);if(!th(e,i))return!1;for(var o=!1,l=0;l<t.coordinates.length-1;l++){if(!$d(t.coordinates[l],n))return!1;if(o||(o=$d(t.coordinates[l],n,{ignoreBoundary:!0})),!o)o=$d(eh(t.coordinates[l],t.coordinates[l+1]),n,{ignoreBoundary:!0})}return o}(e,i);default:throw new Error("feature2 "+l+" geometry not supported")}case"Polygon":switch(l){case"Polygon":case"MultiPolygon":return function(t,n){var e=id(t);if(!th(id(n),e))return!1;for(var i=0;i<t.coordinates[0].length;i++)if(!$d(t.coordinates[0][i],n))return!1;return!0}(e,i);default:throw new Error("feature2 "+l+" geometry not supported")}default:throw new Error("feature1 "+o+" geometry not supported")}}function th(t,n){return!(t[0]>n[0])&&(!(t[2]<n[2])&&(!(t[1]>n[1])&&!(t[3]<n[3])))}function nh(t,n){return t[0]===n[0]&&t[1]===n[1]}function eh(t,n){return[(t[0]+n[0])/2,(t[1]+n[1])/2]}function ih(t,n,e){void 0===e&&(e={}),e.mask&&!e.units&&(e.units="kilometers");for(var i=[],o=t[0],l=t[1],s=t[2],r=t[3],a=n/ec([o,l],[s,l],e)*(s-o),d=n/ec([o,l],[o,r],e)*(r-l),c=s-o,u=r-l,p=Math.floor(c/a),h=(u-Math.floor(u/d)*d)/2,m=o+(c-p*a)/2;m<=s;){for(var b=l+h;b<=r;){var y=ma([m,b],e.properties);e.mask?$p(y,e.mask)&&i.push(y):i.push(y),b+=d}m+=a}return Ga(i)}function oh(t,n){void 0===n&&(n={});var e=n.precision,i=n.coordinates,o=n.mutate;if(e=null==e||isNaN(e)?6:e,i=null==i||isNaN(i)?3:i,!t)throw new Error("<geojson> is required");if("number"!=typeof e)throw new Error("<precision> must be a number");if("number"!=typeof i)throw new Error("<coordinates> must be a number");!1!==o&&void 0!==o||(t=JSON.parse(JSON.stringify(t)));var l=Math.pow(10,e);return Ja(t,(function(t){!function(t,n,e){t.length>e&&t.splice(e,t.length);for(var i=0;i<t.length;i++)t[i]=Math.round(t[i]*n)/n}(t,l,i)})),t}function lh(t){if(!t)throw new Error("geojson is required");var n=[];return Qa(t,(function(t){n.push(t)})),Ga(n)}function sh(t,n,e){if("Polygon"!==t.geometry.type)throw new Error("The input feature must be a Polygon");void 0===e&&(e=1);var i=t.geometry.coordinates,o=[],l={};if(e){for(var s=[],r=0;r<i.length;r++)for(var a=0;a<i[r].length-1;a++)s.push(b(r,a));var d=zc();d.load(s)}for(var c=0;c<i.length;c++)for(var u=0;u<i[c].length-1;u++){if(e)d.search(b(c,u)).forEach((function(t){var n=t.ring,e=t.edge;m(c,u,n,e)}));else for(var p=0;p<i.length;p++)for(var h=0;h<i[p].length-1;h++)m(c,u,p,h)}return n||(o={type:"Feature",geometry:{type:"MultiPoint",coordinates:o}}),o;function m(t,e,s,r){var a,d,c=i[t][e],u=i[t][e+1],p=i[s][r],h=i[s][r+1],m=function(t,n,e,i){if(rh(t,e)||rh(t,i)||rh(n,e)||rh(i,e))return null;var o=t[0],l=t[1],s=n[0],r=n[1],a=e[0],d=e[1],c=i[0],u=i[1],p=(o-s)*(d-u)-(l-r)*(a-c);return 0===p?null:[((o*r-l*s)*(a-c)-(o-s)*(a*u-d*c))/p,((o*r-l*s)*(d-u)-(l-r)*(a*u-d*c))/p]}(c,u,p,h);if(null!==m&&(a=u[0]!==c[0]?(m[0]-c[0])/(u[0]-c[0]):(m[1]-c[1])/(u[1]-c[1]),d=h[0]!==p[0]?(m[0]-p[0])/(h[0]-p[0]):(m[1]-p[1])/(h[1]-p[1]),!(a>=1||a<=0||d>=1||d<=0))){var b=m,y=!l[b];y&&(l[b]=!0),n?o.push(n(m,t,e,c,u,a,s,r,p,h,d,y)):o.push(m)}}function b(t,n){var e,o,l,s,r=i[t][n],a=i[t][n+1];return r[0]<a[0]?(e=r[0],o=a[0]):(e=a[0],o=r[0]),r[1]<a[1]?(l=r[1],s=a[1]):(l=a[1],s=r[1]),{minX:e,minY:l,maxX:o,maxY:s,ring:t,edge:n}}}function rh(t,n){if(!t||!n)return!1;if(t.length!==n.length)return!1;for(var e=0,i=t.length;e<i;e++)if(t[e]instanceof Array&&n[e]instanceof Array){if(!rh(t[e],n[e]))return!1}else if(t[e]!==n[e])return!1;return!0}function ah(t){if("Feature"!=t.type)throw new Error("The input must a geojson object of type Feature");if(void 0===t.geometry||null==t.geometry)throw new Error("The input must a geojson object with a non-empty geometry");if("Polygon"!=t.geometry.type)throw new Error("The input must be a geojson Polygon");for(var n=t.geometry.coordinates.length,e=[],i=0;i<n;i++){var o=t.geometry.coordinates[i];hh(o[0],o[o.length-1])||o.push(o[0]),e.push.apply(e,o.slice(0,o.length-1))}if(!function(t){for(var n={},e=1,i=0,o=t.length;i<o;++i){if(Object.prototype.hasOwnProperty.call(n,t[i])){e=0;break}n[t[i]]=1}return e}(e))throw new Error("The input polygon may not have duplicate vertices (except for the first and last vertex of each ring)");var l=e.length,s=sh(t,(function(t,n,e,i,o,l,s,r,a,d,c,u){return[t,n,e,i,o,l,s,r,a,d,c,u]})),r=s.length;if(0==r){var a=[];for(i=0;i<n;i++)a.push(ya([t.geometry.coordinates[i]],{parent:-1,winding:ph(t.geometry.coordinates[i])}));var d=Ga(a);return P(),I(),d}var c=[],u=[];for(i=0;i<n;i++){c.push([]);for(var p=0;p<t.geometry.coordinates[i].length-1;p++)c[i].push([new dh(t.geometry.coordinates[i][mh(p+1,t.geometry.coordinates[i].length-1)],1,[i,p],[i,mh(p+1,t.geometry.coordinates[i].length-1)],void 0)]),u.push(new ch(t.geometry.coordinates[i][p],[i,mh(p-1,t.geometry.coordinates[i].length-1)],[i,p],void 0,void 0,!1,!0))}for(i=0;i<r;i++)c[s[i][1]][s[i][2]].push(new dh(s[i][0],s[i][5],[s[i][1],s[i][2]],[s[i][6],s[i][7]],void 0)),s[i][11]&&u.push(new ch(s[i][0],[s[i][1],s[i][2]],[s[i][6],s[i][7]],void 0,void 0,!0,!0));var h=u.length;for(i=0;i<c.length;i++)for(p=0;p<c[i].length;p++)c[i][p].sort((function(t,n){return t.param<n.param?-1:1}));var m=[];for(i=0;i<h;i++)m.push({minX:u[i].coord[0],minY:u[i].coord[1],maxX:u[i].coord[0],maxY:u[i].coord[1],index:i});var b=zc();b.load(m);for(i=0;i<c.length;i++)for(p=0;p<c[i].length;p++)for(var y=0;y<c[i][p].length;y++){X=y==c[i][p].length-1?c[i][mh(p+1,t.geometry.coordinates[i].length-1)][0].coord:c[i][p][y+1].coord;var Z=b.search({minX:X[0],minY:X[1],maxX:X[0],maxY:X[1]})[0];c[i][p][y].nxtIsectAlongEdgeIn=Z.index}for(i=0;i<c.length;i++)for(p=0;p<c[i].length;p++)for(y=0;y<c[i][p].length;y++){var X=c[i][p][y].coord,f=(Z=b.search({minX:X[0],minY:X[1],maxX:X[0],maxY:X[1]})[0]).index;f<l?u[f].nxtIsectAlongRingAndEdge2=c[i][p][y].nxtIsectAlongEdgeIn:hh(u[f].ringAndEdge1,c[i][p][y].ringAndEdgeIn)?u[f].nxtIsectAlongRingAndEdge1=c[i][p][y].nxtIsectAlongEdgeIn:u[f].nxtIsectAlongRingAndEdge2=c[i][p][y].nxtIsectAlongEdgeIn}var G=[];for(i=0,p=0;p<n;p++){var W=i;for(y=0;y<t.geometry.coordinates[p].length-1;y++)u[i].coord[0]<u[W].coord[0]&&(W=i),i++;var g=u[W].nxtIsectAlongRingAndEdge2;for(y=0;y<u.length;y++)if(u[y].nxtIsectAlongRingAndEdge1==W||u[y].nxtIsectAlongRingAndEdge2==W){var v=y;break}var V=uh([u[v].coord,u[W].coord,u[g].coord],!0)?1:-1;G.push({isect:W,parent:-1,winding:V})}G.sort((function(t,n){return u[t.isect].coord>u[n.isect].coord?-1:1}));for(a=[];G.length>0;){var x=G.pop(),S=x.isect,L=x.parent,R=x.winding,K=a.length,H=[u[S].coord],C=S;if(u[S].ringAndEdge1Walkable)var Y=u[S].ringAndEdge1,T=u[S].nxtIsectAlongRingAndEdge1;else Y=u[S].ringAndEdge2,T=u[S].nxtIsectAlongRingAndEdge2;for(;!hh(u[S].coord,u[T].coord);){H.push(u[T].coord);var M=void 0;for(i=0;i<G.length;i++)if(G[i].isect==T){M=i;break}if(null!=M&&G.splice(M,1),hh(Y,u[T].ringAndEdge1)){if(Y=u[T].ringAndEdge2,u[T].ringAndEdge2Walkable=!1,u[T].ringAndEdge1Walkable){var w={isect:T};uh([u[C].coord,u[T].coord,u[u[T].nxtIsectAlongRingAndEdge2].coord],1==R)?(w.parent=L,w.winding=-R):(w.parent=K,w.winding=R),G.push(w)}C=T,T=u[T].nxtIsectAlongRingAndEdge2}else{if(Y=u[T].ringAndEdge1,u[T].ringAndEdge1Walkable=!1,u[T].ringAndEdge2Walkable){w={isect:T};uh([u[C].coord,u[T].coord,u[u[T].nxtIsectAlongRingAndEdge1].coord],1==R)?(w.parent=L,w.winding=-R):(w.parent=K,w.winding=R),G.push(w)}C=T,T=u[T].nxtIsectAlongRingAndEdge1}}H.push(u[T].coord),a.push(ya([H],{index:K,parent:L,winding:R,netWinding:void 0}))}d=Ga(a);function P(){for(var t=[],n=0;n<d.features.length;n++)-1==d.features[n].properties.parent&&t.push(n);if(t.length>1)for(n=0;n<t.length;n++){for(var e=-1,i=0;i<d.features.length;i++)t[n]!=i&&$d(d.features[t[n]].geometry.coordinates[0][0],d.features[i],{ignoreBoundary:!0})&&Up(d.features[i])<Infinity&&(e=i);d.features[t[n]].properties.parent=e}}function I(){for(var t=0;t<d.features.length;t++)if(-1==d.features[t].properties.parent){var n=d.features[t].properties.winding;d.features[t].properties.netWinding=n,z(t,n)}}function z(t,n){for(var e=0;e<d.features.length;e++)if(d.features[e].properties.parent==t){var i=n+d.features[e].properties.winding;d.features[e].properties.netWinding=i,z(e,i)}}return P(),I(),d}var dh=function(t,n,e,i,o){this.coord=t,this.param=n,this.ringAndEdgeIn=e,this.ringAndEdgeOut=i,this.nxtIsectAlongEdgeIn=o},ch=function(t,n,e,i,o,l,s){this.coord=t,this.ringAndEdge1=n,this.ringAndEdge2=e,this.nxtIsectAlongRingAndEdge1=i,this.nxtIsectAlongRingAndEdge2=o,this.ringAndEdge1Walkable=l,this.ringAndEdge2Walkable=s};function uh(t,n){if(void 0===n&&(n=!0),3!=t.length)throw new Error("This function requires an array of three points [x,y]");return(t[1][0]-t[0][0])*(t[2][1]-t[0][1])-(t[1][1]-t[0][1])*(t[2][0]-t[0][0])>=0==n}function ph(t){for(var n=0,e=0;e<t.length-1;e++)t[e][0]<t[n][0]&&(n=e);if(uh([t[mh(n-1,t.length-1)],t[n],t[mh(n+1,t.length-1)]],!0))var i=1;else i=-1;return i}function hh(t,n){if(!t||!n)return!1;if(t.length!=n.length)return!1;for(var e=0,i=t.length;e<i;e++)if(t[e]instanceof Array&&n[e]instanceof Array){if(!hh(t[e],n[e]))return!1}else if(t[e]!=n[e])return!1;return!0}function mh(t,n){return(t%n+n)%n}var bh=Math.PI/180,yh=180/Math.PI,Zh=function(t,n){this.lon=t,this.lat=n,this.x=bh*t,this.y=bh*n};Zh.prototype.view=function(){return String(this.lon).slice(0,4)+","+String(this.lat).slice(0,4)},Zh.prototype.antipode=function(){var t=-1*this.lat,n=this.lon<0?180+this.lon:-1*(180-this.lon);return new Zh(n,t)};var Xh=function(){this.coords=[],this.length=0};Xh.prototype.move_to=function(t){this.length++,this.coords.push(t)};var fh=function(t){this.properties=t||{},this.geometries=[]};fh.prototype.json=function(){if(this.geometries.length<=0)return{geometry:{type:"LineString",coordinates:null},type:"Feature",properties:this.properties};if(1===this.geometries.length)return{geometry:{type:"LineString",coordinates:this.geometries[0].coords},type:"Feature",properties:this.properties};for(var t=[],n=0;n<this.geometries.length;n++)t.push(this.geometries[n].coords);return{geometry:{type:"MultiLineString",coordinates:t},type:"Feature",properties:this.properties}},fh.prototype.wkt=function(){for(var t="",n="LINESTRING(",e=function(t){n+=t[0]+" "+t[1]+","},i=0;i<this.geometries.length;i++){if(0===this.geometries[i].coords.length)return"LINESTRING(empty)";this.geometries[i].coords.forEach(e),t+=n.substring(0,n.length-1)+")"}return t};var Gh=function(t,n,e){if(!t||void 0===t.x||void 0===t.y)throw new Error("GreatCircle constructor expects two args: start and end objects with x and y properties");if(!n||void 0===n.x||void 0===n.y)throw new Error("GreatCircle constructor expects two args: start and end objects with x and y properties");this.start=new Zh(t.x,t.y),this.end=new Zh(n.x,n.y),this.properties=e||{};var i=this.start.x-this.end.x,o=this.start.y-this.end.y,l=Math.pow(Math.sin(o/2),2)+Math.cos(this.start.y)*Math.cos(this.end.y)*Math.pow(Math.sin(i/2),2);if(this.g=2*Math.asin(Math.sqrt(l)),this.g===Math.PI)throw new Error("it appears "+t.view()+" and "+n.view()+" are 'antipodal', e.g diametrically opposite, thus there is no single route but rather infinite");if(isNaN(this.g))throw new Error("could not calculate great circle between "+t+" and "+n)};function Wh(t,n){var e=[],i=Yp();return Qa(n,(function(n){if(e.forEach((function(t,n){t.id=n})),e.length){var o=i.search(n);if(o.features.length){var l=vh(n,o);e=e.filter((function(t){return t.id!==l.id})),i.remove(l),Ba(gh(l,n),(function(t){e.push(t),i.insert(t)}))}}else(e=gh(t,n).features).forEach((function(t){t.bbox||(t.bbox=mu(id(t)))})),i.load(Ga(e))})),Ga(e)}function gh(t,n){var e=[],i=ld(t)[0],o=ld(t)[t.geometry.coordinates.length-1];if(Vh(i,od(n))||Vh(o,od(n)))return Ga([t]);var l=Yp(),s=Du(t);l.load(s);var r=l.search(n);if(!r.features.length)return Ga([t]);var a=vh(n,r),d=_a(s,(function(t,i,o){var l=ld(i)[1],s=od(n);return o===a.id?(t.push(s),e.push(Xa(t)),Vh(s,l)?[s]:[s,l]):(t.push(l),t)}),[i]);return d.length>1&&e.push(Xa(d)),Ga(e)}function vh(t,n){if(!n.features.length)throw new Error("lines must contain features");if(1===n.features.length)return n.features[0];var e,i=1/0;return Ba(n,(function(n){var o=Pp(n,t).properties.dist;o<i&&(e=n,i=o)})),e}function Vh(t,n){return t[0]===n[0]&&t[1]===n[1]}function xh(t,n,e,i,o){void 0===o&&(o={});var l=o.steps||64,s=Sh(e),r=Sh(i),a=Array.isArray(t)||"Feature"!==t.type?{}:t.properties;if(s===r)return Xa(yu(t,n,o).geometry.coordinates[0],a);for(var d=s,c=s<r?r:r+360,u=d,p=[],h=0;u<c;)p.push(bu(t,n,u,o).geometry.coordinates),u=d+360*++h/l;return u>c&&p.push(bu(t,n,c,o).geometry.coordinates),Xa(p,a)}function Sh(t){var n=t%360;return n<0&&(n+=360),n}function Lh(t,n){void 0===n&&(n={});var e=cd(t);switch(n.properties||"Feature"!==t.type||(n.properties=t.properties),e.type){case"Polygon":return Rh(e,n);case"MultiPolygon":return function(t,n){void 0===n&&(n={});var e=cd(t).coordinates,i=n.properties?n.properties:"Feature"===t.type?t.properties:{},o=[];return e.forEach((function(t){o.push(Kh(t,i))})),Ga(o)}(e,n);default:throw new Error("invalid poly")}}function Rh(t,n){return void 0===n&&(n={}),Kh(cd(t).coordinates,n.properties?n.properties:"Feature"===t.type?t.properties:{})}function Kh(t,n){return t.length>1?Wa(t,n):Xa(t[0],n)}function Hh(t,n){var e,i,o;void 0===n&&(n={});var l=n.properties,s=null===(e=n.autoComplete)||void 0===e||e,r=null===(i=n.orderCoords)||void 0===i||i;if(null!==(o=n.mutate)&&void 0!==o&&o||(t=rc(t)),"FeatureCollection"===t.type){var a=[];return t.features.forEach((function(t){a.push(ld(Ch(t,{},s,r)))})),va(a,l)}return Ch(t,l,s,r)}function Ch(t,n,e,i){n=n||("Feature"===t.type?t.properties:{});var o=cd(t),l=o.coordinates,s=o.type;if(!l.length)throw new Error("line must contain coordinates");switch(s){case"LineString":return e&&(l=Yh(l)),ya([l],n);case"MultiLineString":var r=[],a=0;return l.forEach((function(t){if(e&&(t=Yh(t)),i){var n=function(t){var n=t[0],e=t[1],i=t[2],o=t[3];return Math.abs(n-i)*Math.abs(e-o)}(id(Xa(t)));n>a?(r.unshift(t),a=n):r.push(t)}else r.push(t)})),ya(r,n);default:throw new Error("geometry type "+s+" is not supported")}}function Yh(t){var n=t[0],e=n[0],i=n[1],o=t[t.length-1],l=o[0],s=o[1];return e===l&&i===s||t.push(n),t}function Th(t,n){var e,i,o,l,s,r,a;for(i=1;i<=8;i*=2){for(e=[],l=!(wh(o=t[t.length-1],n)&i),s=0;s<t.length;s++)(a=!(wh(r=t[s],n)&i))!==l&&e.push(Mh(o,r,i,n)),a&&e.push(r),o=r,l=a;if(!(t=e).length)break}return e}function Mh(t,n,e,i){return 8&e?[t[0]+(n[0]-t[0])*(i[3]-t[1])/(n[1]-t[1]),i[3]]:4&e?[t[0]+(n[0]-t[0])*(i[1]-t[1])/(n[1]-t[1]),i[1]]:2&e?[i[2],t[1]+(n[1]-t[1])*(i[2]-t[0])/(n[0]-t[0])]:1&e?[i[0],t[1]+(n[1]-t[1])*(i[0]-t[0])/(n[0]-t[0])]:null}function wh(t,n){var e=0;return t[0]<n[0]?e|=1:t[0]>n[2]&&(e|=2),t[1]<n[1]?e|=4:t[1]>n[3]&&(e|=8),e}function Ph(t,n){for(var e=[],i=0,o=t;i<o.length;i++){var l=Th(o[i],n);l.length>0&&(l[0][0]===l[l.length-1][0]&&l[0][1]===l[l.length-1][1]||l.push(l[0]),l.length>=4&&e.push(l))}return e}Gh.prototype.interpolate=function(t){var n=Math.sin((1-t)*this.g)/Math.sin(this.g),e=Math.sin(t*this.g)/Math.sin(this.g),i=n*Math.cos(this.start.y)*Math.cos(this.start.x)+e*Math.cos(this.end.y)*Math.cos(this.end.x),o=n*Math.cos(this.start.y)*Math.sin(this.start.x)+e*Math.cos(this.end.y)*Math.sin(this.end.x),l=n*Math.sin(this.start.y)+e*Math.sin(this.end.y),s=yh*Math.atan2(l,Math.sqrt(Math.pow(i,2)+Math.pow(o,2)));return[yh*Math.atan2(o,i),s]},Gh.prototype.Arc=function(t,n){var e=[];if(!t||t<=2)e.push([this.start.lon,this.start.lat]),e.push([this.end.lon,this.end.lat]);else for(var i=1/(t-1),o=0;o<t;++o){var l=i*o,s=this.interpolate(l);e.push(s)}for(var r=!1,a=0,d=n&&n.offset?n.offset:10,c=180-d,u=-180+d,p=360-d,h=1;h<e.length;++h){var m=e[h-1][0],b=e[h][0],y=Math.abs(b-m);y>p&&(b>c&&m<u||m>c&&b<u)?r=!0:y>a&&(a=y)}var Z=[];if(r&&a<d){var X=[];Z.push(X);for(var f=0;f<e.length;++f){var G=parseFloat(e[f][0]);if(f>0&&Math.abs(G-e[f-1][0])>p){var W=parseFloat(e[f-1][0]),g=parseFloat(e[f-1][1]),v=parseFloat(e[f][0]),V=parseFloat(e[f][1]);if(W>-180&&W<u&&180===v&&f+1<e.length&&e[f-1][0]>-180&&e[f-1][0]<u){X.push([-180,e[f][1]]),f++,X.push([e[f][0],e[f][1]]);continue}if(W>c&&W<180&&-180===v&&f+1<e.length&&e[f-1][0]>c&&e[f-1][0]<180){X.push([180,e[f][1]]),f++,X.push([e[f][0],e[f][1]]);continue}if(W<u&&v>c){var x=W;W=v,v=x;var S=g;g=V,V=S}if(W>c&&v<u&&(v+=360),W<=180&&v>=180&&W<v){var L=(180-W)/(v-W),R=L*V+(1-L)*g;X.push([e[f-1][0]>c?180:-180,R]),(X=[]).push([e[f-1][0]>c?-180:180,R]),Z.push(X)}else X=[],Z.push(X);X.push([G,e[f][1]])}else X.push([e[f][0],e[f][1]])}}else{var K=[];Z.push(K);for(var H=0;H<e.length;++H)K.push([e[H][0],e[H][1]])}for(var C=new fh(this.properties),Y=0;Y<Z.length;++Y){var T=new Xh;C.geometries.push(T);for(var M=Z[Y],w=0;w<M.length;++w)T.move_to(M[w])}return C};var Ih,zh=Object.prototype.toString,Jh=function(t){var e=zh.call(t),i="[object Arguments]"===e;return i||(i="[object Array]"!==e&&null!==t&&"object"===n(t)&&"number"==typeof t.length&&t.length>=0&&"[object Function]"===zh.call(t.callee)),i};if(!Object.keys){var Nh=Object.prototype.hasOwnProperty,Fh=Object.prototype.toString,kh=Jh,Bh=Object.prototype.propertyIsEnumerable,_h=!Bh.call({toString:null},"toString"),Uh=Bh.call((function(){}),"prototype"),Eh=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],jh=function(t){var n=t.constructor;return n&&n.prototype===t},Qh={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},Oh=function(){if("undefined"==typeof window)return!1;for(var t in window)try{if(!Qh["$"+t]&&Nh.call(window,t)&&null!==window[t]&&"object"===n(window[t]))try{jh(window[t])}catch(t){return!0}}catch(t){return!0}return!1}();Ih=function(t){var e=null!==t&&"object"===n(t),i="[object Function]"===Fh.call(t),o=kh(t),l=e&&"[object String]"===Fh.call(t),s=[];if(!e&&!i&&!o)throw new TypeError("Object.keys called on a non-object");var r=Uh&&i;if(l&&t.length>0&&!Nh.call(t,0))for(var a=0;a<t.length;++a)s.push(String(a));if(o&&t.length>0)for(var d=0;d<t.length;++d)s.push(String(d));else for(var c in t)r&&"prototype"===c||!Nh.call(t,c)||s.push(String(c));if(_h)for(var u=function(t){if("undefined"==typeof window||!Oh)return jh(t);try{return jh(t)}catch(t){return!1}}(t),p=0;p<Eh.length;++p)u&&"constructor"===Eh[p]||!Nh.call(t,Eh[p])||s.push(Eh[p]);return s}}var Ah=Ih,Dh=Array.prototype.slice,qh=Object.keys,$h=qh?function(t){return qh(t)}:Ah,tm=Object.keys;$h.shim=function(){if(Object.keys){var t=function(){var t=Object.keys(arguments);return t&&t.length===arguments.length}(1,2);t||(Object.keys=function(t){return Jh(t)?tm(Dh.call(t)):tm(t)})}else Object.keys=$h;return Object.keys||$h};var nm,em=$h,im=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"===n(Symbol.iterator))return!0;var t={},e=Symbol("test"),i=Object(e);if("string"==typeof e)return!1;if("[object Symbol]"!==Object.prototype.toString.call(e))return!1;if("[object Symbol]"!==Object.prototype.toString.call(i))return!1;for(e in t[e]=42,t)return!1;if("function"==typeof Object.keys&&0!==Object.keys(t).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(t).length)return!1;var o=Object.getOwnPropertySymbols(t);if(1!==o.length||o[0]!==e)return!1;if(!Object.prototype.propertyIsEnumerable.call(t,e))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var l=Object.getOwnPropertyDescriptor(t,e);if(42!==l.value||!0!==l.enumerable)return!1}return!0},om=function(){return im()&&!!Symbol.toStringTag},lm="undefined"!=typeof Symbol&&Symbol,sm="Function.prototype.bind called on incompatible ",rm=Array.prototype.slice,am=Object.prototype.toString,dm="[object Function]",cm=Function.prototype.bind||function(t){var n=this;if("function"!=typeof n||am.call(n)!==dm)throw new TypeError(sm+n);for(var e,i=rm.call(arguments,1),o=function(){if(this instanceof e){var o=n.apply(this,i.concat(rm.call(arguments)));return Object(o)===o?o:this}return n.apply(t,i.concat(rm.call(arguments)))},l=Math.max(0,n.length-i.length),s=[],r=0;r<l;r++)s.push("$"+r);if(e=Function("binder","return function ("+s.join(",")+"){ return binder.apply(this,arguments); }")(o),n.prototype){var a=function(){};a.prototype=n.prototype,e.prototype=new a,a.prototype=null}return e},um=cm.call(Function.call,Object.prototype.hasOwnProperty),pm=SyntaxError,hm=Function,mm=TypeError,bm=function(t){try{return hm('"use strict"; return ('+t+").constructor;")()}catch(t){}},ym=Object.getOwnPropertyDescriptor;if(ym)try{ym({},"")}catch(t){ym=null}var Zm=function(){throw new mm},Xm=ym?function(){try{return Zm}catch(t){try{return ym(arguments,"callee").get}catch(t){return Zm}}}():Zm,fm="function"==typeof lm&&"function"==typeof Symbol&&"symbol"===n(lm("foo"))&&"symbol"===n(Symbol("bar"))&&im(),Gm=Object.getPrototypeOf||function(t){return t.__proto__},Wm={},gm="undefined"==typeof Uint8Array?nm:Gm(Uint8Array),vm={"%AggregateError%":"undefined"==typeof AggregateError?nm:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?nm:ArrayBuffer,"%ArrayIteratorPrototype%":fm?Gm([][Symbol.iterator]()):nm,"%AsyncFromSyncIteratorPrototype%":nm,"%AsyncFunction%":Wm,"%AsyncGenerator%":Wm,"%AsyncGeneratorFunction%":Wm,"%AsyncIteratorPrototype%":Wm,"%Atomics%":"undefined"==typeof Atomics?nm:Atomics,"%BigInt%":"undefined"==typeof BigInt?nm:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?nm:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?nm:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?nm:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?nm:FinalizationRegistry,"%Function%":hm,"%GeneratorFunction%":Wm,"%Int8Array%":"undefined"==typeof Int8Array?nm:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?nm:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?nm:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":fm?Gm(Gm([][Symbol.iterator]())):nm,"%JSON%":"object"===("undefined"==typeof JSON?"undefined":n(JSON))?JSON:nm,"%Map%":"undefined"==typeof Map?nm:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&fm?Gm((new Map)[Symbol.iterator]()):nm,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?nm:Promise,"%Proxy%":"undefined"==typeof Proxy?nm:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?nm:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?nm:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&fm?Gm((new Set)[Symbol.iterator]()):nm,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?nm:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":fm?Gm(""[Symbol.iterator]()):nm,"%Symbol%":fm?Symbol:nm,"%SyntaxError%":pm,"%ThrowTypeError%":Xm,"%TypedArray%":gm,"%TypeError%":mm,"%Uint8Array%":"undefined"==typeof Uint8Array?nm:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?nm:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?nm:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?nm:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?nm:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?nm:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?nm:WeakSet},Vm=function t(n){var e;if("%AsyncFunction%"===n)e=bm("async function () {}");else if("%GeneratorFunction%"===n)e=bm("function* () {}");else if("%AsyncGeneratorFunction%"===n)e=bm("async function* () {}");else if("%AsyncGenerator%"===n){var i=t("%AsyncGeneratorFunction%");i&&(e=i.prototype)}else if("%AsyncIteratorPrototype%"===n){var o=t("%AsyncGenerator%");o&&(e=Gm(o.prototype))}return vm[n]=e,e},xm={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Sm=cm.call(Function.call,Array.prototype.concat),Lm=cm.call(Function.apply,Array.prototype.splice),Rm=cm.call(Function.call,String.prototype.replace),Km=cm.call(Function.call,String.prototype.slice),Hm=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Cm=/\\(\\)?/g,Ym=function(t){var n=Km(t,0,1),e=Km(t,-1);if("%"===n&&"%"!==e)throw new pm("invalid intrinsic syntax, expected closing `%`");if("%"===e&&"%"!==n)throw new pm("invalid intrinsic syntax, expected opening `%`");var i=[];return Rm(t,Hm,(function(t,n,e,o){i[i.length]=e?Rm(o,Cm,"$1"):n||t})),i},Tm=function(t,n){var e,i=t;if(um(xm,i)&&(i="%"+(e=xm[i])[0]+"%"),um(vm,i)){var o=vm[i];if(o===Wm&&(o=Vm(i)),void 0===o&&!n)throw new mm("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:e,name:i,value:o}}throw new pm("intrinsic "+t+" does not exist!")},Mm=function(t,n){if("string"!=typeof t||0===t.length)throw new mm("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof n)throw new mm('"allowMissing" argument must be a boolean');var e=Ym(t),i=e.length>0?e[0]:"",o=Tm("%"+i+"%",n),l=o.name,s=o.value,r=!1,a=o.alias;a&&(i=a[0],Lm(e,Sm([0,1],a)));for(var d=1,c=!0;d<e.length;d+=1){var u=e[d],p=Km(u,0,1),h=Km(u,-1);if(('"'===p||"'"===p||"`"===p||'"'===h||"'"===h||"`"===h)&&p!==h)throw new pm("property names with quotes must have matching quotes");if("constructor"!==u&&c||(r=!0),um(vm,l="%"+(i+="."+u)+"%"))s=vm[l];else if(null!=s){if(!(u in s)){if(!n)throw new mm("base intrinsic for "+t+" exists, but the property is not available.");return}if(ym&&d+1>=e.length){var m=ym(s,u);s=(c=!!m)&&"get"in m&&!("originalValue"in m.get)?m.get:s[u]}else c=um(s,u),s=s[u];c&&!r&&(vm[l]=s)}}return s},wm=o((function(t){var n=Mm("%Function.prototype.apply%"),e=Mm("%Function.prototype.call%"),i=Mm("%Reflect.apply%",!0)||cm.call(e,n),o=Mm("%Object.getOwnPropertyDescriptor%",!0),l=Mm("%Object.defineProperty%",!0),s=Mm("%Math.max%");if(l)try{l({},"a",{value:1})}catch(t){l=null}t.exports=function(t){var n=i(cm,e,arguments);if(o&&l){var r=o(n,"length");r.configurable&&l(n,"length",{value:1+s(0,t.length-(arguments.length-1))})}return n};var r=function(){return i(cm,n,arguments)};l?l(t.exports,"apply",{value:r}):t.exports.apply=r})),Pm=wm(Mm("String.prototype.indexOf")),Im=function(t,n){var e=Mm(t,!!n);return"function"==typeof e&&Pm(t,".prototype.")>-1?wm(e):e},zm=om(),Jm=Im("Object.prototype.toString"),Nm=function(t){return!(zm&&t&&"object"===n(t)&&Symbol.toStringTag in t)&&"[object Arguments]"===Jm(t)},Fm=function(t){return!!Nm(t)||null!==t&&"object"===n(t)&&"number"==typeof t.length&&t.length>=0&&"[object Array]"!==Jm(t)&&"[object Function]"===Jm(t.callee)},km=function(){return Nm(arguments)}();Nm.isLegacyArguments=Fm;var Bm=km?Nm:Fm,_m="function"==typeof Symbol&&"symbol"===n(Symbol("foo")),Um=Object.prototype.toString,Em=Array.prototype.concat,jm=Object.defineProperty,Qm=jm&&function(){var t={};try{for(var n in jm(t,"x",{enumerable:!1,value:t}),t)return!1;return t.x===t}catch(t){return!1}}(),Om=function(t,n,e,i){var o;(!(n in t)||"function"==typeof(o=i)&&"[object Function]"===Um.call(o)&&i())&&(Qm?jm(t,n,{configurable:!0,enumerable:!1,value:e,writable:!0}):t[n]=e)},Am=function(t,n){var e=arguments.length>2?arguments[2]:{},i=em(n);_m&&(i=Em.call(i,Object.getOwnPropertySymbols(n)));for(var o=0;o<i.length;o+=1)Om(t,i[o],n[i[o]],e[i[o]])};Am.supportsDescriptors=!!Qm;var Dm=Am,qm=function(t){return t!=t},$m=function(t,n){return 0===t&&0===n?1/t==1/n:t===n||!(!qm(t)||!qm(n))},tb=function(){return"function"==typeof Object.is?Object.is:$m},nb=wm(tb(),Object);Dm(nb,{getPolyfill:tb,implementation:$m,shim:function(){var t=tb();return Dm(Object,{is:t},{is:function(){return Object.is!==t}}),t}});var eb,ib,ob,lb,sb=nb,rb=om();if(rb){eb=Im("Object.prototype.hasOwnProperty"),ib=Im("RegExp.prototype.exec"),ob={};var ab=function(){throw ob};lb={toString:ab,valueOf:ab},"symbol"===n(Symbol.toPrimitive)&&(lb[Symbol.toPrimitive]=ab)}var db=Im("Object.prototype.toString"),cb=Object.getOwnPropertyDescriptor,ub=rb?function(t){if(!t||"object"!==n(t))return!1;var e=cb(t,"lastIndex");if(!(e&&eb(e,"value")))return!1;try{ib(t,lb)}catch(t){return t===ob}}:function(t){return!(!t||"object"!==n(t)&&"function"!=typeof t)&&"[object RegExp]"===db(t)},pb=Object,hb=TypeError,mb=function(){if(null!=this&&this!==pb(this))throw new hb("RegExp.prototype.flags getter called on non-object");var t="";return this.hasIndices&&(t+="d"),this.global&&(t+="g"),this.ignoreCase&&(t+="i"),this.multiline&&(t+="m"),this.dotAll&&(t+="s"),this.unicode&&(t+="u"),this.sticky&&(t+="y"),t},bb=Dm.supportsDescriptors,yb=Object.getOwnPropertyDescriptor,Zb=function(){if(bb&&"gim"===/a/gim.flags){var t=yb(RegExp.prototype,"flags");if(t&&"function"==typeof t.get&&"boolean"==typeof/a/.dotAll)return t.get}return mb},Xb=Dm.supportsDescriptors,fb=Object.getOwnPropertyDescriptor,Gb=Object.defineProperty,Wb=TypeError,gb=Object.getPrototypeOf,vb=/a/,Vb=wm(Zb());Dm(Vb,{getPolyfill:Zb,implementation:mb,shim:function(){if(!Xb||!gb)throw new Wb("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var t=Zb(),n=gb(vb),e=fb(n,"flags");return e&&e.get===t||Gb(n,"flags",{configurable:!0,enumerable:!1,get:t}),t}});var xb=Vb,Sb=Date.prototype.getDay,Lb=Object.prototype.toString,Rb=om(),Kb=function(t){return"object"===n(t)&&null!==t&&(Rb?function(t){try{return Sb.call(t),!0}catch(t){return!1}}(t):"[object Date]"===Lb.call(t))},Hb=Date.prototype.getTime;function Cb(t,e,i){var o=i||{};return!!(o.strict?sb(t,e):t===e)||(!t||!e||"object"!==n(t)&&"object"!==n(e)?o.strict?sb(t,e):t==e:function(t,e,i){var o,l;if(n(t)!==n(e))return!1;if(Yb(t)||Yb(e))return!1;if(t.prototype!==e.prototype)return!1;if(Bm(t)!==Bm(e))return!1;var s=ub(t),r=ub(e);if(s!==r)return!1;if(s||r)return t.source===e.source&&xb(t)===xb(e);if(Kb(t)&&Kb(e))return Hb.call(t)===Hb.call(e);var a=Tb(t),d=Tb(e);if(a!==d)return!1;if(a||d){if(t.length!==e.length)return!1;for(o=0;o<t.length;o++)if(t[o]!==e[o])return!1;return!0}if(n(t)!==n(e))return!1;try{var c=em(t),u=em(e)}catch(t){return!1}if(c.length!==u.length)return!1;for(c.sort(),u.sort(),o=c.length-1;o>=0;o--)if(c[o]!=u[o])return!1;for(o=c.length-1;o>=0;o--)if(!Cb(t[l=c[o]],e[l],i))return!1;return!0}(t,e,o))}function Yb(t){return null==t}function Tb(t){return!(!t||"object"!==n(t)||"number"!=typeof t.length)&&("function"==typeof t.copy&&"function"==typeof t.slice&&!(t.length>0&&"number"!=typeof t[0]))}var Mb=Cb;function wb(t,n,e){if(void 0===e&&(e={}),!wa(e=e||{}))throw new Error("options is invalid");var i,o=e.tolerance||0,l=[],s=Yp(),r=Du(t);return s.load(r),Aa(n,(function(t){var n=!1;t&&(Ba(s.search(t),(function(e){if(!1===n){var l=ld(t).sort(),s=ld(e).sort();Mb(l,s)||(0===o?Dp(l[0],e)&&Dp(l[1],e):Pp(e,l[0]).properties.dist<=o&&Pp(e,l[1]).properties.dist<=o)?(n=!0,i=i?Pb(i,t):t):(0===o?Dp(s[0],t)&&Dp(s[1],t):Pp(t,s[0]).properties.dist<=o&&Pp(t,s[1]).properties.dist<=o)&&(i=i?Pb(i,e):e)}})),!1===n&&i&&(l.push(i),i=void 0))})),i&&l.push(i),Ga(l)}function Pb(t,n){var e=ld(n),i=ld(t),o=i[0],l=i[i.length-1],s=t.geometry.coordinates;return Mb(e[0],o)?s.unshift(e[1]):Mb(e[0],l)?s.push(e[1]):Mb(e[1],o)?s.unshift(e[0]):Mb(e[1],l)&&s.push(e[0]),t}function Ib(t){var n=t%360;return n<0&&(n+=360),n}function zb(t,n,e){var i;return void 0===e&&(e={}),(i=e.final?Jb(od(n),od(t)):Jb(od(t),od(n)))>180?-(360-i):i}function Jb(t,n){var e=Ca(t[1]),i=Ca(n[1]),o=Ca(n[0]-t[0]);o>Math.PI&&(o-=2*Math.PI),o<-Math.PI&&(o+=2*Math.PI);var l=Math.log(Math.tan(i/2+Math.PI/4)/Math.tan(e/2+Math.PI/4));return(Ha(Math.atan2(o,l))+360)%360}function Nb(t,n,e,i){void 0===i&&(i={});var o=n<0,l=Ya(Math.abs(n),i.units,"meters");o&&(l=-Math.abs(l));var s=od(t),r=function(t,n,e,i){i=void 0===i?aa:Number(i);var o=n/i,l=t[0]*Math.PI/180,s=Ca(t[1]),r=Ca(e),a=o*Math.cos(r),d=s+a;Math.abs(d)>Math.PI/2&&(d=d>0?Math.PI-d:-Math.PI-d);var c=Math.log(Math.tan(d/2+Math.PI/4)/Math.tan(s/2+Math.PI/4)),u=Math.abs(c)>1e-11?a/c:Math.cos(s),p=o*Math.sin(r)/u;return[(180*(l+p)/Math.PI+540)%360-180,180*d/Math.PI]}(s,l,e);return r[0]+=r[0]-s[0]>180?-360:s[0]-r[0]>180?360:0,ma(r,i.properties)}function Fb(t,n,e,i,o,l){for(var s=0;s<t.length;s++){var r=t[s],a=t[s+1];s===t.length-1&&(a=t[0]),i=Bb(r,a,n),e<=0&&i>0?Bb(n,r,o)<0||(o=r):e>0&&i<=0&&(kb(n,r,l)||(l=r)),e=i}return[o,l]}function kb(t,n,e){return Bb(t,n,e)>0}function Bb(t,n,e){return(n[0]-t[0])*(e[1]-t[1])-(e[0]-t[0])*(n[1]-t[1])}function _b(t){for(var n,e,i=ld(t),o=0,l=1;l<i.length;)n=e||i[0],o+=((e=i[l])[0]-n[0])*(e[1]+n[1]),l++;return o>0}function Ub(t,n){switch("Feature"===t.type?t.geometry.type:t.type){case"GeometryCollection":return Ea(t,(function(t){Ub(t,n)})),t;case"LineString":return Eb(ld(t),n),t;case"Polygon":return jb(ld(t),n),t;case"MultiLineString":return ld(t).forEach((function(t){Eb(t,n)})),t;case"MultiPolygon":return ld(t).forEach((function(t){jb(t,n)})),t;case"Point":case"MultiPoint":return t}}function Eb(t,n){_b(t)===n&&t.reverse()}function jb(t,n){_b(t[0])!==n&&t[0].reverse();for(var e=1;e<t.length;e++)_b(t[e])===n&&t[e].reverse()}function Qb(t,n){if(!wa(n=n||{}))throw new Error("options is invalid");var e=n.zProperty||"elevation",i=n.flip,o=n.flags;dd(t,"Point","input must contain Points");for(var l=function(t,n){var e={};Ba(t,(function(t){var n=ld(t)[1];e[n]||(e[n]=[]),e[n].push(t)}));var i=Object.keys(e).map((function(t){return e[t].sort((function(t,n){return ld(t)[0]-ld(n)[0]}))}));return i.sort((function(t,e){return n?ld(t[0])[1]-ld(e[0])[1]:ld(e[0])[1]-ld(t[0])[1]}))}
/*!
   * @license GNU Affero General Public License.
   * Copyright (c) 2015, 2015 Ronny Lorenz <ronny@tbi.univie.ac.at>
   * v. 1.2.0
   * https://github.com/RaumZeit/MarchingSquares.js
   *
   * MarchingSquaresJS is free software: you can redistribute it and/or modify
   * it under the terms of the GNU Affero General Public License as published by
   * the Free Software Foundation, either version 3 of the License, or
   * (at your option) any later version.
   *
   * MarchingSquaresJS is distributed in the hope that it will be useful,
   * but WITHOUT ANY WARRANTY; without even the implied warranty of
   * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
   * GNU Affero General Public License for more details.
   *
   * As additional permission under GNU Affero General Public License version 3
   * section 7, third-party projects (personal or commercial) may distribute,
   * include, or link against UNMODIFIED VERSIONS of MarchingSquaresJS without the
   * requirement that said third-party project for that reason alone becomes
   * subject to any requirement of the GNU Affero General Public License version 3.
   * Any modifications to MarchingSquaresJS, however, must be shared with the public
   * and made available.
   *
   * In summary this:
   * - allows you to use MarchingSquaresJS at no cost
   * - allows you to use MarchingSquaresJS for both personal and commercial purposes
   * - allows you to distribute UNMODIFIED VERSIONS of MarchingSquaresJS under any
   *   license as long as this license notice is included
   * - enables you to keep the source code of your program that uses MarchingSquaresJS
   *   undisclosed
   * - forces you to share any modifications you have made to MarchingSquaresJS,
   *   e.g. bug-fixes
   *
   * You should have received a copy of the GNU Affero General Public License
   * along with MarchingSquaresJS.  If not, see <http://www.gnu.org/licenses/>.
   */(t,i),s=[],r=0;r<l.length;r++){for(var a=l[r],d=[],c=0;c<a.length;c++){var u=a[c];u.properties[e]?d.push(u.properties[e]):d.push(0),!0===o&&(u.properties.matrixPosition=[r,c])}s.push(d)}return s}var Ob={successCallback:null,verbose:!1,polygons:!1},Ab={};function Db(t,e,i,o){o=o||{};for(var l=Object.keys(Ob),s=0;s<l.length;s++){var r=l[s],a=o[r];a=null!=a?a:Ob[r],Ab[r]=a}Ab.verbose&&console.log("MarchingSquaresJS-isoBands: computing isobands for ["+e+":"+(e+i)+"]");var d,c=function(t,n,e){for(var i=t.length-1,o=t[0].length-1,l={rows:i,cols:o,cells:[]},s=n+Math.abs(e),r=0;r<i;++r){l.cells[r]=[];for(var a=0;a<o;++a){var d=0,c=t[r+1][a],u=t[r+1][a+1],p=t[r][a+1],h=t[r][a];if(!(isNaN(c)||isNaN(u)||isNaN(p)||isNaN(h))){d|=c<n?0:c>s?128:64,d|=u<n?0:u>s?32:16,d|=p<n?0:p>s?8:4;var m=+(d|=h<n?0:h>s?2:1),b=0;if(17===d||18===d||33===d||34===d||38===d||68===d||72===d||98===d||102===d||132===d||136===d||137===d||152===d||153===d){var y=(c+u+p+h)/4;b=y>s?2:y<n?0:1,34===d?1===b?d=35:0===b&&(d=136):136===d?1===b?(d=35,b=4):0===b&&(d=34):17===d?1===b?(d=155,b=4):0===b&&(d=153):68===d?1===b?(d=103,b=4):0===b&&(d=102):153===d?1===b&&(d=155):102===d?1===b&&(d=103):152===d?b<2&&(d=156,b=1):137===d?b<2&&(d=139,b=1):98===d?b<2&&(d=99,b=1):38===d?b<2&&(d=39,b=1):18===d?b>0?(d=156,b=4):d=152:33===d?b>0?(d=139,b=4):d=137:72===d?b>0?(d=99,b=4):d=98:132===d&&(b>0?(d=39,b=4):d=38)}if(0!=d&&170!=d){var Z,X,f,G,W,g,v,V;Z=X=f=G=W=g=v=V=.5;var x=[];1===d?(f=1-Fy(n,p,h),V=1-Fy(n,c,h),x.push(wy[d])):169===d?(f=Fy(s,h,p),V=Fy(s,h,c),x.push(wy[d])):4===d?(g=1-Fy(n,u,p),G=Fy(n,h,p),x.push(Ty[d])):166===d?(g=Fy(s,p,u),G=1-Fy(s,p,h),x.push(Ty[d])):16===d?(W=Fy(n,p,u),X=Fy(n,c,u),x.push(Yy[d])):154===d?(W=1-Fy(s,u,p),X=1-Fy(s,u,c),x.push(Yy[d])):64===d?(v=Fy(n,h,c),Z=1-Fy(n,u,c),x.push(Iy[d])):106===d?(v=1-Fy(s,c,h),Z=Fy(s,c,u),x.push(Iy[d])):168===d?(G=Fy(s,h,p),f=Fy(n,h,p),V=Fy(n,h,c),v=Fy(s,h,c),x.push(My[d]),x.push(wy[d])):2===d?(G=1-Fy(n,p,h),f=1-Fy(s,p,h),V=1-Fy(s,c,h),v=1-Fy(n,c,h),x.push(My[d]),x.push(wy[d])):162===d?(W=Fy(s,p,u),g=Fy(n,p,u),G=1-Fy(n,p,h),f=1-Fy(s,p,h),x.push(My[d]),x.push(wy[d])):8===d?(W=1-Fy(n,u,p),g=1-Fy(s,u,p),G=Fy(s,h,p),f=Fy(n,h,p),x.push(Yy[d]),x.push(Ty[d])):138===d?(W=1-Fy(n,u,p),g=1-Fy(s,u,p),Z=1-Fy(s,u,c),X=1-Fy(n,u,c),x.push(Yy[d]),x.push(Ty[d])):32===d?(W=Fy(s,p,u),g=Fy(n,p,u),Z=Fy(n,c,u),X=Fy(s,c,u),x.push(Yy[d]),x.push(Ty[d])):42===d?(V=1-Fy(s,c,h),v=1-Fy(n,c,h),Z=Fy(n,c,u),X=Fy(s,c,u),x.push(Py[d]),x.push(Iy[d])):128===d&&(V=Fy(n,h,c),v=Fy(s,h,c),Z=1-Fy(s,u,c),X=1-Fy(n,u,c),x.push(Py[d]),x.push(Iy[d])),5===d?(g=1-Fy(n,u,p),V=1-Fy(n,c,h),x.push(Ty[d])):165===d?(g=Fy(s,p,u),V=Fy(s,h,c),x.push(Ty[d])):20===d?(G=Fy(n,h,p),X=Fy(n,c,u),x.push(My[d])):150===d?(G=1-Fy(s,p,h),X=1-Fy(s,u,c),x.push(My[d])):80===d?(W=Fy(n,p,u),v=Fy(n,h,c),x.push(Yy[d])):90===d?(W=1-Fy(s,u,p),v=1-Fy(s,c,h),x.push(Yy[d])):65===d?(f=1-Fy(n,p,h),Z=1-Fy(n,u,c),x.push(wy[d])):105===d?(f=Fy(s,h,p),Z=Fy(s,c,u),x.push(wy[d])):160===d?(W=Fy(s,p,u),g=Fy(n,p,u),V=Fy(n,h,c),v=Fy(s,h,c),x.push(Yy[d]),x.push(Ty[d])):10===d?(W=1-Fy(n,u,p),g=1-Fy(s,u,p),V=1-Fy(s,c,h),v=1-Fy(n,c,h),x.push(Yy[d]),x.push(Ty[d])):130===d?(G=1-Fy(n,p,h),f=1-Fy(s,p,h),Z=1-Fy(s,u,c),X=1-Fy(n,u,c),x.push(My[d]),x.push(wy[d])):40===d?(G=Fy(s,h,p),f=Fy(n,h,p),Z=Fy(n,c,u),X=Fy(s,c,u),x.push(My[d]),x.push(wy[d])):101===d?(g=Fy(s,p,u),Z=Fy(s,c,u),x.push(Ty[d])):69===d?(g=1-Fy(n,u,p),Z=1-Fy(n,u,c),x.push(Ty[d])):149===d?(V=Fy(s,h,c),X=1-Fy(s,u,c),x.push(Py[d])):21===d?(V=1-Fy(n,c,h),X=Fy(n,c,u),x.push(Py[d])):86===d?(G=1-Fy(s,p,h),v=1-Fy(s,c,h),x.push(My[d])):84===d?(G=Fy(n,h,p),v=Fy(n,h,c),x.push(My[d])):89===d?(W=1-Fy(s,u,p),f=Fy(s,h,p),x.push(wy[d])):81===d?(W=Fy(n,p,u),f=1-Fy(n,p,h),x.push(wy[d])):96===d?(W=Fy(s,p,u),g=Fy(n,p,u),v=Fy(n,h,c),Z=Fy(s,c,u),x.push(Yy[d]),x.push(Ty[d])):74===d?(W=1-Fy(n,u,p),g=1-Fy(s,u,p),v=1-Fy(s,c,h),Z=1-Fy(n,u,c),x.push(Yy[d]),x.push(Ty[d])):24===d?(W=1-Fy(s,u,p),G=Fy(s,h,p),f=Fy(n,h,p),X=Fy(n,c,u),x.push(Yy[d]),x.push(wy[d])):146===d?(W=Fy(n,p,u),G=1-Fy(n,p,h),f=1-Fy(s,p,h),X=1-Fy(s,u,c),x.push(Yy[d]),x.push(wy[d])):6===d?(g=1-Fy(n,u,p),G=1-Fy(s,p,h),V=1-Fy(s,c,h),v=1-Fy(n,c,h),x.push(Ty[d]),x.push(My[d])):164===d?(g=Fy(s,p,u),G=Fy(n,h,p),V=Fy(n,h,c),v=Fy(s,h,c),x.push(Ty[d]),x.push(My[d])):129===d?(f=1-Fy(n,p,h),V=Fy(s,h,c),Z=1-Fy(s,u,c),X=1-Fy(n,u,c),x.push(wy[d]),x.push(Py[d])):41===d?(f=Fy(s,h,p),V=1-Fy(n,c,h),Z=Fy(n,c,u),X=Fy(s,c,u),x.push(wy[d]),x.push(Py[d])):66===d?(G=1-Fy(n,p,h),f=1-Fy(s,p,h),v=1-Fy(s,c,h),Z=1-Fy(n,u,c),x.push(My[d]),x.push(wy[d])):104===d?(G=Fy(s,h,p),f=Fy(n,h,p),v=Fy(n,h,c),Z=Fy(s,c,u),x.push(wy[d]),x.push(zy[d])):144===d?(W=Fy(n,p,u),V=Fy(n,h,c),v=Fy(s,h,c),X=1-Fy(s,u,c),x.push(Yy[d]),x.push(Iy[d])):26===d?(W=1-Fy(s,u,p),V=1-Fy(s,c,h),v=1-Fy(n,c,h),X=Fy(n,c,u),x.push(Yy[d]),x.push(Iy[d])):36===d?(g=Fy(s,p,u),G=Fy(n,h,p),Z=Fy(n,c,u),X=Fy(s,c,u),x.push(Ty[d]),x.push(My[d])):134===d?(g=1-Fy(n,u,p),G=1-Fy(s,p,h),Z=1-Fy(s,u,c),X=1-Fy(n,u,c),x.push(Ty[d]),x.push(My[d])):9===d?(W=1-Fy(n,u,p),g=1-Fy(s,u,p),f=Fy(s,h,p),V=1-Fy(n,c,h),x.push(Yy[d]),x.push(Ty[d])):161===d?(W=Fy(s,p,u),g=Fy(n,p,u),f=1-Fy(n,p,h),V=Fy(s,h,c),x.push(Yy[d]),x.push(Ty[d])):37===d?(g=Fy(s,p,u),V=1-Fy(n,c,h),Z=Fy(n,c,u),X=Fy(s,c,u),x.push(Ty[d]),x.push(Py[d])):133===d?(g=1-Fy(n,u,p),V=Fy(s,h,c),Z=1-Fy(s,u,c),X=1-Fy(n,u,c),x.push(Ty[d]),x.push(Py[d])):148===d?(G=Fy(n,h,p),V=Fy(n,h,c),v=Fy(s,h,c),X=1-Fy(s,u,c),x.push(My[d]),x.push(Iy[d])):22===d?(G=1-Fy(s,p,h),V=1-Fy(s,c,h),v=1-Fy(n,c,h),X=Fy(n,c,u),x.push(My[d]),x.push(Iy[d])):82===d?(W=Fy(n,p,u),G=1-Fy(n,p,h),f=1-Fy(s,p,h),v=1-Fy(s,c,h),x.push(Yy[d]),x.push(wy[d])):88===d?(W=1-Fy(s,u,p),G=Fy(s,h,p),f=Fy(n,h,p),v=Fy(n,h,c),x.push(Yy[d]),x.push(wy[d])):73===d?(W=1-Fy(n,u,p),g=1-Fy(s,u,p),f=Fy(s,h,p),Z=1-Fy(n,u,c),x.push(Yy[d]),x.push(Ty[d])):97===d?(W=Fy(s,p,u),g=Fy(n,p,u),f=1-Fy(n,p,h),Z=Fy(s,c,u),x.push(Yy[d]),x.push(Ty[d])):145===d?(W=Fy(n,p,u),f=1-Fy(n,p,h),V=Fy(s,h,c),X=1-Fy(s,u,c),x.push(Yy[d]),x.push(Py[d])):25===d?(W=1-Fy(s,u,p),f=Fy(s,h,p),V=1-Fy(n,c,h),X=Fy(n,c,u),x.push(Yy[d]),x.push(Py[d])):70===d?(g=1-Fy(n,u,p),G=1-Fy(s,p,h),v=1-Fy(s,c,h),Z=1-Fy(n,u,c),x.push(Ty[d]),x.push(My[d])):100===d?(g=Fy(s,p,u),G=Fy(n,h,p),v=Fy(n,h,c),Z=Fy(s,c,u),x.push(Ty[d]),x.push(My[d])):34===d?(0===b?(W=1-Fy(n,u,p),g=1-Fy(s,u,p),G=Fy(s,h,p),f=Fy(n,h,p),V=Fy(n,h,c),v=Fy(s,h,c),Z=1-Fy(s,u,c),X=1-Fy(n,u,c)):(W=Fy(s,p,u),g=Fy(n,p,u),G=1-Fy(n,p,h),f=1-Fy(s,p,h),V=1-Fy(s,c,h),v=1-Fy(n,c,h),Z=Fy(n,c,u),X=Fy(s,c,u)),x.push(Yy[d]),x.push(Ty[d]),x.push(Py[d]),x.push(Iy[d])):35===d?(4===b?(W=1-Fy(n,u,p),g=1-Fy(s,u,p),G=Fy(s,h,p),f=Fy(n,h,p),V=Fy(n,h,c),v=Fy(s,h,c),Z=1-Fy(s,u,c),X=1-Fy(n,u,c)):(W=Fy(s,p,u),g=Fy(n,p,u),G=1-Fy(n,p,h),f=1-Fy(s,p,h),V=1-Fy(s,c,h),v=1-Fy(n,c,h),Z=Fy(n,c,u),X=Fy(s,c,u)),x.push(Yy[d]),x.push(Ty[d]),x.push(wy[d]),x.push(Iy[d])):136===d?(0===b?(W=Fy(s,p,u),g=Fy(n,p,u),G=1-Fy(n,p,h),f=1-Fy(s,p,h),V=1-Fy(s,c,h),v=1-Fy(n,c,h),Z=Fy(n,c,u),X=Fy(s,c,u)):(W=1-Fy(n,u,p),g=1-Fy(s,u,p),G=Fy(s,h,p),f=Fy(n,h,p),V=Fy(n,h,c),v=Fy(s,h,c),Z=1-Fy(s,u,c),X=1-Fy(n,u,c)),x.push(Yy[d]),x.push(Ty[d]),x.push(Py[d]),x.push(Iy[d])):153===d?(0===b?(W=Fy(n,p,u),f=1-Fy(n,p,h),V=1-Fy(n,c,h),X=Fy(n,c,u)):(W=1-Fy(s,u,p),f=Fy(s,h,p),V=Fy(s,h,c),X=1-Fy(s,u,c)),x.push(Yy[d]),x.push(wy[d])):102===d?(0===b?(g=1-Fy(n,u,p),G=Fy(n,h,p),v=Fy(n,h,c),Z=1-Fy(n,u,c)):(g=Fy(s,p,u),G=1-Fy(s,p,h),v=1-Fy(s,c,h),Z=Fy(s,c,u)),x.push(Ty[d]),x.push(Iy[d])):155===d?(4===b?(W=Fy(n,p,u),f=1-Fy(n,p,h),V=1-Fy(n,c,h),X=Fy(n,c,u)):(W=1-Fy(s,u,p),f=Fy(s,h,p),V=Fy(s,h,c),X=1-Fy(s,u,c)),x.push(Yy[d]),x.push(Py[d])):103===d?(4===b?(g=1-Fy(n,u,p),G=Fy(n,h,p),v=Fy(n,h,c),Z=1-Fy(n,u,c)):(g=Fy(s,p,u),G=1-Fy(s,p,h),v=1-Fy(s,c,h),Z=Fy(s,c,u)),x.push(Ty[d]),x.push(My[d])):152===d?(0===b?(W=Fy(n,p,u),G=1-Fy(n,p,h),f=1-Fy(s,p,h),V=1-Fy(s,c,h),v=1-Fy(n,c,h),X=Fy(n,c,u)):(W=1-Fy(s,u,p),G=Fy(s,h,p),f=Fy(n,h,p),V=Fy(n,h,c),v=Fy(s,h,c),X=1-Fy(s,u,c)),x.push(Yy[d]),x.push(My[d]),x.push(wy[d])):156===d?(4===b?(W=Fy(n,p,u),G=1-Fy(n,p,h),f=1-Fy(s,p,h),V=1-Fy(s,c,h),v=1-Fy(n,c,h),X=Fy(n,c,u)):(W=1-Fy(s,u,p),G=Fy(s,h,p),f=Fy(n,h,p),V=Fy(n,h,c),v=Fy(s,h,c),X=1-Fy(s,u,c)),x.push(Yy[d]),x.push(wy[d]),x.push(Iy[d])):137===d?(0===b?(W=Fy(s,p,u),g=Fy(n,p,u),f=1-Fy(n,p,h),V=1-Fy(n,c,h),Z=Fy(n,c,u),X=Fy(s,c,u)):(W=1-Fy(n,u,p),g=1-Fy(s,u,p),f=Fy(s,h,p),V=Fy(s,h,c),Z=1-Fy(s,u,c),X=1-Fy(n,u,c)),x.push(Yy[d]),x.push(Ty[d]),x.push(wy[d])):139===d?(4===b?(W=Fy(s,p,u),g=Fy(n,p,u),f=1-Fy(n,p,h),V=1-Fy(n,c,h),Z=Fy(n,c,u),X=Fy(s,c,u)):(W=1-Fy(n,u,p),g=1-Fy(s,u,p),f=Fy(s,h,p),V=Fy(s,h,c),Z=1-Fy(s,u,c),X=1-Fy(n,u,c)),x.push(Yy[d]),x.push(Ty[d]),x.push(Py[d])):98===d?(0===b?(W=1-Fy(n,u,p),g=1-Fy(s,u,p),G=Fy(s,h,p),f=Fy(n,h,p),v=Fy(n,h,c),Z=1-Fy(n,u,c)):(W=Fy(s,p,u),g=Fy(n,p,u),G=1-Fy(n,p,h),f=1-Fy(s,p,h),v=1-Fy(s,c,h),Z=Fy(s,c,u)),x.push(Yy[d]),x.push(Ty[d]),x.push(Iy[d])):99===d?(4===b?(W=1-Fy(n,u,p),g=1-Fy(s,u,p),G=Fy(s,h,p),f=Fy(n,h,p),v=Fy(n,h,c),Z=1-Fy(n,u,c)):(W=Fy(s,p,u),g=Fy(n,p,u),G=1-Fy(n,p,h),f=1-Fy(s,p,h),v=1-Fy(s,c,h),Z=Fy(s,c,u)),x.push(Yy[d]),x.push(Ty[d]),x.push(wy[d])):38===d?(0===b?(g=1-Fy(n,u,p),G=Fy(n,h,p),V=Fy(n,h,c),v=Fy(s,h,c),Z=1-Fy(s,u,c),X=1-Fy(n,u,c)):(g=Fy(s,p,u),G=1-Fy(s,p,h),V=1-Fy(s,c,h),v=1-Fy(n,c,h),Z=Fy(n,c,u),X=Fy(s,c,u)),x.push(Ty[d]),x.push(Py[d]),x.push(Iy[d])):39===d?(4===b?(g=1-Fy(n,u,p),G=Fy(n,h,p),V=Fy(n,h,c),v=Fy(s,h,c),Z=1-Fy(s,u,c),X=1-Fy(n,u,c)):(g=Fy(s,p,u),G=1-Fy(s,p,h),V=1-Fy(s,c,h),v=1-Fy(n,c,h),Z=Fy(n,c,u),X=Fy(s,c,u)),x.push(Ty[d]),x.push(My[d]),x.push(Iy[d])):85===d&&(W=1,g=0,G=1,f=0,V=0,v=1,Z=0,X=1),(Z<0||Z>1||X<0||X>1||W<0||W>1||G<0||G>1||V<0||V>1||v<0||v>1)&&console.log("MarchingSquaresJS-isoBands: "+d+" "+m+" "+c+","+u+","+p+","+h+" "+b+" "+Z+" "+X+" "+W+" "+g+" "+G+" "+f+" "+V+" "+v),l.cells[r][a]={cval:d,cval_real:m,flipped:b,topleft:Z,topright:X,righttop:W,rightbottom:g,bottomright:G,bottomleft:f,leftbottom:V,lefttop:v,edges:x}}}}}return l}(t,e,i);return Ab.polygons?(Ab.verbose&&console.log("MarchingSquaresJS-isoBands: returning single polygons for each grid cell"),d=function(t){var e=[],i=0;return t.cells.forEach((function(t,o){t.forEach((function(t,l){if(void 0!==t){var s=Ny[t.cval](t);"object"===n(s)&&ky(s)?"object"===n(s[0])&&ky(s[0])?"object"===n(s[0][0])&&ky(s[0][0])?s.forEach((function(t){t.forEach((function(t){t[0]+=l,t[1]+=o})),e[i++]=t})):(s.forEach((function(t){t[0]+=l,t[1]+=o})),e[i++]=s):console.log("MarchingSquaresJS-isoBands: bandcell polygon with malformed coordinates"):console.log("MarchingSquaresJS-isoBands: bandcell polygon with null coordinates")}}))})),e}(c)):(Ab.verbose&&console.log("MarchingSquaresJS-isoBands: returning polygon paths for entire data grid"),d=function(t){for(var n=[],e=t.rows,i=t.cols,o=[],l=0;l<e;l++)for(var s=0;s<i;s++)if(void 0!==t.cells[l][s]&&t.cells[l][s].edges.length>0){var r=_y(t.cells[l][s]),a=null,d=s,c=l;null!==r&&o.push([r.p[0]+d,r.p[1]+c]);do{if(null===(a=Uy(t.cells[c][d],r.x,r.y,r.o)))break;if(o.push([a.p[0]+d,a.p[1]+c]),d+=a.x,r=a,(c+=a.y)<0||c>=e||d<0||d>=i||void 0===t.cells[c][d]){var u=By(t,d-=a.x,c-=a.y,a.x,a.y,a.o);if(null===u)break;u.path.forEach((function(t){o.push(t)})),d=u.i,c=u.j,r=u}}while(void 0!==t.cells[c][d]&&t.cells[c][d].edges.length>0);n.push(o),o=[],t.cells[l][s].edges.length>0&&s--}return n}(c)),"function"==typeof Ab.successCallback&&Ab.successCallback(d),d}var qb=64,$b=16,ty=[],ny=[],ey=[],iy=[],oy=[],ly=[],sy=[],ry=[],ay=[],dy=[],cy=[],uy=[],py=[],hy=[],my=[],by=[],yy=[],Zy=[],Xy=[],fy=[],Gy=[],Wy=[],gy=[],vy=[];sy[85]=dy[85]=-1,ry[85]=cy[85]=0,ay[85]=uy[85]=1,Xy[85]=Wy[85]=1,fy[85]=gy[85]=0,Gy[85]=vy[85]=1,ty[85]=iy[85]=0,ny[85]=oy[85]=-1,ey[85]=my[85]=0,by[85]=py[85]=0,yy[85]=hy[85]=1,ly[85]=Zy[85]=1,Wy[1]=Wy[169]=0,gy[1]=gy[169]=-1,vy[1]=vy[169]=0,py[1]=py[169]=-1,hy[1]=hy[169]=0,my[1]=my[169]=0,dy[4]=dy[166]=0,cy[4]=cy[166]=-1,uy[4]=uy[166]=1,by[4]=by[166]=1,yy[4]=yy[166]=0,Zy[4]=Zy[166]=0,sy[16]=sy[154]=0,ry[16]=ry[154]=1,ay[16]=ay[154]=1,iy[16]=iy[154]=1,oy[16]=oy[154]=0,ly[16]=ly[154]=1,Xy[64]=Xy[106]=0,fy[64]=fy[106]=1,Gy[64]=Gy[106]=0,ty[64]=ty[106]=-1,ny[64]=ny[106]=0,ey[64]=ey[106]=1,Xy[2]=Xy[168]=0,fy[2]=fy[168]=-1,Gy[2]=Gy[168]=1,Wy[2]=Wy[168]=0,gy[2]=gy[168]=-1,vy[2]=vy[168]=0,py[2]=py[168]=-1,hy[2]=hy[168]=0,my[2]=my[168]=0,by[2]=by[168]=-1,yy[2]=yy[168]=0,Zy[2]=Zy[168]=1,sy[8]=sy[162]=0,ry[8]=ry[162]=-1,ay[8]=ay[162]=0,dy[8]=dy[162]=0,cy[8]=cy[162]=-1,uy[8]=uy[162]=1,py[8]=py[162]=1,hy[8]=hy[162]=0,my[8]=my[162]=1,by[8]=by[162]=1,yy[8]=yy[162]=0,Zy[8]=Zy[162]=0,sy[32]=sy[138]=0,ry[32]=ry[138]=1,ay[32]=ay[138]=1,dy[32]=dy[138]=0,cy[32]=cy[138]=1,uy[32]=uy[138]=0,ty[32]=ty[138]=1,ny[32]=ny[138]=0,ey[32]=ey[138]=0,iy[32]=iy[138]=1,oy[32]=oy[138]=0,ly[32]=ly[138]=1,Wy[128]=Wy[42]=0,gy[128]=gy[42]=1,vy[128]=vy[42]=1,Xy[128]=Xy[42]=0,fy[128]=fy[42]=1,Gy[128]=Gy[42]=0,ty[128]=ty[42]=-1,ny[128]=ny[42]=0,ey[128]=ey[42]=1,iy[128]=iy[42]=-1,oy[128]=oy[42]=0,ly[128]=ly[42]=0,dy[5]=dy[165]=-1,cy[5]=cy[165]=0,uy[5]=uy[165]=0,Wy[5]=Wy[165]=1,gy[5]=gy[165]=0,vy[5]=vy[165]=0,by[20]=by[150]=0,yy[20]=yy[150]=1,Zy[20]=Zy[150]=1,iy[20]=iy[150]=0,oy[20]=oy[150]=-1,ly[20]=ly[150]=1,sy[80]=sy[90]=-1,ry[80]=ry[90]=0,ay[80]=ay[90]=1,Xy[80]=Xy[90]=1,fy[80]=fy[90]=0,Gy[80]=Gy[90]=1,py[65]=py[105]=0,hy[65]=hy[105]=1,my[65]=my[105]=0,ty[65]=ty[105]=0,ny[65]=ny[105]=-1,ey[65]=ey[105]=0,sy[160]=sy[10]=-1,ry[160]=ry[10]=0,ay[160]=ay[10]=1,dy[160]=dy[10]=-1,cy[160]=cy[10]=0,uy[160]=uy[10]=0,Wy[160]=Wy[10]=1,gy[160]=gy[10]=0,vy[160]=vy[10]=0,Xy[160]=Xy[10]=1,fy[160]=fy[10]=0,Gy[160]=Gy[10]=1,by[130]=by[40]=0,yy[130]=yy[40]=1,Zy[130]=Zy[40]=1,py[130]=py[40]=0,hy[130]=hy[40]=1,my[130]=my[40]=0,ty[130]=ty[40]=0,ny[130]=ny[40]=-1,ey[130]=ey[40]=0,iy[130]=iy[40]=0,oy[130]=oy[40]=-1,ly[130]=ly[40]=1,dy[37]=dy[133]=0,cy[37]=cy[133]=1,uy[37]=uy[133]=1,Wy[37]=Wy[133]=0,gy[37]=gy[133]=1,vy[37]=vy[133]=0,ty[37]=ty[133]=-1,ny[37]=ny[133]=0,ey[37]=ey[133]=0,iy[37]=iy[133]=1,oy[37]=oy[133]=0,ly[37]=ly[133]=0,by[148]=by[22]=-1,yy[148]=yy[22]=0,Zy[148]=Zy[22]=0,Wy[148]=Wy[22]=0,gy[148]=gy[22]=-1,vy[148]=vy[22]=1,Xy[148]=Xy[22]=0,fy[148]=fy[22]=1,Gy[148]=Gy[22]=1,iy[148]=iy[22]=-1,oy[148]=oy[22]=0,ly[148]=ly[22]=1,sy[82]=sy[88]=0,ry[82]=ry[88]=-1,ay[82]=ay[88]=1,by[82]=by[88]=1,yy[82]=yy[88]=0,Zy[82]=Zy[88]=1,py[82]=py[88]=-1,hy[82]=hy[88]=0,my[82]=my[88]=1,Xy[82]=Xy[88]=0,fy[82]=fy[88]=-1,Gy[82]=Gy[88]=0,sy[73]=sy[97]=0,ry[73]=ry[97]=1,ay[73]=ay[97]=0,dy[73]=dy[97]=0,cy[73]=cy[97]=-1,uy[73]=uy[97]=0,py[73]=py[97]=1,hy[73]=hy[97]=0,my[73]=my[97]=0,ty[73]=ty[97]=1,ny[73]=ny[97]=0,ey[73]=ey[97]=1,sy[145]=sy[25]=0,ry[145]=ry[25]=-1,ay[145]=ay[25]=0,py[145]=py[25]=1,hy[145]=hy[25]=0,my[145]=my[25]=1,Wy[145]=Wy[25]=0,gy[145]=gy[25]=1,vy[145]=vy[25]=1,iy[145]=iy[25]=-1,oy[145]=oy[25]=0,ly[145]=ly[25]=0,dy[70]=dy[100]=0,cy[70]=cy[100]=1,uy[70]=uy[100]=0,by[70]=by[100]=-1,yy[70]=yy[100]=0,Zy[70]=Zy[100]=1,Xy[70]=Xy[100]=0,fy[70]=fy[100]=-1,Gy[70]=Gy[100]=1,ty[70]=ty[100]=1,ny[70]=ny[100]=0,ey[70]=ey[100]=0,dy[101]=dy[69]=0,cy[101]=cy[69]=1,uy[101]=uy[69]=0,ty[101]=ty[69]=1,ny[101]=ny[69]=0,ey[101]=ey[69]=0,Wy[149]=Wy[21]=0,gy[149]=gy[21]=1,vy[149]=vy[21]=1,iy[149]=iy[21]=-1,oy[149]=oy[21]=0,ly[149]=ly[21]=0,by[86]=by[84]=-1,yy[86]=yy[84]=0,Zy[86]=Zy[84]=1,Xy[86]=Xy[84]=0,fy[86]=fy[84]=-1,Gy[86]=Gy[84]=1,sy[89]=sy[81]=0,ry[89]=ry[81]=-1,ay[89]=ay[81]=0,py[89]=py[81]=1,hy[89]=hy[81]=0,my[89]=my[81]=1,sy[96]=sy[74]=0,ry[96]=ry[74]=1,ay[96]=ay[74]=0,dy[96]=dy[74]=-1,cy[96]=cy[74]=0,uy[96]=uy[74]=1,Xy[96]=Xy[74]=1,fy[96]=fy[74]=0,Gy[96]=Gy[74]=0,ty[96]=ty[74]=1,ny[96]=ny[74]=0,ey[96]=ey[74]=1,sy[24]=sy[146]=0,ry[24]=ry[146]=-1,ay[24]=ay[146]=1,by[24]=by[146]=1,yy[24]=yy[146]=0,Zy[24]=Zy[146]=1,py[24]=py[146]=0,hy[24]=hy[146]=1,my[24]=my[146]=1,iy[24]=iy[146]=0,oy[24]=oy[146]=-1,ly[24]=ly[146]=0,dy[6]=dy[164]=-1,cy[6]=cy[164]=0,uy[6]=uy[164]=1,by[6]=by[164]=-1,yy[6]=yy[164]=0,Zy[6]=Zy[164]=0,Wy[6]=Wy[164]=0,gy[6]=gy[164]=-1,vy[6]=vy[164]=1,Xy[6]=Xy[164]=1,fy[6]=fy[164]=0,Gy[6]=Gy[164]=0,py[129]=py[41]=0,hy[129]=hy[41]=1,my[129]=my[41]=1,Wy[129]=Wy[41]=0,gy[129]=gy[41]=1,vy[129]=vy[41]=0,ty[129]=ty[41]=-1,ny[129]=ny[41]=0,ey[129]=ey[41]=0,iy[129]=iy[41]=0,oy[129]=oy[41]=-1,ly[129]=ly[41]=0,by[66]=by[104]=0,yy[66]=yy[104]=1,Zy[66]=Zy[104]=0,py[66]=py[104]=-1,hy[66]=hy[104]=0,my[66]=my[104]=1,Xy[66]=Xy[104]=0,fy[66]=fy[104]=-1,Gy[66]=Gy[104]=0,ty[66]=ty[104]=0,ny[66]=ny[104]=-1,ey[66]=ey[104]=1,sy[144]=sy[26]=-1,ry[144]=ry[26]=0,ay[144]=ay[26]=0,Wy[144]=Wy[26]=1,gy[144]=gy[26]=0,vy[144]=vy[26]=1,Xy[144]=Xy[26]=0,fy[144]=fy[26]=1,Gy[144]=Gy[26]=1,iy[144]=iy[26]=-1,oy[144]=oy[26]=0,ly[144]=ly[26]=1,dy[36]=dy[134]=0,cy[36]=cy[134]=1,uy[36]=uy[134]=1,by[36]=by[134]=0,yy[36]=yy[134]=1,Zy[36]=Zy[134]=0,ty[36]=ty[134]=0,ny[36]=ny[134]=-1,ey[36]=ey[134]=1,iy[36]=iy[134]=1,oy[36]=oy[134]=0,ly[36]=ly[134]=0,sy[9]=sy[161]=-1,ry[9]=ry[161]=0,ay[9]=ay[161]=0,dy[9]=dy[161]=0,cy[9]=cy[161]=-1,uy[9]=uy[161]=0,py[9]=py[161]=1,hy[9]=hy[161]=0,my[9]=my[161]=0,Wy[9]=Wy[161]=1,gy[9]=gy[161]=0,vy[9]=vy[161]=1,sy[136]=0,ry[136]=1,ay[136]=1,dy[136]=0,cy[136]=1,uy[136]=0,by[136]=-1,yy[136]=0,Zy[136]=1,py[136]=-1,hy[136]=0,my[136]=0,Wy[136]=0,gy[136]=-1,vy[136]=0,Xy[136]=0,fy[136]=-1,Gy[136]=1,ty[136]=1,ny[136]=0,ey[136]=0,iy[136]=1,oy[136]=0,ly[136]=1,sy[34]=0,ry[34]=-1,ay[34]=0,dy[34]=0,cy[34]=-1,uy[34]=1,by[34]=1,yy[34]=0,Zy[34]=0,py[34]=1,hy[34]=0,my[34]=1,Wy[34]=0,gy[34]=1,vy[34]=1,Xy[34]=0,fy[34]=1,Gy[34]=0,ty[34]=-1,ny[34]=0,ey[34]=1,iy[34]=-1,oy[34]=0,ly[34]=0,sy[35]=0,ry[35]=1,ay[35]=1,dy[35]=0,cy[35]=-1,uy[35]=1,by[35]=1,yy[35]=0,Zy[35]=0,py[35]=-1,hy[35]=0,my[35]=0,Wy[35]=0,gy[35]=-1,vy[35]=0,Xy[35]=0,fy[35]=1,Gy[35]=0,ty[35]=-1,ny[35]=0,ey[35]=1,iy[35]=1,oy[35]=0,ly[35]=1,sy[153]=0,ry[153]=1,ay[153]=1,py[153]=-1,hy[153]=0,my[153]=0,Wy[153]=0,gy[153]=-1,vy[153]=0,iy[153]=1,oy[153]=0,ly[153]=1,dy[102]=0,cy[102]=-1,uy[102]=1,by[102]=1,yy[102]=0,Zy[102]=0,Xy[102]=0,fy[102]=1,Gy[102]=0,ty[102]=-1,ny[102]=0,ey[102]=1,sy[155]=0,ry[155]=-1,ay[155]=0,py[155]=1,hy[155]=0,my[155]=1,Wy[155]=0,gy[155]=1,vy[155]=1,iy[155]=-1,oy[155]=0,ly[155]=0,dy[103]=0,cy[103]=1,uy[103]=0,by[103]=-1,yy[103]=0,Zy[103]=1,Xy[103]=0,fy[103]=-1,Gy[103]=1,ty[103]=1,ny[103]=0,ey[103]=0,sy[152]=0,ry[152]=1,ay[152]=1,by[152]=-1,yy[152]=0,Zy[152]=1,py[152]=-1,hy[152]=0,my[152]=0,Wy[152]=0,gy[152]=-1,vy[152]=0,Xy[152]=0,fy[152]=-1,Gy[152]=1,iy[152]=1,oy[152]=0,ly[152]=1,sy[156]=0,ry[156]=-1,ay[156]=1,by[156]=1,yy[156]=0,Zy[156]=1,py[156]=-1,hy[156]=0,my[156]=0,Wy[156]=0,gy[156]=-1,vy[156]=0,Xy[156]=0,fy[156]=1,Gy[156]=1,iy[156]=-1,oy[156]=0,ly[156]=1,sy[137]=0,ry[137]=1,ay[137]=1,dy[137]=0,cy[137]=1,uy[137]=0,py[137]=-1,hy[137]=0,my[137]=0,Wy[137]=0,gy[137]=-1,vy[137]=0,ty[137]=1,ny[137]=0,ey[137]=0,iy[137]=1,oy[137]=0,ly[137]=1,sy[139]=0,ry[139]=1,ay[139]=1,dy[139]=0,cy[139]=-1,uy[139]=0,py[139]=1,hy[139]=0,my[139]=0,Wy[139]=0,gy[139]=1,vy[139]=0,ty[139]=-1,ny[139]=0,ey[139]=0,iy[139]=1,oy[139]=0,ly[139]=1,sy[98]=0,ry[98]=-1,ay[98]=0,dy[98]=0,cy[98]=-1,uy[98]=1,by[98]=1,yy[98]=0,Zy[98]=0,py[98]=1,hy[98]=0,my[98]=1,Xy[98]=0,fy[98]=1,Gy[98]=0,ty[98]=-1,ny[98]=0,ey[98]=1,sy[99]=0,ry[99]=1,ay[99]=0,dy[99]=0,cy[99]=-1,uy[99]=1,by[99]=1,yy[99]=0,Zy[99]=0,py[99]=-1,hy[99]=0,my[99]=1,Xy[99]=0,fy[99]=-1,Gy[99]=0,ty[99]=1,ny[99]=0,ey[99]=1,dy[38]=0,cy[38]=-1,uy[38]=1,by[38]=1,yy[38]=0,Zy[38]=0,Wy[38]=0,gy[38]=1,vy[38]=1,Xy[38]=0,fy[38]=1,Gy[38]=0,ty[38]=-1,ny[38]=0,ey[38]=1,iy[38]=-1,oy[38]=0,ly[38]=0,dy[39]=0,cy[39]=1,uy[39]=1,by[39]=-1,yy[39]=0,Zy[39]=0,Wy[39]=0,gy[39]=-1,vy[39]=1,Xy[39]=0,fy[39]=1,Gy[39]=0,ty[39]=-1,ny[39]=0,ey[39]=1,iy[39]=1,oy[39]=0,ly[39]=0;var Vy=function(t){return[[t.bottomleft,0],[0,0],[0,t.leftbottom]]},xy=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0]]},Sy=function(t){return[[t.topright,1],[1,1],[1,t.righttop]]},Ly=function(t){return[[0,t.lefttop],[0,1],[t.topleft,1]]},Ry=function(t){return[[t.bottomright,0],[t.bottomleft,0],[0,t.leftbottom],[0,t.lefttop]]},Ky=function(t){return[[t.bottomright,0],[t.bottomleft,0],[1,t.righttop],[1,t.rightbottom]]},Hy=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.topleft,1],[t.topright,1]]},Cy=function(t){return[[0,t.leftbottom],[0,t.lefttop],[t.topleft,1],[t.topright,1]]},Yy=[],Ty=[],My=[],wy=[],Py=[],Iy=[],zy=[],Jy=[];wy[1]=Py[1]=18,wy[169]=Py[169]=18,My[4]=Ty[4]=12,My[166]=Ty[166]=12,Yy[16]=Jy[16]=4,Yy[154]=Jy[154]=4,Iy[64]=zy[64]=22,Iy[106]=zy[106]=22,My[2]=Iy[2]=17,wy[2]=Py[2]=18,My[168]=Iy[168]=17,wy[168]=Py[168]=18,Yy[8]=wy[8]=9,Ty[8]=My[8]=12,Yy[162]=wy[162]=9,Ty[162]=My[162]=12,Yy[32]=Jy[32]=4,Ty[32]=zy[32]=1,Yy[138]=Jy[138]=4,Ty[138]=zy[138]=1,Py[128]=Jy[128]=21,Iy[128]=zy[128]=22,Py[42]=Jy[42]=21,Iy[42]=zy[42]=22,Ty[5]=Py[5]=14,Ty[165]=Py[165]=14,My[20]=Jy[20]=6,My[150]=Jy[150]=6,Yy[80]=Iy[80]=11,Yy[90]=Iy[90]=11,wy[65]=zy[65]=3,wy[105]=zy[105]=3,Yy[160]=Iy[160]=11,Ty[160]=Py[160]=14,Yy[10]=Iy[10]=11,Ty[10]=Py[10]=14,My[130]=Jy[130]=6,wy[130]=zy[130]=3,My[40]=Jy[40]=6,wy[40]=zy[40]=3,Ty[101]=zy[101]=1,Ty[69]=zy[69]=1,Py[149]=Jy[149]=21,Py[21]=Jy[21]=21,My[86]=Iy[86]=17,My[84]=Iy[84]=17,Yy[89]=wy[89]=9,Yy[81]=wy[81]=9,Yy[96]=zy[96]=0,Ty[96]=Iy[96]=15,Yy[74]=zy[74]=0,Ty[74]=Iy[74]=15,Yy[24]=My[24]=8,wy[24]=Jy[24]=7,Yy[146]=My[146]=8,wy[146]=Jy[146]=7,Ty[6]=Iy[6]=15,My[6]=Py[6]=16,Ty[164]=Iy[164]=15,My[164]=Py[164]=16,wy[129]=Jy[129]=7,Py[129]=zy[129]=20,wy[41]=Jy[41]=7,Py[41]=zy[41]=20,My[66]=zy[66]=2,wy[66]=Iy[66]=19,My[104]=zy[104]=2,wy[104]=Iy[104]=19,Yy[144]=Py[144]=10,Iy[144]=Jy[144]=23,Yy[26]=Py[26]=10,Iy[26]=Jy[26]=23,Ty[36]=Jy[36]=5,My[36]=zy[36]=2,Ty[134]=Jy[134]=5,My[134]=zy[134]=2,Yy[9]=Py[9]=10,Ty[9]=wy[9]=13,Yy[161]=Py[161]=10,Ty[161]=wy[161]=13,Ty[37]=Jy[37]=5,Py[37]=zy[37]=20,Ty[133]=Jy[133]=5,Py[133]=zy[133]=20,My[148]=Py[148]=16,Iy[148]=Jy[148]=23,My[22]=Py[22]=16,Iy[22]=Jy[22]=23,Yy[82]=My[82]=8,wy[82]=Iy[82]=19,Yy[88]=My[88]=8,wy[88]=Iy[88]=19,Yy[73]=zy[73]=0,Ty[73]=wy[73]=13,Yy[97]=zy[97]=0,Ty[97]=wy[97]=13,Yy[145]=wy[145]=9,Py[145]=Jy[145]=21,Yy[25]=wy[25]=9,Py[25]=Jy[25]=21,Ty[70]=zy[70]=1,My[70]=Iy[70]=17,Ty[100]=zy[100]=1,My[100]=Iy[100]=17,Yy[34]=wy[34]=9,Ty[34]=My[34]=12,Py[34]=Jy[34]=21,Iy[34]=zy[34]=22,Yy[136]=Jy[136]=4,Ty[136]=zy[136]=1,My[136]=Iy[136]=17,wy[136]=Py[136]=18,Yy[35]=Jy[35]=4,Ty[35]=My[35]=12,wy[35]=Py[35]=18,Iy[35]=zy[35]=22,Yy[153]=Jy[153]=4,wy[153]=Py[153]=18,Ty[102]=My[102]=12,Iy[102]=zy[102]=22,Yy[155]=wy[155]=9,Py[155]=Jy[155]=23,Ty[103]=zy[103]=1,My[103]=Iy[103]=17,Yy[152]=Jy[152]=4,My[152]=Iy[152]=17,wy[152]=Py[152]=18,Yy[156]=My[156]=8,wy[156]=Py[156]=18,Iy[156]=Jy[156]=23,Yy[137]=Jy[137]=4,Ty[137]=zy[137]=1,wy[137]=Py[137]=18,Yy[139]=Jy[139]=4,Ty[139]=wy[139]=13,Py[139]=zy[139]=20,Yy[98]=wy[98]=9,Ty[98]=My[98]=12,Iy[98]=zy[98]=22,Yy[99]=zy[99]=0,Ty[99]=My[99]=12,wy[99]=Iy[99]=19,Ty[38]=My[38]=12,Py[38]=Jy[38]=21,Iy[38]=zy[38]=22,Ty[39]=Jy[39]=5,My[39]=Py[39]=16,Iy[39]=zy[39]=22;var Ny=[];function Fy(t,n,e){return(t-n)/(e-n)}function ky(t){return t.constructor.toString().indexOf("Array")>-1}function By(t,n,e,i,o,l){for(var s=t.cells[e][n],r=s.cval_real,a=n+i,d=e+o,c=[],u=!1;!u;){if(void 0===t.cells[d]||void 0===t.cells[d][a])if(d-=o,a-=i,r=(s=t.cells[d][a]).cval_real,-1===o)if(0===l)if(1&r)c.push([a,d]),i=-1,o=0,l=0;else{if(!(4&r)){c.push([a+s.bottomright,d]),i=0,o=1,l=1,u=!0;break}c.push([a+1,d]),i=1,o=0,l=0}else{if(!(1&r)){if(4&r){c.push([a+s.bottomright,d]),i=0,o=1,l=1,u=!0;break}c.push([a+s.bottomleft,d]),i=0,o=1,l=0,u=!0;break}c.push([a,d]),i=-1,o=0,l=0}else if(1===o)if(0===l){if(!(r&$b)){if(r&qb){c.push([a+s.topleft,d+1]),i=0,o=-1,l=0,u=!0;break}c.push([a+s.topright,d+1]),i=0,o=-1,l=1,u=!0;break}c.push([a+1,d+1]),i=1,o=0,l=1}else c.push([a+1,d+1]),i=1,o=0,l=1;else if(-1===i)if(0===l){if(!(r&qb)){if(1&r){c.push([a,d+s.leftbottom]),i=1,o=0,l=0,u=!0;break}c.push([a,d+s.lefttop]),i=1,o=0,l=1,u=!0;break}c.push([a,d+1]),i=0,o=1,l=0}else{if(!(r&qb)){console.log("MarchingSquaresJS-isoBands: wtf");break}c.push([a,d+1]),i=0,o=1,l=0}else{if(1!==i){console.log("MarchingSquaresJS-isoBands: we came from nowhere!");break}if(0===l){if(!(4&r)){c.push([a+1,d+s.rightbottom]),i=-1,o=0,l=0,u=!0;break}c.push([a+1,d]),i=0,o=-1,l=1}else{if(!(4&r)){if(r&$b){c.push([a+1,d+s.righttop]),i=-1,o=0,l=1;break}c.push([a+1,d+s.rightbottom]),i=-1,o=0,l=0,u=!0;break}c.push([a+1,d]),i=0,o=-1,l=1}}else if(r=(s=t.cells[d][a]).cval_real,-1===i)if(0===l)if(void 0!==t.cells[d-1]&&void 0!==t.cells[d-1][a])i=0,o=-1,l=1;else{if(!(1&r)){c.push([a+s.bottomright,d]),i=0,o=1,l=1,u=!0;break}c.push([a,d])}else{if(!(r&qb)){console.log("MarchingSquaresJS-isoBands: found entry from top at "+a+","+d);break}console.log("MarchingSquaresJS-isoBands: proceeding in x-direction!")}else if(1===i){if(0===l){console.log("MarchingSquaresJS-isoBands: wtf");break}if(void 0!==t.cells[d+1]&&void 0!==t.cells[d+1][a])i=0,o=1,l=0;else{if(!(r&$b)){c.push([a+s.topleft,d+1]),i=0,o=-1,l=0,u=!0;break}c.push([a+1,d+1]),i=1,o=0,l=1}}else if(-1===o){if(1!==l){console.log("MarchingSquaresJS-isoBands: wtf");break}if(void 0!==t.cells[d][a+1])i=1,o=0,l=1;else{if(!(4&r)){c.push([a+1,d+s.righttop]),i=-1,o=0,l=1,u=!0;break}c.push([a+1,d]),i=0,o=-1,l=1}}else{if(1!==o){console.log("MarchingSquaresJS-isoBands: where did we came from???");break}if(0!==l){console.log("MarchingSquaresJS-isoBands: wtf");break}if(void 0!==t.cells[d][a-1])i=-1,o=0,l=0;else{if(!(r&qb)){c.push([a,d+s.leftbottom]),i=1,o=0,l=0,u=!0;break}c.push([a,d+1]),i=0,o=1,l=0}}if(d+=o,(a+=i)===n&&d===e)break}return{path:c,i:a,j:d,x:i,y:o,o:l}}function _y(t){if(t.edges.length>0){var n=t.edges[t.edges.length-1],e=t.cval_real;switch(n){case 0:return e&$b?{p:[1,t.righttop],x:-1,y:0,o:1}:{p:[t.topleft,1],x:0,y:-1,o:0};case 1:return 4&e?{p:[t.topleft,1],x:0,y:-1,o:0}:{p:[1,t.rightbottom],x:-1,y:0,o:0};case 2:return 4&e?{p:[t.bottomright,0],x:0,y:1,o:1}:{p:[t.topleft,1],x:0,y:-1,o:0};case 3:return 1&e?{p:[t.topleft,1],x:0,y:-1,o:0}:{p:[t.bottomleft,0],x:0,y:1,o:0};case 4:return e&$b?{p:[1,t.righttop],x:-1,y:0,o:1}:{p:[t.topright,1],x:0,y:-1,o:1};case 5:return 4&e?{p:[t.topright,1],x:0,y:-1,o:1}:{p:[1,t.rightbottom],x:-1,y:0,o:0};case 6:return 4&e?{p:[t.bottomright,0],x:0,y:1,o:1}:{p:[t.topright,1],x:0,y:-1,o:1};case 7:return 1&e?{p:[t.topright,1],x:0,y:-1,o:1}:{p:[t.bottomleft,0],x:0,y:1,o:0};case 8:return 4&e?{p:[t.bottomright,0],x:0,y:1,o:1}:{p:[1,t.righttop],x:-1,y:0,o:1};case 9:return 1&e?{p:[1,t.righttop],x:-1,y:0,o:1}:{p:[t.bottomleft,0],x:0,y:1,o:0};case 10:return 1&e?{p:[0,t.leftbottom],x:1,y:0,o:0}:{p:[1,t.righttop],x:-1,y:0,o:1};case 11:return e&qb?{p:[1,t.righttop],x:-1,y:0,o:1}:{p:[0,t.lefttop],x:1,y:0,o:1};case 12:return 4&e?{p:[t.bottomright,0],x:0,y:1,o:1}:{p:[1,t.rightbottom],x:-1,y:0,o:0};case 13:return 1&e?{p:[1,t.rightbottom],x:-1,y:0,o:0}:{p:[t.bottomleft,0],x:0,y:1,o:0};case 14:return 1&e?{p:[0,t.leftbottom],x:1,y:0,o:0}:{p:[1,t.rightbottom],x:-1,y:0,o:0};case 15:return e&qb?{p:[1,t.rightbottom],x:-1,y:0,o:0}:{p:[0,t.lefttop],x:1,y:0,o:1};case 16:return 4&e?{p:[t.bottomright,0],x:0,y:1,o:1}:{p:[0,t.leftbottom],x:1,y:0,o:0};case 17:return e&qb?{p:[t.bottomright,0],x:0,y:1,o:1}:{p:[0,t.lefttop],x:1,y:0,o:1};case 18:return 1&e?{p:[0,t.leftbottom],x:1,y:0,o:0}:{p:[t.bottomleft,0],x:0,y:1,o:0};case 19:return e&qb?{p:[t.bottomleft,0],x:0,y:1,o:0}:{p:[0,t.lefttop],x:1,y:0,o:1};case 20:return e&qb?{p:[t.topleft,1],x:0,y:-1,o:0}:{p:[0,t.leftbottom],x:1,y:0,o:0};case 21:return e&$b?{p:[0,t.leftbottom],x:1,y:0,o:0}:{p:[t.topright,1],x:0,y:-1,o:1};case 22:return e&qb?{p:[t.topleft,1],x:0,y:-1,o:0}:{p:[0,t.lefttop],x:1,y:0,o:1};case 23:return e&$b?{p:[0,t.lefttop],x:1,y:0,o:1}:{p:[t.topright,1],x:0,y:-1,o:1};default:console.log("MarchingSquaresJS-isoBands: edge index out of range!"),console.log(t)}}return null}function Uy(t,n,e,i){var o,l,s,r,a,d=t.cval;switch(n){case-1:if(0===i)o=Ty[d],s=dy[d],r=cy[d],a=uy[d];else o=Yy[d],s=sy[d],r=ry[d],a=ay[d];break;case 1:if(0===i)o=Py[d],s=Wy[d],r=gy[d],a=vy[d];else o=Iy[d],s=Xy[d],r=fy[d],a=Gy[d];break;default:switch(e){case-1:if(0===i)o=zy[d],s=ty[d],r=ny[d],a=ey[d];else o=Jy[d],s=iy[d],r=oy[d],a=ly[d];break;case 1:if(0===i)o=wy[d],s=py[d],r=hy[d],a=my[d];else o=My[d],s=by[d],r=yy[d],a=Zy[d]}}if(l=t.edges.indexOf(o),void 0===t.edges[l])return null;switch(function(t,n){delete t.edges[n];for(var e=n+1;e<t.edges.length;e++)t.edges[e-1]=t.edges[e];t.edges.pop()}(t,l),d=t.cval_real,o){case 0:d&$b?(n=t.topleft,e=1):(n=1,e=t.righttop);break;case 1:4&d?(n=1,e=t.rightbottom):(n=t.topleft,e=1);break;case 2:4&d?(n=t.topleft,e=1):(n=t.bottomright,e=0);break;case 3:1&d?(n=t.bottomleft,e=0):(n=t.topleft,e=1);break;case 4:d&$b?(n=t.topright,e=1):(n=1,e=t.righttop);break;case 5:4&d?(n=1,e=t.rightbottom):(n=t.topright,e=1);break;case 6:4&d?(n=t.topright,e=1):(n=t.bottomright,e=0);break;case 7:1&d?(n=t.bottomleft,e=0):(n=t.topright,e=1);break;case 8:4&d?(n=1,e=t.righttop):(n=t.bottomright,e=0);break;case 9:1&d?(n=t.bottomleft,e=0):(n=1,e=t.righttop);break;case 10:1&d?(n=1,e=t.righttop):(n=0,e=t.leftbottom);break;case 11:d&qb?(n=0,e=t.lefttop):(n=1,e=t.righttop);break;case 12:4&d?(n=1,e=t.rightbottom):(n=t.bottomright,e=0);break;case 13:1&d?(n=t.bottomleft,e=0):(n=1,e=t.rightbottom);break;case 14:1&d?(n=1,e=t.rightbottom):(n=0,e=t.leftbottom);break;case 15:d&qb?(n=0,e=t.lefttop):(n=1,e=t.rightbottom);break;case 16:4&d?(n=0,e=t.leftbottom):(n=t.bottomright,e=0);break;case 17:d&qb?(n=0,e=t.lefttop):(n=t.bottomright,e=0);break;case 18:1&d?(n=t.bottomleft,e=0):(n=0,e=t.leftbottom);break;case 19:d&qb?(n=0,e=t.lefttop):(n=t.bottomleft,e=0);break;case 20:d&qb?(n=0,e=t.leftbottom):(n=t.topleft,e=1);break;case 21:d&$b?(n=t.topright,e=1):(n=0,e=t.leftbottom);break;case 22:d&qb?(n=0,e=t.lefttop):(n=t.topleft,e=1);break;case 23:d&$b?(n=t.topright,e=1):(n=0,e=t.lefttop);break;default:return console.log("MarchingSquaresJS-isoBands: edge index out of range!"),console.log(t),null}return void 0!==n&&void 0!==e&&void 0!==s&&void 0!==r&&void 0!==a||(console.log("MarchingSquaresJS-isoBands: undefined value!"),console.log(t),console.log(n+" "+e+" "+s+" "+r+" "+a)),{p:[n,e],x:s,y:r,o:a}}function Ey(t){var n=[],e=[];t.forEach((function(t){var i=Up(ya([t]));e.push(i),n.push({ring:t,area:i})})),e.sort((function(t,n){return n-t}));var i=[];return e.forEach((function(t){for(var e=0;e<n.length;e++)if(n[e].area===t){i.push(n[e].ring),n.splice(e,1);break}})),i}function jy(t){for(var n=t.map((function(t){return{lrCoordinates:t,grouped:!1}})),e=[];!Oy(n);)for(var i=0;i<n.length;i++)if(!n[i].grouped){var o=[];o.push(n[i].lrCoordinates),n[i].grouped=!0;for(var l=ya([n[i].lrCoordinates]),s=i+1;s<n.length;s++){if(!n[s].grouped)Qy(ya([n[s].lrCoordinates]),l)&&(o.push(n[s].lrCoordinates),n[s].grouped=!0)}e.push(o)}return e}function Qy(t,n){for(var e=Gu(t),i=0;i<e.features.length;i++)if(!$d(e.features[i],n))return!1;return!0}function Oy(t){for(var n=0;n<t.length;n++)if(!1===t[n].grouped)return!1;return!0}function Ay(t,n,e){if(!wa(e=e||{}))throw new Error("options is invalid");var i=e.pivot,o=e.mutate;if(!t)throw new Error("geojson is required");if(null==n||isNaN(n))throw new Error("angle is required");return 0===n||(i||(i=fu(t)),!1!==o&&void 0!==o||(t=rc(t)),Ja(t,(function(t){var e=zb(i,t)+n,o=Ip(i,t),l=ld(Nb(i,o,e));t[0]=l[0],t[1]=l[1]}))),t}function Dy(t,e,i){if(!wa(i=i||{}))throw new Error("options is invalid");var o=i.origin,l=i.mutate;if(!t)throw new Error("geojson required");if("number"!=typeof e||0===e)throw new Error("invalid factor");var s=Array.isArray(o)||"object"===n(o);return!0!==l&&(t=rc(t)),"FeatureCollection"!==t.type||s?qy(t,e,o):(Ba(t,(function(n,i){t.features[i]=qy(n,e,o)})),t)}function qy(t,e,i){var o="Point"===ud(t);return i=function(t,e){null==e&&(e="centroid");if(Array.isArray(e)||"object"===n(e))return od(e);var i=t.bbox?t.bbox:id(t),o=i[0],l=i[1],s=i[2],r=i[3];switch(e){case"sw":case"southwest":case"westsouth":case"bottomleft":return ma([o,l]);case"se":case"southeast":case"eastsouth":case"bottomright":return ma([s,l]);case"nw":case"northwest":case"westnorth":case"topleft":return ma([o,r]);case"ne":case"northeast":case"eastnorth":case"topright":return ma([s,r]);case"center":return Xu(t);case void 0:case null:case"centroid":return fu(t);default:throw new Error("invalid origin")}}(t,i),1===e||o||Ja(t,(function(t){var n=Ip(i,t),o=zb(i,t),l=ld(Nb(i,n*e,o));t[0]=l[0],t[1]=l[1],3===t.length&&(t[2]*=e)})),t}function $y(t){var n=t[0],e=t[1];return[e[0]-n[0],e[1]-n[1]]}function tZ(t,n){return t[0]*n[1]-n[0]*t[1]}function nZ(t,n){return!function(t,n){return 0===tZ($y(t),$y(n))}(t,n)&&function(t,n){var e,i,o=t[0],l=$y(t),s=n[0],r=$y(n),a=tZ(l,r),d=function(t,n){return[t[0]+n[0],t[1]+n[1]]}(o,function(t,n){return[t*n[0],t*n[1]]}(tZ((i=o,[(e=s)[0]-i[0],e[1]-i[1]]),r)/a,l));return d}(t,n)}function eZ(t,n,e){var i=[],o=Ra(n,e),l=ld(t),s=[];return l.forEach((function(t,n){if(n!==l.length-1){var e=function(t,n,e){var i=Math.sqrt((t[0]-n[0])*(t[0]-n[0])+(t[1]-n[1])*(t[1]-n[1])),o=t[0]+e*(n[1]-t[1])/i,l=n[0]+e*(n[1]-t[1])/i,s=t[1]+e*(t[0]-n[0])/i,r=n[1]+e*(t[0]-n[0])/i;return[[o,s],[l,r]]}(t,l[n+1],o);if(i.push(e),n>0){var r=i[n-1],a=nZ(e,r);!1!==a&&(r[1]=a,e[0]=a),s.push(r[0]),n===l.length-2&&(s.push(e[0]),s.push(e[1]))}2===l.length&&(s.push(e[0]),s.push(e[1]))}})),Xa(s,t.properties)}function iZ(t,n,e){var i=n[0]-t[0],o=n[1]-t[1],l=e[0]-n[0];return function(t){return(t>0)-(t<0)||+t}(i*(e[1]-n[1])-l*o)}function oZ(t,n){return n.geometry.coordinates[0].every((function(n){return $d(ma(n),t)}))}Ny[1]=Ny[169]=Vy,Ny[4]=Ny[166]=xy,Ny[16]=Ny[154]=Sy,Ny[64]=Ny[106]=Ly,Ny[168]=Ny[2]=Ry,Ny[162]=Ny[8]=Ky,Ny[138]=Ny[32]=Hy,Ny[42]=Ny[128]=Cy,Ny[5]=Ny[165]=function(t){return[[0,0],[0,t.leftbottom],[1,t.rightbottom],[1,0]]},Ny[20]=Ny[150]=function(t){return[[1,0],[t.bottomright,0],[t.topright,1],[1,1]]},Ny[80]=Ny[90]=function(t){return[[1,1],[1,t.righttop],[0,t.lefttop],[0,1]]},Ny[65]=Ny[105]=function(t){return[[t.bottomleft,0],[0,0],[0,1],[t.topleft,1]]},Ny[160]=Ny[10]=function(t){return[[1,t.righttop],[1,t.rightbottom],[0,t.leftbottom],[0,t.lefttop]]},Ny[130]=Ny[40]=function(t){return[[t.topleft,1],[t.topright,1],[t.bottomright,0],[t.bottomleft,0]]},Ny[85]=function(){return[[0,0],[0,1],[1,1],[1,0]]},Ny[101]=Ny[69]=function(t){return[[1,t.rightbottom],[1,0],[0,0],[0,1],[t.topleft,1]]},Ny[149]=Ny[21]=function(t){return[[t.topright,1],[1,1],[1,0],[0,0],[0,t.leftbottom]]},Ny[86]=Ny[84]=function(t){return[[1,0],[t.bottomright,0],[0,t.lefttop],[0,1],[1,1]]},Ny[89]=Ny[81]=function(t){return[[1,1],[1,t.righttop],[t.bottomleft,0],[0,0],[0,1]]},Ny[96]=Ny[74]=function(t){return[[1,t.righttop],[1,t.rightbottom],[0,t.lefttop],[0,1],[t.topleft,1]]},Ny[24]=Ny[146]=function(t){return[[1,1],[1,t.righttop],[t.bottomright,0],[t.bottomleft,0],[t.topright,1]]},Ny[6]=Ny[164]=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[0,t.leftbottom],[0,t.lefttop]]},Ny[129]=Ny[41]=function(t){return[[t.topright,1],[t.bottomleft,0],[0,0],[0,t.leftbottom],[t.topleft,1]]},Ny[66]=Ny[104]=function(t){return[[t.bottomright,0],[t.bottomleft,0],[0,t.lefttop],[0,1],[t.topleft,1]]},Ny[144]=Ny[26]=function(t){return[[1,1],[1,t.righttop],[0,t.leftbottom],[0,t.lefttop],[t.topright,1]]},Ny[36]=Ny[134]=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[t.topleft,1],[t.topright,1]]},Ny[9]=Ny[161]=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomleft,0],[0,0],[0,t.leftbottom]]},Ny[37]=Ny[133]=function(t){return[[1,t.rightbottom],[1,0],[0,0],[0,t.leftbottom],[t.topleft,1],[t.topright,1]]},Ny[148]=Ny[22]=function(t){return[[1,1],[1,0],[t.bottomright,0],[0,t.leftbottom],[0,t.lefttop],[t.topright,1]]},Ny[82]=Ny[88]=function(t){return[[1,1],[1,t.righttop],[t.bottomright,0],[t.bottomleft,0],[0,t.lefttop],[0,1]]},Ny[73]=Ny[97]=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomleft,0],[0,0],[0,1],[t.topleft,1]]},Ny[145]=Ny[25]=function(t){return[[1,1],[1,t.righttop],[t.bottomleft,0],[0,0],[0,t.leftbottom],[t.topright,1]]},Ny[70]=Ny[100]=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[0,t.lefttop],[0,1],[t.topleft,1]]},Ny[34]=function(t){return[Cy(t),Ky(t)]},Ny[35]=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomright,0],[t.bottomleft,0],[0,t.leftbottom],[0,t.lefttop],[t.topleft,1],[t.topright,1]]},Ny[136]=function(t){return[Hy(t),Ry(t)]},Ny[153]=function(t){return[Sy(t),Vy(t)]},Ny[102]=function(t){return[xy(t),Ly(t)]},Ny[155]=function(t){return[[1,1],[1,t.righttop],[t.bottomleft,0],[0,0],[0,t.leftbottom],[t.topright,1]]},Ny[103]=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[0,t.lefttop],[0,1],[t.topleft,1]]},Ny[152]=function(t){return[Sy(t),Ry(t)]},Ny[156]=function(t){return[[1,1],[1,t.righttop],[t.bottomright,0],[t.bottomleft,0],[0,t.leftbottom],[0,t.lefttop],[t.topright,1]]},Ny[137]=function(t){return[Hy(t),Vy(t)]},Ny[139]=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomleft,0],[0,0],[0,t.leftbottom],[t.topleft,1],[t.topright,1]]},Ny[98]=function(t){return[Ky(t),Ly(t)]},Ny[99]=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomright,0],[t.bottomleft,0],[0,t.lefttop],[0,1],[t.topleft,1]]},Ny[38]=function(t){return[xy(t),Cy(t)]},Ny[39]=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[0,t.leftbottom],[0,t.lefttop],[t.topleft,1],[t.topright,1]]};var lZ=function(){function t(n){this.id=t.buildId(n),this.coordinates=n,this.innerEdges=[],this.outerEdges=[],this.outerEdgesSorted=!1}return t.buildId=function(t){return t.join(",")},t.prototype.removeInnerEdge=function(t){this.innerEdges=this.innerEdges.filter((function(n){return n.from.id!==t.from.id}))},t.prototype.removeOuterEdge=function(t){this.outerEdges=this.outerEdges.filter((function(n){return n.to.id!==t.to.id}))},t.prototype.addOuterEdge=function(t){this.outerEdges.push(t),this.outerEdgesSorted=!1},t.prototype.sortOuterEdges=function(){var t=this;this.outerEdgesSorted||(this.outerEdges.sort((function(n,e){var i=n.to,o=e.to;if(i.coordinates[0]-t.coordinates[0]>=0&&o.coordinates[0]-t.coordinates[0]<0)return 1;if(i.coordinates[0]-t.coordinates[0]<0&&o.coordinates[0]-t.coordinates[0]>=0)return-1;if(i.coordinates[0]-t.coordinates[0]==0&&o.coordinates[0]-t.coordinates[0]==0)return i.coordinates[1]-t.coordinates[1]>=0||o.coordinates[1]-t.coordinates[1]>=0?i.coordinates[1]-o.coordinates[1]:o.coordinates[1]-i.coordinates[1];var l=iZ(t.coordinates,i.coordinates,o.coordinates);return l<0?1:l>0?-1:Math.pow(i.coordinates[0]-t.coordinates[0],2)+Math.pow(i.coordinates[1]-t.coordinates[1],2)-(Math.pow(o.coordinates[0]-t.coordinates[0],2)+Math.pow(o.coordinates[1]-t.coordinates[1],2))})),this.outerEdgesSorted=!0)},t.prototype.getOuterEdges=function(){return this.sortOuterEdges(),this.outerEdges},t.prototype.getOuterEdge=function(t){return this.sortOuterEdges(),this.outerEdges[t]},t.prototype.addInnerEdge=function(t){this.innerEdges.push(t)},t}(),sZ=function(){function t(t,n){this.from=t,this.to=n,this.next=void 0,this.label=void 0,this.symetric=void 0,this.ring=void 0,this.from.addOuterEdge(this),this.to.addInnerEdge(this)}return t.prototype.getSymetric=function(){return this.symetric||(this.symetric=new t(this.to,this.from),this.symetric.symetric=this),this.symetric},t.prototype.deleteEdge=function(){this.from.removeOuterEdge(this),this.to.removeInnerEdge(this)},t.prototype.isEqual=function(t){return this.from.id===t.from.id&&this.to.id===t.to.id},t.prototype.toString=function(){return"Edge { "+this.from.id+" -> "+this.to.id+" }"},t.prototype.toLineString=function(){return Xa([this.from.coordinates,this.to.coordinates])},t.prototype.compareTo=function(t){return iZ(t.from.coordinates,t.to.coordinates,this.to.coordinates)},t}(),rZ=function(){function t(){this.edges=[],this.polygon=void 0,this.envelope=void 0}return t.prototype.push=function(t){this.edges.push(t),this.polygon=this.envelope=void 0},t.prototype.get=function(t){return this.edges[t]},Object.defineProperty(t.prototype,"length",{get:function(){return this.edges.length},enumerable:!0,configurable:!0}),t.prototype.forEach=function(t){this.edges.forEach(t)},t.prototype.map=function(t){return this.edges.map(t)},t.prototype.some=function(t){return this.edges.some(t)},t.prototype.isValid=function(){return!0},t.prototype.isHole=function(){var t=this,n=this.edges.reduce((function(n,e,i){return e.from.coordinates[1]>t.edges[n].from.coordinates[1]&&(n=i),n}),0),e=(0===n?this.length:n)-1,i=(n+1)%this.length,o=iZ(this.edges[e].from.coordinates,this.edges[n].from.coordinates,this.edges[i].from.coordinates);return 0===o?this.edges[e].from.coordinates[0]>this.edges[i].from.coordinates[0]:o>0},t.prototype.toMultiPoint=function(){return ga(this.edges.map((function(t){return t.from.coordinates})))},t.prototype.toPolygon=function(){if(this.polygon)return this.polygon;var t=this.edges.map((function(t){return t.from.coordinates}));return t.push(this.edges[0].from.coordinates),this.polygon=ya([t])},t.prototype.getEnvelope=function(){return this.envelope?this.envelope:this.envelope=hu(this.toPolygon())},t.findEdgeRingContaining=function(t,n){var e,i,o=t.getEnvelope();return n.forEach((function(n){var l,s,r,a,d,c,u=n.getEnvelope();if((i&&(e=i.getEnvelope()),s=o,r=(l=u).geometry.coordinates[0].map((function(t){return t[0]})),a=l.geometry.coordinates[0].map((function(t){return t[1]})),d=s.geometry.coordinates[0].map((function(t){return t[0]})),c=s.geometry.coordinates[0].map((function(t){return t[1]})),Math.max.apply(null,r)!==Math.max.apply(null,d)||Math.max.apply(null,a)!==Math.max.apply(null,c)||Math.min.apply(null,r)!==Math.min.apply(null,d)||Math.min.apply(null,a)!==Math.min.apply(null,c))&&oZ(u,o)){for(var p=t.map((function(t){return t.from.coordinates})),h=void 0,m=function(t){n.some((function(n){return e=t,i=n.from.coordinates,e[0]===i[0]&&e[1]===i[1];var e,i}))||(h=t)},b=0,y=p;b<y.length;b++){m(y[b])}h&&n.inside(ma(h))&&(i&&!oZ(e,u)||(i=n))}})),i},t.prototype.inside=function(t){return $d(t,this.toPolygon())},t}(),aZ=rZ;var dZ=function(){function t(){this.edges=[],this.nodes={}}return t.fromGeoJson=function(n){!function(t){if(!t)throw new Error("No geojson passed");if("FeatureCollection"!==t.type&&"GeometryCollection"!==t.type&&"MultiLineString"!==t.type&&"LineString"!==t.type&&"Feature"!==t.type)throw new Error("Invalid input type '"+t.type+"'. Geojson must be FeatureCollection, GeometryCollection, LineString, MultiLineString or Feature")}(n);var e=new t;return Qa(n,(function(t){ad(t,"LineString","Graph::fromGeoJson"),Na(t,(function(t,n){if(t){var i=e.getNode(t),o=e.getNode(n);e.addEdge(i,o)}return n}))})),e},t.prototype.getNode=function(t){var n=lZ.buildId(t),e=this.nodes[n];return e||(e=this.nodes[n]=new lZ(t)),e},t.prototype.addEdge=function(t,n){var e=new sZ(t,n),i=e.getSymetric();this.edges.push(e),this.edges.push(i)},t.prototype.deleteDangles=function(){var t=this;Object.keys(this.nodes).map((function(n){return t.nodes[n]})).forEach((function(n){return t._removeIfDangle(n)}))},t.prototype._removeIfDangle=function(t){var n=this;if(t.innerEdges.length<=1){var e=t.getOuterEdges().map((function(t){return t.to}));this.removeNode(t),e.forEach((function(t){return n._removeIfDangle(t)}))}},t.prototype.deleteCutEdges=function(){var t=this;this._computeNextCWEdges(),this._findLabeledEdgeRings(),this.edges.forEach((function(n){n.label===n.symetric.label&&(t.removeEdge(n.symetric),t.removeEdge(n))}))},t.prototype._computeNextCWEdges=function(t){var n=this;void 0===t?Object.keys(this.nodes).forEach((function(t){return n._computeNextCWEdges(n.nodes[t])})):t.getOuterEdges().forEach((function(n,e){t.getOuterEdge((0===e?t.getOuterEdges().length:e)-1).symetric.next=n}))},t.prototype._computeNextCCWEdges=function(t,n){for(var e,i,o=t.getOuterEdges(),l=o.length-1;l>=0;--l){var s=o[l],r=s.symetric,a=void 0,d=void 0;s.label===n&&(a=s),r.label===n&&(d=r),a&&d&&(d&&(i=d),a&&(i&&(i.next=a,i=void 0),e||(e=a)))}i&&(i.next=e)},t.prototype._findLabeledEdgeRings=function(){var t=[],n=0;return this.edges.forEach((function(e){if(!(e.label>=0)){t.push(e);var i=e;do{i.label=n,i=i.next}while(!e.isEqual(i));n++}})),t},t.prototype.getEdgeRings=function(){var t=this;this._computeNextCWEdges(),this.edges.forEach((function(t){t.label=void 0})),this._findLabeledEdgeRings().forEach((function(n){t._findIntersectionNodes(n).forEach((function(e){t._computeNextCCWEdges(e,n.label)}))}));var n=[];return this.edges.forEach((function(e){e.ring||n.push(t._findEdgeRing(e))})),n},t.prototype._findIntersectionNodes=function(t){var n=[],e=t,i=function(){var i=0;e.from.getOuterEdges().forEach((function(n){n.label===t.label&&++i})),i>1&&n.push(e.from),e=e.next};do{i()}while(!t.isEqual(e));return n},t.prototype._findEdgeRing=function(t){var n=t,e=new aZ;do{e.push(n),n.ring=e,n=n.next}while(!t.isEqual(n));return e},t.prototype.removeNode=function(t){var n=this;t.getOuterEdges().forEach((function(t){return n.removeEdge(t)})),t.innerEdges.forEach((function(t){return n.removeEdge(t)})),delete this.nodes[t.id]},t.prototype.removeEdge=function(t){this.edges=this.edges.filter((function(n){return!n.isEqual(t)})),t.deleteEdge()},t}(),cZ=dZ;function uZ(t,n){var e=!0;return Qa(t,(function(t){Qa(n,(function(n){if(!1===e)return!1;e=function(t,n){switch(t.type){case"Point":switch(n.type){case"Point":return e=t.coordinates,i=n.coordinates,!(e[0]===i[0]&&e[1]===i[1]);case"LineString":return!pZ(n,t);case"Polygon":return!$d(t,n)}break;case"LineString":switch(n.type){case"Point":return!pZ(t,n);case"LineString":return!function(t,n){if(Mp(t,n).features.length>0)return!0;return!1}(t,n);case"Polygon":return!hZ(n,t)}break;case"Polygon":switch(n.type){case"Point":return!$d(n,t);case"LineString":return!hZ(t,n);case"Polygon":return!function(t,n){for(var e=0,i=t.coordinates[0];e<i.length;e++){if($d(i[e],n))return!0}for(var o=0,l=n.coordinates[0];o<l.length;o++){if($d(l[o],t))return!0}if(Mp(Lh(t),Lh(n)).features.length>0)return!0;return!1}(n,t)}}var e,i;return!1}(t.geometry,n.geometry)}))})),e}function pZ(t,n){for(var e=0;e<t.coordinates.length-1;e++)if(mZ(t.coordinates[e],t.coordinates[e+1],n.coordinates))return!0;return!1}function hZ(t,n){for(var e=0,i=n.coordinates;e<i.length;e++){if($d(i[e],t))return!0}return Mp(n,Lh(t)).features.length>0}function mZ(t,n,e){var i=e[0]-t[0],o=e[1]-t[1],l=n[0]-t[0],s=n[1]-t[1];return 0==i*s-o*l&&(Math.abs(l)>=Math.abs(s)?l>0?t[0]<=e[0]&&e[0]<=n[0]:n[0]<=e[0]&&e[0]<=t[0]:s>0?t[1]<=e[1]&&e[1]<=n[1]:n[1]<=e[1]&&e[1]<=t[1])}function bZ(t,n){return!(t[0]>n[0])&&(!(t[2]<n[2])&&(!(t[1]>n[1])&&!(t[3]<n[3])))}function yZ(t,n){return t[0]===n[0]&&t[1]===n[1]}function ZZ(t,n){return[(t[0]+n[0])/2,(t[1]+n[1])/2]}function XZ(t,n){for(var e=!1,i=!1,o=t.coordinates.length,l=0;l<o&&!e&&!i;){for(var s=0;s<n.coordinates.length-1;s++){var r=!0;0!==s&&s!==n.coordinates.length-2||(r=!1),WZ(n.coordinates[s],n.coordinates[s+1],t.coordinates[l],r)?e=!0:i=!0}l++}return e&&i}function fZ(t,n){return Mp(t,Rh(n)).features.length>0}function GZ(t,n){for(var e=!1,i=!1,o=t.coordinates.length,l=0;l<o&&(!e||!i);l++)$d(ma(t.coordinates[l]),n)?e=!0:i=!0;return i&&e}function WZ(t,n,e,i){var o=e[0]-t[0],l=e[1]-t[1],s=n[0]-t[0],r=n[1]-t[1];return 0==o*r-l*s&&(i?Math.abs(s)>=Math.abs(r)?s>0?t[0]<=e[0]&&e[0]<=n[0]:n[0]<=e[0]&&e[0]<=t[0]:r>0?t[1]<=e[1]&&e[1]<=n[1]:n[1]<=e[1]&&e[1]<=t[1]:Math.abs(s)>=Math.abs(r)?s>0?t[0]<e[0]&&e[0]<n[0]:n[0]<e[0]&&e[0]<t[0]:r>0?t[1]<e[1]&&e[1]<n[1]:n[1]<e[1]&&e[1]<t[1])}var gZ=function(t){this.precision=t&&t.precision?t.precision:17,this.direction=!(!t||!t.direction)&&t.direction,this.pseudoNode=!(!t||!t.pseudoNode)&&t.pseudoNode,this.objectComparator=t&&t.objectComparator?t.objectComparator:xZ};function vZ(t){return t.coordinates.map((function(n){return{type:t.type.replace("Multi",""),coordinates:n}}))}function VZ(t,n){return t.hasOwnProperty("coordinates")?t.coordinates.length===n.coordinates.length:t.length===n.length}function xZ(t,n){return Mb(t,n,{strict:!0})}gZ.prototype.compare=function(t,n){if(t.type!==n.type||!VZ(t,n))return!1;switch(t.type){case"Point":return this.compareCoord(t.coordinates,n.coordinates);case"LineString":return this.compareLine(t.coordinates,n.coordinates,0,!1);case"Polygon":return this.comparePolygon(t,n);case"Feature":return this.compareFeature(t,n);default:if(0===t.type.indexOf("Multi")){var e=this,i=vZ(t),o=vZ(n);return i.every((function(t){return this.some((function(n){return e.compare(t,n)}))}),o)}}return!1},gZ.prototype.compareCoord=function(t,n){if(t.length!==n.length)return!1;for(var e=0;e<t.length;e++)if(t[e].toFixed(this.precision)!==n[e].toFixed(this.precision))return!1;return!0},gZ.prototype.compareLine=function(t,n,e,i){if(!VZ(t,n))return!1;var o=this.pseudoNode?t:this.removePseudo(t),l=this.pseudoNode?n:this.removePseudo(n);if(!i||this.compareCoord(o[0],l[0])||(l=this.fixStartIndex(l,o))){var s=this.compareCoord(o[e],l[e]);return this.direction||s?this.comparePath(o,l):!!this.compareCoord(o[e],l[l.length-(1+e)])&&this.comparePath(o.slice().reverse(),l)}},gZ.prototype.fixStartIndex=function(t,n){for(var e,i=-1,o=0;o<t.length;o++)if(this.compareCoord(t[o],n[0])){i=o;break}return i>=0&&(e=[].concat(t.slice(i,t.length),t.slice(1,i+1))),e},gZ.prototype.comparePath=function(t,n){var e=this;return t.every((function(t,n){return e.compareCoord(t,this[n])}),n)},gZ.prototype.comparePolygon=function(t,n){if(this.compareLine(t.coordinates[0],n.coordinates[0],1,!0)){var e=t.coordinates.slice(1,t.coordinates.length),i=n.coordinates.slice(1,n.coordinates.length),o=this;return e.every((function(t){return this.some((function(n){return o.compareLine(t,n,1,!0)}))}),i)}return!1},gZ.prototype.compareFeature=function(t,n){return!(t.id!==n.id||!this.objectComparator(t.properties,n.properties)||!this.compareBBox(t,n))&&this.compare(t.geometry,n.geometry)},gZ.prototype.compareBBox=function(t,n){return!!(!t.bbox&&!n.bbox||t.bbox&&n.bbox&&this.compareCoord(t.bbox,n.bbox))},gZ.prototype.removePseudo=function(t){return t};var SZ=gZ;function LZ(t,n){var e=!1;return Qa(t,(function(t){Qa(n,(function(n){if(!0===e)return!0;e=!uZ(t.geometry,n.geometry)}))})),e}var RZ=o((function(t){function e(t,n,e,i){this.dataset=[],this.epsilon=1,this.minPts=2,this.distance=this._euclideanDistance,this.clusters=[],this.noise=[],this._visited=[],this._assigned=[],this._datasetLength=0,this._init(t,n,e,i)}e.prototype.run=function(t,n,e,i){this._init(t,n,e,i);for(var o=0;o<this._datasetLength;o++)if(1!==this._visited[o]){this._visited[o]=1;var l=this._regionQuery(o);if(l.length<this.minPts)this.noise.push(o);else{var s=this.clusters.length;this.clusters.push([]),this._addToCluster(o,s),this._expandCluster(s,l)}}return this.clusters},e.prototype._init=function(t,e,i,o){if(t){if(!(t instanceof Array))throw Error("Dataset must be of type array, "+n(t)+" given");this.dataset=t,this.clusters=[],this.noise=[],this._datasetLength=t.length,this._visited=new Array(this._datasetLength),this._assigned=new Array(this._datasetLength)}e&&(this.epsilon=e),i&&(this.minPts=i),o&&(this.distance=o)},e.prototype._expandCluster=function(t,n){for(var e=0;e<n.length;e++){var i=n[e];if(1!==this._visited[i]){this._visited[i]=1;var o=this._regionQuery(i);o.length>=this.minPts&&(n=this._mergeArrays(n,o))}1!==this._assigned[i]&&this._addToCluster(i,t)}},e.prototype._addToCluster=function(t,n){this.clusters[n].push(t),this._assigned[t]=1},e.prototype._regionQuery=function(t){for(var n=[],e=0;e<this._datasetLength;e++){this.distance(this.dataset[t],this.dataset[e])<this.epsilon&&n.push(e)}return n},e.prototype._mergeArrays=function(t,n){for(var e=n.length,i=0;i<e;i++){var o=n[i];t.indexOf(o)<0&&t.push(o)}return t},e.prototype._euclideanDistance=function(t,n){for(var e=0,i=Math.min(t.length,n.length);i--;)e+=(t[i]-n[i])*(t[i]-n[i]);return Math.sqrt(e)},t.exports&&(t.exports=e)})),KZ=o((function(t){
/**
     * KMEANS clustering
     *
     * @author Lukasz Krawczyk <contact@lukaszkrawczyk.eu>
     * @copyright MIT
     */
function n(t,n,e){this.k=3,this.dataset=[],this.assignments=[],this.centroids=[],this.init(t,n,e)}n.prototype.init=function(t,n,e){this.assignments=[],this.centroids=[],void 0!==t&&(this.dataset=t),void 0!==n&&(this.k=n),void 0!==e&&(this.distance=e)},n.prototype.run=function(t,n){this.init(t,n);for(var e=this.dataset.length,i=0;i<this.k;i++)this.centroids[i]=this.randomCentroid();for(var o=!0;o;){o=this.assign();for(var l=0;l<this.k;l++){for(var s=new Array(c),r=0,a=0;a<c;a++)s[a]=0;for(var d=0;d<e;d++){var c=this.dataset[d].length;if(l===this.assignments[d]){for(a=0;a<c;a++)s[a]+=this.dataset[d][a];r++}}if(r>0){for(a=0;a<c;a++)s[a]/=r;this.centroids[l]=s}else this.centroids[l]=this.randomCentroid(),o=!0}}return this.getClusters()},n.prototype.randomCentroid=function(){var t,n,e=this.dataset.length-1;do{n=Math.round(Math.random()*e),t=this.dataset[n]}while(this.centroids.indexOf(t)>=0);return t},n.prototype.assign=function(){for(var t,n=!1,e=this.dataset.length,i=0;i<e;i++)(t=this.argmin(this.dataset[i],this.centroids,this.distance))!=this.assignments[i]&&(this.assignments[i]=t,n=!0);return n},n.prototype.getClusters=function(){for(var t,n=new Array(this.k),e=0;e<this.assignments.length;e++)void 0===n[t=this.assignments[e]]&&(n[t]=[]),n[t].push(e);return n},n.prototype.argmin=function(t,n,e){for(var i,o=Number.MAX_VALUE,l=0,s=n.length,r=0;r<s;r++)(i=e(t,n[r]))<o&&(o=i,l=r);return l},n.prototype.distance=function(t,n){for(var e=0,i=Math.min(t.length,n.length);i--;){var o=t[i]-n[i];e+=o*o}return Math.sqrt(e)},t.exports&&(t.exports=n)})),HZ=o((function(t){function n(t,n,e){this._queue=[],this._priorities=[],this._sorting="desc",this._init(t,n,e)}n.prototype.insert=function(t,n){for(var e=this._queue.length,i=e;i--;){var o=this._priorities[i];"desc"===this._sorting?n>o&&(e=i):n<o&&(e=i)}this._insertAt(t,n,e)},n.prototype.remove=function(t){for(var n=this._queue.length;n--;){if(t===this._queue[n]){this._queue.splice(n,1),this._priorities.splice(n,1);break}}},n.prototype.forEach=function(t){this._queue.forEach(t)},n.prototype.getElements=function(){return this._queue},n.prototype.getElementPriority=function(t){return this._priorities[t]},n.prototype.getPriorities=function(){return this._priorities},n.prototype.getElementsWithPriorities=function(){for(var t=[],n=0,e=this._queue.length;n<e;n++)t.push([this._queue[n],this._priorities[n]]);return t},n.prototype._init=function(t,n,e){if(t&&n){if(this._queue=[],this._priorities=[],t.length!==n.length)throw new Error("Arrays must have the same length");for(var i=0;i<t.length;i++)this.insert(t[i],n[i])}e&&(this._sorting=e)},n.prototype._insertAt=function(t,n,e){this._queue.length===e?(this._queue.push(t),this._priorities.push(n)):(this._queue.splice(e,0,t),this._priorities.splice(e,0,n))},t.exports&&(t.exports=n)})),CZ=o((function(t){if(t.exports)var e=HZ;
/**
     * OPTICS - Ordering points to identify the clustering structure
     *
     * @author Lukasz Krawczyk <contact@lukaszkrawczyk.eu>
     * @copyright MIT
     */function i(t,n,e,i){this.epsilon=1,this.minPts=1,this.distance=this._euclideanDistance,this._reachability=[],this._processed=[],this._coreDistance=0,this._orderedList=[],this._init(t,n,e,i)}i.prototype.run=function(t,n,i,o){this._init(t,n,i,o);for(var l=0,s=this.dataset.length;l<s;l++)if(1!==this._processed[l]){this._processed[l]=1,this.clusters.push([l]);var r=this.clusters.length-1;this._orderedList.push(l);var a=new e(null,null,"asc"),d=this._regionQuery(l);void 0!==this._distanceToCore(l)&&(this._updateQueue(l,d,a),this._expandCluster(r,a))}return this.clusters},i.prototype.getReachabilityPlot=function(){for(var t=[],n=0,e=this._orderedList.length;n<e;n++){var i=this._orderedList[n],o=this._reachability[i];t.push([i,o])}return t},i.prototype._init=function(t,e,i,o){if(t){if(!(t instanceof Array))throw Error("Dataset must be of type array, "+n(t)+" given");this.dataset=t,this.clusters=[],this._reachability=new Array(this.dataset.length),this._processed=new Array(this.dataset.length),this._coreDistance=0,this._orderedList=[]}e&&(this.epsilon=e),i&&(this.minPts=i),o&&(this.distance=o)},i.prototype._updateQueue=function(t,n,e){var i=this;this._coreDistance=this._distanceToCore(t),n.forEach((function(n){if(void 0===i._processed[n]){var o=i.distance(i.dataset[t],i.dataset[n]),l=Math.max(i._coreDistance,o);void 0===i._reachability[n]?(i._reachability[n]=l,e.insert(n,l)):l<i._reachability[n]&&(i._reachability[n]=l,e.remove(n),e.insert(n,l))}}))},i.prototype._expandCluster=function(t,n){for(var e=n.getElements(),i=0,o=e.length;i<o;i++){var l=e[i];if(void 0===this._processed[l]){var s=this._regionQuery(l);this._processed[l]=1,this.clusters[t].push(l),this._orderedList.push(l),void 0!==this._distanceToCore(l)&&(this._updateQueue(l,s,n),this._expandCluster(t,n))}}},i.prototype._distanceToCore=function(t){for(var n=this.epsilon,e=0;e<n;e++){if(this._regionQuery(t,e).length>=this.minPts)return e}},i.prototype._regionQuery=function(t,n){n=n||this.epsilon;for(var e=[],i=0,o=this.dataset.length;i<o;i++)this.distance(this.dataset[t],this.dataset[i])<n&&e.push(i);return e},i.prototype._euclideanDistance=function(t,n){for(var e=0,i=Math.min(t.length,n.length);i--;)e+=(t[i]-n[i])*(t[i]-n[i]);return Math.sqrt(e)},t.exports&&(t.exports=i)})),YZ=o((function(t){t.exports&&(t.exports={DBSCAN:RZ,KMEANS:KZ,OPTICS:CZ,PriorityQueue:HZ})}));var TZ=function(t,n,e){for(var i=t.length,o=0,l=0;l<i;l++){var s=(t[l]||0)-(n[l]||0);o+=s*s}return e?Math.sqrt(o):o},MZ=function(t,n,e){var i=Math.abs(t-n);return e?i:i*i},wZ=TZ,PZ=MZ,IZ=function(t,n){for(var e={},i=[],o=n<<2,l=t.length,s=t[0].length>0;i.length<n&&o-- >0;){var r=t[Math.floor(Math.random()*l)],a=s?r.join("_"):""+r;e[a]||(e[a]=!0,i.push(r))}if(i.length<n)throw new Error("Error initializating clusters");return i},zZ=function(t,n){var e=t[0].length?wZ:PZ,i=[],o=t.length,l=t[0].length>0,s=t[Math.floor(Math.random()*o)];l&&s.join("_");for(i.push(s);i.length<n;){for(var r=[],a=i.length,d=0,c=[],u=0;u<o;u++){for(var p=1/0,h=0;h<a;h++){var m=e(t[u],i[h]);m<=p&&(p=m)}r[u]=p}for(var b=0;b<o;b++)d+=r[b];for(var y=0;y<o;y++)c[y]={i:y,v:t[y],pr:r[y]/d,cs:0};c.sort((function(t,n){return t.pr-n.pr})),c[0].cs=c[0].pr;for(var Z=1;Z<o;Z++)c[Z].cs=c[Z-1].cs+c[Z].pr;for(var X=Math.random(),f=0;f<o-1&&c[f++].cs<X;);i.push(c[f-1].v)}return i},JZ=TZ,NZ=IZ,FZ=zZ;function kZ(t,n,e){e=e||[];for(var i=0;i<t;i++)e[i]=n;return e}var BZ=function(t,n,e,i){var o=[],l=[],s=[],r=[],a=!1,d=i||1e4,c=t.length,u=t[0].length,p=u>0,h=[];if(e)o="kmrand"==e?NZ(t,n):"kmpp"==e?FZ(t,n):e;else for(var m={};o.length<n;){var b=Math.floor(Math.random()*c);m[b]||(m[b]=!0,o.push(t[b]))}do{kZ(n,0,h);for(var y=0;y<c;y++){for(var Z=1/0,X=0,f=0;f<n;f++){(r=p?JZ(t[y],o[f]):Math.abs(t[y]-o[f]))<=Z&&(Z=r,X=f)}s[y]=X,h[X]++}for(var G=[],W=(l=[],0);W<n;W++)G[W]=p?kZ(u,0,G[W]):0,l[W]=o[W];if(p){for(var g=0;g<n;g++)o[g]=[];for(var v=0;v<c;v++)for(var V=G[s[v]],x=t[v],S=0;S<u;S++)V[S]+=x[S];a=!0;for(var L=0;L<n;L++){for(var R=o[L],K=G[L],H=l[L],C=h[L],Y=0;Y<u;Y++)R[Y]=K[Y]/C||0;if(a)for(var T=0;T<u;T++)if(H[T]!=R[T]){a=!1;break}}}else{for(var M=0;M<c;M++){G[s[M]]+=t[M]}for(var w=0;w<n;w++)o[w]=G[w]/h[w]||0;a=!0;for(var P=0;P<n;P++)if(l[P]!=o[P]){a=!1;break}}a=a||--d<=0}while(!a);return{it:1e4-d,k:n,idxs:s,centroids:o}};function _Z(t,n){return Ka(zb(t[0],t[1]))===Ka(zb(n[0],n[1]))}function UZ(t,n){if(t.geometry&&t.geometry.type)return t.geometry.type;if(t.type)return t.type;throw new Error("Invalid GeoJSON object for "+n)}function EZ(t){for(var n=t,e=[];n.parent;)e.unshift(n),n=n.parent;return e}var jZ={search:function(t,n,e,i){t.cleanDirty();var o=(i=i||{}).heuristic||jZ.heuristics.manhattan,l=i.closest||!1,s=new AZ((function(t){return t.f})),r=n;for(n.h=o(n,e),s.push(n);s.size()>0;){var a=s.pop();if(a===e)return EZ(a);a.closed=!0;for(var d=t.neighbors(a),c=0,u=d.length;c<u;++c){var p=d[c];if(!p.closed&&!p.isWall()){var h=a.g+p.getCost(a),m=p.visited;(!m||h<p.g)&&(p.visited=!0,p.parent=a,p.h=p.h||o(p,e),p.g=h,p.f=p.g+p.h,t.markDirty(p),l&&(p.h<r.h||p.h===r.h&&p.g<r.g)&&(r=p),m?s.rescoreElement(p):s.push(p))}}}return l?EZ(r):[]},heuristics:{manhattan:function(t,n){return Math.abs(n.x-t.x)+Math.abs(n.y-t.y)},diagonal:function(t,n){var e=Math.sqrt(2),i=Math.abs(n.x-t.x),o=Math.abs(n.y-t.y);return 1*(i+o)+(e-2)*Math.min(i,o)}},cleanNode:function(t){t.f=0,t.g=0,t.h=0,t.visited=!1,t.closed=!1,t.parent=null}};function QZ(t,n){n=n||{},this.nodes=[],this.diagonal=!!n.diagonal,this.grid=[];for(var e=0;e<t.length;e++){this.grid[e]=[];for(var i=0,o=t[e];i<o.length;i++){var l=new OZ(e,i,o[i]);this.grid[e][i]=l,this.nodes.push(l)}}this.init()}function OZ(t,n,e){this.x=t,this.y=n,this.weight=e}function AZ(t){this.content=[],this.scoreFunction=t}function DZ(t,n){for(var e=0;e<n.features.length;e++)if($d(t,n.features[e]))return!0;return!1}function qZ(t){return function(){return t}}function $Z(t){return t[0]}function tX(t){return t[1]}function nX(){this._=null}function eX(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function iX(t,n){var e=n,i=n.R,o=e.U;o?o.L===e?o.L=i:o.R=i:t._=i,i.U=o,e.U=i,e.R=i.L,e.R&&(e.R.U=e),i.L=e}function oX(t,n){var e=n,i=n.L,o=e.U;o?o.L===e?o.L=i:o.R=i:t._=i,i.U=o,e.U=i,e.L=i.R,e.L&&(e.L.U=e),i.R=e}function lX(t){for(;t.L;)t=t.L;return t}function sX(t,n,e,i){var o=[null,null],l=HX.push(o)-1;return o.left=t,o.right=n,e&&aX(o,t,n,e),i&&aX(o,n,t,i),RX[t.index].halfedges.push(l),RX[n.index].halfedges.push(l),o}function rX(t,n,e){var i=[n,e];return i.left=t,i}function aX(t,n,e,i){t[0]||t[1]?t.left===e?t[1]=i:t[0]=i:(t[0]=i,t.left=n,t.right=e)}function dX(t,n,e,i,o){var l,s=t[0],r=t[1],a=s[0],d=s[1],c=0,u=1,p=r[0]-a,h=r[1]-d;if(l=n-a,p||!(l>0)){if(l/=p,p<0){if(l<c)return;l<u&&(u=l)}else if(p>0){if(l>u)return;l>c&&(c=l)}if(l=i-a,p||!(l<0)){if(l/=p,p<0){if(l>u)return;l>c&&(c=l)}else if(p>0){if(l<c)return;l<u&&(u=l)}if(l=e-d,h||!(l>0)){if(l/=h,h<0){if(l<c)return;l<u&&(u=l)}else if(h>0){if(l>u)return;l>c&&(c=l)}if(l=o-d,h||!(l<0)){if(l/=h,h<0){if(l>u)return;l>c&&(c=l)}else if(h>0){if(l<c)return;l<u&&(u=l)}return!(c>0||u<1)||(c>0&&(t[0]=[a+c*p,d+c*h]),u<1&&(t[1]=[a+u*p,d+u*h]),!0)}}}}}function cX(t,n,e,i,o){var l=t[1];if(l)return!0;var s,r,a=t[0],d=t.left,c=t.right,u=d[0],p=d[1],h=c[0],m=c[1],b=(u+h)/2,y=(p+m)/2;if(m===p){if(b<n||b>=i)return;if(u>h){if(a){if(a[1]>=o)return}else a=[b,e];l=[b,o]}else{if(a){if(a[1]<e)return}else a=[b,o];l=[b,e]}}else if(r=y-(s=(u-h)/(m-p))*b,s<-1||s>1)if(u>h){if(a){if(a[1]>=o)return}else a=[(e-r)/s,e];l=[(o-r)/s,o]}else{if(a){if(a[1]<e)return}else a=[(o-r)/s,o];l=[(e-r)/s,e]}else if(p<m){if(a){if(a[0]>=i)return}else a=[n,s*n+r];l=[i,s*i+r]}else{if(a){if(a[0]<n)return}else a=[i,s*i+r];l=[n,s*n+r]}return t[0]=a,t[1]=l,!0}function uX(t,n){var e=t.site,i=n.left,o=n.right;return e===o&&(o=i,i=e),o?Math.atan2(o[1]-i[1],o[0]-i[0]):(e===i?(i=n[1],o=n[0]):(i=n[0],o=n[1]),Math.atan2(i[0]-o[0],o[1]-i[1]))}function pX(t,n){return n[+(n.left!==t.site)]}function hX(t,n){return n[+(n.left===t.site)]}QZ.prototype.init=function(){this.dirtyNodes=[];for(var t=0;t<this.nodes.length;t++)jZ.cleanNode(this.nodes[t])},QZ.prototype.cleanDirty=function(){for(var t=0;t<this.dirtyNodes.length;t++)jZ.cleanNode(this.dirtyNodes[t]);this.dirtyNodes=[]},QZ.prototype.markDirty=function(t){this.dirtyNodes.push(t)},QZ.prototype.neighbors=function(t){var n=[],e=t.x,i=t.y,o=this.grid;return o[e-1]&&o[e-1][i]&&n.push(o[e-1][i]),o[e+1]&&o[e+1][i]&&n.push(o[e+1][i]),o[e]&&o[e][i-1]&&n.push(o[e][i-1]),o[e]&&o[e][i+1]&&n.push(o[e][i+1]),this.diagonal&&(o[e-1]&&o[e-1][i-1]&&n.push(o[e-1][i-1]),o[e+1]&&o[e+1][i-1]&&n.push(o[e+1][i-1]),o[e-1]&&o[e-1][i+1]&&n.push(o[e-1][i+1]),o[e+1]&&o[e+1][i+1]&&n.push(o[e+1][i+1])),n},QZ.prototype.toString=function(){for(var t,n,e,i,o=[],l=this.grid,s=0,r=l.length;s<r;s++){for(t=[],e=0,i=(n=l[s]).length;e<i;e++)t.push(n[e].weight);o.push(t.join(" "))}return o.join("\n")},OZ.prototype.toString=function(){return"["+this.x+" "+this.y+"]"},OZ.prototype.getCost=function(t){return t&&t.x!==this.x&&t.y!==this.y?1.41421*this.weight:this.weight},OZ.prototype.isWall=function(){return 0===this.weight},AZ.prototype={push:function(t){this.content.push(t),this.sinkDown(this.content.length-1)},pop:function(){var t=this.content[0],n=this.content.pop();return this.content.length>0&&(this.content[0]=n,this.bubbleUp(0)),t},remove:function(t){var n=this.content.indexOf(t),e=this.content.pop();n!==this.content.length-1&&(this.content[n]=e,this.scoreFunction(e)<this.scoreFunction(t)?this.sinkDown(n):this.bubbleUp(n))},size:function(){return this.content.length},rescoreElement:function(t){this.sinkDown(this.content.indexOf(t))},sinkDown:function(t){for(var n=this.content[t];t>0;){var e=(t+1>>1)-1,i=this.content[e];if(!(this.scoreFunction(n)<this.scoreFunction(i)))break;this.content[e]=n,this.content[t]=i,t=e}},bubbleUp:function(t){for(var n=this.content.length,e=this.content[t],i=this.scoreFunction(e);;){var o,l=t+1<<1,s=l-1,r=null;if(s<n){var a=this.content[s];(o=this.scoreFunction(a))<i&&(r=s)}if(l<n){var d=this.content[l];this.scoreFunction(d)<(null===r?i:o)&&(r=l)}if(null===r)break;this.content[t]=this.content[r],this.content[r]=e,t=r}}},nX.prototype={constructor:nX,insert:function(t,n){var e,i,o;if(t){if(n.P=t,n.N=t.N,t.N&&(t.N.P=n),t.N=n,t.R){for(t=t.R;t.L;)t=t.L;t.L=n}else t.R=n;e=t}else this._?(t=lX(this._),n.P=null,n.N=t,t.P=t.L=n,e=t):(n.P=n.N=null,this._=n,e=null);for(n.L=n.R=null,n.U=e,n.C=!0,t=n;e&&e.C;)e===(i=e.U).L?(o=i.R)&&o.C?(e.C=o.C=!1,i.C=!0,t=i):(t===e.R&&(iX(this,e),e=(t=e).U),e.C=!1,i.C=!0,oX(this,i)):(o=i.L)&&o.C?(e.C=o.C=!1,i.C=!0,t=i):(t===e.L&&(oX(this,e),e=(t=e).U),e.C=!1,i.C=!0,iX(this,i)),e=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var n,e,i,o=t.U,l=t.L,s=t.R;if(e=l?s?lX(s):l:s,o?o.L===t?o.L=e:o.R=e:this._=e,l&&s?(i=e.C,e.C=t.C,e.L=l,l.U=e,e!==s?(o=e.U,e.U=t.U,t=e.R,o.L=t,e.R=s,s.U=e):(e.U=o,o=e,t=e.R)):(i=t.C,t=e),t&&(t.U=o),!i)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===o.L){if((n=o.R).C&&(n.C=!1,o.C=!0,iX(this,o),n=o.R),n.L&&n.L.C||n.R&&n.R.C){n.R&&n.R.C||(n.L.C=!1,n.C=!0,oX(this,n),n=o.R),n.C=o.C,o.C=n.R.C=!1,iX(this,o),t=this._;break}}else if((n=o.L).C&&(n.C=!1,o.C=!0,oX(this,o),n=o.L),n.L&&n.L.C||n.R&&n.R.C){n.L&&n.L.C||(n.R.C=!1,n.C=!0,iX(this,n),n=o.L),n.C=o.C,o.C=n.L.C=!1,oX(this,o),t=this._;break}n.C=!0,t=o,o=o.U}while(!t.C);t&&(t.C=!1)}}};var mX,bX=[];function yX(){eX(this),this.x=this.y=this.arc=this.site=this.cy=null}function ZX(t){var n=t.P,e=t.N;if(n&&e){var i=n.site,o=t.site,l=e.site;if(i!==l){var s=o[0],r=o[1],a=i[0]-s,d=i[1]-r,c=l[0]-s,u=l[1]-r,p=2*(a*u-d*c);if(!(p>=-YX)){var h=a*a+d*d,m=c*c+u*u,b=(u*h-d*m)/p,y=(a*m-c*h)/p,Z=bX.pop()||new yX;Z.arc=t,Z.site=o,Z.x=b+s,Z.y=(Z.cy=y+r)+Math.sqrt(b*b+y*y),t.circle=Z;for(var X=null,f=KX._;f;)if(Z.y<f.y||Z.y===f.y&&Z.x<=f.x){if(!f.L){X=f.P;break}f=f.L}else{if(!f.R){X=f;break}f=f.R}KX.insert(X,Z),X||(mX=Z)}}}}function XX(t){var n=t.circle;n&&(n.P||(mX=n.N),KX.remove(n),bX.push(n),eX(n),t.circle=null)}var fX=[];function GX(){eX(this),this.edge=this.site=this.circle=null}function WX(t){var n=fX.pop()||new GX;return n.site=t,n}function gX(t){XX(t),LX.remove(t),fX.push(t),eX(t)}function vX(t){var n=t.circle,e=n.x,i=n.cy,o=[e,i],l=t.P,s=t.N,r=[t];gX(t);for(var a=l;a.circle&&Math.abs(e-a.circle.x)<CX&&Math.abs(i-a.circle.cy)<CX;)l=a.P,r.unshift(a),gX(a),a=l;r.unshift(a),XX(a);for(var d=s;d.circle&&Math.abs(e-d.circle.x)<CX&&Math.abs(i-d.circle.cy)<CX;)s=d.N,r.push(d),gX(d),d=s;r.push(d),XX(d);var c,u=r.length;for(c=1;c<u;++c)d=r[c],a=r[c-1],aX(d.edge,a.site,d.site,o);a=r[0],(d=r[u-1]).edge=sX(a.site,d.site,null,o),ZX(a),ZX(d)}function VX(t){for(var n,e,i,o,l=t[0],s=t[1],r=LX._;r;)if((i=xX(r,s)-l)>CX)r=r.L;else{if(!((o=l-SX(r,s))>CX)){i>-CX?(n=r.P,e=r):o>-CX?(n=r,e=r.N):n=e=r;break}if(!r.R){n=r;break}r=r.R}!function(t){RX[t.index]={site:t,halfedges:[]}}(t);var a=WX(t);if(LX.insert(n,a),n||e){if(n===e)return XX(n),e=WX(n.site),LX.insert(a,e),a.edge=e.edge=sX(n.site,a.site),ZX(n),void ZX(e);if(e){XX(n),XX(e);var d=n.site,c=d[0],u=d[1],p=t[0]-c,h=t[1]-u,m=e.site,b=m[0]-c,y=m[1]-u,Z=2*(p*y-h*b),X=p*p+h*h,f=b*b+y*y,G=[(y*X-h*f)/Z+c,(p*f-b*X)/Z+u];aX(e.edge,d,m,G),a.edge=sX(d,t,null,G),e.edge=sX(t,m,null,G),ZX(n),ZX(e)}else a.edge=sX(n.site,a.site)}}function xX(t,n){var e=t.site,i=e[0],o=e[1],l=o-n;if(!l)return i;var s=t.P;if(!s)return-1/0;var r=(e=s.site)[0],a=e[1],d=a-n;if(!d)return r;var c=r-i,u=1/l-1/d,p=c/d;return u?(-p+Math.sqrt(p*p-2*u*(c*c/(-2*d)-a+d/2+o-l/2)))/u+i:(i+r)/2}function SX(t,n){var e=t.N;if(e)return xX(e,n);var i=t.site;return i[1]===n?i[0]:1/0}var LX,RX,KX,HX,CX=1e-6,YX=1e-12;function TX(t,n){return n[1]-t[1]||n[0]-t[0]}function MX(t,n){var e,i,o,l=t.sort(TX).pop();for(HX=[],RX=new Array(t.length),LX=new nX,KX=new nX;;)if(o=mX,l&&(!o||l[1]<o.y||l[1]===o.y&&l[0]<o.x))l[0]===e&&l[1]===i||(VX(l),e=l[0],i=l[1]),l=t.pop();else{if(!o)break;vX(o.arc)}if(function(){for(var t,n,e,i,o=0,l=RX.length;o<l;++o)if((t=RX[o])&&(i=(n=t.halfedges).length)){var s=new Array(i),r=new Array(i);for(e=0;e<i;++e)s[e]=e,r[e]=uX(t,HX[n[e]]);for(s.sort((function(t,n){return r[n]-r[t]})),e=0;e<i;++e)r[e]=n[s[e]];for(e=0;e<i;++e)n[e]=r[e]}}(),n){var s=+n[0][0],r=+n[0][1],a=+n[1][0],d=+n[1][1];!function(t,n,e,i){for(var o,l=HX.length;l--;)cX(o=HX[l],t,n,e,i)&&dX(o,t,n,e,i)&&(Math.abs(o[0][0]-o[1][0])>CX||Math.abs(o[0][1]-o[1][1])>CX)||delete HX[l]}(s,r,a,d),function(t,n,e,i){var o,l,s,r,a,d,c,u,p,h,m,b,y=RX.length,Z=!0;for(o=0;o<y;++o)if(l=RX[o]){for(s=l.site,r=(a=l.halfedges).length;r--;)HX[a[r]]||a.splice(r,1);for(r=0,d=a.length;r<d;)m=(h=hX(l,HX[a[r]]))[0],b=h[1],u=(c=pX(l,HX[a[++r%d]]))[0],p=c[1],(Math.abs(m-u)>CX||Math.abs(b-p)>CX)&&(a.splice(r,0,HX.push(rX(s,h,Math.abs(m-t)<CX&&i-b>CX?[t,Math.abs(u-t)<CX?p:i]:Math.abs(b-i)<CX&&e-m>CX?[Math.abs(p-i)<CX?u:e,i]:Math.abs(m-e)<CX&&b-n>CX?[e,Math.abs(u-e)<CX?p:n]:Math.abs(b-n)<CX&&m-t>CX?[Math.abs(p-n)<CX?u:t,n]:null))-1),++d);d&&(Z=!1)}if(Z){var X,f,G,W=1/0;for(o=0,Z=null;o<y;++o)(l=RX[o])&&(G=(X=(s=l.site)[0]-t)*X+(f=s[1]-n)*f)<W&&(W=G,Z=l);if(Z){var g=[t,n],v=[t,i],V=[e,i],x=[e,n];Z.halfedges.push(HX.push(rX(s=Z.site,g,v))-1,HX.push(rX(s,v,V))-1,HX.push(rX(s,V,x))-1,HX.push(rX(s,x,g))-1)}}for(o=0;o<y;++o)(l=RX[o])&&(l.halfedges.length||delete RX[o])}(s,r,a,d)}this.edges=HX,this.cells=RX,LX=KX=HX=RX=null}function wX(t){return(t=t.slice()).push(t[0]),ya([t])}function PX(t,n,e,i){var o=(i=i||{}).steps||64,l=i.units||"kilometers",s=i.angle||0,r=i.pivot||t,a=i.properties||t.properties||{};if(!t)throw new Error("center is required");if(!n)throw new Error("xSemiAxis is required");if(!e)throw new Error("ySemiAxis is required");if(!wa(i))throw new Error("options must be an object");if(!Ma(o))throw new Error("steps must be a number");if(!Ma(s))throw new Error("angle must be a number");var d=od(t);if("degrees"===l)var c=Ca(s);else n=Nb(t,n,90,{units:l}),e=Nb(t,e,0,{units:l}),n=od(n)[0]-d[0],e=od(e)[1]-d[1];for(var u=[],p=0;p<o;p+=1){var h=-360*p/o,m=n*e/Math.sqrt(Math.pow(e,2)+Math.pow(n,2)*Math.pow(IX(h),2)),b=n*e/Math.sqrt(Math.pow(n,2)+Math.pow(e,2)/Math.pow(IX(h),2));if(h<-90&&h>=-270&&(m=-m),h<-180&&h>=-360&&(b=-b),"degrees"===l){var y=m*Math.cos(c)+b*Math.sin(c),Z=b*Math.cos(c)-m*Math.sin(c);m=y,b=Z}u.push([m+d[0],b+d[1]])}return u.push(u[0]),"degrees"===l?ya([u],a):Ay(ya([u],a),s,{pivot:r})}function IX(t){var n=t*Math.PI/180;return Math.tan(n)}function zX(t,n){void 0===n&&(n={});var e=0,i=0,o=0;return Ea(t,(function(t,l,s){var r=n.weight?null==s?void 0:s[n.weight]:void 0;if(!Ma(r=null==r?1:r))throw new Error("weight value must be a number for feature index "+l);(r=Number(r))>0&&Ja(t,(function(t){e+=t[0]*r,i+=t[1]*r,o+=r}))})),ma([e/o,i/o],n.properties,n)}function JX(t,n,e,i,o){var l=i.tolerance||.001,s=0,r=0,a=0,d=0;if(Ba(e,(function(n){var e,i=null===(e=n.properties)||void 0===e?void 0:e.weight,o=null==i?1:i;if(!Ma(o=Number(o)))throw new Error("weight value must be a number");if(o>0){d+=1;var l=o*ec(n,t);0===l&&(l=1);var c=o/l;s+=n.geometry.coordinates[0]*c,r+=n.geometry.coordinates[1]*c,a+=c}})),d<1)throw new Error("no features to measure");var c=s/a,u=r/a;return 1===d||0===o||Math.abs(c-n[0])<l&&Math.abs(u-n[1])<l?ma([c,u],{medianCandidates:i.medianCandidates}):(i.medianCandidates.push([c,u]),JX([c,u],t,e,i,o-1))}function NX(t,n){return{x:t[0]-n[0],y:t[1]-n[1]}}function FX(t,n){var e=0,i=0;Ja(t,(function(o,l,s,r,a){a>e&&(e=a,i=l,n.push([]));var d=l-i,c=t.coordinates[a][d+1],u=o[0],p=o[1],h=c[0],m=c[1];n[a].push([.75*u+.25*h,.75*p+.25*m]),n[a].push([.25*u+.75*h,.25*p+.75*m])}),!0),n.forEach((function(t){t.push(t[0])}))}function kX(t,n){var e=0,i=0,o=0;Ja(t,(function(l,s,r,a,d){a>o&&(o=a,i=s,n.push([[]])),d>e&&(e=d,i=s,n[a].push([]));var c=s-i,u=t.coordinates[a][d][c+1],p=l[0],h=l[1],m=u[0],b=u[1];n[a][d].push([.75*p+.25*m,.75*h+.25*b]),n[a][d].push([.25*p+.75*m,.25*h+.75*b])}),!0),n.forEach((function(t){t.forEach((function(t){t.push(t[0])}))}))}function BX(t,n,e){void 0===e&&(e=2);var i=od(t),o=od(n),l=i[0]-o[0],s=i[1]-o[1];return 1===e?Math.abs(l)+Math.abs(s):Math.pow(Math.pow(l,e)+Math.pow(s,e),1/e)}function _X(t,n){var e=(n=n||{}).threshold||1e4,i=n.p||2,o=n.binary||!1,l=n.alpha||-1,s=n.standardization||!1,r=[];Ba(t,(function(t){r.push(fu(t))}));for(var a=[],d=0;d<r.length;d++)a[d]=[];for(d=0;d<r.length;d++)for(var c=d;c<r.length;c++){d===c&&(a[d][c]=0);var u=BX(r[d],r[c],i);a[d][c]=u,a[c][d]=u}for(d=0;d<r.length;d++)for(c=0;c<r.length;c++){0!==(u=a[d][c])&&(a[d][c]=o?u<=e?1:0:u<=e?Math.pow(u,l):0)}if(s)for(d=0;d<r.length;d++){var p=a[d].reduce((function(t,n){return t+n}),0);for(c=0;c<r.length;c++)a[d][c]=a[d][c]/p}return a}function UX(t){for(var n=0,e=0,i=t;e<i.length;e++){n+=i[e]}return n/t.length}function EX(t,n){return void 0===n&&(n={}),QX(t,"mercator",n)}function jX(t,n){return void 0===n&&(n={}),QX(t,"wgs84",n)}function QX(t,n,e){void 0===e&&(e={});var i=(e=e||{}).mutate;if(!t)throw new Error("geojson is required");return Array.isArray(t)&&Ma(t[0])?t="mercator"===n?OX(t):AX(t):(!0!==i&&(t=rc(t)),Ja(t,(function(t){var e="mercator"===n?OX(t):AX(t);t[0]=e[0],t[1]=e[1]}))),t}function OX(t){var n=Math.PI/180,e=6378137,i=20037508.342789244,o=Math.abs(t[0])<=180?t[0]:t[0]-360*function(t){return t<0?-1:t>0?1:0}(t[0]),l=[e*o*n,e*Math.log(Math.tan(.25*Math.PI+.5*t[1]*n))];return l[0]>i&&(l[0]=i),l[0]<-i&&(l[0]=-i),l[1]>i&&(l[1]=i),l[1]<-i&&(l[1]=-i),l}function AX(t){var n=180/Math.PI,e=6378137;return[t[0]*n/e,(.5*Math.PI-2*Math.atan(Math.exp(-t[1]/e)))*n]}MX.prototype={constructor:MX,polygons:function(){var t=this.edges;return this.cells.map((function(n){var e=n.halfedges.map((function(e){return pX(n,t[e])}));return e.data=n.site.data,e}))},triangles:function(){var t=[],n=this.edges;return this.cells.forEach((function(e,i){if(l=(o=e.halfedges).length)for(var o,l,s,r,a,d,c=e.site,u=-1,p=n[o[l-1]],h=p.left===c?p.right:p.left;++u<l;)s=h,h=(p=n[o[u]]).left===c?p.right:p.left,s&&h&&i<s.index&&i<h.index&&(a=s,d=h,((r=c)[0]-d[0])*(a[1]-r[1])-(r[0]-a[0])*(d[1]-r[1])<0)&&t.push([c.data,s.data,h.data])})),t},links:function(){return this.edges.filter((function(t){return t.right})).map((function(t){return{source:t.left.data,target:t.right.data}}))},find:function(t,n,e){for(var i,o,l=this,s=l._found||0,r=l.cells.length;!(o=l.cells[s]);)if(++s>=r)return null;var a=t-o.site[0],d=n-o.site[1],c=a*a+d*d;do{o=l.cells[i=s],s=null,o.halfedges.forEach((function(e){var i=l.edges[e],r=i.left;if(r!==o.site&&r||(r=i.right)){var a=t-r[0],d=n-r[1],u=a*a+d*d;u<c&&(c=u,s=r.index)}}))}while(null!==s);return l._found=i,null==e||c<=e*e?o.site:null}};var DX=Object.freeze({__proto__:null,toMercator:EX,toWgs84:jX}),qX=function(){for(var t=0,n=0,e=arguments.length;n<e;n++)t+=arguments[n].length;var i=Array(t),o=0;for(n=0;n<e;n++)for(var l=arguments[n],s=0,r=l.length;s<r;s++,o++)i[o]=l[s];return i};function $X(t){return Array.isArray(t)?lf(t):t&&t.bbox?lf(t.bbox):[360*of(),180*of()]}function tf(t,n){void 0===n&&(n={}),null==t&&(t=1);for(var e=[],i=0;i<t;i++)e.push(ma($X(n.bbox)));return Ga(e)}function nf(t,n){void 0===n&&(n={}),null==t&&(t=1),Ma(n.num_vertices)&&void 0!==n.num_vertices||(n.num_vertices=10),Ma(n.max_radial_length)&&void 0!==n.max_radial_length||(n.max_radial_length=10);for(var e=[],i=function(t){var i,o=[],l=qX(Array(n.num_vertices+1)).map(Math.random);l.forEach((function(t,n,e){e[n]=n>0?t+e[n-1]:t})),l.forEach((function(t){t=2*t*Math.PI/l[l.length-1];var e=Math.random();o.push([e*(n.max_radial_length||10)*Math.sin(t),e*(n.max_radial_length||10)*Math.cos(t)])})),o[o.length-1]=o[0],o=o.map((i=$X(n.bbox),function(t){return[t[0]+i[0],t[1]+i[1]]})),e.push(ya([o]))},o=0;o<t;o++)i();return Ga(e)}function ef(t,n){if(void 0===n&&(n={}),!wa(n=n||{}))throw new Error("options is invalid");var e=n.bbox,i=n.num_vertices,o=n.max_length,l=n.max_rotation;null==t&&(t=1),(!Ma(i)||void 0===i||i<2)&&(i=10),Ma(o)&&void 0!==o||(o=1e-4),Ma(l)&&void 0!==l||(l=Math.PI/8);for(var s=[],r=0;r<t;r++){for(var a=[$X(e)],d=0;d<i-1;d++){var c=(0===d?2*Math.random()*Math.PI:Math.tan((a[d][1]-a[d-1][1])/(a[d][0]-a[d-1][0])))+(Math.random()-.5)*l*2,u=Math.random()*o;a.push([a[d][0]+u*Math.cos(c),a[d][1]+u*Math.sin(c)])}s.push(Xa(a))}return Ga(s)}function of(){return Math.random()-.5}function lf(t){return[Math.random()*(t[2]-t[0])+t[0],Math.random()*(t[3]-t[1])+t[1]]}var sf=Object.freeze({__proto__:null,randomPosition:$X,randomPoint:tf,randomPolygon:nf,randomLineString:ef});function rf(t,n){if(!t)throw new Error("geojson is required");if("FeatureCollection"!==t.type)throw new Error("geojson must be a FeatureCollection");if(null==n)throw new Error("filter is required");var e=[];return Ba(t,(function(t){uf(t.properties,n)&&e.push(t)})),Ga(e)}function af(t,n,e){if(!t)throw new Error("geojson is required");if("FeatureCollection"!==t.type)throw new Error("geojson must be a FeatureCollection");if(null==n)throw new Error("property is required");for(var i=cf(t,n),o=Object.keys(i),l=0;l<o.length;l++){for(var s=o[l],r=i[s],a=[],d=0;d<r.length;d++)a.push(t.features[r[d]]);e(Ga(a),s,l)}}function df(t,n,e,i){var o=i;return af(t,n,(function(t,n,l){o=0===l&&void 0===i?t:e(o,t,n,l)})),o}function cf(t,n){var e={};return Ba(t,(function(t,i){var o=t.properties||{};if(Object.prototype.hasOwnProperty.call(o,String(n))){var l=o[n];Object.prototype.hasOwnProperty.call(e,l)?e[l].push(i):e[l]=[i]}})),e}function uf(t,e){if(void 0===t)return!1;var i=n(e);if("number"===i||"string"===i)return Object.prototype.hasOwnProperty.call(t,e);if(Array.isArray(e)){for(var o=0;o<e.length;o++)if(!uf(t,e[o]))return!1;return!0}return pf(t,e)}function pf(t,n){for(var e=Object.keys(n),i=0;i<e.length;i++){var o=e[i];if(t[o]!==n[o])return!1}return!0}function hf(t,n){if(!n)return{};if(!n.length)return{};for(var e={},i=0;i<n.length;i++){var o=n[i];Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e}var mf=Object.freeze({__proto__:null,getCluster:rf,clusterEach:af,clusterReduce:df,createBins:cf,applyFilter:uf,propertiesContainsFilter:pf,filterProperties:hf}),bf=o((function(t,n){t.exports=function(){function t(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function n(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function e(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}
/**
       * splaytree v3.1.0
       * Fast Splay tree for Node and browser
       *
       * @author Alexander Milevski <info@w8r.name>
       * @license MIT
       * @preserve
       */var i=function(){function t(t,n){this.next=null,this.key=t,this.data=n,this.left=null,this.right=null}return t}();function o(t,n){return t>n?1:t<n?-1:0}function l(t,n,e){for(var o=new i(null,null),l=o,s=o;;){var r=e(t,n.key);if(r<0){if(null===n.left)break;if(e(t,n.left.key)<0){var a=n.left;if(n.left=a.right,a.right=n,null===(n=a).left)break}s.left=n,s=n,n=n.left}else{if(!(r>0))break;if(null===n.right)break;if(e(t,n.right.key)>0&&(a=n.right,n.right=a.left,a.left=n,null===(n=a).right))break;l.right=n,l=n,n=n.right}}return l.right=n.left,s.left=n.right,n.left=o.right,n.right=o.left,n}function s(t,n,e,o){var s=new i(t,n);if(null===e)return s.left=s.right=null,s;var r=o(t,(e=l(t,e,o)).key);return r<0?(s.left=e.left,s.right=e,e.left=null):r>=0&&(s.right=e.right,s.left=e,e.right=null),s}function r(t,n,e){var i=null,o=null;if(n){var s=e((n=l(t,n,e)).key,t);0===s?(i=n.left,o=n.right):s<0?(o=n.right,n.right=null,i=n):(i=n.left,n.left=null,o=n)}return{left:i,right:o}}function a(t,n,e){return null===n?t:(null===t||((n=l(t.key,n,e)).left=t),n)}function d(t,n,e,i,o){if(t){i(n+(e?"└── ":"├── ")+o(t)+"\n");var l=n+(e?"    ":"│   ");t.left&&d(t.left,l,!1,i,o),t.right&&d(t.right,l,!0,i,o)}}var c=function(){function t(t){void 0===t&&(t=o),this._root=null,this._size=0,this._comparator=t}return t.prototype.insert=function(t,n){return this._size++,this._root=s(t,n,this._root,this._comparator)},t.prototype.add=function(t,n){var e=new i(t,n);null===this._root&&(e.left=e.right=null,this._size++,this._root=e);var o=this._comparator,s=l(t,this._root,o),r=o(t,s.key);return 0===r?this._root=s:(r<0?(e.left=s.left,e.right=s,s.left=null):r>0&&(e.right=s.right,e.left=s,s.right=null),this._size++,this._root=e),this._root},t.prototype.remove=function(t){this._root=this._remove(t,this._root,this._comparator)},t.prototype._remove=function(t,n,e){var i;return null===n?null:0===e(t,(n=l(t,n,e)).key)?(null===n.left?i=n.right:(i=l(t,n.left,e)).right=n.right,this._size--,i):n},t.prototype.pop=function(){var t=this._root;if(t){for(;t.left;)t=t.left;return this._root=l(t.key,this._root,this._comparator),this._root=this._remove(t.key,this._root,this._comparator),{key:t.key,data:t.data}}return null},t.prototype.findStatic=function(t){for(var n=this._root,e=this._comparator;n;){var i=e(t,n.key);if(0===i)return n;n=i<0?n.left:n.right}return null},t.prototype.find=function(t){return this._root&&(this._root=l(t,this._root,this._comparator),0!==this._comparator(t,this._root.key))?null:this._root},t.prototype.contains=function(t){for(var n=this._root,e=this._comparator;n;){var i=e(t,n.key);if(0===i)return!0;n=i<0?n.left:n.right}return!1},t.prototype.forEach=function(t,n){for(var e=this._root,i=[],o=!1;!o;)null!==e?(i.push(e),e=e.left):0!==i.length?(e=i.pop(),t.call(n,e),e=e.right):o=!0;return this},t.prototype.range=function(t,n,e,i){for(var o=[],l=this._comparator,s=this._root;0!==o.length||s;)if(s)o.push(s),s=s.left;else{if(l((s=o.pop()).key,n)>0)break;if(l(s.key,t)>=0&&e.call(i,s))return this;s=s.right}return this},t.prototype.keys=function(){var t=[];return this.forEach((function(n){var e=n.key;return t.push(e)})),t},t.prototype.values=function(){var t=[];return this.forEach((function(n){var e=n.data;return t.push(e)})),t},t.prototype.min=function(){return this._root?this.minNode(this._root).key:null},t.prototype.max=function(){return this._root?this.maxNode(this._root).key:null},t.prototype.minNode=function(t){if(void 0===t&&(t=this._root),t)for(;t.left;)t=t.left;return t},t.prototype.maxNode=function(t){if(void 0===t&&(t=this._root),t)for(;t.right;)t=t.right;return t},t.prototype.at=function(t){for(var n=this._root,e=!1,i=0,o=[];!e;)if(n)o.push(n),n=n.left;else if(o.length>0){if(n=o.pop(),i===t)return n;i++,n=n.right}else e=!0;return null},t.prototype.next=function(t){var n=this._root,e=null;if(t.right){for(e=t.right;e.left;)e=e.left;return e}for(var i=this._comparator;n;){var o=i(t.key,n.key);if(0===o)break;o<0?(e=n,n=n.left):n=n.right}return e},t.prototype.prev=function(t){var n=this._root,e=null;if(null!==t.left){for(e=t.left;e.right;)e=e.right;return e}for(var i=this._comparator;n;){var o=i(t.key,n.key);if(0===o)break;o<0?n=n.left:(e=n,n=n.right)}return e},t.prototype.clear=function(){return this._root=null,this._size=0,this},t.prototype.toList=function(){return h(this._root)},t.prototype.load=function(t,n,e){void 0===n&&(n=[]),void 0===e&&(e=!1);var i=t.length,o=this._comparator;if(e&&y(t,n,0,i-1,o),null===this._root)this._root=u(t,n,0,i),this._size=i;else{var l=b(this.toList(),p(t,n),o);i=this._size+i,this._root=m({head:l},0,i)}return this},t.prototype.isEmpty=function(){return null===this._root},Object.defineProperty(t.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this._root},enumerable:!0,configurable:!0}),t.prototype.toString=function(t){void 0===t&&(t=function(t){return String(t.key)});var n=[];return d(this._root,"",!0,(function(t){return n.push(t)}),t),n.join("")},t.prototype.update=function(t,n,e){var i=this._comparator,o=r(t,this._root,i),l=o.left,d=o.right;i(t,n)<0?d=s(n,e,d,i):l=s(n,e,l,i),this._root=a(l,d,i)},t.prototype.split=function(t){return r(t,this._root,this._comparator)},t}();function u(t,n,e,o){var l=o-e;if(l>0){var s=e+Math.floor(l/2),r=t[s],a=n[s],d=new i(r,a);return d.left=u(t,n,e,s),d.right=u(t,n,s+1,o),d}return null}function p(t,n){for(var e=new i(null,null),o=e,l=0;l<t.length;l++)o=o.next=new i(t[l],n[l]);return o.next=null,e.next}function h(t){for(var n=t,e=[],o=!1,l=new i(null,null),s=l;!o;)n?(e.push(n),n=n.left):e.length>0?n=(n=s=s.next=e.pop()).right:o=!0;return s.next=null,l.next}function m(t,n,e){var i=e-n;if(i>0){var o=n+Math.floor(i/2),l=m(t,n,o),s=t.head;return s.left=l,t.head=t.head.next,s.right=m(t,o+1,e),s}return null}function b(t,n,e){for(var o=new i(null,null),l=o,s=t,r=n;null!==s&&null!==r;)e(s.key,r.key)<0?(l.next=s,s=s.next):(l.next=r,r=r.next),l=l.next;return null!==s?l.next=s:null!==r&&(l.next=r),o.next}function y(t,n,e,i,o){if(!(e>=i)){for(var l=t[e+i>>1],s=e-1,r=i+1;;){do{s++}while(o(t[s],l)<0);do{r--}while(o(t[r],l)>0);if(s>=r)break;var a=t[s];t[s]=t[r],t[r]=a,a=n[s],n[s]=n[r],n[r]=a}y(t,n,e,r,o),y(t,n,r+1,i,o)}}var Z=function(t,n){return t.ll.x<=n.x&&n.x<=t.ur.x&&t.ll.y<=n.y&&n.y<=t.ur.y},X=function(t,n){if(n.ur.x<t.ll.x||t.ur.x<n.ll.x||n.ur.y<t.ll.y||t.ur.y<n.ll.y)return null;var e=t.ll.x<n.ll.x?n.ll.x:t.ll.x,i=t.ur.x<n.ur.x?t.ur.x:n.ur.x;return{ll:{x:e,y:t.ll.y<n.ll.y?n.ll.y:t.ll.y},ur:{x:i,y:t.ur.y<n.ur.y?t.ur.y:n.ur.y}}},f=Number.EPSILON;void 0===f&&(f=Math.pow(2,-52));var G=f*f,W=function(t,n){if(-f<t&&t<f&&-f<n&&n<f)return 0;var e=t-n;return e*e<G*t*n?0:t<n?-1:1},g=function(){function n(){t(this,n),this.reset()}return e(n,[{key:"reset",value:function(){this.xRounder=new v,this.yRounder=new v}},{key:"round",value:function(t,n){return{x:this.xRounder.round(t),y:this.yRounder.round(n)}}}]),n}(),v=function(){function n(){t(this,n),this.tree=new c,this.round(0)}return e(n,[{key:"round",value:function(t){var n=this.tree.add(t),e=this.tree.prev(n);if(null!==e&&0===W(n.key,e.key))return this.tree.remove(t),e.key;var i=this.tree.next(n);return null!==i&&0===W(n.key,i.key)?(this.tree.remove(t),i.key):t}}]),n}(),V=new g,x=function(t,n){return t.x*n.y-t.y*n.x},S=function(t,n){return t.x*n.x+t.y*n.y},L=function(t,n,e){var i={x:n.x-t.x,y:n.y-t.y},o={x:e.x-t.x,y:e.y-t.y},l=x(i,o);return W(l,0)},R=function(t){return Math.sqrt(S(t,t))},K=function(t,n,e){var i={x:n.x-t.x,y:n.y-t.y},o={x:e.x-t.x,y:e.y-t.y};return x(o,i)/R(o)/R(i)},H=function(t,n,e){var i={x:n.x-t.x,y:n.y-t.y},o={x:e.x-t.x,y:e.y-t.y};return S(o,i)/R(o)/R(i)},C=function(t,n,e){return 0===n.y?null:{x:t.x+n.x/n.y*(e-t.y),y:e}},Y=function(t,n,e){return 0===n.x?null:{x:e,y:t.y+n.y/n.x*(e-t.x)}},T=function(t,n,e,i){if(0===n.x)return Y(e,i,t.x);if(0===i.x)return Y(t,n,e.x);if(0===n.y)return C(e,i,t.y);if(0===i.y)return C(t,n,e.y);var o=x(n,i);if(0==o)return null;var l={x:e.x-t.x,y:e.y-t.y},s=x(l,n)/o,r=x(l,i)/o;return{x:(t.x+r*n.x+(e.x+s*i.x))/2,y:(t.y+r*n.y+(e.y+s*i.y))/2}},M=function(){function n(e,i){t(this,n),void 0===e.events?e.events=[this]:e.events.push(this),this.point=e,this.isLeft=i}return e(n,null,[{key:"compare",value:function(t,e){var i=n.comparePoints(t.point,e.point);return 0!==i?i:(t.point!==e.point&&t.link(e),t.isLeft!==e.isLeft?t.isLeft?1:-1:P.compare(t.segment,e.segment))}},{key:"comparePoints",value:function(t,n){return t.x<n.x?-1:t.x>n.x?1:t.y<n.y?-1:t.y>n.y?1:0}}]),e(n,[{key:"link",value:function(t){if(t.point===this.point)throw new Error("Tried to link already linked events");for(var n=t.point.events,e=0,i=n.length;e<i;e++){var o=n[e];this.point.events.push(o),o.point=this.point}this.checkForConsuming()}},{key:"checkForConsuming",value:function(){for(var t=this.point.events.length,n=0;n<t;n++){var e=this.point.events[n];if(void 0===e.segment.consumedBy)for(var i=n+1;i<t;i++){var o=this.point.events[i];void 0===o.consumedBy&&e.otherSE.point.events===o.otherSE.point.events&&e.segment.consume(o.segment)}}}},{key:"getAvailableLinkedEvents",value:function(){for(var t=[],n=0,e=this.point.events.length;n<e;n++){var i=this.point.events[n];i!==this&&!i.segment.ringOut&&i.segment.isInResult()&&t.push(i)}return t}},{key:"getLeftmostComparator",value:function(t){var n=this,e=new Map,i=function(i){var o=i.otherSE;e.set(i,{sine:K(n.point,t.point,o.point),cosine:H(n.point,t.point,o.point)})};return function(t,n){e.has(t)||i(t),e.has(n)||i(n);var o=e.get(t),l=o.sine,s=o.cosine,r=e.get(n),a=r.sine,d=r.cosine;return l>=0&&a>=0?s<d?1:s>d?-1:0:l<0&&a<0?s<d?-1:s>d?1:0:a<l?-1:a>l?1:0}}}]),n}(),w=0,P=function(){function n(e,i,o,l){t(this,n),this.id=++w,this.leftSE=e,e.segment=this,e.otherSE=i,this.rightSE=i,i.segment=this,i.otherSE=e,this.rings=o,this.windings=l}return e(n,null,[{key:"compare",value:function(t,n){var e=t.leftSE.point.x,i=n.leftSE.point.x,o=t.rightSE.point.x,l=n.rightSE.point.x;if(l<e)return 1;if(o<i)return-1;var s=t.leftSE.point.y,r=n.leftSE.point.y,a=t.rightSE.point.y,d=n.rightSE.point.y;if(e<i){if(r<s&&r<a)return 1;if(r>s&&r>a)return-1;var c=t.comparePoint(n.leftSE.point);if(c<0)return 1;if(c>0)return-1;var u=n.comparePoint(t.rightSE.point);return 0!==u?u:-1}if(e>i){if(s<r&&s<d)return-1;if(s>r&&s>d)return 1;var p=n.comparePoint(t.leftSE.point);if(0!==p)return p;var h=t.comparePoint(n.rightSE.point);return h<0?1:h>0?-1:1}if(s<r)return-1;if(s>r)return 1;if(o<l){var m=n.comparePoint(t.rightSE.point);if(0!==m)return m}if(o>l){var b=t.comparePoint(n.rightSE.point);if(b<0)return 1;if(b>0)return-1}if(o!==l){var y=a-s,Z=o-e,X=d-r,f=l-i;if(y>Z&&X<f)return 1;if(y<Z&&X>f)return-1}return o>l?1:o<l||a<d?-1:a>d?1:t.id<n.id?-1:t.id>n.id?1:0}}]),e(n,[{key:"replaceRightSE",value:function(t){this.rightSE=t,this.rightSE.segment=this,this.rightSE.otherSE=this.leftSE,this.leftSE.otherSE=this.rightSE}},{key:"bbox",value:function(){var t=this.leftSE.point.y,n=this.rightSE.point.y;return{ll:{x:this.leftSE.point.x,y:t<n?t:n},ur:{x:this.rightSE.point.x,y:t>n?t:n}}}},{key:"vector",value:function(){return{x:this.rightSE.point.x-this.leftSE.point.x,y:this.rightSE.point.y-this.leftSE.point.y}}},{key:"isAnEndpoint",value:function(t){return t.x===this.leftSE.point.x&&t.y===this.leftSE.point.y||t.x===this.rightSE.point.x&&t.y===this.rightSE.point.y}},{key:"comparePoint",value:function(t){if(this.isAnEndpoint(t))return 0;var n=this.leftSE.point,e=this.rightSE.point,i=this.vector();if(n.x===e.x)return t.x===n.x?0:t.x<n.x?1:-1;var o=(t.y-n.y)/i.y,l=n.x+o*i.x;if(t.x===l)return 0;var s=(t.x-n.x)/i.x,r=n.y+s*i.y;return t.y===r?0:t.y<r?-1:1}},{key:"getIntersection",value:function(t){var n=this.bbox(),e=t.bbox(),i=X(n,e);if(null===i)return null;var o=this.leftSE.point,l=this.rightSE.point,s=t.leftSE.point,r=t.rightSE.point,a=Z(n,s)&&0===this.comparePoint(s),d=Z(e,o)&&0===t.comparePoint(o),c=Z(n,r)&&0===this.comparePoint(r),u=Z(e,l)&&0===t.comparePoint(l);if(d&&a)return u&&!c?l:!u&&c?r:null;if(d)return c&&o.x===r.x&&o.y===r.y?null:o;if(a)return u&&l.x===s.x&&l.y===s.y?null:s;if(u&&c)return null;if(u)return l;if(c)return r;var p=T(o,this.vector(),s,t.vector());return null===p?null:Z(i,p)?V.round(p.x,p.y):null}},{key:"split",value:function(t){var e=[],i=void 0!==t.events,o=new M(t,!0),l=new M(t,!1),s=this.rightSE;this.replaceRightSE(l),e.push(l),e.push(o);var r=new n(o,s,this.rings.slice(),this.windings.slice());return M.comparePoints(r.leftSE.point,r.rightSE.point)>0&&r.swapEvents(),M.comparePoints(this.leftSE.point,this.rightSE.point)>0&&this.swapEvents(),i&&(o.checkForConsuming(),l.checkForConsuming()),e}},{key:"swapEvents",value:function(){var t=this.rightSE;this.rightSE=this.leftSE,this.leftSE=t,this.leftSE.isLeft=!0,this.rightSE.isLeft=!1;for(var n=0,e=this.windings.length;n<e;n++)this.windings[n]*=-1}},{key:"consume",value:function(t){for(var e=this,i=t;e.consumedBy;)e=e.consumedBy;for(;i.consumedBy;)i=i.consumedBy;var o=n.compare(e,i);if(0!==o){if(o>0){var l=e;e=i,i=l}if(e.prev===i){var s=e;e=i,i=s}for(var r=0,a=i.rings.length;r<a;r++){var d=i.rings[r],c=i.windings[r],u=e.rings.indexOf(d);-1===u?(e.rings.push(d),e.windings.push(c)):e.windings[u]+=c}i.rings=null,i.windings=null,i.consumedBy=e,i.leftSE.consumedBy=e.leftSE,i.rightSE.consumedBy=e.rightSE}}},{key:"prevInResult",value:function(){return void 0!==this._prevInResult||(this.prev?this.prev.isInResult()?this._prevInResult=this.prev:this._prevInResult=this.prev.prevInResult():this._prevInResult=null),this._prevInResult}},{key:"beforeState",value:function(){if(void 0!==this._beforeState)return this._beforeState;if(this.prev){var t=this.prev.consumedBy||this.prev;this._beforeState=t.afterState()}else this._beforeState={rings:[],windings:[],multiPolys:[]};return this._beforeState}},{key:"afterState",value:function(){if(void 0!==this._afterState)return this._afterState;var t=this.beforeState();this._afterState={rings:t.rings.slice(0),windings:t.windings.slice(0),multiPolys:[]};for(var n=this._afterState.rings,e=this._afterState.windings,i=this._afterState.multiPolys,o=0,l=this.rings.length;o<l;o++){var s=this.rings[o],r=this.windings[o],a=n.indexOf(s);-1===a?(n.push(s),e.push(r)):e[a]+=r}for(var d=[],c=[],u=0,p=n.length;u<p;u++)if(0!==e[u]){var h=n[u],m=h.poly;if(-1===c.indexOf(m))if(h.isExterior)d.push(m);else{-1===c.indexOf(m)&&c.push(m);var b=d.indexOf(h.poly);-1!==b&&d.splice(b,1)}}for(var y=0,Z=d.length;y<Z;y++){var X=d[y].multiPoly;-1===i.indexOf(X)&&i.push(X)}return this._afterState}},{key:"isInResult",value:function(){if(this.consumedBy)return!1;if(void 0!==this._isInResult)return this._isInResult;var t=this.beforeState().multiPolys,n=this.afterState().multiPolys;switch(j.type){case"union":var e=0===t.length,i=0===n.length;this._isInResult=e!==i;break;case"intersection":var o,l;t.length<n.length?(o=t.length,l=n.length):(o=n.length,l=t.length),this._isInResult=l===j.numMultiPolys&&o<l;break;case"xor":var s=Math.abs(t.length-n.length);this._isInResult=s%2==1;break;case"difference":var r=function(t){return 1===t.length&&t[0].isSubject};this._isInResult=r(t)!==r(n);break;default:throw new Error("Unrecognized operation type found ".concat(j.type))}return this._isInResult}}],[{key:"fromRing",value:function(t,e,i){var o,l,s,r=M.comparePoints(t,e);if(r<0)o=t,l=e,s=1;else{if(!(r>0))throw new Error("Tried to create degenerate segment at [".concat(t.x,", ").concat(t.y,"]"));o=e,l=t,s=-1}return new n(new M(o,!0),new M(l,!1),[i],[s])}}]),n}(),I=function(){function n(e,i,o){if(t(this,n),!Array.isArray(e)||0===e.length)throw new Error("Input geometry is not a valid Polygon or MultiPolygon");if(this.poly=i,this.isExterior=o,this.segments=[],"number"!=typeof e[0][0]||"number"!=typeof e[0][1])throw new Error("Input geometry is not a valid Polygon or MultiPolygon");var l=V.round(e[0][0],e[0][1]);this.bbox={ll:{x:l.x,y:l.y},ur:{x:l.x,y:l.y}};for(var s=l,r=1,a=e.length;r<a;r++){if("number"!=typeof e[r][0]||"number"!=typeof e[r][1])throw new Error("Input geometry is not a valid Polygon or MultiPolygon");var d=V.round(e[r][0],e[r][1]);d.x===s.x&&d.y===s.y||(this.segments.push(P.fromRing(s,d,this)),d.x<this.bbox.ll.x&&(this.bbox.ll.x=d.x),d.y<this.bbox.ll.y&&(this.bbox.ll.y=d.y),d.x>this.bbox.ur.x&&(this.bbox.ur.x=d.x),d.y>this.bbox.ur.y&&(this.bbox.ur.y=d.y),s=d)}l.x===s.x&&l.y===s.y||this.segments.push(P.fromRing(s,l,this))}return e(n,[{key:"getSweepEvents",value:function(){for(var t=[],n=0,e=this.segments.length;n<e;n++){var i=this.segments[n];t.push(i.leftSE),t.push(i.rightSE)}return t}}]),n}(),z=function(){function n(e,i){if(t(this,n),!Array.isArray(e))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");this.exteriorRing=new I(e[0],this,!0),this.bbox={ll:{x:this.exteriorRing.bbox.ll.x,y:this.exteriorRing.bbox.ll.y},ur:{x:this.exteriorRing.bbox.ur.x,y:this.exteriorRing.bbox.ur.y}},this.interiorRings=[];for(var o=1,l=e.length;o<l;o++){var s=new I(e[o],this,!1);s.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=s.bbox.ll.x),s.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=s.bbox.ll.y),s.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=s.bbox.ur.x),s.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=s.bbox.ur.y),this.interiorRings.push(s)}this.multiPoly=i}return e(n,[{key:"getSweepEvents",value:function(){for(var t=this.exteriorRing.getSweepEvents(),n=0,e=this.interiorRings.length;n<e;n++)for(var i=this.interiorRings[n].getSweepEvents(),o=0,l=i.length;o<l;o++)t.push(i[o]);return t}}]),n}(),J=function(){function n(e,i){if(t(this,n),!Array.isArray(e))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");try{"number"==typeof e[0][0][0]&&(e=[e])}catch(t){}this.polys=[],this.bbox={ll:{x:Number.POSITIVE_INFINITY,y:Number.POSITIVE_INFINITY},ur:{x:Number.NEGATIVE_INFINITY,y:Number.NEGATIVE_INFINITY}};for(var o=0,l=e.length;o<l;o++){var s=new z(e[o],this);s.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=s.bbox.ll.x),s.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=s.bbox.ll.y),s.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=s.bbox.ur.x),s.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=s.bbox.ur.y),this.polys.push(s)}this.isSubject=i}return e(n,[{key:"getSweepEvents",value:function(){for(var t=[],n=0,e=this.polys.length;n<e;n++)for(var i=this.polys[n].getSweepEvents(),o=0,l=i.length;o<l;o++)t.push(i[o]);return t}}]),n}(),N=function(){function n(e){t(this,n),this.events=e;for(var i=0,o=e.length;i<o;i++)e[i].segment.ringOut=this;this.poly=null}return e(n,null,[{key:"factory",value:function(t){for(var e=[],i=0,o=t.length;i<o;i++){var l=t[i];if(l.isInResult()&&!l.ringOut){for(var s=null,r=l.leftSE,a=l.rightSE,d=[r],c=r.point,u=[];s=r,r=a,d.push(r),r.point!==c;)for(;;){var p=r.getAvailableLinkedEvents();if(0===p.length){var h=d[0].point,m=d[d.length-1].point;throw new Error("Unable to complete output ring starting at [".concat(h.x,",")+" ".concat(h.y,"]. Last matching segment found ends at")+" [".concat(m.x,", ").concat(m.y,"]."))}if(1===p.length){a=p[0].otherSE;break}for(var b=null,y=0,Z=u.length;y<Z;y++)if(u[y].point===r.point){b=y;break}if(null===b){u.push({index:d.length,point:r.point});var X=r.getLeftmostComparator(s);a=p.sort(X)[0].otherSE;break}var f=u.splice(b)[0],G=d.splice(f.index);G.unshift(G[0].otherSE),e.push(new n(G.reverse()))}e.push(new n(d))}}return e}}]),e(n,[{key:"getGeom",value:function(){for(var t=this.events[0].point,n=[t],e=1,i=this.events.length-1;e<i;e++){var o=this.events[e].point,l=this.events[e+1].point;0!==L(o,t,l)&&(n.push(o),t=o)}if(1===n.length)return null;var s=n[0],r=n[1];0===L(s,t,r)&&n.shift(),n.push(n[0]);for(var a=this.isExteriorRing()?1:-1,d=this.isExteriorRing()?0:n.length-1,c=this.isExteriorRing()?n.length:-1,u=[],p=d;p!=c;p+=a)u.push([n[p].x,n[p].y]);return u}},{key:"isExteriorRing",value:function(){if(void 0===this._isExteriorRing){var t=this.enclosingRing();this._isExteriorRing=!t||!t.isExteriorRing()}return this._isExteriorRing}},{key:"enclosingRing",value:function(){return void 0===this._enclosingRing&&(this._enclosingRing=this._calcEnclosingRing()),this._enclosingRing}},{key:"_calcEnclosingRing",value:function(){for(var t=this.events[0],n=1,e=this.events.length;n<e;n++){var i=this.events[n];M.compare(t,i)>0&&(t=i)}for(var o=t.segment.prevInResult(),l=o?o.prevInResult():null;;){if(!o)return null;if(!l)return o.ringOut;if(l.ringOut!==o.ringOut)return l.ringOut.enclosingRing()!==o.ringOut?o.ringOut:o.ringOut.enclosingRing();o=l.prevInResult(),l=o?o.prevInResult():null}}}]),n}(),F=function(){function n(e){t(this,n),this.exteriorRing=e,e.poly=this,this.interiorRings=[]}return e(n,[{key:"addInterior",value:function(t){this.interiorRings.push(t),t.poly=this}},{key:"getGeom",value:function(){var t=[this.exteriorRing.getGeom()];if(null===t[0])return null;for(var n=0,e=this.interiorRings.length;n<e;n++){var i=this.interiorRings[n].getGeom();null!==i&&t.push(i)}return t}}]),n}(),k=function(){function n(e){t(this,n),this.rings=e,this.polys=this._composePolys(e)}return e(n,[{key:"getGeom",value:function(){for(var t=[],n=0,e=this.polys.length;n<e;n++){var i=this.polys[n].getGeom();null!==i&&t.push(i)}return t}},{key:"_composePolys",value:function(t){for(var n=[],e=0,i=t.length;e<i;e++){var o=t[e];if(!o.poly)if(o.isExteriorRing())n.push(new F(o));else{var l=o.enclosingRing();l.poly||n.push(new F(l)),l.poly.addInterior(o)}}return n}}]),n}(),B=function(){function n(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:P.compare;t(this,n),this.queue=e,this.tree=new c(i),this.segments=[]}return e(n,[{key:"process",value:function(t){var n=t.segment,e=[];if(t.consumedBy)return t.isLeft?this.queue.remove(t.otherSE):this.tree.remove(n),e;var i=t.isLeft?this.tree.insert(n):this.tree.find(n);if(!i)throw new Error("Unable to find segment #".concat(n.id," ")+"[".concat(n.leftSE.point.x,", ").concat(n.leftSE.point.y,"] -> ")+"[".concat(n.rightSE.point.x,", ").concat(n.rightSE.point.y,"] ")+"in SweepLine tree. Please submit a bug report.");for(var o=i,l=i,s=void 0,r=void 0;void 0===s;)null===(o=this.tree.prev(o))?s=null:void 0===o.key.consumedBy&&(s=o.key);for(;void 0===r;)null===(l=this.tree.next(l))?r=null:void 0===l.key.consumedBy&&(r=l.key);if(t.isLeft){var a=null;if(s){var d=s.getIntersection(n);if(null!==d&&(n.isAnEndpoint(d)||(a=d),!s.isAnEndpoint(d)))for(var c=this._splitSafely(s,d),u=0,p=c.length;u<p;u++)e.push(c[u])}var h=null;if(r){var m=r.getIntersection(n);if(null!==m&&(n.isAnEndpoint(m)||(h=m),!r.isAnEndpoint(m)))for(var b=this._splitSafely(r,m),y=0,Z=b.length;y<Z;y++)e.push(b[y])}if(null!==a||null!==h){var X=null;X=null===a?h:null===h||M.comparePoints(a,h)<=0?a:h,this.queue.remove(n.rightSE),e.push(n.rightSE);for(var f=n.split(X),G=0,W=f.length;G<W;G++)e.push(f[G])}e.length>0?(this.tree.remove(n),e.push(t)):(this.segments.push(n),n.prev=s)}else{if(s&&r){var g=s.getIntersection(r);if(null!==g){if(!s.isAnEndpoint(g))for(var v=this._splitSafely(s,g),V=0,x=v.length;V<x;V++)e.push(v[V]);if(!r.isAnEndpoint(g))for(var S=this._splitSafely(r,g),L=0,R=S.length;L<R;L++)e.push(S[L])}}this.tree.remove(n)}return e}},{key:"_splitSafely",value:function(t,n){this.tree.remove(t);var e=t.rightSE;this.queue.remove(e);var i=t.split(n);return i.push(e),void 0===t.consumedBy&&this.tree.insert(t),i}}]),n}(),_="undefined"!=typeof process&&process.env.POLYGON_CLIPPING_MAX_QUEUE_SIZE||1e6,U="undefined"!=typeof process&&process.env.POLYGON_CLIPPING_MAX_SWEEPLINE_SEGMENTS||1e6,E=function(){function n(){t(this,n)}return e(n,[{key:"run",value:function(t,n,e){j.type=t,V.reset();for(var i=[new J(n,!0)],o=0,l=e.length;o<l;o++)i.push(new J(e[o],!1));if(j.numMultiPolys=i.length,"difference"===j.type)for(var s=i[0],r=1;r<i.length;)null!==X(i[r].bbox,s.bbox)?r++:i.splice(r,1);if("intersection"===j.type)for(var a=0,d=i.length;a<d;a++)for(var u=i[a],p=a+1,h=i.length;p<h;p++)if(null===X(u.bbox,i[p].bbox))return[];for(var m=new c(M.compare),b=0,y=i.length;b<y;b++)for(var Z=i[b].getSweepEvents(),f=0,G=Z.length;f<G;f++)if(m.insert(Z[f]),m.size>_)throw new Error("Infinite loop when putting segment endpoints in a priority queue (queue size too big). Please file a bug report.");for(var W=new B(m),g=m.size,v=m.pop();v;){var x=v.key;if(m.size===g){var S=x.segment;throw new Error("Unable to pop() ".concat(x.isLeft?"left":"right"," SweepEvent ")+"[".concat(x.point.x,", ").concat(x.point.y,"] from segment #").concat(S.id," ")+"[".concat(S.leftSE.point.x,", ").concat(S.leftSE.point.y,"] -> ")+"[".concat(S.rightSE.point.x,", ").concat(S.rightSE.point.y,"] from queue. ")+"Please file a bug report.")}if(m.size>_)throw new Error("Infinite loop when passing sweep line over endpoints (queue size too big). Please file a bug report.");if(W.segments.length>U)throw new Error("Infinite loop when passing sweep line over endpoints (too many sweep line segments). Please file a bug report.");for(var L=W.process(x),R=0,K=L.length;R<K;R++){var H=L[R];void 0===H.consumedBy&&m.insert(H)}g=m.size,v=m.pop()}V.reset();var C=N.factory(W.segments);return new k(C).getGeom()}}]),n}(),j=new E,Q=function(t){for(var n=arguments.length,e=new Array(n>1?n-1:0),i=1;i<n;i++)e[i-1]=arguments[i];return j.run("union",t,e)},O=function(t){for(var n=arguments.length,e=new Array(n>1?n-1:0),i=1;i<n;i++)e[i-1]=arguments[i];return j.run("intersection",t,e)},A=function(t){for(var n=arguments.length,e=new Array(n>1?n-1:0),i=1;i<n;i++)e[i-1]=arguments[i];return j.run("xor",t,e)},D=function(t){for(var n=arguments.length,e=new Array(n>1?n-1:0),i=1;i<n;i++)e[i-1]=arguments[i];return j.run("difference",t,e)};return{union:Q,intersection:O,xor:A,difference:D}}()})),yf=bf;var Zf=o((function(t,n){!function(t){function n(){}function e(t){this.message=t||""}function i(t){this.message=t||""}function o(t){this.message=t||""}function l(){}function s(t){return null===t?Mt:t.color}function r(t){return null===t?null:t.parent}function a(t,n){null!==t&&(t.color=n)}function d(t){return null===t?null:t.left}function c(t){return null===t?null:t.right}function u(){this.root_=null,this.size_=0}function p(){}function h(){this.array_=[],arguments[0]instanceof Gt&&this.addAll(arguments[0])}function m(){}function b(t){this.message=t||""}function y(){this.array_=[]}"fill"in Array.prototype||Object.defineProperty(Array.prototype,"fill",{configurable:!0,value:function(t){if(null==this)throw new TypeError(this+" is not an object");var n=Object(this),e=Math.max(Math.min(n.length,9007199254740991),0)||0,i=1 in arguments&&parseInt(Number(arguments[1]),10)||0;i=i<0?Math.max(e+i,0):Math.min(i,e);var o=2 in arguments&&void 0!==arguments[2]?parseInt(Number(arguments[2]),10)||0:e;for(o=o<0?Math.max(e+arguments[2],0):Math.min(o,e);i<o;)n[i]=t,++i;return n},writable:!0}),Number.isFinite=Number.isFinite||function(t){return"number"==typeof t&&isFinite(t)},Number.isInteger=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t},Number.parseFloat=Number.parseFloat||parseFloat,Number.isNaN=Number.isNaN||function(t){return t!=t},Math.trunc=Math.trunc||function(t){return t<0?Math.ceil(t):Math.floor(t)};var Z=function(){};Z.prototype.interfaces_=function(){return[]},Z.prototype.getClass=function(){return Z},Z.prototype.equalsWithTolerance=function(t,n,e){return Math.abs(t-n)<=e};var X=function(t){function n(n){t.call(this,n),this.name="IllegalArgumentException",this.message=n,this.stack=(new t).stack}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n}(Error),f=function(){},G={MAX_VALUE:{configurable:!0}};f.isNaN=function(t){return Number.isNaN(t)},f.doubleToLongBits=function(t){return t},f.longBitsToDouble=function(t){return t},f.isInfinite=function(t){return!Number.isFinite(t)},G.MAX_VALUE.get=function(){return Number.MAX_VALUE},Object.defineProperties(f,G);var W=function(){},g=function(){},v=function(){},V=function t(){if(this.x=null,this.y=null,this.z=null,0===arguments.length)this.x=0,this.y=0,this.z=t.NULL_ORDINATE;else if(1===arguments.length){var n=arguments[0];this.x=n.x,this.y=n.y,this.z=n.z}else 2===arguments.length?(this.x=arguments[0],this.y=arguments[1],this.z=t.NULL_ORDINATE):3===arguments.length&&(this.x=arguments[0],this.y=arguments[1],this.z=arguments[2])},x={DimensionalComparator:{configurable:!0},serialVersionUID:{configurable:!0},NULL_ORDINATE:{configurable:!0},X:{configurable:!0},Y:{configurable:!0},Z:{configurable:!0}};V.prototype.setOrdinate=function(t,n){switch(t){case V.X:this.x=n;break;case V.Y:this.y=n;break;case V.Z:this.z=n;break;default:throw new X("Invalid ordinate index: "+t)}},V.prototype.equals2D=function(){if(1===arguments.length){var t=arguments[0];return this.x===t.x&&this.y===t.y}if(2===arguments.length){var n=arguments[0],e=arguments[1];return!!Z.equalsWithTolerance(this.x,n.x,e)&&!!Z.equalsWithTolerance(this.y,n.y,e)}},V.prototype.getOrdinate=function(t){switch(t){case V.X:return this.x;case V.Y:return this.y;case V.Z:return this.z}throw new X("Invalid ordinate index: "+t)},V.prototype.equals3D=function(t){return this.x===t.x&&this.y===t.y&&(this.z===t.z||f.isNaN(this.z))&&f.isNaN(t.z)},V.prototype.equals=function(t){return t instanceof V&&this.equals2D(t)},V.prototype.equalInZ=function(t,n){return Z.equalsWithTolerance(this.z,t.z,n)},V.prototype.compareTo=function(t){var n=t;return this.x<n.x?-1:this.x>n.x?1:this.y<n.y?-1:this.y>n.y?1:0},V.prototype.clone=function(){},V.prototype.copy=function(){return new V(this)},V.prototype.toString=function(){return"("+this.x+", "+this.y+", "+this.z+")"},V.prototype.distance3D=function(t){var n=this.x-t.x,e=this.y-t.y,i=this.z-t.z;return Math.sqrt(n*n+e*e+i*i)},V.prototype.distance=function(t){var n=this.x-t.x,e=this.y-t.y;return Math.sqrt(n*n+e*e)},V.prototype.hashCode=function(){var t=17;return 37*(t=37*t+V.hashCode(this.x))+V.hashCode(this.y)},V.prototype.setCoordinate=function(t){this.x=t.x,this.y=t.y,this.z=t.z},V.prototype.interfaces_=function(){return[W,g,n]},V.prototype.getClass=function(){return V},V.hashCode=function(){if(1===arguments.length){var t=arguments[0],n=f.doubleToLongBits(t);return Math.trunc((n^n)>>>32)}},x.DimensionalComparator.get=function(){return S},x.serialVersionUID.get=function(){return 0x5cbf2c235c7e5800},x.NULL_ORDINATE.get=function(){return f.NaN},x.X.get=function(){return 0},x.Y.get=function(){return 1},x.Z.get=function(){return 2},Object.defineProperties(V,x);var S=function(t){if(this._dimensionsToTest=2,0===arguments.length);else if(1===arguments.length){var n=arguments[0];if(2!==n&&3!==n)throw new X("only 2 or 3 dimensions may be specified");this._dimensionsToTest=n}};S.prototype.compare=function(t,n){var e=t,i=n,o=S.compare(e.x,i.x);if(0!==o)return o;var l=S.compare(e.y,i.y);return 0!==l?l:this._dimensionsToTest<=2?0:S.compare(e.z,i.z)},S.prototype.interfaces_=function(){return[v]},S.prototype.getClass=function(){return S},S.compare=function(t,n){return t<n?-1:t>n?1:f.isNaN(t)?f.isNaN(n)?0:-1:f.isNaN(n)?1:0};var L=function(){};L.prototype.create=function(){},L.prototype.interfaces_=function(){return[]},L.prototype.getClass=function(){return L};var R=function(){},K={INTERIOR:{configurable:!0},BOUNDARY:{configurable:!0},EXTERIOR:{configurable:!0},NONE:{configurable:!0}};R.prototype.interfaces_=function(){return[]},R.prototype.getClass=function(){return R},R.toLocationSymbol=function(t){switch(t){case R.EXTERIOR:return"e";case R.BOUNDARY:return"b";case R.INTERIOR:return"i";case R.NONE:return"-"}throw new X("Unknown location value: "+t)},K.INTERIOR.get=function(){return 0},K.BOUNDARY.get=function(){return 1},K.EXTERIOR.get=function(){return 2},K.NONE.get=function(){return-1},Object.defineProperties(R,K);var H=function(t,n){return t.interfaces_&&t.interfaces_().indexOf(n)>-1},C=function(){},Y={LOG_10:{configurable:!0}};C.prototype.interfaces_=function(){return[]},C.prototype.getClass=function(){return C},C.log10=function(t){var n=Math.log(t);return f.isInfinite(n)||f.isNaN(n)?n:n/C.LOG_10},C.min=function(t,n,e,i){var o=t;return n<o&&(o=n),e<o&&(o=e),i<o&&(o=i),o},C.clamp=function(){if("number"==typeof arguments[2]&&"number"==typeof arguments[0]&&"number"==typeof arguments[1]){var t=arguments[0],n=arguments[1],e=arguments[2];return t<n?n:t>e?e:t}if(Number.isInteger(arguments[2])&&Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var i=arguments[0],o=arguments[1],l=arguments[2];return i<o?o:i>l?l:i}},C.wrap=function(t,n){return t<0?n- -t%n:t%n},C.max=function(){if(3===arguments.length){var t=arguments[1],n=arguments[2],e=arguments[0];return t>e&&(e=t),n>e&&(e=n),e}if(4===arguments.length){var i=arguments[1],o=arguments[2],l=arguments[3],s=arguments[0];return i>s&&(s=i),o>s&&(s=o),l>s&&(s=l),s}},C.average=function(t,n){return(t+n)/2},Y.LOG_10.get=function(){return Math.log(10)},Object.defineProperties(C,Y);var T=function(t){this.str=t};T.prototype.append=function(t){this.str+=t},T.prototype.setCharAt=function(t,n){this.str=this.str.substr(0,t)+n+this.str.substr(t+1)},T.prototype.toString=function(t){return this.str};var M=function(t){this.value=t};M.prototype.intValue=function(){return this.value},M.prototype.compareTo=function(t){return this.value<t?-1:this.value>t?1:0},M.isNaN=function(t){return Number.isNaN(t)};var w=function(){};w.isWhitespace=function(t){return t<=32&&t>=0||127===t},w.toUpperCase=function(t){return t.toUpperCase()};var P=function t(){if(this._hi=0,this._lo=0,0===arguments.length)this.init(0);else if(1===arguments.length)if("number"==typeof arguments[0]){var n=arguments[0];this.init(n)}else if(arguments[0]instanceof t){var e=arguments[0];this.init(e)}else"string"==typeof arguments[0]&&t.call(this,t.parse(arguments[0]));else if(2===arguments.length){var i=arguments[0],o=arguments[1];this.init(i,o)}},I={PI:{configurable:!0},TWO_PI:{configurable:!0},PI_2:{configurable:!0},E:{configurable:!0},NaN:{configurable:!0},EPS:{configurable:!0},SPLIT:{configurable:!0},MAX_PRINT_DIGITS:{configurable:!0},TEN:{configurable:!0},ONE:{configurable:!0},SCI_NOT_EXPONENT_CHAR:{configurable:!0},SCI_NOT_ZERO:{configurable:!0}};P.prototype.le=function(t){return(this._hi<t._hi||this._hi===t._hi)&&this._lo<=t._lo},P.prototype.extractSignificantDigits=function(t,n){var e=this.abs(),i=P.magnitude(e._hi),o=P.TEN.pow(i);(e=e.divide(o)).gt(P.TEN)?(e=e.divide(P.TEN),i+=1):e.lt(P.ONE)&&(e=e.multiply(P.TEN),i-=1);for(var l=i+1,s=new T,r=P.MAX_PRINT_DIGITS-1,a=0;a<=r;a++){t&&a===l&&s.append(".");var d=Math.trunc(e._hi);if(d<0)break;var c=!1,u=0;d>9?(c=!0,u="9"):u="0"+d,s.append(u),e=e.subtract(P.valueOf(d)).multiply(P.TEN),c&&e.selfAdd(P.TEN);var p=!0,h=P.magnitude(e._hi);if(h<0&&Math.abs(h)>=r-a&&(p=!1),!p)break}return n[0]=i,s.toString()},P.prototype.sqr=function(){return this.multiply(this)},P.prototype.doubleValue=function(){return this._hi+this._lo},P.prototype.subtract=function(){if(arguments[0]instanceof P){var t=arguments[0];return this.add(t.negate())}if("number"==typeof arguments[0]){var n=arguments[0];return this.add(-n)}},P.prototype.equals=function(){if(1===arguments.length){var t=arguments[0];return this._hi===t._hi&&this._lo===t._lo}},P.prototype.isZero=function(){return 0===this._hi&&0===this._lo},P.prototype.selfSubtract=function(){if(arguments[0]instanceof P){var t=arguments[0];return this.isNaN()?this:this.selfAdd(-t._hi,-t._lo)}if("number"==typeof arguments[0]){var n=arguments[0];return this.isNaN()?this:this.selfAdd(-n,0)}},P.prototype.getSpecialNumberString=function(){return this.isZero()?"0.0":this.isNaN()?"NaN ":null},P.prototype.min=function(t){return this.le(t)?this:t},P.prototype.selfDivide=function(){if(1===arguments.length){if(arguments[0]instanceof P){var t=arguments[0];return this.selfDivide(t._hi,t._lo)}if("number"==typeof arguments[0]){var n=arguments[0];return this.selfDivide(n,0)}}else if(2===arguments.length){var e=arguments[0],i=arguments[1],o=null,l=null,s=null,r=null,a=null,d=null,c=null,u=null;return a=this._hi/e,u=(o=(d=P.SPLIT*a)-(o=d-a))*(s=(u=P.SPLIT*e)-(s=u-e))-(c=a*e)+o*(r=e-s)+(l=a-o)*s+l*r,u=a+(d=(this._hi-c-u+this._lo-a*i)/e),this._hi=u,this._lo=a-u+d,this}},P.prototype.dump=function(){return"DD<"+this._hi+", "+this._lo+">"},P.prototype.divide=function(){if(arguments[0]instanceof P){var t=arguments[0],n=null,e=null,i=null,o=null,l=null,s=null,r=null,a=null;return e=(l=this._hi/t._hi)-(n=(s=P.SPLIT*l)-(n=s-l)),a=n*(i=(a=P.SPLIT*t._hi)-(i=a-t._hi))-(r=l*t._hi)+n*(o=t._hi-i)+e*i+e*o,s=(this._hi-r-a+this._lo-l*t._lo)/t._hi,new P(a=l+s,l-a+s)}if("number"==typeof arguments[0]){var d=arguments[0];return f.isNaN(d)?P.createNaN():P.copy(this).selfDivide(d,0)}},P.prototype.ge=function(t){return(this._hi>t._hi||this._hi===t._hi)&&this._lo>=t._lo},P.prototype.pow=function(t){if(0===t)return P.valueOf(1);var n=new P(this),e=P.valueOf(1),i=Math.abs(t);if(i>1)for(;i>0;)i%2==1&&e.selfMultiply(n),(i/=2)>0&&(n=n.sqr());else e=n;return t<0?e.reciprocal():e},P.prototype.ceil=function(){if(this.isNaN())return P.NaN;var t=Math.ceil(this._hi),n=0;return t===this._hi&&(n=Math.ceil(this._lo)),new P(t,n)},P.prototype.compareTo=function(t){var n=t;return this._hi<n._hi?-1:this._hi>n._hi?1:this._lo<n._lo?-1:this._lo>n._lo?1:0},P.prototype.rint=function(){return this.isNaN()?this:this.add(.5).floor()},P.prototype.setValue=function(){if(arguments[0]instanceof P){var t=arguments[0];return this.init(t),this}if("number"==typeof arguments[0]){var n=arguments[0];return this.init(n),this}},P.prototype.max=function(t){return this.ge(t)?this:t},P.prototype.sqrt=function(){if(this.isZero())return P.valueOf(0);if(this.isNegative())return P.NaN;var t=1/Math.sqrt(this._hi),n=this._hi*t,e=P.valueOf(n),i=this.subtract(e.sqr())._hi*(.5*t);return e.add(i)},P.prototype.selfAdd=function(){if(1===arguments.length){if(arguments[0]instanceof P){var t=arguments[0];return this.selfAdd(t._hi,t._lo)}if("number"==typeof arguments[0]){var n=arguments[0],e=null,i=null,o=null,l=null,s=null,r=null;return l=(o=this._hi+n)-(s=o-this._hi),i=(r=(l=n-s+(this._hi-l))+this._lo)+(o-(e=o+r)),this._hi=e+i,this._lo=i+(e-this._hi),this}}else if(2===arguments.length){var a=arguments[0],d=arguments[1],c=null,u=null,p=null,h=null,m=null,b=null,y=null;h=this._hi+a,u=this._lo+d,m=h-(b=h-this._hi),p=u-(y=u-this._lo);var Z=(c=h+(b=(m=a-b+(this._hi-m))+u))+(b=(p=d-y+(this._lo-p))+(b+(h-c))),X=b+(c-Z);return this._hi=Z,this._lo=X,this}},P.prototype.selfMultiply=function(){if(1===arguments.length){if(arguments[0]instanceof P){var t=arguments[0];return this.selfMultiply(t._hi,t._lo)}if("number"==typeof arguments[0]){var n=arguments[0];return this.selfMultiply(n,0)}}else if(2===arguments.length){var e=arguments[0],i=arguments[1],o=null,l=null,s=null,r=null,a=null,d=null;o=(a=P.SPLIT*this._hi)-this._hi,d=P.SPLIT*e,o=a-o,l=this._hi-o,s=d-e;var c=(a=this._hi*e)+(d=o*(s=d-s)-a+o*(r=e-s)+l*s+l*r+(this._hi*i+this._lo*e)),u=d+(o=a-c);return this._hi=c,this._lo=u,this}},P.prototype.selfSqr=function(){return this.selfMultiply(this)},P.prototype.floor=function(){if(this.isNaN())return P.NaN;var t=Math.floor(this._hi),n=0;return t===this._hi&&(n=Math.floor(this._lo)),new P(t,n)},P.prototype.negate=function(){return this.isNaN()?this:new P(-this._hi,-this._lo)},P.prototype.clone=function(){},P.prototype.multiply=function(){if(arguments[0]instanceof P){var t=arguments[0];return t.isNaN()?P.createNaN():P.copy(this).selfMultiply(t)}if("number"==typeof arguments[0]){var n=arguments[0];return f.isNaN(n)?P.createNaN():P.copy(this).selfMultiply(n,0)}},P.prototype.isNaN=function(){return f.isNaN(this._hi)},P.prototype.intValue=function(){return Math.trunc(this._hi)},P.prototype.toString=function(){var t=P.magnitude(this._hi);return t>=-3&&t<=20?this.toStandardNotation():this.toSciNotation()},P.prototype.toStandardNotation=function(){var t=this.getSpecialNumberString();if(null!==t)return t;var n=new Array(1).fill(null),e=this.extractSignificantDigits(!0,n),i=n[0]+1,o=e;if("."===e.charAt(0))o="0"+e;else if(i<0)o="0."+P.stringOfChar("0",-i)+e;else if(-1===e.indexOf(".")){var l=i-e.length;o=e+P.stringOfChar("0",l)+".0"}return this.isNegative()?"-"+o:o},P.prototype.reciprocal=function(){var t=null,n=null,e=null,i=null,o=null,l=null,s=null,r=null;n=(o=1/this._hi)-(t=(l=P.SPLIT*o)-(t=l-o)),e=(r=P.SPLIT*this._hi)-this._hi;var a=o+(l=(1-(s=o*this._hi)-(r=t*(e=r-e)-s+t*(i=this._hi-e)+n*e+n*i)-o*this._lo)/this._hi);return new P(a,o-a+l)},P.prototype.toSciNotation=function(){if(this.isZero())return P.SCI_NOT_ZERO;var t=this.getSpecialNumberString();if(null!==t)return t;var n=new Array(1).fill(null),e=this.extractSignificantDigits(!1,n),i=P.SCI_NOT_EXPONENT_CHAR+n[0];if("0"===e.charAt(0))throw new Error("Found leading zero: "+e);var o="";e.length>1&&(o=e.substring(1));var l=e.charAt(0)+"."+o;return this.isNegative()?"-"+l+i:l+i},P.prototype.abs=function(){return this.isNaN()?P.NaN:this.isNegative()?this.negate():new P(this)},P.prototype.isPositive=function(){return(this._hi>0||0===this._hi)&&this._lo>0},P.prototype.lt=function(t){return(this._hi<t._hi||this._hi===t._hi)&&this._lo<t._lo},P.prototype.add=function(){if(arguments[0]instanceof P){var t=arguments[0];return P.copy(this).selfAdd(t)}if("number"==typeof arguments[0]){var n=arguments[0];return P.copy(this).selfAdd(n)}},P.prototype.init=function(){if(1===arguments.length){if("number"==typeof arguments[0]){var t=arguments[0];this._hi=t,this._lo=0}else if(arguments[0]instanceof P){var n=arguments[0];this._hi=n._hi,this._lo=n._lo}}else if(2===arguments.length){var e=arguments[0],i=arguments[1];this._hi=e,this._lo=i}},P.prototype.gt=function(t){return(this._hi>t._hi||this._hi===t._hi)&&this._lo>t._lo},P.prototype.isNegative=function(){return(this._hi<0||0===this._hi)&&this._lo<0},P.prototype.trunc=function(){return this.isNaN()?P.NaN:this.isPositive()?this.floor():this.ceil()},P.prototype.signum=function(){return this._hi>0?1:this._hi<0?-1:this._lo>0?1:this._lo<0?-1:0},P.prototype.interfaces_=function(){return[n,W,g]},P.prototype.getClass=function(){return P},P.sqr=function(t){return P.valueOf(t).selfMultiply(t)},P.valueOf=function(){if("string"==typeof arguments[0]){var t=arguments[0];return P.parse(t)}if("number"==typeof arguments[0])return new P(arguments[0])},P.sqrt=function(t){return P.valueOf(t).sqrt()},P.parse=function(t){for(var n=0,e=t.length;w.isWhitespace(t.charAt(n));)n++;var i=!1;if(n<e){var o=t.charAt(n);"-"!==o&&"+"!==o||(n++,"-"===o&&(i=!0))}for(var l=new P,s=0,r=0,a=0;!(n>=e);){var d=t.charAt(n);if(n++,w.isDigit(d)){var c=d-"0";l.selfMultiply(P.TEN),l.selfAdd(c),s++}else{if("."!==d){if("e"===d||"E"===d){var u=t.substring(n);try{a=M.parseInt(u)}catch(n){throw n instanceof Error?new Error("Invalid exponent "+u+" in string "+t):n}break}throw new Error("Unexpected character '"+d+"' at position "+n+" in string "+t)}r=s}}var p=l,h=s-r-a;if(0===h)p=l;else if(h>0){var m=P.TEN.pow(h);p=l.divide(m)}else if(h<0){var b=P.TEN.pow(-h);p=l.multiply(b)}return i?p.negate():p},P.createNaN=function(){return new P(f.NaN,f.NaN)},P.copy=function(t){return new P(t)},P.magnitude=function(t){var n=Math.abs(t),e=Math.log(n)/Math.log(10),i=Math.trunc(Math.floor(e));return 10*Math.pow(10,i)<=n&&(i+=1),i},P.stringOfChar=function(t,n){for(var e=new T,i=0;i<n;i++)e.append(t);return e.toString()},I.PI.get=function(){return new P(3.141592653589793,12246467991473532e-32)},I.TWO_PI.get=function(){return new P(6.283185307179586,24492935982947064e-32)},I.PI_2.get=function(){return new P(1.5707963267948966,6123233995736766e-32)},I.E.get=function(){return new P(2.718281828459045,14456468917292502e-32)},I.NaN.get=function(){return new P(f.NaN,f.NaN)},I.EPS.get=function(){return 123259516440783e-46},I.SPLIT.get=function(){return 134217729},I.MAX_PRINT_DIGITS.get=function(){return 32},I.TEN.get=function(){return P.valueOf(10)},I.ONE.get=function(){return P.valueOf(1)},I.SCI_NOT_EXPONENT_CHAR.get=function(){return"E"},I.SCI_NOT_ZERO.get=function(){return"0.0E0"},Object.defineProperties(P,I);var z=function(){},J={DP_SAFE_EPSILON:{configurable:!0}};z.prototype.interfaces_=function(){return[]},z.prototype.getClass=function(){return z},z.orientationIndex=function(t,n,e){var i=z.orientationIndexFilter(t,n,e);if(i<=1)return i;var o=P.valueOf(n.x).selfAdd(-t.x),l=P.valueOf(n.y).selfAdd(-t.y),s=P.valueOf(e.x).selfAdd(-n.x),r=P.valueOf(e.y).selfAdd(-n.y);return o.selfMultiply(r).selfSubtract(l.selfMultiply(s)).signum()},z.signOfDet2x2=function(t,n,e,i){return t.multiply(i).selfSubtract(n.multiply(e)).signum()},z.intersection=function(t,n,e,i){var o=P.valueOf(i.y).selfSubtract(e.y).selfMultiply(P.valueOf(n.x).selfSubtract(t.x)),l=P.valueOf(i.x).selfSubtract(e.x).selfMultiply(P.valueOf(n.y).selfSubtract(t.y)),s=o.subtract(l),r=P.valueOf(i.x).selfSubtract(e.x).selfMultiply(P.valueOf(t.y).selfSubtract(e.y)),a=P.valueOf(i.y).selfSubtract(e.y).selfMultiply(P.valueOf(t.x).selfSubtract(e.x)),d=r.subtract(a).selfDivide(s).doubleValue(),c=P.valueOf(t.x).selfAdd(P.valueOf(n.x).selfSubtract(t.x).selfMultiply(d)).doubleValue(),u=P.valueOf(n.x).selfSubtract(t.x).selfMultiply(P.valueOf(t.y).selfSubtract(e.y)),p=P.valueOf(n.y).selfSubtract(t.y).selfMultiply(P.valueOf(t.x).selfSubtract(e.x)),h=u.subtract(p).selfDivide(s).doubleValue(),m=P.valueOf(e.y).selfAdd(P.valueOf(i.y).selfSubtract(e.y).selfMultiply(h)).doubleValue();return new V(c,m)},z.orientationIndexFilter=function(t,n,e){var i=null,o=(t.x-e.x)*(n.y-e.y),l=(t.y-e.y)*(n.x-e.x),s=o-l;if(o>0){if(l<=0)return z.signum(s);i=o+l}else{if(!(o<0))return z.signum(s);if(l>=0)return z.signum(s);i=-o-l}var r=z.DP_SAFE_EPSILON*i;return s>=r||-s>=r?z.signum(s):2},z.signum=function(t){return t>0?1:t<0?-1:0},J.DP_SAFE_EPSILON.get=function(){return 1e-15},Object.defineProperties(z,J);var N=function(){},F={X:{configurable:!0},Y:{configurable:!0},Z:{configurable:!0},M:{configurable:!0}};F.X.get=function(){return 0},F.Y.get=function(){return 1},F.Z.get=function(){return 2},F.M.get=function(){return 3},N.prototype.setOrdinate=function(t,n,e){},N.prototype.size=function(){},N.prototype.getOrdinate=function(t,n){},N.prototype.getCoordinate=function(){},N.prototype.getCoordinateCopy=function(t){},N.prototype.getDimension=function(){},N.prototype.getX=function(t){},N.prototype.clone=function(){},N.prototype.expandEnvelope=function(t){},N.prototype.copy=function(){},N.prototype.getY=function(t){},N.prototype.toCoordinateArray=function(){},N.prototype.interfaces_=function(){return[g]},N.prototype.getClass=function(){return N},Object.defineProperties(N,F);var k=function(){},B=function(t){function n(){t.call(this,"Projective point not representable on the Cartesian plane.")}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.interfaces_=function(){return[]},n.prototype.getClass=function(){return n},n}(k),_=function(){};_.arraycopy=function(t,n,e,i,o){for(var l=0,s=n;s<n+o;s++)e[i+l]=t[s],l++},_.getProperty=function(t){return{"line.separator":"\n"}[t]};var U=function t(){if(this.x=null,this.y=null,this.w=null,0===arguments.length)this.x=0,this.y=0,this.w=1;else if(1===arguments.length){var n=arguments[0];this.x=n.x,this.y=n.y,this.w=1}else if(2===arguments.length){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var e=arguments[0],i=arguments[1];this.x=e,this.y=i,this.w=1}else if(arguments[0]instanceof t&&arguments[1]instanceof t){var o=arguments[0],l=arguments[1];this.x=o.y*l.w-l.y*o.w,this.y=l.x*o.w-o.x*l.w,this.w=o.x*l.y-l.x*o.y}else if(arguments[0]instanceof V&&arguments[1]instanceof V){var s=arguments[0],r=arguments[1];this.x=s.y-r.y,this.y=r.x-s.x,this.w=s.x*r.y-r.x*s.y}}else if(3===arguments.length){var a=arguments[0],d=arguments[1],c=arguments[2];this.x=a,this.y=d,this.w=c}else if(4===arguments.length){var u=arguments[0],p=arguments[1],h=arguments[2],m=arguments[3],b=u.y-p.y,y=p.x-u.x,Z=u.x*p.y-p.x*u.y,X=h.y-m.y,f=m.x-h.x,G=h.x*m.y-m.x*h.y;this.x=y*G-f*Z,this.y=X*Z-b*G,this.w=b*f-X*y}};U.prototype.getY=function(){var t=this.y/this.w;if(f.isNaN(t)||f.isInfinite(t))throw new B;return t},U.prototype.getX=function(){var t=this.x/this.w;if(f.isNaN(t)||f.isInfinite(t))throw new B;return t},U.prototype.getCoordinate=function(){var t=new V;return t.x=this.getX(),t.y=this.getY(),t},U.prototype.interfaces_=function(){return[]},U.prototype.getClass=function(){return U},U.intersection=function(t,n,e,i){var o=t.y-n.y,l=n.x-t.x,s=t.x*n.y-n.x*t.y,r=e.y-i.y,a=i.x-e.x,d=e.x*i.y-i.x*e.y,c=o*a-r*l,u=(l*d-a*s)/c,p=(r*s-o*d)/c;if(f.isNaN(u)||f.isInfinite(u)||f.isNaN(p)||f.isInfinite(p))throw new B;return new V(u,p)};var E=function t(){if(this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,0===arguments.length)this.init();else if(1===arguments.length){if(arguments[0]instanceof V){var n=arguments[0];this.init(n.x,n.x,n.y,n.y)}else if(arguments[0]instanceof t){var e=arguments[0];this.init(e)}}else if(2===arguments.length){var i=arguments[0],o=arguments[1];this.init(i.x,o.x,i.y,o.y)}else if(4===arguments.length){var l=arguments[0],s=arguments[1],r=arguments[2],a=arguments[3];this.init(l,s,r,a)}},j={serialVersionUID:{configurable:!0}};E.prototype.getArea=function(){return this.getWidth()*this.getHeight()},E.prototype.equals=function(t){if(!(t instanceof E))return!1;var n=t;return this.isNull()?n.isNull():this._maxx===n.getMaxX()&&this._maxy===n.getMaxY()&&this._minx===n.getMinX()&&this._miny===n.getMinY()},E.prototype.intersection=function(t){if(this.isNull()||t.isNull()||!this.intersects(t))return new E;var n=this._minx>t._minx?this._minx:t._minx,e=this._miny>t._miny?this._miny:t._miny,i=this._maxx<t._maxx?this._maxx:t._maxx,o=this._maxy<t._maxy?this._maxy:t._maxy;return new E(n,i,e,o)},E.prototype.isNull=function(){return this._maxx<this._minx},E.prototype.getMaxX=function(){return this._maxx},E.prototype.covers=function(){if(1===arguments.length){if(arguments[0]instanceof V){var t=arguments[0];return this.covers(t.x,t.y)}if(arguments[0]instanceof E){var n=arguments[0];return!this.isNull()&&!n.isNull()&&n.getMinX()>=this._minx&&n.getMaxX()<=this._maxx&&n.getMinY()>=this._miny&&n.getMaxY()<=this._maxy}}else if(2===arguments.length){var e=arguments[0],i=arguments[1];return!this.isNull()&&e>=this._minx&&e<=this._maxx&&i>=this._miny&&i<=this._maxy}},E.prototype.intersects=function(){if(1===arguments.length){if(arguments[0]instanceof E){var t=arguments[0];return!this.isNull()&&!t.isNull()&&!(t._minx>this._maxx||t._maxx<this._minx||t._miny>this._maxy||t._maxy<this._miny)}if(arguments[0]instanceof V){var n=arguments[0];return this.intersects(n.x,n.y)}}else if(2===arguments.length){var e=arguments[0],i=arguments[1];return!this.isNull()&&!(e>this._maxx||e<this._minx||i>this._maxy||i<this._miny)}},E.prototype.getMinY=function(){return this._miny},E.prototype.getMinX=function(){return this._minx},E.prototype.expandToInclude=function(){if(1===arguments.length){if(arguments[0]instanceof V){var t=arguments[0];this.expandToInclude(t.x,t.y)}else if(arguments[0]instanceof E){var n=arguments[0];if(n.isNull())return null;this.isNull()?(this._minx=n.getMinX(),this._maxx=n.getMaxX(),this._miny=n.getMinY(),this._maxy=n.getMaxY()):(n._minx<this._minx&&(this._minx=n._minx),n._maxx>this._maxx&&(this._maxx=n._maxx),n._miny<this._miny&&(this._miny=n._miny),n._maxy>this._maxy&&(this._maxy=n._maxy))}}else if(2===arguments.length){var e=arguments[0],i=arguments[1];this.isNull()?(this._minx=e,this._maxx=e,this._miny=i,this._maxy=i):(e<this._minx&&(this._minx=e),e>this._maxx&&(this._maxx=e),i<this._miny&&(this._miny=i),i>this._maxy&&(this._maxy=i))}},E.prototype.minExtent=function(){if(this.isNull())return 0;var t=this.getWidth(),n=this.getHeight();return t<n?t:n},E.prototype.getWidth=function(){return this.isNull()?0:this._maxx-this._minx},E.prototype.compareTo=function(t){var n=t;return this.isNull()?n.isNull()?0:-1:n.isNull()?1:this._minx<n._minx?-1:this._minx>n._minx?1:this._miny<n._miny?-1:this._miny>n._miny?1:this._maxx<n._maxx?-1:this._maxx>n._maxx?1:this._maxy<n._maxy?-1:this._maxy>n._maxy?1:0},E.prototype.translate=function(t,n){if(this.isNull())return null;this.init(this.getMinX()+t,this.getMaxX()+t,this.getMinY()+n,this.getMaxY()+n)},E.prototype.toString=function(){return"Env["+this._minx+" : "+this._maxx+", "+this._miny+" : "+this._maxy+"]"},E.prototype.setToNull=function(){this._minx=0,this._maxx=-1,this._miny=0,this._maxy=-1},E.prototype.getHeight=function(){return this.isNull()?0:this._maxy-this._miny},E.prototype.maxExtent=function(){if(this.isNull())return 0;var t=this.getWidth(),n=this.getHeight();return t>n?t:n},E.prototype.expandBy=function(){if(1===arguments.length){var t=arguments[0];this.expandBy(t,t)}else if(2===arguments.length){var n=arguments[0],e=arguments[1];if(this.isNull())return null;this._minx-=n,this._maxx+=n,this._miny-=e,this._maxy+=e,(this._minx>this._maxx||this._miny>this._maxy)&&this.setToNull()}},E.prototype.contains=function(){if(1===arguments.length){if(arguments[0]instanceof E){var t=arguments[0];return this.covers(t)}if(arguments[0]instanceof V){var n=arguments[0];return this.covers(n)}}else if(2===arguments.length){var e=arguments[0],i=arguments[1];return this.covers(e,i)}},E.prototype.centre=function(){return this.isNull()?null:new V((this.getMinX()+this.getMaxX())/2,(this.getMinY()+this.getMaxY())/2)},E.prototype.init=function(){if(0===arguments.length)this.setToNull();else if(1===arguments.length){if(arguments[0]instanceof V){var t=arguments[0];this.init(t.x,t.x,t.y,t.y)}else if(arguments[0]instanceof E){var n=arguments[0];this._minx=n._minx,this._maxx=n._maxx,this._miny=n._miny,this._maxy=n._maxy}}else if(2===arguments.length){var e=arguments[0],i=arguments[1];this.init(e.x,i.x,e.y,i.y)}else if(4===arguments.length){var o=arguments[0],l=arguments[1],s=arguments[2],r=arguments[3];o<l?(this._minx=o,this._maxx=l):(this._minx=l,this._maxx=o),s<r?(this._miny=s,this._maxy=r):(this._miny=r,this._maxy=s)}},E.prototype.getMaxY=function(){return this._maxy},E.prototype.distance=function(t){if(this.intersects(t))return 0;var n=0;this._maxx<t._minx?n=t._minx-this._maxx:this._minx>t._maxx&&(n=this._minx-t._maxx);var e=0;return this._maxy<t._miny?e=t._miny-this._maxy:this._miny>t._maxy&&(e=this._miny-t._maxy),0===n?e:0===e?n:Math.sqrt(n*n+e*e)},E.prototype.hashCode=function(){var t=17;return 37*(t=37*(t=37*(t=37*t+V.hashCode(this._minx))+V.hashCode(this._maxx))+V.hashCode(this._miny))+V.hashCode(this._maxy)},E.prototype.interfaces_=function(){return[W,n]},E.prototype.getClass=function(){return E},E.intersects=function(){if(3===arguments.length){var t=arguments[0],n=arguments[1],e=arguments[2];return e.x>=(t.x<n.x?t.x:n.x)&&e.x<=(t.x>n.x?t.x:n.x)&&e.y>=(t.y<n.y?t.y:n.y)&&e.y<=(t.y>n.y?t.y:n.y)}if(4===arguments.length){var i=arguments[0],o=arguments[1],l=arguments[2],s=arguments[3],r=Math.min(l.x,s.x),a=Math.max(l.x,s.x),d=Math.min(i.x,o.x),c=Math.max(i.x,o.x);return!(d>a||c<r||(r=Math.min(l.y,s.y),a=Math.max(l.y,s.y),d=Math.min(i.y,o.y),c=Math.max(i.y,o.y),d>a||c<r))}},j.serialVersionUID.get=function(){return 0x51845cd552189800},Object.defineProperties(E,j);var Q={typeStr:/^\s*(\w+)\s*\(\s*(.*)\s*\)\s*$/,emptyTypeStr:/^\s*(\w+)\s*EMPTY\s*$/,spaces:/\s+/,parenComma:/\)\s*,\s*\(/,doubleParenComma:/\)\s*\)\s*,\s*\(\s*\(/,trimParens:/^\s*\(?(.*?)\)?\s*$/},O=function(t){this.geometryFactory=t||new Xn};O.prototype.read=function(t){var n,e,i;t=t.replace(/[\n\r]/g," ");var o=Q.typeStr.exec(t);if(-1!==t.search("EMPTY")&&((o=Q.emptyTypeStr.exec(t))[2]=void 0),o&&(e=o[1].toLowerCase(),i=o[2],D[e]&&(n=D[e].apply(this,[i]))),void 0===n)throw new Error("Could not parse WKT "+t);return n},O.prototype.write=function(t){return this.extractGeometry(t)},O.prototype.extractGeometry=function(t){var n=t.getGeometryType().toLowerCase();if(!A[n])return null;var e=n.toUpperCase();return t.isEmpty()?e+" EMPTY":e+"("+A[n].apply(this,[t])+")"};var A={coordinate:function(t){return t.x+" "+t.y},point:function(t){return A.coordinate.call(this,t._coordinates._coordinates[0])},multipoint:function(t){for(var n=[],e=0,i=t._geometries.length;e<i;++e)n.push("("+A.point.apply(this,[t._geometries[e]])+")");return n.join(",")},linestring:function(t){for(var n=[],e=0,i=t._points._coordinates.length;e<i;++e)n.push(A.coordinate.apply(this,[t._points._coordinates[e]]));return n.join(",")},linearring:function(t){for(var n=[],e=0,i=t._points._coordinates.length;e<i;++e)n.push(A.coordinate.apply(this,[t._points._coordinates[e]]));return n.join(",")},multilinestring:function(t){for(var n=[],e=0,i=t._geometries.length;e<i;++e)n.push("("+A.linestring.apply(this,[t._geometries[e]])+")");return n.join(",")},polygon:function(t){var n=[];n.push("("+A.linestring.apply(this,[t._shell])+")");for(var e=0,i=t._holes.length;e<i;++e)n.push("("+A.linestring.apply(this,[t._holes[e]])+")");return n.join(",")},multipolygon:function(t){for(var n=[],e=0,i=t._geometries.length;e<i;++e)n.push("("+A.polygon.apply(this,[t._geometries[e]])+")");return n.join(",")},geometrycollection:function(t){for(var n=[],e=0,i=t._geometries.length;e<i;++e)n.push(this.extractGeometry(t._geometries[e]));return n.join(",")}},D={point:function(t){if(void 0===t)return this.geometryFactory.createPoint();var n=t.trim().split(Q.spaces);return this.geometryFactory.createPoint(new V(Number.parseFloat(n[0]),Number.parseFloat(n[1])))},multipoint:function(t){if(void 0===t)return this.geometryFactory.createMultiPoint();for(var n,e=t.trim().split(","),i=[],o=0,l=e.length;o<l;++o)n=e[o].replace(Q.trimParens,"$1"),i.push(D.point.apply(this,[n]));return this.geometryFactory.createMultiPoint(i)},linestring:function(t){if(void 0===t)return this.geometryFactory.createLineString();for(var n,e=t.trim().split(","),i=[],o=0,l=e.length;o<l;++o)n=e[o].trim().split(Q.spaces),i.push(new V(Number.parseFloat(n[0]),Number.parseFloat(n[1])));return this.geometryFactory.createLineString(i)},linearring:function(t){if(void 0===t)return this.geometryFactory.createLinearRing();for(var n,e=t.trim().split(","),i=[],o=0,l=e.length;o<l;++o)n=e[o].trim().split(Q.spaces),i.push(new V(Number.parseFloat(n[0]),Number.parseFloat(n[1])));return this.geometryFactory.createLinearRing(i)},multilinestring:function(t){if(void 0===t)return this.geometryFactory.createMultiLineString();for(var n,e=t.trim().split(Q.parenComma),i=[],o=0,l=e.length;o<l;++o)n=e[o].replace(Q.trimParens,"$1"),i.push(D.linestring.apply(this,[n]));return this.geometryFactory.createMultiLineString(i)},polygon:function(t){if(void 0===t)return this.geometryFactory.createPolygon();for(var n,e,i,o,l=t.trim().split(Q.parenComma),s=[],r=0,a=l.length;r<a;++r)n=l[r].replace(Q.trimParens,"$1"),e=D.linestring.apply(this,[n]),i=this.geometryFactory.createLinearRing(e._points),0===r?o=i:s.push(i);return this.geometryFactory.createPolygon(o,s)},multipolygon:function(t){if(void 0===t)return this.geometryFactory.createMultiPolygon();for(var n,e=t.trim().split(Q.doubleParenComma),i=[],o=0,l=e.length;o<l;++o)n=e[o].replace(Q.trimParens,"$1"),i.push(D.polygon.apply(this,[n]));return this.geometryFactory.createMultiPolygon(i)},geometrycollection:function(t){if(void 0===t)return this.geometryFactory.createGeometryCollection();for(var n=(t=t.replace(/,\s*([A-Za-z])/g,"|$1")).trim().split("|"),e=[],i=0,o=n.length;i<o;++i)e.push(this.read(n[i]));return this.geometryFactory.createGeometryCollection(e)}},q=function(t){this.parser=new O(t)};q.prototype.write=function(t){return this.parser.write(t)},q.toLineString=function(t,n){if(2!==arguments.length)throw new Error("Not implemented");return"LINESTRING ( "+t.x+" "+t.y+", "+n.x+" "+n.y+" )"};var $=function(t){function n(n){t.call(this,n),this.name="RuntimeException",this.message=n,this.stack=(new t).stack}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n}(Error),tt=function(t){function n(){if(t.call(this),0===arguments.length)t.call(this);else if(1===arguments.length){var n=arguments[0];t.call(this,n)}}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.interfaces_=function(){return[]},n.prototype.getClass=function(){return n},n}($),nt=function(){};nt.prototype.interfaces_=function(){return[]},nt.prototype.getClass=function(){return nt},nt.shouldNeverReachHere=function(){if(0===arguments.length)nt.shouldNeverReachHere(null);else if(1===arguments.length){var t=arguments[0];throw new tt("Should never reach here"+(null!==t?": "+t:""))}},nt.isTrue=function(){var t,n;if(1===arguments.length)t=arguments[0],nt.isTrue(t,null);else if(2===arguments.length&&(n=arguments[1],!(t=arguments[0])))throw null===n?new tt:new tt(n)},nt.equals=function(){var t,n,e;if(2===arguments.length)t=arguments[0],n=arguments[1],nt.equals(t,n,null);else if(3===arguments.length&&(t=arguments[0],e=arguments[2],!(n=arguments[1]).equals(t)))throw new tt("Expected "+t+" but encountered "+n+(null!==e?": "+e:""))};var et=function(){this._result=null,this._inputLines=Array(2).fill().map((function(){return Array(2)})),this._intPt=new Array(2).fill(null),this._intLineIndex=null,this._isProper=null,this._pa=null,this._pb=null,this._precisionModel=null,this._intPt[0]=new V,this._intPt[1]=new V,this._pa=this._intPt[0],this._pb=this._intPt[1],this._result=0},it={DONT_INTERSECT:{configurable:!0},DO_INTERSECT:{configurable:!0},COLLINEAR:{configurable:!0},NO_INTERSECTION:{configurable:!0},POINT_INTERSECTION:{configurable:!0},COLLINEAR_INTERSECTION:{configurable:!0}};et.prototype.getIndexAlongSegment=function(t,n){return this.computeIntLineIndex(),this._intLineIndex[t][n]},et.prototype.getTopologySummary=function(){var t=new T;return this.isEndPoint()&&t.append(" endpoint"),this._isProper&&t.append(" proper"),this.isCollinear()&&t.append(" collinear"),t.toString()},et.prototype.computeIntersection=function(t,n,e,i){this._inputLines[0][0]=t,this._inputLines[0][1]=n,this._inputLines[1][0]=e,this._inputLines[1][1]=i,this._result=this.computeIntersect(t,n,e,i)},et.prototype.getIntersectionNum=function(){return this._result},et.prototype.computeIntLineIndex=function(){if(0===arguments.length)null===this._intLineIndex&&(this._intLineIndex=Array(2).fill().map((function(){return Array(2)})),this.computeIntLineIndex(0),this.computeIntLineIndex(1));else if(1===arguments.length){var t=arguments[0];this.getEdgeDistance(t,0)>this.getEdgeDistance(t,1)?(this._intLineIndex[t][0]=0,this._intLineIndex[t][1]=1):(this._intLineIndex[t][0]=1,this._intLineIndex[t][1]=0)}},et.prototype.isProper=function(){return this.hasIntersection()&&this._isProper},et.prototype.setPrecisionModel=function(t){this._precisionModel=t},et.prototype.isInteriorIntersection=function(){if(0===arguments.length)return!!this.isInteriorIntersection(0)||!!this.isInteriorIntersection(1);if(1===arguments.length){for(var t=arguments[0],n=0;n<this._result;n++)if(!this._intPt[n].equals2D(this._inputLines[t][0])&&!this._intPt[n].equals2D(this._inputLines[t][1]))return!0;return!1}},et.prototype.getIntersection=function(t){return this._intPt[t]},et.prototype.isEndPoint=function(){return this.hasIntersection()&&!this._isProper},et.prototype.hasIntersection=function(){return this._result!==et.NO_INTERSECTION},et.prototype.getEdgeDistance=function(t,n){return et.computeEdgeDistance(this._intPt[n],this._inputLines[t][0],this._inputLines[t][1])},et.prototype.isCollinear=function(){return this._result===et.COLLINEAR_INTERSECTION},et.prototype.toString=function(){return q.toLineString(this._inputLines[0][0],this._inputLines[0][1])+" - "+q.toLineString(this._inputLines[1][0],this._inputLines[1][1])+this.getTopologySummary()},et.prototype.getEndpoint=function(t,n){return this._inputLines[t][n]},et.prototype.isIntersection=function(t){for(var n=0;n<this._result;n++)if(this._intPt[n].equals2D(t))return!0;return!1},et.prototype.getIntersectionAlongSegment=function(t,n){return this.computeIntLineIndex(),this._intPt[this._intLineIndex[t][n]]},et.prototype.interfaces_=function(){return[]},et.prototype.getClass=function(){return et},et.computeEdgeDistance=function(t,n,e){var i=Math.abs(e.x-n.x),o=Math.abs(e.y-n.y),l=-1;if(t.equals(n))l=0;else if(t.equals(e))l=i>o?i:o;else{var s=Math.abs(t.x-n.x),r=Math.abs(t.y-n.y);0!==(l=i>o?s:r)||t.equals(n)||(l=Math.max(s,r))}return nt.isTrue(!(0===l&&!t.equals(n)),"Bad distance calculation"),l},et.nonRobustComputeEdgeDistance=function(t,n,e){var i=t.x-n.x,o=t.y-n.y,l=Math.sqrt(i*i+o*o);return nt.isTrue(!(0===l&&!t.equals(n)),"Invalid distance calculation"),l},it.DONT_INTERSECT.get=function(){return 0},it.DO_INTERSECT.get=function(){return 1},it.COLLINEAR.get=function(){return 2},it.NO_INTERSECTION.get=function(){return 0},it.POINT_INTERSECTION.get=function(){return 1},it.COLLINEAR_INTERSECTION.get=function(){return 2},Object.defineProperties(et,it);var ot=function(t){function n(){t.apply(this,arguments)}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.isInSegmentEnvelopes=function(t){var n=new E(this._inputLines[0][0],this._inputLines[0][1]),e=new E(this._inputLines[1][0],this._inputLines[1][1]);return n.contains(t)&&e.contains(t)},n.prototype.computeIntersection=function(){if(3!==arguments.length)return t.prototype.computeIntersection.apply(this,arguments);var n=arguments[0],e=arguments[1],i=arguments[2];if(this._isProper=!1,E.intersects(e,i,n)&&0===rt.orientationIndex(e,i,n)&&0===rt.orientationIndex(i,e,n))return this._isProper=!0,(n.equals(e)||n.equals(i))&&(this._isProper=!1),this._result=t.POINT_INTERSECTION,null;this._result=t.NO_INTERSECTION},n.prototype.normalizeToMinimum=function(t,n,e,i,o){o.x=this.smallestInAbsValue(t.x,n.x,e.x,i.x),o.y=this.smallestInAbsValue(t.y,n.y,e.y,i.y),t.x-=o.x,t.y-=o.y,n.x-=o.x,n.y-=o.y,e.x-=o.x,e.y-=o.y,i.x-=o.x,i.y-=o.y},n.prototype.safeHCoordinateIntersection=function(t,e,i,o){var l=null;try{l=U.intersection(t,e,i,o)}catch(s){if(!(s instanceof B))throw s;l=n.nearestEndpoint(t,e,i,o)}return l},n.prototype.intersection=function(t,e,i,o){var l=this.intersectionWithNormalization(t,e,i,o);return this.isInSegmentEnvelopes(l)||(l=new V(n.nearestEndpoint(t,e,i,o))),null!==this._precisionModel&&this._precisionModel.makePrecise(l),l},n.prototype.smallestInAbsValue=function(t,n,e,i){var o=t,l=Math.abs(o);return Math.abs(n)<l&&(o=n,l=Math.abs(n)),Math.abs(e)<l&&(o=e,l=Math.abs(e)),Math.abs(i)<l&&(o=i),o},n.prototype.checkDD=function(t,n,e,i,o){var l=z.intersection(t,n,e,i),s=this.isInSegmentEnvelopes(l);_.out.println("DD in env = "+s+"  --------------------- "+l),o.distance(l)>1e-4&&_.out.println("Distance = "+o.distance(l))},n.prototype.intersectionWithNormalization=function(t,n,e,i){var o=new V(t),l=new V(n),s=new V(e),r=new V(i),a=new V;this.normalizeToEnvCentre(o,l,s,r,a);var d=this.safeHCoordinateIntersection(o,l,s,r);return d.x+=a.x,d.y+=a.y,d},n.prototype.computeCollinearIntersection=function(n,e,i,o){var l=E.intersects(n,e,i),s=E.intersects(n,e,o),r=E.intersects(i,o,n),a=E.intersects(i,o,e);return l&&s?(this._intPt[0]=i,this._intPt[1]=o,t.COLLINEAR_INTERSECTION):r&&a?(this._intPt[0]=n,this._intPt[1]=e,t.COLLINEAR_INTERSECTION):l&&r?(this._intPt[0]=i,this._intPt[1]=n,!i.equals(n)||s||a?t.COLLINEAR_INTERSECTION:t.POINT_INTERSECTION):l&&a?(this._intPt[0]=i,this._intPt[1]=e,!i.equals(e)||s||r?t.COLLINEAR_INTERSECTION:t.POINT_INTERSECTION):s&&r?(this._intPt[0]=o,this._intPt[1]=n,!o.equals(n)||l||a?t.COLLINEAR_INTERSECTION:t.POINT_INTERSECTION):s&&a?(this._intPt[0]=o,this._intPt[1]=e,!o.equals(e)||l||r?t.COLLINEAR_INTERSECTION:t.POINT_INTERSECTION):t.NO_INTERSECTION},n.prototype.normalizeToEnvCentre=function(t,n,e,i,o){var l=t.x<n.x?t.x:n.x,s=t.y<n.y?t.y:n.y,r=t.x>n.x?t.x:n.x,a=t.y>n.y?t.y:n.y,d=e.x<i.x?e.x:i.x,c=e.y<i.y?e.y:i.y,u=e.x>i.x?e.x:i.x,p=e.y>i.y?e.y:i.y,h=((l>d?l:d)+(r<u?r:u))/2,m=((s>c?s:c)+(a<p?a:p))/2;o.x=h,o.y=m,t.x-=o.x,t.y-=o.y,n.x-=o.x,n.y-=o.y,e.x-=o.x,e.y-=o.y,i.x-=o.x,i.y-=o.y},n.prototype.computeIntersect=function(n,e,i,o){if(this._isProper=!1,!E.intersects(n,e,i,o))return t.NO_INTERSECTION;var l=rt.orientationIndex(n,e,i),s=rt.orientationIndex(n,e,o);if(l>0&&s>0||l<0&&s<0)return t.NO_INTERSECTION;var r=rt.orientationIndex(i,o,n),a=rt.orientationIndex(i,o,e);return r>0&&a>0||r<0&&a<0?t.NO_INTERSECTION:0===l&&0===s&&0===r&&0===a?this.computeCollinearIntersection(n,e,i,o):(0===l||0===s||0===r||0===a?(this._isProper=!1,n.equals2D(i)||n.equals2D(o)?this._intPt[0]=n:e.equals2D(i)||e.equals2D(o)?this._intPt[0]=e:0===l?this._intPt[0]=new V(i):0===s?this._intPt[0]=new V(o):0===r?this._intPt[0]=new V(n):0===a&&(this._intPt[0]=new V(e))):(this._isProper=!0,this._intPt[0]=this.intersection(n,e,i,o)),t.POINT_INTERSECTION)},n.prototype.interfaces_=function(){return[]},n.prototype.getClass=function(){return n},n.nearestEndpoint=function(t,n,e,i){var o=t,l=rt.distancePointLine(t,e,i),s=rt.distancePointLine(n,e,i);return s<l&&(l=s,o=n),(s=rt.distancePointLine(e,t,n))<l&&(l=s,o=e),(s=rt.distancePointLine(i,t,n))<l&&(l=s,o=i),o},n}(et),lt=function(){};lt.prototype.interfaces_=function(){return[]},lt.prototype.getClass=function(){return lt},lt.orientationIndex=function(t,n,e){var i=n.x-t.x,o=n.y-t.y,l=e.x-n.x,s=e.y-n.y;return lt.signOfDet2x2(i,o,l,s)},lt.signOfDet2x2=function(t,n,e,i){var o=null,l=null,s=null;if(o=1,0===t||0===i)return 0===n||0===e?0:n>0?e>0?-o:o:e>0?o:-o;if(0===n||0===e)return i>0?t>0?o:-o:t>0?-o:o;if(n>0?i>0?n<=i||(o=-o,l=t,t=e,e=l,l=n,n=i,i=l):n<=-i?(o=-o,e=-e,i=-i):(l=t,t=-e,e=l,l=n,n=-i,i=l):i>0?-n<=i?(o=-o,t=-t,n=-n):(l=-t,t=e,e=l,l=-n,n=i,i=l):n>=i?(t=-t,n=-n,e=-e,i=-i):(o=-o,l=-t,t=-e,e=l,l=-n,n=-i,i=l),t>0){if(!(e>0))return o;if(!(t<=e))return o}else{if(e>0)return-o;if(!(t>=e))return-o;o=-o,t=-t,e=-e}for(;;){if((i-=(s=Math.floor(e/t))*n)<0)return-o;if(i>n)return o;if(t>(e-=s*t)+e){if(n<i+i)return o}else{if(n>i+i)return-o;e=t-e,i=n-i,o=-o}if(0===i)return 0===e?0:-o;if(0===e)return o;if((n-=(s=Math.floor(t/e))*i)<0)return o;if(n>i)return-o;if(e>(t-=s*e)+t){if(i<n+n)return-o}else{if(i>n+n)return o;t=e-t,n=i-n,o=-o}if(0===n)return 0===t?0:o;if(0===t)return-o}};var st=function(){this._p=null,this._crossingCount=0,this._isPointOnSegment=!1;var t=arguments[0];this._p=t};st.prototype.countSegment=function(t,n){if(t.x<this._p.x&&n.x<this._p.x)return null;if(this._p.x===n.x&&this._p.y===n.y)return this._isPointOnSegment=!0,null;if(t.y===this._p.y&&n.y===this._p.y){var e=t.x,i=n.x;return e>i&&(e=n.x,i=t.x),this._p.x>=e&&this._p.x<=i&&(this._isPointOnSegment=!0),null}if(t.y>this._p.y&&n.y<=this._p.y||n.y>this._p.y&&t.y<=this._p.y){var o=t.x-this._p.x,l=t.y-this._p.y,s=n.x-this._p.x,r=n.y-this._p.y,a=lt.signOfDet2x2(o,l,s,r);if(0===a)return this._isPointOnSegment=!0,null;r<l&&(a=-a),a>0&&this._crossingCount++}},st.prototype.isPointInPolygon=function(){return this.getLocation()!==R.EXTERIOR},st.prototype.getLocation=function(){return this._isPointOnSegment?R.BOUNDARY:this._crossingCount%2==1?R.INTERIOR:R.EXTERIOR},st.prototype.isOnSegment=function(){return this._isPointOnSegment},st.prototype.interfaces_=function(){return[]},st.prototype.getClass=function(){return st},st.locatePointInRing=function(){if(arguments[0]instanceof V&&H(arguments[1],N)){for(var t=arguments[1],n=new st(arguments[0]),e=new V,i=new V,o=1;o<t.size();o++)if(t.getCoordinate(o,e),t.getCoordinate(o-1,i),n.countSegment(e,i),n.isOnSegment())return n.getLocation();return n.getLocation()}if(arguments[0]instanceof V&&arguments[1]instanceof Array){for(var l=arguments[1],s=new st(arguments[0]),r=1;r<l.length;r++){var a=l[r],d=l[r-1];if(s.countSegment(a,d),s.isOnSegment())return s.getLocation()}return s.getLocation()}};var rt=function(){},at={CLOCKWISE:{configurable:!0},RIGHT:{configurable:!0},COUNTERCLOCKWISE:{configurable:!0},LEFT:{configurable:!0},COLLINEAR:{configurable:!0},STRAIGHT:{configurable:!0}};rt.prototype.interfaces_=function(){return[]},rt.prototype.getClass=function(){return rt},rt.orientationIndex=function(t,n,e){return z.orientationIndex(t,n,e)},rt.signedArea=function(){if(arguments[0]instanceof Array){var t=arguments[0];if(t.length<3)return 0;for(var n=0,e=t[0].x,i=1;i<t.length-1;i++){var o=t[i].x-e,l=t[i+1].y;n+=o*(t[i-1].y-l)}return n/2}if(H(arguments[0],N)){var s=arguments[0],r=s.size();if(r<3)return 0;var a=new V,d=new V,c=new V;s.getCoordinate(0,d),s.getCoordinate(1,c);var u=d.x;c.x-=u;for(var p=0,h=1;h<r-1;h++)a.y=d.y,d.x=c.x,d.y=c.y,s.getCoordinate(h+1,c),c.x-=u,p+=d.x*(a.y-c.y);return p/2}},rt.distanceLineLine=function(t,n,e,i){if(t.equals(n))return rt.distancePointLine(t,e,i);if(e.equals(i))return rt.distancePointLine(i,t,n);var o=!1;if(E.intersects(t,n,e,i)){var l=(n.x-t.x)*(i.y-e.y)-(n.y-t.y)*(i.x-e.x);if(0===l)o=!0;else{var s=(t.y-e.y)*(i.x-e.x)-(t.x-e.x)*(i.y-e.y),r=((t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y))/l,a=s/l;(a<0||a>1||r<0||r>1)&&(o=!0)}}else o=!0;return o?C.min(rt.distancePointLine(t,e,i),rt.distancePointLine(n,e,i),rt.distancePointLine(e,t,n),rt.distancePointLine(i,t,n)):0},rt.isPointInRing=function(t,n){return rt.locatePointInRing(t,n)!==R.EXTERIOR},rt.computeLength=function(t){var n=t.size();if(n<=1)return 0;var e=0,i=new V;t.getCoordinate(0,i);for(var o=i.x,l=i.y,s=1;s<n;s++){t.getCoordinate(s,i);var r=i.x,a=i.y,d=r-o,c=a-l;e+=Math.sqrt(d*d+c*c),o=r,l=a}return e},rt.isCCW=function(t){var n=t.length-1;if(n<3)throw new X("Ring has fewer than 4 points, so orientation cannot be determined");for(var e=t[0],i=0,o=1;o<=n;o++){var l=t[o];l.y>e.y&&(e=l,i=o)}var s=i;do{(s-=1)<0&&(s=n)}while(t[s].equals2D(e)&&s!==i);var r=i;do{r=(r+1)%n}while(t[r].equals2D(e)&&r!==i);var a=t[s],d=t[r];if(a.equals2D(e)||d.equals2D(e)||a.equals2D(d))return!1;var c=rt.computeOrientation(a,e,d);return 0===c?a.x>d.x:c>0},rt.locatePointInRing=function(t,n){return st.locatePointInRing(t,n)},rt.distancePointLinePerpendicular=function(t,n,e){var i=(e.x-n.x)*(e.x-n.x)+(e.y-n.y)*(e.y-n.y),o=((n.y-t.y)*(e.x-n.x)-(n.x-t.x)*(e.y-n.y))/i;return Math.abs(o)*Math.sqrt(i)},rt.computeOrientation=function(t,n,e){return rt.orientationIndex(t,n,e)},rt.distancePointLine=function(){if(2===arguments.length){var t=arguments[0],n=arguments[1];if(0===n.length)throw new X("Line array must contain at least one vertex");for(var e=t.distance(n[0]),i=0;i<n.length-1;i++){var o=rt.distancePointLine(t,n[i],n[i+1]);o<e&&(e=o)}return e}if(3===arguments.length){var l=arguments[0],s=arguments[1],r=arguments[2];if(s.x===r.x&&s.y===r.y)return l.distance(s);var a=(r.x-s.x)*(r.x-s.x)+(r.y-s.y)*(r.y-s.y),d=((l.x-s.x)*(r.x-s.x)+(l.y-s.y)*(r.y-s.y))/a;if(d<=0)return l.distance(s);if(d>=1)return l.distance(r);var c=((s.y-l.y)*(r.x-s.x)-(s.x-l.x)*(r.y-s.y))/a;return Math.abs(c)*Math.sqrt(a)}},rt.isOnLine=function(t,n){for(var e=new ot,i=1;i<n.length;i++){var o=n[i-1],l=n[i];if(e.computeIntersection(t,o,l),e.hasIntersection())return!0}return!1},at.CLOCKWISE.get=function(){return-1},at.RIGHT.get=function(){return rt.CLOCKWISE},at.COUNTERCLOCKWISE.get=function(){return 1},at.LEFT.get=function(){return rt.COUNTERCLOCKWISE},at.COLLINEAR.get=function(){return 0},at.STRAIGHT.get=function(){return rt.COLLINEAR},Object.defineProperties(rt,at);var dt=function(){};dt.prototype.filter=function(t){},dt.prototype.interfaces_=function(){return[]},dt.prototype.getClass=function(){return dt};var ct=function(){var t=arguments[0];this._envelope=null,this._factory=null,this._SRID=null,this._userData=null,this._factory=t,this._SRID=t.getSRID()},ut={serialVersionUID:{configurable:!0},SORTINDEX_POINT:{configurable:!0},SORTINDEX_MULTIPOINT:{configurable:!0},SORTINDEX_LINESTRING:{configurable:!0},SORTINDEX_LINEARRING:{configurable:!0},SORTINDEX_MULTILINESTRING:{configurable:!0},SORTINDEX_POLYGON:{configurable:!0},SORTINDEX_MULTIPOLYGON:{configurable:!0},SORTINDEX_GEOMETRYCOLLECTION:{configurable:!0},geometryChangedFilter:{configurable:!0}};ct.prototype.isGeometryCollection=function(){return this.getSortIndex()===ct.SORTINDEX_GEOMETRYCOLLECTION},ct.prototype.getFactory=function(){return this._factory},ct.prototype.getGeometryN=function(t){return this},ct.prototype.getArea=function(){return 0},ct.prototype.isRectangle=function(){return!1},ct.prototype.equals=function(){if(arguments[0]instanceof ct){var t=arguments[0];return null!==t&&this.equalsTopo(t)}if(arguments[0]instanceof Object){var n=arguments[0];if(!(n instanceof ct))return!1;var e=n;return this.equalsExact(e)}},ct.prototype.equalsExact=function(t){return this===t||this.equalsExact(t,0)},ct.prototype.geometryChanged=function(){this.apply(ct.geometryChangedFilter)},ct.prototype.geometryChangedAction=function(){this._envelope=null},ct.prototype.equalsNorm=function(t){return null!==t&&this.norm().equalsExact(t.norm())},ct.prototype.getLength=function(){return 0},ct.prototype.getNumGeometries=function(){return 1},ct.prototype.compareTo=function(){if(1===arguments.length){var t=arguments[0],n=t;return this.getSortIndex()!==n.getSortIndex()?this.getSortIndex()-n.getSortIndex():this.isEmpty()&&n.isEmpty()?0:this.isEmpty()?-1:n.isEmpty()?1:this.compareToSameClass(t)}if(2===arguments.length){var e=arguments[0],i=arguments[1];return this.getSortIndex()!==e.getSortIndex()?this.getSortIndex()-e.getSortIndex():this.isEmpty()&&e.isEmpty()?0:this.isEmpty()?-1:e.isEmpty()?1:this.compareToSameClass(e,i)}},ct.prototype.getUserData=function(){return this._userData},ct.prototype.getSRID=function(){return this._SRID},ct.prototype.getEnvelope=function(){return this.getFactory().toGeometry(this.getEnvelopeInternal())},ct.prototype.checkNotGeometryCollection=function(t){if(t.getSortIndex()===ct.SORTINDEX_GEOMETRYCOLLECTION)throw new X("This method does not support GeometryCollection arguments")},ct.prototype.equal=function(t,n,e){return 0===e?t.equals(n):t.distance(n)<=e},ct.prototype.norm=function(){var t=this.copy();return t.normalize(),t},ct.prototype.getPrecisionModel=function(){return this._factory.getPrecisionModel()},ct.prototype.getEnvelopeInternal=function(){return null===this._envelope&&(this._envelope=this.computeEnvelopeInternal()),new E(this._envelope)},ct.prototype.setSRID=function(t){this._SRID=t},ct.prototype.setUserData=function(t){this._userData=t},ct.prototype.compare=function(t,n){for(var e=t.iterator(),i=n.iterator();e.hasNext()&&i.hasNext();){var o=e.next(),l=i.next(),s=o.compareTo(l);if(0!==s)return s}return e.hasNext()?1:i.hasNext()?-1:0},ct.prototype.hashCode=function(){return this.getEnvelopeInternal().hashCode()},ct.prototype.isGeometryCollectionOrDerived=function(){return this.getSortIndex()===ct.SORTINDEX_GEOMETRYCOLLECTION||this.getSortIndex()===ct.SORTINDEX_MULTIPOINT||this.getSortIndex()===ct.SORTINDEX_MULTILINESTRING||this.getSortIndex()===ct.SORTINDEX_MULTIPOLYGON},ct.prototype.interfaces_=function(){return[g,W,n]},ct.prototype.getClass=function(){return ct},ct.hasNonEmptyElements=function(t){for(var n=0;n<t.length;n++)if(!t[n].isEmpty())return!0;return!1},ct.hasNullElements=function(t){for(var n=0;n<t.length;n++)if(null===t[n])return!0;return!1},ut.serialVersionUID.get=function(){return 0x799ea46522854c00},ut.SORTINDEX_POINT.get=function(){return 0},ut.SORTINDEX_MULTIPOINT.get=function(){return 1},ut.SORTINDEX_LINESTRING.get=function(){return 2},ut.SORTINDEX_LINEARRING.get=function(){return 3},ut.SORTINDEX_MULTILINESTRING.get=function(){return 4},ut.SORTINDEX_POLYGON.get=function(){return 5},ut.SORTINDEX_MULTIPOLYGON.get=function(){return 6},ut.SORTINDEX_GEOMETRYCOLLECTION.get=function(){return 7},ut.geometryChangedFilter.get=function(){return pt},Object.defineProperties(ct,ut);var pt=function(){};pt.interfaces_=function(){return[dt]},pt.filter=function(t){t.geometryChangedAction()};var ht=function(){};ht.prototype.filter=function(t){},ht.prototype.interfaces_=function(){return[]},ht.prototype.getClass=function(){return ht};var mt=function(){},bt={Mod2BoundaryNodeRule:{configurable:!0},EndPointBoundaryNodeRule:{configurable:!0},MultiValentEndPointBoundaryNodeRule:{configurable:!0},MonoValentEndPointBoundaryNodeRule:{configurable:!0},MOD2_BOUNDARY_RULE:{configurable:!0},ENDPOINT_BOUNDARY_RULE:{configurable:!0},MULTIVALENT_ENDPOINT_BOUNDARY_RULE:{configurable:!0},MONOVALENT_ENDPOINT_BOUNDARY_RULE:{configurable:!0},OGC_SFS_BOUNDARY_RULE:{configurable:!0}};mt.prototype.isInBoundary=function(t){},mt.prototype.interfaces_=function(){return[]},mt.prototype.getClass=function(){return mt},bt.Mod2BoundaryNodeRule.get=function(){return yt},bt.EndPointBoundaryNodeRule.get=function(){return Zt},bt.MultiValentEndPointBoundaryNodeRule.get=function(){return Xt},bt.MonoValentEndPointBoundaryNodeRule.get=function(){return ft},bt.MOD2_BOUNDARY_RULE.get=function(){return new yt},bt.ENDPOINT_BOUNDARY_RULE.get=function(){return new Zt},bt.MULTIVALENT_ENDPOINT_BOUNDARY_RULE.get=function(){return new Xt},bt.MONOVALENT_ENDPOINT_BOUNDARY_RULE.get=function(){return new ft},bt.OGC_SFS_BOUNDARY_RULE.get=function(){return mt.MOD2_BOUNDARY_RULE},Object.defineProperties(mt,bt);var yt=function(){};yt.prototype.isInBoundary=function(t){return t%2==1},yt.prototype.interfaces_=function(){return[mt]},yt.prototype.getClass=function(){return yt};var Zt=function(){};Zt.prototype.isInBoundary=function(t){return t>0},Zt.prototype.interfaces_=function(){return[mt]},Zt.prototype.getClass=function(){return Zt};var Xt=function(){};Xt.prototype.isInBoundary=function(t){return t>1},Xt.prototype.interfaces_=function(){return[mt]},Xt.prototype.getClass=function(){return Xt};var ft=function(){};ft.prototype.isInBoundary=function(t){return 1===t},ft.prototype.interfaces_=function(){return[mt]},ft.prototype.getClass=function(){return ft};var Gt=function(){};Gt.prototype.add=function(){},Gt.prototype.addAll=function(){},Gt.prototype.isEmpty=function(){},Gt.prototype.iterator=function(){},Gt.prototype.size=function(){},Gt.prototype.toArray=function(){},Gt.prototype.remove=function(){},(e.prototype=new Error).name="IndexOutOfBoundsException";var Wt=function(){};Wt.prototype.hasNext=function(){},Wt.prototype.next=function(){},Wt.prototype.remove=function(){};var gt=function(t){function n(){t.apply(this,arguments)}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.get=function(){},n.prototype.set=function(){},n.prototype.isEmpty=function(){},n}(Gt);(i.prototype=new Error).name="NoSuchElementException";var vt=function(t){function n(){t.call(this),this.array_=[],arguments[0]instanceof Gt&&this.addAll(arguments[0])}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.ensureCapacity=function(){},n.prototype.interfaces_=function(){return[t,Gt]},n.prototype.add=function(t){return 1===arguments.length?this.array_.push(t):this.array_.splice(arguments[0],arguments[1]),!0},n.prototype.clear=function(){this.array_=[]},n.prototype.addAll=function(t){for(var n=t.iterator();n.hasNext();)this.add(n.next());return!0},n.prototype.set=function(t,n){var e=this.array_[t];return this.array_[t]=n,e},n.prototype.iterator=function(){return new Vt(this)},n.prototype.get=function(t){if(t<0||t>=this.size())throw new e;return this.array_[t]},n.prototype.isEmpty=function(){return 0===this.array_.length},n.prototype.size=function(){return this.array_.length},n.prototype.toArray=function(){for(var t=[],n=0,e=this.array_.length;n<e;n++)t.push(this.array_[n]);return t},n.prototype.remove=function(t){for(var n=!1,e=0,i=this.array_.length;e<i;e++)if(this.array_[e]===t){this.array_.splice(e,1),n=!0;break}return n},n}(gt),Vt=function(t){function n(n){t.call(this),this.arrayList_=n,this.position_=0}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.next=function(){if(this.position_===this.arrayList_.size())throw new i;return this.arrayList_.get(this.position_++)},n.prototype.hasNext=function(){return this.position_<this.arrayList_.size()},n.prototype.set=function(t){return this.arrayList_.set(this.position_-1,t)},n.prototype.remove=function(){this.arrayList_.remove(this.arrayList_.get(this.position_))},n}(Wt),xt=function(t){function n(){if(t.call(this),0===arguments.length);else if(1===arguments.length){var n=arguments[0];this.ensureCapacity(n.length),this.add(n,!0)}else if(2===arguments.length){var e=arguments[0],i=arguments[1];this.ensureCapacity(e.length),this.add(e,i)}}t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n;var e={coordArrayType:{configurable:!0}};return e.coordArrayType.get=function(){return new Array(0).fill(null)},n.prototype.getCoordinate=function(t){return this.get(t)},n.prototype.addAll=function(){if(2===arguments.length){for(var n=arguments[1],e=!1,i=arguments[0].iterator();i.hasNext();)this.add(i.next(),n),e=!0;return e}return t.prototype.addAll.apply(this,arguments)},n.prototype.clone=function(){for(var n=t.prototype.clone.call(this),e=0;e<this.size();e++)n.add(e,this.get(e).copy());return n},n.prototype.toCoordinateArray=function(){return this.toArray(n.coordArrayType)},n.prototype.add=function(){if(1===arguments.length){var n=arguments[0];t.prototype.add.call(this,n)}else if(2===arguments.length){if(arguments[0]instanceof Array&&"boolean"==typeof arguments[1]){var e=arguments[0],i=arguments[1];return this.add(e,i,!0),!0}if(arguments[0]instanceof V&&"boolean"==typeof arguments[1]){var o=arguments[0];if(!arguments[1]&&this.size()>=1&&this.get(this.size()-1).equals2D(o))return null;t.prototype.add.call(this,o)}else if(arguments[0]instanceof Object&&"boolean"==typeof arguments[1]){var l=arguments[0],s=arguments[1];return this.add(l,s),!0}}else if(3===arguments.length){if("boolean"==typeof arguments[2]&&arguments[0]instanceof Array&&"boolean"==typeof arguments[1]){var r=arguments[0],a=arguments[1];if(arguments[2])for(var d=0;d<r.length;d++)this.add(r[d],a);else for(var c=r.length-1;c>=0;c--)this.add(r[c],a);return!0}if("boolean"==typeof arguments[2]&&Number.isInteger(arguments[0])&&arguments[1]instanceof V){var u=arguments[0],p=arguments[1];if(!arguments[2]){var h=this.size();if(h>0){if(u>0&&this.get(u-1).equals2D(p))return null;if(u<h&&this.get(u).equals2D(p))return null}}t.prototype.add.call(this,u,p)}}else if(4===arguments.length){var m=arguments[0],b=arguments[1],y=arguments[2],Z=arguments[3],X=1;y>Z&&(X=-1);for(var f=y;f!==Z;f+=X)this.add(m[f],b);return!0}},n.prototype.closeRing=function(){this.size()>0&&this.add(new V(this.get(0)),!1)},n.prototype.interfaces_=function(){return[]},n.prototype.getClass=function(){return n},Object.defineProperties(n,e),n}(vt),St=function(){},Lt={ForwardComparator:{configurable:!0},BidirectionalComparator:{configurable:!0},coordArrayType:{configurable:!0}};Lt.ForwardComparator.get=function(){return Rt},Lt.BidirectionalComparator.get=function(){return Kt},Lt.coordArrayType.get=function(){return new Array(0).fill(null)},St.prototype.interfaces_=function(){return[]},St.prototype.getClass=function(){return St},St.isRing=function(t){return!(t.length<4||!t[0].equals2D(t[t.length-1]))},St.ptNotInList=function(t,n){for(var e=0;e<t.length;e++){var i=t[e];if(St.indexOf(i,n)<0)return i}return null},St.scroll=function(t,n){var e=St.indexOf(n,t);if(e<0)return null;var i=new Array(t.length).fill(null);_.arraycopy(t,e,i,0,t.length-e),_.arraycopy(t,0,i,t.length-e,e),_.arraycopy(i,0,t,0,t.length)},St.equals=function(){if(2===arguments.length){var t=arguments[0],n=arguments[1];if(t===n)return!0;if(null===t||null===n)return!1;if(t.length!==n.length)return!1;for(var e=0;e<t.length;e++)if(!t[e].equals(n[e]))return!1;return!0}if(3===arguments.length){var i=arguments[0],o=arguments[1],l=arguments[2];if(i===o)return!0;if(null===i||null===o)return!1;if(i.length!==o.length)return!1;for(var s=0;s<i.length;s++)if(0!==l.compare(i[s],o[s]))return!1;return!0}},St.intersection=function(t,n){for(var e=new xt,i=0;i<t.length;i++)n.intersects(t[i])&&e.add(t[i],!0);return e.toCoordinateArray()},St.hasRepeatedPoints=function(t){for(var n=1;n<t.length;n++)if(t[n-1].equals(t[n]))return!0;return!1},St.removeRepeatedPoints=function(t){return St.hasRepeatedPoints(t)?new xt(t,!1).toCoordinateArray():t},St.reverse=function(t){for(var n=t.length-1,e=Math.trunc(n/2),i=0;i<=e;i++){var o=t[i];t[i]=t[n-i],t[n-i]=o}},St.removeNull=function(t){for(var n=0,e=0;e<t.length;e++)null!==t[e]&&n++;var i=new Array(n).fill(null);if(0===n)return i;for(var o=0,l=0;l<t.length;l++)null!==t[l]&&(i[o++]=t[l]);return i},St.copyDeep=function(){if(1===arguments.length){for(var t=arguments[0],n=new Array(t.length).fill(null),e=0;e<t.length;e++)n[e]=new V(t[e]);return n}if(5===arguments.length)for(var i=arguments[0],o=arguments[1],l=arguments[2],s=arguments[3],r=arguments[4],a=0;a<r;a++)l[s+a]=new V(i[o+a])},St.isEqualReversed=function(t,n){for(var e=0;e<t.length;e++){var i=t[e],o=n[t.length-e-1];if(0!==i.compareTo(o))return!1}return!0},St.envelope=function(t){for(var n=new E,e=0;e<t.length;e++)n.expandToInclude(t[e]);return n},St.toCoordinateArray=function(t){return t.toArray(St.coordArrayType)},St.atLeastNCoordinatesOrNothing=function(t,n){return n.length>=t?n:[]},St.indexOf=function(t,n){for(var e=0;e<n.length;e++)if(t.equals(n[e]))return e;return-1},St.increasingDirection=function(t){for(var n=0;n<Math.trunc(t.length/2);n++){var e=t.length-1-n,i=t[n].compareTo(t[e]);if(0!==i)return i}return 1},St.compare=function(t,n){for(var e=0;e<t.length&&e<n.length;){var i=t[e].compareTo(n[e]);if(0!==i)return i;e++}return e<n.length?-1:e<t.length?1:0},St.minCoordinate=function(t){for(var n=null,e=0;e<t.length;e++)(null===n||n.compareTo(t[e])>0)&&(n=t[e]);return n},St.extract=function(t,n,e){n=C.clamp(n,0,t.length);var i=(e=C.clamp(e,-1,t.length))-n+1;e<0&&(i=0),n>=t.length&&(i=0),e<n&&(i=0);var o=new Array(i).fill(null);if(0===i)return o;for(var l=0,s=n;s<=e;s++)o[l++]=t[s];return o},Object.defineProperties(St,Lt);var Rt=function(){};Rt.prototype.compare=function(t,n){return St.compare(t,n)},Rt.prototype.interfaces_=function(){return[v]},Rt.prototype.getClass=function(){return Rt};var Kt=function(){};Kt.prototype.compare=function(t,n){var e=t,i=n;if(e.length<i.length)return-1;if(e.length>i.length)return 1;if(0===e.length)return 0;var o=St.compare(e,i);return St.isEqualReversed(e,i)?0:o},Kt.prototype.OLDcompare=function(t,n){var e=t,i=n;if(e.length<i.length)return-1;if(e.length>i.length)return 1;if(0===e.length)return 0;for(var o=St.increasingDirection(e),l=St.increasingDirection(i),s=o>0?0:e.length-1,r=l>0?0:e.length-1,a=0;a<e.length;a++){var d=e[s].compareTo(i[r]);if(0!==d)return d;s+=o,r+=l}return 0},Kt.prototype.interfaces_=function(){return[v]},Kt.prototype.getClass=function(){return Kt};var Ht=function(){};Ht.prototype.get=function(){},Ht.prototype.put=function(){},Ht.prototype.size=function(){},Ht.prototype.values=function(){},Ht.prototype.entrySet=function(){};var Ct=function(t){function n(){t.apply(this,arguments)}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n}(Ht);(o.prototype=new Error).name="OperationNotSupported",(l.prototype=new Gt).contains=function(){};var Yt=function(t){function n(){t.call(this),this.array_=[],arguments[0]instanceof Gt&&this.addAll(arguments[0])}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.contains=function(t){for(var n=0,e=this.array_.length;n<e;n++)if(this.array_[n]===t)return!0;return!1},n.prototype.add=function(t){return!this.contains(t)&&(this.array_.push(t),!0)},n.prototype.addAll=function(t){for(var n=t.iterator();n.hasNext();)this.add(n.next());return!0},n.prototype.remove=function(t){throw new Error},n.prototype.size=function(){return this.array_.length},n.prototype.isEmpty=function(){return 0===this.array_.length},n.prototype.toArray=function(){for(var t=[],n=0,e=this.array_.length;n<e;n++)t.push(this.array_[n]);return t},n.prototype.iterator=function(){return new Tt(this)},n}(l),Tt=function(t){function n(n){t.call(this),this.hashSet_=n,this.position_=0}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.next=function(){if(this.position_===this.hashSet_.size())throw new i;return this.hashSet_.array_[this.position_++]},n.prototype.hasNext=function(){return this.position_<this.hashSet_.size()},n.prototype.remove=function(){throw new o},n}(Wt),Mt=0;(u.prototype=new Ct).get=function(t){for(var n=this.root_;null!==n;){var e=t.compareTo(n.key);if(e<0)n=n.left;else{if(!(e>0))return n.value;n=n.right}}return null},u.prototype.put=function(t,n){if(null===this.root_)return this.root_={key:t,value:n,left:null,right:null,parent:null,color:Mt,getValue:function(){return this.value},getKey:function(){return this.key}},this.size_=1,null;var e,i,o=this.root_;do{if(e=o,(i=t.compareTo(o.key))<0)o=o.left;else{if(!(i>0)){var l=o.value;return o.value=n,l}o=o.right}}while(null!==o);var s={key:t,left:null,right:null,value:n,parent:e,color:Mt,getValue:function(){return this.value},getKey:function(){return this.key}};return i<0?e.left=s:e.right=s,this.fixAfterInsertion(s),this.size_++,null},u.prototype.fixAfterInsertion=function(t){for(t.color=1;null!=t&&t!==this.root_&&1===t.parent.color;)if(r(t)===d(r(r(t)))){var n=c(r(r(t)));1===s(n)?(a(r(t),Mt),a(n,Mt),a(r(r(t)),1),t=r(r(t))):(t===c(r(t))&&(t=r(t),this.rotateLeft(t)),a(r(t),Mt),a(r(r(t)),1),this.rotateRight(r(r(t))))}else{var e=d(r(r(t)));1===s(e)?(a(r(t),Mt),a(e,Mt),a(r(r(t)),1),t=r(r(t))):(t===d(r(t))&&(t=r(t),this.rotateRight(t)),a(r(t),Mt),a(r(r(t)),1),this.rotateLeft(r(r(t))))}this.root_.color=Mt},u.prototype.values=function(){var t=new vt,n=this.getFirstEntry();if(null!==n)for(t.add(n.value);null!==(n=u.successor(n));)t.add(n.value);return t},u.prototype.entrySet=function(){var t=new Yt,n=this.getFirstEntry();if(null!==n)for(t.add(n);null!==(n=u.successor(n));)t.add(n);return t},u.prototype.rotateLeft=function(t){if(null!=t){var n=t.right;t.right=n.left,null!=n.left&&(n.left.parent=t),n.parent=t.parent,null===t.parent?this.root_=n:t.parent.left===t?t.parent.left=n:t.parent.right=n,n.left=t,t.parent=n}},u.prototype.rotateRight=function(t){if(null!=t){var n=t.left;t.left=n.right,null!=n.right&&(n.right.parent=t),n.parent=t.parent,null===t.parent?this.root_=n:t.parent.right===t?t.parent.right=n:t.parent.left=n,n.right=t,t.parent=n}},u.prototype.getFirstEntry=function(){var t=this.root_;if(null!=t)for(;null!=t.left;)t=t.left;return t},u.successor=function(t){if(null===t)return null;if(null!==t.right){for(var n=t.right;null!==n.left;)n=n.left;return n}for(var e=t.parent,i=t;null!==e&&i===e.right;)i=e,e=e.parent;return e},u.prototype.size=function(){return this.size_};var wt=function(){};wt.prototype.interfaces_=function(){return[]},wt.prototype.getClass=function(){return wt},p.prototype=new l,(h.prototype=new p).contains=function(t){for(var n=0,e=this.array_.length;n<e;n++)if(0===this.array_[n].compareTo(t))return!0;return!1},h.prototype.add=function(t){if(this.contains(t))return!1;for(var n=0,e=this.array_.length;n<e;n++)if(1===this.array_[n].compareTo(t))return this.array_.splice(n,0,t),!0;return this.array_.push(t),!0},h.prototype.addAll=function(t){for(var n=t.iterator();n.hasNext();)this.add(n.next());return!0},h.prototype.remove=function(t){throw new o},h.prototype.size=function(){return this.array_.length},h.prototype.isEmpty=function(){return 0===this.array_.length},h.prototype.toArray=function(){for(var t=[],n=0,e=this.array_.length;n<e;n++)t.push(this.array_[n]);return t},h.prototype.iterator=function(){return new Pt(this)};var Pt=function(t){this.treeSet_=t,this.position_=0};Pt.prototype.next=function(){if(this.position_===this.treeSet_.size())throw new i;return this.treeSet_.array_[this.position_++]},Pt.prototype.hasNext=function(){return this.position_<this.treeSet_.size()},Pt.prototype.remove=function(){throw new o};var It=function(){};It.sort=function(){var t,n,e,i,o=arguments[0];if(1===arguments.length)i=function(t,n){return t.compareTo(n)},o.sort(i);else if(2===arguments.length)e=arguments[1],i=function(t,n){return e.compare(t,n)},o.sort(i);else if(3===arguments.length){(n=o.slice(arguments[1],arguments[2])).sort();var l=o.slice(0,arguments[1]).concat(n,o.slice(arguments[2],o.length));for(o.splice(0,o.length),t=0;t<l.length;t++)o.push(l[t])}else if(4===arguments.length)for(n=o.slice(arguments[1],arguments[2]),e=arguments[3],i=function(t,n){return e.compare(t,n)},n.sort(i),l=o.slice(0,arguments[1]).concat(n,o.slice(arguments[2],o.length)),o.splice(0,o.length),t=0;t<l.length;t++)o.push(l[t])},It.asList=function(t){for(var n=new vt,e=0,i=t.length;e<i;e++)n.add(t[e]);return n};var zt=function(){},Jt={P:{configurable:!0},L:{configurable:!0},A:{configurable:!0},FALSE:{configurable:!0},TRUE:{configurable:!0},DONTCARE:{configurable:!0},SYM_FALSE:{configurable:!0},SYM_TRUE:{configurable:!0},SYM_DONTCARE:{configurable:!0},SYM_P:{configurable:!0},SYM_L:{configurable:!0},SYM_A:{configurable:!0}};Jt.P.get=function(){return 0},Jt.L.get=function(){return 1},Jt.A.get=function(){return 2},Jt.FALSE.get=function(){return-1},Jt.TRUE.get=function(){return-2},Jt.DONTCARE.get=function(){return-3},Jt.SYM_FALSE.get=function(){return"F"},Jt.SYM_TRUE.get=function(){return"T"},Jt.SYM_DONTCARE.get=function(){return"*"},Jt.SYM_P.get=function(){return"0"},Jt.SYM_L.get=function(){return"1"},Jt.SYM_A.get=function(){return"2"},zt.prototype.interfaces_=function(){return[]},zt.prototype.getClass=function(){return zt},zt.toDimensionSymbol=function(t){switch(t){case zt.FALSE:return zt.SYM_FALSE;case zt.TRUE:return zt.SYM_TRUE;case zt.DONTCARE:return zt.SYM_DONTCARE;case zt.P:return zt.SYM_P;case zt.L:return zt.SYM_L;case zt.A:return zt.SYM_A}throw new X("Unknown dimension value: "+t)},zt.toDimensionValue=function(t){switch(w.toUpperCase(t)){case zt.SYM_FALSE:return zt.FALSE;case zt.SYM_TRUE:return zt.TRUE;case zt.SYM_DONTCARE:return zt.DONTCARE;case zt.SYM_P:return zt.P;case zt.SYM_L:return zt.L;case zt.SYM_A:return zt.A}throw new X("Unknown dimension symbol: "+t)},Object.defineProperties(zt,Jt);var Nt=function(){};Nt.prototype.filter=function(t){},Nt.prototype.interfaces_=function(){return[]},Nt.prototype.getClass=function(){return Nt};var Ft=function(){};Ft.prototype.filter=function(t,n){},Ft.prototype.isDone=function(){},Ft.prototype.isGeometryChanged=function(){},Ft.prototype.interfaces_=function(){return[]},Ft.prototype.getClass=function(){return Ft};var kt=function(t){function n(n,e){if(t.call(this,e),this._geometries=n||[],t.hasNullElements(this._geometries))throw new X("geometries must not contain null elements")}t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n;var e={serialVersionUID:{configurable:!0}};return n.prototype.computeEnvelopeInternal=function(){for(var t=new E,n=0;n<this._geometries.length;n++)t.expandToInclude(this._geometries[n].getEnvelopeInternal());return t},n.prototype.getGeometryN=function(t){return this._geometries[t]},n.prototype.getSortIndex=function(){return t.SORTINDEX_GEOMETRYCOLLECTION},n.prototype.getCoordinates=function(){for(var t=new Array(this.getNumPoints()).fill(null),n=-1,e=0;e<this._geometries.length;e++)for(var i=this._geometries[e].getCoordinates(),o=0;o<i.length;o++)t[++n]=i[o];return t},n.prototype.getArea=function(){for(var t=0,n=0;n<this._geometries.length;n++)t+=this._geometries[n].getArea();return t},n.prototype.equalsExact=function(){if(2===arguments.length){var n=arguments[0],e=arguments[1];if(!this.isEquivalentClass(n))return!1;var i=n;if(this._geometries.length!==i._geometries.length)return!1;for(var o=0;o<this._geometries.length;o++)if(!this._geometries[o].equalsExact(i._geometries[o],e))return!1;return!0}return t.prototype.equalsExact.apply(this,arguments)},n.prototype.normalize=function(){for(var t=0;t<this._geometries.length;t++)this._geometries[t].normalize();It.sort(this._geometries)},n.prototype.getCoordinate=function(){return this.isEmpty()?null:this._geometries[0].getCoordinate()},n.prototype.getBoundaryDimension=function(){for(var t=zt.FALSE,n=0;n<this._geometries.length;n++)t=Math.max(t,this._geometries[n].getBoundaryDimension());return t},n.prototype.getDimension=function(){for(var t=zt.FALSE,n=0;n<this._geometries.length;n++)t=Math.max(t,this._geometries[n].getDimension());return t},n.prototype.getLength=function(){for(var t=0,n=0;n<this._geometries.length;n++)t+=this._geometries[n].getLength();return t},n.prototype.getNumPoints=function(){for(var t=0,n=0;n<this._geometries.length;n++)t+=this._geometries[n].getNumPoints();return t},n.prototype.getNumGeometries=function(){return this._geometries.length},n.prototype.reverse=function(){for(var t=this._geometries.length,n=new Array(t).fill(null),e=0;e<this._geometries.length;e++)n[e]=this._geometries[e].reverse();return this.getFactory().createGeometryCollection(n)},n.prototype.compareToSameClass=function(){if(1===arguments.length){var t=arguments[0],n=new h(It.asList(this._geometries)),e=new h(It.asList(t._geometries));return this.compare(n,e)}if(2===arguments.length){for(var i=arguments[1],o=arguments[0],l=this.getNumGeometries(),s=o.getNumGeometries(),r=0;r<l&&r<s;){var a=this.getGeometryN(r),d=o.getGeometryN(r),c=a.compareToSameClass(d,i);if(0!==c)return c;r++}return r<l?1:r<s?-1:0}},n.prototype.apply=function(){if(H(arguments[0],ht))for(var t=arguments[0],n=0;n<this._geometries.length;n++)this._geometries[n].apply(t);else if(H(arguments[0],Ft)){var e=arguments[0];if(0===this._geometries.length)return null;for(var i=0;i<this._geometries.length&&(this._geometries[i].apply(e),!e.isDone());i++);e.isGeometryChanged()&&this.geometryChanged()}else if(H(arguments[0],Nt)){var o=arguments[0];o.filter(this);for(var l=0;l<this._geometries.length;l++)this._geometries[l].apply(o)}else if(H(arguments[0],dt)){var s=arguments[0];s.filter(this);for(var r=0;r<this._geometries.length;r++)this._geometries[r].apply(s)}},n.prototype.getBoundary=function(){return this.checkNotGeometryCollection(this),nt.shouldNeverReachHere(),null},n.prototype.clone=function(){var n=t.prototype.clone.call(this);n._geometries=new Array(this._geometries.length).fill(null);for(var e=0;e<this._geometries.length;e++)n._geometries[e]=this._geometries[e].clone();return n},n.prototype.getGeometryType=function(){return"GeometryCollection"},n.prototype.copy=function(){for(var t=new Array(this._geometries.length).fill(null),e=0;e<t.length;e++)t[e]=this._geometries[e].copy();return new n(t,this._factory)},n.prototype.isEmpty=function(){for(var t=0;t<this._geometries.length;t++)if(!this._geometries[t].isEmpty())return!1;return!0},n.prototype.interfaces_=function(){return[]},n.prototype.getClass=function(){return n},e.serialVersionUID.get=function(){return-0x4f07bcb1f857d800},Object.defineProperties(n,e),n}(ct),Bt=function(t){function n(){t.apply(this,arguments)}t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n;var e={serialVersionUID:{configurable:!0}};return n.prototype.getSortIndex=function(){return ct.SORTINDEX_MULTILINESTRING},n.prototype.equalsExact=function(){if(2===arguments.length){var n=arguments[0],e=arguments[1];return!!this.isEquivalentClass(n)&&t.prototype.equalsExact.call(this,n,e)}return t.prototype.equalsExact.apply(this,arguments)},n.prototype.getBoundaryDimension=function(){return this.isClosed()?zt.FALSE:0},n.prototype.isClosed=function(){if(this.isEmpty())return!1;for(var t=0;t<this._geometries.length;t++)if(!this._geometries[t].isClosed())return!1;return!0},n.prototype.getDimension=function(){return 1},n.prototype.reverse=function(){for(var t=this._geometries.length,n=new Array(t).fill(null),e=0;e<this._geometries.length;e++)n[t-1-e]=this._geometries[e].reverse();return this.getFactory().createMultiLineString(n)},n.prototype.getBoundary=function(){return new _t(this).getBoundary()},n.prototype.getGeometryType=function(){return"MultiLineString"},n.prototype.copy=function(){for(var t=new Array(this._geometries.length).fill(null),e=0;e<t.length;e++)t[e]=this._geometries[e].copy();return new n(t,this._factory)},n.prototype.interfaces_=function(){return[wt]},n.prototype.getClass=function(){return n},e.serialVersionUID.get=function(){return 0x7155d2ab4afa8000},Object.defineProperties(n,e),n}(kt),_t=function(){if(this._geom=null,this._geomFact=null,this._bnRule=null,this._endpointMap=null,1===arguments.length){var t=arguments[0],n=mt.MOD2_BOUNDARY_RULE;this._geom=t,this._geomFact=t.getFactory(),this._bnRule=n}else if(2===arguments.length){var e=arguments[0],i=arguments[1];this._geom=e,this._geomFact=e.getFactory(),this._bnRule=i}};_t.prototype.boundaryMultiLineString=function(t){if(this._geom.isEmpty())return this.getEmptyMultiPoint();var n=this.computeBoundaryCoordinates(t);return 1===n.length?this._geomFact.createPoint(n[0]):this._geomFact.createMultiPointFromCoords(n)},_t.prototype.getBoundary=function(){return this._geom instanceof Ot?this.boundaryLineString(this._geom):this._geom instanceof Bt?this.boundaryMultiLineString(this._geom):this._geom.getBoundary()},_t.prototype.boundaryLineString=function(t){return this._geom.isEmpty()?this.getEmptyMultiPoint():t.isClosed()?this._bnRule.isInBoundary(2)?t.getStartPoint():this._geomFact.createMultiPoint():this._geomFact.createMultiPoint([t.getStartPoint(),t.getEndPoint()])},_t.prototype.getEmptyMultiPoint=function(){return this._geomFact.createMultiPoint()},_t.prototype.computeBoundaryCoordinates=function(t){var n=new vt;this._endpointMap=new u;for(var e=0;e<t.getNumGeometries();e++){var i=t.getGeometryN(e);0!==i.getNumPoints()&&(this.addEndpoint(i.getCoordinateN(0)),this.addEndpoint(i.getCoordinateN(i.getNumPoints()-1)))}for(var o=this._endpointMap.entrySet().iterator();o.hasNext();){var l=o.next(),s=l.getValue().count;this._bnRule.isInBoundary(s)&&n.add(l.getKey())}return St.toCoordinateArray(n)},_t.prototype.addEndpoint=function(t){var n=this._endpointMap.get(t);null===n&&(n=new Ut,this._endpointMap.put(t,n)),n.count++},_t.prototype.interfaces_=function(){return[]},_t.prototype.getClass=function(){return _t},_t.getBoundary=function(){return 1===arguments.length?new _t(arguments[0]).getBoundary():2===arguments.length?new _t(arguments[0],arguments[1]).getBoundary():void 0};var Ut=function(){this.count=null};Ut.prototype.interfaces_=function(){return[]},Ut.prototype.getClass=function(){return Ut};var Et=function(){},jt={NEWLINE:{configurable:!0},SIMPLE_ORDINATE_FORMAT:{configurable:!0}};Et.prototype.interfaces_=function(){return[]},Et.prototype.getClass=function(){return Et},Et.chars=function(t,n){for(var e=new Array(n).fill(null),i=0;i<n;i++)e[i]=t;return String(e)},Et.getStackTrace=function(){if(1===arguments.length){var t=arguments[0],n=new function(){},e=new function(){}(n);return t.printStackTrace(e),n.toString()}if(2===arguments.length){for(var i=arguments[0],o=arguments[1],l="",s=new function(){}(new function(){}(Et.getStackTrace(i))),r=0;r<o;r++)try{l+=s.readLine()+Et.NEWLINE}catch(t){if(!(t instanceof m))throw t;nt.shouldNeverReachHere()}return l}},Et.split=function(t,n){for(var e=n.length,i=new vt,o=""+t,l=o.indexOf(n);l>=0;){var s=o.substring(0,l);i.add(s),l=(o=o.substring(l+e)).indexOf(n)}o.length>0&&i.add(o);for(var r=new Array(i.size()).fill(null),a=0;a<r.length;a++)r[a]=i.get(a);return r},Et.toString=function(){if(1===arguments.length){var t=arguments[0];return Et.SIMPLE_ORDINATE_FORMAT.format(t)}},Et.spaces=function(t){return Et.chars(" ",t)},jt.NEWLINE.get=function(){return _.getProperty("line.separator")},jt.SIMPLE_ORDINATE_FORMAT.get=function(){return new function(){}("0.#")},Object.defineProperties(Et,jt);var Qt=function(){};Qt.prototype.interfaces_=function(){return[]},Qt.prototype.getClass=function(){return Qt},Qt.copyCoord=function(t,n,e,i){for(var o=Math.min(t.getDimension(),e.getDimension()),l=0;l<o;l++)e.setOrdinate(i,l,t.getOrdinate(n,l))},Qt.isRing=function(t){var n=t.size();return 0===n||!(n<=3)&&t.getOrdinate(0,N.X)===t.getOrdinate(n-1,N.X)&&t.getOrdinate(0,N.Y)===t.getOrdinate(n-1,N.Y)},Qt.isEqual=function(t,n){var e=t.size();if(e!==n.size())return!1;for(var i=Math.min(t.getDimension(),n.getDimension()),o=0;o<e;o++)for(var l=0;l<i;l++){var s=t.getOrdinate(o,l),r=n.getOrdinate(o,l);if(!(t.getOrdinate(o,l)===n.getOrdinate(o,l)||f.isNaN(s)&&f.isNaN(r)))return!1}return!0},Qt.extend=function(t,n,e){var i=t.create(e,n.getDimension()),o=n.size();if(Qt.copy(n,0,i,0,o),o>0)for(var l=o;l<e;l++)Qt.copy(n,o-1,i,l,1);return i},Qt.reverse=function(t){for(var n=t.size()-1,e=Math.trunc(n/2),i=0;i<=e;i++)Qt.swap(t,i,n-i)},Qt.swap=function(t,n,e){if(n===e)return null;for(var i=0;i<t.getDimension();i++){var o=t.getOrdinate(n,i);t.setOrdinate(n,i,t.getOrdinate(e,i)),t.setOrdinate(e,i,o)}},Qt.copy=function(t,n,e,i,o){for(var l=0;l<o;l++)Qt.copyCoord(t,n+l,e,i+l)},Qt.toString=function(){if(1===arguments.length){var t=arguments[0],n=t.size();if(0===n)return"()";var e=t.getDimension(),i=new T;i.append("(");for(var o=0;o<n;o++){o>0&&i.append(" ");for(var l=0;l<e;l++)l>0&&i.append(","),i.append(Et.toString(t.getOrdinate(o,l)))}return i.append(")"),i.toString()}},Qt.ensureValidRing=function(t,n){var e=n.size();return 0===e?n:e<=3?Qt.createClosedRing(t,n,4):n.getOrdinate(0,N.X)===n.getOrdinate(e-1,N.X)&&n.getOrdinate(0,N.Y)===n.getOrdinate(e-1,N.Y)?n:Qt.createClosedRing(t,n,e+1)},Qt.createClosedRing=function(t,n,e){var i=t.create(e,n.getDimension()),o=n.size();Qt.copy(n,0,i,0,o);for(var l=o;l<e;l++)Qt.copy(n,0,i,l,1);return i};var Ot=function(t){function n(n,e){t.call(this,e),this._points=null,this.init(n)}t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n;var e={serialVersionUID:{configurable:!0}};return n.prototype.computeEnvelopeInternal=function(){return this.isEmpty()?new E:this._points.expandEnvelope(new E)},n.prototype.isRing=function(){return this.isClosed()&&this.isSimple()},n.prototype.getSortIndex=function(){return t.SORTINDEX_LINESTRING},n.prototype.getCoordinates=function(){return this._points.toCoordinateArray()},n.prototype.equalsExact=function(){if(2===arguments.length){var n=arguments[0],e=arguments[1];if(!this.isEquivalentClass(n))return!1;var i=n;if(this._points.size()!==i._points.size())return!1;for(var o=0;o<this._points.size();o++)if(!this.equal(this._points.getCoordinate(o),i._points.getCoordinate(o),e))return!1;return!0}return t.prototype.equalsExact.apply(this,arguments)},n.prototype.normalize=function(){for(var t=0;t<Math.trunc(this._points.size()/2);t++){var n=this._points.size()-1-t;if(!this._points.getCoordinate(t).equals(this._points.getCoordinate(n)))return this._points.getCoordinate(t).compareTo(this._points.getCoordinate(n))>0&&Qt.reverse(this._points),null}},n.prototype.getCoordinate=function(){return this.isEmpty()?null:this._points.getCoordinate(0)},n.prototype.getBoundaryDimension=function(){return this.isClosed()?zt.FALSE:0},n.prototype.isClosed=function(){return!this.isEmpty()&&this.getCoordinateN(0).equals2D(this.getCoordinateN(this.getNumPoints()-1))},n.prototype.getEndPoint=function(){return this.isEmpty()?null:this.getPointN(this.getNumPoints()-1)},n.prototype.getDimension=function(){return 1},n.prototype.getLength=function(){return rt.computeLength(this._points)},n.prototype.getNumPoints=function(){return this._points.size()},n.prototype.reverse=function(){var t=this._points.copy();return Qt.reverse(t),this.getFactory().createLineString(t)},n.prototype.compareToSameClass=function(){if(1===arguments.length){for(var t=arguments[0],n=0,e=0;n<this._points.size()&&e<t._points.size();){var i=this._points.getCoordinate(n).compareTo(t._points.getCoordinate(e));if(0!==i)return i;n++,e++}return n<this._points.size()?1:e<t._points.size()?-1:0}if(2===arguments.length){var o=arguments[0];return arguments[1].compare(this._points,o._points)}},n.prototype.apply=function(){if(H(arguments[0],ht))for(var t=arguments[0],n=0;n<this._points.size();n++)t.filter(this._points.getCoordinate(n));else if(H(arguments[0],Ft)){var e=arguments[0];if(0===this._points.size())return null;for(var i=0;i<this._points.size()&&(e.filter(this._points,i),!e.isDone());i++);e.isGeometryChanged()&&this.geometryChanged()}else(H(arguments[0],Nt)||H(arguments[0],dt))&&arguments[0].filter(this)},n.prototype.getBoundary=function(){return new _t(this).getBoundary()},n.prototype.isEquivalentClass=function(t){return t instanceof n},n.prototype.clone=function(){var n=t.prototype.clone.call(this);return n._points=this._points.clone(),n},n.prototype.getCoordinateN=function(t){return this._points.getCoordinate(t)},n.prototype.getGeometryType=function(){return"LineString"},n.prototype.copy=function(){return new n(this._points.copy(),this._factory)},n.prototype.getCoordinateSequence=function(){return this._points},n.prototype.isEmpty=function(){return 0===this._points.size()},n.prototype.init=function(t){if(null===t&&(t=this.getFactory().getCoordinateSequenceFactory().create([])),1===t.size())throw new X("Invalid number of points in LineString (found "+t.size()+" - must be 0 or >= 2)");this._points=t},n.prototype.isCoordinate=function(t){for(var n=0;n<this._points.size();n++)if(this._points.getCoordinate(n).equals(t))return!0;return!1},n.prototype.getStartPoint=function(){return this.isEmpty()?null:this.getPointN(0)},n.prototype.getPointN=function(t){return this.getFactory().createPoint(this._points.getCoordinate(t))},n.prototype.interfaces_=function(){return[wt]},n.prototype.getClass=function(){return n},e.serialVersionUID.get=function(){return 0x2b2b51ba435c8e00},Object.defineProperties(n,e),n}(ct),At=function(){};At.prototype.interfaces_=function(){return[]},At.prototype.getClass=function(){return At};var Dt=function(t){function n(n,e){t.call(this,e),this._coordinates=n||null,this.init(this._coordinates)}t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n;var e={serialVersionUID:{configurable:!0}};return n.prototype.computeEnvelopeInternal=function(){if(this.isEmpty())return new E;var t=new E;return t.expandToInclude(this._coordinates.getX(0),this._coordinates.getY(0)),t},n.prototype.getSortIndex=function(){return t.SORTINDEX_POINT},n.prototype.getCoordinates=function(){return this.isEmpty()?[]:[this.getCoordinate()]},n.prototype.equalsExact=function(){if(2===arguments.length){var n=arguments[0],e=arguments[1];return!!this.isEquivalentClass(n)&&(!(!this.isEmpty()||!n.isEmpty())||this.isEmpty()===n.isEmpty()&&this.equal(n.getCoordinate(),this.getCoordinate(),e))}return t.prototype.equalsExact.apply(this,arguments)},n.prototype.normalize=function(){},n.prototype.getCoordinate=function(){return 0!==this._coordinates.size()?this._coordinates.getCoordinate(0):null},n.prototype.getBoundaryDimension=function(){return zt.FALSE},n.prototype.getDimension=function(){return 0},n.prototype.getNumPoints=function(){return this.isEmpty()?0:1},n.prototype.reverse=function(){return this.copy()},n.prototype.getX=function(){if(null===this.getCoordinate())throw new Error("getX called on empty Point");return this.getCoordinate().x},n.prototype.compareToSameClass=function(){if(1===arguments.length){var t=arguments[0];return this.getCoordinate().compareTo(t.getCoordinate())}if(2===arguments.length){var n=arguments[0];return arguments[1].compare(this._coordinates,n._coordinates)}},n.prototype.apply=function(){if(H(arguments[0],ht)){var t=arguments[0];if(this.isEmpty())return null;t.filter(this.getCoordinate())}else if(H(arguments[0],Ft)){var n=arguments[0];if(this.isEmpty())return null;n.filter(this._coordinates,0),n.isGeometryChanged()&&this.geometryChanged()}else(H(arguments[0],Nt)||H(arguments[0],dt))&&arguments[0].filter(this)},n.prototype.getBoundary=function(){return this.getFactory().createGeometryCollection(null)},n.prototype.clone=function(){var n=t.prototype.clone.call(this);return n._coordinates=this._coordinates.clone(),n},n.prototype.getGeometryType=function(){return"Point"},n.prototype.copy=function(){return new n(this._coordinates.copy(),this._factory)},n.prototype.getCoordinateSequence=function(){return this._coordinates},n.prototype.getY=function(){if(null===this.getCoordinate())throw new Error("getY called on empty Point");return this.getCoordinate().y},n.prototype.isEmpty=function(){return 0===this._coordinates.size()},n.prototype.init=function(t){null===t&&(t=this.getFactory().getCoordinateSequenceFactory().create([])),nt.isTrue(t.size()<=1),this._coordinates=t},n.prototype.isSimple=function(){return!0},n.prototype.interfaces_=function(){return[At]},n.prototype.getClass=function(){return n},e.serialVersionUID.get=function(){return 0x44077bad161cbc00},Object.defineProperties(n,e),n}(ct),qt=function(){};qt.prototype.interfaces_=function(){return[]},qt.prototype.getClass=function(){return qt};var $t=function(t){function n(n,e,i){if(t.call(this,i),this._shell=null,this._holes=null,null===n&&(n=this.getFactory().createLinearRing()),null===e&&(e=[]),t.hasNullElements(e))throw new X("holes must not contain null elements");if(n.isEmpty()&&t.hasNonEmptyElements(e))throw new X("shell is empty but holes are not");this._shell=n,this._holes=e}t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n;var e={serialVersionUID:{configurable:!0}};return n.prototype.computeEnvelopeInternal=function(){return this._shell.getEnvelopeInternal()},n.prototype.getSortIndex=function(){return t.SORTINDEX_POLYGON},n.prototype.getCoordinates=function(){if(this.isEmpty())return[];for(var t=new Array(this.getNumPoints()).fill(null),n=-1,e=this._shell.getCoordinates(),i=0;i<e.length;i++)t[++n]=e[i];for(var o=0;o<this._holes.length;o++)for(var l=this._holes[o].getCoordinates(),s=0;s<l.length;s++)t[++n]=l[s];return t},n.prototype.getArea=function(){var t=0;t+=Math.abs(rt.signedArea(this._shell.getCoordinateSequence()));for(var n=0;n<this._holes.length;n++)t-=Math.abs(rt.signedArea(this._holes[n].getCoordinateSequence()));return t},n.prototype.isRectangle=function(){if(0!==this.getNumInteriorRing())return!1;if(null===this._shell)return!1;if(5!==this._shell.getNumPoints())return!1;for(var t=this._shell.getCoordinateSequence(),n=this.getEnvelopeInternal(),e=0;e<5;e++){var i=t.getX(e);if(i!==n.getMinX()&&i!==n.getMaxX())return!1;var o=t.getY(e);if(o!==n.getMinY()&&o!==n.getMaxY())return!1}for(var l=t.getX(0),s=t.getY(0),r=1;r<=4;r++){var a=t.getX(r),d=t.getY(r);if(a!==l==(d!==s))return!1;l=a,s=d}return!0},n.prototype.equalsExact=function(){if(2===arguments.length){var n=arguments[0],e=arguments[1];if(!this.isEquivalentClass(n))return!1;var i=n,o=this._shell,l=i._shell;if(!o.equalsExact(l,e))return!1;if(this._holes.length!==i._holes.length)return!1;for(var s=0;s<this._holes.length;s++)if(!this._holes[s].equalsExact(i._holes[s],e))return!1;return!0}return t.prototype.equalsExact.apply(this,arguments)},n.prototype.normalize=function(){if(0===arguments.length){this.normalize(this._shell,!0);for(var t=0;t<this._holes.length;t++)this.normalize(this._holes[t],!1);It.sort(this._holes)}else if(2===arguments.length){var n=arguments[0],e=arguments[1];if(n.isEmpty())return null;var i=new Array(n.getCoordinates().length-1).fill(null);_.arraycopy(n.getCoordinates(),0,i,0,i.length);var o=St.minCoordinate(n.getCoordinates());St.scroll(i,o),_.arraycopy(i,0,n.getCoordinates(),0,i.length),n.getCoordinates()[i.length]=i[0],rt.isCCW(n.getCoordinates())===e&&St.reverse(n.getCoordinates())}},n.prototype.getCoordinate=function(){return this._shell.getCoordinate()},n.prototype.getNumInteriorRing=function(){return this._holes.length},n.prototype.getBoundaryDimension=function(){return 1},n.prototype.getDimension=function(){return 2},n.prototype.getLength=function(){var t=0;t+=this._shell.getLength();for(var n=0;n<this._holes.length;n++)t+=this._holes[n].getLength();return t},n.prototype.getNumPoints=function(){for(var t=this._shell.getNumPoints(),n=0;n<this._holes.length;n++)t+=this._holes[n].getNumPoints();return t},n.prototype.reverse=function(){var t=this.copy();t._shell=this._shell.copy().reverse(),t._holes=new Array(this._holes.length).fill(null);for(var n=0;n<this._holes.length;n++)t._holes[n]=this._holes[n].copy().reverse();return t},n.prototype.convexHull=function(){return this.getExteriorRing().convexHull()},n.prototype.compareToSameClass=function(){if(1===arguments.length){var t=arguments[0],n=this._shell,e=t._shell;return n.compareToSameClass(e)}if(2===arguments.length){var i=arguments[1],o=arguments[0],l=this._shell,s=o._shell,r=l.compareToSameClass(s,i);if(0!==r)return r;for(var a=this.getNumInteriorRing(),d=o.getNumInteriorRing(),c=0;c<a&&c<d;){var u=this.getInteriorRingN(c),p=o.getInteriorRingN(c),h=u.compareToSameClass(p,i);if(0!==h)return h;c++}return c<a?1:c<d?-1:0}},n.prototype.apply=function(t){if(H(t,ht)){this._shell.apply(t);for(var n=0;n<this._holes.length;n++)this._holes[n].apply(t)}else if(H(t,Ft)){if(this._shell.apply(t),!t.isDone())for(var e=0;e<this._holes.length&&(this._holes[e].apply(t),!t.isDone());e++);t.isGeometryChanged()&&this.geometryChanged()}else if(H(t,Nt))t.filter(this);else if(H(t,dt)){t.filter(this),this._shell.apply(t);for(var i=0;i<this._holes.length;i++)this._holes[i].apply(t)}},n.prototype.getBoundary=function(){if(this.isEmpty())return this.getFactory().createMultiLineString();var t=new Array(this._holes.length+1).fill(null);t[0]=this._shell;for(var n=0;n<this._holes.length;n++)t[n+1]=this._holes[n];return t.length<=1?this.getFactory().createLinearRing(t[0].getCoordinateSequence()):this.getFactory().createMultiLineString(t)},n.prototype.clone=function(){var n=t.prototype.clone.call(this);n._shell=this._shell.clone(),n._holes=new Array(this._holes.length).fill(null);for(var e=0;e<this._holes.length;e++)n._holes[e]=this._holes[e].clone();return n},n.prototype.getGeometryType=function(){return"Polygon"},n.prototype.copy=function(){for(var t=this._shell.copy(),e=new Array(this._holes.length).fill(null),i=0;i<e.length;i++)e[i]=this._holes[i].copy();return new n(t,e,this._factory)},n.prototype.getExteriorRing=function(){return this._shell},n.prototype.isEmpty=function(){return this._shell.isEmpty()},n.prototype.getInteriorRingN=function(t){return this._holes[t]},n.prototype.interfaces_=function(){return[qt]},n.prototype.getClass=function(){return n},e.serialVersionUID.get=function(){return-0x307ffefd8dc97200},Object.defineProperties(n,e),n}(ct),tn=function(t){function n(){t.apply(this,arguments)}t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n;var e={serialVersionUID:{configurable:!0}};return n.prototype.getSortIndex=function(){return ct.SORTINDEX_MULTIPOINT},n.prototype.isValid=function(){return!0},n.prototype.equalsExact=function(){if(2===arguments.length){var n=arguments[0],e=arguments[1];return!!this.isEquivalentClass(n)&&t.prototype.equalsExact.call(this,n,e)}return t.prototype.equalsExact.apply(this,arguments)},n.prototype.getCoordinate=function(){if(1===arguments.length){var n=arguments[0];return this._geometries[n].getCoordinate()}return t.prototype.getCoordinate.apply(this,arguments)},n.prototype.getBoundaryDimension=function(){return zt.FALSE},n.prototype.getDimension=function(){return 0},n.prototype.getBoundary=function(){return this.getFactory().createGeometryCollection(null)},n.prototype.getGeometryType=function(){return"MultiPoint"},n.prototype.copy=function(){for(var t=new Array(this._geometries.length).fill(null),e=0;e<t.length;e++)t[e]=this._geometries[e].copy();return new n(t,this._factory)},n.prototype.interfaces_=function(){return[At]},n.prototype.getClass=function(){return n},e.serialVersionUID.get=function(){return-0x6fb1ed4162e0fc00},Object.defineProperties(n,e),n}(kt),nn=function(t){function n(n,e){n instanceof V&&e instanceof Xn&&(n=e.getCoordinateSequenceFactory().create(n)),t.call(this,n,e),this.validateConstruction()}t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n;var e={MINIMUM_VALID_SIZE:{configurable:!0},serialVersionUID:{configurable:!0}};return n.prototype.getSortIndex=function(){return ct.SORTINDEX_LINEARRING},n.prototype.getBoundaryDimension=function(){return zt.FALSE},n.prototype.isClosed=function(){return!!this.isEmpty()||t.prototype.isClosed.call(this)},n.prototype.reverse=function(){var t=this._points.copy();return Qt.reverse(t),this.getFactory().createLinearRing(t)},n.prototype.validateConstruction=function(){if(!this.isEmpty()&&!t.prototype.isClosed.call(this))throw new X("Points of LinearRing do not form a closed linestring");if(this.getCoordinateSequence().size()>=1&&this.getCoordinateSequence().size()<n.MINIMUM_VALID_SIZE)throw new X("Invalid number of points in LinearRing (found "+this.getCoordinateSequence().size()+" - must be 0 or >= 4)")},n.prototype.getGeometryType=function(){return"LinearRing"},n.prototype.copy=function(){return new n(this._points.copy(),this._factory)},n.prototype.interfaces_=function(){return[]},n.prototype.getClass=function(){return n},e.MINIMUM_VALID_SIZE.get=function(){return 4},e.serialVersionUID.get=function(){return-0x3b229e262367a600},Object.defineProperties(n,e),n}(Ot),en=function(t){function n(){t.apply(this,arguments)}t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n;var e={serialVersionUID:{configurable:!0}};return n.prototype.getSortIndex=function(){return ct.SORTINDEX_MULTIPOLYGON},n.prototype.equalsExact=function(){if(2===arguments.length){var n=arguments[0],e=arguments[1];return!!this.isEquivalentClass(n)&&t.prototype.equalsExact.call(this,n,e)}return t.prototype.equalsExact.apply(this,arguments)},n.prototype.getBoundaryDimension=function(){return 1},n.prototype.getDimension=function(){return 2},n.prototype.reverse=function(){for(var t=this._geometries.length,n=new Array(t).fill(null),e=0;e<this._geometries.length;e++)n[e]=this._geometries[e].reverse();return this.getFactory().createMultiPolygon(n)},n.prototype.getBoundary=function(){if(this.isEmpty())return this.getFactory().createMultiLineString();for(var t=new vt,n=0;n<this._geometries.length;n++)for(var e=this._geometries[n].getBoundary(),i=0;i<e.getNumGeometries();i++)t.add(e.getGeometryN(i));var o=new Array(t.size()).fill(null);return this.getFactory().createMultiLineString(t.toArray(o))},n.prototype.getGeometryType=function(){return"MultiPolygon"},n.prototype.copy=function(){for(var t=new Array(this._geometries.length).fill(null),e=0;e<t.length;e++)t[e]=this._geometries[e].copy();return new n(t,this._factory)},n.prototype.interfaces_=function(){return[qt]},n.prototype.getClass=function(){return n},e.serialVersionUID.get=function(){return-0x7a5aa1369171980},Object.defineProperties(n,e),n}(kt),on=function(t){this._factory=t||null,this._isUserDataCopied=!1},ln={NoOpGeometryOperation:{configurable:!0},CoordinateOperation:{configurable:!0},CoordinateSequenceOperation:{configurable:!0}};on.prototype.setCopyUserData=function(t){this._isUserDataCopied=t},on.prototype.edit=function(t,n){if(null===t)return null;var e=this.editInternal(t,n);return this._isUserDataCopied&&e.setUserData(t.getUserData()),e},on.prototype.editInternal=function(t,n){return null===this._factory&&(this._factory=t.getFactory()),t instanceof kt?this.editGeometryCollection(t,n):t instanceof $t?this.editPolygon(t,n):t instanceof Dt||t instanceof Ot?n.edit(t,this._factory):(nt.shouldNeverReachHere("Unsupported Geometry class: "+t.getClass().getName()),null)},on.prototype.editGeometryCollection=function(t,n){for(var e=n.edit(t,this._factory),i=new vt,o=0;o<e.getNumGeometries();o++){var l=this.edit(e.getGeometryN(o),n);null===l||l.isEmpty()||i.add(l)}return e.getClass()===tn?this._factory.createMultiPoint(i.toArray([])):e.getClass()===Bt?this._factory.createMultiLineString(i.toArray([])):e.getClass()===en?this._factory.createMultiPolygon(i.toArray([])):this._factory.createGeometryCollection(i.toArray([]))},on.prototype.editPolygon=function(t,n){var e=n.edit(t,this._factory);if(null===e&&(e=this._factory.createPolygon(null)),e.isEmpty())return e;var i=this.edit(e.getExteriorRing(),n);if(null===i||i.isEmpty())return this._factory.createPolygon();for(var o=new vt,l=0;l<e.getNumInteriorRing();l++){var s=this.edit(e.getInteriorRingN(l),n);null===s||s.isEmpty()||o.add(s)}return this._factory.createPolygon(i,o.toArray([]))},on.prototype.interfaces_=function(){return[]},on.prototype.getClass=function(){return on},on.GeometryEditorOperation=function(){},ln.NoOpGeometryOperation.get=function(){return sn},ln.CoordinateOperation.get=function(){return rn},ln.CoordinateSequenceOperation.get=function(){return an},Object.defineProperties(on,ln);var sn=function(){};sn.prototype.edit=function(t,n){return t},sn.prototype.interfaces_=function(){return[on.GeometryEditorOperation]},sn.prototype.getClass=function(){return sn};var rn=function(){};rn.prototype.edit=function(t,n){var e=this.editCoordinates(t.getCoordinates(),t);return null===e?t:t instanceof nn?n.createLinearRing(e):t instanceof Ot?n.createLineString(e):t instanceof Dt?e.length>0?n.createPoint(e[0]):n.createPoint():t},rn.prototype.interfaces_=function(){return[on.GeometryEditorOperation]},rn.prototype.getClass=function(){return rn};var an=function(){};an.prototype.edit=function(t,n){return t instanceof nn?n.createLinearRing(this.edit(t.getCoordinateSequence(),t)):t instanceof Ot?n.createLineString(this.edit(t.getCoordinateSequence(),t)):t instanceof Dt?n.createPoint(this.edit(t.getCoordinateSequence(),t)):t},an.prototype.interfaces_=function(){return[on.GeometryEditorOperation]},an.prototype.getClass=function(){return an};var dn=function(){if(this._dimension=3,this._coordinates=null,1===arguments.length){if(arguments[0]instanceof Array)this._coordinates=arguments[0],this._dimension=3;else if(Number.isInteger(arguments[0])){var t=arguments[0];this._coordinates=new Array(t).fill(null);for(var n=0;n<t;n++)this._coordinates[n]=new V}else if(H(arguments[0],N)){var e=arguments[0];if(null===e)return this._coordinates=new Array(0).fill(null),null;this._dimension=e.getDimension(),this._coordinates=new Array(e.size()).fill(null);for(var i=0;i<this._coordinates.length;i++)this._coordinates[i]=e.getCoordinateCopy(i)}}else if(2===arguments.length)if(arguments[0]instanceof Array&&Number.isInteger(arguments[1])){var o=arguments[0],l=arguments[1];this._coordinates=o,this._dimension=l,null===o&&(this._coordinates=new Array(0).fill(null))}else if(Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var s=arguments[0],r=arguments[1];this._coordinates=new Array(s).fill(null),this._dimension=r;for(var a=0;a<s;a++)this._coordinates[a]=new V}},cn={serialVersionUID:{configurable:!0}};dn.prototype.setOrdinate=function(t,n,e){switch(n){case N.X:this._coordinates[t].x=e;break;case N.Y:this._coordinates[t].y=e;break;case N.Z:this._coordinates[t].z=e;break;default:throw new X("invalid ordinateIndex")}},dn.prototype.size=function(){return this._coordinates.length},dn.prototype.getOrdinate=function(t,n){switch(n){case N.X:return this._coordinates[t].x;case N.Y:return this._coordinates[t].y;case N.Z:return this._coordinates[t].z}return f.NaN},dn.prototype.getCoordinate=function(){if(1===arguments.length){var t=arguments[0];return this._coordinates[t]}if(2===arguments.length){var n=arguments[0],e=arguments[1];e.x=this._coordinates[n].x,e.y=this._coordinates[n].y,e.z=this._coordinates[n].z}},dn.prototype.getCoordinateCopy=function(t){return new V(this._coordinates[t])},dn.prototype.getDimension=function(){return this._dimension},dn.prototype.getX=function(t){return this._coordinates[t].x},dn.prototype.clone=function(){for(var t=new Array(this.size()).fill(null),n=0;n<this._coordinates.length;n++)t[n]=this._coordinates[n].clone();return new dn(t,this._dimension)},dn.prototype.expandEnvelope=function(t){for(var n=0;n<this._coordinates.length;n++)t.expandToInclude(this._coordinates[n]);return t},dn.prototype.copy=function(){for(var t=new Array(this.size()).fill(null),n=0;n<this._coordinates.length;n++)t[n]=this._coordinates[n].copy();return new dn(t,this._dimension)},dn.prototype.toString=function(){if(this._coordinates.length>0){var t=new T(17*this._coordinates.length);t.append("("),t.append(this._coordinates[0]);for(var n=1;n<this._coordinates.length;n++)t.append(", "),t.append(this._coordinates[n]);return t.append(")"),t.toString()}return"()"},dn.prototype.getY=function(t){return this._coordinates[t].y},dn.prototype.toCoordinateArray=function(){return this._coordinates},dn.prototype.interfaces_=function(){return[N,n]},dn.prototype.getClass=function(){return dn},cn.serialVersionUID.get=function(){return-0xcb44a778db18e00},Object.defineProperties(dn,cn);var un=function(){},pn={serialVersionUID:{configurable:!0},instanceObject:{configurable:!0}};un.prototype.readResolve=function(){return un.instance()},un.prototype.create=function(){if(1===arguments.length){if(arguments[0]instanceof Array)return new dn(arguments[0]);if(H(arguments[0],N))return new dn(arguments[0])}else if(2===arguments.length){var t=arguments[0],n=arguments[1];return n>3&&(n=3),n<2?new dn(t):new dn(t,n)}},un.prototype.interfaces_=function(){return[L,n]},un.prototype.getClass=function(){return un},un.instance=function(){return un.instanceObject},pn.serialVersionUID.get=function(){return-0x38e49fa6cf6f2e00},pn.instanceObject.get=function(){return new un},Object.defineProperties(un,pn);var hn=function(t){function n(){t.call(this),this.map_=new Map}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.get=function(t){return this.map_.get(t)||null},n.prototype.put=function(t,n){return this.map_.set(t,n),n},n.prototype.values=function(){for(var t=new vt,n=this.map_.values(),e=n.next();!e.done;)t.add(e.value),e=n.next();return t},n.prototype.entrySet=function(){var t=new Yt;return this.map_.entries().forEach((function(n){return t.add(n)})),t},n.prototype.size=function(){return this.map_.size()},n}(Ht),mn=function t(){if(this._modelType=null,this._scale=null,0===arguments.length)this._modelType=t.FLOATING;else if(1===arguments.length)if(arguments[0]instanceof yn){var n=arguments[0];this._modelType=n,n===t.FIXED&&this.setScale(1)}else if("number"==typeof arguments[0]){var e=arguments[0];this._modelType=t.FIXED,this.setScale(e)}else if(arguments[0]instanceof t){var i=arguments[0];this._modelType=i._modelType,this._scale=i._scale}},bn={serialVersionUID:{configurable:!0},maximumPreciseValue:{configurable:!0}};mn.prototype.equals=function(t){if(!(t instanceof mn))return!1;var n=t;return this._modelType===n._modelType&&this._scale===n._scale},mn.prototype.compareTo=function(t){var n=t,e=this.getMaximumSignificantDigits(),i=n.getMaximumSignificantDigits();return new M(e).compareTo(new M(i))},mn.prototype.getScale=function(){return this._scale},mn.prototype.isFloating=function(){return this._modelType===mn.FLOATING||this._modelType===mn.FLOATING_SINGLE},mn.prototype.getType=function(){return this._modelType},mn.prototype.toString=function(){var t="UNKNOWN";return this._modelType===mn.FLOATING?t="Floating":this._modelType===mn.FLOATING_SINGLE?t="Floating-Single":this._modelType===mn.FIXED&&(t="Fixed (Scale="+this.getScale()+")"),t},mn.prototype.makePrecise=function(){if("number"==typeof arguments[0]){var t=arguments[0];return f.isNaN(t)||this._modelType===mn.FLOATING_SINGLE?t:this._modelType===mn.FIXED?Math.round(t*this._scale)/this._scale:t}if(arguments[0]instanceof V){var n=arguments[0];if(this._modelType===mn.FLOATING)return null;n.x=this.makePrecise(n.x),n.y=this.makePrecise(n.y)}},mn.prototype.getMaximumSignificantDigits=function(){var t=16;return this._modelType===mn.FLOATING?t=16:this._modelType===mn.FLOATING_SINGLE?t=6:this._modelType===mn.FIXED&&(t=1+Math.trunc(Math.ceil(Math.log(this.getScale())/Math.log(10)))),t},mn.prototype.setScale=function(t){this._scale=Math.abs(t)},mn.prototype.interfaces_=function(){return[n,W]},mn.prototype.getClass=function(){return mn},mn.mostPrecise=function(t,n){return t.compareTo(n)>=0?t:n},bn.serialVersionUID.get=function(){return 0x6bee6404e9a25c00},bn.maximumPreciseValue.get=function(){return 9007199254740992},Object.defineProperties(mn,bn);var yn=function t(n){this._name=n||null,t.nameToTypeMap.put(n,this)},Zn={serialVersionUID:{configurable:!0},nameToTypeMap:{configurable:!0}};yn.prototype.readResolve=function(){return yn.nameToTypeMap.get(this._name)},yn.prototype.toString=function(){return this._name},yn.prototype.interfaces_=function(){return[n]},yn.prototype.getClass=function(){return yn},Zn.serialVersionUID.get=function(){return-552860263173159e4},Zn.nameToTypeMap.get=function(){return new hn},Object.defineProperties(yn,Zn),mn.Type=yn,mn.FIXED=new yn("FIXED"),mn.FLOATING=new yn("FLOATING"),mn.FLOATING_SINGLE=new yn("FLOATING SINGLE");var Xn=function t(){this._precisionModel=new mn,this._SRID=0,this._coordinateSequenceFactory=t.getDefaultCoordinateSequenceFactory(),0===arguments.length||(1===arguments.length?H(arguments[0],L)?this._coordinateSequenceFactory=arguments[0]:arguments[0]instanceof mn&&(this._precisionModel=arguments[0]):2===arguments.length?(this._precisionModel=arguments[0],this._SRID=arguments[1]):3===arguments.length&&(this._precisionModel=arguments[0],this._SRID=arguments[1],this._coordinateSequenceFactory=arguments[2]))},fn={serialVersionUID:{configurable:!0}};Xn.prototype.toGeometry=function(t){return t.isNull()?this.createPoint(null):t.getMinX()===t.getMaxX()&&t.getMinY()===t.getMaxY()?this.createPoint(new V(t.getMinX(),t.getMinY())):t.getMinX()===t.getMaxX()||t.getMinY()===t.getMaxY()?this.createLineString([new V(t.getMinX(),t.getMinY()),new V(t.getMaxX(),t.getMaxY())]):this.createPolygon(this.createLinearRing([new V(t.getMinX(),t.getMinY()),new V(t.getMinX(),t.getMaxY()),new V(t.getMaxX(),t.getMaxY()),new V(t.getMaxX(),t.getMinY()),new V(t.getMinX(),t.getMinY())]),null)},Xn.prototype.createLineString=function(t){return t?t instanceof Array?new Ot(this.getCoordinateSequenceFactory().create(t),this):H(t,N)?new Ot(t,this):void 0:new Ot(this.getCoordinateSequenceFactory().create([]),this)},Xn.prototype.createMultiLineString=function(){return 0===arguments.length?new Bt(null,this):1===arguments.length?new Bt(arguments[0],this):void 0},Xn.prototype.buildGeometry=function(t){for(var n=null,e=!1,i=!1,o=t.iterator();o.hasNext();){var l=o.next(),s=l.getClass();null===n&&(n=s),s!==n&&(e=!0),l.isGeometryCollectionOrDerived()&&(i=!0)}if(null===n)return this.createGeometryCollection();if(e||i)return this.createGeometryCollection(Xn.toGeometryArray(t));var r=t.iterator().next();if(t.size()>1){if(r instanceof $t)return this.createMultiPolygon(Xn.toPolygonArray(t));if(r instanceof Ot)return this.createMultiLineString(Xn.toLineStringArray(t));if(r instanceof Dt)return this.createMultiPoint(Xn.toPointArray(t));nt.shouldNeverReachHere("Unhandled class: "+r.getClass().getName())}return r},Xn.prototype.createMultiPointFromCoords=function(t){return this.createMultiPoint(null!==t?this.getCoordinateSequenceFactory().create(t):null)},Xn.prototype.createPoint=function(){if(0===arguments.length)return this.createPoint(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof V){var t=arguments[0];return this.createPoint(null!==t?this.getCoordinateSequenceFactory().create([t]):null)}if(H(arguments[0],N))return new Dt(arguments[0],this)}},Xn.prototype.getCoordinateSequenceFactory=function(){return this._coordinateSequenceFactory},Xn.prototype.createPolygon=function(){if(0===arguments.length)return new $t(null,null,this);if(1===arguments.length){if(H(arguments[0],N)){var t=arguments[0];return this.createPolygon(this.createLinearRing(t))}if(arguments[0]instanceof Array){var n=arguments[0];return this.createPolygon(this.createLinearRing(n))}if(arguments[0]instanceof nn){var e=arguments[0];return this.createPolygon(e,null)}}else if(2===arguments.length)return new $t(arguments[0],arguments[1],this)},Xn.prototype.getSRID=function(){return this._SRID},Xn.prototype.createGeometryCollection=function(){return 0===arguments.length?new kt(null,this):1===arguments.length?new kt(arguments[0],this):void 0},Xn.prototype.createGeometry=function(t){return new on(this).edit(t,{edit:function(){if(2===arguments.length){var t=arguments[0];return this._coordinateSequenceFactory.create(t)}}})},Xn.prototype.getPrecisionModel=function(){return this._precisionModel},Xn.prototype.createLinearRing=function(){if(0===arguments.length)return this.createLinearRing(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof Array){var t=arguments[0];return this.createLinearRing(null!==t?this.getCoordinateSequenceFactory().create(t):null)}if(H(arguments[0],N))return new nn(arguments[0],this)}},Xn.prototype.createMultiPolygon=function(){return 0===arguments.length?new en(null,this):1===arguments.length?new en(arguments[0],this):void 0},Xn.prototype.createMultiPoint=function(){if(0===arguments.length)return new tn(null,this);if(1===arguments.length){if(arguments[0]instanceof Array)return new tn(arguments[0],this);if(arguments[0]instanceof Array){var t=arguments[0];return this.createMultiPoint(null!==t?this.getCoordinateSequenceFactory().create(t):null)}if(H(arguments[0],N)){var n=arguments[0];if(null===n)return this.createMultiPoint(new Array(0).fill(null));for(var e=new Array(n.size()).fill(null),i=0;i<n.size();i++){var o=this.getCoordinateSequenceFactory().create(1,n.getDimension());Qt.copy(n,i,o,0,1),e[i]=this.createPoint(o)}return this.createMultiPoint(e)}}},Xn.prototype.interfaces_=function(){return[n]},Xn.prototype.getClass=function(){return Xn},Xn.toMultiPolygonArray=function(t){var n=new Array(t.size()).fill(null);return t.toArray(n)},Xn.toGeometryArray=function(t){if(null===t)return null;var n=new Array(t.size()).fill(null);return t.toArray(n)},Xn.getDefaultCoordinateSequenceFactory=function(){return un.instance()},Xn.toMultiLineStringArray=function(t){var n=new Array(t.size()).fill(null);return t.toArray(n)},Xn.toLineStringArray=function(t){var n=new Array(t.size()).fill(null);return t.toArray(n)},Xn.toMultiPointArray=function(t){var n=new Array(t.size()).fill(null);return t.toArray(n)},Xn.toLinearRingArray=function(t){var n=new Array(t.size()).fill(null);return t.toArray(n)},Xn.toPointArray=function(t){var n=new Array(t.size()).fill(null);return t.toArray(n)},Xn.toPolygonArray=function(t){var n=new Array(t.size()).fill(null);return t.toArray(n)},Xn.createPointFromInternalCoord=function(t,n){return n.getPrecisionModel().makePrecise(t),n.getFactory().createPoint(t)},fn.serialVersionUID.get=function(){return-0x5ea75f2051eeb400},Object.defineProperties(Xn,fn);var Gn=["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon"],Wn=function(t){this.geometryFactory=t||new Xn};Wn.prototype.read=function(t){var n,e=(n="string"==typeof t?JSON.parse(t):t).type;if(!gn[e])throw new Error("Unknown GeoJSON type: "+n.type);return-1!==Gn.indexOf(e)?gn[e].apply(this,[n.coordinates]):"GeometryCollection"===e?gn[e].apply(this,[n.geometries]):gn[e].apply(this,[n])},Wn.prototype.write=function(t){var n=t.getGeometryType();if(!vn[n])throw new Error("Geometry is not supported");return vn[n].apply(this,[t])};var gn={Feature:function(t){var n={};for(var e in t)n[e]=t[e];if(t.geometry){var i=t.geometry.type;if(!gn[i])throw new Error("Unknown GeoJSON type: "+t.type);n.geometry=this.read(t.geometry)}return t.bbox&&(n.bbox=gn.bbox.apply(this,[t.bbox])),n},FeatureCollection:function(t){var n={};if(t.features){n.features=[];for(var e=0;e<t.features.length;++e)n.features.push(this.read(t.features[e]))}return t.bbox&&(n.bbox=this.parse.bbox.apply(this,[t.bbox])),n},coordinates:function(t){for(var n=[],e=0;e<t.length;++e){var i=t[e];n.push(new V(i[0],i[1]))}return n},bbox:function(t){return this.geometryFactory.createLinearRing([new V(t[0],t[1]),new V(t[2],t[1]),new V(t[2],t[3]),new V(t[0],t[3]),new V(t[0],t[1])])},Point:function(t){var n=new V(t[0],t[1]);return this.geometryFactory.createPoint(n)},MultiPoint:function(t){for(var n=[],e=0;e<t.length;++e)n.push(gn.Point.apply(this,[t[e]]));return this.geometryFactory.createMultiPoint(n)},LineString:function(t){var n=gn.coordinates.apply(this,[t]);return this.geometryFactory.createLineString(n)},MultiLineString:function(t){for(var n=[],e=0;e<t.length;++e)n.push(gn.LineString.apply(this,[t[e]]));return this.geometryFactory.createMultiLineString(n)},Polygon:function(t){for(var n=gn.coordinates.apply(this,[t[0]]),e=this.geometryFactory.createLinearRing(n),i=[],o=1;o<t.length;++o){var l=t[o],s=gn.coordinates.apply(this,[l]),r=this.geometryFactory.createLinearRing(s);i.push(r)}return this.geometryFactory.createPolygon(e,i)},MultiPolygon:function(t){for(var n=[],e=0;e<t.length;++e){var i=t[e];n.push(gn.Polygon.apply(this,[i]))}return this.geometryFactory.createMultiPolygon(n)},GeometryCollection:function(t){for(var n=[],e=0;e<t.length;++e){var i=t[e];n.push(this.read(i))}return this.geometryFactory.createGeometryCollection(n)}},vn={coordinate:function(t){return[t.x,t.y]},Point:function(t){return{type:"Point",coordinates:vn.coordinate.apply(this,[t.getCoordinate()])}},MultiPoint:function(t){for(var n=[],e=0;e<t._geometries.length;++e){var i=t._geometries[e],o=vn.Point.apply(this,[i]);n.push(o.coordinates)}return{type:"MultiPoint",coordinates:n}},LineString:function(t){for(var n=[],e=t.getCoordinates(),i=0;i<e.length;++i){var o=e[i];n.push(vn.coordinate.apply(this,[o]))}return{type:"LineString",coordinates:n}},MultiLineString:function(t){for(var n=[],e=0;e<t._geometries.length;++e){var i=t._geometries[e],o=vn.LineString.apply(this,[i]);n.push(o.coordinates)}return{type:"MultiLineString",coordinates:n}},Polygon:function(t){var n=[],e=vn.LineString.apply(this,[t._shell]);n.push(e.coordinates);for(var i=0;i<t._holes.length;++i){var o=t._holes[i],l=vn.LineString.apply(this,[o]);n.push(l.coordinates)}return{type:"Polygon",coordinates:n}},MultiPolygon:function(t){for(var n=[],e=0;e<t._geometries.length;++e){var i=t._geometries[e],o=vn.Polygon.apply(this,[i]);n.push(o.coordinates)}return{type:"MultiPolygon",coordinates:n}},GeometryCollection:function(t){for(var n=[],e=0;e<t._geometries.length;++e){var i=t._geometries[e],o=i.getGeometryType();n.push(vn[o].apply(this,[i]))}return{type:"GeometryCollection",geometries:n}}},Vn=function(t){this.geometryFactory=t||new Xn,this.precisionModel=this.geometryFactory.getPrecisionModel(),this.parser=new Wn(this.geometryFactory)};Vn.prototype.read=function(t){var n=this.parser.read(t);return this.precisionModel.getType()===mn.FIXED&&this.reducePrecision(n),n},Vn.prototype.reducePrecision=function(t){var n,e;if(t.coordinate)this.precisionModel.makePrecise(t.coordinate);else if(t.points)for(n=0,e=t.points.length;n<e;n++)this.precisionModel.makePrecise(t.points[n]);else if(t.geometries)for(n=0,e=t.geometries.length;n<e;n++)this.reducePrecision(t.geometries[n])};var xn=function(){this.parser=new Wn(this.geometryFactory)};xn.prototype.write=function(t){return this.parser.write(t)};var Sn=function(){},Ln={ON:{configurable:!0},LEFT:{configurable:!0},RIGHT:{configurable:!0}};Sn.prototype.interfaces_=function(){return[]},Sn.prototype.getClass=function(){return Sn},Sn.opposite=function(t){return t===Sn.LEFT?Sn.RIGHT:t===Sn.RIGHT?Sn.LEFT:t},Ln.ON.get=function(){return 0},Ln.LEFT.get=function(){return 1},Ln.RIGHT.get=function(){return 2},Object.defineProperties(Sn,Ln),(b.prototype=new Error).name="EmptyStackException",(y.prototype=new gt).add=function(t){return this.array_.push(t),!0},y.prototype.get=function(t){if(t<0||t>=this.size())throw new Error;return this.array_[t]},y.prototype.push=function(t){return this.array_.push(t),t},y.prototype.pop=function(t){if(0===this.array_.length)throw new b;return this.array_.pop()},y.prototype.peek=function(){if(0===this.array_.length)throw new b;return this.array_[this.array_.length-1]},y.prototype.empty=function(){return 0===this.array_.length},y.prototype.isEmpty=function(){return this.empty()},y.prototype.search=function(t){return this.array_.indexOf(t)},y.prototype.size=function(){return this.array_.length},y.prototype.toArray=function(){for(var t=[],n=0,e=this.array_.length;n<e;n++)t.push(this.array_[n]);return t};var Rn=function(){this._minIndex=-1,this._minCoord=null,this._minDe=null,this._orientedDe=null};Rn.prototype.getCoordinate=function(){return this._minCoord},Rn.prototype.getRightmostSide=function(t,n){var e=this.getRightmostSideOfSegment(t,n);return e<0&&(e=this.getRightmostSideOfSegment(t,n-1)),e<0&&(this._minCoord=null,this.checkForRightmostCoordinate(t)),e},Rn.prototype.findRightmostEdgeAtVertex=function(){var t=this._minDe.getEdge().getCoordinates();nt.isTrue(this._minIndex>0&&this._minIndex<t.length,"rightmost point expected to be interior vertex of edge");var n=t[this._minIndex-1],e=t[this._minIndex+1],i=rt.computeOrientation(this._minCoord,e,n),o=!1;(n.y<this._minCoord.y&&e.y<this._minCoord.y&&i===rt.COUNTERCLOCKWISE||n.y>this._minCoord.y&&e.y>this._minCoord.y&&i===rt.CLOCKWISE)&&(o=!0),o&&(this._minIndex=this._minIndex-1)},Rn.prototype.getRightmostSideOfSegment=function(t,n){var e=t.getEdge().getCoordinates();if(n<0||n+1>=e.length)return-1;if(e[n].y===e[n+1].y)return-1;var i=Sn.LEFT;return e[n].y<e[n+1].y&&(i=Sn.RIGHT),i},Rn.prototype.getEdge=function(){return this._orientedDe},Rn.prototype.checkForRightmostCoordinate=function(t){for(var n=t.getEdge().getCoordinates(),e=0;e<n.length-1;e++)(null===this._minCoord||n[e].x>this._minCoord.x)&&(this._minDe=t,this._minIndex=e,this._minCoord=n[e])},Rn.prototype.findRightmostEdgeAtNode=function(){var t=this._minDe.getNode().getEdges();this._minDe=t.getRightmostEdge(),this._minDe.isForward()||(this._minDe=this._minDe.getSym(),this._minIndex=this._minDe.getEdge().getCoordinates().length-1)},Rn.prototype.findEdge=function(t){for(var n=t.iterator();n.hasNext();){var e=n.next();e.isForward()&&this.checkForRightmostCoordinate(e)}nt.isTrue(0!==this._minIndex||this._minCoord.equals(this._minDe.getCoordinate()),"inconsistency in rightmost processing"),0===this._minIndex?this.findRightmostEdgeAtNode():this.findRightmostEdgeAtVertex(),this._orientedDe=this._minDe,this.getRightmostSide(this._minDe,this._minIndex)===Sn.LEFT&&(this._orientedDe=this._minDe.getSym())},Rn.prototype.interfaces_=function(){return[]},Rn.prototype.getClass=function(){return Rn};var Kn=function(t){function n(e,i){t.call(this,n.msgWithCoord(e,i)),this.pt=i?new V(i):null,this.name="TopologyException"}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.getCoordinate=function(){return this.pt},n.prototype.interfaces_=function(){return[]},n.prototype.getClass=function(){return n},n.msgWithCoord=function(t,n){return n?t:t+" [ "+n+" ]"},n}($),Hn=function(){this.array_=[]};Hn.prototype.addLast=function(t){this.array_.push(t)},Hn.prototype.removeFirst=function(){return this.array_.shift()},Hn.prototype.isEmpty=function(){return 0===this.array_.length};var Cn=function(){this._finder=null,this._dirEdgeList=new vt,this._nodes=new vt,this._rightMostCoord=null,this._env=null,this._finder=new Rn};Cn.prototype.clearVisitedEdges=function(){for(var t=this._dirEdgeList.iterator();t.hasNext();)t.next().setVisited(!1)},Cn.prototype.getRightmostCoordinate=function(){return this._rightMostCoord},Cn.prototype.computeNodeDepth=function(t){for(var n=null,e=t.getEdges().iterator();e.hasNext();){var i=e.next();if(i.isVisited()||i.getSym().isVisited()){n=i;break}}if(null===n)throw new Kn("unable to find edge to compute depths at "+t.getCoordinate());t.getEdges().computeDepths(n);for(var o=t.getEdges().iterator();o.hasNext();){var l=o.next();l.setVisited(!0),this.copySymDepths(l)}},Cn.prototype.computeDepth=function(t){this.clearVisitedEdges();var n=this._finder.getEdge();n.setEdgeDepths(Sn.RIGHT,t),this.copySymDepths(n),this.computeDepths(n)},Cn.prototype.create=function(t){this.addReachable(t),this._finder.findEdge(this._dirEdgeList),this._rightMostCoord=this._finder.getCoordinate()},Cn.prototype.findResultEdges=function(){for(var t=this._dirEdgeList.iterator();t.hasNext();){var n=t.next();n.getDepth(Sn.RIGHT)>=1&&n.getDepth(Sn.LEFT)<=0&&!n.isInteriorAreaEdge()&&n.setInResult(!0)}},Cn.prototype.computeDepths=function(t){var n=new Yt,e=new Hn,i=t.getNode();for(e.addLast(i),n.add(i),t.setVisited(!0);!e.isEmpty();){var o=e.removeFirst();n.add(o),this.computeNodeDepth(o);for(var l=o.getEdges().iterator();l.hasNext();){var s=l.next().getSym();if(!s.isVisited()){var r=s.getNode();n.contains(r)||(e.addLast(r),n.add(r))}}}},Cn.prototype.compareTo=function(t){var n=t;return this._rightMostCoord.x<n._rightMostCoord.x?-1:this._rightMostCoord.x>n._rightMostCoord.x?1:0},Cn.prototype.getEnvelope=function(){if(null===this._env){for(var t=new E,n=this._dirEdgeList.iterator();n.hasNext();)for(var e=n.next().getEdge().getCoordinates(),i=0;i<e.length-1;i++)t.expandToInclude(e[i]);this._env=t}return this._env},Cn.prototype.addReachable=function(t){var n=new y;for(n.add(t);!n.empty();){var e=n.pop();this.add(e,n)}},Cn.prototype.copySymDepths=function(t){var n=t.getSym();n.setDepth(Sn.LEFT,t.getDepth(Sn.RIGHT)),n.setDepth(Sn.RIGHT,t.getDepth(Sn.LEFT))},Cn.prototype.add=function(t,n){t.setVisited(!0),this._nodes.add(t);for(var e=t.getEdges().iterator();e.hasNext();){var i=e.next();this._dirEdgeList.add(i);var o=i.getSym().getNode();o.isVisited()||n.push(o)}},Cn.prototype.getNodes=function(){return this._nodes},Cn.prototype.getDirectedEdges=function(){return this._dirEdgeList},Cn.prototype.interfaces_=function(){return[W]},Cn.prototype.getClass=function(){return Cn};var Yn=function t(){if(this.location=null,1===arguments.length){if(arguments[0]instanceof Array){var n=arguments[0];this.init(n.length)}else if(Number.isInteger(arguments[0])){var e=arguments[0];this.init(1),this.location[Sn.ON]=e}else if(arguments[0]instanceof t){var i=arguments[0];if(this.init(i.location.length),null!==i)for(var o=0;o<this.location.length;o++)this.location[o]=i.location[o]}}else if(3===arguments.length){var l=arguments[0],s=arguments[1],r=arguments[2];this.init(3),this.location[Sn.ON]=l,this.location[Sn.LEFT]=s,this.location[Sn.RIGHT]=r}};Yn.prototype.setAllLocations=function(t){for(var n=0;n<this.location.length;n++)this.location[n]=t},Yn.prototype.isNull=function(){for(var t=0;t<this.location.length;t++)if(this.location[t]!==R.NONE)return!1;return!0},Yn.prototype.setAllLocationsIfNull=function(t){for(var n=0;n<this.location.length;n++)this.location[n]===R.NONE&&(this.location[n]=t)},Yn.prototype.isLine=function(){return 1===this.location.length},Yn.prototype.merge=function(t){if(t.location.length>this.location.length){var n=new Array(3).fill(null);n[Sn.ON]=this.location[Sn.ON],n[Sn.LEFT]=R.NONE,n[Sn.RIGHT]=R.NONE,this.location=n}for(var e=0;e<this.location.length;e++)this.location[e]===R.NONE&&e<t.location.length&&(this.location[e]=t.location[e])},Yn.prototype.getLocations=function(){return this.location},Yn.prototype.flip=function(){if(this.location.length<=1)return null;var t=this.location[Sn.LEFT];this.location[Sn.LEFT]=this.location[Sn.RIGHT],this.location[Sn.RIGHT]=t},Yn.prototype.toString=function(){var t=new T;return this.location.length>1&&t.append(R.toLocationSymbol(this.location[Sn.LEFT])),t.append(R.toLocationSymbol(this.location[Sn.ON])),this.location.length>1&&t.append(R.toLocationSymbol(this.location[Sn.RIGHT])),t.toString()},Yn.prototype.setLocations=function(t,n,e){this.location[Sn.ON]=t,this.location[Sn.LEFT]=n,this.location[Sn.RIGHT]=e},Yn.prototype.get=function(t){return t<this.location.length?this.location[t]:R.NONE},Yn.prototype.isArea=function(){return this.location.length>1},Yn.prototype.isAnyNull=function(){for(var t=0;t<this.location.length;t++)if(this.location[t]===R.NONE)return!0;return!1},Yn.prototype.setLocation=function(){if(1===arguments.length){var t=arguments[0];this.setLocation(Sn.ON,t)}else if(2===arguments.length){var n=arguments[0],e=arguments[1];this.location[n]=e}},Yn.prototype.init=function(t){this.location=new Array(t).fill(null),this.setAllLocations(R.NONE)},Yn.prototype.isEqualOnSide=function(t,n){return this.location[n]===t.location[n]},Yn.prototype.allPositionsEqual=function(t){for(var n=0;n<this.location.length;n++)if(this.location[n]!==t)return!1;return!0},Yn.prototype.interfaces_=function(){return[]},Yn.prototype.getClass=function(){return Yn};var Tn=function t(){if(this.elt=new Array(2).fill(null),1===arguments.length){if(Number.isInteger(arguments[0])){var n=arguments[0];this.elt[0]=new Yn(n),this.elt[1]=new Yn(n)}else if(arguments[0]instanceof t){var e=arguments[0];this.elt[0]=new Yn(e.elt[0]),this.elt[1]=new Yn(e.elt[1])}}else if(2===arguments.length){var i=arguments[0],o=arguments[1];this.elt[0]=new Yn(R.NONE),this.elt[1]=new Yn(R.NONE),this.elt[i].setLocation(o)}else if(3===arguments.length){var l=arguments[0],s=arguments[1],r=arguments[2];this.elt[0]=new Yn(l,s,r),this.elt[1]=new Yn(l,s,r)}else if(4===arguments.length){var a=arguments[0],d=arguments[1],c=arguments[2],u=arguments[3];this.elt[0]=new Yn(R.NONE,R.NONE,R.NONE),this.elt[1]=new Yn(R.NONE,R.NONE,R.NONE),this.elt[a].setLocations(d,c,u)}};Tn.prototype.getGeometryCount=function(){var t=0;return this.elt[0].isNull()||t++,this.elt[1].isNull()||t++,t},Tn.prototype.setAllLocations=function(t,n){this.elt[t].setAllLocations(n)},Tn.prototype.isNull=function(t){return this.elt[t].isNull()},Tn.prototype.setAllLocationsIfNull=function(){if(1===arguments.length){var t=arguments[0];this.setAllLocationsIfNull(0,t),this.setAllLocationsIfNull(1,t)}else if(2===arguments.length){var n=arguments[0],e=arguments[1];this.elt[n].setAllLocationsIfNull(e)}},Tn.prototype.isLine=function(t){return this.elt[t].isLine()},Tn.prototype.merge=function(t){for(var n=0;n<2;n++)null===this.elt[n]&&null!==t.elt[n]?this.elt[n]=new Yn(t.elt[n]):this.elt[n].merge(t.elt[n])},Tn.prototype.flip=function(){this.elt[0].flip(),this.elt[1].flip()},Tn.prototype.getLocation=function(){if(1===arguments.length){var t=arguments[0];return this.elt[t].get(Sn.ON)}if(2===arguments.length){var n=arguments[0],e=arguments[1];return this.elt[n].get(e)}},Tn.prototype.toString=function(){var t=new T;return null!==this.elt[0]&&(t.append("A:"),t.append(this.elt[0].toString())),null!==this.elt[1]&&(t.append(" B:"),t.append(this.elt[1].toString())),t.toString()},Tn.prototype.isArea=function(){if(0===arguments.length)return this.elt[0].isArea()||this.elt[1].isArea();if(1===arguments.length){var t=arguments[0];return this.elt[t].isArea()}},Tn.prototype.isAnyNull=function(t){return this.elt[t].isAnyNull()},Tn.prototype.setLocation=function(){if(2===arguments.length){var t=arguments[0],n=arguments[1];this.elt[t].setLocation(Sn.ON,n)}else if(3===arguments.length){var e=arguments[0],i=arguments[1],o=arguments[2];this.elt[e].setLocation(i,o)}},Tn.prototype.isEqualOnSide=function(t,n){return this.elt[0].isEqualOnSide(t.elt[0],n)&&this.elt[1].isEqualOnSide(t.elt[1],n)},Tn.prototype.allPositionsEqual=function(t,n){return this.elt[t].allPositionsEqual(n)},Tn.prototype.toLine=function(t){this.elt[t].isArea()&&(this.elt[t]=new Yn(this.elt[t].location[0]))},Tn.prototype.interfaces_=function(){return[]},Tn.prototype.getClass=function(){return Tn},Tn.toLineLabel=function(t){for(var n=new Tn(R.NONE),e=0;e<2;e++)n.setLocation(e,t.getLocation(e));return n};var Mn=function(){this._startDe=null,this._maxNodeDegree=-1,this._edges=new vt,this._pts=new vt,this._label=new Tn(R.NONE),this._ring=null,this._isHole=null,this._shell=null,this._holes=new vt,this._geometryFactory=null;var t=arguments[0],n=arguments[1];this._geometryFactory=n,this.computePoints(t),this.computeRing()};Mn.prototype.computeRing=function(){if(null!==this._ring)return null;for(var t=new Array(this._pts.size()).fill(null),n=0;n<this._pts.size();n++)t[n]=this._pts.get(n);this._ring=this._geometryFactory.createLinearRing(t),this._isHole=rt.isCCW(this._ring.getCoordinates())},Mn.prototype.isIsolated=function(){return 1===this._label.getGeometryCount()},Mn.prototype.computePoints=function(t){this._startDe=t;var n=t,e=!0;do{if(null===n)throw new Kn("Found null DirectedEdge");if(n.getEdgeRing()===this)throw new Kn("Directed Edge visited twice during ring-building at "+n.getCoordinate());this._edges.add(n);var i=n.getLabel();nt.isTrue(i.isArea()),this.mergeLabel(i),this.addPoints(n.getEdge(),n.isForward(),e),e=!1,this.setEdgeRing(n,this),n=this.getNext(n)}while(n!==this._startDe)},Mn.prototype.getLinearRing=function(){return this._ring},Mn.prototype.getCoordinate=function(t){return this._pts.get(t)},Mn.prototype.computeMaxNodeDegree=function(){this._maxNodeDegree=0;var t=this._startDe;do{var n=t.getNode().getEdges().getOutgoingDegree(this);n>this._maxNodeDegree&&(this._maxNodeDegree=n),t=this.getNext(t)}while(t!==this._startDe);this._maxNodeDegree*=2},Mn.prototype.addPoints=function(t,n,e){var i=t.getCoordinates();if(n){var o=1;e&&(o=0);for(var l=o;l<i.length;l++)this._pts.add(i[l])}else{var s=i.length-2;e&&(s=i.length-1);for(var r=s;r>=0;r--)this._pts.add(i[r])}},Mn.prototype.isHole=function(){return this._isHole},Mn.prototype.setInResult=function(){var t=this._startDe;do{t.getEdge().setInResult(!0),t=t.getNext()}while(t!==this._startDe)},Mn.prototype.containsPoint=function(t){var n=this.getLinearRing();if(!n.getEnvelopeInternal().contains(t))return!1;if(!rt.isPointInRing(t,n.getCoordinates()))return!1;for(var e=this._holes.iterator();e.hasNext();)if(e.next().containsPoint(t))return!1;return!0},Mn.prototype.addHole=function(t){this._holes.add(t)},Mn.prototype.isShell=function(){return null===this._shell},Mn.prototype.getLabel=function(){return this._label},Mn.prototype.getEdges=function(){return this._edges},Mn.prototype.getMaxNodeDegree=function(){return this._maxNodeDegree<0&&this.computeMaxNodeDegree(),this._maxNodeDegree},Mn.prototype.getShell=function(){return this._shell},Mn.prototype.mergeLabel=function(){if(1===arguments.length){var t=arguments[0];this.mergeLabel(t,0),this.mergeLabel(t,1)}else if(2===arguments.length){var n=arguments[1],e=arguments[0].getLocation(n,Sn.RIGHT);if(e===R.NONE)return null;if(this._label.getLocation(n)===R.NONE)return this._label.setLocation(n,e),null}},Mn.prototype.setShell=function(t){this._shell=t,null!==t&&t.addHole(this)},Mn.prototype.toPolygon=function(t){for(var n=new Array(this._holes.size()).fill(null),e=0;e<this._holes.size();e++)n[e]=this._holes.get(e).getLinearRing();return t.createPolygon(this.getLinearRing(),n)},Mn.prototype.interfaces_=function(){return[]},Mn.prototype.getClass=function(){return Mn};var wn=function(t){function n(){var n=arguments[0],e=arguments[1];t.call(this,n,e)}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.setEdgeRing=function(t,n){t.setMinEdgeRing(n)},n.prototype.getNext=function(t){return t.getNextMin()},n.prototype.interfaces_=function(){return[]},n.prototype.getClass=function(){return n},n}(Mn),Pn=function(t){function n(){var n=arguments[0],e=arguments[1];t.call(this,n,e)}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.buildMinimalRings=function(){var t=new vt,n=this._startDe;do{if(null===n.getMinEdgeRing()){var e=new wn(n,this._geometryFactory);t.add(e)}n=n.getNext()}while(n!==this._startDe);return t},n.prototype.setEdgeRing=function(t,n){t.setEdgeRing(n)},n.prototype.linkDirectedEdgesForMinimalEdgeRings=function(){var t=this._startDe;do{t.getNode().getEdges().linkMinimalDirectedEdges(this),t=t.getNext()}while(t!==this._startDe)},n.prototype.getNext=function(t){return t.getNext()},n.prototype.interfaces_=function(){return[]},n.prototype.getClass=function(){return n},n}(Mn),In=function(){if(this._label=null,this._isInResult=!1,this._isCovered=!1,this._isCoveredSet=!1,this._isVisited=!1,0===arguments.length);else if(1===arguments.length){var t=arguments[0];this._label=t}};In.prototype.setVisited=function(t){this._isVisited=t},In.prototype.setInResult=function(t){this._isInResult=t},In.prototype.isCovered=function(){return this._isCovered},In.prototype.isCoveredSet=function(){return this._isCoveredSet},In.prototype.setLabel=function(t){this._label=t},In.prototype.getLabel=function(){return this._label},In.prototype.setCovered=function(t){this._isCovered=t,this._isCoveredSet=!0},In.prototype.updateIM=function(t){nt.isTrue(this._label.getGeometryCount()>=2,"found partial label"),this.computeIM(t)},In.prototype.isInResult=function(){return this._isInResult},In.prototype.isVisited=function(){return this._isVisited},In.prototype.interfaces_=function(){return[]},In.prototype.getClass=function(){return In};var zn=function(t){function n(){t.call(this),this._coord=null,this._edges=null;var n=arguments[0],e=arguments[1];this._coord=n,this._edges=e,this._label=new Tn(0,R.NONE)}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.isIncidentEdgeInResult=function(){for(var t=this.getEdges().getEdges().iterator();t.hasNext();)if(t.next().getEdge().isInResult())return!0;return!1},n.prototype.isIsolated=function(){return 1===this._label.getGeometryCount()},n.prototype.getCoordinate=function(){return this._coord},n.prototype.print=function(t){t.println("node "+this._coord+" lbl: "+this._label)},n.prototype.computeIM=function(t){},n.prototype.computeMergedLocation=function(t,n){var e=R.NONE;if(e=this._label.getLocation(n),!t.isNull(n)){var i=t.getLocation(n);e!==R.BOUNDARY&&(e=i)}return e},n.prototype.setLabel=function(){if(2!==arguments.length)return t.prototype.setLabel.apply(this,arguments);var n=arguments[0],e=arguments[1];null===this._label?this._label=new Tn(n,e):this._label.setLocation(n,e)},n.prototype.getEdges=function(){return this._edges},n.prototype.mergeLabel=function(){if(arguments[0]instanceof n){var t=arguments[0];this.mergeLabel(t._label)}else if(arguments[0]instanceof Tn)for(var e=arguments[0],i=0;i<2;i++){var o=this.computeMergedLocation(e,i);this._label.getLocation(i)===R.NONE&&this._label.setLocation(i,o)}},n.prototype.add=function(t){this._edges.insert(t),t.setNode(this)},n.prototype.setLabelBoundary=function(t){if(null===this._label)return null;var n=R.NONE;null!==this._label&&(n=this._label.getLocation(t));var e=null;switch(n){case R.BOUNDARY:e=R.INTERIOR;break;case R.INTERIOR:default:e=R.BOUNDARY}this._label.setLocation(t,e)},n.prototype.interfaces_=function(){return[]},n.prototype.getClass=function(){return n},n}(In),Jn=function(){this.nodeMap=new u,this.nodeFact=null;var t=arguments[0];this.nodeFact=t};Jn.prototype.find=function(t){return this.nodeMap.get(t)},Jn.prototype.addNode=function(){if(arguments[0]instanceof V){var t=arguments[0],n=this.nodeMap.get(t);return null===n&&(n=this.nodeFact.createNode(t),this.nodeMap.put(t,n)),n}if(arguments[0]instanceof zn){var e=arguments[0],i=this.nodeMap.get(e.getCoordinate());return null===i?(this.nodeMap.put(e.getCoordinate(),e),e):(i.mergeLabel(e),i)}},Jn.prototype.print=function(t){for(var n=this.iterator();n.hasNext();)n.next().print(t)},Jn.prototype.iterator=function(){return this.nodeMap.values().iterator()},Jn.prototype.values=function(){return this.nodeMap.values()},Jn.prototype.getBoundaryNodes=function(t){for(var n=new vt,e=this.iterator();e.hasNext();){var i=e.next();i.getLabel().getLocation(t)===R.BOUNDARY&&n.add(i)}return n},Jn.prototype.add=function(t){var n=t.getCoordinate();this.addNode(n).add(t)},Jn.prototype.interfaces_=function(){return[]},Jn.prototype.getClass=function(){return Jn};var Nn=function(){},Fn={NE:{configurable:!0},NW:{configurable:!0},SW:{configurable:!0},SE:{configurable:!0}};Nn.prototype.interfaces_=function(){return[]},Nn.prototype.getClass=function(){return Nn},Nn.isNorthern=function(t){return t===Nn.NE||t===Nn.NW},Nn.isOpposite=function(t,n){return t!==n&&2==(t-n+4)%4},Nn.commonHalfPlane=function(t,n){if(t===n)return t;if(2==(t-n+4)%4)return-1;var e=t<n?t:n;return 0===e&&3===(t>n?t:n)?3:e},Nn.isInHalfPlane=function(t,n){return n===Nn.SE?t===Nn.SE||t===Nn.SW:t===n||t===n+1},Nn.quadrant=function(){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var t=arguments[0],n=arguments[1];if(0===t&&0===n)throw new X("Cannot compute the quadrant for point ( "+t+", "+n+" )");return t>=0?n>=0?Nn.NE:Nn.SE:n>=0?Nn.NW:Nn.SW}if(arguments[0]instanceof V&&arguments[1]instanceof V){var e=arguments[0],i=arguments[1];if(i.x===e.x&&i.y===e.y)throw new X("Cannot compute the quadrant for two identical points "+e);return i.x>=e.x?i.y>=e.y?Nn.NE:Nn.SE:i.y>=e.y?Nn.NW:Nn.SW}},Fn.NE.get=function(){return 0},Fn.NW.get=function(){return 1},Fn.SW.get=function(){return 2},Fn.SE.get=function(){return 3},Object.defineProperties(Nn,Fn);var kn=function(){if(this._edge=null,this._label=null,this._node=null,this._p0=null,this._p1=null,this._dx=null,this._dy=null,this._quadrant=null,1===arguments.length){var t=arguments[0];this._edge=t}else if(3===arguments.length){var n=arguments[0],e=arguments[1],i=arguments[2];this._edge=n,this.init(e,i),this._label=null}else if(4===arguments.length){var o=arguments[0],l=arguments[1],s=arguments[2],r=arguments[3];this._edge=o,this.init(l,s),this._label=r}};kn.prototype.compareDirection=function(t){return this._dx===t._dx&&this._dy===t._dy?0:this._quadrant>t._quadrant?1:this._quadrant<t._quadrant?-1:rt.computeOrientation(t._p0,t._p1,this._p1)},kn.prototype.getDy=function(){return this._dy},kn.prototype.getCoordinate=function(){return this._p0},kn.prototype.setNode=function(t){this._node=t},kn.prototype.print=function(t){var n=Math.atan2(this._dy,this._dx),e=this.getClass().getName(),i=e.lastIndexOf("."),o=e.substring(i+1);t.print("  "+o+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+n+"   "+this._label)},kn.prototype.compareTo=function(t){var n=t;return this.compareDirection(n)},kn.prototype.getDirectedCoordinate=function(){return this._p1},kn.prototype.getDx=function(){return this._dx},kn.prototype.getLabel=function(){return this._label},kn.prototype.getEdge=function(){return this._edge},kn.prototype.getQuadrant=function(){return this._quadrant},kn.prototype.getNode=function(){return this._node},kn.prototype.toString=function(){var t=Math.atan2(this._dy,this._dx),n=this.getClass().getName(),e=n.lastIndexOf(".");return"  "+n.substring(e+1)+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+t+"   "+this._label},kn.prototype.computeLabel=function(t){},kn.prototype.init=function(t,n){this._p0=t,this._p1=n,this._dx=n.x-t.x,this._dy=n.y-t.y,this._quadrant=Nn.quadrant(this._dx,this._dy),nt.isTrue(!(0===this._dx&&0===this._dy),"EdgeEnd with identical endpoints found")},kn.prototype.interfaces_=function(){return[W]},kn.prototype.getClass=function(){return kn};var Bn=function(t){function n(){var n=arguments[0],e=arguments[1];if(t.call(this,n),this._isForward=null,this._isInResult=!1,this._isVisited=!1,this._sym=null,this._next=null,this._nextMin=null,this._edgeRing=null,this._minEdgeRing=null,this._depth=[0,-999,-999],this._isForward=e,e)this.init(n.getCoordinate(0),n.getCoordinate(1));else{var i=n.getNumPoints()-1;this.init(n.getCoordinate(i),n.getCoordinate(i-1))}this.computeDirectedLabel()}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.getNextMin=function(){return this._nextMin},n.prototype.getDepth=function(t){return this._depth[t]},n.prototype.setVisited=function(t){this._isVisited=t},n.prototype.computeDirectedLabel=function(){this._label=new Tn(this._edge.getLabel()),this._isForward||this._label.flip()},n.prototype.getNext=function(){return this._next},n.prototype.setDepth=function(t,n){if(-999!==this._depth[t]&&this._depth[t]!==n)throw new Kn("assigned depths do not match",this.getCoordinate());this._depth[t]=n},n.prototype.isInteriorAreaEdge=function(){for(var t=!0,n=0;n<2;n++)this._label.isArea(n)&&this._label.getLocation(n,Sn.LEFT)===R.INTERIOR&&this._label.getLocation(n,Sn.RIGHT)===R.INTERIOR||(t=!1);return t},n.prototype.setNextMin=function(t){this._nextMin=t},n.prototype.print=function(n){t.prototype.print.call(this,n),n.print(" "+this._depth[Sn.LEFT]+"/"+this._depth[Sn.RIGHT]),n.print(" ("+this.getDepthDelta()+")"),this._isInResult&&n.print(" inResult")},n.prototype.setMinEdgeRing=function(t){this._minEdgeRing=t},n.prototype.isLineEdge=function(){var t=this._label.isLine(0)||this._label.isLine(1),n=!this._label.isArea(0)||this._label.allPositionsEqual(0,R.EXTERIOR),e=!this._label.isArea(1)||this._label.allPositionsEqual(1,R.EXTERIOR);return t&&n&&e},n.prototype.setEdgeRing=function(t){this._edgeRing=t},n.prototype.getMinEdgeRing=function(){return this._minEdgeRing},n.prototype.getDepthDelta=function(){var t=this._edge.getDepthDelta();return this._isForward||(t=-t),t},n.prototype.setInResult=function(t){this._isInResult=t},n.prototype.getSym=function(){return this._sym},n.prototype.isForward=function(){return this._isForward},n.prototype.getEdge=function(){return this._edge},n.prototype.printEdge=function(t){this.print(t),t.print(" "),this._isForward?this._edge.print(t):this._edge.printReverse(t)},n.prototype.setSym=function(t){this._sym=t},n.prototype.setVisitedEdge=function(t){this.setVisited(t),this._sym.setVisited(t)},n.prototype.setEdgeDepths=function(t,n){var e=this.getEdge().getDepthDelta();this._isForward||(e=-e);var i=1;t===Sn.LEFT&&(i=-1);var o=Sn.opposite(t),l=n+e*i;this.setDepth(t,n),this.setDepth(o,l)},n.prototype.getEdgeRing=function(){return this._edgeRing},n.prototype.isInResult=function(){return this._isInResult},n.prototype.setNext=function(t){this._next=t},n.prototype.isVisited=function(){return this._isVisited},n.prototype.interfaces_=function(){return[]},n.prototype.getClass=function(){return n},n.depthFactor=function(t,n){return t===R.EXTERIOR&&n===R.INTERIOR?1:t===R.INTERIOR&&n===R.EXTERIOR?-1:0},n}(kn),_n=function(){};_n.prototype.createNode=function(t){return new zn(t,null)},_n.prototype.interfaces_=function(){return[]},_n.prototype.getClass=function(){return _n};var Un=function(){if(this._edges=new vt,this._nodes=null,this._edgeEndList=new vt,0===arguments.length)this._nodes=new Jn(new _n);else if(1===arguments.length){var t=arguments[0];this._nodes=new Jn(t)}};Un.prototype.printEdges=function(t){t.println("Edges:");for(var n=0;n<this._edges.size();n++){t.println("edge "+n+":");var e=this._edges.get(n);e.print(t),e.eiList.print(t)}},Un.prototype.find=function(t){return this._nodes.find(t)},Un.prototype.addNode=function(){if(arguments[0]instanceof zn){var t=arguments[0];return this._nodes.addNode(t)}if(arguments[0]instanceof V){var n=arguments[0];return this._nodes.addNode(n)}},Un.prototype.getNodeIterator=function(){return this._nodes.iterator()},Un.prototype.linkResultDirectedEdges=function(){for(var t=this._nodes.iterator();t.hasNext();)t.next().getEdges().linkResultDirectedEdges()},Un.prototype.debugPrintln=function(t){_.out.println(t)},Un.prototype.isBoundaryNode=function(t,n){var e=this._nodes.find(n);if(null===e)return!1;var i=e.getLabel();return null!==i&&i.getLocation(t)===R.BOUNDARY},Un.prototype.linkAllDirectedEdges=function(){for(var t=this._nodes.iterator();t.hasNext();)t.next().getEdges().linkAllDirectedEdges()},Un.prototype.matchInSameDirection=function(t,n,e,i){return!!t.equals(e)&&rt.computeOrientation(t,n,i)===rt.COLLINEAR&&Nn.quadrant(t,n)===Nn.quadrant(e,i)},Un.prototype.getEdgeEnds=function(){return this._edgeEndList},Un.prototype.debugPrint=function(t){_.out.print(t)},Un.prototype.getEdgeIterator=function(){return this._edges.iterator()},Un.prototype.findEdgeInSameDirection=function(t,n){for(var e=0;e<this._edges.size();e++){var i=this._edges.get(e),o=i.getCoordinates();if(this.matchInSameDirection(t,n,o[0],o[1]))return i;if(this.matchInSameDirection(t,n,o[o.length-1],o[o.length-2]))return i}return null},Un.prototype.insertEdge=function(t){this._edges.add(t)},Un.prototype.findEdgeEnd=function(t){for(var n=this.getEdgeEnds().iterator();n.hasNext();){var e=n.next();if(e.getEdge()===t)return e}return null},Un.prototype.addEdges=function(t){for(var n=t.iterator();n.hasNext();){var e=n.next();this._edges.add(e);var i=new Bn(e,!0),o=new Bn(e,!1);i.setSym(o),o.setSym(i),this.add(i),this.add(o)}},Un.prototype.add=function(t){this._nodes.add(t),this._edgeEndList.add(t)},Un.prototype.getNodes=function(){return this._nodes.values()},Un.prototype.findEdge=function(t,n){for(var e=0;e<this._edges.size();e++){var i=this._edges.get(e),o=i.getCoordinates();if(t.equals(o[0])&&n.equals(o[1]))return i}return null},Un.prototype.interfaces_=function(){return[]},Un.prototype.getClass=function(){return Un},Un.linkResultDirectedEdges=function(t){for(var n=t.iterator();n.hasNext();)n.next().getEdges().linkResultDirectedEdges()};var En=function(){this._geometryFactory=null,this._shellList=new vt;var t=arguments[0];this._geometryFactory=t};En.prototype.sortShellsAndHoles=function(t,n,e){for(var i=t.iterator();i.hasNext();){var o=i.next();o.isHole()?e.add(o):n.add(o)}},En.prototype.computePolygons=function(t){for(var n=new vt,e=t.iterator();e.hasNext();){var i=e.next().toPolygon(this._geometryFactory);n.add(i)}return n},En.prototype.placeFreeHoles=function(t,n){for(var e=n.iterator();e.hasNext();){var i=e.next();if(null===i.getShell()){var o=this.findEdgeRingContaining(i,t);if(null===o)throw new Kn("unable to assign hole to a shell",i.getCoordinate(0));i.setShell(o)}}},En.prototype.buildMinimalEdgeRings=function(t,n,e){for(var i=new vt,o=t.iterator();o.hasNext();){var l=o.next();if(l.getMaxNodeDegree()>2){l.linkDirectedEdgesForMinimalEdgeRings();var s=l.buildMinimalRings(),r=this.findShell(s);null!==r?(this.placePolygonHoles(r,s),n.add(r)):e.addAll(s)}else i.add(l)}return i},En.prototype.containsPoint=function(t){for(var n=this._shellList.iterator();n.hasNext();)if(n.next().containsPoint(t))return!0;return!1},En.prototype.buildMaximalEdgeRings=function(t){for(var n=new vt,e=t.iterator();e.hasNext();){var i=e.next();if(i.isInResult()&&i.getLabel().isArea()&&null===i.getEdgeRing()){var o=new Pn(i,this._geometryFactory);n.add(o),o.setInResult()}}return n},En.prototype.placePolygonHoles=function(t,n){for(var e=n.iterator();e.hasNext();){var i=e.next();i.isHole()&&i.setShell(t)}},En.prototype.getPolygons=function(){return this.computePolygons(this._shellList)},En.prototype.findEdgeRingContaining=function(t,n){for(var e=t.getLinearRing(),i=e.getEnvelopeInternal(),o=e.getCoordinateN(0),l=null,s=null,r=n.iterator();r.hasNext();){var a=r.next(),d=a.getLinearRing(),c=d.getEnvelopeInternal();null!==l&&(s=l.getLinearRing().getEnvelopeInternal());var u=!1;c.contains(i)&&rt.isPointInRing(o,d.getCoordinates())&&(u=!0),u&&(null===l||s.contains(c))&&(l=a)}return l},En.prototype.findShell=function(t){for(var n=0,e=null,i=t.iterator();i.hasNext();){var o=i.next();o.isHole()||(e=o,n++)}return nt.isTrue(n<=1,"found two shells in MinimalEdgeRing list"),e},En.prototype.add=function(){if(1===arguments.length){var t=arguments[0];this.add(t.getEdgeEnds(),t.getNodes())}else if(2===arguments.length){var n=arguments[0],e=arguments[1];Un.linkResultDirectedEdges(e);var i=this.buildMaximalEdgeRings(n),o=new vt,l=this.buildMinimalEdgeRings(i,this._shellList,o);this.sortShellsAndHoles(l,this._shellList,o),this.placeFreeHoles(this._shellList,o)}},En.prototype.interfaces_=function(){return[]},En.prototype.getClass=function(){return En};var jn=function(){};jn.prototype.getBounds=function(){},jn.prototype.interfaces_=function(){return[]},jn.prototype.getClass=function(){return jn};var Qn=function(){this._bounds=null,this._item=null;var t=arguments[0],n=arguments[1];this._bounds=t,this._item=n};Qn.prototype.getItem=function(){return this._item},Qn.prototype.getBounds=function(){return this._bounds},Qn.prototype.interfaces_=function(){return[jn,n]},Qn.prototype.getClass=function(){return Qn};var On=function(){this._size=null,this._items=null,this._size=0,this._items=new vt,this._items.add(null)};On.prototype.poll=function(){if(this.isEmpty())return null;var t=this._items.get(1);return this._items.set(1,this._items.get(this._size)),this._size-=1,this.reorder(1),t},On.prototype.size=function(){return this._size},On.prototype.reorder=function(t){for(var n=null,e=this._items.get(t);2*t<=this._size&&((n=2*t)!==this._size&&this._items.get(n+1).compareTo(this._items.get(n))<0&&n++,this._items.get(n).compareTo(e)<0);t=n)this._items.set(t,this._items.get(n));this._items.set(t,e)},On.prototype.clear=function(){this._size=0,this._items.clear()},On.prototype.isEmpty=function(){return 0===this._size},On.prototype.add=function(t){this._items.add(null),this._size+=1;var n=this._size;for(this._items.set(0,t);t.compareTo(this._items.get(Math.trunc(n/2)))<0;n/=2)this._items.set(n,this._items.get(Math.trunc(n/2)));this._items.set(n,t)},On.prototype.interfaces_=function(){return[]},On.prototype.getClass=function(){return On};var An=function(){};An.prototype.visitItem=function(t){},An.prototype.interfaces_=function(){return[]},An.prototype.getClass=function(){return An};var Dn=function(){};Dn.prototype.insert=function(t,n){},Dn.prototype.remove=function(t,n){},Dn.prototype.query=function(){},Dn.prototype.interfaces_=function(){return[]},Dn.prototype.getClass=function(){return Dn};var qn=function(){if(this._childBoundables=new vt,this._bounds=null,this._level=null,0===arguments.length);else if(1===arguments.length){var t=arguments[0];this._level=t}},$n={serialVersionUID:{configurable:!0}};qn.prototype.getLevel=function(){return this._level},qn.prototype.size=function(){return this._childBoundables.size()},qn.prototype.getChildBoundables=function(){return this._childBoundables},qn.prototype.addChildBoundable=function(t){nt.isTrue(null===this._bounds),this._childBoundables.add(t)},qn.prototype.isEmpty=function(){return this._childBoundables.isEmpty()},qn.prototype.getBounds=function(){return null===this._bounds&&(this._bounds=this.computeBounds()),this._bounds},qn.prototype.interfaces_=function(){return[jn,n]},qn.prototype.getClass=function(){return qn},$n.serialVersionUID.get=function(){return 0x5a1e55ec41369800},Object.defineProperties(qn,$n);var te=function(){};te.reverseOrder=function(){return{compare:function(t,n){return n.compareTo(t)}}},te.min=function(t){return te.sort(t),t.get(0)},te.sort=function(t,n){var e=t.toArray();n?It.sort(e,n):It.sort(e);for(var i=t.iterator(),o=0,l=e.length;o<l;o++)i.next(),i.set(e[o])},te.singletonList=function(t){var n=new vt;return n.add(t),n};var ne=function(){this._boundable1=null,this._boundable2=null,this._distance=null,this._itemDistance=null;var t=arguments[0],n=arguments[1],e=arguments[2];this._boundable1=t,this._boundable2=n,this._itemDistance=e,this._distance=this.distance()};ne.prototype.expandToQueue=function(t,n){var e=ne.isComposite(this._boundable1),i=ne.isComposite(this._boundable2);if(e&&i)return ne.area(this._boundable1)>ne.area(this._boundable2)?(this.expand(this._boundable1,this._boundable2,t,n),null):(this.expand(this._boundable2,this._boundable1,t,n),null);if(e)return this.expand(this._boundable1,this._boundable2,t,n),null;if(i)return this.expand(this._boundable2,this._boundable1,t,n),null;throw new X("neither boundable is composite")},ne.prototype.isLeaves=function(){return!(ne.isComposite(this._boundable1)||ne.isComposite(this._boundable2))},ne.prototype.compareTo=function(t){var n=t;return this._distance<n._distance?-1:this._distance>n._distance?1:0},ne.prototype.expand=function(t,n,e,i){for(var o=t.getChildBoundables().iterator();o.hasNext();){var l=o.next(),s=new ne(l,n,this._itemDistance);s.getDistance()<i&&e.add(s)}},ne.prototype.getBoundable=function(t){return 0===t?this._boundable1:this._boundable2},ne.prototype.getDistance=function(){return this._distance},ne.prototype.distance=function(){return this.isLeaves()?this._itemDistance.distance(this._boundable1,this._boundable2):this._boundable1.getBounds().distance(this._boundable2.getBounds())},ne.prototype.interfaces_=function(){return[W]},ne.prototype.getClass=function(){return ne},ne.area=function(t){return t.getBounds().getArea()},ne.isComposite=function(t){return t instanceof qn};var ee=function t(){if(this._root=null,this._built=!1,this._itemBoundables=new vt,this._nodeCapacity=null,0===arguments.length){var n=t.DEFAULT_NODE_CAPACITY;this._nodeCapacity=n}else if(1===arguments.length){var e=arguments[0];nt.isTrue(e>1,"Node capacity must be greater than 1"),this._nodeCapacity=e}},ie={IntersectsOp:{configurable:!0},serialVersionUID:{configurable:!0},DEFAULT_NODE_CAPACITY:{configurable:!0}};ee.prototype.getNodeCapacity=function(){return this._nodeCapacity},ee.prototype.lastNode=function(t){return t.get(t.size()-1)},ee.prototype.size=function(){if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.size(this._root));if(1===arguments.length){for(var t=0,n=arguments[0].getChildBoundables().iterator();n.hasNext();){var e=n.next();e instanceof qn?t+=this.size(e):e instanceof Qn&&(t+=1)}return t}},ee.prototype.removeItem=function(t,n){for(var e=null,i=t.getChildBoundables().iterator();i.hasNext();){var o=i.next();o instanceof Qn&&o.getItem()===n&&(e=o)}return null!==e&&(t.getChildBoundables().remove(e),!0)},ee.prototype.itemsTree=function(){if(0===arguments.length){this.build();var t=this.itemsTree(this._root);return null===t?new vt:t}if(1===arguments.length){for(var n=arguments[0],e=new vt,i=n.getChildBoundables().iterator();i.hasNext();){var o=i.next();if(o instanceof qn){var l=this.itemsTree(o);null!==l&&e.add(l)}else o instanceof Qn?e.add(o.getItem()):nt.shouldNeverReachHere()}return e.size()<=0?null:e}},ee.prototype.insert=function(t,n){nt.isTrue(!this._built,"Cannot insert items into an STR packed R-tree after it has been built."),this._itemBoundables.add(new Qn(t,n))},ee.prototype.boundablesAtLevel=function(){if(1===arguments.length){var t=arguments[0],n=new vt;return this.boundablesAtLevel(t,this._root,n),n}if(3===arguments.length){var e=arguments[0],i=arguments[1],o=arguments[2];if(nt.isTrue(e>-2),i.getLevel()===e)return o.add(i),null;for(var l=i.getChildBoundables().iterator();l.hasNext();){var s=l.next();s instanceof qn?this.boundablesAtLevel(e,s,o):(nt.isTrue(s instanceof Qn),-1===e&&o.add(s))}return null}},ee.prototype.query=function(){if(1===arguments.length){var t=arguments[0];this.build();var n=new vt;return this.isEmpty()||this.getIntersectsOp().intersects(this._root.getBounds(),t)&&this.query(t,this._root,n),n}if(2===arguments.length){var e=arguments[0],i=arguments[1];if(this.build(),this.isEmpty())return null;this.getIntersectsOp().intersects(this._root.getBounds(),e)&&this.query(e,this._root,i)}else if(3===arguments.length)if(H(arguments[2],An)&&arguments[0]instanceof Object&&arguments[1]instanceof qn)for(var o=arguments[0],l=arguments[2],s=arguments[1].getChildBoundables(),r=0;r<s.size();r++){var a=s.get(r);this.getIntersectsOp().intersects(a.getBounds(),o)&&(a instanceof qn?this.query(o,a,l):a instanceof Qn?l.visitItem(a.getItem()):nt.shouldNeverReachHere())}else if(H(arguments[2],gt)&&arguments[0]instanceof Object&&arguments[1]instanceof qn)for(var d=arguments[0],c=arguments[2],u=arguments[1].getChildBoundables(),p=0;p<u.size();p++){var h=u.get(p);this.getIntersectsOp().intersects(h.getBounds(),d)&&(h instanceof qn?this.query(d,h,c):h instanceof Qn?c.add(h.getItem()):nt.shouldNeverReachHere())}},ee.prototype.build=function(){if(this._built)return null;this._root=this._itemBoundables.isEmpty()?this.createNode(0):this.createHigherLevels(this._itemBoundables,-1),this._itemBoundables=null,this._built=!0},ee.prototype.getRoot=function(){return this.build(),this._root},ee.prototype.remove=function(){if(2===arguments.length){var t=arguments[0],n=arguments[1];return this.build(),!!this.getIntersectsOp().intersects(this._root.getBounds(),t)&&this.remove(t,this._root,n)}if(3===arguments.length){var e=arguments[0],i=arguments[1],o=arguments[2],l=this.removeItem(i,o);if(l)return!0;for(var s=null,r=i.getChildBoundables().iterator();r.hasNext();){var a=r.next();if(this.getIntersectsOp().intersects(a.getBounds(),e)&&a instanceof qn&&(l=this.remove(e,a,o))){s=a;break}}return null!==s&&s.getChildBoundables().isEmpty()&&i.getChildBoundables().remove(s),l}},ee.prototype.createHigherLevels=function(t,n){nt.isTrue(!t.isEmpty());var e=this.createParentBoundables(t,n+1);return 1===e.size()?e.get(0):this.createHigherLevels(e,n+1)},ee.prototype.depth=function(){if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.depth(this._root));if(1===arguments.length){for(var t=0,n=arguments[0].getChildBoundables().iterator();n.hasNext();){var e=n.next();if(e instanceof qn){var i=this.depth(e);i>t&&(t=i)}}return t+1}},ee.prototype.createParentBoundables=function(t,n){nt.isTrue(!t.isEmpty());var e=new vt;e.add(this.createNode(n));var i=new vt(t);te.sort(i,this.getComparator());for(var o=i.iterator();o.hasNext();){var l=o.next();this.lastNode(e).getChildBoundables().size()===this.getNodeCapacity()&&e.add(this.createNode(n)),this.lastNode(e).addChildBoundable(l)}return e},ee.prototype.isEmpty=function(){return this._built?this._root.isEmpty():this._itemBoundables.isEmpty()},ee.prototype.interfaces_=function(){return[n]},ee.prototype.getClass=function(){return ee},ee.compareDoubles=function(t,n){return t>n?1:t<n?-1:0},ie.IntersectsOp.get=function(){return oe},ie.serialVersionUID.get=function(){return-0x35ef64c82d4c5400},ie.DEFAULT_NODE_CAPACITY.get=function(){return 10},Object.defineProperties(ee,ie);var oe=function(){},le=function(){};le.prototype.distance=function(t,n){},le.prototype.interfaces_=function(){return[]},le.prototype.getClass=function(){return le};var se=function(t){function e(n){n=n||e.DEFAULT_NODE_CAPACITY,t.call(this,n)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var i={STRtreeNode:{configurable:!0},serialVersionUID:{configurable:!0},xComparator:{configurable:!0},yComparator:{configurable:!0},intersectsOp:{configurable:!0},DEFAULT_NODE_CAPACITY:{configurable:!0}};return e.prototype.createParentBoundablesFromVerticalSlices=function(t,n){nt.isTrue(t.length>0);for(var e=new vt,i=0;i<t.length;i++)e.addAll(this.createParentBoundablesFromVerticalSlice(t[i],n));return e},e.prototype.createNode=function(t){return new re(t)},e.prototype.size=function(){return 0===arguments.length?t.prototype.size.call(this):t.prototype.size.apply(this,arguments)},e.prototype.insert=function(){if(2!==arguments.length)return t.prototype.insert.apply(this,arguments);var n=arguments[0],e=arguments[1];if(n.isNull())return null;t.prototype.insert.call(this,n,e)},e.prototype.getIntersectsOp=function(){return e.intersectsOp},e.prototype.verticalSlices=function(t,n){for(var e=Math.trunc(Math.ceil(t.size()/n)),i=new Array(n).fill(null),o=t.iterator(),l=0;l<n;l++){i[l]=new vt;for(var s=0;o.hasNext()&&s<e;){var r=o.next();i[l].add(r),s++}}return i},e.prototype.query=function(){if(1===arguments.length){var n=arguments[0];return t.prototype.query.call(this,n)}if(2===arguments.length){var e=arguments[0],i=arguments[1];t.prototype.query.call(this,e,i)}else if(3===arguments.length)if(H(arguments[2],An)&&arguments[0]instanceof Object&&arguments[1]instanceof qn){var o=arguments[0],l=arguments[1],s=arguments[2];t.prototype.query.call(this,o,l,s)}else if(H(arguments[2],gt)&&arguments[0]instanceof Object&&arguments[1]instanceof qn){var r=arguments[0],a=arguments[1],d=arguments[2];t.prototype.query.call(this,r,a,d)}},e.prototype.getComparator=function(){return e.yComparator},e.prototype.createParentBoundablesFromVerticalSlice=function(n,e){return t.prototype.createParentBoundables.call(this,n,e)},e.prototype.remove=function(){if(2===arguments.length){var n=arguments[0],e=arguments[1];return t.prototype.remove.call(this,n,e)}return t.prototype.remove.apply(this,arguments)},e.prototype.depth=function(){return 0===arguments.length?t.prototype.depth.call(this):t.prototype.depth.apply(this,arguments)},e.prototype.createParentBoundables=function(t,n){nt.isTrue(!t.isEmpty());var i=Math.trunc(Math.ceil(t.size()/this.getNodeCapacity())),o=new vt(t);te.sort(o,e.xComparator);var l=this.verticalSlices(o,Math.trunc(Math.ceil(Math.sqrt(i))));return this.createParentBoundablesFromVerticalSlices(l,n)},e.prototype.nearestNeighbour=function(){if(1===arguments.length){if(H(arguments[0],le)){var t=arguments[0],n=new ne(this.getRoot(),this.getRoot(),t);return this.nearestNeighbour(n)}if(arguments[0]instanceof ne){var i=arguments[0];return this.nearestNeighbour(i,f.POSITIVE_INFINITY)}}else if(2===arguments.length){if(arguments[0]instanceof e&&H(arguments[1],le)){var o=arguments[0],l=arguments[1],s=new ne(this.getRoot(),o.getRoot(),l);return this.nearestNeighbour(s)}if(arguments[0]instanceof ne&&"number"==typeof arguments[1]){var r=arguments[0],a=arguments[1],d=null,c=new On;for(c.add(r);!c.isEmpty()&&a>0;){var u=c.poll(),p=u.getDistance();if(p>=a)break;u.isLeaves()?(a=p,d=u):u.expandToQueue(c,a)}return[d.getBoundable(0).getItem(),d.getBoundable(1).getItem()]}}else if(3===arguments.length){var h=arguments[2],m=new Qn(arguments[0],arguments[1]),b=new ne(this.getRoot(),m,h);return this.nearestNeighbour(b)[0]}},e.prototype.interfaces_=function(){return[Dn,n]},e.prototype.getClass=function(){return e},e.centreX=function(t){return e.avg(t.getMinX(),t.getMaxX())},e.avg=function(t,n){return(t+n)/2},e.centreY=function(t){return e.avg(t.getMinY(),t.getMaxY())},i.STRtreeNode.get=function(){return re},i.serialVersionUID.get=function(){return 0x39920f7d5f261e0},i.xComparator.get=function(){return{interfaces_:function(){return[v]},compare:function(n,i){return t.compareDoubles(e.centreX(n.getBounds()),e.centreX(i.getBounds()))}}},i.yComparator.get=function(){return{interfaces_:function(){return[v]},compare:function(n,i){return t.compareDoubles(e.centreY(n.getBounds()),e.centreY(i.getBounds()))}}},i.intersectsOp.get=function(){return{interfaces_:function(){return[t.IntersectsOp]},intersects:function(t,n){return t.intersects(n)}}},i.DEFAULT_NODE_CAPACITY.get=function(){return 10},Object.defineProperties(e,i),e}(ee),re=function(t){function n(){var n=arguments[0];t.call(this,n)}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.computeBounds=function(){for(var t=null,n=this.getChildBoundables().iterator();n.hasNext();){var e=n.next();null===t?t=new E(e.getBounds()):t.expandToInclude(e.getBounds())}return t},n.prototype.interfaces_=function(){return[]},n.prototype.getClass=function(){return n},n}(qn),ae=function(){};ae.prototype.interfaces_=function(){return[]},ae.prototype.getClass=function(){return ae},ae.relativeSign=function(t,n){return t<n?-1:t>n?1:0},ae.compare=function(t,n,e){if(n.equals2D(e))return 0;var i=ae.relativeSign(n.x,e.x),o=ae.relativeSign(n.y,e.y);switch(t){case 0:return ae.compareValue(i,o);case 1:return ae.compareValue(o,i);case 2:return ae.compareValue(o,-i);case 3:return ae.compareValue(-i,o);case 4:return ae.compareValue(-i,-o);case 5:return ae.compareValue(-o,-i);case 6:return ae.compareValue(-o,i);case 7:return ae.compareValue(i,-o)}return nt.shouldNeverReachHere("invalid octant value"),0},ae.compareValue=function(t,n){return t<0?-1:t>0?1:n<0?-1:n>0?1:0};var de=function(){this._segString=null,this.coord=null,this.segmentIndex=null,this._segmentOctant=null,this._isInterior=null;var t=arguments[0],n=arguments[1],e=arguments[2],i=arguments[3];this._segString=t,this.coord=new V(n),this.segmentIndex=e,this._segmentOctant=i,this._isInterior=!n.equals2D(t.getCoordinate(e))};de.prototype.getCoordinate=function(){return this.coord},de.prototype.print=function(t){t.print(this.coord),t.print(" seg # = "+this.segmentIndex)},de.prototype.compareTo=function(t){var n=t;return this.segmentIndex<n.segmentIndex?-1:this.segmentIndex>n.segmentIndex?1:this.coord.equals2D(n.coord)?0:ae.compare(this._segmentOctant,this.coord,n.coord)},de.prototype.isEndPoint=function(t){return 0===this.segmentIndex&&!this._isInterior||this.segmentIndex===t},de.prototype.isInterior=function(){return this._isInterior},de.prototype.interfaces_=function(){return[W]},de.prototype.getClass=function(){return de};var ce=function(){this._nodeMap=new u,this._edge=null;var t=arguments[0];this._edge=t};ce.prototype.getSplitCoordinates=function(){var t=new xt;this.addEndpoints();for(var n=this.iterator(),e=n.next();n.hasNext();){var i=n.next();this.addEdgeCoordinates(e,i,t),e=i}return t.toCoordinateArray()},ce.prototype.addCollapsedNodes=function(){var t=new vt;this.findCollapsesFromInsertedNodes(t),this.findCollapsesFromExistingVertices(t);for(var n=t.iterator();n.hasNext();){var e=n.next().intValue();this.add(this._edge.getCoordinate(e),e)}},ce.prototype.print=function(t){t.println("Intersections:");for(var n=this.iterator();n.hasNext();)n.next().print(t)},ce.prototype.findCollapsesFromExistingVertices=function(t){for(var n=0;n<this._edge.size()-2;n++){var e=this._edge.getCoordinate(n),i=this._edge.getCoordinate(n+2);e.equals2D(i)&&t.add(new M(n+1))}},ce.prototype.addEdgeCoordinates=function(t,n,e){var i=this._edge.getCoordinate(n.segmentIndex),o=n.isInterior()||!n.coord.equals2D(i);e.add(new V(t.coord),!1);for(var l=t.segmentIndex+1;l<=n.segmentIndex;l++)e.add(this._edge.getCoordinate(l));o&&e.add(new V(n.coord))},ce.prototype.iterator=function(){return this._nodeMap.values().iterator()},ce.prototype.addSplitEdges=function(t){this.addEndpoints(),this.addCollapsedNodes();for(var n=this.iterator(),e=n.next();n.hasNext();){var i=n.next(),o=this.createSplitEdge(e,i);t.add(o),e=i}},ce.prototype.findCollapseIndex=function(t,n,e){if(!t.coord.equals2D(n.coord))return!1;var i=n.segmentIndex-t.segmentIndex;return n.isInterior()||i--,1===i&&(e[0]=t.segmentIndex+1,!0)},ce.prototype.findCollapsesFromInsertedNodes=function(t){for(var n=new Array(1).fill(null),e=this.iterator(),i=e.next();e.hasNext();){var o=e.next();this.findCollapseIndex(i,o,n)&&t.add(new M(n[0])),i=o}},ce.prototype.getEdge=function(){return this._edge},ce.prototype.addEndpoints=function(){var t=this._edge.size()-1;this.add(this._edge.getCoordinate(0),0),this.add(this._edge.getCoordinate(t),t)},ce.prototype.createSplitEdge=function(t,n){var e=n.segmentIndex-t.segmentIndex+2,i=this._edge.getCoordinate(n.segmentIndex),o=n.isInterior()||!n.coord.equals2D(i);o||e--;var l=new Array(e).fill(null),s=0;l[s++]=new V(t.coord);for(var r=t.segmentIndex+1;r<=n.segmentIndex;r++)l[s++]=this._edge.getCoordinate(r);return o&&(l[s]=new V(n.coord)),new me(l,this._edge.getData())},ce.prototype.add=function(t,n){var e=new de(this._edge,t,n,this._edge.getSegmentOctant(n)),i=this._nodeMap.get(e);return null!==i?(nt.isTrue(i.coord.equals2D(t),"Found equal nodes with different coordinates"),i):(this._nodeMap.put(e,e),e)},ce.prototype.checkSplitEdgesCorrectness=function(t){var n=this._edge.getCoordinates(),e=t.get(0).getCoordinate(0);if(!e.equals2D(n[0]))throw new $("bad split edge start point at "+e);var i=t.get(t.size()-1).getCoordinates(),o=i[i.length-1];if(!o.equals2D(n[n.length-1]))throw new $("bad split edge end point at "+o)},ce.prototype.interfaces_=function(){return[]},ce.prototype.getClass=function(){return ce};var ue=function(){};ue.prototype.interfaces_=function(){return[]},ue.prototype.getClass=function(){return ue},ue.octant=function(){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var t=arguments[0],n=arguments[1];if(0===t&&0===n)throw new X("Cannot compute the octant for point ( "+t+", "+n+" )");var e=Math.abs(t),i=Math.abs(n);return t>=0?n>=0?e>=i?0:1:e>=i?7:6:n>=0?e>=i?3:2:e>=i?4:5}if(arguments[0]instanceof V&&arguments[1]instanceof V){var o=arguments[0],l=arguments[1],s=l.x-o.x,r=l.y-o.y;if(0===s&&0===r)throw new X("Cannot compute the octant for two identical points "+o);return ue.octant(s,r)}};var pe=function(){};pe.prototype.getCoordinates=function(){},pe.prototype.size=function(){},pe.prototype.getCoordinate=function(t){},pe.prototype.isClosed=function(){},pe.prototype.setData=function(t){},pe.prototype.getData=function(){},pe.prototype.interfaces_=function(){return[]},pe.prototype.getClass=function(){return pe};var he=function(){};he.prototype.addIntersection=function(t,n){},he.prototype.interfaces_=function(){return[pe]},he.prototype.getClass=function(){return he};var me=function(){this._nodeList=new ce(this),this._pts=null,this._data=null;var t=arguments[0],n=arguments[1];this._pts=t,this._data=n};me.prototype.getCoordinates=function(){return this._pts},me.prototype.size=function(){return this._pts.length},me.prototype.getCoordinate=function(t){return this._pts[t]},me.prototype.isClosed=function(){return this._pts[0].equals(this._pts[this._pts.length-1])},me.prototype.getSegmentOctant=function(t){return t===this._pts.length-1?-1:this.safeOctant(this.getCoordinate(t),this.getCoordinate(t+1))},me.prototype.setData=function(t){this._data=t},me.prototype.safeOctant=function(t,n){return t.equals2D(n)?0:ue.octant(t,n)},me.prototype.getData=function(){return this._data},me.prototype.addIntersection=function(){if(2===arguments.length){var t=arguments[0],n=arguments[1];this.addIntersectionNode(t,n)}else if(4===arguments.length){var e=arguments[1],i=arguments[3],o=new V(arguments[0].getIntersection(i));this.addIntersection(o,e)}},me.prototype.toString=function(){return q.toLineString(new dn(this._pts))},me.prototype.getNodeList=function(){return this._nodeList},me.prototype.addIntersectionNode=function(t,n){var e=n,i=e+1;if(i<this._pts.length){var o=this._pts[i];t.equals2D(o)&&(e=i)}return this._nodeList.add(t,e)},me.prototype.addIntersections=function(t,n,e){for(var i=0;i<t.getIntersectionNum();i++)this.addIntersection(t,n,e,i)},me.prototype.interfaces_=function(){return[he]},me.prototype.getClass=function(){return me},me.getNodedSubstrings=function(){if(1===arguments.length){var t=arguments[0],n=new vt;return me.getNodedSubstrings(t,n),n}if(2===arguments.length)for(var e=arguments[1],i=arguments[0].iterator();i.hasNext();)i.next().getNodeList().addSplitEdges(e)};var be=function(){if(this.p0=null,this.p1=null,0===arguments.length)this.p0=new V,this.p1=new V;else if(1===arguments.length){var t=arguments[0];this.p0=new V(t.p0),this.p1=new V(t.p1)}else if(2===arguments.length)this.p0=arguments[0],this.p1=arguments[1];else if(4===arguments.length){var n=arguments[0],e=arguments[1],i=arguments[2],o=arguments[3];this.p0=new V(n,e),this.p1=new V(i,o)}},ye={serialVersionUID:{configurable:!0}};be.prototype.minX=function(){return Math.min(this.p0.x,this.p1.x)},be.prototype.orientationIndex=function(){if(arguments[0]instanceof be){var t=arguments[0],n=rt.orientationIndex(this.p0,this.p1,t.p0),e=rt.orientationIndex(this.p0,this.p1,t.p1);return n>=0&&e>=0||n<=0&&e<=0?Math.max(n,e):0}if(arguments[0]instanceof V){var i=arguments[0];return rt.orientationIndex(this.p0,this.p1,i)}},be.prototype.toGeometry=function(t){return t.createLineString([this.p0,this.p1])},be.prototype.isVertical=function(){return this.p0.x===this.p1.x},be.prototype.equals=function(t){if(!(t instanceof be))return!1;var n=t;return this.p0.equals(n.p0)&&this.p1.equals(n.p1)},be.prototype.intersection=function(t){var n=new ot;return n.computeIntersection(this.p0,this.p1,t.p0,t.p1),n.hasIntersection()?n.getIntersection(0):null},be.prototype.project=function(){if(arguments[0]instanceof V){var t=arguments[0];if(t.equals(this.p0)||t.equals(this.p1))return new V(t);var n=this.projectionFactor(t),e=new V;return e.x=this.p0.x+n*(this.p1.x-this.p0.x),e.y=this.p0.y+n*(this.p1.y-this.p0.y),e}if(arguments[0]instanceof be){var i=arguments[0],o=this.projectionFactor(i.p0),l=this.projectionFactor(i.p1);if(o>=1&&l>=1)return null;if(o<=0&&l<=0)return null;var s=this.project(i.p0);o<0&&(s=this.p0),o>1&&(s=this.p1);var r=this.project(i.p1);return l<0&&(r=this.p0),l>1&&(r=this.p1),new be(s,r)}},be.prototype.normalize=function(){this.p1.compareTo(this.p0)<0&&this.reverse()},be.prototype.angle=function(){return Math.atan2(this.p1.y-this.p0.y,this.p1.x-this.p0.x)},be.prototype.getCoordinate=function(t){return 0===t?this.p0:this.p1},be.prototype.distancePerpendicular=function(t){return rt.distancePointLinePerpendicular(t,this.p0,this.p1)},be.prototype.minY=function(){return Math.min(this.p0.y,this.p1.y)},be.prototype.midPoint=function(){return be.midPoint(this.p0,this.p1)},be.prototype.projectionFactor=function(t){if(t.equals(this.p0))return 0;if(t.equals(this.p1))return 1;var n=this.p1.x-this.p0.x,e=this.p1.y-this.p0.y,i=n*n+e*e;return i<=0?f.NaN:((t.x-this.p0.x)*n+(t.y-this.p0.y)*e)/i},be.prototype.closestPoints=function(t){var n=this.intersection(t);if(null!==n)return[n,n];var e=new Array(2).fill(null),i=f.MAX_VALUE,o=null,l=this.closestPoint(t.p0);i=l.distance(t.p0),e[0]=l,e[1]=t.p0;var s=this.closestPoint(t.p1);(o=s.distance(t.p1))<i&&(i=o,e[0]=s,e[1]=t.p1);var r=t.closestPoint(this.p0);(o=r.distance(this.p0))<i&&(i=o,e[0]=this.p0,e[1]=r);var a=t.closestPoint(this.p1);return(o=a.distance(this.p1))<i&&(i=o,e[0]=this.p1,e[1]=a),e},be.prototype.closestPoint=function(t){var n=this.projectionFactor(t);return n>0&&n<1?this.project(t):this.p0.distance(t)<this.p1.distance(t)?this.p0:this.p1},be.prototype.maxX=function(){return Math.max(this.p0.x,this.p1.x)},be.prototype.getLength=function(){return this.p0.distance(this.p1)},be.prototype.compareTo=function(t){var n=t,e=this.p0.compareTo(n.p0);return 0!==e?e:this.p1.compareTo(n.p1)},be.prototype.reverse=function(){var t=this.p0;this.p0=this.p1,this.p1=t},be.prototype.equalsTopo=function(t){return this.p0.equals(t.p0)&&(this.p1.equals(t.p1)||this.p0.equals(t.p1))&&this.p1.equals(t.p0)},be.prototype.lineIntersection=function(t){try{return U.intersection(this.p0,this.p1,t.p0,t.p1)}catch(t){if(!(t instanceof B))throw t}return null},be.prototype.maxY=function(){return Math.max(this.p0.y,this.p1.y)},be.prototype.pointAlongOffset=function(t,n){var e=this.p0.x+t*(this.p1.x-this.p0.x),i=this.p0.y+t*(this.p1.y-this.p0.y),o=this.p1.x-this.p0.x,l=this.p1.y-this.p0.y,s=Math.sqrt(o*o+l*l),r=0,a=0;if(0!==n){if(s<=0)throw new Error("Cannot compute offset from zero-length line segment");r=n*o/s,a=n*l/s}return new V(e-a,i+r)},be.prototype.setCoordinates=function(){if(1===arguments.length){var t=arguments[0];this.setCoordinates(t.p0,t.p1)}else if(2===arguments.length){var n=arguments[0],e=arguments[1];this.p0.x=n.x,this.p0.y=n.y,this.p1.x=e.x,this.p1.y=e.y}},be.prototype.segmentFraction=function(t){var n=this.projectionFactor(t);return n<0?n=0:(n>1||f.isNaN(n))&&(n=1),n},be.prototype.toString=function(){return"LINESTRING( "+this.p0.x+" "+this.p0.y+", "+this.p1.x+" "+this.p1.y+")"},be.prototype.isHorizontal=function(){return this.p0.y===this.p1.y},be.prototype.distance=function(){if(arguments[0]instanceof be){var t=arguments[0];return rt.distanceLineLine(this.p0,this.p1,t.p0,t.p1)}if(arguments[0]instanceof V){var n=arguments[0];return rt.distancePointLine(n,this.p0,this.p1)}},be.prototype.pointAlong=function(t){var n=new V;return n.x=this.p0.x+t*(this.p1.x-this.p0.x),n.y=this.p0.y+t*(this.p1.y-this.p0.y),n},be.prototype.hashCode=function(){var t=f.doubleToLongBits(this.p0.x);t^=31*f.doubleToLongBits(this.p0.y);var n=Math.trunc(t)^Math.trunc(t>>32),e=f.doubleToLongBits(this.p1.x);return e^=31*f.doubleToLongBits(this.p1.y),n^Math.trunc(e)^Math.trunc(e>>32)},be.prototype.interfaces_=function(){return[W,n]},be.prototype.getClass=function(){return be},be.midPoint=function(t,n){return new V((t.x+n.x)/2,(t.y+n.y)/2)},ye.serialVersionUID.get=function(){return 0x2d2172135f411c00},Object.defineProperties(be,ye);var Ze=function(){this.tempEnv1=new E,this.tempEnv2=new E,this._overlapSeg1=new be,this._overlapSeg2=new be};Ze.prototype.overlap=function(){if(2===arguments.length);else if(4===arguments.length){var t=arguments[1],n=arguments[2],e=arguments[3];arguments[0].getLineSegment(t,this._overlapSeg1),n.getLineSegment(e,this._overlapSeg2),this.overlap(this._overlapSeg1,this._overlapSeg2)}},Ze.prototype.interfaces_=function(){return[]},Ze.prototype.getClass=function(){return Ze};var Xe=function(){this._pts=null,this._start=null,this._end=null,this._env=null,this._context=null,this._id=null;var t=arguments[0],n=arguments[1],e=arguments[2],i=arguments[3];this._pts=t,this._start=n,this._end=e,this._context=i};Xe.prototype.getLineSegment=function(t,n){n.p0=this._pts[t],n.p1=this._pts[t+1]},Xe.prototype.computeSelect=function(t,n,e,i){var o=this._pts[n],l=this._pts[e];if(i.tempEnv1.init(o,l),e-n==1)return i.select(this,n),null;if(!t.intersects(i.tempEnv1))return null;var s=Math.trunc((n+e)/2);n<s&&this.computeSelect(t,n,s,i),s<e&&this.computeSelect(t,s,e,i)},Xe.prototype.getCoordinates=function(){for(var t=new Array(this._end-this._start+1).fill(null),n=0,e=this._start;e<=this._end;e++)t[n++]=this._pts[e];return t},Xe.prototype.computeOverlaps=function(t,n){this.computeOverlapsInternal(this._start,this._end,t,t._start,t._end,n)},Xe.prototype.setId=function(t){this._id=t},Xe.prototype.select=function(t,n){this.computeSelect(t,this._start,this._end,n)},Xe.prototype.getEnvelope=function(){if(null===this._env){var t=this._pts[this._start],n=this._pts[this._end];this._env=new E(t,n)}return this._env},Xe.prototype.getEndIndex=function(){return this._end},Xe.prototype.getStartIndex=function(){return this._start},Xe.prototype.getContext=function(){return this._context},Xe.prototype.getId=function(){return this._id},Xe.prototype.computeOverlapsInternal=function(t,n,e,i,o,l){var s=this._pts[t],r=this._pts[n],a=e._pts[i],d=e._pts[o];if(n-t==1&&o-i==1)return l.overlap(this,t,e,i),null;if(l.tempEnv1.init(s,r),l.tempEnv2.init(a,d),!l.tempEnv1.intersects(l.tempEnv2))return null;var c=Math.trunc((t+n)/2),u=Math.trunc((i+o)/2);t<c&&(i<u&&this.computeOverlapsInternal(t,c,e,i,u,l),u<o&&this.computeOverlapsInternal(t,c,e,u,o,l)),c<n&&(i<u&&this.computeOverlapsInternal(c,n,e,i,u,l),u<o&&this.computeOverlapsInternal(c,n,e,u,o,l))},Xe.prototype.interfaces_=function(){return[]},Xe.prototype.getClass=function(){return Xe};var fe=function(){};fe.prototype.interfaces_=function(){return[]},fe.prototype.getClass=function(){return fe},fe.getChainStartIndices=function(t){var n=0,e=new vt;e.add(new M(n));do{var i=fe.findChainEnd(t,n);e.add(new M(i)),n=i}while(n<t.length-1);return fe.toIntArray(e)},fe.findChainEnd=function(t,n){for(var e=n;e<t.length-1&&t[e].equals2D(t[e+1]);)e++;if(e>=t.length-1)return t.length-1;for(var i=Nn.quadrant(t[e],t[e+1]),o=n+1;o<t.length&&(t[o-1].equals2D(t[o])||Nn.quadrant(t[o-1],t[o])===i);)o++;return o-1},fe.getChains=function(){if(1===arguments.length){var t=arguments[0];return fe.getChains(t,null)}if(2===arguments.length){for(var n=arguments[0],e=arguments[1],i=new vt,o=fe.getChainStartIndices(n),l=0;l<o.length-1;l++){var s=new Xe(n,o[l],o[l+1],e);i.add(s)}return i}},fe.toIntArray=function(t){for(var n=new Array(t.size()).fill(null),e=0;e<n.length;e++)n[e]=t.get(e).intValue();return n};var Ge=function(){};Ge.prototype.computeNodes=function(t){},Ge.prototype.getNodedSubstrings=function(){},Ge.prototype.interfaces_=function(){return[]},Ge.prototype.getClass=function(){return Ge};var We=function(){if(this._segInt=null,0===arguments.length);else if(1===arguments.length){var t=arguments[0];this.setSegmentIntersector(t)}};We.prototype.setSegmentIntersector=function(t){this._segInt=t},We.prototype.interfaces_=function(){return[Ge]},We.prototype.getClass=function(){return We};var ge=function(t){function n(n){n?t.call(this,n):t.call(this),this._monoChains=new vt,this._index=new se,this._idCounter=0,this._nodedSegStrings=null,this._nOverlaps=0}t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n;var e={SegmentOverlapAction:{configurable:!0}};return n.prototype.getMonotoneChains=function(){return this._monoChains},n.prototype.getNodedSubstrings=function(){return me.getNodedSubstrings(this._nodedSegStrings)},n.prototype.getIndex=function(){return this._index},n.prototype.add=function(t){for(var n=fe.getChains(t.getCoordinates(),t).iterator();n.hasNext();){var e=n.next();e.setId(this._idCounter++),this._index.insert(e.getEnvelope(),e),this._monoChains.add(e)}},n.prototype.computeNodes=function(t){this._nodedSegStrings=t;for(var n=t.iterator();n.hasNext();)this.add(n.next());this.intersectChains()},n.prototype.intersectChains=function(){for(var t=new ve(this._segInt),n=this._monoChains.iterator();n.hasNext();)for(var e=n.next(),i=this._index.query(e.getEnvelope()).iterator();i.hasNext();){var o=i.next();if(o.getId()>e.getId()&&(e.computeOverlaps(o,t),this._nOverlaps++),this._segInt.isDone())return null}},n.prototype.interfaces_=function(){return[]},n.prototype.getClass=function(){return n},e.SegmentOverlapAction.get=function(){return ve},Object.defineProperties(n,e),n}(We),ve=function(t){function n(){t.call(this),this._si=null;var n=arguments[0];this._si=n}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.overlap=function(){if(4!==arguments.length)return t.prototype.overlap.apply(this,arguments);var n=arguments[1],e=arguments[2],i=arguments[3],o=arguments[0].getContext(),l=e.getContext();this._si.processIntersections(o,n,l,i)},n.prototype.interfaces_=function(){return[]},n.prototype.getClass=function(){return n},n}(Ze),Ve=function t(){if(this._quadrantSegments=t.DEFAULT_QUADRANT_SEGMENTS,this._endCapStyle=t.CAP_ROUND,this._joinStyle=t.JOIN_ROUND,this._mitreLimit=t.DEFAULT_MITRE_LIMIT,this._isSingleSided=!1,this._simplifyFactor=t.DEFAULT_SIMPLIFY_FACTOR,0===arguments.length);else if(1===arguments.length){var n=arguments[0];this.setQuadrantSegments(n)}else if(2===arguments.length){var e=arguments[0],i=arguments[1];this.setQuadrantSegments(e),this.setEndCapStyle(i)}else if(4===arguments.length){var o=arguments[0],l=arguments[1],s=arguments[2],r=arguments[3];this.setQuadrantSegments(o),this.setEndCapStyle(l),this.setJoinStyle(s),this.setMitreLimit(r)}},xe={CAP_ROUND:{configurable:!0},CAP_FLAT:{configurable:!0},CAP_SQUARE:{configurable:!0},JOIN_ROUND:{configurable:!0},JOIN_MITRE:{configurable:!0},JOIN_BEVEL:{configurable:!0},DEFAULT_QUADRANT_SEGMENTS:{configurable:!0},DEFAULT_MITRE_LIMIT:{configurable:!0},DEFAULT_SIMPLIFY_FACTOR:{configurable:!0}};Ve.prototype.getEndCapStyle=function(){return this._endCapStyle},Ve.prototype.isSingleSided=function(){return this._isSingleSided},Ve.prototype.setQuadrantSegments=function(t){this._quadrantSegments=t,0===this._quadrantSegments&&(this._joinStyle=Ve.JOIN_BEVEL),this._quadrantSegments<0&&(this._joinStyle=Ve.JOIN_MITRE,this._mitreLimit=Math.abs(this._quadrantSegments)),t<=0&&(this._quadrantSegments=1),this._joinStyle!==Ve.JOIN_ROUND&&(this._quadrantSegments=Ve.DEFAULT_QUADRANT_SEGMENTS)},Ve.prototype.getJoinStyle=function(){return this._joinStyle},Ve.prototype.setJoinStyle=function(t){this._joinStyle=t},Ve.prototype.setSimplifyFactor=function(t){this._simplifyFactor=t<0?0:t},Ve.prototype.getSimplifyFactor=function(){return this._simplifyFactor},Ve.prototype.getQuadrantSegments=function(){return this._quadrantSegments},Ve.prototype.setEndCapStyle=function(t){this._endCapStyle=t},Ve.prototype.getMitreLimit=function(){return this._mitreLimit},Ve.prototype.setMitreLimit=function(t){this._mitreLimit=t},Ve.prototype.setSingleSided=function(t){this._isSingleSided=t},Ve.prototype.interfaces_=function(){return[]},Ve.prototype.getClass=function(){return Ve},Ve.bufferDistanceError=function(t){var n=Math.PI/2/t;return 1-Math.cos(n/2)},xe.CAP_ROUND.get=function(){return 1},xe.CAP_FLAT.get=function(){return 2},xe.CAP_SQUARE.get=function(){return 3},xe.JOIN_ROUND.get=function(){return 1},xe.JOIN_MITRE.get=function(){return 2},xe.JOIN_BEVEL.get=function(){return 3},xe.DEFAULT_QUADRANT_SEGMENTS.get=function(){return 8},xe.DEFAULT_MITRE_LIMIT.get=function(){return 5},xe.DEFAULT_SIMPLIFY_FACTOR.get=function(){return.01},Object.defineProperties(Ve,xe);var Se=function(t){this._distanceTol=null,this._isDeleted=null,this._angleOrientation=rt.COUNTERCLOCKWISE,this._inputLine=t||null},Le={INIT:{configurable:!0},DELETE:{configurable:!0},KEEP:{configurable:!0},NUM_PTS_TO_CHECK:{configurable:!0}};Se.prototype.isDeletable=function(t,n,e,i){var o=this._inputLine[t],l=this._inputLine[n],s=this._inputLine[e];return!!this.isConcave(o,l,s)&&!!this.isShallow(o,l,s,i)&&this.isShallowSampled(o,l,t,e,i)},Se.prototype.deleteShallowConcavities=function(){for(var t=1,n=this.findNextNonDeletedIndex(t),e=this.findNextNonDeletedIndex(n),i=!1;e<this._inputLine.length;){var o=!1;this.isDeletable(t,n,e,this._distanceTol)&&(this._isDeleted[n]=Se.DELETE,o=!0,i=!0),t=o?e:n,n=this.findNextNonDeletedIndex(t),e=this.findNextNonDeletedIndex(n)}return i},Se.prototype.isShallowConcavity=function(t,n,e,i){return rt.computeOrientation(t,n,e)===this._angleOrientation&&rt.distancePointLine(n,t,e)<i},Se.prototype.isShallowSampled=function(t,n,e,i,o){var l=Math.trunc((i-e)/Se.NUM_PTS_TO_CHECK);l<=0&&(l=1);for(var s=e;s<i;s+=l)if(!this.isShallow(t,n,this._inputLine[s],o))return!1;return!0},Se.prototype.isConcave=function(t,n,e){return rt.computeOrientation(t,n,e)===this._angleOrientation},Se.prototype.simplify=function(t){this._distanceTol=Math.abs(t),t<0&&(this._angleOrientation=rt.CLOCKWISE),this._isDeleted=new Array(this._inputLine.length).fill(null);var n=!1;do{n=this.deleteShallowConcavities()}while(n);return this.collapseLine()},Se.prototype.findNextNonDeletedIndex=function(t){for(var n=t+1;n<this._inputLine.length&&this._isDeleted[n]===Se.DELETE;)n++;return n},Se.prototype.isShallow=function(t,n,e,i){return rt.distancePointLine(n,t,e)<i},Se.prototype.collapseLine=function(){for(var t=new xt,n=0;n<this._inputLine.length;n++)this._isDeleted[n]!==Se.DELETE&&t.add(this._inputLine[n]);return t.toCoordinateArray()},Se.prototype.interfaces_=function(){return[]},Se.prototype.getClass=function(){return Se},Se.simplify=function(t,n){return new Se(t).simplify(n)},Le.INIT.get=function(){return 0},Le.DELETE.get=function(){return 1},Le.KEEP.get=function(){return 1},Le.NUM_PTS_TO_CHECK.get=function(){return 10},Object.defineProperties(Se,Le);var Re=function(){this._ptList=null,this._precisionModel=null,this._minimimVertexDistance=0,this._ptList=new vt},Ke={COORDINATE_ARRAY_TYPE:{configurable:!0}};Re.prototype.getCoordinates=function(){return this._ptList.toArray(Re.COORDINATE_ARRAY_TYPE)},Re.prototype.setPrecisionModel=function(t){this._precisionModel=t},Re.prototype.addPt=function(t){var n=new V(t);if(this._precisionModel.makePrecise(n),this.isRedundant(n))return null;this._ptList.add(n)},Re.prototype.revere=function(){},Re.prototype.addPts=function(t,n){if(n)for(var e=0;e<t.length;e++)this.addPt(t[e]);else for(var i=t.length-1;i>=0;i--)this.addPt(t[i])},Re.prototype.isRedundant=function(t){if(this._ptList.size()<1)return!1;var n=this._ptList.get(this._ptList.size()-1);return t.distance(n)<this._minimimVertexDistance},Re.prototype.toString=function(){return(new Xn).createLineString(this.getCoordinates()).toString()},Re.prototype.closeRing=function(){if(this._ptList.size()<1)return null;var t=new V(this._ptList.get(0)),n=this._ptList.get(this._ptList.size()-1);if(t.equals(n))return null;this._ptList.add(t)},Re.prototype.setMinimumVertexDistance=function(t){this._minimimVertexDistance=t},Re.prototype.interfaces_=function(){return[]},Re.prototype.getClass=function(){return Re},Ke.COORDINATE_ARRAY_TYPE.get=function(){return new Array(0).fill(null)},Object.defineProperties(Re,Ke);var He=function(){},Ce={PI_TIMES_2:{configurable:!0},PI_OVER_2:{configurable:!0},PI_OVER_4:{configurable:!0},COUNTERCLOCKWISE:{configurable:!0},CLOCKWISE:{configurable:!0},NONE:{configurable:!0}};He.prototype.interfaces_=function(){return[]},He.prototype.getClass=function(){return He},He.toDegrees=function(t){return 180*t/Math.PI},He.normalize=function(t){for(;t>Math.PI;)t-=He.PI_TIMES_2;for(;t<=-Math.PI;)t+=He.PI_TIMES_2;return t},He.angle=function(){if(1===arguments.length){var t=arguments[0];return Math.atan2(t.y,t.x)}if(2===arguments.length){var n=arguments[0],e=arguments[1],i=e.x-n.x,o=e.y-n.y;return Math.atan2(o,i)}},He.isAcute=function(t,n,e){var i=t.x-n.x,o=t.y-n.y;return i*(e.x-n.x)+o*(e.y-n.y)>0},He.isObtuse=function(t,n,e){var i=t.x-n.x,o=t.y-n.y;return i*(e.x-n.x)+o*(e.y-n.y)<0},He.interiorAngle=function(t,n,e){var i=He.angle(n,t),o=He.angle(n,e);return Math.abs(o-i)},He.normalizePositive=function(t){if(t<0){for(;t<0;)t+=He.PI_TIMES_2;t>=He.PI_TIMES_2&&(t=0)}else{for(;t>=He.PI_TIMES_2;)t-=He.PI_TIMES_2;t<0&&(t=0)}return t},He.angleBetween=function(t,n,e){var i=He.angle(n,t),o=He.angle(n,e);return He.diff(i,o)},He.diff=function(t,n){var e=null;return(e=t<n?n-t:t-n)>Math.PI&&(e=2*Math.PI-e),e},He.toRadians=function(t){return t*Math.PI/180},He.getTurn=function(t,n){var e=Math.sin(n-t);return e>0?He.COUNTERCLOCKWISE:e<0?He.CLOCKWISE:He.NONE},He.angleBetweenOriented=function(t,n,e){var i=He.angle(n,t),o=He.angle(n,e)-i;return o<=-Math.PI?o+He.PI_TIMES_2:o>Math.PI?o-He.PI_TIMES_2:o},Ce.PI_TIMES_2.get=function(){return 2*Math.PI},Ce.PI_OVER_2.get=function(){return Math.PI/2},Ce.PI_OVER_4.get=function(){return Math.PI/4},Ce.COUNTERCLOCKWISE.get=function(){return rt.COUNTERCLOCKWISE},Ce.CLOCKWISE.get=function(){return rt.CLOCKWISE},Ce.NONE.get=function(){return rt.COLLINEAR},Object.defineProperties(He,Ce);var Ye=function t(){this._maxCurveSegmentError=0,this._filletAngleQuantum=null,this._closingSegLengthFactor=1,this._segList=null,this._distance=0,this._precisionModel=null,this._bufParams=null,this._li=null,this._s0=null,this._s1=null,this._s2=null,this._seg0=new be,this._seg1=new be,this._offset0=new be,this._offset1=new be,this._side=0,this._hasNarrowConcaveAngle=!1;var n=arguments[0],e=arguments[1],i=arguments[2];this._precisionModel=n,this._bufParams=e,this._li=new ot,this._filletAngleQuantum=Math.PI/2/e.getQuadrantSegments(),e.getQuadrantSegments()>=8&&e.getJoinStyle()===Ve.JOIN_ROUND&&(this._closingSegLengthFactor=t.MAX_CLOSING_SEG_LEN_FACTOR),this.init(i)},Te={OFFSET_SEGMENT_SEPARATION_FACTOR:{configurable:!0},INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR:{configurable:!0},CURVE_VERTEX_SNAP_DISTANCE_FACTOR:{configurable:!0},MAX_CLOSING_SEG_LEN_FACTOR:{configurable:!0}};Ye.prototype.addNextSegment=function(t,n){if(this._s0=this._s1,this._s1=this._s2,this._s2=t,this._seg0.setCoordinates(this._s0,this._s1),this.computeOffsetSegment(this._seg0,this._side,this._distance,this._offset0),this._seg1.setCoordinates(this._s1,this._s2),this.computeOffsetSegment(this._seg1,this._side,this._distance,this._offset1),this._s1.equals(this._s2))return null;var e=rt.computeOrientation(this._s0,this._s1,this._s2),i=e===rt.CLOCKWISE&&this._side===Sn.LEFT||e===rt.COUNTERCLOCKWISE&&this._side===Sn.RIGHT;0===e?this.addCollinear(n):i?this.addOutsideTurn(e,n):this.addInsideTurn(e,n)},Ye.prototype.addLineEndCap=function(t,n){var e=new be(t,n),i=new be;this.computeOffsetSegment(e,Sn.LEFT,this._distance,i);var o=new be;this.computeOffsetSegment(e,Sn.RIGHT,this._distance,o);var l=n.x-t.x,s=n.y-t.y,r=Math.atan2(s,l);switch(this._bufParams.getEndCapStyle()){case Ve.CAP_ROUND:this._segList.addPt(i.p1),this.addFilletArc(n,r+Math.PI/2,r-Math.PI/2,rt.CLOCKWISE,this._distance),this._segList.addPt(o.p1);break;case Ve.CAP_FLAT:this._segList.addPt(i.p1),this._segList.addPt(o.p1);break;case Ve.CAP_SQUARE:var a=new V;a.x=Math.abs(this._distance)*Math.cos(r),a.y=Math.abs(this._distance)*Math.sin(r);var d=new V(i.p1.x+a.x,i.p1.y+a.y),c=new V(o.p1.x+a.x,o.p1.y+a.y);this._segList.addPt(d),this._segList.addPt(c)}},Ye.prototype.getCoordinates=function(){return this._segList.getCoordinates()},Ye.prototype.addMitreJoin=function(t,n,e,i){var o=!0,l=null;try{l=U.intersection(n.p0,n.p1,e.p0,e.p1),(i<=0?1:l.distance(t)/Math.abs(i))>this._bufParams.getMitreLimit()&&(o=!1)}catch(t){if(!(t instanceof B))throw t;l=new V(0,0),o=!1}o?this._segList.addPt(l):this.addLimitedMitreJoin(n,e,i,this._bufParams.getMitreLimit())},Ye.prototype.addFilletCorner=function(t,n,e,i,o){var l=n.x-t.x,s=n.y-t.y,r=Math.atan2(s,l),a=e.x-t.x,d=e.y-t.y,c=Math.atan2(d,a);i===rt.CLOCKWISE?r<=c&&(r+=2*Math.PI):r>=c&&(r-=2*Math.PI),this._segList.addPt(n),this.addFilletArc(t,r,c,i,o),this._segList.addPt(e)},Ye.prototype.addOutsideTurn=function(t,n){if(this._offset0.p1.distance(this._offset1.p0)<this._distance*Ye.OFFSET_SEGMENT_SEPARATION_FACTOR)return this._segList.addPt(this._offset0.p1),null;this._bufParams.getJoinStyle()===Ve.JOIN_MITRE?this.addMitreJoin(this._s1,this._offset0,this._offset1,this._distance):this._bufParams.getJoinStyle()===Ve.JOIN_BEVEL?this.addBevelJoin(this._offset0,this._offset1):(n&&this._segList.addPt(this._offset0.p1),this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,t,this._distance),this._segList.addPt(this._offset1.p0))},Ye.prototype.createSquare=function(t){this._segList.addPt(new V(t.x+this._distance,t.y+this._distance)),this._segList.addPt(new V(t.x+this._distance,t.y-this._distance)),this._segList.addPt(new V(t.x-this._distance,t.y-this._distance)),this._segList.addPt(new V(t.x-this._distance,t.y+this._distance)),this._segList.closeRing()},Ye.prototype.addSegments=function(t,n){this._segList.addPts(t,n)},Ye.prototype.addFirstSegment=function(){this._segList.addPt(this._offset1.p0)},Ye.prototype.addLastSegment=function(){this._segList.addPt(this._offset1.p1)},Ye.prototype.initSideSegments=function(t,n,e){this._s1=t,this._s2=n,this._side=e,this._seg1.setCoordinates(t,n),this.computeOffsetSegment(this._seg1,e,this._distance,this._offset1)},Ye.prototype.addLimitedMitreJoin=function(t,n,e,i){var o=this._seg0.p1,l=He.angle(o,this._seg0.p0),s=He.angleBetweenOriented(this._seg0.p0,o,this._seg1.p1)/2,r=He.normalize(l+s),a=He.normalize(r+Math.PI),d=i*e,c=e-d*Math.abs(Math.sin(s)),u=o.x+d*Math.cos(a),p=o.y+d*Math.sin(a),h=new V(u,p),m=new be(o,h),b=m.pointAlongOffset(1,c),y=m.pointAlongOffset(1,-c);this._side===Sn.LEFT?(this._segList.addPt(b),this._segList.addPt(y)):(this._segList.addPt(y),this._segList.addPt(b))},Ye.prototype.computeOffsetSegment=function(t,n,e,i){var o=n===Sn.LEFT?1:-1,l=t.p1.x-t.p0.x,s=t.p1.y-t.p0.y,r=Math.sqrt(l*l+s*s),a=o*e*l/r,d=o*e*s/r;i.p0.x=t.p0.x-d,i.p0.y=t.p0.y+a,i.p1.x=t.p1.x-d,i.p1.y=t.p1.y+a},Ye.prototype.addFilletArc=function(t,n,e,i,o){var l=i===rt.CLOCKWISE?-1:1,s=Math.abs(n-e),r=Math.trunc(s/this._filletAngleQuantum+.5);if(r<1)return null;for(var a=s/r,d=0,c=new V;d<s;){var u=n+l*d;c.x=t.x+o*Math.cos(u),c.y=t.y+o*Math.sin(u),this._segList.addPt(c),d+=a}},Ye.prototype.addInsideTurn=function(t,n){if(this._li.computeIntersection(this._offset0.p0,this._offset0.p1,this._offset1.p0,this._offset1.p1),this._li.hasIntersection())this._segList.addPt(this._li.getIntersection(0));else if(this._hasNarrowConcaveAngle=!0,this._offset0.p1.distance(this._offset1.p0)<this._distance*Ye.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR)this._segList.addPt(this._offset0.p1);else{if(this._segList.addPt(this._offset0.p1),this._closingSegLengthFactor>0){var e=new V((this._closingSegLengthFactor*this._offset0.p1.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset0.p1.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(e);var i=new V((this._closingSegLengthFactor*this._offset1.p0.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset1.p0.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(i)}else this._segList.addPt(this._s1);this._segList.addPt(this._offset1.p0)}},Ye.prototype.createCircle=function(t){var n=new V(t.x+this._distance,t.y);this._segList.addPt(n),this.addFilletArc(t,0,2*Math.PI,-1,this._distance),this._segList.closeRing()},Ye.prototype.addBevelJoin=function(t,n){this._segList.addPt(t.p1),this._segList.addPt(n.p0)},Ye.prototype.init=function(t){this._distance=t,this._maxCurveSegmentError=t*(1-Math.cos(this._filletAngleQuantum/2)),this._segList=new Re,this._segList.setPrecisionModel(this._precisionModel),this._segList.setMinimumVertexDistance(t*Ye.CURVE_VERTEX_SNAP_DISTANCE_FACTOR)},Ye.prototype.addCollinear=function(t){this._li.computeIntersection(this._s0,this._s1,this._s1,this._s2),this._li.getIntersectionNum()>=2&&(this._bufParams.getJoinStyle()===Ve.JOIN_BEVEL||this._bufParams.getJoinStyle()===Ve.JOIN_MITRE?(t&&this._segList.addPt(this._offset0.p1),this._segList.addPt(this._offset1.p0)):this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,rt.CLOCKWISE,this._distance))},Ye.prototype.closeRing=function(){this._segList.closeRing()},Ye.prototype.hasNarrowConcaveAngle=function(){return this._hasNarrowConcaveAngle},Ye.prototype.interfaces_=function(){return[]},Ye.prototype.getClass=function(){return Ye},Te.OFFSET_SEGMENT_SEPARATION_FACTOR.get=function(){return.001},Te.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR.get=function(){return.001},Te.CURVE_VERTEX_SNAP_DISTANCE_FACTOR.get=function(){return 1e-6},Te.MAX_CLOSING_SEG_LEN_FACTOR.get=function(){return 80},Object.defineProperties(Ye,Te);var Me=function(){this._distance=0,this._precisionModel=null,this._bufParams=null;var t=arguments[0],n=arguments[1];this._precisionModel=t,this._bufParams=n};Me.prototype.getOffsetCurve=function(t,n){if(this._distance=n,0===n)return null;var e=n<0,i=Math.abs(n),o=this.getSegGen(i);t.length<=1?this.computePointCurve(t[0],o):this.computeOffsetCurve(t,e,o);var l=o.getCoordinates();return e&&St.reverse(l),l},Me.prototype.computeSingleSidedBufferCurve=function(t,n,e){var i=this.simplifyTolerance(this._distance);if(n){e.addSegments(t,!0);var o=Se.simplify(t,-i),l=o.length-1;e.initSideSegments(o[l],o[l-1],Sn.LEFT),e.addFirstSegment();for(var s=l-2;s>=0;s--)e.addNextSegment(o[s],!0)}else{e.addSegments(t,!1);var r=Se.simplify(t,i),a=r.length-1;e.initSideSegments(r[0],r[1],Sn.LEFT),e.addFirstSegment();for(var d=2;d<=a;d++)e.addNextSegment(r[d],!0)}e.addLastSegment(),e.closeRing()},Me.prototype.computeRingBufferCurve=function(t,n,e){var i=this.simplifyTolerance(this._distance);n===Sn.RIGHT&&(i=-i);var o=Se.simplify(t,i),l=o.length-1;e.initSideSegments(o[l-1],o[0],n);for(var s=1;s<=l;s++){var r=1!==s;e.addNextSegment(o[s],r)}e.closeRing()},Me.prototype.computeLineBufferCurve=function(t,n){var e=this.simplifyTolerance(this._distance),i=Se.simplify(t,e),o=i.length-1;n.initSideSegments(i[0],i[1],Sn.LEFT);for(var l=2;l<=o;l++)n.addNextSegment(i[l],!0);n.addLastSegment(),n.addLineEndCap(i[o-1],i[o]);var s=Se.simplify(t,-e),r=s.length-1;n.initSideSegments(s[r],s[r-1],Sn.LEFT);for(var a=r-2;a>=0;a--)n.addNextSegment(s[a],!0);n.addLastSegment(),n.addLineEndCap(s[1],s[0]),n.closeRing()},Me.prototype.computePointCurve=function(t,n){switch(this._bufParams.getEndCapStyle()){case Ve.CAP_ROUND:n.createCircle(t);break;case Ve.CAP_SQUARE:n.createSquare(t)}},Me.prototype.getLineCurve=function(t,n){if(this._distance=n,n<0&&!this._bufParams.isSingleSided())return null;if(0===n)return null;var e=Math.abs(n),i=this.getSegGen(e);if(t.length<=1)this.computePointCurve(t[0],i);else if(this._bufParams.isSingleSided()){var o=n<0;this.computeSingleSidedBufferCurve(t,o,i)}else this.computeLineBufferCurve(t,i);return i.getCoordinates()},Me.prototype.getBufferParameters=function(){return this._bufParams},Me.prototype.simplifyTolerance=function(t){return t*this._bufParams.getSimplifyFactor()},Me.prototype.getRingCurve=function(t,n,e){if(this._distance=e,t.length<=2)return this.getLineCurve(t,e);if(0===e)return Me.copyCoordinates(t);var i=this.getSegGen(e);return this.computeRingBufferCurve(t,n,i),i.getCoordinates()},Me.prototype.computeOffsetCurve=function(t,n,e){var i=this.simplifyTolerance(this._distance);if(n){var o=Se.simplify(t,-i),l=o.length-1;e.initSideSegments(o[l],o[l-1],Sn.LEFT),e.addFirstSegment();for(var s=l-2;s>=0;s--)e.addNextSegment(o[s],!0)}else{var r=Se.simplify(t,i),a=r.length-1;e.initSideSegments(r[0],r[1],Sn.LEFT),e.addFirstSegment();for(var d=2;d<=a;d++)e.addNextSegment(r[d],!0)}e.addLastSegment()},Me.prototype.getSegGen=function(t){return new Ye(this._precisionModel,this._bufParams,t)},Me.prototype.interfaces_=function(){return[]},Me.prototype.getClass=function(){return Me},Me.copyCoordinates=function(t){for(var n=new Array(t.length).fill(null),e=0;e<n.length;e++)n[e]=new V(t[e]);return n};var we=function(){this._subgraphs=null,this._seg=new be,this._cga=new rt;var t=arguments[0];this._subgraphs=t},Pe={DepthSegment:{configurable:!0}};we.prototype.findStabbedSegments=function(){if(1===arguments.length){for(var t=arguments[0],n=new vt,e=this._subgraphs.iterator();e.hasNext();){var i=e.next(),o=i.getEnvelope();t.y<o.getMinY()||t.y>o.getMaxY()||this.findStabbedSegments(t,i.getDirectedEdges(),n)}return n}if(3===arguments.length)if(H(arguments[2],gt)&&arguments[0]instanceof V&&arguments[1]instanceof Bn){for(var l=arguments[0],s=arguments[1],r=arguments[2],a=s.getEdge().getCoordinates(),d=0;d<a.length-1;d++)if(this._seg.p0=a[d],this._seg.p1=a[d+1],this._seg.p0.y>this._seg.p1.y&&this._seg.reverse(),!(Math.max(this._seg.p0.x,this._seg.p1.x)<l.x||this._seg.isHorizontal()||l.y<this._seg.p0.y||l.y>this._seg.p1.y||rt.computeOrientation(this._seg.p0,this._seg.p1,l)===rt.RIGHT)){var c=s.getDepth(Sn.LEFT);this._seg.p0.equals(a[d])||(c=s.getDepth(Sn.RIGHT));var u=new Ie(this._seg,c);r.add(u)}}else if(H(arguments[2],gt)&&arguments[0]instanceof V&&H(arguments[1],gt))for(var p=arguments[0],h=arguments[2],m=arguments[1].iterator();m.hasNext();){var b=m.next();b.isForward()&&this.findStabbedSegments(p,b,h)}},we.prototype.getDepth=function(t){var n=this.findStabbedSegments(t);return 0===n.size()?0:te.min(n)._leftDepth},we.prototype.interfaces_=function(){return[]},we.prototype.getClass=function(){return we},Pe.DepthSegment.get=function(){return Ie},Object.defineProperties(we,Pe);var Ie=function(){this._upwardSeg=null,this._leftDepth=null;var t=arguments[0],n=arguments[1];this._upwardSeg=new be(t),this._leftDepth=n};Ie.prototype.compareTo=function(t){var n=t;if(this._upwardSeg.minX()>=n._upwardSeg.maxX())return 1;if(this._upwardSeg.maxX()<=n._upwardSeg.minX())return-1;var e=this._upwardSeg.orientationIndex(n._upwardSeg);return 0!==e||0!=(e=-1*n._upwardSeg.orientationIndex(this._upwardSeg))?e:this._upwardSeg.compareTo(n._upwardSeg)},Ie.prototype.compareX=function(t,n){var e=t.p0.compareTo(n.p0);return 0!==e?e:t.p1.compareTo(n.p1)},Ie.prototype.toString=function(){return this._upwardSeg.toString()},Ie.prototype.interfaces_=function(){return[W]},Ie.prototype.getClass=function(){return Ie};var ze=function(t,n,e){this.p0=t||null,this.p1=n||null,this.p2=e||null};ze.prototype.area=function(){return ze.area(this.p0,this.p1,this.p2)},ze.prototype.signedArea=function(){return ze.signedArea(this.p0,this.p1,this.p2)},ze.prototype.interpolateZ=function(t){if(null===t)throw new X("Supplied point is null.");return ze.interpolateZ(t,this.p0,this.p1,this.p2)},ze.prototype.longestSideLength=function(){return ze.longestSideLength(this.p0,this.p1,this.p2)},ze.prototype.isAcute=function(){return ze.isAcute(this.p0,this.p1,this.p2)},ze.prototype.circumcentre=function(){return ze.circumcentre(this.p0,this.p1,this.p2)},ze.prototype.area3D=function(){return ze.area3D(this.p0,this.p1,this.p2)},ze.prototype.centroid=function(){return ze.centroid(this.p0,this.p1,this.p2)},ze.prototype.inCentre=function(){return ze.inCentre(this.p0,this.p1,this.p2)},ze.prototype.interfaces_=function(){return[]},ze.prototype.getClass=function(){return ze},ze.area=function(t,n,e){return Math.abs(((e.x-t.x)*(n.y-t.y)-(n.x-t.x)*(e.y-t.y))/2)},ze.signedArea=function(t,n,e){return((e.x-t.x)*(n.y-t.y)-(n.x-t.x)*(e.y-t.y))/2},ze.det=function(t,n,e,i){return t*i-n*e},ze.interpolateZ=function(t,n,e,i){var o=n.x,l=n.y,s=e.x-o,r=i.x-o,a=e.y-l,d=i.y-l,c=s*d-r*a,u=t.x-o,p=t.y-l,h=(d*u-r*p)/c,m=(-a*u+s*p)/c;return n.z+h*(e.z-n.z)+m*(i.z-n.z)},ze.longestSideLength=function(t,n,e){var i=t.distance(n),o=n.distance(e),l=e.distance(t),s=i;return o>s&&(s=o),l>s&&(s=l),s},ze.isAcute=function(t,n,e){return!!He.isAcute(t,n,e)&&!!He.isAcute(n,e,t)&&!!He.isAcute(e,t,n)},ze.circumcentre=function(t,n,e){var i=e.x,o=e.y,l=t.x-i,s=t.y-o,r=n.x-i,a=n.y-o,d=2*ze.det(l,s,r,a),c=ze.det(s,l*l+s*s,a,r*r+a*a),u=ze.det(l,l*l+s*s,r,r*r+a*a);return new V(i-c/d,o+u/d)},ze.perpendicularBisector=function(t,n){var e=n.x-t.x,i=n.y-t.y,o=new U(t.x+e/2,t.y+i/2,1),l=new U(t.x-i+e/2,t.y+e+i/2,1);return new U(o,l)},ze.angleBisector=function(t,n,e){var i=n.distance(t),o=i/(i+n.distance(e)),l=e.x-t.x,s=e.y-t.y;return new V(t.x+o*l,t.y+o*s)},ze.area3D=function(t,n,e){var i=n.x-t.x,o=n.y-t.y,l=n.z-t.z,s=e.x-t.x,r=e.y-t.y,a=e.z-t.z,d=o*a-l*r,c=l*s-i*a,u=i*r-o*s,p=d*d+c*c+u*u;return Math.sqrt(p)/2},ze.centroid=function(t,n,e){var i=(t.x+n.x+e.x)/3,o=(t.y+n.y+e.y)/3;return new V(i,o)},ze.inCentre=function(t,n,e){var i=n.distance(e),o=t.distance(e),l=t.distance(n),s=i+o+l,r=(i*t.x+o*n.x+l*e.x)/s,a=(i*t.y+o*n.y+l*e.y)/s;return new V(r,a)};var Je=function(){this._inputGeom=null,this._distance=null,this._curveBuilder=null,this._curveList=new vt;var t=arguments[0],n=arguments[1],e=arguments[2];this._inputGeom=t,this._distance=n,this._curveBuilder=e};Je.prototype.addPoint=function(t){if(this._distance<=0)return null;var n=t.getCoordinates(),e=this._curveBuilder.getLineCurve(n,this._distance);this.addCurve(e,R.EXTERIOR,R.INTERIOR)},Je.prototype.addPolygon=function(t){var n=this._distance,e=Sn.LEFT;this._distance<0&&(n=-this._distance,e=Sn.RIGHT);var i=t.getExteriorRing(),o=St.removeRepeatedPoints(i.getCoordinates());if(this._distance<0&&this.isErodedCompletely(i,this._distance))return null;if(this._distance<=0&&o.length<3)return null;this.addPolygonRing(o,n,e,R.EXTERIOR,R.INTERIOR);for(var l=0;l<t.getNumInteriorRing();l++){var s=t.getInteriorRingN(l),r=St.removeRepeatedPoints(s.getCoordinates());this._distance>0&&this.isErodedCompletely(s,-this._distance)||this.addPolygonRing(r,n,Sn.opposite(e),R.INTERIOR,R.EXTERIOR)}},Je.prototype.isTriangleErodedCompletely=function(t,n){var e=new ze(t[0],t[1],t[2]),i=e.inCentre();return rt.distancePointLine(i,e.p0,e.p1)<Math.abs(n)},Je.prototype.addLineString=function(t){if(this._distance<=0&&!this._curveBuilder.getBufferParameters().isSingleSided())return null;var n=St.removeRepeatedPoints(t.getCoordinates()),e=this._curveBuilder.getLineCurve(n,this._distance);this.addCurve(e,R.EXTERIOR,R.INTERIOR)},Je.prototype.addCurve=function(t,n,e){if(null===t||t.length<2)return null;var i=new me(t,new Tn(0,R.BOUNDARY,n,e));this._curveList.add(i)},Je.prototype.getCurves=function(){return this.add(this._inputGeom),this._curveList},Je.prototype.addPolygonRing=function(t,n,e,i,o){if(0===n&&t.length<nn.MINIMUM_VALID_SIZE)return null;var l=i,s=o;t.length>=nn.MINIMUM_VALID_SIZE&&rt.isCCW(t)&&(l=o,s=i,e=Sn.opposite(e));var r=this._curveBuilder.getRingCurve(t,e,n);this.addCurve(r,l,s)},Je.prototype.add=function(t){if(t.isEmpty())return null;t instanceof $t?this.addPolygon(t):t instanceof Ot?this.addLineString(t):t instanceof Dt?this.addPoint(t):(t instanceof tn||t instanceof Bt||t instanceof en||t instanceof kt)&&this.addCollection(t)},Je.prototype.isErodedCompletely=function(t,n){var e=t.getCoordinates();if(e.length<4)return n<0;if(4===e.length)return this.isTriangleErodedCompletely(e,n);var i=t.getEnvelopeInternal(),o=Math.min(i.getHeight(),i.getWidth());return n<0&&2*Math.abs(n)>o},Je.prototype.addCollection=function(t){for(var n=0;n<t.getNumGeometries();n++){var e=t.getGeometryN(n);this.add(e)}},Je.prototype.interfaces_=function(){return[]},Je.prototype.getClass=function(){return Je};var Ne=function(){};Ne.prototype.locate=function(t){},Ne.prototype.interfaces_=function(){return[]},Ne.prototype.getClass=function(){return Ne};var Fe=function(){this._parent=null,this._atStart=null,this._max=null,this._index=null,this._subcollectionIterator=null;var t=arguments[0];this._parent=t,this._atStart=!0,this._index=0,this._max=t.getNumGeometries()};Fe.prototype.next=function(){if(this._atStart)return this._atStart=!1,Fe.isAtomic(this._parent)&&this._index++,this._parent;if(null!==this._subcollectionIterator){if(this._subcollectionIterator.hasNext())return this._subcollectionIterator.next();this._subcollectionIterator=null}if(this._index>=this._max)throw new i;var t=this._parent.getGeometryN(this._index++);return t instanceof kt?(this._subcollectionIterator=new Fe(t),this._subcollectionIterator.next()):t},Fe.prototype.remove=function(){throw new Error(this.getClass().getName())},Fe.prototype.hasNext=function(){if(this._atStart)return!0;if(null!==this._subcollectionIterator){if(this._subcollectionIterator.hasNext())return!0;this._subcollectionIterator=null}return!(this._index>=this._max)},Fe.prototype.interfaces_=function(){return[Wt]},Fe.prototype.getClass=function(){return Fe},Fe.isAtomic=function(t){return!(t instanceof kt)};var ke=function(){this._geom=null;var t=arguments[0];this._geom=t};ke.prototype.locate=function(t){return ke.locate(t,this._geom)},ke.prototype.interfaces_=function(){return[Ne]},ke.prototype.getClass=function(){return ke},ke.isPointInRing=function(t,n){return!!n.getEnvelopeInternal().intersects(t)&&rt.isPointInRing(t,n.getCoordinates())},ke.containsPointInPolygon=function(t,n){if(n.isEmpty())return!1;var e=n.getExteriorRing();if(!ke.isPointInRing(t,e))return!1;for(var i=0;i<n.getNumInteriorRing();i++){var o=n.getInteriorRingN(i);if(ke.isPointInRing(t,o))return!1}return!0},ke.containsPoint=function(t,n){if(n instanceof $t)return ke.containsPointInPolygon(t,n);if(n instanceof kt)for(var e=new Fe(n);e.hasNext();){var i=e.next();if(i!==n&&ke.containsPoint(t,i))return!0}return!1},ke.locate=function(t,n){return n.isEmpty()?R.EXTERIOR:ke.containsPoint(t,n)?R.INTERIOR:R.EXTERIOR};var Be=function(){this._edgeMap=new u,this._edgeList=null,this._ptInAreaLocation=[R.NONE,R.NONE]};Be.prototype.getNextCW=function(t){this.getEdges();var n=this._edgeList.indexOf(t),e=n-1;return 0===n&&(e=this._edgeList.size()-1),this._edgeList.get(e)},Be.prototype.propagateSideLabels=function(t){for(var n=R.NONE,e=this.iterator();e.hasNext();){var i=e.next().getLabel();i.isArea(t)&&i.getLocation(t,Sn.LEFT)!==R.NONE&&(n=i.getLocation(t,Sn.LEFT))}if(n===R.NONE)return null;for(var o=n,l=this.iterator();l.hasNext();){var s=l.next(),r=s.getLabel();if(r.getLocation(t,Sn.ON)===R.NONE&&r.setLocation(t,Sn.ON,o),r.isArea(t)){var a=r.getLocation(t,Sn.LEFT),d=r.getLocation(t,Sn.RIGHT);if(d!==R.NONE){if(d!==o)throw new Kn("side location conflict",s.getCoordinate());a===R.NONE&&nt.shouldNeverReachHere("found single null side (at "+s.getCoordinate()+")"),o=a}else nt.isTrue(r.getLocation(t,Sn.LEFT)===R.NONE,"found single null side"),r.setLocation(t,Sn.RIGHT,o),r.setLocation(t,Sn.LEFT,o)}}},Be.prototype.getCoordinate=function(){var t=this.iterator();return t.hasNext()?t.next().getCoordinate():null},Be.prototype.print=function(t){_.out.println("EdgeEndStar:   "+this.getCoordinate());for(var n=this.iterator();n.hasNext();)n.next().print(t)},Be.prototype.isAreaLabelsConsistent=function(t){return this.computeEdgeEndLabels(t.getBoundaryNodeRule()),this.checkAreaLabelsConsistent(0)},Be.prototype.checkAreaLabelsConsistent=function(t){var n=this.getEdges();if(n.size()<=0)return!0;var e=n.size()-1,i=n.get(e).getLabel().getLocation(t,Sn.LEFT);nt.isTrue(i!==R.NONE,"Found unlabelled area edge");for(var o=i,l=this.iterator();l.hasNext();){var s=l.next().getLabel();nt.isTrue(s.isArea(t),"Found non-area edge");var r=s.getLocation(t,Sn.LEFT),a=s.getLocation(t,Sn.RIGHT);if(r===a)return!1;if(a!==o)return!1;o=r}return!0},Be.prototype.findIndex=function(t){this.iterator();for(var n=0;n<this._edgeList.size();n++)if(this._edgeList.get(n)===t)return n;return-1},Be.prototype.iterator=function(){return this.getEdges().iterator()},Be.prototype.getEdges=function(){return null===this._edgeList&&(this._edgeList=new vt(this._edgeMap.values())),this._edgeList},Be.prototype.getLocation=function(t,n,e){return this._ptInAreaLocation[t]===R.NONE&&(this._ptInAreaLocation[t]=ke.locate(n,e[t].getGeometry())),this._ptInAreaLocation[t]},Be.prototype.toString=function(){var t=new T;t.append("EdgeEndStar:   "+this.getCoordinate()),t.append("\n");for(var n=this.iterator();n.hasNext();){var e=n.next();t.append(e),t.append("\n")}return t.toString()},Be.prototype.computeEdgeEndLabels=function(t){for(var n=this.iterator();n.hasNext();)n.next().computeLabel(t)},Be.prototype.computeLabelling=function(t){this.computeEdgeEndLabels(t[0].getBoundaryNodeRule()),this.propagateSideLabels(0),this.propagateSideLabels(1);for(var n=[!1,!1],e=this.iterator();e.hasNext();)for(var i=e.next().getLabel(),o=0;o<2;o++)i.isLine(o)&&i.getLocation(o)===R.BOUNDARY&&(n[o]=!0);for(var l=this.iterator();l.hasNext();)for(var s=l.next(),r=s.getLabel(),a=0;a<2;a++)if(r.isAnyNull(a)){var d=R.NONE;if(n[a])d=R.EXTERIOR;else{var c=s.getCoordinate();d=this.getLocation(a,c,t)}r.setAllLocationsIfNull(a,d)}},Be.prototype.getDegree=function(){return this._edgeMap.size()},Be.prototype.insertEdgeEnd=function(t,n){this._edgeMap.put(t,n),this._edgeList=null},Be.prototype.interfaces_=function(){return[]},Be.prototype.getClass=function(){return Be};var _e=function(t){function n(){t.call(this),this._resultAreaEdgeList=null,this._label=null,this._SCANNING_FOR_INCOMING=1,this._LINKING_TO_OUTGOING=2}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.linkResultDirectedEdges=function(){this.getResultAreaEdges();for(var t=null,n=null,e=this._SCANNING_FOR_INCOMING,i=0;i<this._resultAreaEdgeList.size();i++){var o=this._resultAreaEdgeList.get(i),l=o.getSym();if(o.getLabel().isArea())switch(null===t&&o.isInResult()&&(t=o),e){case this._SCANNING_FOR_INCOMING:if(!l.isInResult())continue;n=l,e=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(!o.isInResult())continue;n.setNext(o),e=this._SCANNING_FOR_INCOMING}}if(e===this._LINKING_TO_OUTGOING){if(null===t)throw new Kn("no outgoing dirEdge found",this.getCoordinate());nt.isTrue(t.isInResult(),"unable to link last incoming dirEdge"),n.setNext(t)}},n.prototype.insert=function(t){var n=t;this.insertEdgeEnd(n,n)},n.prototype.getRightmostEdge=function(){var t=this.getEdges(),n=t.size();if(n<1)return null;var e=t.get(0);if(1===n)return e;var i=t.get(n-1),o=e.getQuadrant(),l=i.getQuadrant();return Nn.isNorthern(o)&&Nn.isNorthern(l)?e:Nn.isNorthern(o)||Nn.isNorthern(l)?0!==e.getDy()?e:0!==i.getDy()?i:(nt.shouldNeverReachHere("found two horizontal edges incident on node"),null):i},n.prototype.print=function(t){_.out.println("DirectedEdgeStar: "+this.getCoordinate());for(var n=this.iterator();n.hasNext();){var e=n.next();t.print("out "),e.print(t),t.println(),t.print("in "),e.getSym().print(t),t.println()}},n.prototype.getResultAreaEdges=function(){if(null!==this._resultAreaEdgeList)return this._resultAreaEdgeList;this._resultAreaEdgeList=new vt;for(var t=this.iterator();t.hasNext();){var n=t.next();(n.isInResult()||n.getSym().isInResult())&&this._resultAreaEdgeList.add(n)}return this._resultAreaEdgeList},n.prototype.updateLabelling=function(t){for(var n=this.iterator();n.hasNext();){var e=n.next().getLabel();e.setAllLocationsIfNull(0,t.getLocation(0)),e.setAllLocationsIfNull(1,t.getLocation(1))}},n.prototype.linkAllDirectedEdges=function(){this.getEdges();for(var t=null,n=null,e=this._edgeList.size()-1;e>=0;e--){var i=this._edgeList.get(e),o=i.getSym();null===n&&(n=o),null!==t&&o.setNext(t),t=i}n.setNext(t)},n.prototype.computeDepths=function(){if(1===arguments.length){var t=arguments[0],n=this.findIndex(t),e=t.getDepth(Sn.LEFT),i=t.getDepth(Sn.RIGHT),o=this.computeDepths(n+1,this._edgeList.size(),e);if(this.computeDepths(0,n,o)!==i)throw new Kn("depth mismatch at "+t.getCoordinate())}else if(3===arguments.length){for(var l=arguments[1],s=arguments[2],r=arguments[0];r<l;r++){var a=this._edgeList.get(r);a.setEdgeDepths(Sn.RIGHT,s),s=a.getDepth(Sn.LEFT)}return s}},n.prototype.mergeSymLabels=function(){for(var t=this.iterator();t.hasNext();){var n=t.next();n.getLabel().merge(n.getSym().getLabel())}},n.prototype.linkMinimalDirectedEdges=function(t){for(var n=null,e=null,i=this._SCANNING_FOR_INCOMING,o=this._resultAreaEdgeList.size()-1;o>=0;o--){var l=this._resultAreaEdgeList.get(o),s=l.getSym();switch(null===n&&l.getEdgeRing()===t&&(n=l),i){case this._SCANNING_FOR_INCOMING:if(s.getEdgeRing()!==t)continue;e=s,i=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(l.getEdgeRing()!==t)continue;e.setNextMin(l),i=this._SCANNING_FOR_INCOMING}}i===this._LINKING_TO_OUTGOING&&(nt.isTrue(null!==n,"found null for first outgoing dirEdge"),nt.isTrue(n.getEdgeRing()===t,"unable to link last incoming dirEdge"),e.setNextMin(n))},n.prototype.getOutgoingDegree=function(){if(0===arguments.length){for(var t=0,n=this.iterator();n.hasNext();)n.next().isInResult()&&t++;return t}if(1===arguments.length){for(var e=arguments[0],i=0,o=this.iterator();o.hasNext();)o.next().getEdgeRing()===e&&i++;return i}},n.prototype.getLabel=function(){return this._label},n.prototype.findCoveredLineEdges=function(){for(var t=R.NONE,n=this.iterator();n.hasNext();){var e=n.next(),i=e.getSym();if(!e.isLineEdge()){if(e.isInResult()){t=R.INTERIOR;break}if(i.isInResult()){t=R.EXTERIOR;break}}}if(t===R.NONE)return null;for(var o=t,l=this.iterator();l.hasNext();){var s=l.next(),r=s.getSym();s.isLineEdge()?s.getEdge().setCovered(o===R.INTERIOR):(s.isInResult()&&(o=R.EXTERIOR),r.isInResult()&&(o=R.INTERIOR))}},n.prototype.computeLabelling=function(n){t.prototype.computeLabelling.call(this,n),this._label=new Tn(R.NONE);for(var e=this.iterator();e.hasNext();)for(var i=e.next().getEdge().getLabel(),o=0;o<2;o++){var l=i.getLocation(o);l!==R.INTERIOR&&l!==R.BOUNDARY||this._label.setLocation(o,R.INTERIOR)}},n.prototype.interfaces_=function(){return[]},n.prototype.getClass=function(){return n},n}(Be),Ue=function(t){function n(){t.apply(this,arguments)}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.createNode=function(t){return new zn(t,new _e)},n.prototype.interfaces_=function(){return[]},n.prototype.getClass=function(){return n},n}(_n),Ee=function t(){this._pts=null,this._orientation=null;var n=arguments[0];this._pts=n,this._orientation=t.orientation(n)};Ee.prototype.compareTo=function(t){var n=t;return Ee.compareOriented(this._pts,this._orientation,n._pts,n._orientation)},Ee.prototype.interfaces_=function(){return[W]},Ee.prototype.getClass=function(){return Ee},Ee.orientation=function(t){return 1===St.increasingDirection(t)},Ee.compareOriented=function(t,n,e,i){for(var o=n?1:-1,l=i?1:-1,s=n?t.length:-1,r=i?e.length:-1,a=n?0:t.length-1,d=i?0:e.length-1;;){var c=t[a].compareTo(e[d]);if(0!==c)return c;var u=(a+=o)===s,p=(d+=l)===r;if(u&&!p)return-1;if(!u&&p)return 1;if(u&&p)return 0}};var je=function(){this._edges=new vt,this._ocaMap=new u};je.prototype.print=function(t){t.print("MULTILINESTRING ( ");for(var n=0;n<this._edges.size();n++){var e=this._edges.get(n);n>0&&t.print(","),t.print("(");for(var i=e.getCoordinates(),o=0;o<i.length;o++)o>0&&t.print(","),t.print(i[o].x+" "+i[o].y);t.println(")")}t.print(")  ")},je.prototype.addAll=function(t){for(var n=t.iterator();n.hasNext();)this.add(n.next())},je.prototype.findEdgeIndex=function(t){for(var n=0;n<this._edges.size();n++)if(this._edges.get(n).equals(t))return n;return-1},je.prototype.iterator=function(){return this._edges.iterator()},je.prototype.getEdges=function(){return this._edges},je.prototype.get=function(t){return this._edges.get(t)},je.prototype.findEqualEdge=function(t){var n=new Ee(t.getCoordinates());return this._ocaMap.get(n)},je.prototype.add=function(t){this._edges.add(t);var n=new Ee(t.getCoordinates());this._ocaMap.put(n,t)},je.prototype.interfaces_=function(){return[]},je.prototype.getClass=function(){return je};var Qe=function(){};Qe.prototype.processIntersections=function(t,n,e,i){},Qe.prototype.isDone=function(){},Qe.prototype.interfaces_=function(){return[]},Qe.prototype.getClass=function(){return Qe};var Oe=function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._hasInterior=!1,this._properIntersectionPoint=null,this._li=null,this._isSelfIntersection=null,this.numIntersections=0,this.numInteriorIntersections=0,this.numProperIntersections=0,this.numTests=0;var t=arguments[0];this._li=t};Oe.prototype.isTrivialIntersection=function(t,n,e,i){if(t===e&&1===this._li.getIntersectionNum()){if(Oe.isAdjacentSegments(n,i))return!0;if(t.isClosed()){var o=t.size()-1;if(0===n&&i===o||0===i&&n===o)return!0}}return!1},Oe.prototype.getProperIntersectionPoint=function(){return this._properIntersectionPoint},Oe.prototype.hasProperInteriorIntersection=function(){return this._hasProperInterior},Oe.prototype.getLineIntersector=function(){return this._li},Oe.prototype.hasProperIntersection=function(){return this._hasProper},Oe.prototype.processIntersections=function(t,n,e,i){if(t===e&&n===i)return null;this.numTests++;var o=t.getCoordinates()[n],l=t.getCoordinates()[n+1],s=e.getCoordinates()[i],r=e.getCoordinates()[i+1];this._li.computeIntersection(o,l,s,r),this._li.hasIntersection()&&(this.numIntersections++,this._li.isInteriorIntersection()&&(this.numInteriorIntersections++,this._hasInterior=!0),this.isTrivialIntersection(t,n,e,i)||(this._hasIntersection=!0,t.addIntersections(this._li,n,0),e.addIntersections(this._li,i,1),this._li.isProper()&&(this.numProperIntersections++,this._hasProper=!0,this._hasProperInterior=!0)))},Oe.prototype.hasIntersection=function(){return this._hasIntersection},Oe.prototype.isDone=function(){return!1},Oe.prototype.hasInteriorIntersection=function(){return this._hasInterior},Oe.prototype.interfaces_=function(){return[Qe]},Oe.prototype.getClass=function(){return Oe},Oe.isAdjacentSegments=function(t,n){return 1===Math.abs(t-n)};var Ae=function(){this.coord=null,this.segmentIndex=null,this.dist=null;var t=arguments[0],n=arguments[1],e=arguments[2];this.coord=new V(t),this.segmentIndex=n,this.dist=e};Ae.prototype.getSegmentIndex=function(){return this.segmentIndex},Ae.prototype.getCoordinate=function(){return this.coord},Ae.prototype.print=function(t){t.print(this.coord),t.print(" seg # = "+this.segmentIndex),t.println(" dist = "+this.dist)},Ae.prototype.compareTo=function(t){var n=t;return this.compare(n.segmentIndex,n.dist)},Ae.prototype.isEndPoint=function(t){return 0===this.segmentIndex&&0===this.dist||this.segmentIndex===t},Ae.prototype.toString=function(){return this.coord+" seg # = "+this.segmentIndex+" dist = "+this.dist},Ae.prototype.getDistance=function(){return this.dist},Ae.prototype.compare=function(t,n){return this.segmentIndex<t?-1:this.segmentIndex>t?1:this.dist<n?-1:this.dist>n?1:0},Ae.prototype.interfaces_=function(){return[W]},Ae.prototype.getClass=function(){return Ae};var De=function(){this._nodeMap=new u,this.edge=null;var t=arguments[0];this.edge=t};De.prototype.print=function(t){t.println("Intersections:");for(var n=this.iterator();n.hasNext();)n.next().print(t)},De.prototype.iterator=function(){return this._nodeMap.values().iterator()},De.prototype.addSplitEdges=function(t){this.addEndpoints();for(var n=this.iterator(),e=n.next();n.hasNext();){var i=n.next(),o=this.createSplitEdge(e,i);t.add(o),e=i}},De.prototype.addEndpoints=function(){var t=this.edge.pts.length-1;this.add(this.edge.pts[0],0,0),this.add(this.edge.pts[t],t,0)},De.prototype.createSplitEdge=function(t,n){var e=n.segmentIndex-t.segmentIndex+2,i=this.edge.pts[n.segmentIndex],o=n.dist>0||!n.coord.equals2D(i);o||e--;var l=new Array(e).fill(null),s=0;l[s++]=new V(t.coord);for(var r=t.segmentIndex+1;r<=n.segmentIndex;r++)l[s++]=this.edge.pts[r];return o&&(l[s]=n.coord),new ei(l,new Tn(this.edge._label))},De.prototype.add=function(t,n,e){var i=new Ae(t,n,e),o=this._nodeMap.get(i);return null!==o?o:(this._nodeMap.put(i,i),i)},De.prototype.isIntersection=function(t){for(var n=this.iterator();n.hasNext();)if(n.next().coord.equals(t))return!0;return!1},De.prototype.interfaces_=function(){return[]},De.prototype.getClass=function(){return De};var qe=function(){};qe.prototype.getChainStartIndices=function(t){var n=0,e=new vt;e.add(new M(n));do{var i=this.findChainEnd(t,n);e.add(new M(i)),n=i}while(n<t.length-1);return qe.toIntArray(e)},qe.prototype.findChainEnd=function(t,n){for(var e=Nn.quadrant(t[n],t[n+1]),i=n+1;i<t.length&&Nn.quadrant(t[i-1],t[i])===e;)i++;return i-1},qe.prototype.interfaces_=function(){return[]},qe.prototype.getClass=function(){return qe},qe.toIntArray=function(t){for(var n=new Array(t.size()).fill(null),e=0;e<n.length;e++)n[e]=t.get(e).intValue();return n};var $e=function(){this.e=null,this.pts=null,this.startIndex=null,this.env1=new E,this.env2=new E;var t=arguments[0];this.e=t,this.pts=t.getCoordinates();var n=new qe;this.startIndex=n.getChainStartIndices(this.pts)};$e.prototype.getCoordinates=function(){return this.pts},$e.prototype.getMaxX=function(t){var n=this.pts[this.startIndex[t]].x,e=this.pts[this.startIndex[t+1]].x;return n>e?n:e},$e.prototype.getMinX=function(t){var n=this.pts[this.startIndex[t]].x,e=this.pts[this.startIndex[t+1]].x;return n<e?n:e},$e.prototype.computeIntersectsForChain=function(){if(4===arguments.length){var t=arguments[0],n=arguments[1],e=arguments[2],i=arguments[3];this.computeIntersectsForChain(this.startIndex[t],this.startIndex[t+1],n,n.startIndex[e],n.startIndex[e+1],i)}else if(6===arguments.length){var o=arguments[0],l=arguments[1],s=arguments[2],r=arguments[3],a=arguments[4],d=arguments[5],c=this.pts[o],u=this.pts[l],p=s.pts[r],h=s.pts[a];if(l-o==1&&a-r==1)return d.addIntersections(this.e,o,s.e,r),null;if(this.env1.init(c,u),this.env2.init(p,h),!this.env1.intersects(this.env2))return null;var m=Math.trunc((o+l)/2),b=Math.trunc((r+a)/2);o<m&&(r<b&&this.computeIntersectsForChain(o,m,s,r,b,d),b<a&&this.computeIntersectsForChain(o,m,s,b,a,d)),m<l&&(r<b&&this.computeIntersectsForChain(m,l,s,r,b,d),b<a&&this.computeIntersectsForChain(m,l,s,b,a,d))}},$e.prototype.getStartIndexes=function(){return this.startIndex},$e.prototype.computeIntersects=function(t,n){for(var e=0;e<this.startIndex.length-1;e++)for(var i=0;i<t.startIndex.length-1;i++)this.computeIntersectsForChain(e,t,i,n)},$e.prototype.interfaces_=function(){return[]},$e.prototype.getClass=function(){return $e};var ti=function t(){this._depth=Array(2).fill().map((function(){return Array(3)}));for(var n=0;n<2;n++)for(var e=0;e<3;e++)this._depth[n][e]=t.NULL_VALUE},ni={NULL_VALUE:{configurable:!0}};ti.prototype.getDepth=function(t,n){return this._depth[t][n]},ti.prototype.setDepth=function(t,n,e){this._depth[t][n]=e},ti.prototype.isNull=function(){if(0===arguments.length){for(var t=0;t<2;t++)for(var n=0;n<3;n++)if(this._depth[t][n]!==ti.NULL_VALUE)return!1;return!0}if(1===arguments.length){var e=arguments[0];return this._depth[e][1]===ti.NULL_VALUE}if(2===arguments.length){var i=arguments[0],o=arguments[1];return this._depth[i][o]===ti.NULL_VALUE}},ti.prototype.normalize=function(){for(var t=0;t<2;t++)if(!this.isNull(t)){var n=this._depth[t][1];this._depth[t][2]<n&&(n=this._depth[t][2]),n<0&&(n=0);for(var e=1;e<3;e++){var i=0;this._depth[t][e]>n&&(i=1),this._depth[t][e]=i}}},ti.prototype.getDelta=function(t){return this._depth[t][Sn.RIGHT]-this._depth[t][Sn.LEFT]},ti.prototype.getLocation=function(t,n){return this._depth[t][n]<=0?R.EXTERIOR:R.INTERIOR},ti.prototype.toString=function(){return"A: "+this._depth[0][1]+","+this._depth[0][2]+" B: "+this._depth[1][1]+","+this._depth[1][2]},ti.prototype.add=function(){if(1===arguments.length)for(var t=arguments[0],n=0;n<2;n++)for(var e=1;e<3;e++){var i=t.getLocation(n,e);i!==R.EXTERIOR&&i!==R.INTERIOR||(this.isNull(n,e)?this._depth[n][e]=ti.depthAtLocation(i):this._depth[n][e]+=ti.depthAtLocation(i))}else if(3===arguments.length){var o=arguments[0],l=arguments[1];arguments[2]===R.INTERIOR&&this._depth[o][l]++}},ti.prototype.interfaces_=function(){return[]},ti.prototype.getClass=function(){return ti},ti.depthAtLocation=function(t){return t===R.EXTERIOR?0:t===R.INTERIOR?1:ti.NULL_VALUE},ni.NULL_VALUE.get=function(){return-1},Object.defineProperties(ti,ni);var ei=function(t){function n(){if(t.call(this),this.pts=null,this._env=null,this.eiList=new De(this),this._name=null,this._mce=null,this._isIsolated=!0,this._depth=new ti,this._depthDelta=0,1===arguments.length){var e=arguments[0];n.call(this,e,null)}else if(2===arguments.length){var i=arguments[0],o=arguments[1];this.pts=i,this._label=o}}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.getDepth=function(){return this._depth},n.prototype.getCollapsedEdge=function(){var t=new Array(2).fill(null);return t[0]=this.pts[0],t[1]=this.pts[1],new n(t,Tn.toLineLabel(this._label))},n.prototype.isIsolated=function(){return this._isIsolated},n.prototype.getCoordinates=function(){return this.pts},n.prototype.setIsolated=function(t){this._isIsolated=t},n.prototype.setName=function(t){this._name=t},n.prototype.equals=function(t){if(!(t instanceof n))return!1;var e=t;if(this.pts.length!==e.pts.length)return!1;for(var i=!0,o=!0,l=this.pts.length,s=0;s<this.pts.length;s++)if(this.pts[s].equals2D(e.pts[s])||(i=!1),this.pts[s].equals2D(e.pts[--l])||(o=!1),!i&&!o)return!1;return!0},n.prototype.getCoordinate=function(){if(0===arguments.length)return this.pts.length>0?this.pts[0]:null;if(1===arguments.length){var t=arguments[0];return this.pts[t]}},n.prototype.print=function(t){t.print("edge "+this._name+": "),t.print("LINESTRING (");for(var n=0;n<this.pts.length;n++)n>0&&t.print(","),t.print(this.pts[n].x+" "+this.pts[n].y);t.print(")  "+this._label+" "+this._depthDelta)},n.prototype.computeIM=function(t){n.updateIM(this._label,t)},n.prototype.isCollapsed=function(){return!!this._label.isArea()&&3===this.pts.length&&!!this.pts[0].equals(this.pts[2])},n.prototype.isClosed=function(){return this.pts[0].equals(this.pts[this.pts.length-1])},n.prototype.getMaximumSegmentIndex=function(){return this.pts.length-1},n.prototype.getDepthDelta=function(){return this._depthDelta},n.prototype.getNumPoints=function(){return this.pts.length},n.prototype.printReverse=function(t){t.print("edge "+this._name+": ");for(var n=this.pts.length-1;n>=0;n--)t.print(this.pts[n]+" ");t.println("")},n.prototype.getMonotoneChainEdge=function(){return null===this._mce&&(this._mce=new $e(this)),this._mce},n.prototype.getEnvelope=function(){if(null===this._env){this._env=new E;for(var t=0;t<this.pts.length;t++)this._env.expandToInclude(this.pts[t])}return this._env},n.prototype.addIntersection=function(t,n,e,i){var o=new V(t.getIntersection(i)),l=n,s=t.getEdgeDistance(e,i),r=l+1;if(r<this.pts.length){var a=this.pts[r];o.equals2D(a)&&(l=r,s=0)}this.eiList.add(o,l,s)},n.prototype.toString=function(){var t=new T;t.append("edge "+this._name+": "),t.append("LINESTRING (");for(var n=0;n<this.pts.length;n++)n>0&&t.append(","),t.append(this.pts[n].x+" "+this.pts[n].y);return t.append(")  "+this._label+" "+this._depthDelta),t.toString()},n.prototype.isPointwiseEqual=function(t){if(this.pts.length!==t.pts.length)return!1;for(var n=0;n<this.pts.length;n++)if(!this.pts[n].equals2D(t.pts[n]))return!1;return!0},n.prototype.setDepthDelta=function(t){this._depthDelta=t},n.prototype.getEdgeIntersectionList=function(){return this.eiList},n.prototype.addIntersections=function(t,n,e){for(var i=0;i<t.getIntersectionNum();i++)this.addIntersection(t,n,e,i)},n.prototype.interfaces_=function(){return[]},n.prototype.getClass=function(){return n},n.updateIM=function(){if(2!==arguments.length)return t.prototype.updateIM.apply(this,arguments);var n=arguments[0],e=arguments[1];e.setAtLeastIfValid(n.getLocation(0,Sn.ON),n.getLocation(1,Sn.ON),1),n.isArea()&&(e.setAtLeastIfValid(n.getLocation(0,Sn.LEFT),n.getLocation(1,Sn.LEFT),2),e.setAtLeastIfValid(n.getLocation(0,Sn.RIGHT),n.getLocation(1,Sn.RIGHT),2))},n}(In),ii=function(t){this._workingPrecisionModel=null,this._workingNoder=null,this._geomFact=null,this._graph=null,this._edgeList=new je,this._bufParams=t||null};ii.prototype.setWorkingPrecisionModel=function(t){this._workingPrecisionModel=t},ii.prototype.insertUniqueEdge=function(t){var n=this._edgeList.findEqualEdge(t);if(null!==n){var e=n.getLabel(),i=t.getLabel();n.isPointwiseEqual(t)||(i=new Tn(t.getLabel())).flip(),e.merge(i);var o=ii.depthDelta(i),l=n.getDepthDelta()+o;n.setDepthDelta(l)}else this._edgeList.add(t),t.setDepthDelta(ii.depthDelta(t.getLabel()))},ii.prototype.buildSubgraphs=function(t,n){for(var e=new vt,i=t.iterator();i.hasNext();){var o=i.next(),l=o.getRightmostCoordinate(),s=new we(e).getDepth(l);o.computeDepth(s),o.findResultEdges(),e.add(o),n.add(o.getDirectedEdges(),o.getNodes())}},ii.prototype.createSubgraphs=function(t){for(var n=new vt,e=t.getNodes().iterator();e.hasNext();){var i=e.next();if(!i.isVisited()){var o=new Cn;o.create(i),n.add(o)}}return te.sort(n,te.reverseOrder()),n},ii.prototype.createEmptyResultGeometry=function(){return this._geomFact.createPolygon()},ii.prototype.getNoder=function(t){if(null!==this._workingNoder)return this._workingNoder;var n=new ge,e=new ot;return e.setPrecisionModel(t),n.setSegmentIntersector(new Oe(e)),n},ii.prototype.buffer=function(t,n){var e=this._workingPrecisionModel;null===e&&(e=t.getPrecisionModel()),this._geomFact=t.getFactory();var i=new Me(e,this._bufParams),o=new Je(t,n,i).getCurves();if(o.size()<=0)return this.createEmptyResultGeometry();this.computeNodedEdges(o,e),this._graph=new Un(new Ue),this._graph.addEdges(this._edgeList.getEdges());var l=this.createSubgraphs(this._graph),s=new En(this._geomFact);this.buildSubgraphs(l,s);var r=s.getPolygons();return r.size()<=0?this.createEmptyResultGeometry():this._geomFact.buildGeometry(r)},ii.prototype.computeNodedEdges=function(t,n){var e=this.getNoder(n);e.computeNodes(t);for(var i=e.getNodedSubstrings().iterator();i.hasNext();){var o=i.next(),l=o.getCoordinates();if(2!==l.length||!l[0].equals2D(l[1])){var s=o.getData(),r=new ei(o.getCoordinates(),new Tn(s));this.insertUniqueEdge(r)}}},ii.prototype.setNoder=function(t){this._workingNoder=t},ii.prototype.interfaces_=function(){return[]},ii.prototype.getClass=function(){return ii},ii.depthDelta=function(t){var n=t.getLocation(0,Sn.LEFT),e=t.getLocation(0,Sn.RIGHT);return n===R.INTERIOR&&e===R.EXTERIOR?1:n===R.EXTERIOR&&e===R.INTERIOR?-1:0},ii.convertSegStrings=function(t){for(var n=new Xn,e=new vt;t.hasNext();){var i=t.next(),o=n.createLineString(i.getCoordinates());e.add(o)}return n.buildGeometry(e)};var oi=function(){if(this._noder=null,this._scaleFactor=null,this._offsetX=null,this._offsetY=null,this._isScaled=!1,2===arguments.length){var t=arguments[0],n=arguments[1];this._noder=t,this._scaleFactor=n,this._offsetX=0,this._offsetY=0,this._isScaled=!this.isIntegerPrecision()}else if(4===arguments.length){var e=arguments[0],i=arguments[1],o=arguments[2],l=arguments[3];this._noder=e,this._scaleFactor=i,this._offsetX=o,this._offsetY=l,this._isScaled=!this.isIntegerPrecision()}};oi.prototype.rescale=function(){if(H(arguments[0],Gt))for(var t=arguments[0].iterator();t.hasNext();){var n=t.next();this.rescale(n.getCoordinates())}else if(arguments[0]instanceof Array){for(var e=arguments[0],i=0;i<e.length;i++)e[i].x=e[i].x/this._scaleFactor+this._offsetX,e[i].y=e[i].y/this._scaleFactor+this._offsetY;2===e.length&&e[0].equals2D(e[1])&&_.out.println(e)}},oi.prototype.scale=function(){if(H(arguments[0],Gt)){for(var t=arguments[0],n=new vt,e=t.iterator();e.hasNext();){var i=e.next();n.add(new me(this.scale(i.getCoordinates()),i.getData()))}return n}if(arguments[0]instanceof Array){for(var o=arguments[0],l=new Array(o.length).fill(null),s=0;s<o.length;s++)l[s]=new V(Math.round((o[s].x-this._offsetX)*this._scaleFactor),Math.round((o[s].y-this._offsetY)*this._scaleFactor),o[s].z);return St.removeRepeatedPoints(l)}},oi.prototype.isIntegerPrecision=function(){return 1===this._scaleFactor},oi.prototype.getNodedSubstrings=function(){var t=this._noder.getNodedSubstrings();return this._isScaled&&this.rescale(t),t},oi.prototype.computeNodes=function(t){var n=t;this._isScaled&&(n=this.scale(t)),this._noder.computeNodes(n)},oi.prototype.interfaces_=function(){return[Ge]},oi.prototype.getClass=function(){return oi};var li=function(){this._li=new ot,this._segStrings=null;var t=arguments[0];this._segStrings=t},si={fact:{configurable:!0}};li.prototype.checkEndPtVertexIntersections=function(){if(0===arguments.length)for(var t=this._segStrings.iterator();t.hasNext();){var n=t.next().getCoordinates();this.checkEndPtVertexIntersections(n[0],this._segStrings),this.checkEndPtVertexIntersections(n[n.length-1],this._segStrings)}else if(2===arguments.length)for(var e=arguments[0],i=arguments[1].iterator();i.hasNext();)for(var o=i.next().getCoordinates(),l=1;l<o.length-1;l++)if(o[l].equals(e))throw new $("found endpt/interior pt intersection at index "+l+" :pt "+e)},li.prototype.checkInteriorIntersections=function(){if(0===arguments.length)for(var t=this._segStrings.iterator();t.hasNext();)for(var n=t.next(),e=this._segStrings.iterator();e.hasNext();){var i=e.next();this.checkInteriorIntersections(n,i)}else if(2===arguments.length)for(var o=arguments[0],l=arguments[1],s=o.getCoordinates(),r=l.getCoordinates(),a=0;a<s.length-1;a++)for(var d=0;d<r.length-1;d++)this.checkInteriorIntersections(o,a,l,d);else if(4===arguments.length){var c=arguments[0],u=arguments[1],p=arguments[2],h=arguments[3];if(c===p&&u===h)return null;var m=c.getCoordinates()[u],b=c.getCoordinates()[u+1],y=p.getCoordinates()[h],Z=p.getCoordinates()[h+1];if(this._li.computeIntersection(m,b,y,Z),this._li.hasIntersection()&&(this._li.isProper()||this.hasInteriorIntersection(this._li,m,b)||this.hasInteriorIntersection(this._li,y,Z)))throw new $("found non-noded intersection at "+m+"-"+b+" and "+y+"-"+Z)}},li.prototype.checkValid=function(){this.checkEndPtVertexIntersections(),this.checkInteriorIntersections(),this.checkCollapses()},li.prototype.checkCollapses=function(){if(0===arguments.length)for(var t=this._segStrings.iterator();t.hasNext();){var n=t.next();this.checkCollapses(n)}else if(1===arguments.length)for(var e=arguments[0].getCoordinates(),i=0;i<e.length-2;i++)this.checkCollapse(e[i],e[i+1],e[i+2])},li.prototype.hasInteriorIntersection=function(t,n,e){for(var i=0;i<t.getIntersectionNum();i++){var o=t.getIntersection(i);if(!o.equals(n)&&!o.equals(e))return!0}return!1},li.prototype.checkCollapse=function(t,n,e){if(t.equals(e))throw new $("found non-noded collapse at "+li.fact.createLineString([t,n,e]))},li.prototype.interfaces_=function(){return[]},li.prototype.getClass=function(){return li},si.fact.get=function(){return new Xn},Object.defineProperties(li,si);var ri=function(){this._li=null,this._pt=null,this._originalPt=null,this._ptScaled=null,this._p0Scaled=null,this._p1Scaled=null,this._scaleFactor=null,this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,this._corner=new Array(4).fill(null),this._safeEnv=null;var t=arguments[0],n=arguments[1],e=arguments[2];if(this._originalPt=t,this._pt=t,this._scaleFactor=n,this._li=e,n<=0)throw new X("Scale factor must be non-zero");1!==n&&(this._pt=new V(this.scale(t.x),this.scale(t.y)),this._p0Scaled=new V,this._p1Scaled=new V),this.initCorners(this._pt)},ai={SAFE_ENV_EXPANSION_FACTOR:{configurable:!0}};ri.prototype.intersectsScaled=function(t,n){var e=Math.min(t.x,n.x),i=Math.max(t.x,n.x),o=Math.min(t.y,n.y),l=Math.max(t.y,n.y),s=this._maxx<e||this._minx>i||this._maxy<o||this._miny>l;if(s)return!1;var r=this.intersectsToleranceSquare(t,n);return nt.isTrue(!(s&&r),"Found bad envelope test"),r},ri.prototype.initCorners=function(t){this._minx=t.x-.5,this._maxx=t.x+.5,this._miny=t.y-.5,this._maxy=t.y+.5,this._corner[0]=new V(this._maxx,this._maxy),this._corner[1]=new V(this._minx,this._maxy),this._corner[2]=new V(this._minx,this._miny),this._corner[3]=new V(this._maxx,this._miny)},ri.prototype.intersects=function(t,n){return 1===this._scaleFactor?this.intersectsScaled(t,n):(this.copyScaled(t,this._p0Scaled),this.copyScaled(n,this._p1Scaled),this.intersectsScaled(this._p0Scaled,this._p1Scaled))},ri.prototype.scale=function(t){return Math.round(t*this._scaleFactor)},ri.prototype.getCoordinate=function(){return this._originalPt},ri.prototype.copyScaled=function(t,n){n.x=this.scale(t.x),n.y=this.scale(t.y)},ri.prototype.getSafeEnvelope=function(){if(null===this._safeEnv){var t=ri.SAFE_ENV_EXPANSION_FACTOR/this._scaleFactor;this._safeEnv=new E(this._originalPt.x-t,this._originalPt.x+t,this._originalPt.y-t,this._originalPt.y+t)}return this._safeEnv},ri.prototype.intersectsPixelClosure=function(t,n){return this._li.computeIntersection(t,n,this._corner[0],this._corner[1]),!!(this._li.hasIntersection()||(this._li.computeIntersection(t,n,this._corner[1],this._corner[2]),this._li.hasIntersection()||(this._li.computeIntersection(t,n,this._corner[2],this._corner[3]),this._li.hasIntersection()||(this._li.computeIntersection(t,n,this._corner[3],this._corner[0]),this._li.hasIntersection()))))},ri.prototype.intersectsToleranceSquare=function(t,n){var e=!1,i=!1;return this._li.computeIntersection(t,n,this._corner[0],this._corner[1]),!!(this._li.isProper()||(this._li.computeIntersection(t,n,this._corner[1],this._corner[2]),this._li.isProper()||(this._li.hasIntersection()&&(e=!0),this._li.computeIntersection(t,n,this._corner[2],this._corner[3]),this._li.isProper()||(this._li.hasIntersection()&&(i=!0),this._li.computeIntersection(t,n,this._corner[3],this._corner[0]),this._li.isProper()||e&&i||t.equals(this._pt)||n.equals(this._pt)))))},ri.prototype.addSnappedNode=function(t,n){var e=t.getCoordinate(n),i=t.getCoordinate(n+1);return!!this.intersects(e,i)&&(t.addIntersection(this.getCoordinate(),n),!0)},ri.prototype.interfaces_=function(){return[]},ri.prototype.getClass=function(){return ri},ai.SAFE_ENV_EXPANSION_FACTOR.get=function(){return.75},Object.defineProperties(ri,ai);var di=function(){this.tempEnv1=new E,this.selectedSegment=new be};di.prototype.select=function(){if(1===arguments.length);else if(2===arguments.length){var t=arguments[1];arguments[0].getLineSegment(t,this.selectedSegment),this.select(this.selectedSegment)}},di.prototype.interfaces_=function(){return[]},di.prototype.getClass=function(){return di};var ci=function(){this._index=null;var t=arguments[0];this._index=t},ui={HotPixelSnapAction:{configurable:!0}};ci.prototype.snap=function(){if(1===arguments.length){var t=arguments[0];return this.snap(t,null,-1)}if(3===arguments.length){var n=arguments[0],e=arguments[1],i=arguments[2],o=n.getSafeEnvelope(),l=new pi(n,e,i);return this._index.query(o,{interfaces_:function(){return[An]},visitItem:function(t){t.select(o,l)}}),l.isNodeAdded()}},ci.prototype.interfaces_=function(){return[]},ci.prototype.getClass=function(){return ci},ui.HotPixelSnapAction.get=function(){return pi},Object.defineProperties(ci,ui);var pi=function(t){function n(){t.call(this),this._hotPixel=null,this._parentEdge=null,this._hotPixelVertexIndex=null,this._isNodeAdded=!1;var n=arguments[0],e=arguments[1],i=arguments[2];this._hotPixel=n,this._parentEdge=e,this._hotPixelVertexIndex=i}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.isNodeAdded=function(){return this._isNodeAdded},n.prototype.select=function(){if(2!==arguments.length)return t.prototype.select.apply(this,arguments);var n=arguments[1],e=arguments[0].getContext();if(null!==this._parentEdge&&e===this._parentEdge&&n===this._hotPixelVertexIndex)return null;this._isNodeAdded=this._hotPixel.addSnappedNode(e,n)},n.prototype.interfaces_=function(){return[]},n.prototype.getClass=function(){return n},n}(di),hi=function(){this._li=null,this._interiorIntersections=null;var t=arguments[0];this._li=t,this._interiorIntersections=new vt};hi.prototype.processIntersections=function(t,n,e,i){if(t===e&&n===i)return null;var o=t.getCoordinates()[n],l=t.getCoordinates()[n+1],s=e.getCoordinates()[i],r=e.getCoordinates()[i+1];if(this._li.computeIntersection(o,l,s,r),this._li.hasIntersection()&&this._li.isInteriorIntersection()){for(var a=0;a<this._li.getIntersectionNum();a++)this._interiorIntersections.add(this._li.getIntersection(a));t.addIntersections(this._li,n,0),e.addIntersections(this._li,i,1)}},hi.prototype.isDone=function(){return!1},hi.prototype.getInteriorIntersections=function(){return this._interiorIntersections},hi.prototype.interfaces_=function(){return[Qe]},hi.prototype.getClass=function(){return hi};var mi=function(){this._pm=null,this._li=null,this._scaleFactor=null,this._noder=null,this._pointSnapper=null,this._nodedSegStrings=null;var t=arguments[0];this._pm=t,this._li=new ot,this._li.setPrecisionModel(t),this._scaleFactor=t.getScale()};mi.prototype.checkCorrectness=function(t){var n=me.getNodedSubstrings(t),e=new li(n);try{e.checkValid()}catch(t){if(!(t instanceof k))throw t;t.printStackTrace()}},mi.prototype.getNodedSubstrings=function(){return me.getNodedSubstrings(this._nodedSegStrings)},mi.prototype.snapRound=function(t,n){var e=this.findInteriorIntersections(t,n);this.computeIntersectionSnaps(e),this.computeVertexSnaps(t)},mi.prototype.findInteriorIntersections=function(t,n){var e=new hi(n);return this._noder.setSegmentIntersector(e),this._noder.computeNodes(t),e.getInteriorIntersections()},mi.prototype.computeVertexSnaps=function(){if(H(arguments[0],Gt))for(var t=arguments[0].iterator();t.hasNext();){var n=t.next();this.computeVertexSnaps(n)}else if(arguments[0]instanceof me)for(var e=arguments[0],i=e.getCoordinates(),o=0;o<i.length;o++){var l=new ri(i[o],this._scaleFactor,this._li);this._pointSnapper.snap(l,e,o)&&e.addIntersection(i[o],o)}},mi.prototype.computeNodes=function(t){this._nodedSegStrings=t,this._noder=new ge,this._pointSnapper=new ci(this._noder.getIndex()),this.snapRound(t,this._li)},mi.prototype.computeIntersectionSnaps=function(t){for(var n=t.iterator();n.hasNext();){var e=n.next(),i=new ri(e,this._scaleFactor,this._li);this._pointSnapper.snap(i)}},mi.prototype.interfaces_=function(){return[Ge]},mi.prototype.getClass=function(){return mi};var bi=function(){if(this._argGeom=null,this._distance=null,this._bufParams=new Ve,this._resultGeometry=null,this._saveException=null,1===arguments.length){var t=arguments[0];this._argGeom=t}else if(2===arguments.length){var n=arguments[0],e=arguments[1];this._argGeom=n,this._bufParams=e}},yi={CAP_ROUND:{configurable:!0},CAP_BUTT:{configurable:!0},CAP_FLAT:{configurable:!0},CAP_SQUARE:{configurable:!0},MAX_PRECISION_DIGITS:{configurable:!0}};bi.prototype.bufferFixedPrecision=function(t){var n=new oi(new mi(new mn(1)),t.getScale()),e=new ii(this._bufParams);e.setWorkingPrecisionModel(t),e.setNoder(n),this._resultGeometry=e.buffer(this._argGeom,this._distance)},bi.prototype.bufferReducedPrecision=function(){var t=this;if(0===arguments.length){for(var n=bi.MAX_PRECISION_DIGITS;n>=0;n--){try{t.bufferReducedPrecision(n)}catch(n){if(!(n instanceof Kn))throw n;t._saveException=n}if(null!==t._resultGeometry)return null}throw this._saveException}if(1===arguments.length){var e=arguments[0],i=bi.precisionScaleFactor(this._argGeom,this._distance,e),o=new mn(i);this.bufferFixedPrecision(o)}},bi.prototype.computeGeometry=function(){if(this.bufferOriginalPrecision(),null!==this._resultGeometry)return null;var t=this._argGeom.getFactory().getPrecisionModel();t.getType()===mn.FIXED?this.bufferFixedPrecision(t):this.bufferReducedPrecision()},bi.prototype.setQuadrantSegments=function(t){this._bufParams.setQuadrantSegments(t)},bi.prototype.bufferOriginalPrecision=function(){try{var t=new ii(this._bufParams);this._resultGeometry=t.buffer(this._argGeom,this._distance)}catch(t){if(!(t instanceof $))throw t;this._saveException=t}},bi.prototype.getResultGeometry=function(t){return this._distance=t,this.computeGeometry(),this._resultGeometry},bi.prototype.setEndCapStyle=function(t){this._bufParams.setEndCapStyle(t)},bi.prototype.interfaces_=function(){return[]},bi.prototype.getClass=function(){return bi},bi.bufferOp=function(){if(2===arguments.length){var t=arguments[1];return new bi(arguments[0]).getResultGeometry(t)}if(3===arguments.length){if(Number.isInteger(arguments[2])&&arguments[0]instanceof ct&&"number"==typeof arguments[1]){var n=arguments[1],e=arguments[2],i=new bi(arguments[0]);return i.setQuadrantSegments(e),i.getResultGeometry(n)}if(arguments[2]instanceof Ve&&arguments[0]instanceof ct&&"number"==typeof arguments[1]){var o=arguments[1];return new bi(arguments[0],arguments[2]).getResultGeometry(o)}}else if(4===arguments.length){var l=arguments[1],s=arguments[2],r=arguments[3],a=new bi(arguments[0]);return a.setQuadrantSegments(s),a.setEndCapStyle(r),a.getResultGeometry(l)}},bi.precisionScaleFactor=function(t,n,e){var i=t.getEnvelopeInternal(),o=C.max(Math.abs(i.getMaxX()),Math.abs(i.getMaxY()),Math.abs(i.getMinX()),Math.abs(i.getMinY()))+2*(n>0?n:0),l=e-Math.trunc(Math.log(o)/Math.log(10)+1);return Math.pow(10,l)},yi.CAP_ROUND.get=function(){return Ve.CAP_ROUND},yi.CAP_BUTT.get=function(){return Ve.CAP_FLAT},yi.CAP_FLAT.get=function(){return Ve.CAP_FLAT},yi.CAP_SQUARE.get=function(){return Ve.CAP_SQUARE},yi.MAX_PRECISION_DIGITS.get=function(){return 12},Object.defineProperties(bi,yi);var Zi=function(){this._pt=[new V,new V],this._distance=f.NaN,this._isNull=!0};Zi.prototype.getCoordinates=function(){return this._pt},Zi.prototype.getCoordinate=function(t){return this._pt[t]},Zi.prototype.setMinimum=function(){if(1===arguments.length){var t=arguments[0];this.setMinimum(t._pt[0],t._pt[1])}else if(2===arguments.length){var n=arguments[0],e=arguments[1];if(this._isNull)return this.initialize(n,e),null;var i=n.distance(e);i<this._distance&&this.initialize(n,e,i)}},Zi.prototype.initialize=function(){if(0===arguments.length)this._isNull=!0;else if(2===arguments.length){var t=arguments[0],n=arguments[1];this._pt[0].setCoordinate(t),this._pt[1].setCoordinate(n),this._distance=t.distance(n),this._isNull=!1}else if(3===arguments.length){var e=arguments[0],i=arguments[1],o=arguments[2];this._pt[0].setCoordinate(e),this._pt[1].setCoordinate(i),this._distance=o,this._isNull=!1}},Zi.prototype.getDistance=function(){return this._distance},Zi.prototype.setMaximum=function(){if(1===arguments.length){var t=arguments[0];this.setMaximum(t._pt[0],t._pt[1])}else if(2===arguments.length){var n=arguments[0],e=arguments[1];if(this._isNull)return this.initialize(n,e),null;var i=n.distance(e);i>this._distance&&this.initialize(n,e,i)}},Zi.prototype.interfaces_=function(){return[]},Zi.prototype.getClass=function(){return Zi};var Xi=function(){};Xi.prototype.interfaces_=function(){return[]},Xi.prototype.getClass=function(){return Xi},Xi.computeDistance=function(){if(arguments[2]instanceof Zi&&arguments[0]instanceof Ot&&arguments[1]instanceof V)for(var t=arguments[1],n=arguments[2],e=arguments[0].getCoordinates(),i=new be,o=0;o<e.length-1;o++){i.setCoordinates(e[o],e[o+1]);var l=i.closestPoint(t);n.setMinimum(l,t)}else if(arguments[2]instanceof Zi&&arguments[0]instanceof $t&&arguments[1]instanceof V){var s=arguments[0],r=arguments[1],a=arguments[2];Xi.computeDistance(s.getExteriorRing(),r,a);for(var d=0;d<s.getNumInteriorRing();d++)Xi.computeDistance(s.getInteriorRingN(d),r,a)}else if(arguments[2]instanceof Zi&&arguments[0]instanceof ct&&arguments[1]instanceof V){var c=arguments[0],u=arguments[1],p=arguments[2];if(c instanceof Ot)Xi.computeDistance(c,u,p);else if(c instanceof $t)Xi.computeDistance(c,u,p);else if(c instanceof kt)for(var h=c,m=0;m<h.getNumGeometries();m++){var b=h.getGeometryN(m);Xi.computeDistance(b,u,p)}else p.setMinimum(c.getCoordinate(),u)}else if(arguments[2]instanceof Zi&&arguments[0]instanceof be&&arguments[1]instanceof V){var y=arguments[1],Z=arguments[2],X=arguments[0].closestPoint(y);Z.setMinimum(X,y)}};var fi=function(t){this._maxPtDist=new Zi,this._inputGeom=t||null},Gi={MaxPointDistanceFilter:{configurable:!0},MaxMidpointDistanceFilter:{configurable:!0}};fi.prototype.computeMaxMidpointDistance=function(t){var n=new gi(this._inputGeom);t.apply(n),this._maxPtDist.setMaximum(n.getMaxPointDistance())},fi.prototype.computeMaxVertexDistance=function(t){var n=new Wi(this._inputGeom);t.apply(n),this._maxPtDist.setMaximum(n.getMaxPointDistance())},fi.prototype.findDistance=function(t){return this.computeMaxVertexDistance(t),this.computeMaxMidpointDistance(t),this._maxPtDist.getDistance()},fi.prototype.getDistancePoints=function(){return this._maxPtDist},fi.prototype.interfaces_=function(){return[]},fi.prototype.getClass=function(){return fi},Gi.MaxPointDistanceFilter.get=function(){return Wi},Gi.MaxMidpointDistanceFilter.get=function(){return gi},Object.defineProperties(fi,Gi);var Wi=function(t){this._maxPtDist=new Zi,this._minPtDist=new Zi,this._geom=t||null};Wi.prototype.filter=function(t){this._minPtDist.initialize(),Xi.computeDistance(this._geom,t,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},Wi.prototype.getMaxPointDistance=function(){return this._maxPtDist},Wi.prototype.interfaces_=function(){return[ht]},Wi.prototype.getClass=function(){return Wi};var gi=function(t){this._maxPtDist=new Zi,this._minPtDist=new Zi,this._geom=t||null};gi.prototype.filter=function(t,n){if(0===n)return null;var e=t.getCoordinate(n-1),i=t.getCoordinate(n),o=new V((e.x+i.x)/2,(e.y+i.y)/2);this._minPtDist.initialize(),Xi.computeDistance(this._geom,o,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},gi.prototype.isDone=function(){return!1},gi.prototype.isGeometryChanged=function(){return!1},gi.prototype.getMaxPointDistance=function(){return this._maxPtDist},gi.prototype.interfaces_=function(){return[Ft]},gi.prototype.getClass=function(){return gi};var vi=function(t){this._comps=t||null};vi.prototype.filter=function(t){t instanceof $t&&this._comps.add(t)},vi.prototype.interfaces_=function(){return[Nt]},vi.prototype.getClass=function(){return vi},vi.getPolygons=function(){if(1===arguments.length){var t=arguments[0];return vi.getPolygons(t,new vt)}if(2===arguments.length){var n=arguments[0],e=arguments[1];return n instanceof $t?e.add(n):n instanceof kt&&n.apply(new vi(e)),e}};var Vi=function(){if(this._lines=null,this._isForcedToLineString=!1,1===arguments.length){var t=arguments[0];this._lines=t}else if(2===arguments.length){var n=arguments[0],e=arguments[1];this._lines=n,this._isForcedToLineString=e}};Vi.prototype.filter=function(t){if(this._isForcedToLineString&&t instanceof nn){var n=t.getFactory().createLineString(t.getCoordinateSequence());return this._lines.add(n),null}t instanceof Ot&&this._lines.add(t)},Vi.prototype.setForceToLineString=function(t){this._isForcedToLineString=t},Vi.prototype.interfaces_=function(){return[dt]},Vi.prototype.getClass=function(){return Vi},Vi.getGeometry=function(){if(1===arguments.length){var t=arguments[0];return t.getFactory().buildGeometry(Vi.getLines(t))}if(2===arguments.length){var n=arguments[0],e=arguments[1];return n.getFactory().buildGeometry(Vi.getLines(n,e))}},Vi.getLines=function(){if(1===arguments.length){var t=arguments[0];return Vi.getLines(t,!1)}if(2===arguments.length){if(H(arguments[0],Gt)&&H(arguments[1],Gt)){for(var n=arguments[1],e=arguments[0].iterator();e.hasNext();){var i=e.next();Vi.getLines(i,n)}return n}if(arguments[0]instanceof ct&&"boolean"==typeof arguments[1]){var o=arguments[0],l=arguments[1],s=new vt;return o.apply(new Vi(s,l)),s}if(arguments[0]instanceof ct&&H(arguments[1],Gt)){var r=arguments[0],a=arguments[1];return r instanceof Ot?a.add(r):r.apply(new Vi(a)),a}}else if(3===arguments.length){if("boolean"==typeof arguments[2]&&H(arguments[0],Gt)&&H(arguments[1],Gt)){for(var d=arguments[1],c=arguments[2],u=arguments[0].iterator();u.hasNext();){var p=u.next();Vi.getLines(p,d,c)}return d}if("boolean"==typeof arguments[2]&&arguments[0]instanceof ct&&H(arguments[1],Gt)){var h=arguments[1],m=arguments[2];return arguments[0].apply(new Vi(h,m)),h}}};var xi=function(){if(this._boundaryRule=mt.OGC_SFS_BOUNDARY_RULE,this._isIn=null,this._numBoundaries=null,0===arguments.length);else if(1===arguments.length){var t=arguments[0];if(null===t)throw new X("Rule must be non-null");this._boundaryRule=t}};xi.prototype.locateInternal=function(){if(arguments[0]instanceof V&&arguments[1]instanceof $t){var t=arguments[0],n=arguments[1];if(n.isEmpty())return R.EXTERIOR;var e=n.getExteriorRing(),i=this.locateInPolygonRing(t,e);if(i===R.EXTERIOR)return R.EXTERIOR;if(i===R.BOUNDARY)return R.BOUNDARY;for(var o=0;o<n.getNumInteriorRing();o++){var l=n.getInteriorRingN(o),s=this.locateInPolygonRing(t,l);if(s===R.INTERIOR)return R.EXTERIOR;if(s===R.BOUNDARY)return R.BOUNDARY}return R.INTERIOR}if(arguments[0]instanceof V&&arguments[1]instanceof Ot){var r=arguments[0],a=arguments[1];if(!a.getEnvelopeInternal().intersects(r))return R.EXTERIOR;var d=a.getCoordinates();return a.isClosed()||!r.equals(d[0])&&!r.equals(d[d.length-1])?rt.isOnLine(r,d)?R.INTERIOR:R.EXTERIOR:R.BOUNDARY}if(arguments[0]instanceof V&&arguments[1]instanceof Dt){var c=arguments[0];return arguments[1].getCoordinate().equals2D(c)?R.INTERIOR:R.EXTERIOR}},xi.prototype.locateInPolygonRing=function(t,n){return n.getEnvelopeInternal().intersects(t)?rt.locatePointInRing(t,n.getCoordinates()):R.EXTERIOR},xi.prototype.intersects=function(t,n){return this.locate(t,n)!==R.EXTERIOR},xi.prototype.updateLocationInfo=function(t){t===R.INTERIOR&&(this._isIn=!0),t===R.BOUNDARY&&this._numBoundaries++},xi.prototype.computeLocation=function(t,n){if(n instanceof Dt&&this.updateLocationInfo(this.locateInternal(t,n)),n instanceof Ot)this.updateLocationInfo(this.locateInternal(t,n));else if(n instanceof $t)this.updateLocationInfo(this.locateInternal(t,n));else if(n instanceof Bt)for(var e=n,i=0;i<e.getNumGeometries();i++){var o=e.getGeometryN(i);this.updateLocationInfo(this.locateInternal(t,o))}else if(n instanceof en)for(var l=n,s=0;s<l.getNumGeometries();s++){var r=l.getGeometryN(s);this.updateLocationInfo(this.locateInternal(t,r))}else if(n instanceof kt)for(var a=new Fe(n);a.hasNext();){var d=a.next();d!==n&&this.computeLocation(t,d)}},xi.prototype.locate=function(t,n){return n.isEmpty()?R.EXTERIOR:n instanceof Ot||n instanceof $t?this.locateInternal(t,n):(this._isIn=!1,this._numBoundaries=0,this.computeLocation(t,n),this._boundaryRule.isInBoundary(this._numBoundaries)?R.BOUNDARY:this._numBoundaries>0||this._isIn?R.INTERIOR:R.EXTERIOR)},xi.prototype.interfaces_=function(){return[]},xi.prototype.getClass=function(){return xi};var Si=function t(){if(this._component=null,this._segIndex=null,this._pt=null,2===arguments.length)t.call(this,arguments[0],t.INSIDE_AREA,arguments[1]);else if(3===arguments.length){var n=arguments[0],e=arguments[1],i=arguments[2];this._component=n,this._segIndex=e,this._pt=i}},Li={INSIDE_AREA:{configurable:!0}};Si.prototype.isInsideArea=function(){return this._segIndex===Si.INSIDE_AREA},Si.prototype.getCoordinate=function(){return this._pt},Si.prototype.getGeometryComponent=function(){return this._component},Si.prototype.getSegmentIndex=function(){return this._segIndex},Si.prototype.interfaces_=function(){return[]},Si.prototype.getClass=function(){return Si},Li.INSIDE_AREA.get=function(){return-1},Object.defineProperties(Si,Li);var Ri=function(t){this._pts=t||null};Ri.prototype.filter=function(t){t instanceof Dt&&this._pts.add(t)},Ri.prototype.interfaces_=function(){return[Nt]},Ri.prototype.getClass=function(){return Ri},Ri.getPoints=function(){if(1===arguments.length){var t=arguments[0];return t instanceof Dt?te.singletonList(t):Ri.getPoints(t,new vt)}if(2===arguments.length){var n=arguments[0],e=arguments[1];return n instanceof Dt?e.add(n):n instanceof kt&&n.apply(new Ri(e)),e}};var Ki=function(){this._locations=null;var t=arguments[0];this._locations=t};Ki.prototype.filter=function(t){(t instanceof Dt||t instanceof Ot||t instanceof $t)&&this._locations.add(new Si(t,0,t.getCoordinate()))},Ki.prototype.interfaces_=function(){return[Nt]},Ki.prototype.getClass=function(){return Ki},Ki.getLocations=function(t){var n=new vt;return t.apply(new Ki(n)),n};var Hi=function(){if(this._geom=null,this._terminateDistance=0,this._ptLocator=new xi,this._minDistanceLocation=null,this._minDistance=f.MAX_VALUE,2===arguments.length){var t=arguments[0],n=arguments[1];this._geom=[t,n],this._terminateDistance=0}else if(3===arguments.length){var e=arguments[0],i=arguments[1],o=arguments[2];this._geom=new Array(2).fill(null),this._geom[0]=e,this._geom[1]=i,this._terminateDistance=o}};Hi.prototype.computeContainmentDistance=function(){if(0===arguments.length){var t=new Array(2).fill(null);if(this.computeContainmentDistance(0,t),this._minDistance<=this._terminateDistance)return null;this.computeContainmentDistance(1,t)}else if(2===arguments.length){var n=arguments[0],e=arguments[1],i=1-n,o=vi.getPolygons(this._geom[n]);if(o.size()>0){var l=Ki.getLocations(this._geom[i]);if(this.computeContainmentDistance(l,o,e),this._minDistance<=this._terminateDistance)return this._minDistanceLocation[i]=e[0],this._minDistanceLocation[n]=e[1],null}}else if(3===arguments.length)if(arguments[2]instanceof Array&&H(arguments[0],gt)&&H(arguments[1],gt)){for(var s=arguments[0],r=arguments[1],a=arguments[2],d=0;d<s.size();d++)for(var c=s.get(d),u=0;u<r.size();u++)if(this.computeContainmentDistance(c,r.get(u),a),this._minDistance<=this._terminateDistance)return null}else if(arguments[2]instanceof Array&&arguments[0]instanceof Si&&arguments[1]instanceof $t){var p=arguments[0],h=arguments[1],m=arguments[2],b=p.getCoordinate();if(R.EXTERIOR!==this._ptLocator.locate(b,h))return this._minDistance=0,m[0]=p,m[1]=new Si(h,b),null}},Hi.prototype.computeMinDistanceLinesPoints=function(t,n,e){for(var i=0;i<t.size();i++)for(var o=t.get(i),l=0;l<n.size();l++){var s=n.get(l);if(this.computeMinDistance(o,s,e),this._minDistance<=this._terminateDistance)return null}},Hi.prototype.computeFacetDistance=function(){var t=new Array(2).fill(null),n=Vi.getLines(this._geom[0]),e=Vi.getLines(this._geom[1]),i=Ri.getPoints(this._geom[0]),o=Ri.getPoints(this._geom[1]);return this.computeMinDistanceLines(n,e,t),this.updateMinDistance(t,!1),this._minDistance<=this._terminateDistance?null:(t[0]=null,t[1]=null,this.computeMinDistanceLinesPoints(n,o,t),this.updateMinDistance(t,!1),this._minDistance<=this._terminateDistance?null:(t[0]=null,t[1]=null,this.computeMinDistanceLinesPoints(e,i,t),this.updateMinDistance(t,!0),this._minDistance<=this._terminateDistance?null:(t[0]=null,t[1]=null,this.computeMinDistancePoints(i,o,t),void this.updateMinDistance(t,!1))))},Hi.prototype.nearestLocations=function(){return this.computeMinDistance(),this._minDistanceLocation},Hi.prototype.updateMinDistance=function(t,n){if(null===t[0])return null;n?(this._minDistanceLocation[0]=t[1],this._minDistanceLocation[1]=t[0]):(this._minDistanceLocation[0]=t[0],this._minDistanceLocation[1]=t[1])},Hi.prototype.nearestPoints=function(){return this.computeMinDistance(),[this._minDistanceLocation[0].getCoordinate(),this._minDistanceLocation[1].getCoordinate()]},Hi.prototype.computeMinDistance=function(){if(0===arguments.length){if(null!==this._minDistanceLocation)return null;if(this._minDistanceLocation=new Array(2).fill(null),this.computeContainmentDistance(),this._minDistance<=this._terminateDistance)return null;this.computeFacetDistance()}else if(3===arguments.length)if(arguments[2]instanceof Array&&arguments[0]instanceof Ot&&arguments[1]instanceof Dt){var t=arguments[0],n=arguments[1],e=arguments[2];if(t.getEnvelopeInternal().distance(n.getEnvelopeInternal())>this._minDistance)return null;for(var i=t.getCoordinates(),o=n.getCoordinate(),l=0;l<i.length-1;l++){var s=rt.distancePointLine(o,i[l],i[l+1]);if(s<this._minDistance){this._minDistance=s;var r=new be(i[l],i[l+1]).closestPoint(o);e[0]=new Si(t,l,r),e[1]=new Si(n,0,o)}if(this._minDistance<=this._terminateDistance)return null}}else if(arguments[2]instanceof Array&&arguments[0]instanceof Ot&&arguments[1]instanceof Ot){var a=arguments[0],d=arguments[1],c=arguments[2];if(a.getEnvelopeInternal().distance(d.getEnvelopeInternal())>this._minDistance)return null;for(var u=a.getCoordinates(),p=d.getCoordinates(),h=0;h<u.length-1;h++)for(var m=0;m<p.length-1;m++){var b=rt.distanceLineLine(u[h],u[h+1],p[m],p[m+1]);if(b<this._minDistance){this._minDistance=b;var y=new be(u[h],u[h+1]),Z=new be(p[m],p[m+1]),X=y.closestPoints(Z);c[0]=new Si(a,h,X[0]),c[1]=new Si(d,m,X[1])}if(this._minDistance<=this._terminateDistance)return null}}},Hi.prototype.computeMinDistancePoints=function(t,n,e){for(var i=0;i<t.size();i++)for(var o=t.get(i),l=0;l<n.size();l++){var s=n.get(l),r=o.getCoordinate().distance(s.getCoordinate());if(r<this._minDistance&&(this._minDistance=r,e[0]=new Si(o,0,o.getCoordinate()),e[1]=new Si(s,0,s.getCoordinate())),this._minDistance<=this._terminateDistance)return null}},Hi.prototype.distance=function(){if(null===this._geom[0]||null===this._geom[1])throw new X("null geometries are not supported");return this._geom[0].isEmpty()||this._geom[1].isEmpty()?0:(this.computeMinDistance(),this._minDistance)},Hi.prototype.computeMinDistanceLines=function(t,n,e){for(var i=0;i<t.size();i++)for(var o=t.get(i),l=0;l<n.size();l++){var s=n.get(l);if(this.computeMinDistance(o,s,e),this._minDistance<=this._terminateDistance)return null}},Hi.prototype.interfaces_=function(){return[]},Hi.prototype.getClass=function(){return Hi},Hi.distance=function(t,n){return new Hi(t,n).distance()},Hi.isWithinDistance=function(t,n,e){return new Hi(t,n,e).distance()<=e},Hi.nearestPoints=function(t,n){return new Hi(t,n).nearestPoints()};var Ci=function(){this._pt=[new V,new V],this._distance=f.NaN,this._isNull=!0};Ci.prototype.getCoordinates=function(){return this._pt},Ci.prototype.getCoordinate=function(t){return this._pt[t]},Ci.prototype.setMinimum=function(){if(1===arguments.length){var t=arguments[0];this.setMinimum(t._pt[0],t._pt[1])}else if(2===arguments.length){var n=arguments[0],e=arguments[1];if(this._isNull)return this.initialize(n,e),null;var i=n.distance(e);i<this._distance&&this.initialize(n,e,i)}},Ci.prototype.initialize=function(){if(0===arguments.length)this._isNull=!0;else if(2===arguments.length){var t=arguments[0],n=arguments[1];this._pt[0].setCoordinate(t),this._pt[1].setCoordinate(n),this._distance=t.distance(n),this._isNull=!1}else if(3===arguments.length){var e=arguments[0],i=arguments[1],o=arguments[2];this._pt[0].setCoordinate(e),this._pt[1].setCoordinate(i),this._distance=o,this._isNull=!1}},Ci.prototype.toString=function(){return q.toLineString(this._pt[0],this._pt[1])},Ci.prototype.getDistance=function(){return this._distance},Ci.prototype.setMaximum=function(){if(1===arguments.length){var t=arguments[0];this.setMaximum(t._pt[0],t._pt[1])}else if(2===arguments.length){var n=arguments[0],e=arguments[1];if(this._isNull)return this.initialize(n,e),null;var i=n.distance(e);i>this._distance&&this.initialize(n,e,i)}},Ci.prototype.interfaces_=function(){return[]},Ci.prototype.getClass=function(){return Ci};var Yi=function(){};Yi.prototype.interfaces_=function(){return[]},Yi.prototype.getClass=function(){return Yi},Yi.computeDistance=function(){if(arguments[2]instanceof Ci&&arguments[0]instanceof Ot&&arguments[1]instanceof V)for(var t=arguments[0],n=arguments[1],e=arguments[2],i=new be,o=t.getCoordinates(),l=0;l<o.length-1;l++){i.setCoordinates(o[l],o[l+1]);var s=i.closestPoint(n);e.setMinimum(s,n)}else if(arguments[2]instanceof Ci&&arguments[0]instanceof $t&&arguments[1]instanceof V){var r=arguments[0],a=arguments[1],d=arguments[2];Yi.computeDistance(r.getExteriorRing(),a,d);for(var c=0;c<r.getNumInteriorRing();c++)Yi.computeDistance(r.getInteriorRingN(c),a,d)}else if(arguments[2]instanceof Ci&&arguments[0]instanceof ct&&arguments[1]instanceof V){var u=arguments[0],p=arguments[1],h=arguments[2];if(u instanceof Ot)Yi.computeDistance(u,p,h);else if(u instanceof $t)Yi.computeDistance(u,p,h);else if(u instanceof kt)for(var m=u,b=0;b<m.getNumGeometries();b++){var y=m.getGeometryN(b);Yi.computeDistance(y,p,h)}else h.setMinimum(u.getCoordinate(),p)}else if(arguments[2]instanceof Ci&&arguments[0]instanceof be&&arguments[1]instanceof V){var Z=arguments[1],X=arguments[2],f=arguments[0].closestPoint(Z);X.setMinimum(f,Z)}};var Ti=function(){this._g0=null,this._g1=null,this._ptDist=new Ci,this._densifyFrac=0;var t=arguments[0],n=arguments[1];this._g0=t,this._g1=n},Mi={MaxPointDistanceFilter:{configurable:!0},MaxDensifiedByFractionDistanceFilter:{configurable:!0}};Ti.prototype.getCoordinates=function(){return this._ptDist.getCoordinates()},Ti.prototype.setDensifyFraction=function(t){if(t>1||t<=0)throw new X("Fraction is not in range (0.0 - 1.0]");this._densifyFrac=t},Ti.prototype.compute=function(t,n){this.computeOrientedDistance(t,n,this._ptDist),this.computeOrientedDistance(n,t,this._ptDist)},Ti.prototype.distance=function(){return this.compute(this._g0,this._g1),this._ptDist.getDistance()},Ti.prototype.computeOrientedDistance=function(t,n,e){var i=new wi(n);if(t.apply(i),e.setMaximum(i.getMaxPointDistance()),this._densifyFrac>0){var o=new Pi(n,this._densifyFrac);t.apply(o),e.setMaximum(o.getMaxPointDistance())}},Ti.prototype.orientedDistance=function(){return this.computeOrientedDistance(this._g0,this._g1,this._ptDist),this._ptDist.getDistance()},Ti.prototype.interfaces_=function(){return[]},Ti.prototype.getClass=function(){return Ti},Ti.distance=function(){if(2===arguments.length)return new Ti(arguments[0],arguments[1]).distance();if(3===arguments.length){var t=arguments[2],n=new Ti(arguments[0],arguments[1]);return n.setDensifyFraction(t),n.distance()}},Mi.MaxPointDistanceFilter.get=function(){return wi},Mi.MaxDensifiedByFractionDistanceFilter.get=function(){return Pi},Object.defineProperties(Ti,Mi);var wi=function(){this._maxPtDist=new Ci,this._minPtDist=new Ci,this._euclideanDist=new Yi,this._geom=null;var t=arguments[0];this._geom=t};wi.prototype.filter=function(t){this._minPtDist.initialize(),Yi.computeDistance(this._geom,t,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},wi.prototype.getMaxPointDistance=function(){return this._maxPtDist},wi.prototype.interfaces_=function(){return[ht]},wi.prototype.getClass=function(){return wi};var Pi=function(){this._maxPtDist=new Ci,this._minPtDist=new Ci,this._geom=null,this._numSubSegs=0;var t=arguments[0],n=arguments[1];this._geom=t,this._numSubSegs=Math.trunc(Math.round(1/n))};Pi.prototype.filter=function(t,n){if(0===n)return null;for(var e=t.getCoordinate(n-1),i=t.getCoordinate(n),o=(i.x-e.x)/this._numSubSegs,l=(i.y-e.y)/this._numSubSegs,s=0;s<this._numSubSegs;s++){var r=e.x+s*o,a=e.y+s*l,d=new V(r,a);this._minPtDist.initialize(),Yi.computeDistance(this._geom,d,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)}},Pi.prototype.isDone=function(){return!1},Pi.prototype.isGeometryChanged=function(){return!1},Pi.prototype.getMaxPointDistance=function(){return this._maxPtDist},Pi.prototype.interfaces_=function(){return[Ft]},Pi.prototype.getClass=function(){return Pi};var Ii=function(t,n,e){this._minValidDistance=null,this._maxValidDistance=null,this._minDistanceFound=null,this._maxDistanceFound=null,this._isValid=!0,this._errMsg=null,this._errorLocation=null,this._errorIndicator=null,this._input=t||null,this._bufDistance=n||null,this._result=e||null},zi={VERBOSE:{configurable:!0},MAX_DISTANCE_DIFF_FRAC:{configurable:!0}};Ii.prototype.checkMaximumDistance=function(t,n,e){var i=new Ti(n,t);if(i.setDensifyFraction(.25),this._maxDistanceFound=i.orientedDistance(),this._maxDistanceFound>e){this._isValid=!1;var o=i.getCoordinates();this._errorLocation=o[1],this._errorIndicator=t.getFactory().createLineString(o),this._errMsg="Distance between buffer curve and input is too large ("+this._maxDistanceFound+" at "+q.toLineString(o[0],o[1])+")"}},Ii.prototype.isValid=function(){var t=Math.abs(this._bufDistance),n=Ii.MAX_DISTANCE_DIFF_FRAC*t;return this._minValidDistance=t-n,this._maxValidDistance=t+n,!(!this._input.isEmpty()&&!this._result.isEmpty())||(this._bufDistance>0?this.checkPositiveValid():this.checkNegativeValid(),Ii.VERBOSE&&_.out.println("Min Dist= "+this._minDistanceFound+"  err= "+(1-this._minDistanceFound/this._bufDistance)+"  Max Dist= "+this._maxDistanceFound+"  err= "+(this._maxDistanceFound/this._bufDistance-1)),this._isValid)},Ii.prototype.checkNegativeValid=function(){if(!(this._input instanceof $t||this._input instanceof en||this._input instanceof kt))return null;var t=this.getPolygonLines(this._input);if(this.checkMinimumDistance(t,this._result,this._minValidDistance),!this._isValid)return null;this.checkMaximumDistance(t,this._result,this._maxValidDistance)},Ii.prototype.getErrorIndicator=function(){return this._errorIndicator},Ii.prototype.checkMinimumDistance=function(t,n,e){var i=new Hi(t,n,e);if(this._minDistanceFound=i.distance(),this._minDistanceFound<e){this._isValid=!1;var o=i.nearestPoints();this._errorLocation=i.nearestPoints()[1],this._errorIndicator=t.getFactory().createLineString(o),this._errMsg="Distance between buffer curve and input is too small ("+this._minDistanceFound+" at "+q.toLineString(o[0],o[1])+" )"}},Ii.prototype.checkPositiveValid=function(){var t=this._result.getBoundary();if(this.checkMinimumDistance(this._input,t,this._minValidDistance),!this._isValid)return null;this.checkMaximumDistance(this._input,t,this._maxValidDistance)},Ii.prototype.getErrorLocation=function(){return this._errorLocation},Ii.prototype.getPolygonLines=function(t){for(var n=new vt,e=new Vi(n),i=vi.getPolygons(t).iterator();i.hasNext();)i.next().apply(e);return t.getFactory().buildGeometry(n)},Ii.prototype.getErrorMessage=function(){return this._errMsg},Ii.prototype.interfaces_=function(){return[]},Ii.prototype.getClass=function(){return Ii},zi.VERBOSE.get=function(){return!1},zi.MAX_DISTANCE_DIFF_FRAC.get=function(){return.012},Object.defineProperties(Ii,zi);var Ji=function(t,n,e){this._isValid=!0,this._errorMsg=null,this._errorLocation=null,this._errorIndicator=null,this._input=t||null,this._distance=n||null,this._result=e||null},Ni={VERBOSE:{configurable:!0},MAX_ENV_DIFF_FRAC:{configurable:!0}};Ji.prototype.isValid=function(){return this.checkPolygonal(),this._isValid?(this.checkExpectedEmpty(),this._isValid?(this.checkEnvelope(),this._isValid?(this.checkArea(),this._isValid?(this.checkDistance(),this._isValid):this._isValid):this._isValid):this._isValid):this._isValid},Ji.prototype.checkEnvelope=function(){if(this._distance<0)return null;var t=this._distance*Ji.MAX_ENV_DIFF_FRAC;0===t&&(t=.001);var n=new E(this._input.getEnvelopeInternal());n.expandBy(this._distance);var e=new E(this._result.getEnvelopeInternal());e.expandBy(t),e.contains(n)||(this._isValid=!1,this._errorMsg="Buffer envelope is incorrect",this._errorIndicator=this._input.getFactory().toGeometry(e)),this.report("Envelope")},Ji.prototype.checkDistance=function(){var t=new Ii(this._input,this._distance,this._result);t.isValid()||(this._isValid=!1,this._errorMsg=t.getErrorMessage(),this._errorLocation=t.getErrorLocation(),this._errorIndicator=t.getErrorIndicator()),this.report("Distance")},Ji.prototype.checkArea=function(){var t=this._input.getArea(),n=this._result.getArea();this._distance>0&&t>n&&(this._isValid=!1,this._errorMsg="Area of positive buffer is smaller than input",this._errorIndicator=this._result),this._distance<0&&t<n&&(this._isValid=!1,this._errorMsg="Area of negative buffer is larger than input",this._errorIndicator=this._result),this.report("Area")},Ji.prototype.checkPolygonal=function(){this._result instanceof $t||this._result instanceof en||(this._isValid=!1),this._errorMsg="Result is not polygonal",this._errorIndicator=this._result,this.report("Polygonal")},Ji.prototype.getErrorIndicator=function(){return this._errorIndicator},Ji.prototype.getErrorLocation=function(){return this._errorLocation},Ji.prototype.checkExpectedEmpty=function(){return this._input.getDimension()>=2||this._distance>0?null:(this._result.isEmpty()||(this._isValid=!1,this._errorMsg="Result is non-empty",this._errorIndicator=this._result),void this.report("ExpectedEmpty"))},Ji.prototype.report=function(t){if(!Ji.VERBOSE)return null;_.out.println("Check "+t+": "+(this._isValid?"passed":"FAILED"))},Ji.prototype.getErrorMessage=function(){return this._errorMsg},Ji.prototype.interfaces_=function(){return[]},Ji.prototype.getClass=function(){return Ji},Ji.isValidMsg=function(t,n,e){var i=new Ji(t,n,e);return i.isValid()?null:i.getErrorMessage()},Ji.isValid=function(t,n,e){return!!new Ji(t,n,e).isValid()},Ni.VERBOSE.get=function(){return!1},Ni.MAX_ENV_DIFF_FRAC.get=function(){return.012},Object.defineProperties(Ji,Ni);var Fi=function(){this._pts=null,this._data=null;var t=arguments[0],n=arguments[1];this._pts=t,this._data=n};Fi.prototype.getCoordinates=function(){return this._pts},Fi.prototype.size=function(){return this._pts.length},Fi.prototype.getCoordinate=function(t){return this._pts[t]},Fi.prototype.isClosed=function(){return this._pts[0].equals(this._pts[this._pts.length-1])},Fi.prototype.getSegmentOctant=function(t){return t===this._pts.length-1?-1:ue.octant(this.getCoordinate(t),this.getCoordinate(t+1))},Fi.prototype.setData=function(t){this._data=t},Fi.prototype.getData=function(){return this._data},Fi.prototype.toString=function(){return q.toLineString(new dn(this._pts))},Fi.prototype.interfaces_=function(){return[pe]},Fi.prototype.getClass=function(){return Fi};var ki=function(){this._findAllIntersections=!1,this._isCheckEndSegmentsOnly=!1,this._li=null,this._interiorIntersection=null,this._intSegments=null,this._intersections=new vt,this._intersectionCount=0,this._keepIntersections=!0;var t=arguments[0];this._li=t,this._interiorIntersection=null};ki.prototype.getInteriorIntersection=function(){return this._interiorIntersection},ki.prototype.setCheckEndSegmentsOnly=function(t){this._isCheckEndSegmentsOnly=t},ki.prototype.getIntersectionSegments=function(){return this._intSegments},ki.prototype.count=function(){return this._intersectionCount},ki.prototype.getIntersections=function(){return this._intersections},ki.prototype.setFindAllIntersections=function(t){this._findAllIntersections=t},ki.prototype.setKeepIntersections=function(t){this._keepIntersections=t},ki.prototype.processIntersections=function(t,n,e,i){if(!this._findAllIntersections&&this.hasIntersection())return null;if(t===e&&n===i)return null;if(this._isCheckEndSegmentsOnly&&!this.isEndSegment(t,n)&&!this.isEndSegment(e,i))return null;var o=t.getCoordinates()[n],l=t.getCoordinates()[n+1],s=e.getCoordinates()[i],r=e.getCoordinates()[i+1];this._li.computeIntersection(o,l,s,r),this._li.hasIntersection()&&this._li.isInteriorIntersection()&&(this._intSegments=new Array(4).fill(null),this._intSegments[0]=o,this._intSegments[1]=l,this._intSegments[2]=s,this._intSegments[3]=r,this._interiorIntersection=this._li.getIntersection(0),this._keepIntersections&&this._intersections.add(this._interiorIntersection),this._intersectionCount++)},ki.prototype.isEndSegment=function(t,n){return 0===n||n>=t.size()-2},ki.prototype.hasIntersection=function(){return null!==this._interiorIntersection},ki.prototype.isDone=function(){return!this._findAllIntersections&&null!==this._interiorIntersection},ki.prototype.interfaces_=function(){return[Qe]},ki.prototype.getClass=function(){return ki},ki.createAllIntersectionsFinder=function(t){var n=new ki(t);return n.setFindAllIntersections(!0),n},ki.createAnyIntersectionFinder=function(t){return new ki(t)},ki.createIntersectionCounter=function(t){var n=new ki(t);return n.setFindAllIntersections(!0),n.setKeepIntersections(!1),n};var Bi=function(){this._li=new ot,this._segStrings=null,this._findAllIntersections=!1,this._segInt=null,this._isValid=!0;var t=arguments[0];this._segStrings=t};Bi.prototype.execute=function(){if(null!==this._segInt)return null;this.checkInteriorIntersections()},Bi.prototype.getIntersections=function(){return this._segInt.getIntersections()},Bi.prototype.isValid=function(){return this.execute(),this._isValid},Bi.prototype.setFindAllIntersections=function(t){this._findAllIntersections=t},Bi.prototype.checkInteriorIntersections=function(){this._isValid=!0,this._segInt=new ki(this._li),this._segInt.setFindAllIntersections(this._findAllIntersections);var t=new ge;if(t.setSegmentIntersector(this._segInt),t.computeNodes(this._segStrings),this._segInt.hasIntersection())return this._isValid=!1,null},Bi.prototype.checkValid=function(){if(this.execute(),!this._isValid)throw new Kn(this.getErrorMessage(),this._segInt.getInteriorIntersection())},Bi.prototype.getErrorMessage=function(){if(this._isValid)return"no intersections found";var t=this._segInt.getIntersectionSegments();return"found non-noded intersection between "+q.toLineString(t[0],t[1])+" and "+q.toLineString(t[2],t[3])},Bi.prototype.interfaces_=function(){return[]},Bi.prototype.getClass=function(){return Bi},Bi.computeIntersections=function(t){var n=new Bi(t);return n.setFindAllIntersections(!0),n.isValid(),n.getIntersections()};var _i=function t(){this._nv=null;var n=arguments[0];this._nv=new Bi(t.toSegmentStrings(n))};_i.prototype.checkValid=function(){this._nv.checkValid()},_i.prototype.interfaces_=function(){return[]},_i.prototype.getClass=function(){return _i},_i.toSegmentStrings=function(t){for(var n=new vt,e=t.iterator();e.hasNext();){var i=e.next();n.add(new Fi(i.getCoordinates(),i))}return n},_i.checkValid=function(t){new _i(t).checkValid()};var Ui=function(t){this._mapOp=t};Ui.prototype.map=function(t){for(var n=new vt,e=0;e<t.getNumGeometries();e++){var i=this._mapOp.map(t.getGeometryN(e));i.isEmpty()||n.add(i)}return t.getFactory().createGeometryCollection(Xn.toGeometryArray(n))},Ui.prototype.interfaces_=function(){return[]},Ui.prototype.getClass=function(){return Ui},Ui.map=function(t,n){return new Ui(n).map(t)};var Ei=function(){this._op=null,this._geometryFactory=null,this._ptLocator=null,this._lineEdgesList=new vt,this._resultLineList=new vt;var t=arguments[0],n=arguments[1],e=arguments[2];this._op=t,this._geometryFactory=n,this._ptLocator=e};Ei.prototype.collectLines=function(t){for(var n=this._op.getGraph().getEdgeEnds().iterator();n.hasNext();){var e=n.next();this.collectLineEdge(e,t,this._lineEdgesList),this.collectBoundaryTouchEdge(e,t,this._lineEdgesList)}},Ei.prototype.labelIsolatedLine=function(t,n){var e=this._ptLocator.locate(t.getCoordinate(),this._op.getArgGeometry(n));t.getLabel().setLocation(n,e)},Ei.prototype.build=function(t){return this.findCoveredLineEdges(),this.collectLines(t),this.buildLines(t),this._resultLineList},Ei.prototype.collectLineEdge=function(t,n,e){var i=t.getLabel(),o=t.getEdge();t.isLineEdge()&&(t.isVisited()||!Lo.isResultOfOp(i,n)||o.isCovered()||(e.add(o),t.setVisitedEdge(!0)))},Ei.prototype.findCoveredLineEdges=function(){for(var t=this._op.getGraph().getNodes().iterator();t.hasNext();)t.next().getEdges().findCoveredLineEdges();for(var n=this._op.getGraph().getEdgeEnds().iterator();n.hasNext();){var e=n.next(),i=e.getEdge();if(e.isLineEdge()&&!i.isCoveredSet()){var o=this._op.isCoveredByA(e.getCoordinate());i.setCovered(o)}}},Ei.prototype.labelIsolatedLines=function(t){for(var n=t.iterator();n.hasNext();){var e=n.next(),i=e.getLabel();e.isIsolated()&&(i.isNull(0)?this.labelIsolatedLine(e,0):this.labelIsolatedLine(e,1))}},Ei.prototype.buildLines=function(t){for(var n=this._lineEdgesList.iterator();n.hasNext();){var e=n.next(),i=this._geometryFactory.createLineString(e.getCoordinates());this._resultLineList.add(i),e.setInResult(!0)}},Ei.prototype.collectBoundaryTouchEdge=function(t,n,e){var i=t.getLabel();return t.isLineEdge()||t.isVisited()||t.isInteriorAreaEdge()||t.getEdge().isInResult()?null:(nt.isTrue(!(t.isInResult()||t.getSym().isInResult())||!t.getEdge().isInResult()),void(Lo.isResultOfOp(i,n)&&n===Lo.INTERSECTION&&(e.add(t.getEdge()),t.setVisitedEdge(!0))))},Ei.prototype.interfaces_=function(){return[]},Ei.prototype.getClass=function(){return Ei};var ji=function(){this._op=null,this._geometryFactory=null,this._resultPointList=new vt;var t=arguments[0],n=arguments[1];this._op=t,this._geometryFactory=n};ji.prototype.filterCoveredNodeToPoint=function(t){var n=t.getCoordinate();if(!this._op.isCoveredByLA(n)){var e=this._geometryFactory.createPoint(n);this._resultPointList.add(e)}},ji.prototype.extractNonCoveredResultNodes=function(t){for(var n=this._op.getGraph().getNodes().iterator();n.hasNext();){var e=n.next();if(!(e.isInResult()||e.isIncidentEdgeInResult()||0!==e.getEdges().getDegree()&&t!==Lo.INTERSECTION)){var i=e.getLabel();Lo.isResultOfOp(i,t)&&this.filterCoveredNodeToPoint(e)}}},ji.prototype.build=function(t){return this.extractNonCoveredResultNodes(t),this._resultPointList},ji.prototype.interfaces_=function(){return[]},ji.prototype.getClass=function(){return ji};var Qi=function(){this._inputGeom=null,this._factory=null,this._pruneEmptyGeometry=!0,this._preserveGeometryCollectionType=!0,this._preserveCollections=!1,this._preserveType=!1};Qi.prototype.transformPoint=function(t,n){return this._factory.createPoint(this.transformCoordinates(t.getCoordinateSequence(),t))},Qi.prototype.transformPolygon=function(t,n){var e=!0,i=this.transformLinearRing(t.getExteriorRing(),t);null!==i&&i instanceof nn&&!i.isEmpty()||(e=!1);for(var o=new vt,l=0;l<t.getNumInteriorRing();l++){var s=this.transformLinearRing(t.getInteriorRingN(l),t);null===s||s.isEmpty()||(s instanceof nn||(e=!1),o.add(s))}if(e)return this._factory.createPolygon(i,o.toArray([]));var r=new vt;return null!==i&&r.add(i),r.addAll(o),this._factory.buildGeometry(r)},Qi.prototype.createCoordinateSequence=function(t){return this._factory.getCoordinateSequenceFactory().create(t)},Qi.prototype.getInputGeometry=function(){return this._inputGeom},Qi.prototype.transformMultiLineString=function(t,n){for(var e=new vt,i=0;i<t.getNumGeometries();i++){var o=this.transformLineString(t.getGeometryN(i),t);null!==o&&(o.isEmpty()||e.add(o))}return this._factory.buildGeometry(e)},Qi.prototype.transformCoordinates=function(t,n){return this.copy(t)},Qi.prototype.transformLineString=function(t,n){return this._factory.createLineString(this.transformCoordinates(t.getCoordinateSequence(),t))},Qi.prototype.transformMultiPoint=function(t,n){for(var e=new vt,i=0;i<t.getNumGeometries();i++){var o=this.transformPoint(t.getGeometryN(i),t);null!==o&&(o.isEmpty()||e.add(o))}return this._factory.buildGeometry(e)},Qi.prototype.transformMultiPolygon=function(t,n){for(var e=new vt,i=0;i<t.getNumGeometries();i++){var o=this.transformPolygon(t.getGeometryN(i),t);null!==o&&(o.isEmpty()||e.add(o))}return this._factory.buildGeometry(e)},Qi.prototype.copy=function(t){return t.copy()},Qi.prototype.transformGeometryCollection=function(t,n){for(var e=new vt,i=0;i<t.getNumGeometries();i++){var o=this.transform(t.getGeometryN(i));null!==o&&(this._pruneEmptyGeometry&&o.isEmpty()||e.add(o))}return this._preserveGeometryCollectionType?this._factory.createGeometryCollection(Xn.toGeometryArray(e)):this._factory.buildGeometry(e)},Qi.prototype.transform=function(t){if(this._inputGeom=t,this._factory=t.getFactory(),t instanceof Dt)return this.transformPoint(t,null);if(t instanceof tn)return this.transformMultiPoint(t,null);if(t instanceof nn)return this.transformLinearRing(t,null);if(t instanceof Ot)return this.transformLineString(t,null);if(t instanceof Bt)return this.transformMultiLineString(t,null);if(t instanceof $t)return this.transformPolygon(t,null);if(t instanceof en)return this.transformMultiPolygon(t,null);if(t instanceof kt)return this.transformGeometryCollection(t,null);throw new X("Unknown Geometry subtype: "+t.getClass().getName())},Qi.prototype.transformLinearRing=function(t,n){var e=this.transformCoordinates(t.getCoordinateSequence(),t);if(null===e)return this._factory.createLinearRing(null);var i=e.size();return i>0&&i<4&&!this._preserveType?this._factory.createLineString(e):this._factory.createLinearRing(e)},Qi.prototype.interfaces_=function(){return[]},Qi.prototype.getClass=function(){return Qi};var Oi=function t(){if(this._snapTolerance=0,this._srcPts=null,this._seg=new be,this._allowSnappingToSourceVertices=!1,this._isClosed=!1,arguments[0]instanceof Ot&&"number"==typeof arguments[1]){var n=arguments[1];t.call(this,arguments[0].getCoordinates(),n)}else if(arguments[0]instanceof Array&&"number"==typeof arguments[1]){var e=arguments[0],i=arguments[1];this._srcPts=e,this._isClosed=t.isClosed(e),this._snapTolerance=i}};Oi.prototype.snapVertices=function(t,n){for(var e=this._isClosed?t.size()-1:t.size(),i=0;i<e;i++){var o=t.get(i),l=this.findSnapForVertex(o,n);null!==l&&(t.set(i,new V(l)),0===i&&this._isClosed&&t.set(t.size()-1,new V(l)))}},Oi.prototype.findSnapForVertex=function(t,n){for(var e=0;e<n.length;e++){if(t.equals2D(n[e]))return null;if(t.distance(n[e])<this._snapTolerance)return n[e]}return null},Oi.prototype.snapTo=function(t){var n=new xt(this._srcPts);return this.snapVertices(n,t),this.snapSegments(n,t),n.toCoordinateArray()},Oi.prototype.snapSegments=function(t,n){if(0===n.length)return null;var e=n.length;n[0].equals2D(n[n.length-1])&&(e=n.length-1);for(var i=0;i<e;i++){var o=n[i],l=this.findSegmentIndexToSnap(o,t);l>=0&&t.add(l+1,new V(o),!1)}},Oi.prototype.findSegmentIndexToSnap=function(t,n){for(var e=f.MAX_VALUE,i=-1,o=0;o<n.size()-1;o++){if(this._seg.p0=n.get(o),this._seg.p1=n.get(o+1),this._seg.p0.equals2D(t)||this._seg.p1.equals2D(t)){if(this._allowSnappingToSourceVertices)continue;return-1}var l=this._seg.distance(t);l<this._snapTolerance&&l<e&&(e=l,i=o)}return i},Oi.prototype.setAllowSnappingToSourceVertices=function(t){this._allowSnappingToSourceVertices=t},Oi.prototype.interfaces_=function(){return[]},Oi.prototype.getClass=function(){return Oi},Oi.isClosed=function(t){return!(t.length<=1)&&t[0].equals2D(t[t.length-1])};var Ai=function(t){this._srcGeom=t||null},Di={SNAP_PRECISION_FACTOR:{configurable:!0}};Ai.prototype.snapTo=function(t,n){var e=this.extractTargetCoordinates(t);return new qi(n,e).transform(this._srcGeom)},Ai.prototype.snapToSelf=function(t,n){var e=this.extractTargetCoordinates(this._srcGeom),i=new qi(t,e,!0).transform(this._srcGeom),o=i;return n&&H(o,qt)&&(o=i.buffer(0)),o},Ai.prototype.computeSnapTolerance=function(t){return this.computeMinimumSegmentLength(t)/10},Ai.prototype.extractTargetCoordinates=function(t){for(var n=new h,e=t.getCoordinates(),i=0;i<e.length;i++)n.add(e[i]);return n.toArray(new Array(0).fill(null))},Ai.prototype.computeMinimumSegmentLength=function(t){for(var n=f.MAX_VALUE,e=0;e<t.length-1;e++){var i=t[e].distance(t[e+1]);i<n&&(n=i)}return n},Ai.prototype.interfaces_=function(){return[]},Ai.prototype.getClass=function(){return Ai},Ai.snap=function(t,n,e){var i=new Array(2).fill(null),o=new Ai(t);i[0]=o.snapTo(n,e);var l=new Ai(n);return i[1]=l.snapTo(i[0],e),i},Ai.computeOverlaySnapTolerance=function(){if(1===arguments.length){var t=arguments[0],n=Ai.computeSizeBasedSnapTolerance(t),e=t.getPrecisionModel();if(e.getType()===mn.FIXED){var i=1/e.getScale()*2/1.415;i>n&&(n=i)}return n}if(2===arguments.length){var o=arguments[0],l=arguments[1];return Math.min(Ai.computeOverlaySnapTolerance(o),Ai.computeOverlaySnapTolerance(l))}},Ai.computeSizeBasedSnapTolerance=function(t){var n=t.getEnvelopeInternal();return Math.min(n.getHeight(),n.getWidth())*Ai.SNAP_PRECISION_FACTOR},Ai.snapToSelf=function(t,n,e){return new Ai(t).snapToSelf(n,e)},Di.SNAP_PRECISION_FACTOR.get=function(){return 1e-9},Object.defineProperties(Ai,Di);var qi=function(t){function n(n,e,i){t.call(this),this._snapTolerance=n||null,this._snapPts=e||null,this._isSelfSnap=void 0!==i&&i}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.snapLine=function(t,n){var e=new Oi(t,this._snapTolerance);return e.setAllowSnappingToSourceVertices(this._isSelfSnap),e.snapTo(n)},n.prototype.transformCoordinates=function(t,n){var e=t.toCoordinateArray(),i=this.snapLine(e,this._snapPts);return this._factory.getCoordinateSequenceFactory().create(i)},n.prototype.interfaces_=function(){return[]},n.prototype.getClass=function(){return n},n}(Qi),$i=function(){this._isFirst=!0,this._commonMantissaBitsCount=53,this._commonBits=0,this._commonSignExp=null};$i.prototype.getCommon=function(){return f.longBitsToDouble(this._commonBits)},$i.prototype.add=function(t){var n=f.doubleToLongBits(t);return this._isFirst?(this._commonBits=n,this._commonSignExp=$i.signExpBits(this._commonBits),this._isFirst=!1,null):$i.signExpBits(n)!==this._commonSignExp?(this._commonBits=0,null):(this._commonMantissaBitsCount=$i.numCommonMostSigMantissaBits(this._commonBits,n),void(this._commonBits=$i.zeroLowerBits(this._commonBits,64-(12+this._commonMantissaBitsCount))))},$i.prototype.toString=function(){if(1===arguments.length){var t=arguments[0],n=f.longBitsToDouble(t),e="0000000000000000000000000000000000000000000000000000000000000000"+f.toBinaryString(t),i=e.substring(e.length-64);return i.substring(0,1)+"  "+i.substring(1,12)+"(exp) "+i.substring(12)+" [ "+n+" ]"}},$i.prototype.interfaces_=function(){return[]},$i.prototype.getClass=function(){return $i},$i.getBit=function(t,n){return 0!=(t&1<<n)?1:0},$i.signExpBits=function(t){return t>>52},$i.zeroLowerBits=function(t,n){return t&~((1<<n)-1)},$i.numCommonMostSigMantissaBits=function(t,n){for(var e=0,i=52;i>=0;i--){if($i.getBit(t,i)!==$i.getBit(n,i))return e;e++}return 52};var to=function(){this._commonCoord=null,this._ccFilter=new eo},no={CommonCoordinateFilter:{configurable:!0},Translater:{configurable:!0}};to.prototype.addCommonBits=function(t){var n=new io(this._commonCoord);t.apply(n),t.geometryChanged()},to.prototype.removeCommonBits=function(t){if(0===this._commonCoord.x&&0===this._commonCoord.y)return t;var n=new V(this._commonCoord);n.x=-n.x,n.y=-n.y;var e=new io(n);return t.apply(e),t.geometryChanged(),t},to.prototype.getCommonCoordinate=function(){return this._commonCoord},to.prototype.add=function(t){t.apply(this._ccFilter),this._commonCoord=this._ccFilter.getCommonCoordinate()},to.prototype.interfaces_=function(){return[]},to.prototype.getClass=function(){return to},no.CommonCoordinateFilter.get=function(){return eo},no.Translater.get=function(){return io},Object.defineProperties(to,no);var eo=function(){this._commonBitsX=new $i,this._commonBitsY=new $i};eo.prototype.filter=function(t){this._commonBitsX.add(t.x),this._commonBitsY.add(t.y)},eo.prototype.getCommonCoordinate=function(){return new V(this._commonBitsX.getCommon(),this._commonBitsY.getCommon())},eo.prototype.interfaces_=function(){return[ht]},eo.prototype.getClass=function(){return eo};var io=function(){this.trans=null;var t=arguments[0];this.trans=t};io.prototype.filter=function(t,n){var e=t.getOrdinate(n,0)+this.trans.x,i=t.getOrdinate(n,1)+this.trans.y;t.setOrdinate(n,0,e),t.setOrdinate(n,1,i)},io.prototype.isDone=function(){return!1},io.prototype.isGeometryChanged=function(){return!0},io.prototype.interfaces_=function(){return[Ft]},io.prototype.getClass=function(){return io};var oo=function(t,n){this._geom=new Array(2).fill(null),this._snapTolerance=null,this._cbr=null,this._geom[0]=t,this._geom[1]=n,this.computeSnapTolerance()};oo.prototype.selfSnap=function(t){return new Ai(t).snapTo(t,this._snapTolerance)},oo.prototype.removeCommonBits=function(t){this._cbr=new to,this._cbr.add(t[0]),this._cbr.add(t[1]);var n=new Array(2).fill(null);return n[0]=this._cbr.removeCommonBits(t[0].copy()),n[1]=this._cbr.removeCommonBits(t[1].copy()),n},oo.prototype.prepareResult=function(t){return this._cbr.addCommonBits(t),t},oo.prototype.getResultGeometry=function(t){var n=this.snap(this._geom),e=Lo.overlayOp(n[0],n[1],t);return this.prepareResult(e)},oo.prototype.checkValid=function(t){t.isValid()||_.out.println("Snapped geometry is invalid")},oo.prototype.computeSnapTolerance=function(){this._snapTolerance=Ai.computeOverlaySnapTolerance(this._geom[0],this._geom[1])},oo.prototype.snap=function(t){var n=this.removeCommonBits(t);return Ai.snap(n[0],n[1],this._snapTolerance)},oo.prototype.interfaces_=function(){return[]},oo.prototype.getClass=function(){return oo},oo.overlayOp=function(t,n,e){return new oo(t,n).getResultGeometry(e)},oo.union=function(t,n){return oo.overlayOp(t,n,Lo.UNION)},oo.intersection=function(t,n){return oo.overlayOp(t,n,Lo.INTERSECTION)},oo.symDifference=function(t,n){return oo.overlayOp(t,n,Lo.SYMDIFFERENCE)},oo.difference=function(t,n){return oo.overlayOp(t,n,Lo.DIFFERENCE)};var lo=function(t,n){this._geom=new Array(2).fill(null),this._geom[0]=t,this._geom[1]=n};lo.prototype.getResultGeometry=function(t){var n=null,e=!1,i=null;try{n=Lo.overlayOp(this._geom[0],this._geom[1],t),e=!0}catch(t){if(!(t instanceof $))throw t;i=t}if(!e)try{n=oo.overlayOp(this._geom[0],this._geom[1],t)}catch(t){throw t instanceof $?i:t}return n},lo.prototype.interfaces_=function(){return[]},lo.prototype.getClass=function(){return lo},lo.overlayOp=function(t,n,e){return new lo(t,n).getResultGeometry(e)},lo.union=function(t,n){return lo.overlayOp(t,n,Lo.UNION)},lo.intersection=function(t,n){return lo.overlayOp(t,n,Lo.INTERSECTION)},lo.symDifference=function(t,n){return lo.overlayOp(t,n,Lo.SYMDIFFERENCE)},lo.difference=function(t,n){return lo.overlayOp(t,n,Lo.DIFFERENCE)};var so=function(){this.mce=null,this.chainIndex=null;var t=arguments[0],n=arguments[1];this.mce=t,this.chainIndex=n};so.prototype.computeIntersections=function(t,n){this.mce.computeIntersectsForChain(this.chainIndex,t.mce,t.chainIndex,n)},so.prototype.interfaces_=function(){return[]},so.prototype.getClass=function(){return so};var ro=function t(){if(this._label=null,this._xValue=null,this._eventType=null,this._insertEvent=null,this._deleteEventIndex=null,this._obj=null,2===arguments.length){var n=arguments[0],e=arguments[1];this._eventType=t.DELETE,this._xValue=n,this._insertEvent=e}else if(3===arguments.length){var i=arguments[0],o=arguments[1],l=arguments[2];this._eventType=t.INSERT,this._label=i,this._xValue=o,this._obj=l}},ao={INSERT:{configurable:!0},DELETE:{configurable:!0}};ro.prototype.isDelete=function(){return this._eventType===ro.DELETE},ro.prototype.setDeleteEventIndex=function(t){this._deleteEventIndex=t},ro.prototype.getObject=function(){return this._obj},ro.prototype.compareTo=function(t){var n=t;return this._xValue<n._xValue?-1:this._xValue>n._xValue?1:this._eventType<n._eventType?-1:this._eventType>n._eventType?1:0},ro.prototype.getInsertEvent=function(){return this._insertEvent},ro.prototype.isInsert=function(){return this._eventType===ro.INSERT},ro.prototype.isSameLabel=function(t){return null!==this._label&&this._label===t._label},ro.prototype.getDeleteEventIndex=function(){return this._deleteEventIndex},ro.prototype.interfaces_=function(){return[W]},ro.prototype.getClass=function(){return ro},ao.INSERT.get=function(){return 1},ao.DELETE.get=function(){return 2},Object.defineProperties(ro,ao);var co=function(){};co.prototype.interfaces_=function(){return[]},co.prototype.getClass=function(){return co};var uo=function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._properIntersectionPoint=null,this._li=null,this._includeProper=null,this._recordIsolated=null,this._isSelfIntersection=null,this._numIntersections=0,this.numTests=0,this._bdyNodes=null,this._isDone=!1,this._isDoneWhenProperInt=!1;var t=arguments[0],n=arguments[1],e=arguments[2];this._li=t,this._includeProper=n,this._recordIsolated=e};uo.prototype.isTrivialIntersection=function(t,n,e,i){if(t===e&&1===this._li.getIntersectionNum()){if(uo.isAdjacentSegments(n,i))return!0;if(t.isClosed()){var o=t.getNumPoints()-1;if(0===n&&i===o||0===i&&n===o)return!0}}return!1},uo.prototype.getProperIntersectionPoint=function(){return this._properIntersectionPoint},uo.prototype.setIsDoneIfProperInt=function(t){this._isDoneWhenProperInt=t},uo.prototype.hasProperInteriorIntersection=function(){return this._hasProperInterior},uo.prototype.isBoundaryPointInternal=function(t,n){for(var e=n.iterator();e.hasNext();){var i=e.next().getCoordinate();if(t.isIntersection(i))return!0}return!1},uo.prototype.hasProperIntersection=function(){return this._hasProper},uo.prototype.hasIntersection=function(){return this._hasIntersection},uo.prototype.isDone=function(){return this._isDone},uo.prototype.isBoundaryPoint=function(t,n){return!(null===n||!this.isBoundaryPointInternal(t,n[0])&&!this.isBoundaryPointInternal(t,n[1]))},uo.prototype.setBoundaryNodes=function(t,n){this._bdyNodes=new Array(2).fill(null),this._bdyNodes[0]=t,this._bdyNodes[1]=n},uo.prototype.addIntersections=function(t,n,e,i){if(t===e&&n===i)return null;this.numTests++;var o=t.getCoordinates()[n],l=t.getCoordinates()[n+1],s=e.getCoordinates()[i],r=e.getCoordinates()[i+1];this._li.computeIntersection(o,l,s,r),this._li.hasIntersection()&&(this._recordIsolated&&(t.setIsolated(!1),e.setIsolated(!1)),this._numIntersections++,this.isTrivialIntersection(t,n,e,i)||(this._hasIntersection=!0,!this._includeProper&&this._li.isProper()||(t.addIntersections(this._li,n,0),e.addIntersections(this._li,i,1)),this._li.isProper()&&(this._properIntersectionPoint=this._li.getIntersection(0).copy(),this._hasProper=!0,this._isDoneWhenProperInt&&(this._isDone=!0),this.isBoundaryPoint(this._li,this._bdyNodes)||(this._hasProperInterior=!0))))},uo.prototype.interfaces_=function(){return[]},uo.prototype.getClass=function(){return uo},uo.isAdjacentSegments=function(t,n){return 1===Math.abs(t-n)};var po=function(t){function n(){t.call(this),this.events=new vt,this.nOverlaps=null}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.prepareEvents=function(){te.sort(this.events);for(var t=0;t<this.events.size();t++){var n=this.events.get(t);n.isDelete()&&n.getInsertEvent().setDeleteEventIndex(t)}},n.prototype.computeIntersections=function(){if(1===arguments.length){var t=arguments[0];this.nOverlaps=0,this.prepareEvents();for(var n=0;n<this.events.size();n++){var e=this.events.get(n);if(e.isInsert()&&this.processOverlaps(n,e.getDeleteEventIndex(),e,t),t.isDone())break}}else if(3===arguments.length)if(arguments[2]instanceof uo&&H(arguments[0],gt)&&H(arguments[1],gt)){var i=arguments[0],o=arguments[1],l=arguments[2];this.addEdges(i,i),this.addEdges(o,o),this.computeIntersections(l)}else if("boolean"==typeof arguments[2]&&H(arguments[0],gt)&&arguments[1]instanceof uo){var s=arguments[0],r=arguments[1];arguments[2]?this.addEdges(s,null):this.addEdges(s),this.computeIntersections(r)}},n.prototype.addEdge=function(t,n){for(var e=t.getMonotoneChainEdge(),i=e.getStartIndexes(),o=0;o<i.length-1;o++){var l=new so(e,o),s=new ro(n,e.getMinX(o),l);this.events.add(s),this.events.add(new ro(e.getMaxX(o),s))}},n.prototype.processOverlaps=function(t,n,e,i){for(var o=e.getObject(),l=t;l<n;l++){var s=this.events.get(l);if(s.isInsert()){var r=s.getObject();e.isSameLabel(s)||(o.computeIntersections(r,i),this.nOverlaps++)}}},n.prototype.addEdges=function(){if(1===arguments.length)for(var t=arguments[0].iterator();t.hasNext();){var n=t.next();this.addEdge(n,n)}else if(2===arguments.length)for(var e=arguments[1],i=arguments[0].iterator();i.hasNext();){var o=i.next();this.addEdge(o,e)}},n.prototype.interfaces_=function(){return[]},n.prototype.getClass=function(){return n},n}(co),ho=function(){this._min=f.POSITIVE_INFINITY,this._max=f.NEGATIVE_INFINITY},mo={NodeComparator:{configurable:!0}};ho.prototype.getMin=function(){return this._min},ho.prototype.intersects=function(t,n){return!(this._min>n||this._max<t)},ho.prototype.getMax=function(){return this._max},ho.prototype.toString=function(){return q.toLineString(new V(this._min,0),new V(this._max,0))},ho.prototype.interfaces_=function(){return[]},ho.prototype.getClass=function(){return ho},mo.NodeComparator.get=function(){return bo},Object.defineProperties(ho,mo);var bo=function(){};bo.prototype.compare=function(t,n){var e=t,i=n,o=(e._min+e._max)/2,l=(i._min+i._max)/2;return o<l?-1:o>l?1:0},bo.prototype.interfaces_=function(){return[v]},bo.prototype.getClass=function(){return bo};var yo=function(t){function n(){t.call(this),this._item=null;var n=arguments[0],e=arguments[1],i=arguments[2];this._min=n,this._max=e,this._item=i}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.query=function(t,n,e){if(!this.intersects(t,n))return null;e.visitItem(this._item)},n.prototype.interfaces_=function(){return[]},n.prototype.getClass=function(){return n},n}(ho),Zo=function(t){function n(){t.call(this),this._node1=null,this._node2=null;var n=arguments[0],e=arguments[1];this._node1=n,this._node2=e,this.buildExtent(this._node1,this._node2)}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.buildExtent=function(t,n){this._min=Math.min(t._min,n._min),this._max=Math.max(t._max,n._max)},n.prototype.query=function(t,n,e){if(!this.intersects(t,n))return null;null!==this._node1&&this._node1.query(t,n,e),null!==this._node2&&this._node2.query(t,n,e)},n.prototype.interfaces_=function(){return[]},n.prototype.getClass=function(){return n},n}(ho),Xo=function(){this._leaves=new vt,this._root=null,this._level=0};Xo.prototype.buildTree=function(){te.sort(this._leaves,new ho.NodeComparator);for(var t=this._leaves,n=null,e=new vt;;){if(this.buildLevel(t,e),1===e.size())return e.get(0);n=t,t=e,e=n}},Xo.prototype.insert=function(t,n,e){if(null!==this._root)throw new Error("Index cannot be added to once it has been queried");this._leaves.add(new yo(t,n,e))},Xo.prototype.query=function(t,n,e){this.init(),this._root.query(t,n,e)},Xo.prototype.buildRoot=function(){if(null!==this._root)return null;this._root=this.buildTree()},Xo.prototype.printNode=function(t){_.out.println(q.toLineString(new V(t._min,this._level),new V(t._max,this._level)))},Xo.prototype.init=function(){if(null!==this._root)return null;this.buildRoot()},Xo.prototype.buildLevel=function(t,n){this._level++,n.clear();for(var e=0;e<t.size();e+=2){var i=t.get(e);if(null===(e+1<t.size()?t.get(e):null))n.add(i);else{var o=new Zo(t.get(e),t.get(e+1));n.add(o)}}},Xo.prototype.interfaces_=function(){return[]},Xo.prototype.getClass=function(){return Xo};var fo=function(){this._items=new vt};fo.prototype.visitItem=function(t){this._items.add(t)},fo.prototype.getItems=function(){return this._items},fo.prototype.interfaces_=function(){return[An]},fo.prototype.getClass=function(){return fo};var Go=function(){this._index=null;var t=arguments[0];if(!H(t,qt))throw new X("Argument must be Polygonal");this._index=new vo(t)},Wo={SegmentVisitor:{configurable:!0},IntervalIndexedGeometry:{configurable:!0}};Go.prototype.locate=function(t){var n=new st(t),e=new go(n);return this._index.query(t.y,t.y,e),n.getLocation()},Go.prototype.interfaces_=function(){return[Ne]},Go.prototype.getClass=function(){return Go},Wo.SegmentVisitor.get=function(){return go},Wo.IntervalIndexedGeometry.get=function(){return vo},Object.defineProperties(Go,Wo);var go=function(){this._counter=null;var t=arguments[0];this._counter=t};go.prototype.visitItem=function(t){var n=t;this._counter.countSegment(n.getCoordinate(0),n.getCoordinate(1))},go.prototype.interfaces_=function(){return[An]},go.prototype.getClass=function(){return go};var vo=function(){this._index=new Xo;var t=arguments[0];this.init(t)};vo.prototype.init=function(t){for(var n=Vi.getLines(t).iterator();n.hasNext();){var e=n.next().getCoordinates();this.addLine(e)}},vo.prototype.addLine=function(t){for(var n=1;n<t.length;n++){var e=new be(t[n-1],t[n]),i=Math.min(e.p0.y,e.p1.y),o=Math.max(e.p0.y,e.p1.y);this._index.insert(i,o,e)}},vo.prototype.query=function(){if(2===arguments.length){var t=arguments[0],n=arguments[1],e=new fo;return this._index.query(t,n,e),e.getItems()}if(3===arguments.length){var i=arguments[0],o=arguments[1],l=arguments[2];this._index.query(i,o,l)}},vo.prototype.interfaces_=function(){return[]},vo.prototype.getClass=function(){return vo};var Vo=function(t){function n(){if(t.call(this),this._parentGeom=null,this._lineEdgeMap=new hn,this._boundaryNodeRule=null,this._useBoundaryDeterminationRule=!0,this._argIndex=null,this._boundaryNodes=null,this._hasTooFewPoints=!1,this._invalidPoint=null,this._areaPtLocator=null,this._ptLocator=new xi,2===arguments.length){var n=arguments[0],e=arguments[1],i=mt.OGC_SFS_BOUNDARY_RULE;this._argIndex=n,this._parentGeom=e,this._boundaryNodeRule=i,null!==e&&this.add(e)}else if(3===arguments.length){var o=arguments[0],l=arguments[1],s=arguments[2];this._argIndex=o,this._parentGeom=l,this._boundaryNodeRule=s,null!==l&&this.add(l)}}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.insertBoundaryPoint=function(t,e){var i=this._nodes.addNode(e).getLabel(),o=1;i.getLocation(t,Sn.ON)===R.BOUNDARY&&o++;var l=n.determineBoundary(this._boundaryNodeRule,o);i.setLocation(t,l)},n.prototype.computeSelfNodes=function(){if(2===arguments.length){var t=arguments[0],n=arguments[1];return this.computeSelfNodes(t,n,!1)}if(3===arguments.length){var e=arguments[1],i=arguments[2],o=new uo(arguments[0],!0,!1);o.setIsDoneIfProperInt(i);var l=this.createEdgeSetIntersector(),s=this._parentGeom instanceof nn||this._parentGeom instanceof $t||this._parentGeom instanceof en,r=e||!s;return l.computeIntersections(this._edges,o,r),this.addSelfIntersectionNodes(this._argIndex),o}},n.prototype.computeSplitEdges=function(t){for(var n=this._edges.iterator();n.hasNext();)n.next().eiList.addSplitEdges(t)},n.prototype.computeEdgeIntersections=function(t,n,e){var i=new uo(n,e,!0);return i.setBoundaryNodes(this.getBoundaryNodes(),t.getBoundaryNodes()),this.createEdgeSetIntersector().computeIntersections(this._edges,t._edges,i),i},n.prototype.getGeometry=function(){return this._parentGeom},n.prototype.getBoundaryNodeRule=function(){return this._boundaryNodeRule},n.prototype.hasTooFewPoints=function(){return this._hasTooFewPoints},n.prototype.addPoint=function(){if(arguments[0]instanceof Dt){var t=arguments[0].getCoordinate();this.insertPoint(this._argIndex,t,R.INTERIOR)}else if(arguments[0]instanceof V){var n=arguments[0];this.insertPoint(this._argIndex,n,R.INTERIOR)}},n.prototype.addPolygon=function(t){this.addPolygonRing(t.getExteriorRing(),R.EXTERIOR,R.INTERIOR);for(var n=0;n<t.getNumInteriorRing();n++){var e=t.getInteriorRingN(n);this.addPolygonRing(e,R.INTERIOR,R.EXTERIOR)}},n.prototype.addEdge=function(t){this.insertEdge(t);var n=t.getCoordinates();this.insertPoint(this._argIndex,n[0],R.BOUNDARY),this.insertPoint(this._argIndex,n[n.length-1],R.BOUNDARY)},n.prototype.addLineString=function(t){var n=St.removeRepeatedPoints(t.getCoordinates());if(n.length<2)return this._hasTooFewPoints=!0,this._invalidPoint=n[0],null;var e=new ei(n,new Tn(this._argIndex,R.INTERIOR));this._lineEdgeMap.put(t,e),this.insertEdge(e),nt.isTrue(n.length>=2,"found LineString with single point"),this.insertBoundaryPoint(this._argIndex,n[0]),this.insertBoundaryPoint(this._argIndex,n[n.length-1])},n.prototype.getInvalidPoint=function(){return this._invalidPoint},n.prototype.getBoundaryPoints=function(){for(var t=this.getBoundaryNodes(),n=new Array(t.size()).fill(null),e=0,i=t.iterator();i.hasNext();){var o=i.next();n[e++]=o.getCoordinate().copy()}return n},n.prototype.getBoundaryNodes=function(){return null===this._boundaryNodes&&(this._boundaryNodes=this._nodes.getBoundaryNodes(this._argIndex)),this._boundaryNodes},n.prototype.addSelfIntersectionNode=function(t,n,e){if(this.isBoundaryNode(t,n))return null;e===R.BOUNDARY&&this._useBoundaryDeterminationRule?this.insertBoundaryPoint(t,n):this.insertPoint(t,n,e)},n.prototype.addPolygonRing=function(t,n,e){if(t.isEmpty())return null;var i=St.removeRepeatedPoints(t.getCoordinates());if(i.length<4)return this._hasTooFewPoints=!0,this._invalidPoint=i[0],null;var o=n,l=e;rt.isCCW(i)&&(o=e,l=n);var s=new ei(i,new Tn(this._argIndex,R.BOUNDARY,o,l));this._lineEdgeMap.put(t,s),this.insertEdge(s),this.insertPoint(this._argIndex,i[0],R.BOUNDARY)},n.prototype.insertPoint=function(t,n,e){var i=this._nodes.addNode(n),o=i.getLabel();null===o?i._label=new Tn(t,e):o.setLocation(t,e)},n.prototype.createEdgeSetIntersector=function(){return new po},n.prototype.addSelfIntersectionNodes=function(t){for(var n=this._edges.iterator();n.hasNext();)for(var e=n.next(),i=e.getLabel().getLocation(t),o=e.eiList.iterator();o.hasNext();){var l=o.next();this.addSelfIntersectionNode(t,l.coord,i)}},n.prototype.add=function(){if(1!==arguments.length)return t.prototype.add.apply(this,arguments);var n=arguments[0];if(n.isEmpty())return null;if(n instanceof en&&(this._useBoundaryDeterminationRule=!1),n instanceof $t)this.addPolygon(n);else if(n instanceof Ot)this.addLineString(n);else if(n instanceof Dt)this.addPoint(n);else if(n instanceof tn)this.addCollection(n);else if(n instanceof Bt)this.addCollection(n);else if(n instanceof en)this.addCollection(n);else{if(!(n instanceof kt))throw new Error(n.getClass().getName());this.addCollection(n)}},n.prototype.addCollection=function(t){for(var n=0;n<t.getNumGeometries();n++){var e=t.getGeometryN(n);this.add(e)}},n.prototype.locate=function(t){return H(this._parentGeom,qt)&&this._parentGeom.getNumGeometries()>50?(null===this._areaPtLocator&&(this._areaPtLocator=new Go(this._parentGeom)),this._areaPtLocator.locate(t)):this._ptLocator.locate(t,this._parentGeom)},n.prototype.findEdge=function(){if(1===arguments.length){var n=arguments[0];return this._lineEdgeMap.get(n)}return t.prototype.findEdge.apply(this,arguments)},n.prototype.interfaces_=function(){return[]},n.prototype.getClass=function(){return n},n.determineBoundary=function(t,n){return t.isInBoundary(n)?R.BOUNDARY:R.INTERIOR},n}(Un),xo=function(){if(this._li=new ot,this._resultPrecisionModel=null,this._arg=null,1===arguments.length){var t=arguments[0];this.setComputationPrecision(t.getPrecisionModel()),this._arg=new Array(1).fill(null),this._arg[0]=new Vo(0,t)}else if(2===arguments.length){var n=arguments[0],e=arguments[1],i=mt.OGC_SFS_BOUNDARY_RULE;n.getPrecisionModel().compareTo(e.getPrecisionModel())>=0?this.setComputationPrecision(n.getPrecisionModel()):this.setComputationPrecision(e.getPrecisionModel()),this._arg=new Array(2).fill(null),this._arg[0]=new Vo(0,n,i),this._arg[1]=new Vo(1,e,i)}else if(3===arguments.length){var o=arguments[0],l=arguments[1],s=arguments[2];o.getPrecisionModel().compareTo(l.getPrecisionModel())>=0?this.setComputationPrecision(o.getPrecisionModel()):this.setComputationPrecision(l.getPrecisionModel()),this._arg=new Array(2).fill(null),this._arg[0]=new Vo(0,o,s),this._arg[1]=new Vo(1,l,s)}};xo.prototype.getArgGeometry=function(t){return this._arg[t].getGeometry()},xo.prototype.setComputationPrecision=function(t){this._resultPrecisionModel=t,this._li.setPrecisionModel(this._resultPrecisionModel)},xo.prototype.interfaces_=function(){return[]},xo.prototype.getClass=function(){return xo};var So=function(){};So.prototype.interfaces_=function(){return[]},So.prototype.getClass=function(){return So},So.map=function(){if(arguments[0]instanceof ct&&H(arguments[1],So.MapOp)){for(var t=arguments[0],n=arguments[1],e=new vt,i=0;i<t.getNumGeometries();i++){var o=n.map(t.getGeometryN(i));null!==o&&e.add(o)}return t.getFactory().buildGeometry(e)}if(H(arguments[0],Gt)&&H(arguments[1],So.MapOp)){for(var l=arguments[0],s=arguments[1],r=new vt,a=l.iterator();a.hasNext();){var d=a.next(),c=s.map(d);null!==c&&r.add(c)}return r}},So.MapOp=function(){};var Lo=function(t){function n(){var n=arguments[0],e=arguments[1];t.call(this,n,e),this._ptLocator=new xi,this._geomFact=null,this._resultGeom=null,this._graph=null,this._edgeList=new je,this._resultPolyList=new vt,this._resultLineList=new vt,this._resultPointList=new vt,this._graph=new Un(new Ue),this._geomFact=n.getFactory()}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.insertUniqueEdge=function(t){var n=this._edgeList.findEqualEdge(t);if(null!==n){var e=n.getLabel(),i=t.getLabel();n.isPointwiseEqual(t)||(i=new Tn(t.getLabel())).flip();var o=n.getDepth();o.isNull()&&o.add(e),o.add(i),e.merge(i)}else this._edgeList.add(t)},n.prototype.getGraph=function(){return this._graph},n.prototype.cancelDuplicateResultEdges=function(){for(var t=this._graph.getEdgeEnds().iterator();t.hasNext();){var n=t.next(),e=n.getSym();n.isInResult()&&e.isInResult()&&(n.setInResult(!1),e.setInResult(!1))}},n.prototype.isCoveredByLA=function(t){return!!this.isCovered(t,this._resultLineList)||!!this.isCovered(t,this._resultPolyList)},n.prototype.computeGeometry=function(t,e,i,o){var l=new vt;return l.addAll(t),l.addAll(e),l.addAll(i),l.isEmpty()?n.createEmptyResult(o,this._arg[0].getGeometry(),this._arg[1].getGeometry(),this._geomFact):this._geomFact.buildGeometry(l)},n.prototype.mergeSymLabels=function(){for(var t=this._graph.getNodes().iterator();t.hasNext();)t.next().getEdges().mergeSymLabels()},n.prototype.isCovered=function(t,n){for(var e=n.iterator();e.hasNext();){var i=e.next();if(this._ptLocator.locate(t,i)!==R.EXTERIOR)return!0}return!1},n.prototype.replaceCollapsedEdges=function(){for(var t=new vt,n=this._edgeList.iterator();n.hasNext();){var e=n.next();e.isCollapsed()&&(n.remove(),t.add(e.getCollapsedEdge()))}this._edgeList.addAll(t)},n.prototype.updateNodeLabelling=function(){for(var t=this._graph.getNodes().iterator();t.hasNext();){var n=t.next(),e=n.getEdges().getLabel();n.getLabel().merge(e)}},n.prototype.getResultGeometry=function(t){return this.computeOverlay(t),this._resultGeom},n.prototype.insertUniqueEdges=function(t){for(var n=t.iterator();n.hasNext();){var e=n.next();this.insertUniqueEdge(e)}},n.prototype.computeOverlay=function(t){this.copyPoints(0),this.copyPoints(1),this._arg[0].computeSelfNodes(this._li,!1),this._arg[1].computeSelfNodes(this._li,!1),this._arg[0].computeEdgeIntersections(this._arg[1],this._li,!0);var n=new vt;this._arg[0].computeSplitEdges(n),this._arg[1].computeSplitEdges(n),this.insertUniqueEdges(n),this.computeLabelsFromDepths(),this.replaceCollapsedEdges(),_i.checkValid(this._edgeList.getEdges()),this._graph.addEdges(this._edgeList.getEdges()),this.computeLabelling(),this.labelIncompleteNodes(),this.findResultAreaEdges(t),this.cancelDuplicateResultEdges();var e=new En(this._geomFact);e.add(this._graph),this._resultPolyList=e.getPolygons();var i=new Ei(this,this._geomFact,this._ptLocator);this._resultLineList=i.build(t);var o=new ji(this,this._geomFact,this._ptLocator);this._resultPointList=o.build(t),this._resultGeom=this.computeGeometry(this._resultPointList,this._resultLineList,this._resultPolyList,t)},n.prototype.labelIncompleteNode=function(t,n){var e=this._ptLocator.locate(t.getCoordinate(),this._arg[n].getGeometry());t.getLabel().setLocation(n,e)},n.prototype.copyPoints=function(t){for(var n=this._arg[t].getNodeIterator();n.hasNext();){var e=n.next();this._graph.addNode(e.getCoordinate()).setLabel(t,e.getLabel().getLocation(t))}},n.prototype.findResultAreaEdges=function(t){for(var e=this._graph.getEdgeEnds().iterator();e.hasNext();){var i=e.next(),o=i.getLabel();o.isArea()&&!i.isInteriorAreaEdge()&&n.isResultOfOp(o.getLocation(0,Sn.RIGHT),o.getLocation(1,Sn.RIGHT),t)&&i.setInResult(!0)}},n.prototype.computeLabelsFromDepths=function(){for(var t=this._edgeList.iterator();t.hasNext();){var n=t.next(),e=n.getLabel(),i=n.getDepth();if(!i.isNull()){i.normalize();for(var o=0;o<2;o++)e.isNull(o)||!e.isArea()||i.isNull(o)||(0===i.getDelta(o)?e.toLine(o):(nt.isTrue(!i.isNull(o,Sn.LEFT),"depth of LEFT side has not been initialized"),e.setLocation(o,Sn.LEFT,i.getLocation(o,Sn.LEFT)),nt.isTrue(!i.isNull(o,Sn.RIGHT),"depth of RIGHT side has not been initialized"),e.setLocation(o,Sn.RIGHT,i.getLocation(o,Sn.RIGHT))))}}},n.prototype.computeLabelling=function(){for(var t=this._graph.getNodes().iterator();t.hasNext();)t.next().getEdges().computeLabelling(this._arg);this.mergeSymLabels(),this.updateNodeLabelling()},n.prototype.labelIncompleteNodes=function(){for(var t=this._graph.getNodes().iterator();t.hasNext();){var n=t.next(),e=n.getLabel();n.isIsolated()&&(e.isNull(0)?this.labelIncompleteNode(n,0):this.labelIncompleteNode(n,1)),n.getEdges().updateLabelling(e)}},n.prototype.isCoveredByA=function(t){return!!this.isCovered(t,this._resultPolyList)},n.prototype.interfaces_=function(){return[]},n.prototype.getClass=function(){return n},n}(xo);Lo.overlayOp=function(t,n,e){return new Lo(t,n).getResultGeometry(e)},Lo.intersection=function(t,n){if(t.isEmpty()||n.isEmpty())return Lo.createEmptyResult(Lo.INTERSECTION,t,n,t.getFactory());if(t.isGeometryCollection()){var e=n;return Ui.map(t,{interfaces_:function(){return[So.MapOp]},map:function(t){return t.intersection(e)}})}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(n),lo.overlayOp(t,n,Lo.INTERSECTION)},Lo.symDifference=function(t,n){if(t.isEmpty()||n.isEmpty()){if(t.isEmpty()&&n.isEmpty())return Lo.createEmptyResult(Lo.SYMDIFFERENCE,t,n,t.getFactory());if(t.isEmpty())return n.copy();if(n.isEmpty())return t.copy()}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(n),lo.overlayOp(t,n,Lo.SYMDIFFERENCE)},Lo.resultDimension=function(t,n,e){var i=n.getDimension(),o=e.getDimension(),l=-1;switch(t){case Lo.INTERSECTION:l=Math.min(i,o);break;case Lo.UNION:l=Math.max(i,o);break;case Lo.DIFFERENCE:l=i;break;case Lo.SYMDIFFERENCE:l=Math.max(i,o)}return l},Lo.createEmptyResult=function(t,n,e,i){var o=null;switch(Lo.resultDimension(t,n,e)){case-1:o=i.createGeometryCollection(new Array(0).fill(null));break;case 0:o=i.createPoint();break;case 1:o=i.createLineString();break;case 2:o=i.createPolygon()}return o},Lo.difference=function(t,n){return t.isEmpty()?Lo.createEmptyResult(Lo.DIFFERENCE,t,n,t.getFactory()):n.isEmpty()?t.copy():(t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(n),lo.overlayOp(t,n,Lo.DIFFERENCE))},Lo.isResultOfOp=function(){if(2===arguments.length){var t=arguments[0],n=arguments[1],e=t.getLocation(0),i=t.getLocation(1);return Lo.isResultOfOp(e,i,n)}if(3===arguments.length){var o=arguments[0],l=arguments[1],s=arguments[2];switch(o===R.BOUNDARY&&(o=R.INTERIOR),l===R.BOUNDARY&&(l=R.INTERIOR),s){case Lo.INTERSECTION:return o===R.INTERIOR&&l===R.INTERIOR;case Lo.UNION:return o===R.INTERIOR||l===R.INTERIOR;case Lo.DIFFERENCE:return o===R.INTERIOR&&l!==R.INTERIOR;case Lo.SYMDIFFERENCE:return o===R.INTERIOR&&l!==R.INTERIOR||o!==R.INTERIOR&&l===R.INTERIOR}return!1}},Lo.INTERSECTION=1,Lo.UNION=2,Lo.DIFFERENCE=3,Lo.SYMDIFFERENCE=4;var Ro=function(){this._g=null,this._boundaryDistanceTolerance=null,this._linework=null,this._ptLocator=new xi,this._seg=new be;var t=arguments[0],n=arguments[1];this._g=t,this._boundaryDistanceTolerance=n,this._linework=this.extractLinework(t)};Ro.prototype.isWithinToleranceOfBoundary=function(t){for(var n=0;n<this._linework.getNumGeometries();n++)for(var e=this._linework.getGeometryN(n).getCoordinateSequence(),i=0;i<e.size()-1;i++)if(e.getCoordinate(i,this._seg.p0),e.getCoordinate(i+1,this._seg.p1),this._seg.distance(t)<=this._boundaryDistanceTolerance)return!0;return!1},Ro.prototype.getLocation=function(t){return this.isWithinToleranceOfBoundary(t)?R.BOUNDARY:this._ptLocator.locate(t,this._g)},Ro.prototype.extractLinework=function(t){var n=new Ko;t.apply(n);var e=n.getLinework(),i=Xn.toLineStringArray(e);return t.getFactory().createMultiLineString(i)},Ro.prototype.interfaces_=function(){return[]},Ro.prototype.getClass=function(){return Ro};var Ko=function(){this._linework=null,this._linework=new vt};Ko.prototype.getLinework=function(){return this._linework},Ko.prototype.filter=function(t){if(t instanceof $t){var n=t;this._linework.add(n.getExteriorRing());for(var e=0;e<n.getNumInteriorRing();e++)this._linework.add(n.getInteriorRingN(e))}},Ko.prototype.interfaces_=function(){return[Nt]},Ko.prototype.getClass=function(){return Ko};var Ho=function(){this._g=null,this._doLeft=!0,this._doRight=!0;var t=arguments[0];this._g=t};Ho.prototype.extractPoints=function(t,n,e){for(var i=t.getCoordinates(),o=0;o<i.length-1;o++)this.computeOffsetPoints(i[o],i[o+1],n,e)},Ho.prototype.setSidesToGenerate=function(t,n){this._doLeft=t,this._doRight=n},Ho.prototype.getPoints=function(t){for(var n=new vt,e=Vi.getLines(this._g).iterator();e.hasNext();){var i=e.next();this.extractPoints(i,t,n)}return n},Ho.prototype.computeOffsetPoints=function(t,n,e,i){var o=n.x-t.x,l=n.y-t.y,s=Math.sqrt(o*o+l*l),r=e*o/s,a=e*l/s,d=(n.x+t.x)/2,c=(n.y+t.y)/2;if(this._doLeft){var u=new V(d-a,c+r);i.add(u)}if(this._doRight){var p=new V(d+a,c-r);i.add(p)}},Ho.prototype.interfaces_=function(){return[]},Ho.prototype.getClass=function(){return Ho};var Co=function t(){this._geom=null,this._locFinder=null,this._location=new Array(3).fill(null),this._invalidLocation=null,this._boundaryDistanceTolerance=t.TOLERANCE,this._testCoords=new vt;var n=arguments[0],e=arguments[1],i=arguments[2];this._boundaryDistanceTolerance=t.computeBoundaryDistanceTolerance(n,e),this._geom=[n,e,i],this._locFinder=[new Ro(this._geom[0],this._boundaryDistanceTolerance),new Ro(this._geom[1],this._boundaryDistanceTolerance),new Ro(this._geom[2],this._boundaryDistanceTolerance)]},Yo={TOLERANCE:{configurable:!0}};Co.prototype.reportResult=function(t,n,e){_.out.println("Overlay result invalid - A:"+R.toLocationSymbol(n[0])+" B:"+R.toLocationSymbol(n[1])+" expected:"+(e?"i":"e")+" actual:"+R.toLocationSymbol(n[2]))},Co.prototype.isValid=function(t){return this.addTestPts(this._geom[0]),this.addTestPts(this._geom[1]),this.checkValid(t)},Co.prototype.checkValid=function(){if(1===arguments.length){for(var t=arguments[0],n=0;n<this._testCoords.size();n++){var e=this._testCoords.get(n);if(!this.checkValid(t,e))return this._invalidLocation=e,!1}return!0}if(2===arguments.length){var i=arguments[0],o=arguments[1];return this._location[0]=this._locFinder[0].getLocation(o),this._location[1]=this._locFinder[1].getLocation(o),this._location[2]=this._locFinder[2].getLocation(o),!!Co.hasLocation(this._location,R.BOUNDARY)||this.isValidResult(i,this._location)}},Co.prototype.addTestPts=function(t){var n=new Ho(t);this._testCoords.addAll(n.getPoints(5*this._boundaryDistanceTolerance))},Co.prototype.isValidResult=function(t,n){var e=Lo.isResultOfOp(n[0],n[1],t),i=!(e^n[2]===R.INTERIOR);return i||this.reportResult(t,n,e),i},Co.prototype.getInvalidLocation=function(){return this._invalidLocation},Co.prototype.interfaces_=function(){return[]},Co.prototype.getClass=function(){return Co},Co.hasLocation=function(t,n){for(var e=0;e<3;e++)if(t[e]===n)return!0;return!1},Co.computeBoundaryDistanceTolerance=function(t,n){return Math.min(Ai.computeSizeBasedSnapTolerance(t),Ai.computeSizeBasedSnapTolerance(n))},Co.isValid=function(t,n,e,i){return new Co(t,n,i).isValid(e)},Yo.TOLERANCE.get=function(){return 1e-6},Object.defineProperties(Co,Yo);var To=function t(n){this._geomFactory=null,this._skipEmpty=!1,this._inputGeoms=null,this._geomFactory=t.extractFactory(n),this._inputGeoms=n};To.prototype.extractElements=function(t,n){if(null===t)return null;for(var e=0;e<t.getNumGeometries();e++){var i=t.getGeometryN(e);this._skipEmpty&&i.isEmpty()||n.add(i)}},To.prototype.combine=function(){for(var t=new vt,n=this._inputGeoms.iterator();n.hasNext();){var e=n.next();this.extractElements(e,t)}return 0===t.size()?null!==this._geomFactory?this._geomFactory.createGeometryCollection(null):null:this._geomFactory.buildGeometry(t)},To.prototype.interfaces_=function(){return[]},To.prototype.getClass=function(){return To},To.combine=function(){if(1===arguments.length)return new To(arguments[0]).combine();if(2===arguments.length){var t=arguments[0],n=arguments[1];return new To(To.createList(t,n)).combine()}if(3===arguments.length){var e=arguments[0],i=arguments[1],o=arguments[2];return new To(To.createList(e,i,o)).combine()}},To.extractFactory=function(t){return t.isEmpty()?null:t.iterator().next().getFactory()},To.createList=function(){if(2===arguments.length){var t=arguments[0],n=arguments[1],e=new vt;return e.add(t),e.add(n),e}if(3===arguments.length){var i=arguments[0],o=arguments[1],l=arguments[2],s=new vt;return s.add(i),s.add(o),s.add(l),s}};var Mo=function(){this._inputPolys=null,this._geomFactory=null;var t=arguments[0];this._inputPolys=t,null===this._inputPolys&&(this._inputPolys=new vt)},wo={STRTREE_NODE_CAPACITY:{configurable:!0}};Mo.prototype.reduceToGeometries=function(t){for(var n=new vt,e=t.iterator();e.hasNext();){var i=e.next(),o=null;H(i,gt)?o=this.unionTree(i):i instanceof ct&&(o=i),n.add(o)}return n},Mo.prototype.extractByEnvelope=function(t,n,e){for(var i=new vt,o=0;o<n.getNumGeometries();o++){var l=n.getGeometryN(o);l.getEnvelopeInternal().intersects(t)?i.add(l):e.add(l)}return this._geomFactory.buildGeometry(i)},Mo.prototype.unionOptimized=function(t,n){var e=t.getEnvelopeInternal(),i=n.getEnvelopeInternal();if(!e.intersects(i))return To.combine(t,n);if(t.getNumGeometries()<=1&&n.getNumGeometries()<=1)return this.unionActual(t,n);var o=e.intersection(i);return this.unionUsingEnvelopeIntersection(t,n,o)},Mo.prototype.union=function(){if(null===this._inputPolys)throw new Error("union() method cannot be called twice");if(this._inputPolys.isEmpty())return null;this._geomFactory=this._inputPolys.iterator().next().getFactory();for(var t=new se(Mo.STRTREE_NODE_CAPACITY),n=this._inputPolys.iterator();n.hasNext();){var e=n.next();t.insert(e.getEnvelopeInternal(),e)}this._inputPolys=null;var i=t.itemsTree();return this.unionTree(i)},Mo.prototype.binaryUnion=function(){if(1===arguments.length){var t=arguments[0];return this.binaryUnion(t,0,t.size())}if(3===arguments.length){var n=arguments[0],e=arguments[1],i=arguments[2];if(i-e<=1){var o=Mo.getGeometry(n,e);return this.unionSafe(o,null)}if(i-e==2)return this.unionSafe(Mo.getGeometry(n,e),Mo.getGeometry(n,e+1));var l=Math.trunc((i+e)/2),s=this.binaryUnion(n,e,l),r=this.binaryUnion(n,l,i);return this.unionSafe(s,r)}},Mo.prototype.repeatedUnion=function(t){for(var n=null,e=t.iterator();e.hasNext();){var i=e.next();n=null===n?i.copy():n.union(i)}return n},Mo.prototype.unionSafe=function(t,n){return null===t&&null===n?null:null===t?n.copy():null===n?t.copy():this.unionOptimized(t,n)},Mo.prototype.unionActual=function(t,n){return Mo.restrictToPolygons(t.union(n))},Mo.prototype.unionTree=function(t){var n=this.reduceToGeometries(t);return this.binaryUnion(n)},Mo.prototype.unionUsingEnvelopeIntersection=function(t,n,e){var i=new vt,o=this.extractByEnvelope(e,t,i),l=this.extractByEnvelope(e,n,i),s=this.unionActual(o,l);return i.add(s),To.combine(i)},Mo.prototype.bufferUnion=function(){if(1===arguments.length){var t=arguments[0];return t.get(0).getFactory().buildGeometry(t).buffer(0)}if(2===arguments.length){var n=arguments[0],e=arguments[1];return n.getFactory().createGeometryCollection([n,e]).buffer(0)}},Mo.prototype.interfaces_=function(){return[]},Mo.prototype.getClass=function(){return Mo},Mo.restrictToPolygons=function(t){if(H(t,qt))return t;var n=vi.getPolygons(t);return 1===n.size()?n.get(0):t.getFactory().createMultiPolygon(Xn.toPolygonArray(n))},Mo.getGeometry=function(t,n){return n>=t.size()?null:t.get(n)},Mo.union=function(t){return new Mo(t).union()},wo.STRTREE_NODE_CAPACITY.get=function(){return 4},Object.defineProperties(Mo,wo);var Po=function(){};Po.prototype.interfaces_=function(){return[]},Po.prototype.getClass=function(){return Po},Po.union=function(t,n){if(t.isEmpty()||n.isEmpty()){if(t.isEmpty()&&n.isEmpty())return Lo.createEmptyResult(Lo.UNION,t,n,t.getFactory());if(t.isEmpty())return n.copy();if(n.isEmpty())return t.copy()}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(n),lo.overlayOp(t,n,Lo.UNION)},t.GeoJSONReader=Vn,t.GeoJSONWriter=xn,t.OverlayOp=Lo,t.UnionOp=Po,t.BufferOp=bi,Object.defineProperty(t,"__esModule",{value:!0})}(n)}));function Xf(){return new ff}function ff(){this.reset()}ff.prototype={constructor:ff,reset:function(){this.s=this.t=0},add:function(t){Wf(Gf,t,this.t),Wf(this,Gf.s,this.s),this.s?this.t+=Gf.t:this.s=Gf.t},valueOf:function(){return this.s}};var Gf=new ff;function Wf(t,n,e){var i=t.s=n+e,o=i-n,l=i-o;t.t=n-l+(e-o)}var gf=1e-6,vf=Math.PI,Vf=vf/2,xf=vf/4,Sf=2*vf,Lf=180/vf,Rf=vf/180,Kf=Math.abs,Hf=Math.atan,Cf=Math.atan2,Yf=Math.cos,Tf=Math.sin,Mf=Math.sqrt;function wf(t){return t>1?0:t<-1?vf:Math.acos(t)}function Pf(t){return t>1?Vf:t<-1?-Vf:Math.asin(t)}function If(){}function zf(t,n){t&&kf.hasOwnProperty(t.type)&&kf[t.type](t,n)}var Jf,Nf,Ff={Feature:function(t,n){zf(t.geometry,n)},FeatureCollection:function(t,n){for(var e=t.features,i=-1,o=e.length;++i<o;)zf(e[i].geometry,n)}},kf={Sphere:function(t,n){n.sphere()},Point:function(t,n){t=t.coordinates,n.point(t[0],t[1],t[2])},MultiPoint:function(t,n){for(var e=t.coordinates,i=-1,o=e.length;++i<o;)t=e[i],n.point(t[0],t[1],t[2])},LineString:function(t,n){Bf(t.coordinates,n,0)},MultiLineString:function(t,n){for(var e=t.coordinates,i=-1,o=e.length;++i<o;)Bf(e[i],n,0)},Polygon:function(t,n){_f(t.coordinates,n)},MultiPolygon:function(t,n){for(var e=t.coordinates,i=-1,o=e.length;++i<o;)_f(e[i],n)},GeometryCollection:function(t,n){for(var e=t.geometries,i=-1,o=e.length;++i<o;)zf(e[i],n)}};function Bf(t,n,e){var i,o=-1,l=t.length-e;for(n.lineStart();++o<l;)i=t[o],n.point(i[0],i[1],i[2]);n.lineEnd()}function _f(t,n){var e=-1,i=t.length;for(n.polygonStart();++e<i;)Bf(t[e],n,1);n.polygonEnd()}function Uf(t){return[Cf(t[1],t[0]),Pf(t[2])]}function Ef(t){var n=t[0],e=t[1],i=Yf(e);return[i*Yf(n),i*Tf(n),Tf(e)]}function jf(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]}function Qf(t,n){return[t[1]*n[2]-t[2]*n[1],t[2]*n[0]-t[0]*n[2],t[0]*n[1]-t[1]*n[0]]}function Of(t,n){t[0]+=n[0],t[1]+=n[1],t[2]+=n[2]}function Af(t,n){return[t[0]*n,t[1]*n,t[2]*n]}function Df(t){var n=Mf(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=n,t[1]/=n,t[2]/=n}function qf(t,n){function e(e,i){return e=t(e,i),n(e[0],e[1])}return t.invert&&n.invert&&(e.invert=function(e,i){return(e=n.invert(e,i))&&t.invert(e[0],e[1])}),e}function $f(t,n){return[t>vf?t-Sf:t<-vf?t+Sf:t,n]}function tG(t){return function(n,e){return[(n+=t)>vf?n-Sf:n<-vf?n+Sf:n,e]}}function nG(t){var n=tG(t);return n.invert=tG(-t),n}function eG(t,n){var e=Yf(t),i=Tf(t),o=Yf(n),l=Tf(n);function s(t,n){var s=Yf(n),r=Yf(t)*s,a=Tf(t)*s,d=Tf(n),c=d*e+r*i;return[Cf(a*o-c*l,r*e-d*i),Pf(c*o+a*l)]}return s.invert=function(t,n){var s=Yf(n),r=Yf(t)*s,a=Tf(t)*s,d=Tf(n),c=d*o-a*l;return[Cf(a*o+d*l,r*e+c*i),Pf(c*e-r*i)]},s}function iG(t,n){(n=Ef(n))[0]-=t,Df(n);var e=wf(-n[1]);return((-n[2]<0?-e:e)+Sf-gf)%Sf}function oG(){var t,n=[];return{point:function(n,e){t.push([n,e])},lineStart:function(){n.push(t=[])},lineEnd:If,rejoin:function(){n.length>1&&n.push(n.pop().concat(n.shift()))},result:function(){var e=n;return n=[],t=null,e}}}function lG(t,n){return Kf(t[0]-n[0])<gf&&Kf(t[1]-n[1])<gf}function sG(t,n,e,i){this.x=t,this.z=n,this.o=e,this.e=i,this.v=!1,this.n=this.p=null}function rG(t,n,e,i,o){var l,s,r=[],a=[];if(t.forEach((function(t){if(!((n=t.length-1)<=0)){var n,e,i=t[0],s=t[n];if(lG(i,s)){for(o.lineStart(),l=0;l<n;++l)o.point((i=t[l])[0],i[1]);o.lineEnd()}else r.push(e=new sG(i,t,null,!0)),a.push(e.o=new sG(i,null,e,!1)),r.push(e=new sG(s,t,null,!1)),a.push(e.o=new sG(s,null,e,!0))}})),r.length){for(a.sort(n),aG(r),aG(a),l=0,s=a.length;l<s;++l)a[l].e=e=!e;for(var d,c,u=r[0];;){for(var p=u,h=!0;p.v;)if((p=p.n)===u)return;d=p.z,o.lineStart();do{if(p.v=p.o.v=!0,p.e){if(h)for(l=0,s=d.length;l<s;++l)o.point((c=d[l])[0],c[1]);else i(p.x,p.n.x,1,o);p=p.n}else{if(h)for(d=p.p.z,l=d.length-1;l>=0;--l)o.point((c=d[l])[0],c[1]);else i(p.x,p.p.x,-1,o);p=p.p}d=(p=p.o).z,h=!h}while(!p.v);o.lineEnd()}}}function aG(t){if(n=t.length){for(var n,e,i=0,o=t[0];++i<n;)o.n=e=t[i],e.p=o,o=e;o.n=e=t[0],e.p=o}}function dG(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function cG(t){for(var n,e,i,o=t.length,l=-1,s=0;++l<o;)s+=t[l].length;for(e=new Array(s);--o>=0;)for(n=(i=t[o]).length;--n>=0;)e[--s]=i[n];return e}Xf(),Xf(),Xf(),$f.invert=$f,1===(Jf=dG).length&&(Nf=Jf,Jf=function(t,n){return dG(Nf(t),n)});var uG=1e9,pG=-uG;function hG(t,n,e,i){function o(o,l){return t<=o&&o<=e&&n<=l&&l<=i}function l(o,l,r,d){var c=0,u=0;if(null==o||(c=s(o,r))!==(u=s(l,r))||a(o,l)<0^r>0)do{d.point(0===c||3===c?t:e,c>1?i:n)}while((c=(c+r+4)%4)!==u);else d.point(l[0],l[1])}function s(i,o){return Kf(i[0]-t)<gf?o>0?0:3:Kf(i[0]-e)<gf?o>0?2:1:Kf(i[1]-n)<gf?o>0?1:0:o>0?3:2}function r(t,n){return a(t.x,n.x)}function a(t,n){var e=s(t,1),i=s(n,1);return e!==i?e-i:0===e?n[1]-t[1]:1===e?t[0]-n[0]:2===e?t[1]-n[1]:n[0]-t[0]}return function(s){var a,d,c,u,p,h,m,b,y,Z,X,f=s,G=oG(),W={point:g,lineStart:function(){W.point=v,d&&d.push(c=[]);Z=!0,y=!1,m=b=NaN},lineEnd:function(){a&&(v(u,p),h&&y&&G.rejoin(),a.push(G.result()));W.point=g,y&&f.lineEnd()},polygonStart:function(){f=G,a=[],d=[],X=!0},polygonEnd:function(){var n=function(){for(var n=0,e=0,o=d.length;e<o;++e)for(var l,s,r=d[e],a=1,c=r.length,u=r[0],p=u[0],h=u[1];a<c;++a)l=p,s=h,p=(u=r[a])[0],h=u[1],s<=i?h>i&&(p-l)*(i-s)>(h-s)*(t-l)&&++n:h<=i&&(p-l)*(i-s)<(h-s)*(t-l)&&--n;return n}(),e=X&&n,o=(a=cG(a)).length;(e||o)&&(s.polygonStart(),e&&(s.lineStart(),l(null,null,1,s),s.lineEnd()),o&&rG(a,r,n,l,s),s.polygonEnd());f=s,a=d=c=null}};function g(t,n){o(t,n)&&f.point(t,n)}function v(l,s){var r=o(l,s);if(d&&c.push([l,s]),Z)u=l,p=s,h=r,Z=!1,r&&(f.lineStart(),f.point(l,s));else if(r&&y)f.point(l,s);else{var a=[m=Math.max(pG,Math.min(uG,m)),b=Math.max(pG,Math.min(uG,b))],G=[l=Math.max(pG,Math.min(uG,l)),s=Math.max(pG,Math.min(uG,s))];!function(t,n,e,i,o,l){var s,r=t[0],a=t[1],d=0,c=1,u=n[0]-r,p=n[1]-a;if(s=e-r,u||!(s>0)){if(s/=u,u<0){if(s<d)return;s<c&&(c=s)}else if(u>0){if(s>c)return;s>d&&(d=s)}if(s=o-r,u||!(s<0)){if(s/=u,u<0){if(s>c)return;s>d&&(d=s)}else if(u>0){if(s<d)return;s<c&&(c=s)}if(s=i-a,p||!(s>0)){if(s/=p,p<0){if(s<d)return;s<c&&(c=s)}else if(p>0){if(s>c)return;s>d&&(d=s)}if(s=l-a,p||!(s<0)){if(s/=p,p<0){if(s>c)return;s>d&&(d=s)}else if(p>0){if(s<d)return;s<c&&(c=s)}return d>0&&(t[0]=r+d*u,t[1]=a+d*p),c<1&&(n[0]=r+c*u,n[1]=a+c*p),!0}}}}}(a,G,t,n,e,i)?r&&(f.lineStart(),f.point(l,s),X=!1):(y||(f.lineStart(),f.point(a[0],a[1])),f.point(G[0],G[1]),r||f.lineEnd(),X=!1)}m=l,b=s,y=r}return W}}var mG=Xf();function bG(t){return t}Xf(),Xf(),Xf();var yG=1/0,ZG=yG,XG=-yG,fG=XG,GG={point:function(t,n){t<yG&&(yG=t);t>XG&&(XG=t);n<ZG&&(ZG=n);n>fG&&(fG=n)},lineStart:If,lineEnd:If,polygonStart:If,polygonEnd:If,result:function(){var t=[[yG,ZG],[XG,fG]];return XG=fG=-(ZG=yG=1/0),t}};function WG(t,n,e,i){return function(o,l){var s,r,a,d=n(l),c=o.invert(i[0],i[1]),u=oG(),p=n(u),h=!1,m={point:b,lineStart:Z,lineEnd:X,polygonStart:function(){m.point=f,m.lineStart=G,m.lineEnd=W,r=[],s=[]},polygonEnd:function(){m.point=b,m.lineStart=Z,m.lineEnd=X,r=cG(r);var t=function(t,n){var e=n[0],i=n[1],o=[Tf(e),-Yf(e),0],l=0,s=0;mG.reset();for(var r=0,a=t.length;r<a;++r)if(c=(d=t[r]).length)for(var d,c,u=d[c-1],p=u[0],h=u[1]/2+xf,m=Tf(h),b=Yf(h),y=0;y<c;++y,p=X,m=G,b=W,u=Z){var Z=d[y],X=Z[0],f=Z[1]/2+xf,G=Tf(f),W=Yf(f),g=X-p,v=g>=0?1:-1,V=v*g,x=V>vf,S=m*G;if(mG.add(Cf(S*v*Tf(V),b*W+S*Yf(V))),l+=x?g+v*Sf:g,x^p>=e^X>=e){var L=Qf(Ef(u),Ef(Z));Df(L);var R=Qf(o,L);Df(R);var K=(x^g>=0?-1:1)*Pf(R[2]);(i>K||i===K&&(L[0]||L[1]))&&(s+=x^g>=0?1:-1)}}return(l<-gf||l<gf&&mG<-gf)^1&s}(s,c);r.length?(h||(l.polygonStart(),h=!0),rG(r,vG,t,e,l)):t&&(h||(l.polygonStart(),h=!0),l.lineStart(),e(null,null,1,l),l.lineEnd()),h&&(l.polygonEnd(),h=!1),r=s=null},sphere:function(){l.polygonStart(),l.lineStart(),e(null,null,1,l),l.lineEnd(),l.polygonEnd()}};function b(n,e){var i=o(n,e);t(n=i[0],e=i[1])&&l.point(n,e)}function y(t,n){var e=o(t,n);d.point(e[0],e[1])}function Z(){m.point=y,d.lineStart()}function X(){m.point=b,d.lineEnd()}function f(t,n){a.push([t,n]);var e=o(t,n);p.point(e[0],e[1])}function G(){p.lineStart(),a=[]}function W(){f(a[0][0],a[0][1]),p.lineEnd();var t,n,e,i,o=p.clean(),d=u.result(),c=d.length;if(a.pop(),s.push(a),a=null,c)if(1&o){if((n=(e=d[0]).length-1)>0){for(h||(l.polygonStart(),h=!0),l.lineStart(),t=0;t<n;++t)l.point((i=e[t])[0],i[1]);l.lineEnd()}}else c>1&&2&o&&d.push(d.pop().concat(d.shift())),r.push(d.filter(gG))}return m}}function gG(t){return t.length>1}function vG(t,n){return((t=t.x)[0]<0?t[1]-Vf-gf:Vf-t[1])-((n=n.x)[0]<0?n[1]-Vf-gf:Vf-n[1])}Xf();var VG=WG((function(){return!0}),(function(t){var n,e=NaN,i=NaN,o=NaN;return{lineStart:function(){t.lineStart(),n=1},point:function(l,s){var r=l>0?vf:-vf,a=Kf(l-e);Kf(a-vf)<gf?(t.point(e,i=(i+s)/2>0?Vf:-Vf),t.point(o,i),t.lineEnd(),t.lineStart(),t.point(r,i),t.point(l,i),n=0):o!==r&&a>=vf&&(Kf(e-o)<gf&&(e-=o*gf),Kf(l-r)<gf&&(l-=r*gf),i=function(t,n,e,i){var o,l,s=Tf(t-e);return Kf(s)>gf?Hf((Tf(n)*(l=Yf(i))*Tf(e)-Tf(i)*(o=Yf(n))*Tf(t))/(o*l*s)):(n+i)/2}(e,i,l,s),t.point(o,i),t.lineEnd(),t.lineStart(),t.point(r,i),n=0),t.point(e=l,i=s),o=r},lineEnd:function(){t.lineEnd(),e=i=NaN},clean:function(){return 2-n}}}),(function(t,n,e,i){var o;if(null==t)o=e*Vf,i.point(-vf,o),i.point(0,o),i.point(vf,o),i.point(vf,0),i.point(vf,-o),i.point(0,-o),i.point(-vf,-o),i.point(-vf,0),i.point(-vf,o);else if(Kf(t[0]-n[0])>gf){var l=t[0]<n[0]?vf:-vf;o=e*l/2,i.point(-l,o),i.point(0,o),i.point(l,o)}else i.point(n[0],n[1])}),[-vf,-Vf]);function xG(t,n){var e=Yf(t),i=e>0,o=Kf(e)>gf;function l(t,n){return Yf(t)*Yf(n)>e}function s(t,n,i){var o=[1,0,0],l=Qf(Ef(t),Ef(n)),s=jf(l,l),r=l[0],a=s-r*r;if(!a)return!i&&t;var d=e*s/a,c=-e*r/a,u=Qf(o,l),p=Af(o,d);Of(p,Af(l,c));var h=u,m=jf(p,h),b=jf(h,h),y=m*m-b*(jf(p,p)-1);if(!(y<0)){var Z=Mf(y),X=Af(h,(-m-Z)/b);if(Of(X,p),X=Uf(X),!i)return X;var f,G=t[0],W=n[0],g=t[1],v=n[1];W<G&&(f=G,G=W,W=f);var V=W-G,x=Kf(V-vf)<gf;if(!x&&v<g&&(f=g,g=v,v=f),x||V<gf?x?g+v>0^X[1]<(Kf(X[0]-G)<gf?g:v):g<=X[1]&&X[1]<=v:V>vf^(G<=X[0]&&X[0]<=W)){var S=Af(h,(-m+Z)/b);return Of(S,p),[X,Uf(S)]}}}function r(n,e){var o=i?t:vf-t,l=0;return n<-o?l|=1:n>o&&(l|=2),e<-o?l|=4:e>o&&(l|=8),l}return WG(l,(function(t){var n,e,a,d,c;return{lineStart:function(){d=a=!1,c=1},point:function(u,p){var h,m=[u,p],b=l(u,p),y=i?b?0:r(u,p):b?r(u+(u<0?vf:-vf),p):0;if(!n&&(d=a=b)&&t.lineStart(),b!==a&&(!(h=s(n,m))||lG(n,h)||lG(m,h))&&(m[0]+=gf,m[1]+=gf,b=l(m[0],m[1])),b!==a)c=0,b?(t.lineStart(),h=s(m,n),t.point(h[0],h[1])):(h=s(n,m),t.point(h[0],h[1]),t.lineEnd()),n=h;else if(o&&n&&i^b){var Z;y&e||!(Z=s(m,n,!0))||(c=0,i?(t.lineStart(),t.point(Z[0][0],Z[0][1]),t.point(Z[1][0],Z[1][1]),t.lineEnd()):(t.point(Z[1][0],Z[1][1]),t.lineEnd(),t.lineStart(),t.point(Z[0][0],Z[0][1])))}!b||n&&lG(n,m)||t.point(m[0],m[1]),n=m,a=b,e=y},lineEnd:function(){a&&t.lineEnd(),n=null},clean:function(){return c|(d&&a)<<1}}}),(function(e,i,o,l){!function(t,n,e,i,o,l){if(e){var s=Yf(n),r=Tf(n),a=i*e;null==o?(o=n+i*Sf,l=n-a/2):(o=iG(s,o),l=iG(s,l),(i>0?o<l:o>l)&&(o+=i*Sf));for(var d,c=o;i>0?c>l:c<l;c-=a)d=Uf([s,-r*Yf(c),-r*Tf(c)]),t.point(d[0],d[1])}}(l,t,n,o,e,i)}),i?[0,-t]:[-vf,t-vf])}function SG(t){return function(n){var e=new LG;for(var i in t)e[i]=t[i];return e.stream=n,e}}function LG(){}function RG(t,n,e){var i=n[1][0]-n[0][0],o=n[1][1]-n[0][1],l=t.clipExtent&&t.clipExtent();t.scale(150).translate([0,0]),null!=l&&t.clipExtent(null),function(t,n){t&&Ff.hasOwnProperty(t.type)?Ff[t.type](t,n):zf(t,n)}(e,t.stream(GG));var s=GG.result(),r=Math.min(i/(s[1][0]-s[0][0]),o/(s[1][1]-s[0][1])),a=+n[0][0]+(i-r*(s[1][0]+s[0][0]))/2,d=+n[0][1]+(o-r*(s[1][1]+s[0][1]))/2;return null!=l&&t.clipExtent(l),t.scale(150*r).translate([a,d])}LG.prototype={constructor:LG,point:function(t,n){this.stream.point(t,n)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var KG=Yf(30*Rf);function HG(t,n){return+n?function(t,n){function e(i,o,l,s,r,a,d,c,u,p,h,m,b,y){var Z=d-i,X=c-o,f=Z*Z+X*X;if(f>4*n&&b--){var G=s+p,W=r+h,g=a+m,v=Mf(G*G+W*W+g*g),V=Pf(g/=v),x=Kf(Kf(g)-1)<gf||Kf(l-u)<gf?(l+u)/2:Cf(W,G),S=t(x,V),L=S[0],R=S[1],K=L-i,H=R-o,C=X*K-Z*H;(C*C/f>n||Kf((Z*K+X*H)/f-.5)>.3||s*p+r*h+a*m<KG)&&(e(i,o,l,s,r,a,L,R,x,G/=v,W/=v,g,b,y),y.point(L,R),e(L,R,x,G,W,g,d,c,u,p,h,m,b,y))}}return function(n){var i,o,l,s,r,a,d,c,u,p,h,m,b={point:y,lineStart:Z,lineEnd:f,polygonStart:function(){n.polygonStart(),b.lineStart=G},polygonEnd:function(){n.polygonEnd(),b.lineStart=Z}};function y(e,i){e=t(e,i),n.point(e[0],e[1])}function Z(){c=NaN,b.point=X,n.lineStart()}function X(i,o){var l=Ef([i,o]),s=t(i,o);e(c,u,d,p,h,m,c=s[0],u=s[1],d=i,p=l[0],h=l[1],m=l[2],16,n),n.point(c,u)}function f(){b.point=y,n.lineEnd()}function G(){Z(),b.point=W,b.lineEnd=g}function W(t,n){X(i=t,n),o=c,l=u,s=p,r=h,a=m,b.point=X}function g(){e(c,u,d,p,h,m,o,l,i,s,r,a,16,n),b.lineEnd=f,f()}return b}}(t,n):function(t){return SG({point:function(n,e){n=t(n,e),this.stream.point(n[0],n[1])}})}(t)}var CG=SG({point:function(t,n){this.stream.point(t*Rf,n*Rf)}});function YG(t){return function(t){var n,e,i,o,l,s,r,a,d,c,u=150,p=480,h=250,m=0,b=0,y=0,Z=0,X=0,f=null,G=VG,W=null,g=bG,v=.5,V=HG(L,v);function x(t){return[(t=l(t[0]*Rf,t[1]*Rf))[0]*u+e,i-t[1]*u]}function S(t){return(t=l.invert((t[0]-e)/u,(i-t[1])/u))&&[t[0]*Lf,t[1]*Lf]}function L(t,o){return[(t=n(t,o))[0]*u+e,i-t[1]*u]}function R(){l=qf(o=function(t,n,e){return(t%=Sf)?n||e?qf(nG(t),eG(n,e)):nG(t):n||e?eG(n,e):$f}(y,Z,X),n);var t=n(m,b);return e=p-t[0]*u,i=h+t[1]*u,K()}function K(){return d=c=null,x}return x.stream=function(t){return d&&c===t?d:d=CG(G(o,V(g(c=t))))},x.clipAngle=function(t){return arguments.length?(G=+t?xG(f=t*Rf,6*Rf):(f=null,VG),K()):f*Lf},x.clipExtent=function(t){return arguments.length?(g=null==t?(W=s=r=a=null,bG):hG(W=+t[0][0],s=+t[0][1],r=+t[1][0],a=+t[1][1]),K()):null==W?null:[[W,s],[r,a]]},x.scale=function(t){return arguments.length?(u=+t,R()):u},x.translate=function(t){return arguments.length?(p=+t[0],h=+t[1],R()):[p,h]},x.center=function(t){return arguments.length?(m=t[0]%360*Rf,b=t[1]%360*Rf,R()):[m*Lf,b*Lf]},x.rotate=function(t){return arguments.length?(y=t[0]%360*Rf,Z=t[1]%360*Rf,X=t.length>2?t[2]%360*Rf:0,R()):[y*Lf,Z*Lf,X*Lf]},x.precision=function(t){return arguments.length?(V=HG(L,v=t*t),K()):Mf(v)},x.fitExtent=function(t,n){return RG(x,t,n)},x.fitSize=function(t,n){return function(t,n,e){return RG(t,[[0,0],n],e)}(x,t,n)},function(){return n=t.apply(this,arguments),x.invert=n.invert&&S,R()}}((function(){return t}))()}var TG=function(t){return function(n,e){var i=Yf(n),o=Yf(e),l=t(i*o);return[l*o*Tf(n),l*Tf(e)]}}((function(t){return(t=wf(t))&&t/Tf(t)}));function MG(){return YG(TG).scale(79.4188).clipAngle(179.999)}function wG(t,n,e,i){var o=t.properties||{},l="Feature"===t.type?t.geometry:t;if("GeometryCollection"===l.type){var s=[];return Ea(t,(function(t){var o=wG(t,n,e,i);o&&s.push(o)})),Ga(s)}var r=function(t){var n=Xu(t).geometry.coordinates,e=[-n[0],-n[1]];return MG().rotate(e).scale(aa)}(l),a={type:l.type,coordinates:IG(l.coordinates,r)},d=(new Zf.GeoJSONReader).read(a),c=Sa(La(n,e),"meters"),u=Zf.BufferOp.bufferOp(d,c,i);if(!PG((u=(new Zf.GeoJSONWriter).write(u)).coordinates))return pa({type:u.type,coordinates:zG(u.coordinates,r)},o)}function PG(t){return Array.isArray(t[0])?PG(t[0]):isNaN(t[0])}function IG(t,e){return"object"!==n(t[0])?e(t):t.map((function(t){return IG(t,e)}))}function zG(t,e){return"object"!==n(t[0])?e.invert(t):t.map((function(t){return zG(t,e)}))}function JG(t,n,e){void 0===e&&(e={});var i=cd(t),o=cd(n),l=yf.intersection(i.coordinates,o.coordinates);return 0===l.length?null:1===l.length?ya(l[0],e.properties):va(l,e.properties)}function NG(t,n,e){void 0===e&&(e={});var i=JSON.stringify(e.properties||{}),o=t[0],l=t[1],s=t[2],r=t[3],a=(l+r)/2,d=(o+s)/2,c=2*n/ec([o,a],[s,a],e)*(s-o),u=2*n/ec([d,l],[d,r],e)*(r-l),p=c/2,h=2*p,m=Math.sqrt(3)/2*u,b=s-o,y=r-l,Z=3/4*h,X=m,f=(b-h)/(h-p/2),G=Math.floor(f),W=(G*Z-p/2-b)/2-p/2+Z/2,g=Math.floor((y-m)/m),v=(y-g*m)/2,V=g*m-y>m/2;V&&(v-=m/4);for(var x=[],S=[],L=0;L<6;L++){var R=2*Math.PI/6*L;x.push(Math.cos(R)),S.push(Math.sin(R))}for(var K=[],H=0;H<=G;H++)for(var C=0;C<=g;C++){var Y=H%2==1;if((0!==C||!Y)&&(0!==C||!V)){var T=H*Z+o-W,M=C*X+l+v;if(Y&&(M-=m/2),!0===e.triangles)kG([T,M],c/2,u/2,JSON.parse(i),x,S).forEach((function(t){e.mask?JG(e.mask,t)&&K.push(t):K.push(t)}));else{var w=FG([T,M],c/2,u/2,JSON.parse(i),x,S);e.mask?JG(e.mask,w)&&K.push(w):K.push(w)}}}return Ga(K)}function FG(t,n,e,i,o,l){for(var s=[],r=0;r<6;r++){var a=t[0]+n*o[r],d=t[1]+e*l[r];s.push([a,d])}return s.push(s[0].slice()),ya([s],i)}function kG(t,n,e,i,o,l){for(var s=[],r=0;r<6;r++){var a=[];a.push(t),a.push([t[0]+n*o[r],t[1]+e*l[r]]),a.push([t[0]+n*o[(r+1)%6],t[1]+e*l[(r+1)%6]]),a.push(t),s.push(ya([a],i))}return s}function BG(t){return va(t)}function _G(t,n,e){return void 0===e&&(e={}),function(t,n,e,i){void 0===i&&(i={});for(var o=[],l=t[0],s=t[1],r=t[2],a=t[3],d=n/ec([l,s],[r,s],i)*(r-l),c=e/ec([l,s],[l,a],i)*(a-s),u=r-l,p=a-s,h=Math.floor(u/d),m=Math.floor(p/c),b=(p-m*c)/2,y=l+(u-h*d)/2,Z=0;Z<h;Z++){for(var X=s+b,f=0;f<m;f++){var G=ya([[[y,X],[y,X+c],[y+d,X+c],[y+d,X],[y,X]]],i.properties);i.mask?LZ(i.mask,G)&&o.push(G):o.push(G),X+=c}y+=d}return Ga(o)}(t,n,n,e)}function UG(t,n,e){void 0===e&&(e={});for(var i=[],o=n/ec([t[0],t[1]],[t[2],t[1]],e)*(t[2]-t[0]),l=n/ec([t[0],t[1]],[t[0],t[3]],e)*(t[3]-t[1]),s=0,r=t[0];r<=t[2];){for(var a=0,d=t[1];d<=t[3];){var c=null,u=null;s%2==0&&a%2==0?(c=ya([[[r,d],[r,d+l],[r+o,d],[r,d]]],e.properties),u=ya([[[r,d+l],[r+o,d+l],[r+o,d],[r,d+l]]],e.properties)):s%2==0&&a%2==1?(c=ya([[[r,d],[r+o,d+l],[r+o,d],[r,d]]],e.properties),u=ya([[[r,d],[r,d+l],[r+o,d+l],[r,d]]],e.properties)):a%2==0&&s%2==1?(c=ya([[[r,d],[r,d+l],[r+o,d+l],[r,d]]],e.properties),u=ya([[[r,d],[r+o,d+l],[r+o,d],[r,d]]],e.properties)):a%2==1&&s%2==1&&(c=ya([[[r,d],[r,d+l],[r+o,d],[r,d]]],e.properties),u=ya([[[r,d+l],[r+o,d+l],[r+o,d],[r,d+l]]],e.properties)),e.mask?(JG(e.mask,c)&&i.push(c),JG(e.mask,u)&&i.push(u)):(i.push(c),i.push(u)),d+=l,a++}s++,r+=o}return Ga(i)}TG.invert=function(t){return function(n,e){var i=Mf(n*n+e*e),o=t(i),l=Tf(o),s=Yf(o);return[Cf(n*l,i*s),Pf(i&&e*l/i)]}}((function(t){return t}));var EG=Object.freeze({__proto__:null,projection:DX,random:sf,clusters:mf,helpers:za,invariant:pd,meta:ed,isolines:function(t,n,e){if(!wa(e=e||{}))throw new Error("options is invalid");var i=e.zProperty||"elevation",o=e.commonProperties||{},l=e.breaksProperties||[];if(dd(t,"Point","Input must contain Points"),!n)throw new Error("breaks is required");if(!Array.isArray(n))throw new Error("breaks must be an Array");if(!wa(o))throw new Error("commonProperties must be an Object");if(!Array.isArray(l))throw new Error("breaksProperties must be an Array");var s=xd(t,{zProperty:i,flip:!0}),r=function(t,n,e,i,o){for(var l=[],s=1;s<n.length;s++){var r=+n[s],a=Zd({},i,o[s]);a[e]=r;var d=Wa(Gd(t,r),a);l.push(d)}return l}(s,n,i,o,l),a=function(t,n,e){var i=id(e),o=i[2]-i[0],l=i[3]-i[1],s=i[0],r=i[1],a=n[0].length-1,d=n.length-1,c=o/a,u=l/d,p=function(t){t[0]=t[0]*c+s,t[1]=t[1]*u+r};return t.forEach((function(t){Ja(t,p)})),t}(r,s,t);return Ga(a)},convex:qd,pointsWithinPolygon:nc,within:nc,concave:function(t,n){void 0===n&&(n={});var e=n.maxEdge||1/0,i=function(t){var n=[],e={};return Ba(t,(function(t){if(t.geometry){var i=t.geometry.coordinates.join("-");Object.prototype.hasOwnProperty.call(e,i)||(n.push(t),e[i]=!0)}})),Ga(n)}(t),o=ic(i);if(o.features=o.features.filter((function(t){var i=t.geometry.coordinates[0][0],o=t.geometry.coordinates[0][1],l=t.geometry.coordinates[0][2],s=ec(i,o,n),r=ec(o,l,n),a=ec(i,l,n);return s<=e&&r<=e&&a<=e})),o.features.length<1)return null;var l=Pc(o);return 1===l.coordinates.length&&(l.coordinates=l.coordinates[0],l.type="Polygon"),pa(l)},collect:function(t,n,e,i){var o=zc(6),l=n.features.map((function(t){var n;return{minX:t.geometry.coordinates[0],minY:t.geometry.coordinates[1],maxX:t.geometry.coordinates[0],maxY:t.geometry.coordinates[1],property:null===(n=t.properties)||void 0===n?void 0:n[e]}}));return o.load(l),t.features.forEach((function(t){t.properties||(t.properties={});var n=id(t),e=o.search({minX:n[0],minY:n[1],maxX:n[2],maxY:n[3]}),l=[];e.forEach((function(n){$d([n.minX,n.minY],t)&&l.push(n.property)})),t.properties[i]=l})),t},flip:function(t,n){if(!wa(n=n||{}))throw new Error("options is invalid");var e=n.mutate;if(!t)throw new Error("geojson is required");return!1!==e&&void 0!==e||(t=rc(t)),Ja(t,(function(t){var n=t[0],e=t[1];t[0]=e,t[1]=n})),t},simplify:function(t,n){if(!wa(n=n||{}))throw new Error("options is invalid");var e=void 0!==n.tolerance?n.tolerance:1,i=n.highQuality||!1,o=n.mutate||!1;if(!t)throw new Error("geojson is required");if(e&&e<0)throw new Error("invalid tolerance");return!0!==o&&(t=rc(t)),Ea(t,(function(t){!function(t,n,e){var i=t.type;if("Point"===i||"MultiPoint"===i)return t;$c(t,!0);var o=t.coordinates;switch(i){case"LineString":t.coordinates=ru(o,n,e);break;case"MultiLineString":t.coordinates=o.map((function(t){return ru(t,n,e)}));break;case"Polygon":t.coordinates=au(o,n,e);break;case"MultiPolygon":t.coordinates=o.map((function(t){return au(t,n,e)}))}}(t,e,i)})),t},bezier:uu,bezierSpline:uu,tag:function(t,n,e,i){return t=rc(t),n=rc(n),Ba(t,(function(t){t.properties||(t.properties={}),Ba(n,(function(n){void 0===t.properties[i]&&$d(t,n)&&(t.properties[i]=n.properties[e])}))})),t},sample:function(t,n){if(!t)throw new Error("featurecollection is required");if(null==n)throw new Error("num is required");if("number"!=typeof n)throw new Error("num must be a number");var e=Ga(function(t,n){var e,i,o=t.slice(0),l=t.length,s=l-n;for(;l-- >s;)e=o[i=Math.floor((l+1)*Math.random())],o[i]=o[l],o[l]=e;return o.slice(s)}(t.features,n));return e},envelope:hu,square:mu,circle:yu,midpoint:function(t,n){return bu(t,ec(t,n)/2,Zu(t,n))},center:Xu,centerOfMass:function t(n,e){switch(void 0===e&&(e={}),ud(n)){case"Point":return ma(od(n),e.properties);case"Polygon":var i=[];Ja(n,(function(t){i.push(t)}));var o,l,s,r,a,d,c,u,p=fu(n,{properties:e.properties}),h=p.geometry.coordinates,m=0,b=0,y=0,Z=i.map((function(t){return[t[0]-h[0],t[1]-h[1]]}));for(o=0;o<i.length-1;o++)r=(l=Z[o])[0],d=l[1],a=(s=Z[o+1])[0],y+=u=r*(c=s[1])-a*d,m+=(r+a)*u,b+=(d+c)*u;if(0===y)return p;var X=1/(6*(.5*y));return ma([h[0]+X*m,h[1]+X*b],e.properties);default:var f=qd(n);return f?t(f,{properties:e.properties}):fu(n,{properties:e.properties})}},centroid:fu,combine:function(t){var n={MultiPoint:{coordinates:[],properties:[]},MultiLineString:{coordinates:[],properties:[]},MultiPolygon:{coordinates:[],properties:[]}};return Ba(t,(function(t){var e,i,o,l;switch(null===(l=t.geometry)||void 0===l?void 0:l.type){case"Point":n.MultiPoint.coordinates.push(t.geometry.coordinates),n.MultiPoint.properties.push(t.properties);break;case"MultiPoint":(e=n.MultiPoint.coordinates).push.apply(e,t.geometry.coordinates),n.MultiPoint.properties.push(t.properties);break;case"LineString":n.MultiLineString.coordinates.push(t.geometry.coordinates),n.MultiLineString.properties.push(t.properties);break;case"MultiLineString":(i=n.MultiLineString.coordinates).push.apply(i,t.geometry.coordinates),n.MultiLineString.properties.push(t.properties);break;case"Polygon":n.MultiPolygon.coordinates.push(t.geometry.coordinates),n.MultiPolygon.properties.push(t.properties);break;case"MultiPolygon":(o=n.MultiPolygon.coordinates).push.apply(o,t.geometry.coordinates),n.MultiPolygon.properties.push(t.properties)}})),Ga(Object.keys(n).filter((function(t){return n[t].coordinates.length})).sort().map((function(t){return pa({type:t,coordinates:n[t].coordinates},{collectedProperties:n[t].properties})})))},distance:ec,explode:Gu,bbox:id,tesselate:function(t){if(!t.geometry||"Polygon"!==t.geometry.type&&"MultiPolygon"!==t.geometry.type)throw new Error("input must be a Polygon or MultiPolygon");var n={type:"FeatureCollection",features:[]};return"Polygon"===t.geometry.type?n.features=Ou(t.geometry.coordinates):t.geometry.coordinates.forEach((function(t){n.features=n.features.concat(Ou(t))})),n},bboxPolygon:pu,booleanPointInPolygon:$d,inside:$d,nearest:Au,nearestPoint:Au,nearestPointOnLine:Pp,pointOnLine:Pp,nearestPointToLine:function(t,n,e){void 0===e&&(e={});var i=e.units,o=e.properties||{},l=function(t){var n=[];switch(t.geometry?t.geometry.type:t.type){case"GeometryCollection":return Ea(t,(function(t){"Point"===t.type&&n.push({type:"Feature",properties:{},geometry:t})})),{type:"FeatureCollection",features:n};case"FeatureCollection":return t.features=t.features.filter((function(t){return"Point"===t.geometry.type})),t;default:throw new Error("points must be a Point Collection")}}(t);if(!l.features.length)throw new Error("points must contain features");if(!n)throw new Error("line is required");if("LineString"!==ud(n))throw new Error("line must be a LineString");var s=1/0,r=null;return Ba(l,(function(t){var e=zp(t,n,{units:i});e<s&&(s=e,r=t)})),r&&(r.properties=Zd({dist:s},r.properties,o)),r},planepoint:function(t,n){var e=od(t),i=cd(n).coordinates[0];if(i.length<4)throw new Error("OuterRing of a Polygon must have 4 or more Positions.");var o=n.properties||{},l=o.a,s=o.b,r=o.c,a=e[0],d=e[1],c=i[0][0],u=i[0][1],p=void 0!==l?l:i[0][2],h=i[1][0],m=i[1][1],b=void 0!==s?s:i[1][2],y=i[2][0],Z=i[2][1],X=void 0!==r?r:i[2][2];return(X*(a-c)*(d-m)+p*(a-h)*(d-Z)+b*(a-y)*(d-u)-b*(a-c)*(d-Z)-X*(a-h)*(d-u)-p*(a-y)*(d-m))/((a-c)*(d-m)+(a-h)*(d-Z)+(a-y)*(d-u)-(a-c)*(d-Z)-(a-h)*(d-u)-(a-y)*(d-m))},tin:ic,bearing:Zu,destination:bu,kinks:function(t){var n,e,i={type:"FeatureCollection",features:[]};if("LineString"===(e="Feature"===t.type?t.geometry:t).type)n=[e.coordinates];else if("MultiLineString"===e.type)n=e.coordinates;else if("MultiPolygon"===e.type)n=[].concat.apply([],e.coordinates);else{if("Polygon"!==e.type)throw new Error("Input must be a LineString, MultiLineString, Polygon, or MultiPolygon Feature or Geometry");n=e.coordinates}return n.forEach((function(t){n.forEach((function(n){for(var e=0;e<t.length-1;e++)for(var o=e;o<n.length-1;o++){if(t===n){if(1===Math.abs(e-o))continue;if(0===e&&o===t.length-2&&t[e][0]===t[t.length-1][0]&&t[e][1]===t[t.length-1][1])continue}var l=Fp(t[e][0],t[e][1],t[e+1][0],t[e+1][1],n[o][0],n[o][1],n[o+1][0],n[o+1][1]);l&&i.features.push(ma([l[0],l[1]]))}}))})),i},pointOnFeature:kp,pointOnSurface:kp,area:Up,along:function(t,n,e){void 0===e&&(e={});for(var i=cd(t).coordinates,o=0,l=0;l<i.length&&!(n>=o&&l===i.length-1);l++){if(o>=n){var s=n-o;if(s){var r=Zu(i[l],i[l-1])-180;return bu(i[l],s,r,e)}return ma(i[l])}o+=ec(i[l],i[l+1],e)}return ma(i[i.length-1])},length:Op,lineDistance:Op,lineSlice:function(t,n,e){var i=ld(e);if("LineString"!==ud(e))throw new Error("line must be a LineString");for(var o,l=Pp(e,t),s=Pp(e,n),r=[(o=l.properties.index<=s.properties.index?[l,s]:[s,l])[0].geometry.coordinates],a=o[0].properties.index+1;a<o[1].properties.index+1;a++)r.push(i[a]);return r.push(o[1].geometry.coordinates),Xa(r,e.properties)},lineSliceAlong:Ap,pointGrid:ih,truncate:oh,flatten:lh,lineIntersect:Mp,lineChunk:function(t,n,e){if(!wa(e=e||{}))throw new Error("options is invalid");var i=e.units,o=e.reverse;if(!t)throw new Error("geojson is required");if(n<=0)throw new Error("segmentLength must be greater than 0");var l=[];return Qa(t,(function(t){o&&(t.geometry.coordinates=t.geometry.coordinates.reverse()),function(t,n,e,i){var o=Op(t,{units:e});if(o<=n)return i(t);var l=o/n;Number.isInteger(l)||(l=Math.floor(l)+1);for(var s=0;s<l;s++){i(Ap(t,n*s,n*(s+1),{units:e}),s)}}(t,n,i,(function(t){l.push(t)}))})),Ga(l)},unkinkPolygon:function(t){var n=[];return Qa(t,(function(t){"Polygon"===t.geometry.type&&Ba(ah(t),(function(e){n.push(ya(e.geometry.coordinates,t.properties))}))})),Ga(n)},greatCircle:function(t,e,i){if("object"!==n(i=i||{}))throw new Error("options is invalid");var o=i.properties,l=i.npoints,s=i.offset;return t=od(t),e=od(e),o=o||{},l=l||100,s=s||10,new Gh({x:t[0],y:t[1]},{x:e[0],y:e[1]},o).Arc(l,{offset:s}).json()},lineSegment:Du,lineSplit:function(t,n){if(!t)throw new Error("line is required");if(!n)throw new Error("splitter is required");var e=ud(t),i=ud(n);if("LineString"!==e)throw new Error("line must be LineString");if("FeatureCollection"===i)throw new Error("splitter cannot be a FeatureCollection");if("GeometryCollection"===i)throw new Error("splitter cannot be a GeometryCollection");var o=oh(n,{precision:7});switch(i){case"Point":return gh(t,o);case"MultiPoint":return Wh(t,o);case"LineString":case"MultiLineString":case"Polygon":case"MultiPolygon":return Wh(t,Mp(t,o))}},lineArc:xh,polygonToLine:Lh,polygonToLineString:Lh,lineStringToPolygon:Hh,lineToPolygon:Hh,bboxClip:function(t,n){var e=cd(t),i=e.type,o="Feature"===t.type?t.properties:{},l=e.coordinates;switch(i){case"LineString":case"MultiLineString":var s=[];return"LineString"===i&&(l=[l]),l.forEach((function(t){!function(t,n,e){var i,o,l,s,r,a=t.length,d=wh(t[0],n),c=[];for(e||(e=[]),i=1;i<a;i++){for(s=t[i-1],o=l=wh(r=t[i],n);;){if(!(d|o)){c.push(s),o!==l?(c.push(r),i<a-1&&(e.push(c),c=[])):i===a-1&&c.push(r);break}if(d&o)break;d?d=wh(s=Mh(s,r,d,n),n):o=wh(r=Mh(s,r,o,n),n)}d=l}c.length&&e.push(c)}(t,n,s)})),1===s.length?Xa(s[0],o):Wa(s,o);case"Polygon":return ya(Ph(l,n),o);case"MultiPolygon":return va(l.map((function(t){return Ph(t,n)})),o);default:throw new Error("geometry "+i+" not supported")}},lineOverlap:wb,sector:function(t,e,i,o,l){if(!wa(l=l||{}))throw new Error("options is invalid");var s=l.properties;if(!t)throw new Error("center is required");if(null==i)throw new Error("bearing1 is required");if(null==o)throw new Error("bearing2 is required");if(!e)throw new Error("radius is required");if("object"!==n(l))throw new Error("options must be an object");if(Ib(i)===Ib(o))return yu(t,e,l);var r=ld(t),a=xh(t,e,i,o,l),d=[[r]];return Ja(a,(function(t){d[0].push(t)})),d[0].push(r),ya(d,s)},rhumbBearing:zb,rhumbDistance:Ip,rhumbDestination:Nb,polygonTangents:function(t,n){var e,i,o,l,s=ld(t),r=ld(n),a=id(n),d=0,c=null;switch(s[0]>a[0]&&s[0]<a[2]&&s[1]>a[1]&&s[1]<a[3]&&(d=(c=Au(t,Gu(n))).properties.featureIndex),ud(n)){case"Polygon":e=r[0][d],i=r[0][0],null!==c&&c.geometry.coordinates[1]<s[1]&&(i=r[0][d]),l=Bb(r[0][0],r[0][r[0].length-1],s);var u=Fb(r[0],s,l,o,e,i);e=u[0],i=u[1];break;case"MultiPolygon":for(var p=0,h=0,m=0,b=0;b<r[0].length;b++){p=b;for(var y=!1,Z=0;Z<r[0][b].length;Z++){if(h=Z,m===d){y=!0;break}m++}if(y)break}e=r[0][p][h],i=r[0][p][h],l=Bb(r[0][0][0],r[0][0][r[0][0].length-1],s),r.forEach((function(t){var n=Fb(t[0],s,l,o,e,i);e=n[0],i=n[1]}))}return Ga([ma(e),ma(i)])},rewind:function(t,n){if(!wa(n=n||{}))throw new Error("options is invalid");var e=n.reverse||!1,i=n.mutate||!1;if(!t)throw new Error("<geojson> is required");if("boolean"!=typeof e)throw new Error("<reverse> must be a boolean");if("boolean"!=typeof i)throw new Error("<mutate> must be a boolean");!1===i&&(t=rc(t));var o=[];switch(t.type){case"GeometryCollection":return Ea(t,(function(t){Ub(t,e)})),t;case"FeatureCollection":return Ba(t,(function(t){Ba(Ub(t,e),(function(t){o.push(t)}))})),Ga(o)}return Ub(t,e)},isobands:function(t,n,e){if(!wa(e=e||{}))throw new Error("options is invalid");var i=e.zProperty||"elevation",o=e.commonProperties||{},l=e.breaksProperties||[];if(dd(t,"Point","Input must contain Points"),!n)throw new Error("breaks is required");if(!Array.isArray(n))throw new Error("breaks is not an Array");if(!wa(o))throw new Error("commonProperties is not an Object");if(!Array.isArray(l))throw new Error("breaksProperties is not an Array");var s=Qb(t,{zProperty:i,flip:!0}),r=function(t,n,e){for(var i=[],o=1;o<n.length;o++){var l=+n[o-1],s=+n[o],r=jy(Ey(Db(t,l,s-l))),a={};a.groupedRings=r,a[e]=l+"-"+s,i.push(a)}return i}(s,n,i);r=function(t,n,e){var i=id(e),o=i[2]-i[0],l=i[3]-i[1],s=i[0],r=i[1],a=n[0].length-1,d=n.length-1,c=o/a,u=l/d,p=function(t){t[0]=t[0]*c+s,t[1]=t[1]*u+r};return t.forEach((function(t){t.groupedRings.forEach((function(t){t.forEach((function(t){t.forEach(p)}))}))})),t}(r,s,t);var a=r.map((function(t,n){if(l[n]&&!wa(l[n]))throw new Error("Each mappedProperty is required to be an Object");var e=Zd({},o,l[n]);return e[i]=t[i],va(t.groupedRings,e)}));return Ga(a)},transformRotate:Ay,transformScale:Dy,transformTranslate:function(t,n,e,i){if(!wa(i=i||{}))throw new Error("options is invalid");var o=i.units,l=i.zTranslation,s=i.mutate;if(!t)throw new Error("geojson is required");if(null==n||isNaN(n))throw new Error("distance is required");if(l&&"number"!=typeof l&&isNaN(l))throw new Error("zTranslation is not a number");if(l=void 0!==l?l:0,0===n&&0===l)return t;if(null==e||isNaN(e))throw new Error("direction is required");return n<0&&(n=-n,e+=180),!1!==s&&void 0!==s||(t=rc(t)),Ja(t,(function(t){var i=ld(Nb(t,n,e,{units:o}));t[0]=i[0],t[1]=i[1],l&&3===t.length&&(t[2]+=l)})),t},lineOffset:function(t,n,e){if(!wa(e=e||{}))throw new Error("options is invalid");var i=e.units;if(!t)throw new Error("geojson is required");if(null==n||isNaN(n))throw new Error("distance is required");var o=ud(t),l=t.properties;switch(o){case"LineString":return eZ(t,n,i);case"MultiLineString":var s=[];return Qa(t,(function(t){s.push(eZ(t,n,i).geometry.coordinates)})),Wa(s,l);default:throw new Error("geometry "+o+" is not supported")}},polygonize:function(t){var n=cZ.fromGeoJson(t);n.deleteDangles(),n.deleteCutEdges();var e=[],i=[];return n.getEdgeRings().filter((function(t){return t.isValid()})).forEach((function(t){t.isHole()?e.push(t):i.push(t)})),e.forEach((function(t){aZ.findEdgeRingContaining(t,i)&&i.push(t)})),Ga(i.map((function(t){return t.toPolygon()})))},booleanDisjoint:uZ,booleanContains:function(t,n){var e=cd(t),i=cd(n),o=e.type,l=i.type,s=e.coordinates,r=i.coordinates;switch(o){case"Point":if("Point"===l)return yZ(s,r);throw new Error("feature2 "+l+" geometry not supported");case"MultiPoint":switch(l){case"Point":return function(t,n){var e,i=!1;for(e=0;e<t.coordinates.length;e++)if(yZ(t.coordinates[e],n.coordinates)){i=!0;break}return i}(e,i);case"MultiPoint":return function(t,n){for(var e=0,i=n.coordinates;e<i.length;e++){for(var o=i[e],l=!1,s=0,r=t.coordinates;s<r.length;s++){if(yZ(o,r[s])){l=!0;break}}if(!l)return!1}return!0}(e,i);default:throw new Error("feature2 "+l+" geometry not supported")}case"LineString":switch(l){case"Point":return Dp(i,e,{ignoreEndVertices:!0});case"LineString":return function(t,n){for(var e=!1,i=0,o=n.coordinates;i<o.length;i++){var l=o[i];if(Dp({type:"Point",coordinates:l},t,{ignoreEndVertices:!0})&&(e=!0),!Dp({type:"Point",coordinates:l},t,{ignoreEndVertices:!1}))return!1}return e}(e,i);case"MultiPoint":return function(t,n){for(var e=!1,i=0,o=n.coordinates;i<o.length;i++){var l=o[i];if(Dp(l,t,{ignoreEndVertices:!0})&&(e=!0),!Dp(l,t))return!1}if(e)return!0;return!1}(e,i);default:throw new Error("feature2 "+l+" geometry not supported")}case"Polygon":switch(l){case"Point":return $d(i,e,{ignoreBoundary:!0});case"LineString":return function(t,n){var e=!1,i=0,o=id(t),l=id(n);if(!bZ(o,l))return!1;for(;i<n.coordinates.length-1;i++){if($d({type:"Point",coordinates:ZZ(n.coordinates[i],n.coordinates[i+1])},t,{ignoreBoundary:!0})){e=!0;break}}return e}(e,i);case"Polygon":return function(t,n){if("Feature"===t.type&&null===t.geometry)return!1;if("Feature"===n.type&&null===n.geometry)return!1;var e=id(t),i=id(n);if(!bZ(e,i))return!1;for(var o=cd(n).coordinates,l=0,s=o;l<s.length;l++)for(var r=0,a=s[l];r<a.length;r++){if(!$d(a[r],t))return!1}return!0}(e,i);case"MultiPoint":return function(t,n){for(var e=0,i=n.coordinates;e<i.length;e++){if(!$d(i[e],t,{ignoreBoundary:!0}))return!1}return!0}(e,i);default:throw new Error("feature2 "+l+" geometry not supported")}default:throw new Error("feature1 "+o+" geometry not supported")}},booleanCrosses:function(t,n){var e=cd(t),i=cd(n),o=e.type,l=i.type;switch(o){case"MultiPoint":switch(l){case"LineString":return XZ(e,i);case"Polygon":return GZ(e,i);default:throw new Error("feature2 "+l+" geometry not supported")}case"LineString":switch(l){case"MultiPoint":return XZ(i,e);case"LineString":return function(t,n){if(Mp(t,n).features.length>0)for(var e=0;e<t.coordinates.length-1;e++)for(var i=0;i<n.coordinates.length-1;i++){var o=!0;if(0!==i&&i!==n.coordinates.length-2||(o=!1),WZ(t.coordinates[e],t.coordinates[e+1],n.coordinates[i],o))return!0}return!1}(e,i);case"Polygon":return fZ(e,i);default:throw new Error("feature2 "+l+" geometry not supported")}case"Polygon":switch(l){case"MultiPoint":return GZ(i,e);case"LineString":return fZ(i,e);default:throw new Error("feature2 "+l+" geometry not supported")}default:throw new Error("feature1 "+o+" geometry not supported")}},booleanClockwise:_b,booleanOverlap:function(t,n){var e=cd(t),i=cd(n),o=e.type,l=i.type;if("MultiPoint"===o&&"MultiPoint"!==l||("LineString"===o||"MultiLineString"===o)&&"LineString"!==l&&"MultiLineString"!==l||("Polygon"===o||"MultiPolygon"===o)&&"Polygon"!==l&&"MultiPolygon"!==l)throw new Error("features must be of the same type");if("Point"===o)throw new Error("Point geometry not supported");if(new SZ({precision:6}).compare(t,n))return!1;var s=0;switch(o){case"MultiPoint":for(var r=0;r<e.coordinates.length;r++)for(var a=0;a<i.coordinates.length;a++){var d=e.coordinates[r],c=i.coordinates[a];if(d[0]===c[0]&&d[1]===c[1])return!0}return!1;case"LineString":case"MultiLineString":Aa(t,(function(t){Aa(n,(function(n){wb(t,n).features.length&&s++}))}));break;case"Polygon":case"MultiPolygon":Aa(t,(function(t){Aa(n,(function(n){Mp(t,n).features.length&&s++}))}))}return s>0},booleanPointOnLine:Dp,booleanEqual:function(t,n){return cd(t).type===cd(n).type&&new SZ({precision:6}).compare($c(t),$c(n))},booleanWithin:$p,booleanIntersects:LZ,clone:rc,cleanCoords:$c,clustersDbscan:function(t,n,e){void 0===e&&(e={}),!0!==e.mutate&&(t=rc(t)),e.minPoints=e.minPoints||3;var i=new YZ.DBSCAN,o=i.run(Ua(t),Ya(n,e.units),e.minPoints,ec),l=-1;return o.forEach((function(n){l++,n.forEach((function(n){var e=t.features[n];e.properties||(e.properties={}),e.properties.cluster=l,e.properties.dbscan="core"}))})),i.noise.forEach((function(n){var e=t.features[n];e.properties||(e.properties={}),e.properties.cluster?e.properties.dbscan="edge":e.properties.dbscan="noise"})),t},clustersKmeans:function(t,n){void 0===n&&(n={});var e=t.features.length;n.numberOfClusters=n.numberOfClusters||Math.round(Math.sqrt(e/2)),n.numberOfClusters>e&&(n.numberOfClusters=e),!0!==n.mutate&&(t=rc(t));var i=Ua(t),o=i.slice(0,n.numberOfClusters),l=BZ(i,n.numberOfClusters,o),s={};return l.centroids.forEach((function(t,n){s[n]=t})),Ba(t,(function(t,n){var e=l.idxs[n];t.properties.cluster=e,t.properties.centroid=s[e]})),t},pointToLineDistance:zp,booleanParallel:function(t,n){if(!t)throw new Error("line1 is required");if(!n)throw new Error("line2 is required");if("LineString"!==UZ(t,"line1"))throw new Error("line1 must be a LineString");if("LineString"!==UZ(n,"line2"))throw new Error("line2 must be a LineString");for(var e=Du($c(t)).features,i=Du($c(n)).features,o=0;o<e.length;o++){var l=e[o].geometry.coordinates;if(!i[o])break;if(!_Z(l,i[o].geometry.coordinates))return!1}return!0},shortestPath:function(t,n,e){if(!wa(e=e||{}))throw new Error("options is invalid");var i=e.resolution,o=e.minDistance,l=e.obstacles||Ga([]);if(!t)throw new Error("start is required");if(!n)throw new Error("end is required");if(i&&!Ma(i)||i<=0)throw new Error("options.resolution must be a number, greater than 0");if(o)throw new Error("options.minDistance is not yet implemented");var s=od(t),r=od(n);switch(t=ma(s),n=ma(r),ud(l)){case"FeatureCollection":if(0===l.features.length)return Xa([s,r]);break;case"Polygon":l=Ga([pa(cd(l))]);break;default:throw new Error("invalid obstacles")}var a=l;a.features.push(t),a.features.push(n);var d=id(Dy(pu(id(a)),1.15));i||(i=ec([d[0],d[1]],[d[2],d[1]],e)/100),a.features.pop(),a.features.pop();for(var c=d[0],u=d[1],p=d[2],h=d[3],m=i/ec([c,u],[p,u],e)*(p-c),b=i/ec([c,u],[c,h],e)*(h-u),y=p-c,Z=h-u,X=Math.floor(y/m),f=Math.floor(Z/b),G=(y-X*m)/2,W=[],g=[],v=[],V=[],x=1/0,S=1/0,L=h-(Z-f*b)/2,R=0;L>=u;){for(var K=[],H=[],C=c+G,Y=0;C<=p;){var T=ma([C,L]),M=DZ(T,l);K.push(M?0:1),H.push(C+"|"+L);var w=ec(T,t);!M&&w<x&&(x=w,v={x:Y,y:R});var P=ec(T,n);!M&&P<S&&(S=P,V={x:Y,y:R}),C+=m,Y++}g.push(K),W.push(H),L-=b,R++}var I=new QZ(g,{diagonal:!0}),z=I.grid[v.y][v.x],J=I.grid[V.y][V.x],N=jZ.search(I,z,J),F=[s];return N.forEach((function(t){var n=W[t.x][t.y].split("|");F.push([+n[0],+n[1]])})),F.push(r),$c(Xa(F))},voronoi:function(t,n){if(!wa(n=n||{}))throw new Error("options is invalid");var e=n.bbox||[-180,-85,180,85];if(!t)throw new Error("points is required");if(!Array.isArray(e))throw new Error("bbox is invalid");return dd(t,"Point","points"),Ga(function(){var t=$Z,n=tX,e=null;function i(i){return new MX(i.map((function(e,o){var l=[Math.round(t(e,o,i)/CX)*CX,Math.round(n(e,o,i)/CX)*CX];return l.index=o,l.data=e,l})),e)}return i.polygons=function(t){return i(t).polygons()},i.links=function(t){return i(t).links()},i.triangles=function(t){return i(t).triangles()},i.x=function(n){return arguments.length?(t="function"==typeof n?n:qZ(+n),i):t},i.y=function(t){return arguments.length?(n="function"==typeof t?t:qZ(+t),i):n},i.extent=function(t){return arguments.length?(e=null==t?null:[[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]],i):e&&[[e[0][0],e[0][1]],[e[1][0],e[1][1]]]},i.size=function(t){return arguments.length?(e=null==t?null:[[0,0],[+t[0],+t[1]]],i):e&&[e[1][0]-e[0][0],e[1][1]-e[0][1]]},i}().x((function(t){return t.geometry.coordinates[0]})).y((function(t){return t.geometry.coordinates[1]})).extent([[e[0],e[1]],[e[2],e[3]]]).polygons(t.features).map(wX))},ellipse:PX,centerMean:zX,centerMedian:function(t,n){if(void 0===n&&(n={}),!wa(n=n||{}))throw new Error("options is invalid");var e=n.counter||10;if(!Ma(e))throw new Error("counter must be a number");var i=n.weight,o=zX(t,{weight:n.weight}),l=Ga([]);Ba(t,(function(t){var n;l.features.push(fu(t,{properties:{weight:null===(n=t.properties)||void 0===n?void 0:n[i]}}))}));var s={tolerance:n.tolerance,medianCandidates:[]};return JX(o.geometry.coordinates,[0,0],l,s,e)},standardDeviationalEllipse:function(t,n){if(!wa(n=n||{}))throw new Error("options is invalid");var e=n.steps||64,i=n.weight,o=n.properties||{};if(!Ma(e))throw new Error("steps must be a number");if(!wa(o))throw new Error("properties must be a number");var l=Ua(t).length,s=zX(t,{weight:i}),r=0,a=0,d=0;Ba(t,(function(t){var n=t.properties[i]||1,e=NX(ld(t),ld(s));r+=Math.pow(e.x,2)*n,a+=Math.pow(e.y,2)*n,d+=e.x*e.y*n}));var c=r-a,u=Math.sqrt(Math.pow(c,2)+4*Math.pow(d,2)),p=2*d,h=Math.atan((c+u)/p),m=180*h/Math.PI,b=0,y=0,Z=0;Ba(t,(function(t){var n=t.properties[i]||1,e=NX(ld(t),ld(s));b+=Math.pow(e.x*Math.cos(h)-e.y*Math.sin(h),2)*n,y+=Math.pow(e.x*Math.sin(h)+e.y*Math.cos(h),2)*n,Z+=n}));var X=Math.sqrt(2*b/Z),f=Math.sqrt(2*y/Z),G=PX(s,X,f,{units:"degrees",angle:m,steps:e,properties:o}),W=nc(t,Ga([G])),g={meanCenterCoordinates:ld(s),semiMajorAxis:X,semiMinorAxis:f,numberOfFeatures:l,angle:m,percentageWithinEllipse:100*Ua(W).length/l};return G.properties.standardDeviationalEllipse=g,G},angle:function(t,n,e,i){if(void 0===i&&(i={}),!wa(i))throw new Error("options is invalid");if(!t)throw new Error("startPoint is required");if(!n)throw new Error("midPoint is required");if(!e)throw new Error("endPoint is required");var o=t,l=n,s=e,r=Ka(!0!==i.mercator?Zu(o,l):zb(o,l)),a=Ka(!0!==i.mercator?Zu(s,l):zb(s,l)),d=Math.abs(r-a);return!0===i.explementary?360-d:d},polygonSmooth:function(t,n){var e=[],i=n.iterations||1;if(!t)throw new Error("inputPolys is required");return Ea(t,(function(t,n,o){var l,s,r;switch(t.type){case"Polygon":l=[[]];for(var a=0;a<i;a++)r=[[]],s=t,a>0&&(s=ya(l).geometry),FX(s,r),l=r.slice(0);e.push(ya(l,o));break;case"MultiPolygon":l=[[[]]];for(var d=0;d<i;d++)r=[[[]]],s=t,d>0&&(s=va(l).geometry),kX(s,r),l=r.slice(0);e.push(va(l,o));break;default:throw new Error("geometry is invalid, must be Polygon or MultiPolygon")}})),Ga(e)},moranIndex:function(t,n){var e=n.inputField,i=n.threshold||1e5,o=n.p||2,l=n.binary||!1,s=_X(t,{alpha:n.alpha||-1,binary:l,p:o,standardization:n.standardization||!0,threshold:i}),r=[];Ba(t,(function(t){var n=t.properties||{};r.push(n[e])}));for(var a=UX(r),d=function(t){for(var n=UX(t),e=0,i=0,o=t;i<o.length;i++){var l=o[i];e+=Math.pow(l-n,2)}return e/t.length}(r),c=0,u=0,p=0,h=0,m=s.length,b=0;b<m;b++){for(var y=0,Z=0;Z<m;Z++)c+=s[b][Z]*(r[b]-a)*(r[Z]-a),u+=s[b][Z],p+=Math.pow(s[b][Z]+s[Z][b],2),y+=s[b][Z]+s[Z][b];h+=Math.pow(y,2)}var X=c/u/d,f=-1/(m-1),G=(m*m*(p*=.5)-m*h+u*u*3)/((m-1)*(m+1)*(u*u))-f*f,W=Math.sqrt(G);return{expectedMoranIndex:f,moranIndex:X,stdNorm:W,zNorm:(X-f)/W}},distanceWeight:_X,bearingToAngle:Ka,convertDistance:Ya,degrees2radians:Ca,distanceToDegrees:Ra,distanceToRadians:La,radians2degrees:Ha,radiansToDistance:Sa,difference:function(t,n){var e=cd(t),i=cd(n),o=t.properties||{},l=yf.difference(e.coordinates,i.coordinates);return 0===l.length?null:1===l.length?ya(l[0],o):va(l,o)},buffer:function(t,e,i){var o=(i=i||{}).units||"kilometers",l=i.steps||8;if(!t)throw new Error("geojson is required");if("object"!==n(i))throw new Error("options must be an object");if("number"!=typeof l)throw new Error("steps must be an number");if(void 0===e)throw new Error("radius is required");if(l<=0)throw new Error("steps must be greater than 0");var s=[];switch(t.type){case"GeometryCollection":return Ea(t,(function(t){var n=wG(t,e,o,l);n&&s.push(n)})),Ga(s);case"FeatureCollection":return Ba(t,(function(t){var n=wG(t,e,o,l);n&&Ba(n,(function(t){t&&s.push(t)}))})),Ga(s)}return wG(t,e,o,l)},union:function(t,n,e){void 0===e&&(e={});var i=cd(t),o=cd(n),l=yf.union(i.coordinates,o.coordinates);return 0===l.length?null:1===l.length?ya(l[0],e.properties):va(l,e.properties)},intersect:JG,dissolve:function(t,n){if(!wa(n=n||{}))throw new Error("options is invalid");var e=n.propertyName;dd(t,"Polygon","dissolve");var i=[];if(!n.propertyName)return lh(va(yf.union.apply(null,t.features.map((function(t){return t.geometry.coordinates})))));var o={};Ba(t,(function(t){Object.prototype.hasOwnProperty.call(o,t.properties[e])||(o[t.properties[e]]=[]),o[t.properties[e]].push(t)}));for(var l=Object.keys(o),s=0;s<l.length;s++){var r=va(yf.union.apply(null,o[l[s]].map((function(t){return t.geometry.coordinates}))));r.properties[e]=l[s],i.push(r)}return lh(Ga(i))},hexGrid:NG,mask:function(t,n){var e,i,o=function(t){var n=[[[180,90],[-180,90],[-180,-90],[180,-90],[180,90]]];return ya(t&&t.geometry.coordinates||n)}(n),l=null;return"FeatureCollection"===t.type?(i=2===(e=t).features.length?yf.union(e.features[0].geometry.coordinates,e.features[1].geometry.coordinates):yf.union.apply(yf,e.features.map((function(t){return t.geometry.coordinates}))),l=BG(i)):l=BG(yf.union(t.geometry.coordinates)),l.geometry.coordinates.forEach((function(t){o.geometry.coordinates.push(t[0])})),o},squareGrid:_G,triangleGrid:UG,interpolate:function(t,e,i){if("object"!==n(i=i||{}))throw new Error("options is invalid");var o=i.gridType,l=i.property,s=i.weight;if(!t)throw new Error("points is required");if(dd(t,"Point","input must contain Points"),!e)throw new Error("cellSize is required");if(void 0!==s&&"number"!=typeof s)throw new Error("weight must be a number");l=l||"elevation",o=o||"square",s=s||1;var r,a=id(t);switch(o){case"point":case"points":r=ih(a,e,i);break;case"square":case"squares":r=_G(a,e,i);break;case"hex":case"hexes":r=NG(a,e,i);break;case"triangle":case"triangles":r=UG(a,e,i);break;default:throw new Error("invalid gridType")}var d=[];return Ba(r,(function(n){var e=0,r=0;Ba(t,(function(t){var a,d=ec("point"===o?n:fu(n),t,i);if(void 0!==l&&(a=t.properties[l]),void 0===a&&(a=t.geometry.coordinates[2]),void 0===a)throw new Error("zValue is missing");0===d&&(e=a);var c=1/Math.pow(d,s);r+=c,e+=c*a}));var a=rc(n);a.properties[l]=e/r,d.push(a)})),Ga(d)},toMercator:EX,toWgs84:jX,randomPosition:$X,randomPoint:tf,randomPolygon:nf,randomLineString:ef,getCluster:rf,clusterEach:af,clusterReduce:df,createBins:cf,applyFilter:uf,propertiesContainsFilter:pf,filterProperties:hf,earthRadius:aa,factors:da,unitsFactors:ca,areaFactors:ua,feature:pa,geometry:ha,point:ma,points:ba,polygon:ya,polygons:Za,lineString:Xa,lineStrings:fa,featureCollection:Ga,multiLineString:Wa,multiPoint:ga,multiPolygon:va,geometryCollection:Va,round:xa,radiansToLength:Sa,lengthToRadians:La,lengthToDegrees:Ra,bearingToAzimuth:Ka,radiansToDegrees:Ha,degreesToRadians:Ca,convertLength:Ya,convertArea:Ta,isNumber:Ma,isObject:wa,validateBBox:Pa,validateId:Ia,getCoord:od,getCoords:ld,containsNumber:sd,geojsonType:rd,featureOf:ad,collectionOf:dd,getGeom:cd,getType:ud,coordAll:Ua,coordEach:Ja,coordReduce:Na,featureEach:Ba,featureReduce:_a,findPoint:nd,findSegment:td,flattenEach:Qa,flattenReduce:Oa,geomEach:Ea,geomReduce:ja,lineEach:qa,lineReduce:$a,propEach:Fa,propReduce:ka,segmentEach:Aa,segmentReduce:Da});var jG=6378137,QG=.0066943799901413165,OG=484813681109536e-20,AG=Math.PI/2,DG=1e-10,qG=.017453292519943295,$G=57.29577951308232,tW=Math.PI/4,nW=2*Math.PI,eW=3.14159265359,iW={greenwich:0,lisbon:-9.131906111111,paris:2.337229166667,bogota:-74.080916666667,madrid:-3.687938888889,rome:12.452333333333,bern:7.439583333333,jakarta:106.807719444444,ferro:-17.666666666667,brussels:4.367975,stockholm:18.058277777778,athens:23.7163375,oslo:10.722916666667},oW={ft:{to_meter:.3048},"us-ft":{to_meter:1200/3937}},lW=/[\s_\-\/\(\)]/g;function sW(t,n){if(t[n])return t[n];for(var e,i=Object.keys(t),o=n.toLowerCase().replace(lW,""),l=-1;++l<i.length;)if((e=i[l]).toLowerCase().replace(lW,"")===o)return t[e]}function rW(t){var n,e,i,o={},l=t.split("+").map((function(t){return t.trim()})).filter((function(t){return t})).reduce((function(t,n){var e=n.split("=");return e.push(!0),t[e[0].toLowerCase()]=e[1],t}),{}),s={proj:"projName",datum:"datumCode",rf:function(t){o.rf=parseFloat(t)},lat_0:function(t){o.lat0=t*qG},lat_1:function(t){o.lat1=t*qG},lat_2:function(t){o.lat2=t*qG},lat_ts:function(t){o.lat_ts=t*qG},lon_0:function(t){o.long0=t*qG},lon_1:function(t){o.long1=t*qG},lon_2:function(t){o.long2=t*qG},alpha:function(t){o.alpha=parseFloat(t)*qG},gamma:function(t){o.rectified_grid_angle=parseFloat(t)},lonc:function(t){o.longc=t*qG},x_0:function(t){o.x0=parseFloat(t)},y_0:function(t){o.y0=parseFloat(t)},k_0:function(t){o.k0=parseFloat(t)},k:function(t){o.k0=parseFloat(t)},a:function(t){o.a=parseFloat(t)},b:function(t){o.b=parseFloat(t)},r_a:function(){o.R_A=!0},zone:function(t){o.zone=parseInt(t,10)},south:function(){o.utmSouth=!0},towgs84:function(t){o.datum_params=t.split(",").map((function(t){return parseFloat(t)}))},to_meter:function(t){o.to_meter=parseFloat(t)},units:function(t){o.units=t;var n=sW(oW,t);n&&(o.to_meter=n.to_meter)},from_greenwich:function(t){o.from_greenwich=t*qG},pm:function(t){var n=sW(iW,t);o.from_greenwich=(n||parseFloat(t))*qG},nadgrids:function(t){"@null"===t?o.datumCode="none":o.nadgrids=t},axis:function(t){var n="ewnsud";3===t.length&&-1!==n.indexOf(t.substr(0,1))&&-1!==n.indexOf(t.substr(1,1))&&-1!==n.indexOf(t.substr(2,1))&&(o.axis=t)},approx:function(){o.approx=!0}};for(n in l)e=l[n],n in s?"function"==typeof(i=s[n])?i(e):o[i]=e:o[n]=e;return"string"==typeof o.datumCode&&"WGS84"!==o.datumCode&&(o.datumCode=o.datumCode.toLowerCase()),o}var aW=/\s/,dW=/[A-Za-z]/,cW=/[A-Za-z84_]/,uW=/[,\]]/,pW=/[\d\.E\-\+]/;function hW(t){if("string"!=typeof t)throw new Error("not a string");this.text=t.trim(),this.level=0,this.place=0,this.root=null,this.stack=[],this.currentObject=null,this.state=1}function mW(t,n,e){Array.isArray(n)&&(e.unshift(n),n=null);var i=n?{}:t,o=e.reduce((function(t,n){return bW(n,t),t}),i);n&&(t[n]=o)}function bW(t,n){if(Array.isArray(t)){var e=t.shift();if("PARAMETER"===e&&(e=t.shift()),1===t.length)return Array.isArray(t[0])?(n[e]={},void bW(t[0],n[e])):void(n[e]=t[0]);if(t.length)if("TOWGS84"!==e){if("AXIS"===e)return e in n||(n[e]=[]),void n[e].push(t);var i;switch(Array.isArray(e)||(n[e]={}),e){case"UNIT":case"PRIMEM":case"VERT_DATUM":return n[e]={name:t[0].toLowerCase(),convert:t[1]},void(3===t.length&&bW(t[2],n[e]));case"SPHEROID":case"ELLIPSOID":return n[e]={name:t[0],a:t[1],rf:t[2]},void(4===t.length&&bW(t[3],n[e]));case"PROJECTEDCRS":case"PROJCRS":case"GEOGCS":case"GEOCCS":case"PROJCS":case"LOCAL_CS":case"GEODCRS":case"GEODETICCRS":case"GEODETICDATUM":case"EDATUM":case"ENGINEERINGDATUM":case"VERT_CS":case"VERTCRS":case"VERTICALCRS":case"COMPD_CS":case"COMPOUNDCRS":case"ENGINEERINGCRS":case"ENGCRS":case"FITTED_CS":case"LOCAL_DATUM":case"DATUM":return t[0]=["name",t[0]],void mW(n,e,t);default:for(i=-1;++i<t.length;)if(!Array.isArray(t[i]))return bW(t,n[e]);return mW(n,e,t)}}else n[e]=t;else n[e]=!0}else n[t]=!0}hW.prototype.readCharicter=function(){var t=this.text[this.place++];if(4!==this.state)for(;aW.test(t);){if(this.place>=this.text.length)return;t=this.text[this.place++]}switch(this.state){case 1:return this.neutral(t);case 2:return this.keyword(t);case 4:return this.quoted(t);case 5:return this.afterquote(t);case 3:return this.number(t);case-1:return}},hW.prototype.afterquote=function(t){if('"'===t)return this.word+='"',void(this.state=4);if(uW.test(t))return this.word=this.word.trim(),void this.afterItem(t);throw new Error("havn't handled \""+t+'" in afterquote yet, index '+this.place)},hW.prototype.afterItem=function(t){return","===t?(null!==this.word&&this.currentObject.push(this.word),this.word=null,void(this.state=1)):"]"===t?(this.level--,null!==this.word&&(this.currentObject.push(this.word),this.word=null),this.state=1,this.currentObject=this.stack.pop(),void(this.currentObject||(this.state=-1))):void 0},hW.prototype.number=function(t){if(!pW.test(t)){if(uW.test(t))return this.word=parseFloat(this.word),void this.afterItem(t);throw new Error("havn't handled \""+t+'" in number yet, index '+this.place)}this.word+=t},hW.prototype.quoted=function(t){'"'!==t?this.word+=t:this.state=5},hW.prototype.keyword=function(t){if(cW.test(t))this.word+=t;else{if("["===t){var n=[];return n.push(this.word),this.level++,null===this.root?this.root=n:this.currentObject.push(n),this.stack.push(this.currentObject),this.currentObject=n,void(this.state=1)}if(!uW.test(t))throw new Error("havn't handled \""+t+'" in keyword yet, index '+this.place);this.afterItem(t)}},hW.prototype.neutral=function(t){if(dW.test(t))return this.word=t,void(this.state=2);if('"'===t)return this.word="",void(this.state=4);if(pW.test(t))return this.word=t,void(this.state=3);if(!uW.test(t))throw new Error("havn't handled \""+t+'" in neutral yet, index '+this.place);this.afterItem(t)},hW.prototype.output=function(){for(;this.place<this.text.length;)this.readCharicter();if(-1===this.state)return this.root;throw new Error('unable to parse string "'+this.text+'". State is '+this.state)};function yW(t){return.017453292519943295*t}function ZW(t){var e=new hW(t).output(),i=e.shift(),o=e.shift();e.unshift(["name",o]),e.unshift(["type",i]);var l={};return bW(e,l),function(t){if("GEOGCS"===t.type?t.projName="longlat":"LOCAL_CS"===t.type?(t.projName="identity",t.local=!0):"object"===n(t.PROJECTION)?t.projName=Object.keys(t.PROJECTION)[0]:t.projName=t.PROJECTION,t.AXIS){for(var e="",i=0,o=t.AXIS.length;i<o;++i){var l=[t.AXIS[i][0].toLowerCase(),t.AXIS[i][1].toLowerCase()];-1!==l[0].indexOf("north")||("y"===l[0]||"lat"===l[0])&&"north"===l[1]?e+="n":-1!==l[0].indexOf("south")||("y"===l[0]||"lat"===l[0])&&"south"===l[1]?e+="s":-1!==l[0].indexOf("east")||("x"===l[0]||"lon"===l[0])&&"east"===l[1]?e+="e":-1===l[0].indexOf("west")&&("x"!==l[0]&&"lon"!==l[0]||"west"!==l[1])||(e+="w")}2===e.length&&(e+="u"),3===e.length&&(t.axis=e)}t.UNIT&&(t.units=t.UNIT.name.toLowerCase(),"metre"===t.units&&(t.units="meter"),t.UNIT.convert&&("GEOGCS"===t.type?t.DATUM&&t.DATUM.SPHEROID&&(t.to_meter=t.UNIT.convert*t.DATUM.SPHEROID.a):t.to_meter=t.UNIT.convert));var s=t.GEOGCS;function r(n){return n*(t.to_meter||1)}"GEOGCS"===t.type&&(s=t),s&&(s.DATUM?t.datumCode=s.DATUM.name.toLowerCase():t.datumCode=s.name.toLowerCase(),"d_"===t.datumCode.slice(0,2)&&(t.datumCode=t.datumCode.slice(2)),"new_zealand_geodetic_datum_1949"!==t.datumCode&&"new_zealand_1949"!==t.datumCode||(t.datumCode="nzgd49"),"wgs_1984"!==t.datumCode&&"world_geodetic_system_1984"!==t.datumCode||("Mercator_Auxiliary_Sphere"===t.PROJECTION&&(t.sphere=!0),t.datumCode="wgs84"),"_ferro"===t.datumCode.slice(-6)&&(t.datumCode=t.datumCode.slice(0,-6)),"_jakarta"===t.datumCode.slice(-8)&&(t.datumCode=t.datumCode.slice(0,-8)),~t.datumCode.indexOf("belge")&&(t.datumCode="rnb72"),s.DATUM&&s.DATUM.SPHEROID&&(t.ellps=s.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),"international"===t.ellps.toLowerCase().slice(0,13)&&(t.ellps="intl"),t.a=s.DATUM.SPHEROID.a,t.rf=parseFloat(s.DATUM.SPHEROID.rf,10)),s.DATUM&&s.DATUM.TOWGS84&&(t.datum_params=s.DATUM.TOWGS84),~t.datumCode.indexOf("osgb_1936")&&(t.datumCode="osgb36"),~t.datumCode.indexOf("osni_1952")&&(t.datumCode="osni52"),(~t.datumCode.indexOf("tm65")||~t.datumCode.indexOf("geodetic_datum_of_1965"))&&(t.datumCode="ire65"),"ch1903+"===t.datumCode&&(t.datumCode="ch1903"),~t.datumCode.indexOf("israel")&&(t.datumCode="isr93")),t.b&&!isFinite(t.b)&&(t.b=t.a),[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_1","Latitude of 1st standard parallel"],["standard_parallel_2","Standard_Parallel_2"],["standard_parallel_2","Latitude of 2nd standard parallel"],["false_easting","False_Easting"],["false_easting","False easting"],["false-easting","Easting at false origin"],["false_northing","False_Northing"],["false_northing","False northing"],["false_northing","Northing at false origin"],["central_meridian","Central_Meridian"],["central_meridian","Longitude of natural origin"],["central_meridian","Longitude of false origin"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["latitude_of_origin","Latitude of natural origin"],["latitude_of_origin","Latitude of false origin"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_Of_Center"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",yW],["longitude_of_center","Longitude_Of_Center"],["longitude_of_center","Longitude_of_center"],["longc","longitude_of_center",yW],["x0","false_easting",r],["y0","false_northing",r],["long0","central_meridian",yW],["lat0","latitude_of_origin",yW],["lat0","standard_parallel_1",yW],["lat1","standard_parallel_1",yW],["lat2","standard_parallel_2",yW],["azimuth","Azimuth"],["alpha","azimuth",yW],["srsCode","name"]].forEach((function(n){return function(t,n){var e=n[0],i=n[1];!(e in t)&&i in t&&(t[e]=t[i],3===n.length&&(t[e]=n[2](t[e])))}(t,n)})),t.long0||!t.longc||"Albers_Conic_Equal_Area"!==t.projName&&"Lambert_Azimuthal_Equal_Area"!==t.projName||(t.long0=t.longc),t.lat_ts||!t.lat1||"Stereographic_South_Pole"!==t.projName&&"Polar Stereographic (variant B)"!==t.projName||(t.lat0=yW(t.lat1>0?90:-90),t.lat_ts=t.lat1)}(l),l}function XW(t){var n=this;if(2===arguments.length){var e=arguments[1];"string"==typeof e?"+"===e.charAt(0)?XW[t]=rW(arguments[1]):XW[t]=ZW(arguments[1]):XW[t]=e}else if(1===arguments.length){if(Array.isArray(t))return t.map((function(t){Array.isArray(t)?XW.apply(n,t):XW(t)}));if("string"==typeof t){if(t in XW)return XW[t]}else"EPSG"in t?XW["EPSG:"+t.EPSG]=t:"ESRI"in t?XW["ESRI:"+t.ESRI]=t:"IAU2000"in t?XW["IAU2000:"+t.IAU2000]=t:console.log(t);return}}!function(t){t("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),t("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),t("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs"),t.WGS84=t["EPSG:4326"],t["EPSG:3785"]=t["EPSG:3857"],t.GOOGLE=t["EPSG:3857"],t["EPSG:900913"]=t["EPSG:3857"],t["EPSG:102113"]=t["EPSG:3857"]}(XW);var fW=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"];var GW=["3857","900913","3785","102113"];function WW(t){if(!function(t){return"string"==typeof t}(t))return t;if(function(t){return t in XW}(t))return XW[t];if(function(t){return fW.some((function(n){return t.indexOf(n)>-1}))}(t)){var n=ZW(t);if(function(t){var n=sW(t,"authority");if(n){var e=sW(n,"epsg");return e&&GW.indexOf(e)>-1}}(n))return XW["EPSG:3857"];var e=function(t){var n=sW(t,"extension");if(n)return sW(n,"proj4")}(n);return e?rW(e):n}return function(t){return"+"===t[0]}(t)?rW(t):void 0}function gW(t,n){var e,i;if(t=t||{},!n)return t;for(i in n)void 0!==(e=n[i])&&(t[i]=e);return t}function vW(t,n,e){var i=t*n;return e/Math.sqrt(1-i*i)}function VW(t){return t<0?-1:1}function xW(t){return Math.abs(t)<=eW?t:t-VW(t)*nW}function SW(t,n,e){var i=t*e,o=.5*t;return i=Math.pow((1-i)/(1+i),o),Math.tan(.5*(AG-n))/i}function LW(t,n){for(var e,i,o=.5*t,l=AG-2*Math.atan(n),s=0;s<=15;s++)if(e=t*Math.sin(l),l+=i=AG-2*Math.atan(n*Math.pow((1-e)/(1+e),o))-l,Math.abs(i)<=1e-10)return l;return-9999}var RW={init:function(){var t=this.b/this.a;this.es=1-t*t,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.sphere?this.k0=Math.cos(this.lat_ts):this.k0=vW(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k?this.k0=this.k:this.k0=1)},forward:function(t){var n,e,i=t.x,o=t.y;if(o*$G>90&&o*$G<-90&&i*$G>180&&i*$G<-180)return null;if(Math.abs(Math.abs(o)-AG)<=DG)return null;if(this.sphere)n=this.x0+this.a*this.k0*xW(i-this.long0),e=this.y0+this.a*this.k0*Math.log(Math.tan(tW+.5*o));else{var l=Math.sin(o),s=SW(this.e,o,l);n=this.x0+this.a*this.k0*xW(i-this.long0),e=this.y0-this.a*this.k0*Math.log(s)}return t.x=n,t.y=e,t},inverse:function(t){var n,e,i=t.x-this.x0,o=t.y-this.y0;if(this.sphere)e=AG-2*Math.atan(Math.exp(-o/(this.a*this.k0)));else{var l=Math.exp(-o/(this.a*this.k0));if(-9999===(e=LW(this.e,l)))return null}return n=xW(this.long0+i/(this.a*this.k0)),t.x=n,t.y=e,t},names:["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"]};function KW(t){return t}var HW=[RW,{init:function(){},forward:KW,inverse:KW,names:["longlat","identity"]}],CW={},YW=[];function TW(t,n){var e=YW.length;return t.names?(YW[e]=t,t.names.forEach((function(t){CW[t.toLowerCase()]=e})),this):(console.log(n),!0)}var MW={start:function(){HW.forEach(TW)},add:TW,get:function(t){if(!t)return!1;var n=t.toLowerCase();return void 0!==CW[n]&&YW[CW[n]]?YW[CW[n]]:void 0}},wW={MERIT:{a:6378137,rf:298.257,ellipseName:"MERIT 1983"},SGS85:{a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"},GRS80:{a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"},IAU76:{a:6378140,rf:298.257,ellipseName:"IAU 1976"},airy:{a:6377563.396,b:6356256.91,ellipseName:"Airy 1830"},APL4:{a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"},NWL9D:{a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"},mod_airy:{a:6377340.189,b:6356034.446,ellipseName:"Modified Airy"},andrae:{a:6377104.43,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"},aust_SA:{a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"},GRS67:{a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"},bessel:{a:6377397.155,rf:299.1528128,ellipseName:"Bessel 1841"},bess_nam:{a:6377483.865,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"},clrk66:{a:6378206.4,b:6356583.8,ellipseName:"Clarke 1866"},clrk80:{a:6378249.145,rf:293.4663,ellipseName:"Clarke 1880 mod."},clrk58:{a:6378293.645208759,rf:294.2606763692654,ellipseName:"Clarke 1858"},CPM:{a:6375738.7,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"},delmbr:{a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"},engelis:{a:6378136.05,rf:298.2566,ellipseName:"Engelis 1985"},evrst30:{a:6377276.345,rf:300.8017,ellipseName:"Everest 1830"},evrst48:{a:6377304.063,rf:300.8017,ellipseName:"Everest 1948"},evrst56:{a:6377301.243,rf:300.8017,ellipseName:"Everest 1956"},evrst69:{a:6377295.664,rf:300.8017,ellipseName:"Everest 1969"},evrstSS:{a:6377298.556,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"},fschr60:{a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"},fschr60m:{a:6378155,rf:298.3,ellipseName:"Fischer 1960"},fschr68:{a:6378150,rf:298.3,ellipseName:"Fischer 1968"},helmert:{a:6378200,rf:298.3,ellipseName:"Helmert 1906"},hough:{a:6378270,rf:297,ellipseName:"Hough"},intl:{a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"},kaula:{a:6378163,rf:298.24,ellipseName:"Kaula 1961"},lerch:{a:6378139,rf:298.257,ellipseName:"Lerch 1979"},mprts:{a:6397300,rf:191,ellipseName:"Maupertius 1738"},new_intl:{a:6378157.5,b:6356772.2,ellipseName:"New International 1967"},plessis:{a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"},krass:{a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"},SEasia:{a:6378155,b:6356773.3205,ellipseName:"Southeast Asia"},walbeck:{a:6376896,b:6355834.8467,ellipseName:"Walbeck"},WGS60:{a:6378165,rf:298.3,ellipseName:"WGS 60"},WGS66:{a:6378145,rf:298.25,ellipseName:"WGS 66"},WGS7:{a:6378135,rf:298.26,ellipseName:"WGS 72"}},PW=wW.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"};wW.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"};var IW={};IW.wgs84={towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"},IW.ch1903={towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"},IW.ggrs87={towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"},IW.nad83={towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"},IW.nad27={nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"},IW.potsdam={towgs84:"598.1,73.7,418.2,0.202,0.045,-2.455,6.7",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"},IW.carthage={towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"},IW.hermannskogel={towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Hermannskogel"},IW.osni52={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"airy",datumName:"Irish National"},IW.ire65={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"},IW.rassadiran={towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"},IW.nzgd49={towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"},IW.osgb36={towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Airy 1830"},IW.s_jtsk={towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"},IW.beduaram={towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"},IW.gunung_segara={towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"},IW.rnb72={towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"};var zW={};function JW(t){if(0===t.length)return null;var n="@"===t[0];return n&&(t=t.slice(1)),"null"===t?{name:"null",mandatory:!n,grid:null,isNull:!0}:{name:t,mandatory:!n,grid:zW[t]||null,isNull:!1}}function NW(t){return t/3600*Math.PI/180}function FW(t,n,e){return String.fromCharCode.apply(null,new Uint8Array(t.buffer.slice(n,e)))}function kW(t){return t.map((function(t){return[NW(t.longitudeShift),NW(t.latitudeShift)]}))}function BW(t,n,e){return{name:FW(t,n+8,n+16).trim(),parent:FW(t,n+24,n+24+8).trim(),lowerLatitude:t.getFloat64(n+72,e),upperLatitude:t.getFloat64(n+88,e),lowerLongitude:t.getFloat64(n+104,e),upperLongitude:t.getFloat64(n+120,e),latitudeInterval:t.getFloat64(n+136,e),longitudeInterval:t.getFloat64(n+152,e),gridNodeCount:t.getInt32(n+168,e)}}function _W(t,n,e,i){for(var o=n+176,l=[],s=0;s<e.gridNodeCount;s++){var r={latitudeShift:t.getFloat32(o+16*s,i),longitudeShift:t.getFloat32(o+16*s+4,i),latitudeAccuracy:t.getFloat32(o+16*s+8,i),longitudeAccuracy:t.getFloat32(o+16*s+12,i)};l.push(r)}return l}function UW(t,e){if(!(this instanceof UW))return new UW(t);e=e||function(t){if(t)throw t};var i=WW(t);if("object"===n(i)){var o=UW.projections.get(i.projName);if(o){if(i.datumCode&&"none"!==i.datumCode){var l=sW(IW,i.datumCode);l&&(i.datum_params=i.datum_params||(l.towgs84?l.towgs84.split(","):null),i.ellps=l.ellipse,i.datumName=l.datumName?l.datumName:i.datumCode)}i.k0=i.k0||1,i.axis=i.axis||"enu",i.ellps=i.ellps||"wgs84",i.lat1=i.lat1||i.lat0;var s,r,a,d,c,u,p,h=function(t,n,e,i,o){if(!t){var l=sW(wW,i);l||(l=PW),t=l.a,n=l.b,e=l.rf}return e&&!n&&(n=(1-1/e)*t),(0===e||Math.abs(t-n)<DG)&&(o=!0,n=t),{a:t,b:n,rf:e,sphere:o}}(i.a,i.b,i.rf,i.ellps,i.sphere),m=(s=h.a,r=h.b,h.rf,a=i.R_A,u=((d=s*s)-(c=r*r))/d,p=0,a?(d=(s*=1-u*(.16666666666666666+u*(.04722222222222222+.022156084656084655*u)))*s,u=0):p=Math.sqrt(u),{es:u,e:p,ep2:(d-c)/c}),b=function(t){return void 0===t?null:t.split(",").map(JW)}(i.nadgrids),y=i.datum||function(t,n,e,i,o,l,s){var r={};return r.datum_type=void 0===t||"none"===t?5:4,n&&(r.datum_params=n.map(parseFloat),0===r.datum_params[0]&&0===r.datum_params[1]&&0===r.datum_params[2]||(r.datum_type=1),r.datum_params.length>3&&(0===r.datum_params[3]&&0===r.datum_params[4]&&0===r.datum_params[5]&&0===r.datum_params[6]||(r.datum_type=2,r.datum_params[3]*=OG,r.datum_params[4]*=OG,r.datum_params[5]*=OG,r.datum_params[6]=r.datum_params[6]/1e6+1))),s&&(r.datum_type=3,r.grids=s),r.a=e,r.b=i,r.es=o,r.ep2=l,r}(i.datumCode,i.datum_params,h.a,h.b,m.es,m.ep2,b);gW(this,i),gW(this,o),this.a=h.a,this.b=h.b,this.rf=h.rf,this.sphere=h.sphere,this.es=m.es,this.e=m.e,this.ep2=m.ep2,this.datum=y,this.init(),e(null,this)}else e(t)}else e(t)}function EW(t,n,e){var i,o,l,s,r=t.x,a=t.y,d=t.z?t.z:0;if(a<-AG&&a>-1.001*AG)a=-AG;else if(a>AG&&a<1.001*AG)a=AG;else{if(a<-AG)return{x:-1/0,y:-1/0,z:t.z};if(a>AG)return{x:1/0,y:1/0,z:t.z}}return r>Math.PI&&(r-=2*Math.PI),o=Math.sin(a),s=Math.cos(a),l=o*o,{x:((i=e/Math.sqrt(1-n*l))+d)*s*Math.cos(r),y:(i+d)*s*Math.sin(r),z:(i*(1-n)+d)*o}}function jW(t,n,e,i){var o,l,s,r,a,d,c,u,p,h,m,b,y,Z,X,f=1e-12,G=t.x,W=t.y,g=t.z?t.z:0;if(o=Math.sqrt(G*G+W*W),l=Math.sqrt(G*G+W*W+g*g),o/e<f){if(Z=0,l/e<f)return AG,X=-i,{x:t.x,y:t.y,z:t.z}}else Z=Math.atan2(W,G);s=g/l,u=(r=o/l)*(1-n)*(a=1/Math.sqrt(1-n*(2-n)*r*r)),p=s*a,y=0;do{y++,d=n*(c=e/Math.sqrt(1-n*p*p))/(c+(X=o*u+g*p-c*(1-n*p*p))),b=(m=s*(a=1/Math.sqrt(1-d*(2-d)*r*r)))*u-(h=r*(1-d)*a)*p,u=h,p=m}while(b*b>1e-24&&y<30);return{x:Z,y:Math.atan(m/Math.abs(h)),z:X}}function QW(t){return 1===t||2===t}function OW(t,n,e){if(function(t,n){return t.datum_type===n.datum_type&&!(t.a!==n.a||Math.abs(t.es-n.es)>5e-11)&&(1===t.datum_type?t.datum_params[0]===n.datum_params[0]&&t.datum_params[1]===n.datum_params[1]&&t.datum_params[2]===n.datum_params[2]:2!==t.datum_type||t.datum_params[0]===n.datum_params[0]&&t.datum_params[1]===n.datum_params[1]&&t.datum_params[2]===n.datum_params[2]&&t.datum_params[3]===n.datum_params[3]&&t.datum_params[4]===n.datum_params[4]&&t.datum_params[5]===n.datum_params[5]&&t.datum_params[6]===n.datum_params[6])}(t,n))return e;if(5===t.datum_type||5===n.datum_type)return e;var i=t.a,o=t.es;if(3===t.datum_type){if(0!==AW(t,!1,e))return;i=jG,o=QG}var l=n.a,s=n.b,r=n.es;if(3===n.datum_type&&(l=jG,s=6356752.314,r=QG),o===r&&i===l&&!QW(t.datum_type)&&!QW(n.datum_type))return e;if((e=EW(e,o,i),QW(t.datum_type)&&(e=function(t,n,e){if(1===n)return{x:t.x+e[0],y:t.y+e[1],z:t.z+e[2]};if(2===n){var i=e[0],o=e[1],l=e[2],s=e[3],r=e[4],a=e[5],d=e[6];return{x:d*(t.x-a*t.y+r*t.z)+i,y:d*(a*t.x+t.y-s*t.z)+o,z:d*(-r*t.x+s*t.y+t.z)+l}}}(e,t.datum_type,t.datum_params)),QW(n.datum_type)&&(e=function(t,n,e){if(1===n)return{x:t.x-e[0],y:t.y-e[1],z:t.z-e[2]};if(2===n){var i=e[0],o=e[1],l=e[2],s=e[3],r=e[4],a=e[5],d=e[6],c=(t.x-i)/d,u=(t.y-o)/d,p=(t.z-l)/d;return{x:c+a*u-r*p,y:-a*c+u+s*p,z:r*c-s*u+p}}}(e,n.datum_type,n.datum_params)),e=jW(e,r,l,s),3===n.datum_type)&&0!==AW(n,!0,e))return;return e}function AW(t,n,e){if(null===t.grids||0===t.grids.length)return console.log("Grid shift grids not found"),-1;for(var i={x:-e.x,y:e.y},o={x:Number.NaN,y:Number.NaN},l=[],s=0;s<t.grids.length;s++){var r=t.grids[s];if(l.push(r.name),r.isNull){o=i;break}if(null!==r.grid){var a=r.grid.subgrids[0],d=(Math.abs(a.del[1])+Math.abs(a.del[0]))/1e4,c=a.ll[0]-d,u=a.ll[1]-d,p=a.ll[0]+(a.lim[0]-1)*a.del[0]+d,h=a.ll[1]+(a.lim[1]-1)*a.del[1]+d;if(!(u>i.y||c>i.x||h<i.y||p<i.x||(o=DW(i,n,a),isNaN(o.x))))break}else if(r.mandatory)return console.log("Unable to find mandatory grid '"+r.name+"'"),-1}return isNaN(o.x)?(console.log("Failed to find a grid shift table for location '"+-i.x*$G+" "+i.y*$G+" tried: '"+l+"'"),-1):(e.x=-o.x,e.y=o.y,0)}function DW(t,n,e){var i={x:Number.NaN,y:Number.NaN};if(isNaN(t.x))return i;var o={x:t.x,y:t.y};o.x-=e.ll[0],o.y-=e.ll[1],o.x=xW(o.x-Math.PI)+Math.PI;var l=qW(o,e);if(n){if(isNaN(l.x))return i;l.x=o.x-l.x,l.y=o.y-l.y;var s,r,a=9;do{if(r=qW(l,e),isNaN(r.x)){console.log("Inverse grid shift iteration failed, presumably at grid edge.  Using first approximation.");break}s={x:o.x-(r.x+l.x),y:o.y-(r.y+l.y)},l.x+=s.x,l.y+=s.y}while(a--&&Math.abs(s.x)>1e-12&&Math.abs(s.y)>1e-12);if(a<0)return console.log("Inverse grid shift iterator failed to converge."),i;i.x=xW(l.x+e.ll[0]),i.y=l.y+e.ll[1]}else isNaN(l.x)||(i.x=t.x+l.x,i.y=t.y+l.y);return i}function qW(t,n){var e,i={x:t.x/n.del[0],y:t.y/n.del[1]},o=Math.floor(i.x),l=Math.floor(i.y),s=i.x-1*o,r=i.y-1*l,a={x:Number.NaN,y:Number.NaN};if(o<0||o>=n.lim[0])return a;if(l<0||l>=n.lim[1])return a;e=l*n.lim[0]+o;var d=n.cvs[e][0],c=n.cvs[e][1];e++;var u=n.cvs[e][0],p=n.cvs[e][1];e+=n.lim[0];var h=n.cvs[e][0],m=n.cvs[e][1];e--;var b=n.cvs[e][0],y=n.cvs[e][1],Z=s*r,X=s*(1-r),f=(1-s)*(1-r),G=(1-s)*r;return a.x=f*d+X*u+G*b+Z*h,a.y=f*c+X*p+G*y+Z*m,a}function $W(t,n,e){var i,o,l,s=e.x,r=e.y,a=e.z||0,d={};for(l=0;l<3;l++)if(!n||2!==l||void 0!==e.z)switch(0===l?(i=s,o=-1!=="ew".indexOf(t.axis[l])?"x":"y"):1===l?(i=r,o=-1!=="ns".indexOf(t.axis[l])?"y":"x"):(i=a,o="z"),t.axis[l]){case"e":case"n":d[o]=i;break;case"w":case"s":d[o]=-i;break;case"u":void 0!==e[o]&&(d.z=i);break;case"d":void 0!==e[o]&&(d.z=-i);break;default:return null}return d}function tg(t){var n={x:t[0],y:t[1]};return t.length>2&&(n.z=t[2]),t.length>3&&(n.m=t[3]),n}function ng(t){if("function"==typeof Number.isFinite){if(Number.isFinite(t))return;throw new TypeError("coordinates must be finite numbers")}if("number"!=typeof t||t!=t||!isFinite(t))throw new TypeError("coordinates must be finite numbers")}function eg(t,n,e,i){var o;if(Array.isArray(e)&&(e=tg(e)),function(t){ng(t.x),ng(t.y)}(e),t.datum&&n.datum&&function(t,n){return(1===t.datum.datum_type||2===t.datum.datum_type)&&"WGS84"!==n.datumCode||(1===n.datum.datum_type||2===n.datum.datum_type)&&"WGS84"!==t.datumCode}(t,n)&&(e=eg(t,o=new UW("WGS84"),e,i),t=o),i&&"enu"!==t.axis&&(e=$W(t,!1,e)),"longlat"===t.projName)e={x:e.x*qG,y:e.y*qG,z:e.z||0};else if(t.to_meter&&(e={x:e.x*t.to_meter,y:e.y*t.to_meter,z:e.z||0}),!(e=t.inverse(e)))return;if(t.from_greenwich&&(e.x+=t.from_greenwich),e=OW(t.datum,n.datum,e))return n.from_greenwich&&(e={x:e.x-n.from_greenwich,y:e.y,z:e.z||0}),"longlat"===n.projName?e={x:e.x*$G,y:e.y*$G,z:e.z||0}:(e=n.forward(e),n.to_meter&&(e={x:e.x/n.to_meter,y:e.y/n.to_meter,z:e.z||0})),i&&"enu"!==n.axis?$W(n,!0,e):e}UW.projections=MW,UW.projections.start();var ig=UW("WGS84");function og(t,n,e,i){var o,l,s;return Array.isArray(e)?(o=eg(t,n,e,i)||{x:NaN,y:NaN},e.length>2?void 0!==t.name&&"geocent"===t.name||void 0!==n.name&&"geocent"===n.name?"number"==typeof o.z?[o.x,o.y,o.z].concat(e.splice(3)):[o.x,o.y,e[2]].concat(e.splice(3)):[o.x,o.y].concat(e.splice(2)):[o.x,o.y]):(l=eg(t,n,e,i),2===(s=Object.keys(e)).length||s.forEach((function(i){if(void 0!==t.name&&"geocent"===t.name||void 0!==n.name&&"geocent"===n.name){if("x"===i||"y"===i||"z"===i)return}else if("x"===i||"y"===i)return;l[i]=e[i]})),l)}function lg(t){return t instanceof UW?t:t.oProj?t.oProj:UW(t)}function sg(t,n,e){t=lg(t);var i,o=!1;return void 0===n?(n=t,t=ig,o=!0):(void 0!==n.x||Array.isArray(n))&&(e=n,n=t,t=ig,o=!0),n=lg(n),e?og(t,n,e):(i={forward:function(e,i){return og(t,n,e,i)},inverse:function(e,i){return og(n,t,e,i)}},o&&(i.oProj=n),i)}var rg="AJSAJS",ag="AFAFAF",dg=65,cg=73,ug=79,pg=86,hg=90,mg={forward:bg,inverse:function(t){var n=fg(gg(t.toUpperCase()));if(n.lat&&n.lon)return[n.lon,n.lat,n.lon,n.lat];return[n.left,n.bottom,n.right,n.top]},toPoint:yg};function bg(t,n){return n=n||5,function(t,n){var e="00000"+t.easting,i="00000"+t.northing;return t.zoneNumber+t.zoneLetter+(o=t.easting,l=t.northing,s=t.zoneNumber,r=Wg(s),a=Math.floor(o/1e5),d=Math.floor(l/1e5)%20,function(t,n,e){var i=e-1,o=rg.charCodeAt(i),l=ag.charCodeAt(i),s=o+t-1,r=l+n,a=!1;return s>hg&&(s=s-hg+dg-1,a=!0),(s===cg||o<cg&&s>cg||(s>cg||o<cg)&&a)&&s++,(s===ug||o<ug&&s>ug||(s>ug||o<ug)&&a)&&++s===cg&&s++,s>hg&&(s=s-hg+dg-1),r>pg?(r=r-pg+dg-1,a=!0):a=!1,(r===cg||l<cg&&r>cg||(r>cg||l<cg)&&a)&&r++,(r===ug||l<ug&&r>ug||(r>ug||l<ug)&&a)&&++r===cg&&r++,r>pg&&(r=r-pg+dg-1),String.fromCharCode(s)+String.fromCharCode(r)}(a,d,r))+e.substr(e.length-5,n)+i.substr(i.length-5,n);var o,l,s,r,a,d}(function(t){var n,e,i,o,l,s,r,a,d=t.lat,c=t.lon,u=6378137,p=.00669438,h=.9996,m=Zg(d),b=Zg(c);a=Math.floor((c+180)/6)+1,180===c&&(a=60);d>=56&&d<64&&c>=3&&c<12&&(a=32);d>=72&&d<84&&(c>=0&&c<9?a=31:c>=9&&c<21?a=33:c>=21&&c<33?a=35:c>=33&&c<42&&(a=37));r=Zg(6*(a-1)-180+3),n=p/(1-p),e=u/Math.sqrt(1-p*Math.sin(m)*Math.sin(m)),i=Math.tan(m)*Math.tan(m),o=n*Math.cos(m)*Math.cos(m),l=Math.cos(m)*(b-r),s=u*((1-p/4-3*p*p/64-5*p*p*p/256)*m-(3*p/8+3*p*p/32+45*p*p*p/1024)*Math.sin(2*m)+(15*p*p/256+45*p*p*p/1024)*Math.sin(4*m)-35*p*p*p/3072*Math.sin(6*m));var y=h*e*(l+(1-i+o)*l*l*l/6+(5-18*i+i*i+72*o-58*n)*l*l*l*l*l/120)+5e5,Z=h*(s+e*Math.tan(m)*(l*l/2+(5-i+9*o+4*o*o)*l*l*l*l/24+(61-58*i+i*i+600*o-330*n)*l*l*l*l*l*l/720));d<0&&(Z+=1e7);return{northing:Math.round(Z),easting:Math.round(y),zoneNumber:a,zoneLetter:Gg(d)}}({lat:t[1],lon:t[0]}),n)}function yg(t){var n=fg(gg(t.toUpperCase()));return n.lat&&n.lon?[n.lon,n.lat]:[(n.left+n.right)/2,(n.top+n.bottom)/2]}function Zg(t){return t*(Math.PI/180)}function Xg(t){return t/Math.PI*180}function fg(t){var n=t.northing,e=t.easting,i=t.zoneLetter,o=t.zoneNumber;if(o<0||o>60)return null;var l,s,r,a,d,c,u,p,h,m=.9996,b=6378137,y=.00669438,Z=(1-Math.sqrt(.99330562))/(1+Math.sqrt(.99330562)),X=e-5e5,f=n;i<"N"&&(f-=1e7),u=6*(o-1)-180+3,l=.006739496752268451,h=(p=f/m/6367449.145945056)+(3*Z/2-27*Z*Z*Z/32)*Math.sin(2*p)+(21*Z*Z/16-55*Z*Z*Z*Z/32)*Math.sin(4*p)+151*Z*Z*Z/96*Math.sin(6*p),s=b/Math.sqrt(1-y*Math.sin(h)*Math.sin(h)),r=Math.tan(h)*Math.tan(h),a=l*Math.cos(h)*Math.cos(h),d=.99330562*b/Math.pow(1-y*Math.sin(h)*Math.sin(h),1.5),c=X/(s*m);var G=h-s*Math.tan(h)/d*(c*c/2-(5+3*r+10*a-4*a*a-9*l)*c*c*c*c/24+(61+90*r+298*a+45*r*r-1.6983531815716497-3*a*a)*c*c*c*c*c*c/720);G=Xg(G);var W,g=(c-(1+2*r+a)*c*c*c/6+(5-2*a+28*r-3*a*a+8*l+24*r*r)*c*c*c*c*c/120)/Math.cos(h);if(g=u+Xg(g),t.accuracy){var v=fg({northing:t.northing+t.accuracy,easting:t.easting+t.accuracy,zoneLetter:t.zoneLetter,zoneNumber:t.zoneNumber});W={top:v.lat,right:v.lon,bottom:G,left:g}}else W={lat:G,lon:g};return W}function Gg(t){var n="Z";return 84>=t&&t>=72?n="X":72>t&&t>=64?n="W":64>t&&t>=56?n="V":56>t&&t>=48?n="U":48>t&&t>=40?n="T":40>t&&t>=32?n="S":32>t&&t>=24?n="R":24>t&&t>=16?n="Q":16>t&&t>=8?n="P":8>t&&t>=0?n="N":0>t&&t>=-8?n="M":-8>t&&t>=-16?n="L":-16>t&&t>=-24?n="K":-24>t&&t>=-32?n="J":-32>t&&t>=-40?n="H":-40>t&&t>=-48?n="G":-48>t&&t>=-56?n="F":-56>t&&t>=-64?n="E":-64>t&&t>=-72?n="D":-72>t&&t>=-80&&(n="C"),n}function Wg(t){var n=t%6;return 0===n&&(n=6),n}function gg(t){if(t&&0===t.length)throw"MGRSPoint coverting from nothing";for(var n,e=t.length,i=null,o="",l=0;!/[A-Z]/.test(n=t.charAt(l));){if(l>=2)throw"MGRSPoint bad conversion from: "+t;o+=n,l++}var s=parseInt(o,10);if(0===l||l+3>e)throw"MGRSPoint bad conversion from: "+t;var r=t.charAt(l++);if(r<="A"||"B"===r||"Y"===r||r>="Z"||"I"===r||"O"===r)throw"MGRSPoint zone letter "+r+" not handled: "+t;i=t.substring(l,l+=2);for(var a=Wg(s),d=function(t,n){var e=rg.charCodeAt(n-1),i=1e5,o=!1;for(;e!==t.charCodeAt(0);){if(++e===cg&&e++,e===ug&&e++,e>hg){if(o)throw"Bad character: "+t;e=dg,o=!0}i+=1e5}return i}(i.charAt(0),a),c=function(t,n){if(t>"V")throw"MGRSPoint given invalid Northing "+t;var e=ag.charCodeAt(n-1),i=0,o=!1;for(;e!==t.charCodeAt(0);){if(++e===cg&&e++,e===ug&&e++,e>pg){if(o)throw"Bad character: "+t;e=dg,o=!0}i+=1e5}return i}(i.charAt(1),a);c<vg(r);)c+=2e6;var u=e-l;if(u%2!=0)throw"MGRSPoint has to have an even number \nof digits after the zone letter and two 100km letters - front \nhalf for easting meters, second half for \nnorthing meters"+t;var p,h,m,b=u/2,y=0,Z=0;return b>0&&(p=1e5/Math.pow(10,b),h=t.substring(l,l+b),y=parseFloat(h)*p,m=t.substring(l+b),Z=parseFloat(m)*p),{easting:y+d,northing:Z+c,zoneLetter:r,zoneNumber:s,accuracy:p}}function vg(t){var n;switch(t){case"C":n=11e5;break;case"D":n=2e6;break;case"E":n=28e5;break;case"F":n=37e5;break;case"G":n=46e5;break;case"H":n=55e5;break;case"J":n=64e5;break;case"K":n=73e5;break;case"L":n=82e5;break;case"M":n=91e5;break;case"N":n=0;break;case"P":n=8e5;break;case"Q":n=17e5;break;case"R":n=26e5;break;case"S":n=35e5;break;case"T":n=44e5;break;case"U":n=53e5;break;case"V":n=62e5;break;case"W":n=7e6;break;case"X":n=79e5;break;default:n=-1}if(n>=0)return n;throw"Invalid zone letter: "+t}function Vg(t,e,i){if(!(this instanceof Vg))return new Vg(t,e,i);if(Array.isArray(t))this.x=t[0],this.y=t[1],this.z=t[2]||0;else if("object"===n(t))this.x=t.x,this.y=t.y,this.z=t.z||0;else if("string"==typeof t&&void 0===e){var o=t.split(",");this.x=parseFloat(o[0],10),this.y=parseFloat(o[1],10),this.z=parseFloat(o[2],10)||0}else this.x=t,this.y=e,this.z=i||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}Vg.fromMGRS=function(t){return new Vg(yg(t))},Vg.prototype.toMGRS=function(t){return bg([this.x,this.y],t)};var xg=.046875,Sg=.01953125,Lg=.01068115234375;function Rg(t){var n=[];n[0]=1-t*(.25+t*(xg+t*(Sg+t*Lg))),n[1]=t*(.75-t*(xg+t*(Sg+t*Lg)));var e=t*t;return n[2]=e*(.46875-t*(.013020833333333334+.007120768229166667*t)),e*=t,n[3]=e*(.3645833333333333-.005696614583333333*t),n[4]=e*t*.3076171875,n}function Kg(t,n,e,i){return e*=n,n*=n,i[0]*t-e*(i[1]+n*(i[2]+n*(i[3]+n*i[4])))}function Hg(t,n,e){for(var i=1/(1-n),o=t,l=20;l;--l){var s=Math.sin(o),r=1-n*s*s;if(o-=r=(Kg(o,s,Math.cos(o),e)-t)*(r*Math.sqrt(r))*i,Math.abs(r)<DG)return o}return o}var Cg={init:function(){this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.es&&(this.en=Rg(this.es),this.ml0=Kg(this.lat0,Math.sin(this.lat0),Math.cos(this.lat0),this.en))},forward:function(t){var n,e,i,o=t.x,l=t.y,s=xW(o-this.long0),r=Math.sin(l),a=Math.cos(l);if(this.es){var d=a*s,c=Math.pow(d,2),u=this.ep2*Math.pow(a,2),p=Math.pow(u,2),h=Math.abs(a)>DG?Math.tan(l):0,m=Math.pow(h,2),b=Math.pow(m,2);n=1-this.es*Math.pow(r,2),d/=Math.sqrt(n);var y=Kg(l,r,a,this.en);e=this.a*(this.k0*d*(1+c/6*(1-m+u+c/20*(5-18*m+b+14*u-58*m*u+c/42*(61+179*b-b*m-479*m)))))+this.x0,i=this.a*(this.k0*(y-this.ml0+r*s*d/2*(1+c/12*(5-m+9*u+4*p+c/30*(61+b-58*m+270*u-330*m*u+c/56*(1385+543*b-b*m-3111*m))))))+this.y0}else{var Z=a*Math.sin(s);if(Math.abs(Math.abs(Z)-1)<DG)return 93;if(e=.5*this.a*this.k0*Math.log((1+Z)/(1-Z))+this.x0,i=a*Math.cos(s)/Math.sqrt(1-Math.pow(Z,2)),(Z=Math.abs(i))>=1){if(Z-1>DG)return 93;i=0}else i=Math.acos(i);l<0&&(i=-i),i=this.a*this.k0*(i-this.lat0)+this.y0}return t.x=e,t.y=i,t},inverse:function(t){var n,e,i,o,l=(t.x-this.x0)*(1/this.a),s=(t.y-this.y0)*(1/this.a);if(this.es)if(e=Hg(n=this.ml0+s/this.k0,this.es,this.en),Math.abs(e)<AG){var r=Math.sin(e),a=Math.cos(e),d=Math.abs(a)>DG?Math.tan(e):0,c=this.ep2*Math.pow(a,2),u=Math.pow(c,2),p=Math.pow(d,2),h=Math.pow(p,2);n=1-this.es*Math.pow(r,2);var m=l*Math.sqrt(n)/this.k0,b=Math.pow(m,2);i=e-(n*=d)*b/(1-this.es)*.5*(1-b/12*(5+3*p-9*c*p+c-4*u-b/30*(61+90*p-252*c*p+45*h+46*c-b/56*(1385+3633*p+4095*h+1574*h*p)))),o=xW(this.long0+m*(1-b/6*(1+2*p+c-b/20*(5+28*p+24*h+8*c*p+6*c-b/42*(61+662*p+1320*h+720*h*p))))/a)}else i=AG*VW(s),o=0;else{var y=Math.exp(l/this.k0),Z=.5*(y-1/y),X=this.lat0+s/this.k0,f=Math.cos(X);n=Math.sqrt((1-Math.pow(f,2))/(1+Math.pow(Z,2))),i=Math.asin(n),s<0&&(i=-i),o=0===Z&&0===f?0:xW(Math.atan2(Z,f)+this.long0)}return t.x=o,t.y=i,t},names:["Fast_Transverse_Mercator","Fast Transverse Mercator"]};function Yg(t){var n=Math.exp(t);return n=(n-1/n)/2}function Tg(t,n){t=Math.abs(t),n=Math.abs(n);var e=Math.max(t,n),i=Math.min(t,n)/(e||1);return e*Math.sqrt(1+Math.pow(i,2))}function Mg(t){var n=Math.abs(t);return n=function(t){var n=1+t,e=n-1;return 0===e?t:t*Math.log(n)/e}(n*(1+n/(Tg(1,n)+1))),t<0?-n:n}function wg(t,n){for(var e,i=2*Math.cos(2*n),o=t.length-1,l=t[o],s=0;--o>=0;)e=i*l-s+t[o],s=l,l=e;return n+e*Math.sin(2*n)}function Pg(t,n,e){for(var i,o,l=Math.sin(n),s=Math.cos(n),r=Yg(e),a=function(t){var n=Math.exp(t);return(n+1/n)/2}(e),d=2*s*a,c=-2*l*r,u=t.length-1,p=t[u],h=0,m=0,b=0;--u>=0;)i=m,o=h,p=d*(m=p)-i-c*(h=b)+t[u],b=c*m-o+d*h;return[(d=l*a)*p-(c=s*r)*b,d*b+c*p]}var Ig={init:function(){if(!this.approx&&(isNaN(this.es)||this.es<=0))throw new Error('Incorrect elliptical usage. Try using the +approx option in the proj string, or PROJECTION["Fast_Transverse_Mercator"] in the WKT.');this.approx&&(Cg.init.apply(this),this.forward=Cg.forward,this.inverse=Cg.inverse),this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.cgb=[],this.cbg=[],this.utg=[],this.gtu=[];var t=this.es/(1+Math.sqrt(1-this.es)),n=t/(2-t),e=n;this.cgb[0]=n*(2+n*(-2/3+n*(n*(116/45+n*(26/45+n*(-2854/675)))-2))),this.cbg[0]=n*(n*(2/3+n*(4/3+n*(-82/45+n*(32/45+n*(4642/4725)))))-2),e*=n,this.cgb[1]=e*(7/3+n*(n*(-227/45+n*(2704/315+n*(2323/945)))-1.6)),this.cbg[1]=e*(5/3+n*(-16/15+n*(-13/9+n*(904/315+n*(-1522/945))))),e*=n,this.cgb[2]=e*(56/15+n*(-136/35+n*(-1262/105+n*(73814/2835)))),this.cbg[2]=e*(-26/15+n*(34/21+n*(1.6+n*(-12686/2835)))),e*=n,this.cgb[3]=e*(4279/630+n*(-332/35+n*(-399572/14175))),this.cbg[3]=e*(1237/630+n*(n*(-24832/14175)-2.4)),e*=n,this.cgb[4]=e*(4174/315+n*(-144838/6237)),this.cbg[4]=e*(-734/315+n*(109598/31185)),e*=n,this.cgb[5]=e*(601676/22275),this.cbg[5]=e*(444337/155925),e=Math.pow(n,2),this.Qn=this.k0/(1+n)*(1+e*(1/4+e*(1/64+e/256))),this.utg[0]=n*(n*(2/3+n*(-37/96+n*(1/360+n*(81/512+n*(-96199/604800)))))-.5),this.gtu[0]=n*(.5+n*(-2/3+n*(5/16+n*(41/180+n*(-127/288+n*(7891/37800)))))),this.utg[1]=e*(-1/48+n*(-1/15+n*(437/1440+n*(-46/105+n*(1118711/3870720))))),this.gtu[1]=e*(13/48+n*(n*(557/1440+n*(281/630+n*(-1983433/1935360)))-.6)),e*=n,this.utg[2]=e*(-17/480+n*(37/840+n*(209/4480+n*(-5569/90720)))),this.gtu[2]=e*(61/240+n*(-103/140+n*(15061/26880+n*(167603/181440)))),e*=n,this.utg[3]=e*(-4397/161280+n*(11/504+n*(830251/7257600))),this.gtu[3]=e*(49561/161280+n*(-179/168+n*(6601661/7257600))),e*=n,this.utg[4]=e*(-4583/161280+n*(108847/3991680)),this.gtu[4]=e*(34729/80640+n*(-3418889/1995840)),e*=n,this.utg[5]=e*(-20648693/638668800),this.gtu[5]=.6650675310896665*e;var i=wg(this.cbg,this.lat0);this.Zb=-this.Qn*(i+function(t,n){for(var e,i=2*Math.cos(n),o=t.length-1,l=t[o],s=0;--o>=0;)e=i*l-s+t[o],s=l,l=e;return Math.sin(n)*e}(this.gtu,2*i))},forward:function(t){var n=xW(t.x-this.long0),e=t.y;e=wg(this.cbg,e);var i=Math.sin(e),o=Math.cos(e),l=Math.sin(n),s=Math.cos(n);e=Math.atan2(i,s*o),n=Math.atan2(l*o,Tg(i,o*s)),n=Mg(Math.tan(n));var r,a,d=Pg(this.gtu,2*e,2*n);return e+=d[0],n+=d[1],Math.abs(n)<=2.623395162778?(r=this.a*(this.Qn*n)+this.x0,a=this.a*(this.Qn*e+this.Zb)+this.y0):(r=1/0,a=1/0),t.x=r,t.y=a,t},inverse:function(t){var n,e,i=(t.x-this.x0)*(1/this.a),o=(t.y-this.y0)*(1/this.a);if(o=(o-this.Zb)/this.Qn,i/=this.Qn,Math.abs(i)<=2.623395162778){var l=Pg(this.utg,2*o,2*i);o+=l[0],i+=l[1],i=Math.atan(Yg(i));var s=Math.sin(o),r=Math.cos(o),a=Math.sin(i),d=Math.cos(i);o=Math.atan2(s*d,Tg(a,d*r)),n=xW((i=Math.atan2(a,d*r))+this.long0),e=wg(this.cgb,o)}else n=1/0,e=1/0;return t.x=n,t.y=e,t},names:["Extended_Transverse_Mercator","Extended Transverse Mercator","etmerc","Transverse_Mercator","Transverse Mercator","tmerc"]};var zg={init:function(){var t=function(t,n){if(void 0===t){if((t=Math.floor(30*(xW(n)+Math.PI)/Math.PI)+1)<0)return 0;if(t>60)return 60}return t}(this.zone,this.long0);if(void 0===t)throw new Error("unknown utm zone");this.lat0=0,this.long0=(6*Math.abs(t)-183)*qG,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,Ig.init.apply(this),this.forward=Ig.forward,this.inverse=Ig.inverse},names:["Universal Transverse Mercator System","utm"],dependsOn:"etmerc"};function Jg(t,n){return Math.pow((1-t)/(1+t),n)}var Ng={init:function(){var t=Math.sin(this.lat0),n=Math.cos(this.lat0);n*=n,this.rc=Math.sqrt(1-this.es)/(1-this.es*t*t),this.C=Math.sqrt(1+this.es*n*n/(1-this.es)),this.phic0=Math.asin(t/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+tW)/(Math.pow(Math.tan(.5*this.lat0+tW),this.C)*Jg(this.e*t,this.ratexp))},forward:function(t){var n=t.x,e=t.y;return t.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*e+tW),this.C)*Jg(this.e*Math.sin(e),this.ratexp))-AG,t.x=this.C*n,t},inverse:function(t){for(var n=t.x/this.C,e=t.y,i=Math.pow(Math.tan(.5*e+tW)/this.K,1/this.C),o=20;o>0&&(e=2*Math.atan(i*Jg(this.e*Math.sin(t.y),-.5*this.e))-AG,!(Math.abs(e-t.y)<1e-14));--o)t.y=e;return o?(t.x=n,t.y=e,t):null},names:["gauss"]};var Fg={init:function(){Ng.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))},forward:function(t){var n,e,i,o;return t.x=xW(t.x-this.long0),Ng.forward.apply(this,[t]),n=Math.sin(t.y),e=Math.cos(t.y),i=Math.cos(t.x),o=this.k0*this.R2/(1+this.sinc0*n+this.cosc0*e*i),t.x=o*e*Math.sin(t.x),t.y=o*(this.cosc0*n-this.sinc0*e*i),t.x=this.a*t.x+this.x0,t.y=this.a*t.y+this.y0,t},inverse:function(t){var n,e,i,o,l;if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,l=Math.sqrt(t.x*t.x+t.y*t.y)){var s=2*Math.atan2(l,this.R2);n=Math.sin(s),e=Math.cos(s),o=Math.asin(e*this.sinc0+t.y*n*this.cosc0/l),i=Math.atan2(t.x*n,l*this.cosc0*e-t.y*this.sinc0*n)}else o=this.phic0,i=0;return t.x=i,t.y=o,Ng.inverse.apply(this,[t]),t.x=xW(t.x+this.long0),t},names:["Stereographic_North_Pole","Oblique_Stereographic","Polar_Stereographic","sterea","Oblique Stereographic Alternative","Double_Stereographic"]};var kg={init:function(){this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=DG&&(this.k0=.5*(1+VW(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=DG&&(this.lat0>0?this.con=1:this.con=-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=DG&&(this.k0=.5*this.cons*vW(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/SW(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=vW(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-AG,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))},forward:function(t){var n,e,i,o,l,s,r=t.x,a=t.y,d=Math.sin(a),c=Math.cos(a),u=xW(r-this.long0);return Math.abs(Math.abs(r-this.long0)-Math.PI)<=DG&&Math.abs(a+this.lat0)<=DG?(t.x=NaN,t.y=NaN,t):this.sphere?(n=2*this.k0/(1+this.sinlat0*d+this.coslat0*c*Math.cos(u)),t.x=this.a*n*c*Math.sin(u)+this.x0,t.y=this.a*n*(this.coslat0*d-this.sinlat0*c*Math.cos(u))+this.y0,t):(e=2*Math.atan(this.ssfn_(a,d,this.e))-AG,o=Math.cos(e),i=Math.sin(e),Math.abs(this.coslat0)<=DG?(l=SW(this.e,a*this.con,this.con*d),s=2*this.a*this.k0*l/this.cons,t.x=this.x0+s*Math.sin(r-this.long0),t.y=this.y0-this.con*s*Math.cos(r-this.long0),t):(Math.abs(this.sinlat0)<DG?(n=2*this.a*this.k0/(1+o*Math.cos(u)),t.y=n*i):(n=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*i+this.cosX0*o*Math.cos(u))),t.y=n*(this.cosX0*i-this.sinX0*o*Math.cos(u))+this.y0),t.x=n*o*Math.sin(u)+this.x0,t))},inverse:function(t){var n,e,i,o,l;t.x-=this.x0,t.y-=this.y0;var s=Math.sqrt(t.x*t.x+t.y*t.y);if(this.sphere){var r=2*Math.atan(s/(2*this.a*this.k0));return n=this.long0,e=this.lat0,s<=DG?(t.x=n,t.y=e,t):(e=Math.asin(Math.cos(r)*this.sinlat0+t.y*Math.sin(r)*this.coslat0/s),n=Math.abs(this.coslat0)<DG?this.lat0>0?xW(this.long0+Math.atan2(t.x,-1*t.y)):xW(this.long0+Math.atan2(t.x,t.y)):xW(this.long0+Math.atan2(t.x*Math.sin(r),s*this.coslat0*Math.cos(r)-t.y*this.sinlat0*Math.sin(r))),t.x=n,t.y=e,t)}if(Math.abs(this.coslat0)<=DG){if(s<=DG)return e=this.lat0,n=this.long0,t.x=n,t.y=e,t;t.x*=this.con,t.y*=this.con,i=s*this.cons/(2*this.a*this.k0),e=this.con*LW(this.e,i),n=this.con*xW(this.con*this.long0+Math.atan2(t.x,-1*t.y))}else o=2*Math.atan(s*this.cosX0/(2*this.a*this.k0*this.ms1)),n=this.long0,s<=DG?l=this.X0:(l=Math.asin(Math.cos(o)*this.sinX0+t.y*Math.sin(o)*this.cosX0/s),n=xW(this.long0+Math.atan2(t.x*Math.sin(o),s*this.cosX0*Math.cos(o)-t.y*this.sinX0*Math.sin(o)))),e=-1*LW(this.e,Math.tan(.5*(AG+l)));return t.x=n,t.y=e,t},names:["stere","Stereographic_South_Pole","Polar Stereographic (variant B)"],ssfn_:function(t,n,e){return n*=e,Math.tan(.5*(AG+t))*Math.pow((1-n)/(1+n),.5*e)}};var Bg={init:function(){var t=this.lat0;this.lambda0=this.long0;var n=Math.sin(t),e=this.a,i=1/this.rf,o=2*i-Math.pow(i,2),l=this.e=Math.sqrt(o);this.R=this.k0*e*Math.sqrt(1-o)/(1-o*Math.pow(n,2)),this.alpha=Math.sqrt(1+o/(1-o)*Math.pow(Math.cos(t),4)),this.b0=Math.asin(n/this.alpha);var s=Math.log(Math.tan(Math.PI/4+this.b0/2)),r=Math.log(Math.tan(Math.PI/4+t/2)),a=Math.log((1+l*n)/(1-l*n));this.K=s-this.alpha*r+this.alpha*l/2*a},forward:function(t){var n=Math.log(Math.tan(Math.PI/4-t.y/2)),e=this.e/2*Math.log((1+this.e*Math.sin(t.y))/(1-this.e*Math.sin(t.y))),i=-this.alpha*(n+e)+this.K,o=2*(Math.atan(Math.exp(i))-Math.PI/4),l=this.alpha*(t.x-this.lambda0),s=Math.atan(Math.sin(l)/(Math.sin(this.b0)*Math.tan(o)+Math.cos(this.b0)*Math.cos(l))),r=Math.asin(Math.cos(this.b0)*Math.sin(o)-Math.sin(this.b0)*Math.cos(o)*Math.cos(l));return t.y=this.R/2*Math.log((1+Math.sin(r))/(1-Math.sin(r)))+this.y0,t.x=this.R*s+this.x0,t},inverse:function(t){for(var n=t.x-this.x0,e=t.y-this.y0,i=n/this.R,o=2*(Math.atan(Math.exp(e/this.R))-Math.PI/4),l=Math.asin(Math.cos(this.b0)*Math.sin(o)+Math.sin(this.b0)*Math.cos(o)*Math.cos(i)),s=Math.atan(Math.sin(i)/(Math.cos(this.b0)*Math.cos(i)-Math.sin(this.b0)*Math.tan(o))),r=this.lambda0+s/this.alpha,a=0,d=l,c=-1e3,u=0;Math.abs(d-c)>1e-7;){if(++u>20)return;a=1/this.alpha*(Math.log(Math.tan(Math.PI/4+l/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(d))/2)),c=d,d=2*Math.atan(Math.exp(a))-Math.PI/2}return t.x=r,t.y=d,t},names:["somerc"]},_g=1e-7;var Ug={init:function(){var t,e,i,o,l,s,r,a,d,c,u,p,h,m=0,b=0,y=0,Z=0,X=0,f=0,G=0;this.no_off=(h="object"===n((p=this).PROJECTION)?Object.keys(p.PROJECTION)[0]:p.PROJECTION,"no_uoff"in p||"no_off"in p||-1!==["Hotine_Oblique_Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin"].indexOf(h)),this.no_rot="no_rot"in this;var W=!1;"alpha"in this&&(W=!0);var g=!1;if("rectified_grid_angle"in this&&(g=!0),W&&(G=this.alpha),g&&(m=this.rectified_grid_angle*qG),W||g)b=this.longc;else if(y=this.long1,X=this.lat1,Z=this.long2,f=this.lat2,Math.abs(X-f)<=_g||(t=Math.abs(X))<=_g||Math.abs(t-AG)<=_g||Math.abs(Math.abs(this.lat0)-AG)<=_g||Math.abs(Math.abs(f)-AG)<=_g)throw new Error;var v=1-this.es;e=Math.sqrt(v),Math.abs(this.lat0)>DG?(a=Math.sin(this.lat0),i=Math.cos(this.lat0),t=1-this.es*a*a,this.B=i*i,this.B=Math.sqrt(1+this.es*this.B*this.B/v),this.A=this.B*this.k0*e/t,(l=(o=this.B*e/(i*Math.sqrt(t)))*o-1)<=0?l=0:(l=Math.sqrt(l),this.lat0<0&&(l=-l)),this.E=l+=o,this.E*=Math.pow(SW(this.e,this.lat0,a),this.B)):(this.B=1/e,this.A=this.k0,this.E=o=l=1),W||g?(W?(u=Math.asin(Math.sin(G)/o),g||(m=G)):(u=m,G=Math.asin(o*Math.sin(u))),this.lam0=b-Math.asin(.5*(l-1/l)*Math.tan(u))/this.B):(s=Math.pow(SW(this.e,X,Math.sin(X)),this.B),r=Math.pow(SW(this.e,f,Math.sin(f)),this.B),l=this.E/s,d=(r-s)/(r+s),c=((c=this.E*this.E)-r*s)/(c+r*s),(t=y-Z)<-Math.pi?Z-=nW:t>Math.pi&&(Z+=nW),this.lam0=xW(.5*(y+Z)-Math.atan(c*Math.tan(.5*this.B*(y-Z))/d)/this.B),u=Math.atan(2*Math.sin(this.B*xW(y-this.lam0))/(l-1/l)),m=G=Math.asin(o*Math.sin(u))),this.singam=Math.sin(u),this.cosgam=Math.cos(u),this.sinrot=Math.sin(m),this.cosrot=Math.cos(m),this.rB=1/this.B,this.ArB=this.A*this.rB,this.BrA=1/this.ArB,this.A,this.B,this.no_off?this.u_0=0:(this.u_0=Math.abs(this.ArB*Math.atan(Math.sqrt(o*o-1)/Math.cos(G))),this.lat0<0&&(this.u_0=-this.u_0)),l=.5*u,this.v_pole_n=this.ArB*Math.log(Math.tan(tW-l)),this.v_pole_s=this.ArB*Math.log(Math.tan(tW+l))},forward:function(t){var n,e,i,o,l,s,r,a,d={};if(t.x=t.x-this.lam0,Math.abs(Math.abs(t.y)-AG)>DG){if(n=.5*((l=this.E/Math.pow(SW(this.e,t.y,Math.sin(t.y)),this.B))-(s=1/l)),e=.5*(l+s),o=Math.sin(this.B*t.x),i=(n*this.singam-o*this.cosgam)/e,Math.abs(Math.abs(i)-1)<DG)throw new Error;a=.5*this.ArB*Math.log((1-i)/(1+i)),s=Math.cos(this.B*t.x),r=Math.abs(s)<_g?this.A*t.x:this.ArB*Math.atan2(n*this.cosgam+o*this.singam,s)}else a=t.y>0?this.v_pole_n:this.v_pole_s,r=this.ArB*t.y;return this.no_rot?(d.x=r,d.y=a):(r-=this.u_0,d.x=a*this.cosrot+r*this.sinrot,d.y=r*this.cosrot-a*this.sinrot),d.x=this.a*d.x+this.x0,d.y=this.a*d.y+this.y0,d},inverse:function(t){var n,e,i,o,l,s,r,a={};if(t.x=(t.x-this.x0)*(1/this.a),t.y=(t.y-this.y0)*(1/this.a),this.no_rot?(e=t.y,n=t.x):(e=t.x*this.cosrot-t.y*this.sinrot,n=t.y*this.cosrot+t.x*this.sinrot+this.u_0),o=.5*((i=Math.exp(-this.BrA*e))-1/i),l=.5*(i+1/i),r=((s=Math.sin(this.BrA*n))*this.cosgam+o*this.singam)/l,Math.abs(Math.abs(r)-1)<DG)a.x=0,a.y=r<0?-AG:AG;else{if(a.y=this.E/Math.sqrt((1+r)/(1-r)),a.y=LW(this.e,Math.pow(a.y,1/this.B)),a.y===1/0)throw new Error;a.x=-this.rB*Math.atan2(o*this.cosgam-s*this.singam,Math.cos(this.BrA*n))}return a.x+=this.lam0,a},names:["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Two_Point_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","Oblique_Mercator","omerc"]};var Eg={init:function(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<DG)){var t=this.b/this.a;this.e=Math.sqrt(1-t*t);var n=Math.sin(this.lat1),e=Math.cos(this.lat1),i=vW(this.e,n,e),o=SW(this.e,this.lat1,n),l=Math.sin(this.lat2),s=Math.cos(this.lat2),r=vW(this.e,l,s),a=SW(this.e,this.lat2,l),d=SW(this.e,this.lat0,Math.sin(this.lat0));Math.abs(this.lat1-this.lat2)>DG?this.ns=Math.log(i/r)/Math.log(o/a):this.ns=n,isNaN(this.ns)&&(this.ns=n),this.f0=i/(this.ns*Math.pow(o,this.ns)),this.rh=this.a*this.f0*Math.pow(d,this.ns),this.title||(this.title="Lambert Conformal Conic")}},forward:function(t){var n=t.x,e=t.y;Math.abs(2*Math.abs(e)-Math.PI)<=DG&&(e=VW(e)*(AG-2e-10));var i,o,l=Math.abs(Math.abs(e)-AG);if(l>DG)i=SW(this.e,e,Math.sin(e)),o=this.a*this.f0*Math.pow(i,this.ns);else{if((l=e*this.ns)<=0)return null;o=0}var s=this.ns*xW(n-this.long0);return t.x=this.k0*(o*Math.sin(s))+this.x0,t.y=this.k0*(this.rh-o*Math.cos(s))+this.y0,t},inverse:function(t){var n,e,i,o,l,s=(t.x-this.x0)/this.k0,r=this.rh-(t.y-this.y0)/this.k0;this.ns>0?(n=Math.sqrt(s*s+r*r),e=1):(n=-Math.sqrt(s*s+r*r),e=-1);var a=0;if(0!==n&&(a=Math.atan2(e*s,e*r)),0!==n||this.ns>0){if(e=1/this.ns,i=Math.pow(n/(this.a*this.f0),e),-9999===(o=LW(this.e,i)))return null}else o=-AG;return l=xW(a/this.ns+this.long0),t.x=l,t.y=o,t},names:["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_1SP","Lambert_Conformal_Conic_2SP","lcc","Lambert Conic Conformal (1SP)","Lambert Conic Conformal (2SP)"]};var jg={init:function(){this.a=6377397.155,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.4334234309119251),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq},forward:function(t){var n,e,i,o,l,s,r,a=t.x,d=t.y,c=xW(a-this.long0);return n=Math.pow((1+this.e*Math.sin(d))/(1-this.e*Math.sin(d)),this.alfa*this.e/2),e=2*(Math.atan(this.k*Math.pow(Math.tan(d/2+this.s45),this.alfa)/n)-this.s45),i=-c*this.alfa,o=Math.asin(Math.cos(this.ad)*Math.sin(e)+Math.sin(this.ad)*Math.cos(e)*Math.cos(i)),l=Math.asin(Math.cos(e)*Math.sin(i)/Math.cos(o)),s=this.n*l,r=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(o/2+this.s45),this.n),t.y=r*Math.cos(s)/1,t.x=r*Math.sin(s)/1,this.czech||(t.y*=-1,t.x*=-1),t},inverse:function(t){var n,e,i,o,l,s,r,a=t.x;t.x=t.y,t.y=a,this.czech||(t.y*=-1,t.x*=-1),l=Math.sqrt(t.x*t.x+t.y*t.y),o=Math.atan2(t.y,t.x)/Math.sin(this.s0),i=2*(Math.atan(Math.pow(this.ro0/l,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),n=Math.asin(Math.cos(this.ad)*Math.sin(i)-Math.sin(this.ad)*Math.cos(i)*Math.cos(o)),e=Math.asin(Math.cos(i)*Math.sin(o)/Math.cos(n)),t.x=this.long0-e/this.alfa,s=n,r=0;var d=0;do{t.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(n/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(s))/(1-this.e*Math.sin(s)),this.e/2))-this.s45),Math.abs(s-t.y)<1e-10&&(r=1),s=t.y,d+=1}while(0===r&&d<15);return d>=15?null:t},names:["Krovak","krovak"]};function Qg(t,n,e,i,o){return t*o-n*Math.sin(2*o)+e*Math.sin(4*o)-i*Math.sin(6*o)}function Og(t){return 1-.25*t*(1+t/16*(3+1.25*t))}function Ag(t){return.375*t*(1+.25*t*(1+.46875*t))}function Dg(t){return.05859375*t*t*(1+.75*t)}function qg(t){return t*t*t*(35/3072)}function $g(t,n,e){var i=n*e;return t/Math.sqrt(1-i*i)}function tv(t){return Math.abs(t)<AG?t:t-VW(t)*Math.PI}function nv(t,n,e,i,o){var l,s;l=t/n;for(var r=0;r<15;r++)if(l+=s=(t-(n*l-e*Math.sin(2*l)+i*Math.sin(4*l)-o*Math.sin(6*l)))/(n-2*e*Math.cos(2*l)+4*i*Math.cos(4*l)-6*o*Math.cos(6*l)),Math.abs(s)<=1e-10)return l;return NaN}var ev={init:function(){this.sphere||(this.e0=Og(this.es),this.e1=Ag(this.es),this.e2=Dg(this.es),this.e3=qg(this.es),this.ml0=this.a*Qg(this.e0,this.e1,this.e2,this.e3,this.lat0))},forward:function(t){var n,e,i=t.x,o=t.y;if(i=xW(i-this.long0),this.sphere)n=this.a*Math.asin(Math.cos(o)*Math.sin(i)),e=this.a*(Math.atan2(Math.tan(o),Math.cos(i))-this.lat0);else{var l=Math.sin(o),s=Math.cos(o),r=$g(this.a,this.e,l),a=Math.tan(o)*Math.tan(o),d=i*Math.cos(o),c=d*d,u=this.es*s*s/(1-this.es);n=r*d*(1-c*a*(1/6-(8-a+8*u)*c/120)),e=this.a*Qg(this.e0,this.e1,this.e2,this.e3,o)-this.ml0+r*l/s*c*(.5+(5-a+6*u)*c/24)}return t.x=n+this.x0,t.y=e+this.y0,t},inverse:function(t){t.x-=this.x0,t.y-=this.y0;var n,e,i=t.x/this.a,o=t.y/this.a;if(this.sphere){var l=o+this.lat0;n=Math.asin(Math.sin(l)*Math.cos(i)),e=Math.atan2(Math.tan(i),Math.cos(l))}else{var s=nv(this.ml0/this.a+o,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(s)-AG)<=DG)return t.x=this.long0,t.y=AG,o<0&&(t.y*=-1),t;var r=$g(this.a,this.e,Math.sin(s)),a=r*r*r/this.a/this.a*(1-this.es),d=Math.pow(Math.tan(s),2),c=i*this.a/r,u=c*c;n=s-r*Math.tan(s)/a*c*c*(.5-(1+3*d)*c*c/24),e=c*(1-u*(d/3+(1+3*d)*d*u/15))/Math.cos(s)}return t.x=xW(e+this.long0),t.y=tv(n),t},names:["Cassini","Cassini_Soldner","cass"]};function iv(t,n){var e;return t>1e-7?(1-t*t)*(n/(1-(e=t*n)*e)-.5/t*Math.log((1-e)/(1+e))):2*n}var ov=.3333333333333333,lv=.17222222222222222,sv=.10257936507936508,rv=.06388888888888888,av=.0664021164021164,dv=.016415012942191543;var cv={init:function(){var t,n=Math.abs(this.lat0);if(Math.abs(n-AG)<DG?this.mode=this.lat0<0?this.S_POLE:this.N_POLE:Math.abs(n)<DG?this.mode=this.EQUIT:this.mode=this.OBLIQ,this.es>0)switch(this.qp=iv(this.e,1),this.mmf=.5/(1-this.es),this.apa=function(t){var n,e=[];return e[0]=t*ov,n=t*t,e[0]+=n*lv,e[1]=n*rv,n*=t,e[0]+=n*sv,e[1]+=n*av,e[2]=n*dv,e}(this.es),this.mode){case this.N_POLE:case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp),t=Math.sin(this.lat0),this.sinb1=iv(this.e,t)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*t*t)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd}else this.mode===this.OBLIQ&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))},forward:function(t){var n,e,i,o,l,s,r,a,d,c,u=t.x,p=t.y;if(u=xW(u-this.long0),this.sphere){if(l=Math.sin(p),c=Math.cos(p),i=Math.cos(u),this.mode===this.OBLIQ||this.mode===this.EQUIT){if((e=this.mode===this.EQUIT?1+c*i:1+this.sinph0*l+this.cosph0*c*i)<=DG)return null;n=(e=Math.sqrt(2/e))*c*Math.sin(u),e*=this.mode===this.EQUIT?l:this.cosph0*l-this.sinph0*c*i}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(i=-i),Math.abs(p+this.lat0)<DG)return null;e=tW-.5*p,n=(e=2*(this.mode===this.S_POLE?Math.cos(e):Math.sin(e)))*Math.sin(u),e*=i}}else{switch(r=0,a=0,d=0,i=Math.cos(u),o=Math.sin(u),l=Math.sin(p),s=iv(this.e,l),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(r=s/this.qp,a=Math.sqrt(1-r*r)),this.mode){case this.OBLIQ:d=1+this.sinb1*r+this.cosb1*a*i;break;case this.EQUIT:d=1+a*i;break;case this.N_POLE:d=AG+p,s=this.qp-s;break;case this.S_POLE:d=p-AG,s=this.qp+s}if(Math.abs(d)<DG)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:d=Math.sqrt(2/d),e=this.mode===this.OBLIQ?this.ymf*d*(this.cosb1*r-this.sinb1*a*i):(d=Math.sqrt(2/(1+a*i)))*r*this.ymf,n=this.xmf*d*a*o;break;case this.N_POLE:case this.S_POLE:s>=0?(n=(d=Math.sqrt(s))*o,e=i*(this.mode===this.S_POLE?d:-d)):n=e=0}}return t.x=this.a*n+this.x0,t.y=this.a*e+this.y0,t},inverse:function(t){t.x-=this.x0,t.y-=this.y0;var n,e,i,o,l,s,r,a,d,c,u=t.x/this.a,p=t.y/this.a;if(this.sphere){var h,m=0,b=0;if((e=.5*(h=Math.sqrt(u*u+p*p)))>1)return null;switch(e=2*Math.asin(e),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(b=Math.sin(e),m=Math.cos(e)),this.mode){case this.EQUIT:e=Math.abs(h)<=DG?0:Math.asin(p*b/h),u*=b,p=m*h;break;case this.OBLIQ:e=Math.abs(h)<=DG?this.lat0:Math.asin(m*this.sinph0+p*b*this.cosph0/h),u*=b*this.cosph0,p=(m-Math.sin(e)*this.sinph0)*h;break;case this.N_POLE:p=-p,e=AG-e;break;case this.S_POLE:e-=AG}n=0!==p||this.mode!==this.EQUIT&&this.mode!==this.OBLIQ?Math.atan2(u,p):0}else{if(r=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(u/=this.dd,p*=this.dd,(s=Math.sqrt(u*u+p*p))<DG)return t.x=this.long0,t.y=this.lat0,t;o=2*Math.asin(.5*s/this.rq),i=Math.cos(o),u*=o=Math.sin(o),this.mode===this.OBLIQ?(r=i*this.sinb1+p*o*this.cosb1/s,l=this.qp*r,p=s*this.cosb1*i-p*this.sinb1*o):(r=p*o/s,l=this.qp*r,p=s*i)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(p=-p),!(l=u*u+p*p))return t.x=this.long0,t.y=this.lat0,t;r=1-l/this.qp,this.mode===this.S_POLE&&(r=-r)}n=Math.atan2(u,p),a=Math.asin(r),d=this.apa,c=a+a,e=a+d[0]*Math.sin(c)+d[1]*Math.sin(c+c)+d[2]*Math.sin(c+c+c)}return t.x=xW(this.long0+n),t.y=e,t},names:["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"],S_POLE:1,N_POLE:2,EQUIT:3,OBLIQ:4};function uv(t){return Math.abs(t)>1&&(t=t>1?1:-1),Math.asin(t)}var pv={init:function(){Math.abs(this.lat1+this.lat2)<DG||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=vW(this.e3,this.sin_po,this.cos_po),this.qs1=iv(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=vW(this.e3,this.sin_po,this.cos_po),this.qs2=iv(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=iv(this.e3,this.sin_po,this.cos_po),Math.abs(this.lat1-this.lat2)>DG?this.ns0=(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.ns0=this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)},forward:function(t){var n=t.x,e=t.y;this.sin_phi=Math.sin(e),this.cos_phi=Math.cos(e);var i=iv(this.e3,this.sin_phi,this.cos_phi),o=this.a*Math.sqrt(this.c-this.ns0*i)/this.ns0,l=this.ns0*xW(n-this.long0),s=o*Math.sin(l)+this.x0,r=this.rh-o*Math.cos(l)+this.y0;return t.x=s,t.y=r,t},inverse:function(t){var n,e,i,o,l,s;return t.x-=this.x0,t.y=this.rh-t.y+this.y0,this.ns0>=0?(n=Math.sqrt(t.x*t.x+t.y*t.y),i=1):(n=-Math.sqrt(t.x*t.x+t.y*t.y),i=-1),o=0,0!==n&&(o=Math.atan2(i*t.x,i*t.y)),i=n*this.ns0/this.a,this.sphere?s=Math.asin((this.c-i*i)/(2*this.ns0)):(e=(this.c-i*i)/this.ns0,s=this.phi1z(this.e3,e)),l=xW(o/this.ns0+this.long0),t.x=l,t.y=s,t},names:["Albers_Conic_Equal_Area","Albers","aea"],phi1z:function(t,n){var e,i,o,l,s=uv(.5*n);if(t<DG)return s;for(var r=t*t,a=1;a<=25;a++)if(s+=l=.5*(o=1-(i=t*(e=Math.sin(s)))*i)*o/Math.cos(s)*(n/(1-r)-e/o+.5/t*Math.log((1-i)/(1+i))),Math.abs(l)<=1e-7)return s;return null}};var hv={init:function(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1},forward:function(t){var n,e,i,o,l,s,r,a=t.x,d=t.y;return i=xW(a-this.long0),n=Math.sin(d),e=Math.cos(d),o=Math.cos(i),1,(l=this.sin_p14*n+this.cos_p14*e*o)>0||Math.abs(l)<=DG?(s=this.x0+1*this.a*e*Math.sin(i)/l,r=this.y0+1*this.a*(this.cos_p14*n-this.sin_p14*e*o)/l):(s=this.x0+this.infinity_dist*e*Math.sin(i),r=this.y0+this.infinity_dist*(this.cos_p14*n-this.sin_p14*e*o)),t.x=s,t.y=r,t},inverse:function(t){var n,e,i,o,l,s;return t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,(n=Math.sqrt(t.x*t.x+t.y*t.y))?(o=Math.atan2(n,this.rc),e=Math.sin(o),s=uv((i=Math.cos(o))*this.sin_p14+t.y*e*this.cos_p14/n),l=Math.atan2(t.x*e,n*this.cos_p14*i-t.y*this.sin_p14*e),l=xW(this.long0+l)):(s=this.phic0,l=0),t.x=l,t.y=s,t},names:["gnom"]};var mv={init:function(){this.sphere||(this.k0=vW(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))},forward:function(t){var n,e,i=t.x,o=t.y,l=xW(i-this.long0);if(this.sphere)n=this.x0+this.a*l*Math.cos(this.lat_ts),e=this.y0+this.a*Math.sin(o)/Math.cos(this.lat_ts);else{var s=iv(this.e,Math.sin(o));n=this.x0+this.a*this.k0*l,e=this.y0+this.a*s*.5/this.k0}return t.x=n,t.y=e,t},inverse:function(t){var n,e;return t.x-=this.x0,t.y-=this.y0,this.sphere?(n=xW(this.long0+t.x/this.a/Math.cos(this.lat_ts)),e=Math.asin(t.y/this.a*Math.cos(this.lat_ts))):(e=function(t,n){var e=1-(1-t*t)/(2*t)*Math.log((1-t)/(1+t));if(Math.abs(Math.abs(n)-e)<1e-6)return n<0?-1*AG:AG;for(var i,o,l,s,r=Math.asin(.5*n),a=0;a<30;a++)if(o=Math.sin(r),l=Math.cos(r),s=t*o,r+=i=Math.pow(1-s*s,2)/(2*l)*(n/(1-t*t)-o/(1-s*s)+.5/t*Math.log((1-s)/(1+s))),Math.abs(i)<=1e-10)return r;return NaN}(this.e,2*t.y*this.k0/this.a),n=xW(this.long0+t.x/(this.a*this.k0))),t.x=n,t.y=e,t},names:["cea"]};var bv={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)},forward:function(t){var n=t.x,e=t.y,i=xW(n-this.long0),o=tv(e-this.lat0);return t.x=this.x0+this.a*i*this.rc,t.y=this.y0+this.a*o,t},inverse:function(t){var n=t.x,e=t.y;return t.x=xW(this.long0+(n-this.x0)/(this.a*this.rc)),t.y=tv(this.lat0+(e-this.y0)/this.a),t},names:["Equirectangular","Equidistant_Cylindrical","eqc"]};var yv={init:function(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=Og(this.es),this.e1=Ag(this.es),this.e2=Dg(this.es),this.e3=qg(this.es),this.ml0=this.a*Qg(this.e0,this.e1,this.e2,this.e3,this.lat0)},forward:function(t){var n,e,i,o=t.x,l=t.y,s=xW(o-this.long0);if(i=s*Math.sin(l),this.sphere)Math.abs(l)<=DG?(n=this.a*s,e=-1*this.a*this.lat0):(n=this.a*Math.sin(i)/Math.tan(l),e=this.a*(tv(l-this.lat0)+(1-Math.cos(i))/Math.tan(l)));else if(Math.abs(l)<=DG)n=this.a*s,e=-1*this.ml0;else{var r=$g(this.a,this.e,Math.sin(l))/Math.tan(l);n=r*Math.sin(i),e=this.a*Qg(this.e0,this.e1,this.e2,this.e3,l)-this.ml0+r*(1-Math.cos(i))}return t.x=n+this.x0,t.y=e+this.y0,t},inverse:function(t){var n,e,i,o,l,s,r,a,d;if(i=t.x-this.x0,o=t.y-this.y0,this.sphere)if(Math.abs(o+this.a*this.lat0)<=DG)n=xW(i/this.a+this.long0),e=0;else{var c;for(s=this.lat0+o/this.a,r=i*i/this.a/this.a+s*s,a=s,l=20;l;--l)if(a+=d=-1*(s*(a*(c=Math.tan(a))+1)-a-.5*(a*a+r)*c)/((a-s)/c-1),Math.abs(d)<=DG){e=a;break}n=xW(this.long0+Math.asin(i*Math.tan(a)/this.a)/Math.sin(e))}else if(Math.abs(o+this.ml0)<=DG)e=0,n=xW(this.long0+i/this.a);else{var u,p,h,m,b;for(s=(this.ml0+o)/this.a,r=i*i/this.a/this.a+s*s,a=s,l=20;l;--l)if(b=this.e*Math.sin(a),u=Math.sqrt(1-b*b)*Math.tan(a),p=this.a*Qg(this.e0,this.e1,this.e2,this.e3,a),h=this.e0-2*this.e1*Math.cos(2*a)+4*this.e2*Math.cos(4*a)-6*this.e3*Math.cos(6*a),a-=d=(s*(u*(m=p/this.a)+1)-m-.5*u*(m*m+r))/(this.es*Math.sin(2*a)*(m*m+r-2*s*m)/(4*u)+(s-m)*(u*h-2/Math.sin(2*a))-h),Math.abs(d)<=DG){e=a;break}u=Math.sqrt(1-this.es*Math.pow(Math.sin(e),2))*Math.tan(e),n=xW(this.long0+Math.asin(i*u/this.a)/Math.sin(e))}return t.x=n,t.y=e,t},names:["Polyconic","poly"]};var Zv={init:function(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013},forward:function(t){var n,e=t.x,i=t.y-this.lat0,o=e-this.long0,l=i/OG*1e-5,s=o,r=1,a=0;for(n=1;n<=10;n++)r*=l,a+=this.A[n]*r;var d,c=a,u=s,p=1,h=0,m=0,b=0;for(n=1;n<=6;n++)d=h*c+p*u,p=p*c-h*u,h=d,m=m+this.B_re[n]*p-this.B_im[n]*h,b=b+this.B_im[n]*p+this.B_re[n]*h;return t.x=b*this.a+this.x0,t.y=m*this.a+this.y0,t},inverse:function(t){var n,e,i=t.x,o=t.y,l=i-this.x0,s=(o-this.y0)/this.a,r=l/this.a,a=1,d=0,c=0,u=0;for(n=1;n<=6;n++)e=d*s+a*r,a=a*s-d*r,d=e,c=c+this.C_re[n]*a-this.C_im[n]*d,u=u+this.C_im[n]*a+this.C_re[n]*d;for(var p=0;p<this.iterations;p++){var h,m=c,b=u,y=s,Z=r;for(n=2;n<=6;n++)h=b*c+m*u,m=m*c-b*u,b=h,y+=(n-1)*(this.B_re[n]*m-this.B_im[n]*b),Z+=(n-1)*(this.B_im[n]*m+this.B_re[n]*b);m=1,b=0;var X=this.B_re[1],f=this.B_im[1];for(n=2;n<=6;n++)h=b*c+m*u,m=m*c-b*u,b=h,X+=n*(this.B_re[n]*m-this.B_im[n]*b),f+=n*(this.B_im[n]*m+this.B_re[n]*b);var G=X*X+f*f;c=(y*X+Z*f)/G,u=(Z*X-y*f)/G}var W=c,g=u,v=1,V=0;for(n=1;n<=9;n++)v*=W,V+=this.D[n]*v;var x=this.lat0+V*OG*1e5,S=this.long0+g;return t.x=S,t.y=x,t},names:["New_Zealand_Map_Grid","nzmg"]};var Xv={init:function(){},forward:function(t){var n=t.x,e=t.y,i=xW(n-this.long0),o=this.x0+this.a*i,l=this.y0+this.a*Math.log(Math.tan(Math.PI/4+e/2.5))*1.25;return t.x=o,t.y=l,t},inverse:function(t){t.x-=this.x0,t.y-=this.y0;var n=xW(this.long0+t.x/this.a),e=2.5*(Math.atan(Math.exp(.8*t.y/this.a))-Math.PI/4);return t.x=n,t.y=e,t},names:["Miller_Cylindrical","mill"]};var fv={init:function(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=Rg(this.es)},forward:function(t){var n,e,i=t.x,o=t.y;if(i=xW(i-this.long0),this.sphere){if(this.m)for(var l=this.n*Math.sin(o),s=20;s;--s){var r=(this.m*o+Math.sin(o)-l)/(this.m+Math.cos(o));if(o-=r,Math.abs(r)<DG)break}else o=1!==this.n?Math.asin(this.n*Math.sin(o)):o;n=this.a*this.C_x*i*(this.m+Math.cos(o)),e=this.a*this.C_y*o}else{var a=Math.sin(o),d=Math.cos(o);e=this.a*Kg(o,a,d,this.en),n=this.a*i*d/Math.sqrt(1-this.es*a*a)}return t.x=n,t.y=e,t},inverse:function(t){var n,e,i;return t.x-=this.x0,e=t.x/this.a,t.y-=this.y0,n=t.y/this.a,this.sphere?(n/=this.C_y,e/=this.C_x*(this.m+Math.cos(n)),this.m?n=uv((this.m*n+Math.sin(n))/this.n):1!==this.n&&(n=uv(Math.sin(n)/this.n)),e=xW(e+this.long0),n=tv(n)):(n=Hg(t.y/this.a,this.es,this.en),(i=Math.abs(n))<AG?(i=Math.sin(n),e=xW(this.long0+t.x*Math.sqrt(1-this.es*i*i)/(this.a*Math.cos(n)))):i-DG<AG&&(e=this.long0)),t.x=e,t.y=n,t},names:["Sinusoidal","sinu"]};var Gv={init:function(){},forward:function(t){for(var n=t.x,e=t.y,i=xW(n-this.long0),o=e,l=Math.PI*Math.sin(e);;){var s=-(o+Math.sin(o)-l)/(1+Math.cos(o));if(o+=s,Math.abs(s)<DG)break}o/=2,Math.PI/2-Math.abs(e)<DG&&(i=0);var r=.900316316158*this.a*i*Math.cos(o)+this.x0,a=1.4142135623731*this.a*Math.sin(o)+this.y0;return t.x=r,t.y=a,t},inverse:function(t){var n,e;t.x-=this.x0,t.y-=this.y0,e=t.y/(1.4142135623731*this.a),Math.abs(e)>.999999999999&&(e=.999999999999),n=Math.asin(e);var i=xW(this.long0+t.x/(.900316316158*this.a*Math.cos(n)));i<-Math.PI&&(i=-Math.PI),i>Math.PI&&(i=Math.PI),e=(2*n+Math.sin(2*n))/Math.PI,Math.abs(e)>1&&(e=1);var o=Math.asin(e);return t.x=i,t.y=o,t},names:["Mollweide","moll"]};var Wv={init:function(){Math.abs(this.lat1+this.lat2)<DG||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=Og(this.es),this.e1=Ag(this.es),this.e2=Dg(this.es),this.e3=qg(this.es),this.sinphi=Math.sin(this.lat1),this.cosphi=Math.cos(this.lat1),this.ms1=vW(this.e,this.sinphi,this.cosphi),this.ml1=Qg(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<DG?this.ns=this.sinphi:(this.sinphi=Math.sin(this.lat2),this.cosphi=Math.cos(this.lat2),this.ms2=vW(this.e,this.sinphi,this.cosphi),this.ml2=Qg(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=Qg(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))},forward:function(t){var n,e=t.x,i=t.y;if(this.sphere)n=this.a*(this.g-i);else{var o=Qg(this.e0,this.e1,this.e2,this.e3,i);n=this.a*(this.g-o)}var l=this.ns*xW(e-this.long0),s=this.x0+n*Math.sin(l),r=this.y0+this.rh-n*Math.cos(l);return t.x=s,t.y=r,t},inverse:function(t){var n,e,i,o;t.x-=this.x0,t.y=this.rh-t.y+this.y0,this.ns>=0?(e=Math.sqrt(t.x*t.x+t.y*t.y),n=1):(e=-Math.sqrt(t.x*t.x+t.y*t.y),n=-1);var l=0;return 0!==e&&(l=Math.atan2(n*t.x,n*t.y)),this.sphere?(o=xW(this.long0+l/this.ns),i=tv(this.g-e/this.a),t.x=o,t.y=i,t):(i=nv(this.g-e/this.a,this.e0,this.e1,this.e2,this.e3),o=xW(this.long0+l/this.ns),t.x=o,t.y=i,t)},names:["Equidistant_Conic","eqdc"]};var gv={init:function(){this.R=this.a},forward:function(t){var n,e,i=t.x,o=t.y,l=xW(i-this.long0);Math.abs(o)<=DG&&(n=this.x0+this.R*l,e=this.y0);var s=uv(2*Math.abs(o/Math.PI));(Math.abs(l)<=DG||Math.abs(Math.abs(o)-AG)<=DG)&&(n=this.x0,e=o>=0?this.y0+Math.PI*this.R*Math.tan(.5*s):this.y0+Math.PI*this.R*-Math.tan(.5*s));var r=.5*Math.abs(Math.PI/l-l/Math.PI),a=r*r,d=Math.sin(s),c=Math.cos(s),u=c/(d+c-1),p=u*u,h=u*(2/d-1),m=h*h,b=Math.PI*this.R*(r*(u-m)+Math.sqrt(a*(u-m)*(u-m)-(m+a)*(p-m)))/(m+a);l<0&&(b=-b),n=this.x0+b;var y=a+u;return b=Math.PI*this.R*(h*y-r*Math.sqrt((m+a)*(a+1)-y*y))/(m+a),e=o>=0?this.y0+b:this.y0-b,t.x=n,t.y=e,t},inverse:function(t){var n,e,i,o,l,s,r,a,d,c,u,p;return t.x-=this.x0,t.y-=this.y0,u=Math.PI*this.R,l=(i=t.x/u)*i+(o=t.y/u)*o,u=3*(o*o/(a=-2*(s=-Math.abs(o)*(1+l))+1+2*o*o+l*l)+(2*(r=s-2*o*o+i*i)*r*r/a/a/a-9*s*r/a/a)/27)/(d=(s-r*r/3/a)/a)/(c=2*Math.sqrt(-d/3)),Math.abs(u)>1&&(u=u>=0?1:-1),p=Math.acos(u)/3,e=t.y>=0?(-c*Math.cos(p+Math.PI/3)-r/3/a)*Math.PI:-(-c*Math.cos(p+Math.PI/3)-r/3/a)*Math.PI,n=Math.abs(i)<DG?this.long0:xW(this.long0+Math.PI*(l-1+Math.sqrt(1+2*(i*i-o*o)+l*l))/2/i),t.x=n,t.y=e,t},names:["Van_der_Grinten_I","VanDerGrinten","vandg"]};var vv={init:function(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0)},forward:function(t){var n,e,i,o,l,s,r,a,d,c,u,p,h,m,b,y,Z,X,f,G,W,g,v=t.x,V=t.y,x=Math.sin(t.y),S=Math.cos(t.y),L=xW(v-this.long0);return this.sphere?Math.abs(this.sin_p12-1)<=DG?(t.x=this.x0+this.a*(AG-V)*Math.sin(L),t.y=this.y0-this.a*(AG-V)*Math.cos(L),t):Math.abs(this.sin_p12+1)<=DG?(t.x=this.x0+this.a*(AG+V)*Math.sin(L),t.y=this.y0+this.a*(AG+V)*Math.cos(L),t):(X=this.sin_p12*x+this.cos_p12*S*Math.cos(L),Z=(y=Math.acos(X))?y/Math.sin(y):1,t.x=this.x0+this.a*Z*S*Math.sin(L),t.y=this.y0+this.a*Z*(this.cos_p12*x-this.sin_p12*S*Math.cos(L)),t):(n=Og(this.es),e=Ag(this.es),i=Dg(this.es),o=qg(this.es),Math.abs(this.sin_p12-1)<=DG?(l=this.a*Qg(n,e,i,o,AG),s=this.a*Qg(n,e,i,o,V),t.x=this.x0+(l-s)*Math.sin(L),t.y=this.y0-(l-s)*Math.cos(L),t):Math.abs(this.sin_p12+1)<=DG?(l=this.a*Qg(n,e,i,o,AG),s=this.a*Qg(n,e,i,o,V),t.x=this.x0+(l+s)*Math.sin(L),t.y=this.y0+(l+s)*Math.cos(L),t):(r=x/S,a=$g(this.a,this.e,this.sin_p12),d=$g(this.a,this.e,x),c=Math.atan((1-this.es)*r+this.es*a*this.sin_p12/(d*S)),f=0===(u=Math.atan2(Math.sin(L),this.cos_p12*Math.tan(c)-this.sin_p12*Math.cos(L)))?Math.asin(this.cos_p12*Math.sin(c)-this.sin_p12*Math.cos(c)):Math.abs(Math.abs(u)-Math.PI)<=DG?-Math.asin(this.cos_p12*Math.sin(c)-this.sin_p12*Math.cos(c)):Math.asin(Math.sin(L)*Math.cos(c)/Math.sin(u)),p=this.e*this.sin_p12/Math.sqrt(1-this.es),y=a*f*(1-(G=f*f)*(b=(h=this.e*this.cos_p12*Math.cos(u)/Math.sqrt(1-this.es))*h)*(1-b)/6+(W=G*f)/8*(m=p*h)*(1-2*b)+(g=W*f)/120*(b*(4-7*b)-3*p*p*(1-7*b))-g*f/48*m),t.x=this.x0+y*Math.sin(u),t.y=this.y0+y*Math.cos(u),t))},inverse:function(t){var n,e,i,o,l,s,r,a,d,c,u,p,h,m,b,y,Z,X,f,G,W,g,v;if(t.x-=this.x0,t.y-=this.y0,this.sphere){if((n=Math.sqrt(t.x*t.x+t.y*t.y))>2*AG*this.a)return;return e=n/this.a,i=Math.sin(e),o=Math.cos(e),l=this.long0,Math.abs(n)<=DG?s=this.lat0:(s=uv(o*this.sin_p12+t.y*i*this.cos_p12/n),r=Math.abs(this.lat0)-AG,l=Math.abs(r)<=DG?this.lat0>=0?xW(this.long0+Math.atan2(t.x,-t.y)):xW(this.long0-Math.atan2(-t.x,t.y)):xW(this.long0+Math.atan2(t.x*i,n*this.cos_p12*o-t.y*this.sin_p12*i))),t.x=l,t.y=s,t}return a=Og(this.es),d=Ag(this.es),c=Dg(this.es),u=qg(this.es),Math.abs(this.sin_p12-1)<=DG?(s=nv(((p=this.a*Qg(a,d,c,u,AG))-(n=Math.sqrt(t.x*t.x+t.y*t.y)))/this.a,a,d,c,u),l=xW(this.long0+Math.atan2(t.x,-1*t.y)),t.x=l,t.y=s,t):Math.abs(this.sin_p12+1)<=DG?(p=this.a*Qg(a,d,c,u,AG),s=nv(((n=Math.sqrt(t.x*t.x+t.y*t.y))-p)/this.a,a,d,c,u),l=xW(this.long0+Math.atan2(t.x,t.y)),t.x=l,t.y=s,t):(n=Math.sqrt(t.x*t.x+t.y*t.y),b=Math.atan2(t.x,t.y),h=$g(this.a,this.e,this.sin_p12),y=Math.cos(b),X=-(Z=this.e*this.cos_p12*y)*Z/(1-this.es),f=3*this.es*(1-X)*this.sin_p12*this.cos_p12*y/(1-this.es),g=1-X*(W=(G=n/h)-X*(1+X)*Math.pow(G,3)/6-f*(1+3*X)*Math.pow(G,4)/24)*W/2-G*W*W*W/6,m=Math.asin(this.sin_p12*Math.cos(W)+this.cos_p12*Math.sin(W)*y),l=xW(this.long0+Math.asin(Math.sin(b)*Math.sin(W)/Math.cos(m))),v=Math.sin(m),s=Math.atan2((v-this.es*g*this.sin_p12)*Math.tan(m),v*(1-this.es)),t.x=l,t.y=s,t)},names:["Azimuthal_Equidistant","aeqd"]};var Vv={init:function(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0)},forward:function(t){var n,e,i,o,l,s,r,a=t.x,d=t.y;return i=xW(a-this.long0),n=Math.sin(d),e=Math.cos(d),o=Math.cos(i),1,((l=this.sin_p14*n+this.cos_p14*e*o)>0||Math.abs(l)<=DG)&&(s=1*this.a*e*Math.sin(i),r=this.y0+1*this.a*(this.cos_p14*n-this.sin_p14*e*o)),t.x=s,t.y=r,t},inverse:function(t){var n,e,i,o,l,s,r;return t.x-=this.x0,t.y-=this.y0,e=uv((n=Math.sqrt(t.x*t.x+t.y*t.y))/this.a),i=Math.sin(e),o=Math.cos(e),s=this.long0,Math.abs(n)<=DG?(r=this.lat0,t.x=s,t.y=r,t):(r=uv(o*this.sin_p14+t.y*i*this.cos_p14/n),l=Math.abs(this.lat0)-AG,Math.abs(l)<=DG?(s=this.lat0>=0?xW(this.long0+Math.atan2(t.x,-t.y)):xW(this.long0-Math.atan2(-t.x,t.y)),t.x=s,t.y=r,t):(s=xW(this.long0+Math.atan2(t.x*i,n*this.cos_p14*o-t.y*this.sin_p14*i)),t.x=s,t.y=r,t))},names:["ortho"]},xv=1,Sv=2,Lv=3,Rv=4,Kv=5,Hv=6,Cv=1,Yv=2,Tv=3,Mv=4;function wv(t,n,e,i){var o;return t<DG?(i.value=Cv,o=0):(o=Math.atan2(n,e),Math.abs(o)<=tW?i.value=Cv:o>tW&&o<=AG+tW?(i.value=Yv,o-=AG):o>AG+tW||o<=-(AG+tW)?(i.value=Tv,o=o>=0?o-eW:o+eW):(i.value=Mv,o+=AG)),o}function Pv(t,n){var e=t+n;return e<-eW?e+=nW:e>+eW&&(e-=nW),e}var Iv={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Quadrilateralized Spherical Cube",this.lat0>=AG-tW/2?this.face=Kv:this.lat0<=-(AG-tW/2)?this.face=Hv:Math.abs(this.long0)<=tW?this.face=xv:Math.abs(this.long0)<=AG+tW?this.face=this.long0>0?Sv:Rv:this.face=Lv,0!==this.es&&(this.one_minus_f=1-(this.a-this.b)/this.a,this.one_minus_f_squared=this.one_minus_f*this.one_minus_f)},forward:function(t){var n,e,i,o,l,s,r={x:0,y:0},a={value:0};if(t.x-=this.long0,n=0!==this.es?Math.atan(this.one_minus_f_squared*Math.tan(t.y)):t.y,e=t.x,this.face===Kv)o=AG-n,e>=tW&&e<=AG+tW?(a.value=Cv,i=e-AG):e>AG+tW||e<=-(AG+tW)?(a.value=Yv,i=e>0?e-eW:e+eW):e>-(AG+tW)&&e<=-tW?(a.value=Tv,i=e+AG):(a.value=Mv,i=e);else if(this.face===Hv)o=AG+n,e>=tW&&e<=AG+tW?(a.value=Cv,i=-e+AG):e<tW&&e>=-tW?(a.value=Yv,i=-e):e<-tW&&e>=-(AG+tW)?(a.value=Tv,i=-e-AG):(a.value=Mv,i=e>0?-e+eW:-e-eW);else{var d,c,u,p,h,m;this.face===Sv?e=Pv(e,+AG):this.face===Lv?e=Pv(e,+eW):this.face===Rv&&(e=Pv(e,-AG)),p=Math.sin(n),h=Math.cos(n),m=Math.sin(e),d=h*Math.cos(e),c=h*m,u=p,this.face===xv?i=wv(o=Math.acos(d),u,c,a):this.face===Sv?i=wv(o=Math.acos(c),u,-d,a):this.face===Lv?i=wv(o=Math.acos(-d),u,-c,a):this.face===Rv?i=wv(o=Math.acos(-c),u,d,a):(o=i=0,a.value=Cv)}return s=Math.atan(12/eW*(i+Math.acos(Math.sin(i)*Math.cos(tW))-AG)),l=Math.sqrt((1-Math.cos(o))/(Math.cos(s)*Math.cos(s))/(1-Math.cos(Math.atan(1/Math.cos(i))))),a.value===Yv?s+=AG:a.value===Tv?s+=eW:a.value===Mv&&(s+=1.5*eW),r.x=l*Math.cos(s),r.y=l*Math.sin(s),r.x=r.x*this.a+this.x0,r.y=r.y*this.a+this.y0,t.x=r.x,t.y=r.y,t},inverse:function(t){var n,e,i,o,l,s,r,a,d,c,u,p,h={lam:0,phi:0},m={value:0};if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,e=Math.atan(Math.sqrt(t.x*t.x+t.y*t.y)),n=Math.atan2(t.y,t.x),t.x>=0&&t.x>=Math.abs(t.y)?m.value=Cv:t.y>=0&&t.y>=Math.abs(t.x)?(m.value=Yv,n-=AG):t.x<0&&-t.x>=Math.abs(t.y)?(m.value=Tv,n=n<0?n+eW:n-eW):(m.value=Mv,n+=AG),d=eW/12*Math.tan(n),l=Math.sin(d)/(Math.cos(d)-1/Math.sqrt(2)),s=Math.atan(l),(r=1-(i=Math.cos(n))*i*(o=Math.tan(e))*o*(1-Math.cos(Math.atan(1/Math.cos(s)))))<-1?r=-1:r>1&&(r=1),this.face===Kv)a=Math.acos(r),h.phi=AG-a,m.value===Cv?h.lam=s+AG:m.value===Yv?h.lam=s<0?s+eW:s-eW:m.value===Tv?h.lam=s-AG:h.lam=s;else if(this.face===Hv)a=Math.acos(r),h.phi=a-AG,m.value===Cv?h.lam=-s+AG:m.value===Yv?h.lam=-s:m.value===Tv?h.lam=-s-AG:h.lam=s<0?-s-eW:-s+eW;else{var b,y,Z;d=(b=r)*b,y=(d+=(Z=d>=1?0:Math.sqrt(1-d)*Math.sin(s))*Z)>=1?0:Math.sqrt(1-d),m.value===Yv?(d=y,y=-Z,Z=d):m.value===Tv?(y=-y,Z=-Z):m.value===Mv&&(d=y,y=Z,Z=-d),this.face===Sv?(d=b,b=-y,y=d):this.face===Lv?(b=-b,y=-y):this.face===Rv&&(d=b,b=y,y=-d),h.phi=Math.acos(-Z)-AG,h.lam=Math.atan2(y,b),this.face===Sv?h.lam=Pv(h.lam,-AG):this.face===Lv?h.lam=Pv(h.lam,-eW):this.face===Rv&&(h.lam=Pv(h.lam,+AG))}return 0!==this.es&&(c=h.phi<0?1:0,u=Math.tan(h.phi),p=this.b/Math.sqrt(u*u+this.one_minus_f_squared),h.phi=Math.atan(Math.sqrt(this.a*this.a-p*p)/(this.one_minus_f*p)),c&&(h.phi=-h.phi)),h.lam+=this.long0,t.x=h.lam,t.y=h.phi,t},names:["Quadrilateralized Spherical Cube","Quadrilateralized_Spherical_Cube","qsc"]},zv=[[1,22199e-21,-715515e-10,31103e-10],[.9986,-482243e-9,-24897e-9,-13309e-10],[.9954,-83103e-8,-448605e-10,-9.86701e-7],[.99,-.00135364,-59661e-9,36777e-10],[.9822,-.00167442,-449547e-11,-572411e-11],[.973,-.00214868,-903571e-10,1.8736e-8],[.96,-.00305085,-900761e-10,164917e-11],[.9427,-.00382792,-653386e-10,-26154e-10],[.9216,-.00467746,-10457e-8,481243e-11],[.8962,-.00536223,-323831e-10,-543432e-11],[.8679,-.00609363,-113898e-9,332484e-11],[.835,-.00698325,-640253e-10,9.34959e-7],[.7986,-.00755338,-500009e-10,9.35324e-7],[.7597,-.00798324,-35971e-9,-227626e-11],[.7186,-.00851367,-701149e-10,-86303e-10],[.6732,-.00986209,-199569e-9,191974e-10],[.6213,-.010418,883923e-10,624051e-11],[.5722,-.00906601,182e-6,624051e-11],[.5322,-.00677797,275608e-9,624051e-11]],Jv=[[-520417e-23,.0124,121431e-23,-845284e-16],[.062,.0124,-1.26793e-9,4.22642e-10],[.124,.0124,5.07171e-9,-1.60604e-9],[.186,.0123999,-1.90189e-8,6.00152e-9],[.248,.0124002,7.10039e-8,-2.24e-8],[.31,.0123992,-2.64997e-7,8.35986e-8],[.372,.0124029,9.88983e-7,-3.11994e-7],[.434,.0123893,-369093e-11,-4.35621e-7],[.4958,.0123198,-102252e-10,-3.45523e-7],[.5571,.0121916,-154081e-10,-5.82288e-7],[.6176,.0119938,-241424e-10,-5.25327e-7],[.6769,.011713,-320223e-10,-5.16405e-7],[.7346,.0113541,-397684e-10,-6.09052e-7],[.7903,.0109107,-489042e-10,-104739e-11],[.8435,.0103431,-64615e-9,-1.40374e-9],[.8936,.00969686,-64636e-9,-8547e-9],[.9394,.00840947,-192841e-9,-42106e-10],[.9761,.00616527,-256e-6,-42106e-10],[1,.00328947,-319159e-9,-42106e-10]],Nv=.8487,Fv=1.3523,kv=$G/5,Bv=18,_v=function(t,n){return t[0]+n*(t[1]+n*(t[2]+n*t[3]))};var Uv={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.long0=this.long0||0,this.es=0,this.title=this.title||"Robinson"},forward:function(t){var n=xW(t.x-this.long0),e=Math.abs(t.y),i=Math.floor(e*kv);i<0?i=0:i>=Bv&&(i=17);var o={x:_v(zv[i],e=$G*(e-.08726646259971647*i))*n,y:_v(Jv[i],e)};return t.y<0&&(o.y=-o.y),o.x=o.x*this.a*Nv+this.x0,o.y=o.y*this.a*Fv+this.y0,o},inverse:function(t){var n={x:(t.x-this.x0)/(this.a*Nv),y:Math.abs(t.y-this.y0)/(this.a*Fv)};if(n.y>=1)n.x/=zv[18][0],n.y=t.y<0?-AG:AG;else{var e=Math.floor(n.y*Bv);for(e<0?e=0:e>=Bv&&(e=17);;)if(Jv[e][0]>n.y)--e;else{if(!(Jv[e+1][0]<=n.y))break;++e}var i=Jv[e],o=5*(n.y-i[0])/(Jv[e+1][0]-i[0]);o=function(t,n,e,i){for(var o=n;i;--i){var l=t(o);if(o-=l,Math.abs(l)<e)break}return o}((function(t){return(_v(i,t)-n.y)/function(t,n){return t[1]+n*(2*t[2]+3*n*t[3])}(i,t)}),o,DG,100),n.x/=_v(zv[e],o),n.y=(5*e+o)*qG,t.y<0&&(n.y=-n.y)}return n.x=xW(n.x+this.long0),n},names:["Robinson","robin"]};var Ev={init:function(){this.name="geocent"},forward:function(t){return EW(t,this.es,this.a)},inverse:function(t){return jW(t,this.es,this.a,this.b)},names:["Geocentric","geocentric","geocent","Geocent"]},jv=0,Qv=1,Ov=2,Av=3,Dv={h:{def:1e5,num:!0},azi:{def:0,num:!0,degrees:!0},tilt:{def:0,num:!0,degrees:!0},long0:{def:0,num:!0},lat0:{def:0,num:!0}};var qv={init:function(){if(Object.keys(Dv).forEach(function(t){if(void 0===this[t])this[t]=Dv[t].def;else{if(Dv[t].num&&isNaN(this[t]))throw new Error("Invalid parameter value, must be numeric "+t+" = "+this[t]);Dv[t].num&&(this[t]=parseFloat(this[t]))}Dv[t].degrees&&(this[t]=this[t]*qG)}.bind(this)),Math.abs(Math.abs(this.lat0)-AG)<DG?this.mode=this.lat0<0?Qv:jv:Math.abs(this.lat0)<DG?this.mode=Ov:(this.mode=Av,this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0)),this.pn1=this.h/this.a,this.pn1<=0||this.pn1>1e10)throw new Error("Invalid height");this.p=1+this.pn1,this.rp=1/this.p,this.h1=1/this.pn1,this.pfact=(this.p+1)*this.h1,this.es=0;var t=this.tilt,n=this.azi;this.cg=Math.cos(n),this.sg=Math.sin(n),this.cw=Math.cos(t),this.sw=Math.sin(t)},forward:function(t){t.x-=this.long0;var n,e,i,o,l=Math.sin(t.y),s=Math.cos(t.y),r=Math.cos(t.x);switch(this.mode){case Av:e=this.sinph0*l+this.cosph0*s*r;break;case Ov:e=s*r;break;case Qv:e=-l;break;case jv:e=l}switch(n=(e=this.pn1/(this.p-e))*s*Math.sin(t.x),this.mode){case Av:e*=this.cosph0*l-this.sinph0*s*r;break;case Ov:e*=l;break;case jv:e*=-s*r;break;case Qv:e*=s*r}return o=1/((i=e*this.cg+n*this.sg)*this.sw*this.h1+this.cw),n=(n*this.cg-e*this.sg)*this.cw*o,e=i*o,t.x=n*this.a,t.y=e*this.a,t},inverse:function(t){t.x/=this.a,t.y/=this.a;var n,e,i,o={x:t.x,y:t.y};i=1/(this.pn1-t.y*this.sw),n=this.pn1*t.x*i,e=this.pn1*t.y*this.cw*i,t.x=n*this.cg+e*this.sg,t.y=e*this.cg-n*this.sg;var l=Tg(t.x,t.y);if(Math.abs(l)<DG)o.x=0,o.y=t.y;else{var s,r;switch(r=1-l*l*this.pfact,r=(this.p-Math.sqrt(r))/(this.pn1/l+l/this.pn1),s=Math.sqrt(1-r*r),this.mode){case Av:o.y=Math.asin(s*this.sinph0+t.y*r*this.cosph0/l),t.y=(s-this.sinph0*Math.sin(o.y))*l,t.x*=r*this.cosph0;break;case Ov:o.y=Math.asin(t.y*r/l),t.y=s*l,t.x*=r;break;case jv:o.y=Math.asin(s),t.y=-t.y;break;case Qv:o.y=-Math.asin(s)}o.x=Math.atan2(t.x,t.y)}return t.x=o.x+this.long0,t.y=o.y,t},names:["Tilted_Perspective","tpers"]};var $v={init:function(){if(this.flip_axis="x"===this.sweep?1:0,this.h=Number(this.h),this.radius_g_1=this.h/this.a,this.radius_g_1<=0||this.radius_g_1>1e10)throw new Error;if(this.radius_g=1+this.radius_g_1,this.C=this.radius_g*this.radius_g-1,0!==this.es){var t=1-this.es,n=1/t;this.radius_p=Math.sqrt(t),this.radius_p2=t,this.radius_p_inv2=n,this.shape="ellipse"}else this.radius_p=1,this.radius_p2=1,this.radius_p_inv2=1,this.shape="sphere";this.title||(this.title="Geostationary Satellite View")},forward:function(t){var n,e,i,o,l=t.x,s=t.y;if(l-=this.long0,"ellipse"===this.shape){s=Math.atan(this.radius_p2*Math.tan(s));var r=this.radius_p/Tg(this.radius_p*Math.cos(s),Math.sin(s));if(e=r*Math.cos(l)*Math.cos(s),i=r*Math.sin(l)*Math.cos(s),o=r*Math.sin(s),(this.radius_g-e)*e-i*i-o*o*this.radius_p_inv2<0)return t.x=Number.NaN,t.y=Number.NaN,t;n=this.radius_g-e,this.flip_axis?(t.x=this.radius_g_1*Math.atan(i/Tg(o,n)),t.y=this.radius_g_1*Math.atan(o/n)):(t.x=this.radius_g_1*Math.atan(i/n),t.y=this.radius_g_1*Math.atan(o/Tg(i,n)))}else"sphere"===this.shape&&(n=Math.cos(s),e=Math.cos(l)*n,i=Math.sin(l)*n,o=Math.sin(s),n=this.radius_g-e,this.flip_axis?(t.x=this.radius_g_1*Math.atan(i/Tg(o,n)),t.y=this.radius_g_1*Math.atan(o/n)):(t.x=this.radius_g_1*Math.atan(i/n),t.y=this.radius_g_1*Math.atan(o/Tg(i,n))));return t.x=t.x*this.a,t.y=t.y*this.a,t},inverse:function(t){var n,e,i,o,l=-1,s=0,r=0;if(t.x=t.x/this.a,t.y=t.y/this.a,"ellipse"===this.shape){this.flip_axis?(r=Math.tan(t.y/this.radius_g_1),s=Math.tan(t.x/this.radius_g_1)*Tg(1,r)):(s=Math.tan(t.x/this.radius_g_1),r=Math.tan(t.y/this.radius_g_1)*Tg(1,s));var a=r/this.radius_p;if(n=s*s+a*a+l*l,(i=(e=2*this.radius_g*l)*e-4*n*this.C)<0)return t.x=Number.NaN,t.y=Number.NaN,t;o=(-e-Math.sqrt(i))/(2*n),l=this.radius_g+o*l,s*=o,r*=o,t.x=Math.atan2(s,l),t.y=Math.atan(r*Math.cos(t.x)/l),t.y=Math.atan(this.radius_p_inv2*Math.tan(t.y))}else if("sphere"===this.shape){if(this.flip_axis?(r=Math.tan(t.y/this.radius_g_1),s=Math.tan(t.x/this.radius_g_1)*Math.sqrt(1+r*r)):(s=Math.tan(t.x/this.radius_g_1),r=Math.tan(t.y/this.radius_g_1)*Math.sqrt(1+s*s)),n=s*s+r*r+l*l,(i=(e=2*this.radius_g*l)*e-4*n*this.C)<0)return t.x=Number.NaN,t.y=Number.NaN,t;o=(-e-Math.sqrt(i))/(2*n),l=this.radius_g+o*l,s*=o,r*=o,t.x=Math.atan2(s,l),t.y=Math.atan(r*Math.cos(t.x)/l)}return t.x=t.x+this.long0,t},names:["Geostationary Satellite View","Geostationary_Satellite","geos"]};function tV(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,i)}return e}function nV(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?tV(Object(e),!0).forEach((function(n){wt(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):tV(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}sg.defaultDatum="WGS84",sg.Proj=UW,sg.WGS84=new sg.Proj("WGS84"),sg.Point=Vg,sg.toPoint=tg,sg.defs=XW,sg.nadgrid=function(t,n){var e=new DataView(n),i=function(t){var n=t.getInt32(8,!1);if(11===n)return!1;11!==(n=t.getInt32(8,!0))&&console.warn("Failed to detect nadgrid endian-ness, defaulting to little-endian");return!0}(e),o=function(t,n){return{nFields:t.getInt32(8,n),nSubgridFields:t.getInt32(24,n),nSubgrids:t.getInt32(40,n),shiftType:FW(t,56,64).trim(),fromSemiMajorAxis:t.getFloat64(120,n),fromSemiMinorAxis:t.getFloat64(136,n),toSemiMajorAxis:t.getFloat64(152,n),toSemiMinorAxis:t.getFloat64(168,n)}}(e,i);o.nSubgrids>1&&console.log("Only single NTv2 subgrids are currently supported, subsequent sub grids are ignored");var l=function(t,n,e){for(var i=176,o=[],l=0;l<n.nSubgrids;l++){var s=BW(t,i,e),r=_W(t,i,s,e),a=Math.round(1+(s.upperLongitude-s.lowerLongitude)/s.longitudeInterval),d=Math.round(1+(s.upperLatitude-s.lowerLatitude)/s.latitudeInterval);o.push({ll:[NW(s.lowerLongitude),NW(s.lowerLatitude)],del:[NW(s.longitudeInterval),NW(s.latitudeInterval)],lim:[a,d],count:s.gridNodeCount,cvs:kW(r)})}return o}(e,o,i),s={header:o,subgrids:l};return zW[t]=s,s},sg.transform=eg,sg.mgrs=mg,sg.version="__VERSION__",function(t){t.Proj.projections.add(Cg),t.Proj.projections.add(Ig),t.Proj.projections.add(zg),t.Proj.projections.add(Fg),t.Proj.projections.add(kg),t.Proj.projections.add(Bg),t.Proj.projections.add(Ug),t.Proj.projections.add(Eg),t.Proj.projections.add(jg),t.Proj.projections.add(ev),t.Proj.projections.add(cv),t.Proj.projections.add(pv),t.Proj.projections.add(hv),t.Proj.projections.add(mv),t.Proj.projections.add(bv),t.Proj.projections.add(yv),t.Proj.projections.add(Zv),t.Proj.projections.add(Xv),t.Proj.projections.add(fv),t.Proj.projections.add(Gv),t.Proj.projections.add(Wv),t.Proj.projections.add(gv),t.Proj.projections.add(vv),t.Proj.projections.add(Vv),t.Proj.projections.add(Iv),t.Proj.projections.add(Uv),t.Proj.projections.add(Ev),t.Proj.projections.add(qv),t.Proj.projections.add($v)}(sg),sg.defs([["EPSG:4326","+title=WGS84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"],["EPSG:3826","+title=TWD97 TM2 +proj=tmerc +lat_0=0 +lon_0=121 +k=0.9999 +x_0=250000 +y_0=0 +ellps=GRS80 +units=m +no_defs"],["EPSG:3828","+title=TWD67 TM2 +proj=tmerc +lat_0=0 +lon_0=121 +k=0.9999 +x_0=250000 +y_0=0 +ellps=aust_SA +towgs84=-752,-358,-179,-0.0000011698,0.0000018398,0.0000009822,0.00002329 +units=m +no_defs"]]);var eV=null,iV=(eV=Gl()?ra:EG).helpers,oV=iV.polygon,lV=iV.multiPolygon,sV=iV.lineString,rV=eV.area,aV=eV.centroid,dV=eV.centerOfMass,cV=eV.intersect,uV=eV.mask,pV=eV.difference,hV=eV.bezierSpline,mV=eV.buffer,bV=eV.booleanPointInPolygon;function yV(t){var n=function(t){var n=De(Ct(t,"0",null)),e=De(Ct(t,"0.0",null));return 2===De(Ct(t,"0.0.0",null))?3:2===e?2:2===n?1:0===n?0:(console.log("invalid point depth",t),null)}(t);return 3===n?t:2===n?He(t,(function(t){return[t]})):1===n?[[t]]:0===n?[]:t}function ZV(t){return cl(t)?aV(lV(yV(t))).geometry.coordinates:null}function XV(t){return cl(t)?rV(lV(yV(t))):null}function fV(t){return He(t,(function(t){return He(t,(function(t){return[t[1],t[0]]}))}))}function GV(t){var n,e,i=Ct(t,"geometry.type"),o=Ct(t,"geometry.coordinates");return"Polygon"===i?[o]:"MultiPolygon"===i?o:"GeometryCollection"===i?(n=Ct(t,"geometry.geometries"),e=[],Te(n,(function(t){"Polygon"===t.type?e.push(t.coordinates):"MultiPolygon"===t.type&&Te(t.coordinates,(function(t){e.push(t)}))})),e):[]}function WV(t,n){return GV(cV(lV(yV(t)),lV(yV(n))))}function gV(t,n){return GV(pV(lV(yV(t)),lV(yV(n))))}var vV={toMultiPolygon:yV,getCentroidMultiPolygon:ZV,getCenterOfMassMultiPolygon:function(t){return cl(t)?dV(lV(yV(t))).geometry.coordinates:null},getArea:XV,isPointInPolygon:function(t,n){return bV(t,lV(yV(n)))},intersectMultiPolygon:WV,clipMultiPolygon:gV,maskMultiPolygon:function(t){return GV(uV(lV(yV(t))))},splineMultiPolygon:function(t,n){return t=Vo(t),t=He(t,(function(t){return function(t,n){return t=Vo(t),He(t,(function(t,e){var i=sV(t),o=hV(i,n);return Ct(o,"geometry.coordinates")}))}(t,n)})),t},fixGeometryMultiPolygon:function(t){function n(t){t=fV(t);var n=oV(t),e=GV(mV(n,1,{units:"kilometers"}));return e=function(t){return He(t,(function(t){return fV(t)}))}(e),e}t=Vo(t);var e=[];return Te(t,(function(t){var i=n(t);Te(i,(function(t){e.push(t)}))})),e=fo(e,fl)},calcContours:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};function e(t){return ta()(t)}for(var i=Ct(n,"containInner",null),o=Ct(n,"clipInner",null),l=Ct(n,"clipOuter",null),s=t[0][2],r=t[0][2],a=1;a<De(t);a++){var d=t[a][2];s>d&&(s=d),r<d&&(r=d)}var c=e(t);if(!cl(c))return[];var u=He(c,(function(t,n){return{latLngs:t.coordinates,level:t.value,effectArea:XV(t.coordinates),effectAreaCentroid:ZV(t.coordinates)}})),p=yl(He(u,"level")),h=Xl(He(u,"level"));if(h<r&&u.push({mode:"virtualEnd",latLngs:[],level:r,effectArea:0}),p>s){var m={mode:"virtualStart",latLngs:[],level:s,effectArea:0};u=[m].concat(Mt(u))}Te(u,(function(t,n){t.level=Math.min(t.level,r),t.level=Math.max(t.level,s)}));for(var b=[],y=0;y<=u.length-2;y++){var Z=u[y].latLngs,X=u[y+1].latLngs,f={text:"".concat(u[y].level," - ").concat(u[y+1].level),low:u[y].level,up:u[y+1].level},G=[];G=gV(Z,X),G=Ct(u[y],!1)?X:gV(Z,X),b.push(nV(nV({},u[y]),{},{latLngs:G,range:f}))}var W=[];Te(b,(function(t,n){var e=null;e=cl(i)?WV(t.latLngs,i):t.latLngs,De(e)>0&&W.push(nV(nV({},t),{},{latLngs:e}))}));var g=[];Te(b=W,(function(t,n){var e=null;e=cl(o)?gV(t.latLngs,o):t.latLngs,De(e)>0&&g.push(nV(nV({},t),{},{latLngs:e}))}));var v=[];Te(b=g,(function(t){var n=null;n=cl(l)?WV(t.latLngs,l):t.latLngs,De(n)>0&&v.push(nV(nV({},t),{},{latLngs:n}))}));var V=0,x=null,S=null;return Te(b=v,(function(t,n){V<t.effectArea&&(x=n,V=t.effectArea,S=t.effectAreaCentroid)})),null===x?[]:(Te(b,(function(t,n){b[n].center=S})),b)},convertCoordinate:function(t,n,e){if(!cl(e)&&2!==De(e))throw new Error("ps is not an array(length=2)");var i={TWD97TM2:"EPSG:3826",TWD67TM2:"EPSG:3828",WGS84:"EPSG:4326"};la(i,t)&&(t=i[t]),la(i,n)&&(n=i[n]);var o=new sg.Proj(t),l=new sg.Proj(n);return sg(o,l,e)}},VV=o((function(t){var n=Object.prototype.hasOwnProperty,e="~";function i(){}function o(t,n,e){this.fn=t,this.context=n,this.once=e||!1}function l(t,n,i,l,s){if("function"!=typeof i)throw new TypeError("The listener must be a function");var r=new o(i,l||t,s),a=e?e+n:n;return t._events[a]?t._events[a].fn?t._events[a]=[t._events[a],r]:t._events[a].push(r):(t._events[a]=r,t._eventsCount++),t}function s(t,n){0==--t._eventsCount?t._events=new i:delete t._events[n]}function r(){this._events=new i,this._eventsCount=0}Object.create&&(i.prototype=Object.create(null),(new i).__proto__||(e=!1)),r.prototype.eventNames=function(){var t,i,o=[];if(0===this._eventsCount)return o;for(i in t=this._events)n.call(t,i)&&o.push(e?i.slice(1):i);return Object.getOwnPropertySymbols?o.concat(Object.getOwnPropertySymbols(t)):o},r.prototype.listeners=function(t){var n=e?e+t:t,i=this._events[n];if(!i)return[];if(i.fn)return[i.fn];for(var o=0,l=i.length,s=new Array(l);o<l;o++)s[o]=i[o].fn;return s},r.prototype.listenerCount=function(t){var n=e?e+t:t,i=this._events[n];return i?i.fn?1:i.length:0},r.prototype.emit=function(t,n,i,o,l,s){var r=e?e+t:t;if(!this._events[r])return!1;var a,d,c=this._events[r],u=arguments.length;if(c.fn){switch(c.once&&this.removeListener(t,c.fn,void 0,!0),u){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,n),!0;case 3:return c.fn.call(c.context,n,i),!0;case 4:return c.fn.call(c.context,n,i,o),!0;case 5:return c.fn.call(c.context,n,i,o,l),!0;case 6:return c.fn.call(c.context,n,i,o,l,s),!0}for(d=1,a=new Array(u-1);d<u;d++)a[d-1]=arguments[d];c.fn.apply(c.context,a)}else{var p,h=c.length;for(d=0;d<h;d++)switch(c[d].once&&this.removeListener(t,c[d].fn,void 0,!0),u){case 1:c[d].fn.call(c[d].context);break;case 2:c[d].fn.call(c[d].context,n);break;case 3:c[d].fn.call(c[d].context,n,i);break;case 4:c[d].fn.call(c[d].context,n,i,o);break;default:if(!a)for(p=1,a=new Array(u-1);p<u;p++)a[p-1]=arguments[p];c[d].fn.apply(c[d].context,a)}}return!0},r.prototype.on=function(t,n,e){return l(this,t,n,e,!1)},r.prototype.once=function(t,n,e){return l(this,t,n,e,!0)},r.prototype.removeListener=function(t,n,i,o){var l=e?e+t:t;if(!this._events[l])return this;if(!n)return s(this,l),this;var r=this._events[l];if(r.fn)r.fn!==n||o&&!r.once||i&&r.context!==i||s(this,l);else{for(var a=0,d=[],c=r.length;a<c;a++)(r[a].fn!==n||o&&!r[a].once||i&&r[a].context!==i)&&d.push(r[a]);d.length?this._events[l]=1===d.length?d[0]:d:s(this,l)}return this},r.prototype.removeAllListeners=function(t){var n;return t?(n=e?e+t:t,this._events[n]&&s(this,n)):(this._events=new i,this._eventsCount=0),this},r.prototype.off=r.prototype.removeListener,r.prototype.addListener=r.prototype.on,r.prefixed=e,r.EventEmitter=r,t.exports=r}));function xV(){return new VV}function SV(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,i)}return e}function LV(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?SV(Object(e),!0).forEach((function(n){wt(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):SV(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}var RV="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),KV=RV.length;function HV(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,i)}return e}function CV(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?HV(Object(e),!0).forEach((function(n){wt(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):HV(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}!function(t,n){void 0===n&&(n={});var e=n.insertAt;if(t&&"undefined"!=typeof document){var i=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css","top"===e&&i.firstChild?i.insertBefore(o,i.firstChild):i.appendChild(o),o.styleSheet?o.styleSheet.cssText=t:o.appendChild(document.createTextNode(t))}}('/* required styles */\r\n\r\n.leaflet-pane,\r\n.leaflet-tile,\r\n.leaflet-marker-icon,\r\n.leaflet-marker-shadow,\r\n.leaflet-tile-container,\r\n.leaflet-pane > svg,\r\n.leaflet-pane > canvas,\r\n.leaflet-zoom-box,\r\n.leaflet-image-layer,\r\n.leaflet-layer {\r\n\tposition: absolute;\r\n\tleft: 0;\r\n\ttop: 0;\r\n\t}\r\n.leaflet-container {\r\n\toverflow: hidden;\r\n\t}\r\n.leaflet-tile,\r\n.leaflet-marker-icon,\r\n.leaflet-marker-shadow {\r\n\t-webkit-user-select: none;\r\n\t   -moz-user-select: none;\r\n\t        -ms-user-select: none;\r\n\t    user-select: none;\r\n\t  -webkit-user-drag: none;\r\n\t}\r\n/* Prevents IE11 from highlighting tiles in blue */\r\n.leaflet-tile::-moz-selection {\r\n\tbackground: transparent;\r\n}\r\n.leaflet-tile::selection {\r\n\tbackground: transparent;\r\n}\r\n/* Safari renders non-retina tile on retina better with this, but Chrome is worse */\r\n.leaflet-safari .leaflet-tile {\r\n\timage-rendering: -webkit-optimize-contrast;\r\n\t}\r\n/* hack that prevents hw layers "stretching" when loading new tiles */\r\n.leaflet-safari .leaflet-tile-container {\r\n\twidth: 1600px;\r\n\theight: 1600px;\r\n\t-webkit-transform-origin: 0 0;\r\n\t}\r\n.leaflet-marker-icon,\r\n.leaflet-marker-shadow {\r\n\tdisplay: block;\r\n\t}\r\n/* .leaflet-container svg: reset svg max-width decleration shipped in Joomla! (joomla.org) 3.x */\r\n/* .leaflet-container img: map is broken in FF if you have max-width: 100% on tiles */\r\n.leaflet-container .leaflet-overlay-pane svg {\r\n\tmax-width: none !important;\r\n\tmax-height: none !important;\r\n\t}\r\n.leaflet-container .leaflet-marker-pane img,\r\n.leaflet-container .leaflet-shadow-pane img,\r\n.leaflet-container .leaflet-tile-pane img,\r\n.leaflet-container img.leaflet-image-layer,\r\n.leaflet-container .leaflet-tile {\r\n\tmax-width: none !important;\r\n\tmax-height: none !important;\r\n\twidth: auto;\r\n\tpadding: 0;\r\n\t}\r\n\r\n.leaflet-container.leaflet-touch-zoom {\r\n\t-ms-touch-action: pan-x pan-y;\r\n\ttouch-action: pan-x pan-y;\r\n\t}\r\n.leaflet-container.leaflet-touch-drag {\r\n\t-ms-touch-action: pinch-zoom;\r\n\t/* Fallback for FF which doesn\'t support pinch-zoom */\r\n\ttouch-action: none;\r\n\ttouch-action: pinch-zoom;\r\n}\r\n.leaflet-container.leaflet-touch-drag.leaflet-touch-zoom {\r\n\t-ms-touch-action: none;\r\n\ttouch-action: none;\r\n}\r\n.leaflet-container {\r\n\t-webkit-tap-highlight-color: transparent;\r\n}\r\n.leaflet-container a {\r\n\t-webkit-tap-highlight-color: rgba(51, 181, 229, 0.4);\r\n}\r\n.leaflet-tile {\r\n\t-webkit-filter: inherit;\r\n\t        filter: inherit;\r\n\tvisibility: hidden;\r\n\t}\r\n.leaflet-tile-loaded {\r\n\tvisibility: inherit;\r\n\t}\r\n.leaflet-zoom-box {\r\n\twidth: 0;\r\n\theight: 0;\r\n\t-webkit-box-sizing: border-box;\r\n\t        box-sizing: border-box;\r\n\tz-index: 800;\r\n\t}\r\n/* workaround for https://bugzilla.mozilla.org/show_bug.cgi?id=888319 */\r\n.leaflet-overlay-pane svg {\r\n\t-moz-user-select: none;\r\n\t}\r\n\r\n.leaflet-pane         { z-index: 400; }\r\n\r\n.leaflet-tile-pane    { z-index: 200; }\r\n.leaflet-overlay-pane { z-index: 400; }\r\n.leaflet-shadow-pane  { z-index: 500; }\r\n.leaflet-marker-pane  { z-index: 600; }\r\n.leaflet-tooltip-pane   { z-index: 650; }\r\n.leaflet-popup-pane   { z-index: 700; }\r\n\r\n.leaflet-map-pane canvas { z-index: 100; }\r\n.leaflet-map-pane svg    { z-index: 200; }\r\n\r\n.leaflet-vml-shape {\r\n\twidth: 1px;\r\n\theight: 1px;\r\n\t}\r\n.lvml {\r\n\tbehavior: url(#default#VML);\r\n\tdisplay: inline-block;\r\n\tposition: absolute;\r\n\t}\r\n\r\n\r\n/* control positioning */\r\n\r\n.leaflet-control {\r\n\tposition: relative;\r\n\tz-index: 800;\r\n\tpointer-events: visiblePainted; /* IE 9-10 doesn\'t have auto */\r\n\tpointer-events: auto;\r\n\t}\r\n.leaflet-top,\r\n.leaflet-bottom {\r\n\tposition: absolute;\r\n\tz-index: 1000;\r\n\tpointer-events: none;\r\n\t}\r\n.leaflet-top {\r\n\ttop: 0;\r\n\t}\r\n.leaflet-right {\r\n\tright: 0;\r\n\t}\r\n.leaflet-bottom {\r\n\tbottom: 0;\r\n\t}\r\n.leaflet-left {\r\n\tleft: 0;\r\n\t}\r\n.leaflet-control {\r\n\tfloat: left;\r\n\tclear: both;\r\n\t}\r\n.leaflet-right .leaflet-control {\r\n\tfloat: right;\r\n\t}\r\n.leaflet-top .leaflet-control {\r\n\tmargin-top: 10px;\r\n\t}\r\n.leaflet-bottom .leaflet-control {\r\n\tmargin-bottom: 10px;\r\n\t}\r\n.leaflet-left .leaflet-control {\r\n\tmargin-left: 10px;\r\n\t}\r\n.leaflet-right .leaflet-control {\r\n\tmargin-right: 10px;\r\n\t}\r\n\r\n\r\n/* zoom and fade animations */\r\n\r\n.leaflet-fade-anim .leaflet-popup {\r\n\topacity: 0;\r\n\t-webkit-transition: opacity 0.2s linear;\r\n\t        transition: opacity 0.2s linear;\r\n\t}\r\n.leaflet-fade-anim .leaflet-map-pane .leaflet-popup {\r\n\topacity: 1;\r\n\t}\r\n.leaflet-zoom-animated {\r\n\t-webkit-transform-origin: 0 0;\r\n\t        transform-origin: 0 0;\r\n\t}\r\nsvg.leaflet-zoom-animated {\r\n\twill-change: transform;\r\n}\r\n\r\n.leaflet-zoom-anim .leaflet-zoom-animated {\r\n\t-webkit-transition: -webkit-transform 0.25s cubic-bezier(0,0,0.25,1);\r\n\t        transition:         -webkit-transform 0.25s cubic-bezier(0,0,0.25,1);\r\n\t        transition:         transform 0.25s cubic-bezier(0,0,0.25,1);\r\n\t        transition:         transform 0.25s cubic-bezier(0,0,0.25,1), -webkit-transform 0.25s cubic-bezier(0,0,0.25,1);\r\n\t}\r\n.leaflet-zoom-anim .leaflet-tile,\r\n.leaflet-pan-anim .leaflet-tile {\r\n\t-webkit-transition: none;\r\n\t        transition: none;\r\n\t}\r\n\r\n.leaflet-zoom-anim .leaflet-zoom-hide {\r\n\tvisibility: hidden;\r\n\t}\r\n\r\n\r\n/* cursors */\r\n\r\n.leaflet-interactive {\r\n\tcursor: pointer;\r\n\t}\r\n.leaflet-grab {\r\n\tcursor: -webkit-grab;\r\n\tcursor:         grab;\r\n\t}\r\n.leaflet-crosshair,\r\n.leaflet-crosshair .leaflet-interactive {\r\n\tcursor: crosshair;\r\n\t}\r\n.leaflet-popup-pane,\r\n.leaflet-control {\r\n\tcursor: auto;\r\n\t}\r\n.leaflet-dragging .leaflet-grab,\r\n.leaflet-dragging .leaflet-grab .leaflet-interactive,\r\n.leaflet-dragging .leaflet-marker-draggable {\r\n\tcursor: move;\r\n\tcursor: -webkit-grabbing;\r\n\tcursor:         grabbing;\r\n\t}\r\n\r\n/* marker & overlays interactivity */\r\n.leaflet-marker-icon,\r\n.leaflet-marker-shadow,\r\n.leaflet-image-layer,\r\n.leaflet-pane > svg path,\r\n.leaflet-tile-container {\r\n\tpointer-events: none;\r\n\t}\r\n\r\n.leaflet-marker-icon.leaflet-interactive,\r\n.leaflet-image-layer.leaflet-interactive,\r\n.leaflet-pane > svg path.leaflet-interactive,\r\nsvg.leaflet-image-layer.leaflet-interactive path {\r\n\tpointer-events: visiblePainted; /* IE 9-10 doesn\'t have auto */\r\n\tpointer-events: auto;\r\n\t}\r\n\r\n/* visual tweaks */\r\n\r\n.leaflet-container {\r\n\tbackground: #ddd;\r\n\toutline-offset: 1px;\r\n\t}\r\n.leaflet-container a {\r\n\tcolor: #0078A8;\r\n\t}\r\n.leaflet-zoom-box {\r\n\tborder: 2px dotted #38f;\r\n\tbackground: rgba(255,255,255,0.5);\r\n\t}\r\n\r\n\r\n/* general typography */\r\n.leaflet-container {\r\n\tfont-family: "Helvetica Neue", Arial, Helvetica, sans-serif;\r\n\tfont-size: 12px;\r\n\tfont-size: 0.75rem;\r\n\tline-height: 1.5;\r\n\t}\r\n\r\n\r\n/* general toolbar styles */\r\n\r\n.leaflet-bar {\r\n\t-webkit-box-shadow: 0 1px 5px rgba(0,0,0,0.65);\r\n\t        box-shadow: 0 1px 5px rgba(0,0,0,0.65);\r\n\tborder-radius: 4px;\r\n\t}\r\n.leaflet-bar a {\r\n\tbackground-color: #fff;\r\n\tborder-bottom: 1px solid #ccc;\r\n\twidth: 26px;\r\n\theight: 26px;\r\n\tline-height: 26px;\r\n\tdisplay: block;\r\n\ttext-align: center;\r\n\ttext-decoration: none;\r\n\tcolor: black;\r\n\t}\r\n.leaflet-bar a,\r\n.leaflet-control-layers-toggle {\r\n\tbackground-position: 50% 50%;\r\n\tbackground-repeat: no-repeat;\r\n\tdisplay: block;\r\n\t}\r\n.leaflet-bar a:hover,\r\n.leaflet-bar a:focus {\r\n\tbackground-color: #f4f4f4;\r\n\t}\r\n.leaflet-bar a:first-child {\r\n\tborder-top-left-radius: 4px;\r\n\tborder-top-right-radius: 4px;\r\n\t}\r\n.leaflet-bar a:last-child {\r\n\tborder-bottom-left-radius: 4px;\r\n\tborder-bottom-right-radius: 4px;\r\n\tborder-bottom: none;\r\n\t}\r\n.leaflet-bar a.leaflet-disabled {\r\n\tcursor: default;\r\n\tbackground-color: #f4f4f4;\r\n\tcolor: #bbb;\r\n\t}\r\n\r\n.leaflet-touch .leaflet-bar a {\r\n\twidth: 30px;\r\n\theight: 30px;\r\n\tline-height: 30px;\r\n\t}\r\n.leaflet-touch .leaflet-bar a:first-child {\r\n\tborder-top-left-radius: 2px;\r\n\tborder-top-right-radius: 2px;\r\n\t}\r\n.leaflet-touch .leaflet-bar a:last-child {\r\n\tborder-bottom-left-radius: 2px;\r\n\tborder-bottom-right-radius: 2px;\r\n\t}\r\n\r\n/* zoom control */\r\n\r\n.leaflet-control-zoom-in,\r\n.leaflet-control-zoom-out {\r\n\tfont: bold 18px \'Lucida Console\', Monaco, monospace;\r\n\ttext-indent: 1px;\r\n\t}\r\n\r\n.leaflet-touch .leaflet-control-zoom-in, .leaflet-touch .leaflet-control-zoom-out  {\r\n\tfont-size: 22px;\r\n\t}\r\n\r\n\r\n/* layers control */\r\n\r\n.leaflet-control-layers {\r\n\t-webkit-box-shadow: 0 1px 5px rgba(0,0,0,0.4);\r\n\t        box-shadow: 0 1px 5px rgba(0,0,0,0.4);\r\n\tbackground: #fff;\r\n\tborder-radius: 5px;\r\n\t}\r\n.leaflet-control-layers-toggle {\r\n\tbackground-image: url(images/layers.png);\r\n\twidth: 36px;\r\n\theight: 36px;\r\n\t}\r\n.leaflet-retina .leaflet-control-layers-toggle {\r\n\tbackground-image: url(images/layers-2x.png);\r\n\tbackground-size: 26px 26px;\r\n\t}\r\n.leaflet-touch .leaflet-control-layers-toggle {\r\n\twidth: 44px;\r\n\theight: 44px;\r\n\t}\r\n.leaflet-control-layers .leaflet-control-layers-list,\r\n.leaflet-control-layers-expanded .leaflet-control-layers-toggle {\r\n\tdisplay: none;\r\n\t}\r\n.leaflet-control-layers-expanded .leaflet-control-layers-list {\r\n\tdisplay: block;\r\n\tposition: relative;\r\n\t}\r\n.leaflet-control-layers-expanded {\r\n\tpadding: 6px 10px 6px 6px;\r\n\tcolor: #333;\r\n\tbackground: #fff;\r\n\t}\r\n.leaflet-control-layers-scrollbar {\r\n\toverflow-y: scroll;\r\n\toverflow-x: hidden;\r\n\tpadding-right: 5px;\r\n\t}\r\n.leaflet-control-layers-selector {\r\n\tmargin-top: 2px;\r\n\tposition: relative;\r\n\ttop: 1px;\r\n\t}\r\n.leaflet-control-layers label {\r\n\tdisplay: block;\r\n\tfont-size: 13px;\r\n\tfont-size: 1.08333em;\r\n\t}\r\n.leaflet-control-layers-separator {\r\n\theight: 0;\r\n\tborder-top: 1px solid #ddd;\r\n\tmargin: 5px -10px 5px -6px;\r\n\t}\r\n\r\n/* Default icon URLs */\r\n.leaflet-default-icon-path { /* used only in path-guessing heuristic, see L.Icon.Default */\r\n\tbackground-image: url(images/marker-icon.png);\r\n\t}\r\n\r\n\r\n/* attribution and scale controls */\r\n\r\n.leaflet-container .leaflet-control-attribution {\r\n\tbackground: #fff;\r\n\tbackground: rgba(255, 255, 255, 0.8);\r\n\tmargin: 0;\r\n\t}\r\n.leaflet-control-attribution,\r\n.leaflet-control-scale-line {\r\n\tpadding: 0 5px;\r\n\tcolor: #333;\r\n\tline-height: 1.4;\r\n\t}\r\n.leaflet-control-attribution a {\r\n\ttext-decoration: none;\r\n\t}\r\n.leaflet-control-attribution a:hover,\r\n.leaflet-control-attribution a:focus {\r\n\ttext-decoration: underline;\r\n\t}\r\n.leaflet-control-attribution svg {\r\n\tdisplay: inline !important;\r\n\t}\r\n.leaflet-left .leaflet-control-scale {\r\n\tmargin-left: 5px;\r\n\t}\r\n.leaflet-bottom .leaflet-control-scale {\r\n\tmargin-bottom: 5px;\r\n\t}\r\n.leaflet-control-scale-line {\r\n\tborder: 2px solid #777;\r\n\tborder-top: none;\r\n\tline-height: 1.1;\r\n\tpadding: 2px 5px 1px;\r\n\twhite-space: nowrap;\r\n\toverflow: hidden;\r\n\t-webkit-box-sizing: border-box;\r\n\t        box-sizing: border-box;\r\n\r\n\tbackground: #fff;\r\n\tbackground: rgba(255, 255, 255, 0.5);\r\n\t}\r\n.leaflet-control-scale-line:not(:first-child) {\r\n\tborder-top: 2px solid #777;\r\n\tborder-bottom: none;\r\n\tmargin-top: -2px;\r\n\t}\r\n.leaflet-control-scale-line:not(:first-child):not(:last-child) {\r\n\tborder-bottom: 2px solid #777;\r\n\t}\r\n\r\n.leaflet-touch .leaflet-control-attribution,\r\n.leaflet-touch .leaflet-control-layers,\r\n.leaflet-touch .leaflet-bar {\r\n\t-webkit-box-shadow: none;\r\n\t        box-shadow: none;\r\n\t}\r\n.leaflet-touch .leaflet-control-layers,\r\n.leaflet-touch .leaflet-bar {\r\n\tborder: 2px solid rgba(0,0,0,0.2);\r\n\tbackground-clip: padding-box;\r\n\t}\r\n\r\n\r\n/* popup */\r\n\r\n.leaflet-popup {\r\n\tposition: absolute;\r\n\ttext-align: center;\r\n\tmargin-bottom: 20px;\r\n\t}\r\n.leaflet-popup-content-wrapper {\r\n\tpadding: 1px;\r\n\ttext-align: left;\r\n\tborder-radius: 12px;\r\n\t}\r\n.leaflet-popup-content {\r\n\tmargin: 13px 24px 13px 20px;\r\n\tline-height: 1.3;\r\n\tfont-size: 13px;\r\n\tfont-size: 1.08333em;\r\n\tmin-height: 1px;\r\n\t}\r\n.leaflet-popup-content p {\r\n\tmargin: 17px 0;\r\n\tmargin: 1.3em 0;\r\n\t}\r\n.leaflet-popup-tip-container {\r\n\twidth: 40px;\r\n\theight: 20px;\r\n\tposition: absolute;\r\n\tleft: 50%;\r\n\tmargin-top: -1px;\r\n\tmargin-left: -20px;\r\n\toverflow: hidden;\r\n\tpointer-events: none;\r\n\t}\r\n.leaflet-popup-tip {\r\n\twidth: 17px;\r\n\theight: 17px;\r\n\tpadding: 1px;\r\n\r\n\tmargin: -10px auto 0;\r\n\tpointer-events: auto;\r\n\r\n\t-webkit-transform: rotate(45deg);\r\n\t        transform: rotate(45deg);\r\n\t}\r\n.leaflet-popup-content-wrapper,\r\n.leaflet-popup-tip {\r\n\tbackground: white;\r\n\tcolor: #333;\r\n\t-webkit-box-shadow: 0 3px 14px rgba(0,0,0,0.4);\r\n\t        box-shadow: 0 3px 14px rgba(0,0,0,0.4);\r\n\t}\r\n.leaflet-container a.leaflet-popup-close-button {\r\n\tposition: absolute;\r\n\ttop: 0;\r\n\tright: 0;\r\n\tborder: none;\r\n\ttext-align: center;\r\n\twidth: 24px;\r\n\theight: 24px;\r\n\tfont: 16px/24px Tahoma, Verdana, sans-serif;\r\n\tcolor: #757575;\r\n\ttext-decoration: none;\r\n\tbackground: transparent;\r\n\t}\r\n.leaflet-container a.leaflet-popup-close-button:hover,\r\n.leaflet-container a.leaflet-popup-close-button:focus {\r\n\tcolor: #585858;\r\n\t}\r\n.leaflet-popup-scrolled {\r\n\toverflow: auto;\r\n\tborder-bottom: 1px solid #ddd;\r\n\tborder-top: 1px solid #ddd;\r\n\t}\r\n\r\n.leaflet-oldie .leaflet-popup-content-wrapper {\r\n\t-ms-zoom: 1;\r\n\t}\r\n.leaflet-oldie .leaflet-popup-tip {\r\n\twidth: 24px;\r\n\tmargin: 0 auto;\r\n\r\n\t-ms-filter: "progid:DXImageTransform.Microsoft.Matrix(M11=0.70710678, M12=0.70710678, M21=-0.70710678, M22=0.70710678)";\r\n\tfilter: progid:DXImageTransform.Microsoft.Matrix(M11=0.70710678, M12=0.70710678, M21=-0.70710678, M22=0.70710678);\r\n\t}\r\n\r\n.leaflet-oldie .leaflet-control-zoom,\r\n.leaflet-oldie .leaflet-control-layers,\r\n.leaflet-oldie .leaflet-popup-content-wrapper,\r\n.leaflet-oldie .leaflet-popup-tip {\r\n\tborder: 1px solid #999;\r\n\t}\r\n\r\n\r\n/* div icon */\r\n\r\n.leaflet-div-icon {\r\n\tbackground: #fff;\r\n\tborder: 1px solid #666;\r\n\t}\r\n\r\n\r\n/* Tooltip */\r\n/* Base styles for the element that has a tooltip */\r\n.leaflet-tooltip {\r\n\tposition: absolute;\r\n\tpadding: 6px;\r\n\tbackground-color: #fff;\r\n\tborder: 1px solid #fff;\r\n\tborder-radius: 3px;\r\n\tcolor: #222;\r\n\twhite-space: nowrap;\r\n\t-webkit-user-select: none;\r\n\t-moz-user-select: none;\r\n\t-ms-user-select: none;\r\n\tuser-select: none;\r\n\tpointer-events: none;\r\n\t-webkit-box-shadow: 0 1px 3px rgba(0,0,0,0.4);\r\n\t        box-shadow: 0 1px 3px rgba(0,0,0,0.4);\r\n\t}\r\n.leaflet-tooltip.leaflet-interactive {\r\n\tcursor: pointer;\r\n\tpointer-events: auto;\r\n\t}\r\n.leaflet-tooltip-top:before,\r\n.leaflet-tooltip-bottom:before,\r\n.leaflet-tooltip-left:before,\r\n.leaflet-tooltip-right:before {\r\n\tposition: absolute;\r\n\tpointer-events: none;\r\n\tborder: 6px solid transparent;\r\n\tbackground: transparent;\r\n\tcontent: "";\r\n\t}\r\n\r\n/* Directions */\r\n\r\n.leaflet-tooltip-bottom {\r\n\tmargin-top: 6px;\r\n}\r\n.leaflet-tooltip-top {\r\n\tmargin-top: -6px;\r\n}\r\n.leaflet-tooltip-bottom:before,\r\n.leaflet-tooltip-top:before {\r\n\tleft: 50%;\r\n\tmargin-left: -6px;\r\n\t}\r\n.leaflet-tooltip-top:before {\r\n\tbottom: 0;\r\n\tmargin-bottom: -12px;\r\n\tborder-top-color: #fff;\r\n\t}\r\n.leaflet-tooltip-bottom:before {\r\n\ttop: 0;\r\n\tmargin-top: -12px;\r\n\tmargin-left: -6px;\r\n\tborder-bottom-color: #fff;\r\n\t}\r\n.leaflet-tooltip-left {\r\n\tmargin-left: -6px;\r\n}\r\n.leaflet-tooltip-right {\r\n\tmargin-left: 6px;\r\n}\r\n.leaflet-tooltip-left:before,\r\n.leaflet-tooltip-right:before {\r\n\ttop: 50%;\r\n\tmargin-top: -6px;\r\n\t}\r\n.leaflet-tooltip-left:before {\r\n\tright: 0;\r\n\tmargin-right: -12px;\r\n\tborder-left-color: #fff;\r\n\t}\r\n.leaflet-tooltip-right:before {\r\n\tleft: 0;\r\n\tmargin-left: -12px;\r\n\tborder-right-color: #fff;\r\n\t}\r\n\r\n/* Printing */\r\n\t\r\n@media print {\r\n\t/* Prevent printers from removing background-images of controls. */\r\n\t.leaflet-control {\r\n\t\t-webkit-print-color-adjust: exact;\r\n\t\tcolor-adjust: exact;\r\n\t\t}\r\n\t}\r\n');var YV=o((function(t,e){!function(t){var e="1.8.0";function i(t){var n,e,i,o;for(e=1,i=arguments.length;e<i;e++)for(n in o=arguments[e])t[n]=o[n];return t}var o=Object.create||function(){function t(){}return function(n){return t.prototype=n,new t}}();function l(t,n){var e=Array.prototype.slice;if(t.bind)return t.bind.apply(t,e.call(arguments,1));var i=e.call(arguments,2);return function(){return t.apply(n,i.length?i.concat(e.call(arguments)):arguments)}}var s=0;function r(t){return"_leaflet_id"in t||(t._leaflet_id=++s),t._leaflet_id}function a(t,n,e){var i,o,l,s;return s=function(){i=!1,o&&(l.apply(e,o),o=!1)},l=function(){i?o=arguments:(t.apply(e,arguments),setTimeout(s,n),i=!0)},l}function d(t,n,e){var i=n[1],o=n[0],l=i-o;return t===i&&e?t:((t-o)%l+l)%l+o}function c(){return!1}function u(t,n){if(!1===n)return t;var e=Math.pow(10,void 0===n?6:n);return Math.round(t*e)/e}function p(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function h(t){return p(t).split(/\s+/)}function m(t,n){for(var e in Object.prototype.hasOwnProperty.call(t,"options")||(t.options=t.options?o(t.options):{}),n)t.options[e]=n[e];return t.options}function b(t,n,e){var i=[];for(var o in t)i.push(encodeURIComponent(e?o.toUpperCase():o)+"="+encodeURIComponent(t[o]));return(n&&-1!==n.indexOf("?")?"&":"?")+i.join("&")}var y=/\{ *([\w_ -]+) *\}/g;function Z(t,n){return t.replace(y,(function(t,e){var i=n[e];if(void 0===i)throw new Error("No value provided for variable "+t);return"function"==typeof i&&(i=i(n)),i}))}var X=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function f(t,n){for(var e=0;e<t.length;e++)if(t[e]===n)return e;return-1}var G="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function W(t){return window["webkit"+t]||window["moz"+t]||window["ms"+t]}var g=0;function v(t){var n=+new Date,e=Math.max(0,16-(n-g));return g=n+e,window.setTimeout(t,e)}var V=window.requestAnimationFrame||W("RequestAnimationFrame")||v,x=window.cancelAnimationFrame||W("CancelAnimationFrame")||W("CancelRequestAnimationFrame")||function(t){window.clearTimeout(t)};function S(t,n,e){if(!e||V!==v)return V.call(window,l(t,n));t.call(n)}function R(t){t&&x.call(window,t)}var K={__proto__:null,extend:i,create:o,bind:l,get lastId(){return s},stamp:r,throttle:a,wrapNum:d,falseFn:c,formatNum:u,trim:p,splitWords:h,setOptions:m,getParamString:b,template:Z,isArray:X,indexOf:f,emptyImageUrl:G,requestFn:V,cancelFn:x,requestAnimFrame:S,cancelAnimFrame:R};function H(){}function C(t){if("undefined"!=typeof L&&L&&L.Mixin){t=X(t)?t:[t];for(var n=0;n<t.length;n++)t[n]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}}H.extend=function(t){var n=function(){m(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},e=n.__super__=this.prototype,l=o(e);for(var s in l.constructor=n,n.prototype=l,this)Object.prototype.hasOwnProperty.call(this,s)&&"prototype"!==s&&"__super__"!==s&&(n[s]=this[s]);return t.statics&&i(n,t.statics),t.includes&&(C(t.includes),i.apply(null,[l].concat(t.includes))),i(l,t),delete l.statics,delete l.includes,l.options&&(l.options=e.options?o(e.options):{},i(l.options,t.options)),l._initHooks=[],l.callInitHooks=function(){if(!this._initHooksCalled){e.callInitHooks&&e.callInitHooks.call(this),this._initHooksCalled=!0;for(var t=0,n=l._initHooks.length;t<n;t++)l._initHooks[t].call(this)}},n},H.include=function(t){var n=this.prototype.options;return i(this.prototype,t),t.options&&(this.prototype.options=n,this.mergeOptions(t.options)),this},H.mergeOptions=function(t){return i(this.prototype.options,t),this},H.addInitHook=function(t){var n=Array.prototype.slice.call(arguments,1),e="function"==typeof t?t:function(){this[t].apply(this,n)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(e),this};var Y={on:function(t,e,i){if("object"===n(t))for(var o in t)this._on(o,t[o],e);else for(var l=0,s=(t=h(t)).length;l<s;l++)this._on(t[l],e,i);return this},off:function(t,e,i){if(arguments.length)if("object"===n(t))for(var o in t)this._off(o,t[o],e);else{t=h(t);for(var l=1===arguments.length,s=0,r=t.length;s<r;s++)l?this._off(t[s]):this._off(t[s],e,i)}else delete this._events;return this},_on:function(t,e,i){if("function"==typeof e){this._events=this._events||{};var o=this._events[t];o||(o=[],this._events[t]=o),i===this&&(i=void 0);for(var l={fn:e,ctx:i},s=o,r=0,a=s.length;r<a;r++)if(s[r].fn===e&&s[r].ctx===i)return;s.push(l)}else console.warn("wrong listener type: "+n(e))},_off:function(t,e,i){var o,l,s;if(this._events&&(o=this._events[t]))if(1!==arguments.length)if(i===this&&(i=void 0),"function"==typeof e){for(l=0,s=o.length;l<s;l++){var r=o[l];if(r.ctx===i&&r.fn===e)return this._firingCount&&(r.fn=c,this._events[t]=o=o.slice()),void o.splice(l,1)}console.warn("listener not found")}else console.warn("wrong listener type: "+n(e));else{if(this._firingCount)for(l=0,s=o.length;l<s;l++)o[l].fn=c;delete this._events[t]}},fire:function(t,n,e){if(!this.listens(t,e))return this;var o=i({},n,{type:t,target:this,sourceTarget:n&&n.sourceTarget||this});if(this._events){var l=this._events[t];if(l){this._firingCount=this._firingCount+1||1;for(var s=0,r=l.length;s<r;s++){var a=l[s];a.fn.call(a.ctx||this,o)}this._firingCount--}}return e&&this._propagateEvent(o),this},listens:function(t,n){"string"!=typeof t&&console.warn('"string" type argument expected');var e=this._events&&this._events[t];if(e&&e.length)return!0;if(n)for(var i in this._eventParents)if(this._eventParents[i].listens(t,n))return!0;return!1},once:function(t,e,i){if("object"===n(t)){for(var o in t)this.once(o,t[o],e);return this}var s=l((function(){this.off(t,e,i).off(t,s,i)}),this);return this.on(t,e,i).on(t,s,i)},addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[r(t)]=t,this},removeEventParent:function(t){return this._eventParents&&delete this._eventParents[r(t)],this},_propagateEvent:function(t){for(var n in this._eventParents)this._eventParents[n].fire(t.type,i({layer:t.target,propagatedFrom:t.target},t),!0)}};Y.addEventListener=Y.on,Y.removeEventListener=Y.clearAllEventListeners=Y.off,Y.addOneTimeEventListener=Y.once,Y.fireEvent=Y.fire,Y.hasEventListeners=Y.listens;var T=H.extend(Y);function M(t,n,e){this.x=e?Math.round(t):t,this.y=e?Math.round(n):n}var w=Math.trunc||function(t){return t>0?Math.floor(t):Math.ceil(t)};function P(t,e,i){return t instanceof M?t:X(t)?new M(t[0],t[1]):null==t?t:"object"===n(t)&&"x"in t&&"y"in t?new M(t.x,t.y):new M(t,e,i)}function I(t,n){if(t)for(var e=n?[t,n]:t,i=0,o=e.length;i<o;i++)this.extend(e[i])}function z(t,n){return!t||t instanceof I?t:new I(t,n)}function J(t,n){if(t)for(var e=n?[t,n]:t,i=0,o=e.length;i<o;i++)this.extend(e[i])}function N(t,n){return t instanceof J?t:new J(t,n)}function F(t,n,e){if(isNaN(t)||isNaN(n))throw new Error("Invalid LatLng object: ("+t+", "+n+")");this.lat=+t,this.lng=+n,void 0!==e&&(this.alt=+e)}function k(t,e,i){return t instanceof F?t:X(t)&&"object"!==n(t[0])?3===t.length?new F(t[0],t[1],t[2]):2===t.length?new F(t[0],t[1]):null:null==t?t:"object"===n(t)&&"lat"in t?new F(t.lat,"lng"in t?t.lng:t.lon,t.alt):void 0===e?null:new F(t,e,i)}M.prototype={clone:function(){return new M(this.x,this.y)},add:function(t){return this.clone()._add(P(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(P(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},scaleBy:function(t){return new M(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new M(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=w(this.x),this.y=w(this.y),this},distanceTo:function(t){var n=(t=P(t)).x-this.x,e=t.y-this.y;return Math.sqrt(n*n+e*e)},equals:function(t){return(t=P(t)).x===this.x&&t.y===this.y},contains:function(t){return t=P(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+u(this.x)+", "+u(this.y)+")"}},I.prototype={extend:function(t){return t=P(t),this.min||this.max?(this.min.x=Math.min(t.x,this.min.x),this.max.x=Math.max(t.x,this.max.x),this.min.y=Math.min(t.y,this.min.y),this.max.y=Math.max(t.y,this.max.y)):(this.min=t.clone(),this.max=t.clone()),this},getCenter:function(t){return new M((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return new M(this.min.x,this.max.y)},getTopRight:function(){return new M(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var n,e;return(t="number"==typeof t[0]||t instanceof M?P(t):z(t))instanceof I?(n=t.min,e=t.max):n=e=t,n.x>=this.min.x&&e.x<=this.max.x&&n.y>=this.min.y&&e.y<=this.max.y},intersects:function(t){t=z(t);var n=this.min,e=this.max,i=t.min,o=t.max,l=o.x>=n.x&&i.x<=e.x,s=o.y>=n.y&&i.y<=e.y;return l&&s},overlaps:function(t){t=z(t);var n=this.min,e=this.max,i=t.min,o=t.max,l=o.x>n.x&&i.x<e.x,s=o.y>n.y&&i.y<e.y;return l&&s},isValid:function(){return!(!this.min||!this.max)}},J.prototype={extend:function(t){var n,e,i=this._southWest,o=this._northEast;if(t instanceof F)n=t,e=t;else{if(!(t instanceof J))return t?this.extend(k(t)||N(t)):this;if(n=t._southWest,e=t._northEast,!n||!e)return this}return i||o?(i.lat=Math.min(n.lat,i.lat),i.lng=Math.min(n.lng,i.lng),o.lat=Math.max(e.lat,o.lat),o.lng=Math.max(e.lng,o.lng)):(this._southWest=new F(n.lat,n.lng),this._northEast=new F(e.lat,e.lng)),this},pad:function(t){var n=this._southWest,e=this._northEast,i=Math.abs(n.lat-e.lat)*t,o=Math.abs(n.lng-e.lng)*t;return new J(new F(n.lat-i,n.lng-o),new F(e.lat+i,e.lng+o))},getCenter:function(){return new F((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new F(this.getNorth(),this.getWest())},getSouthEast:function(){return new F(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){t="number"==typeof t[0]||t instanceof F||"lat"in t?k(t):N(t);var n,e,i=this._southWest,o=this._northEast;return t instanceof J?(n=t.getSouthWest(),e=t.getNorthEast()):n=e=t,n.lat>=i.lat&&e.lat<=o.lat&&n.lng>=i.lng&&e.lng<=o.lng},intersects:function(t){t=N(t);var n=this._southWest,e=this._northEast,i=t.getSouthWest(),o=t.getNorthEast(),l=o.lat>=n.lat&&i.lat<=e.lat,s=o.lng>=n.lng&&i.lng<=e.lng;return l&&s},overlaps:function(t){t=N(t);var n=this._southWest,e=this._northEast,i=t.getSouthWest(),o=t.getNorthEast(),l=o.lat>n.lat&&i.lat<e.lat,s=o.lng>n.lng&&i.lng<e.lng;return l&&s},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t,n){return!!t&&(t=N(t),this._southWest.equals(t.getSouthWest(),n)&&this._northEast.equals(t.getNorthEast(),n))},isValid:function(){return!(!this._southWest||!this._northEast)}},F.prototype={equals:function(t,n){return!!t&&(t=k(t),Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng))<=(void 0===n?1e-9:n))},toString:function(t){return"LatLng("+u(this.lat,t)+", "+u(this.lng,t)+")"},distanceTo:function(t){return U.distance(this,k(t))},wrap:function(){return U.wrapLatLng(this)},toBounds:function(t){var n=180*t/40075017,e=n/Math.cos(Math.PI/180*this.lat);return N([this.lat-n,this.lng-e],[this.lat+n,this.lng+e])},clone:function(){return new F(this.lat,this.lng,this.alt)}};var B,_={latLngToPoint:function(t,n){var e=this.projection.project(t),i=this.scale(n);return this.transformation._transform(e,i)},pointToLatLng:function(t,n){var e=this.scale(n),i=this.transformation.untransform(t,e);return this.projection.unproject(i)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){if(this.infinite)return null;var n=this.projection.bounds,e=this.scale(t);return new I(this.transformation.transform(n.min,e),this.transformation.transform(n.max,e))},infinite:!1,wrapLatLng:function(t){var n=this.wrapLng?d(t.lng,this.wrapLng,!0):t.lng;return new F(this.wrapLat?d(t.lat,this.wrapLat,!0):t.lat,n,t.alt)},wrapLatLngBounds:function(t){var n=t.getCenter(),e=this.wrapLatLng(n),i=n.lat-e.lat,o=n.lng-e.lng;if(0===i&&0===o)return t;var l=t.getSouthWest(),s=t.getNorthEast();return new J(new F(l.lat-i,l.lng-o),new F(s.lat-i,s.lng-o))}},U=i({},_,{wrapLng:[-180,180],R:6371e3,distance:function(t,n){var e=Math.PI/180,i=t.lat*e,o=n.lat*e,l=Math.sin((n.lat-t.lat)*e/2),s=Math.sin((n.lng-t.lng)*e/2),r=l*l+Math.cos(i)*Math.cos(o)*s*s,a=2*Math.atan2(Math.sqrt(r),Math.sqrt(1-r));return this.R*a}}),E=6378137,j={R:E,MAX_LATITUDE:85.0511287798,project:function(t){var n=Math.PI/180,e=this.MAX_LATITUDE,i=Math.max(Math.min(e,t.lat),-e),o=Math.sin(i*n);return new M(this.R*t.lng*n,this.R*Math.log((1+o)/(1-o))/2)},unproject:function(t){var n=180/Math.PI;return new F((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*n,t.x*n/this.R)},bounds:(B=E*Math.PI,new I([-B,-B],[B,B]))};function Q(t,n,e,i){if(X(t))return this._a=t[0],this._b=t[1],this._c=t[2],void(this._d=t[3]);this._a=t,this._b=n,this._c=e,this._d=i}function O(t,n,e,i){return new Q(t,n,e,i)}Q.prototype={transform:function(t,n){return this._transform(t.clone(),n)},_transform:function(t,n){return n=n||1,t.x=n*(this._a*t.x+this._b),t.y=n*(this._c*t.y+this._d),t},untransform:function(t,n){return n=n||1,new M((t.x/n-this._b)/this._a,(t.y/n-this._d)/this._c)}};var A=i({},U,{code:"EPSG:3857",projection:j,transformation:function(){var t=.5/(Math.PI*j.R);return O(t,.5,-t,.5)}()}),D=i({},A,{code:"EPSG:900913"});function q(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function $(t,n){var e,i,o,l,s,r,a="";for(e=0,o=t.length;e<o;e++){for(i=0,l=(s=t[e]).length;i<l;i++)a+=(i?"L":"M")+(r=s[i]).x+" "+r.y;a+=n?It.svg?"z":"x":""}return a||"M0 0"}var tt,nt=document.documentElement.style,et="ActiveXObject"in window,it=et&&!document.addEventListener,ot="msLaunchUri"in navigator&&!("documentMode"in document),lt=Pt("webkit"),st=Pt("android"),rt=Pt("android 2")||Pt("android 3"),at=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),dt=st&&Pt("Google")&&at<537&&!("AudioNode"in window),ct=!!window.opera,ut=!ot&&Pt("chrome"),pt=Pt("gecko")&&!lt&&!ct&&!et,ht=!ut&&Pt("safari"),mt=Pt("phantom"),bt="OTransition"in nt,yt=0===navigator.platform.indexOf("Win"),Zt=et&&"transition"in nt,Xt="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!rt,ft="MozPerspective"in nt,Gt=!window.L_DISABLE_3D&&(Zt||Xt||ft)&&!bt&&!mt,Wt="undefined"!=typeof orientation||Pt("mobile"),gt=Wt&&lt,vt=Wt&&Xt,Vt=!window.PointerEvent&&window.MSPointerEvent,xt=!(!window.PointerEvent&&!Vt),St="ontouchstart"in window||!!window.TouchEvent,Lt=!window.L_NO_TOUCH&&(St||xt),Rt=Wt&&ct,Kt=Wt&&pt,Ht=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Ct=function(){var t=!1;try{var n=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("testPassiveEventSupport",c,n),window.removeEventListener("testPassiveEventSupport",c,n)}catch(t){}return t}(),Yt=!!document.createElement("canvas").getContext,Tt=!(!document.createElementNS||!q("svg").createSVGRect),Mt=!!Tt&&((tt=document.createElement("div")).innerHTML="<svg/>","http://www.w3.org/2000/svg"===(tt.firstChild&&tt.firstChild.namespaceURI)),wt=!Tt&&function(){try{var t=document.createElement("div");t.innerHTML='<v:shape adj="1"/>';var e=t.firstChild;return e.style.behavior="url(#default#VML)",e&&"object"===n(e.adj)}catch(t){return!1}}();function Pt(t){return navigator.userAgent.toLowerCase().indexOf(t)>=0}var It={ie:et,ielt9:it,edge:ot,webkit:lt,android:st,android23:rt,androidStock:dt,opera:ct,chrome:ut,gecko:pt,safari:ht,phantom:mt,opera12:bt,win:yt,ie3d:Zt,webkit3d:Xt,gecko3d:ft,any3d:Gt,mobile:Wt,mobileWebkit:gt,mobileWebkit3d:vt,msPointer:Vt,pointer:xt,touch:Lt,touchNative:St,mobileOpera:Rt,mobileGecko:Kt,retina:Ht,passiveEvents:Ct,canvas:Yt,svg:Tt,vml:wt,inlineSvg:Mt},zt=It.msPointer?"MSPointerDown":"pointerdown",Jt=It.msPointer?"MSPointerMove":"pointermove",Nt=It.msPointer?"MSPointerUp":"pointerup",Ft=It.msPointer?"MSPointerCancel":"pointercancel",kt={touchstart:zt,touchmove:Jt,touchend:Nt,touchcancel:Ft},Bt={touchstart:$t,touchmove:qt,touchend:qt,touchcancel:qt},_t={},Ut=!1;function Et(t,n,e){return"touchstart"===n&&Dt(),Bt[n]?(e=Bt[n].bind(this,e),t.addEventListener(kt[n],e,!1),e):(console.warn("wrong event specified:",n),L.Util.falseFn)}function jt(t,n,e){kt[n]?t.removeEventListener(kt[n],e,!1):console.warn("wrong event specified:",n)}function Qt(t){_t[t.pointerId]=t}function Ot(t){_t[t.pointerId]&&(_t[t.pointerId]=t)}function At(t){delete _t[t.pointerId]}function Dt(){Ut||(document.addEventListener(zt,Qt,!0),document.addEventListener(Jt,Ot,!0),document.addEventListener(Nt,At,!0),document.addEventListener(Ft,At,!0),Ut=!0)}function qt(t,n){if(n.pointerType!==(n.MSPOINTER_TYPE_MOUSE||"mouse")){for(var e in n.touches=[],_t)n.touches.push(_t[e]);n.changedTouches=[n],t(n)}}function $t(t,n){n.MSPOINTER_TYPE_TOUCH&&n.pointerType===n.MSPOINTER_TYPE_TOUCH&&On(n),qt(t,n)}function tn(t){var n,e,i={};for(e in t)n=t[e],i[e]=n&&n.bind?n.bind(t):n;return t=i,i.type="dblclick",i.detail=2,i.isTrusted=!1,i._simulated=!0,i}var nn=200;function en(t,n){t.addEventListener("dblclick",n);var e,i=0;function o(t){if(1===t.detail){if("mouse"!==t.pointerType&&(!t.sourceCapabilities||t.sourceCapabilities.firesTouchEvents)){var o=Date.now();o-i<=nn?2==++e&&n(tn(t)):e=1,i=o}}else e=t.detail}return t.addEventListener("click",o),{dblclick:n,simDblclick:o}}function on(t,n){t.removeEventListener("dblclick",n.dblclick),t.removeEventListener("click",n.simDblclick)}var ln,sn,rn,an,dn,cn=Ln(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),un=Ln(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),pn="webkitTransition"===un||"OTransition"===un?un+"End":"transitionend";function hn(t){return"string"==typeof t?document.getElementById(t):t}function mn(t,n){var e=t.style[n]||t.currentStyle&&t.currentStyle[n];if((!e||"auto"===e)&&document.defaultView){var i=document.defaultView.getComputedStyle(t,null);e=i?i[n]:null}return"auto"===e?null:e}function bn(t,n,e){var i=document.createElement(t);return i.className=n||"",e&&e.appendChild(i),i}function yn(t){var n=t.parentNode;n&&n.removeChild(t)}function Zn(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function Xn(t){var n=t.parentNode;n&&n.lastChild!==t&&n.appendChild(t)}function fn(t){var n=t.parentNode;n&&n.firstChild!==t&&n.insertBefore(t,n.firstChild)}function Gn(t,n){if(void 0!==t.classList)return t.classList.contains(n);var e=Vn(t);return e.length>0&&new RegExp("(^|\\s)"+n+"(\\s|$)").test(e)}function Wn(t,n){if(void 0!==t.classList)for(var e=h(n),i=0,o=e.length;i<o;i++)t.classList.add(e[i]);else if(!Gn(t,n)){var l=Vn(t);vn(t,(l?l+" ":"")+n)}}function gn(t,n){void 0!==t.classList?t.classList.remove(n):vn(t,p((" "+Vn(t)+" ").replace(" "+n+" "," ")))}function vn(t,n){void 0===t.className.baseVal?t.className=n:t.className.baseVal=n}function Vn(t){return t.correspondingElement&&(t=t.correspondingElement),void 0===t.className.baseVal?t.className:t.className.baseVal}function xn(t,n){"opacity"in t.style?t.style.opacity=n:"filter"in t.style&&Sn(t,n)}function Sn(t,n){var e=!1,i="DXImageTransform.Microsoft.Alpha";try{e=t.filters.item(i)}catch(t){if(1===n)return}n=Math.round(100*n),e?(e.Enabled=100!==n,e.Opacity=n):t.style.filter+=" progid:"+i+"(opacity="+n+")"}function Ln(t){for(var n=document.documentElement.style,e=0;e<t.length;e++)if(t[e]in n)return t[e];return!1}function Rn(t,n,e){var i=n||new M(0,0);t.style[cn]=(It.ie3d?"translate("+i.x+"px,"+i.y+"px)":"translate3d("+i.x+"px,"+i.y+"px,0)")+(e?" scale("+e+")":"")}function Kn(t,n){t._leaflet_pos=n,It.any3d?Rn(t,n):(t.style.left=n.x+"px",t.style.top=n.y+"px")}function Hn(t){return t._leaflet_pos||new M(0,0)}if("onselectstart"in document)ln=function(){Jn(window,"selectstart",On)},sn=function(){Fn(window,"selectstart",On)};else{var Cn=Ln(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);ln=function(){if(Cn){var t=document.documentElement.style;rn=t[Cn],t[Cn]="none"}},sn=function(){Cn&&(document.documentElement.style[Cn]=rn,rn=void 0)}}function Yn(){Jn(window,"dragstart",On)}function Tn(){Fn(window,"dragstart",On)}function Mn(t){for(;-1===t.tabIndex;)t=t.parentNode;t.style&&(wn(),an=t,dn=t.style.outline,t.style.outline="none",Jn(window,"keydown",wn))}function wn(){an&&(an.style.outline=dn,an=void 0,dn=void 0,Fn(window,"keydown",wn))}function Pn(t){do{t=t.parentNode}while(!(t.offsetWidth&&t.offsetHeight||t===document.body));return t}function In(t){var n=t.getBoundingClientRect();return{x:n.width/t.offsetWidth||1,y:n.height/t.offsetHeight||1,boundingClientRect:n}}var zn={__proto__:null,TRANSFORM:cn,TRANSITION:un,TRANSITION_END:pn,get:hn,getStyle:mn,create:bn,remove:yn,empty:Zn,toFront:Xn,toBack:fn,hasClass:Gn,addClass:Wn,removeClass:gn,setClass:vn,getClass:Vn,setOpacity:xn,testProp:Ln,setTransform:Rn,setPosition:Kn,getPosition:Hn,get disableTextSelection(){return ln},get enableTextSelection(){return sn},disableImageDrag:Yn,enableImageDrag:Tn,preventOutline:Mn,restoreOutline:wn,getSizedParentNode:Pn,getScale:In};function Jn(t,e,i,o){if(e&&"object"===n(e))for(var l in e)_n(t,l,e[l],i);else for(var s=0,r=(e=h(e)).length;s<r;s++)_n(t,e[s],i,o);return this}var Nn="_leaflet_events";function Fn(t,e,i,o){if(1===arguments.length)kn(t),delete t[Nn];else if(e&&"object"===n(e))for(var l in e)Un(t,l,e[l],i);else if(e=h(e),2===arguments.length)kn(t,(function(t){return-1!==f(e,t)}));else for(var s=0,r=e.length;s<r;s++)Un(t,e[s],i,o);return this}function kn(t,n){for(var e in t[Nn]){var i=e.split(/\d/)[0];n&&!n(i)||Un(t,i,null,null,e)}}var Bn={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function _n(t,n,e,i){var o=n+r(e)+(i?"_"+r(i):"");if(t[Nn]&&t[Nn][o])return this;var l=function(n){return e.call(i||t,n||window.event)},s=l;!It.touchNative&&It.pointer&&0===n.indexOf("touch")?l=Et(t,n,l):It.touch&&"dblclick"===n?l=en(t,l):"addEventListener"in t?"touchstart"===n||"touchmove"===n||"wheel"===n||"mousewheel"===n?t.addEventListener(Bn[n]||n,l,!!It.passiveEvents&&{passive:!1}):"mouseenter"===n||"mouseleave"===n?(l=function(n){n=n||window.event,te(t,n)&&s(n)},t.addEventListener(Bn[n],l,!1)):t.addEventListener(n,s,!1):t.attachEvent("on"+n,l),t[Nn]=t[Nn]||{},t[Nn][o]=l}function Un(t,n,e,i,o){o=o||n+r(e)+(i?"_"+r(i):"");var l=t[Nn]&&t[Nn][o];if(!l)return this;!It.touchNative&&It.pointer&&0===n.indexOf("touch")?jt(t,n,l):It.touch&&"dblclick"===n?on(t,l):"removeEventListener"in t?t.removeEventListener(Bn[n]||n,l,!1):t.detachEvent("on"+n,l),t[Nn][o]=null}function En(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,this}function jn(t){return _n(t,"wheel",En),this}function Qn(t){return Jn(t,"mousedown touchstart dblclick contextmenu",En),t._leaflet_disable_click=!0,this}function On(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this}function An(t){return On(t),En(t),this}function Dn(t,n){if(!n)return new M(t.clientX,t.clientY);var e=In(n),i=e.boundingClientRect;return new M((t.clientX-i.left)/e.x-n.clientLeft,(t.clientY-i.top)/e.y-n.clientTop)}var qn=It.win&&It.chrome?2*window.devicePixelRatio:It.gecko?window.devicePixelRatio:1;function $n(t){return It.edge?t.wheelDeltaY/2:t.deltaY&&0===t.deltaMode?-t.deltaY/qn:t.deltaY&&1===t.deltaMode?20*-t.deltaY:t.deltaY&&2===t.deltaMode?60*-t.deltaY:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?20*-t.detail:t.detail?t.detail/-32765*60:0}function te(t,n){var e=n.relatedTarget;if(!e)return!0;try{for(;e&&e!==t;)e=e.parentNode}catch(t){return!1}return e!==t}var ne={__proto__:null,on:Jn,off:Fn,stopPropagation:En,disableScrollPropagation:jn,disableClickPropagation:Qn,preventDefault:On,stop:An,getMousePosition:Dn,getWheelDelta:$n,isExternalTarget:te,addListener:Jn,removeListener:Fn},ee=T.extend({run:function(t,n,e,i){this.stop(),this._el=t,this._inProgress=!0,this._duration=e||.25,this._easeOutPower=1/Math.max(i||.5,.2),this._startPos=Hn(t),this._offset=n.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=S(this._animate,this),this._step()},_step:function(t){var n=+new Date-this._startTime,e=1e3*this._duration;n<e?this._runFrame(this._easeOut(n/e),t):(this._runFrame(1),this._complete())},_runFrame:function(t,n){var e=this._startPos.add(this._offset.multiplyBy(t));n&&e._round(),Kn(this._el,e),this.fire("step")},_complete:function(){R(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),ie=T.extend({options:{crs:A,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(t,n){n=m(this,n),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(t),this._initLayout(),this._onResize=l(this._onResize,this),this._initEvents(),n.maxBounds&&this.setMaxBounds(n.maxBounds),void 0!==n.zoom&&(this._zoom=this._limitZoom(n.zoom)),n.center&&void 0!==n.zoom&&this.setView(k(n.center),n.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=un&&It.any3d&&!It.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Jn(this._proxy,pn,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(t,n,e){return n=void 0===n?this._zoom:this._limitZoom(n),t=this._limitCenter(k(t),n,this.options.maxBounds),e=e||{},this._stop(),this._loaded&&!e.reset&&!0!==e&&(void 0!==e.animate&&(e.zoom=i({animate:e.animate},e.zoom),e.pan=i({animate:e.animate,duration:e.duration},e.pan)),this._zoom!==n?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,n,e.zoom):this._tryAnimatedPan(t,e.pan))?(clearTimeout(this._sizeTimer),this):(this._resetView(t,n),this)},setZoom:function(t,n){return this._loaded?this.setView(this.getCenter(),t,{zoom:n}):(this._zoom=t,this)},zoomIn:function(t,n){return t=t||(It.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+t,n)},zoomOut:function(t,n){return t=t||(It.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-t,n)},setZoomAround:function(t,n,e){var i=this.getZoomScale(n),o=this.getSize().divideBy(2),l=(t instanceof M?t:this.latLngToContainerPoint(t)).subtract(o).multiplyBy(1-1/i),s=this.containerPointToLatLng(o.add(l));return this.setView(s,n,{zoom:e})},_getBoundsCenterZoom:function(t,n){n=n||{},t=t.getBounds?t.getBounds():N(t);var e=P(n.paddingTopLeft||n.padding||[0,0]),i=P(n.paddingBottomRight||n.padding||[0,0]),o=this.getBoundsZoom(t,!1,e.add(i));if((o="number"==typeof n.maxZoom?Math.min(n.maxZoom,o):o)===1/0)return{center:t.getCenter(),zoom:o};var l=i.subtract(e).divideBy(2),s=this.project(t.getSouthWest(),o),r=this.project(t.getNorthEast(),o);return{center:this.unproject(s.add(r).divideBy(2).add(l),o),zoom:o}},fitBounds:function(t,n){if(!(t=N(t)).isValid())throw new Error("Bounds are not valid.");var e=this._getBoundsCenterZoom(t,n);return this.setView(e.center,e.zoom,n)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,n){return this.setView(t,this._zoom,{pan:n})},panBy:function(t,n){if(n=n||{},!(t=P(t).round()).x&&!t.y)return this.fire("moveend");if(!0!==n.animate&&!this.getSize().contains(t))return this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new ee,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),n.noMoveStart||this.fire("movestart"),!1!==n.animate){Wn(this._mapPane,"leaflet-pan-anim");var e=this._getMapPanePos().subtract(t).round();this._panAnim.run(this._mapPane,e,n.duration||.25,n.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},flyTo:function(t,n,e){if(!1===(e=e||{}).animate||!It.any3d)return this.setView(t,n,e);this._stop();var i=this.project(this.getCenter()),o=this.project(t),l=this.getSize(),s=this._zoom;t=k(t),n=void 0===n?s:n;var r=Math.max(l.x,l.y),a=r*this.getZoomScale(s,n),d=o.distanceTo(i)||1,c=1.42,u=c*c;function p(t){var n=(a*a-r*r+(t?-1:1)*u*u*d*d)/(2*(t?a:r)*u*d),e=Math.sqrt(n*n+1)-n;return e<1e-9?-18:Math.log(e)}function h(t){return(Math.exp(t)-Math.exp(-t))/2}function m(t){return(Math.exp(t)+Math.exp(-t))/2}function b(t){return h(t)/m(t)}var y=p(0);function Z(t){return r*(m(y)/m(y+c*t))}function X(t){return r*(m(y)*b(y+c*t)-h(y))/u}function f(t){return 1-Math.pow(1-t,1.5)}var G=Date.now(),W=(p(1)-y)/c,g=e.duration?1e3*e.duration:1e3*W*.8;function v(){var e=(Date.now()-G)/g,l=f(e)*W;e<=1?(this._flyToFrame=S(v,this),this._move(this.unproject(i.add(o.subtract(i).multiplyBy(X(l)/d)),s),this.getScaleZoom(r/Z(l),s),{flyTo:!0})):this._move(t,n)._moveEnd(!0)}return this._moveStart(!0,e.noMoveStart),v.call(this),this},flyToBounds:function(t,n){var e=this._getBoundsCenterZoom(t,n);return this.flyTo(e.center,e.zoom,n)},setMaxBounds:function(t){return(t=N(t)).isValid()?(this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this.options.maxBounds=t,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this.off("moveend",this._panInsideMaxBounds))},setMinZoom:function(t){var n=this.options.minZoom;return this.options.minZoom=t,this._loaded&&n!==t&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(t):this},setMaxZoom:function(t){var n=this.options.maxZoom;return this.options.maxZoom=t,this._loaded&&n!==t&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(t):this},panInsideBounds:function(t,n){this._enforcingBounds=!0;var e=this.getCenter(),i=this._limitCenter(e,this._zoom,N(t));return e.equals(i)||this.panTo(i,n),this._enforcingBounds=!1,this},panInside:function(t,n){var e=P((n=n||{}).paddingTopLeft||n.padding||[0,0]),i=P(n.paddingBottomRight||n.padding||[0,0]),o=this.project(this.getCenter()),l=this.project(t),s=this.getPixelBounds(),r=z([s.min.add(e),s.max.subtract(i)]),a=r.getSize();if(!r.contains(l)){this._enforcingBounds=!0;var d=l.subtract(r.getCenter()),c=r.extend(l).getSize().subtract(a);o.x+=d.x<0?-c.x:c.x,o.y+=d.y<0?-c.y:c.y,this.panTo(this.unproject(o),n),this._enforcingBounds=!1}return this},invalidateSize:function(t){if(!this._loaded)return this;t=i({animate:!1,pan:!0},!0===t?{animate:!0}:t);var n=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var e=this.getSize(),o=n.divideBy(2).round(),s=e.divideBy(2).round(),r=o.subtract(s);return r.x||r.y?(t.animate&&t.pan?this.panBy(r):(t.pan&&this._rawPanBy(r),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(l(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:n,newSize:e})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(t){if(t=this._locateOptions=i({timeout:1e4,watch:!1},t),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var n=l(this._handleGeolocationResponse,this),e=l(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(n,e,t):navigator.geolocation.getCurrentPosition(n,e,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){if(this._container._leaflet_id){var n=t.code,e=t.message||(1===n?"permission denied":2===n?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:n,message:"Geolocation error: "+e+"."})}},_handleGeolocationResponse:function(t){if(this._container._leaflet_id){var n=new F(t.coords.latitude,t.coords.longitude),e=n.toBounds(2*t.coords.accuracy),i=this._locateOptions;if(i.setView){var o=this.getBoundsZoom(e);this.setView(n,i.maxZoom?Math.min(o,i.maxZoom):o)}var l={latlng:n,bounds:e,timestamp:t.timestamp};for(var s in t.coords)"number"==typeof t.coords[s]&&(l[s]=t.coords[s]);this.fire("locationfound",l)}},addHandler:function(t,n){if(!n)return this;var e=this[t]=new n(this);return this._handlers.push(e),this.options[t]&&e.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch(t){this._container._leaflet_id=void 0,this._containerId=void 0}var t;for(t in void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),yn(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(R(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload"),this._layers)this._layers[t].remove();for(t in this._panes)yn(this._panes[t]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(t,n){var e=bn("div","leaflet-pane"+(t?" leaflet-"+t.replace("Pane","")+"-pane":""),n||this._mapPane);return t&&(this._panes[t]=e),e},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds();return new J(this.unproject(t.getBottomLeft()),this.unproject(t.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,n,e){t=N(t),e=P(e||[0,0]);var i=this.getZoom()||0,o=this.getMinZoom(),l=this.getMaxZoom(),s=t.getNorthWest(),r=t.getSouthEast(),a=this.getSize().subtract(e),d=z(this.project(r,i),this.project(s,i)).getSize(),c=It.any3d?this.options.zoomSnap:1,u=a.x/d.x,p=a.y/d.y,h=n?Math.max(u,p):Math.min(u,p);return i=this.getScaleZoom(h,i),c&&(i=Math.round(i/(c/100))*(c/100),i=n?Math.ceil(i/c)*c:Math.floor(i/c)*c),Math.max(o,Math.min(l,i))},getSize:function(){return this._size&&!this._sizeChanged||(this._size=new M(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(t,n){var e=this._getTopLeftPoint(t,n);return new I(e,e.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(void 0===t?this.getZoom():t)},getPane:function(t){return"string"==typeof t?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,n){var e=this.options.crs;return n=void 0===n?this._zoom:n,e.scale(t)/e.scale(n)},getScaleZoom:function(t,n){var e=this.options.crs;n=void 0===n?this._zoom:n;var i=e.zoom(t*e.scale(n));return isNaN(i)?1/0:i},project:function(t,n){return n=void 0===n?this._zoom:n,this.options.crs.latLngToPoint(k(t),n)},unproject:function(t,n){return n=void 0===n?this._zoom:n,this.options.crs.pointToLatLng(P(t),n)},layerPointToLatLng:function(t){var n=P(t).add(this.getPixelOrigin());return this.unproject(n)},latLngToLayerPoint:function(t){return this.project(k(t))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng(k(t))},wrapLatLngBounds:function(t){return this.options.crs.wrapLatLngBounds(N(t))},distance:function(t,n){return this.options.crs.distance(k(t),k(n))},containerPointToLayerPoint:function(t){return P(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return P(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var n=this.containerPointToLayerPoint(P(t));return this.layerPointToLatLng(n)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(k(t)))},mouseEventToContainerPoint:function(t){return Dn(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var n=this._container=hn(t);if(!n)throw new Error("Map container not found.");if(n._leaflet_id)throw new Error("Map container is already initialized.");Jn(n,"scroll",this._onScroll,this),this._containerId=r(n)},_initLayout:function(){var t=this._container;this._fadeAnimated=this.options.fadeAnimation&&It.any3d,Wn(t,"leaflet-container"+(It.touch?" leaflet-touch":"")+(It.retina?" leaflet-retina":"")+(It.ielt9?" leaflet-oldie":"")+(It.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var n=mn(t,"position");"absolute"!==n&&"relative"!==n&&"fixed"!==n&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Kn(this._mapPane,new M(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Wn(t.markerPane,"leaflet-zoom-hide"),Wn(t.shadowPane,"leaflet-zoom-hide"))},_resetView:function(t,n){Kn(this._mapPane,new M(0,0));var e=!this._loaded;this._loaded=!0,n=this._limitZoom(n),this.fire("viewprereset");var i=this._zoom!==n;this._moveStart(i,!1)._move(t,n)._moveEnd(i),this.fire("viewreset"),e&&this.fire("load")},_moveStart:function(t,n){return t&&this.fire("zoomstart"),n||this.fire("movestart"),this},_move:function(t,n,e,i){void 0===n&&(n=this._zoom);var o=this._zoom!==n;return this._zoom=n,this._lastCenter=t,this._pixelOrigin=this._getNewPixelOrigin(t),i?e&&e.pinch&&this.fire("zoom",e):((o||e&&e.pinch)&&this.fire("zoom",e),this.fire("move",e)),this},_moveEnd:function(t){return t&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return R(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(t){Kn(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(t){this._targets={},this._targets[r(this._container)]=this;var n=t?Fn:Jn;n(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&n(window,"resize",this._onResize,this),It.any3d&&this.options.transform3DLimit&&(t?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){R(this._resizeRequest),this._resizeRequest=S((function(){this.invalidateSize({debounceMoveend:!0})}),this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(t,n){for(var e,i=[],o="mouseout"===n||"mouseover"===n,l=t.target||t.srcElement,s=!1;l;){if((e=this._targets[r(l)])&&("click"===n||"preclick"===n)&&this._draggableMoved(e)){s=!0;break}if(e&&e.listens(n,!0)){if(o&&!te(l,t))break;if(i.push(e),o)break}if(l===this._container)break;l=l.parentNode}return i.length||s||o||!this.listens(n,!0)||(i=[this]),i},_isClickDisabled:function(t){for(;t!==this._container;){if(t._leaflet_disable_click)return!0;t=t.parentNode}},_handleDOMEvent:function(t){var n=t.target||t.srcElement;if(!(!this._loaded||n._leaflet_disable_events||"click"===t.type&&this._isClickDisabled(n))){var e=t.type;"mousedown"===e&&Mn(n),this._fireDOMEvent(t,e)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(t,n,e){if("click"===t.type){var o=i({},t);o.type="preclick",this._fireDOMEvent(o,o.type,e)}var l=this._findEventTargets(t,n);if(e){for(var s=[],r=0;r<e.length;r++)e[r].listens(n,!0)&&s.push(e[r]);l=s.concat(l)}if(l.length){"contextmenu"===n&&On(t);var a=l[0],d={originalEvent:t};if("keypress"!==t.type&&"keydown"!==t.type&&"keyup"!==t.type){var c=a.getLatLng&&(!a._radius||a._radius<=10);d.containerPoint=c?this.latLngToContainerPoint(a.getLatLng()):this.mouseEventToContainerPoint(t),d.layerPoint=this.containerPointToLayerPoint(d.containerPoint),d.latlng=c?a.getLatLng():this.layerPointToLatLng(d.layerPoint)}for(r=0;r<l.length;r++)if(l[r].fire(n,d,!0),d.originalEvent._stopped||!1===l[r].options.bubblingMouseEvents&&-1!==f(this._mouseEvents,n))return}},_draggableMoved:function(t){return(t=t.dragging&&t.dragging.enabled()?t:this).dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,n=this._handlers.length;t<n;t++)this._handlers[t].disable()},whenReady:function(t,n){return this._loaded?t.call(n||this,{target:this}):this.on("load",t,n),this},_getMapPanePos:function(){return Hn(this._mapPane)||new M(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,n){return(t&&void 0!==n?this._getNewPixelOrigin(t,n):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,n){var e=this.getSize()._divideBy(2);return this.project(t,n)._subtract(e)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,n,e){var i=this._getNewPixelOrigin(e,n);return this.project(t,n)._subtract(i)},_latLngBoundsToNewLayerBounds:function(t,n,e){var i=this._getNewPixelOrigin(e,n);return z([this.project(t.getSouthWest(),n)._subtract(i),this.project(t.getNorthWest(),n)._subtract(i),this.project(t.getSouthEast(),n)._subtract(i),this.project(t.getNorthEast(),n)._subtract(i)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,n,e){if(!e)return t;var i=this.project(t,n),o=this.getSize().divideBy(2),l=new I(i.subtract(o),i.add(o)),s=this._getBoundsOffset(l,e,n);return s.round().equals([0,0])?t:this.unproject(i.add(s),n)},_limitOffset:function(t,n){if(!n)return t;var e=this.getPixelBounds(),i=new I(e.min.add(t),e.max.add(t));return t.add(this._getBoundsOffset(i,n))},_getBoundsOffset:function(t,n,e){var i=z(this.project(n.getNorthEast(),e),this.project(n.getSouthWest(),e)),o=i.min.subtract(t.min),l=i.max.subtract(t.max);return new M(this._rebound(o.x,-l.x),this._rebound(o.y,-l.y))},_rebound:function(t,n){return t+n>0?Math.round(t-n)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(n))},_limitZoom:function(t){var n=this.getMinZoom(),e=this.getMaxZoom(),i=It.any3d?this.options.zoomSnap:1;return i&&(t=Math.round(t/i)*i),Math.max(n,Math.min(e,t))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){gn(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,n){var e=this._getCenterOffset(t)._trunc();return!(!0!==(n&&n.animate)&&!this.getSize().contains(e)||(this.panBy(e,n),0))},_createAnimProxy:function(){var t=this._proxy=bn("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(t),this.on("zoomanim",(function(t){var n=cn,e=this._proxy.style[n];Rn(this._proxy,this.project(t.center,t.zoom),this.getZoomScale(t.zoom,1)),e===this._proxy.style[n]&&this._animatingZoom&&this._onZoomTransitionEnd()}),this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){yn(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var t=this.getCenter(),n=this.getZoom();Rn(this._proxy,this.project(t,n),this.getZoomScale(n,1))},_catchTransitionEnd:function(t){this._animatingZoom&&t.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,n,e){if(this._animatingZoom)return!0;if(e=e||{},!this._zoomAnimated||!1===e.animate||this._nothingToAnimate()||Math.abs(n-this._zoom)>this.options.zoomAnimationThreshold)return!1;var i=this.getZoomScale(n),o=this._getCenterOffset(t)._divideBy(1-1/i);return!(!0!==e.animate&&!this.getSize().contains(o)||(S((function(){this._moveStart(!0,!1)._animateZoom(t,n,!0)}),this),0))},_animateZoom:function(t,n,e,i){this._mapPane&&(e&&(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=n,Wn(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:t,zoom:n,noUpdate:i}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(l(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&gn(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function oe(t,n){return new ie(t,n)}var le=H.extend({options:{position:"topright"},initialize:function(t){m(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var n=this._map;return n&&n.removeControl(this),this.options.position=t,n&&n.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this.remove(),this._map=t;var n=this._container=this.onAdd(t),e=this.getPosition(),i=t._controlCorners[e];return Wn(n,"leaflet-control"),-1!==e.indexOf("bottom")?i.insertBefore(n,i.firstChild):i.appendChild(n),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(yn(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(t){this._map&&t&&t.screenX>0&&t.screenY>0&&this._map.getContainer().focus()}}),se=function(t){return new le(t)};ie.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(),this},_initControlPos:function(){var t=this._controlCorners={},n="leaflet-",e=this._controlContainer=bn("div",n+"control-container",this._container);function i(i,o){var l=n+i+" "+n+o;t[i+o]=bn("div",l,e)}i("top","left"),i("top","right"),i("bottom","left"),i("bottom","right")},_clearControlPos:function(){for(var t in this._controlCorners)yn(this._controlCorners[t]);yn(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var re=le.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(t,n,e,i){return e<i?-1:i<e?1:0}},initialize:function(t,n,e){for(var i in m(this,e),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,t)this._addLayer(t[i],i);for(i in n)this._addLayer(n[i],i,!0)},onAdd:function(t){this._initLayout(),this._update(),this._map=t,t.on("zoomend",this._checkDisabledLayers,this);for(var n=0;n<this._layers.length;n++)this._layers[n].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(t){return le.prototype.addTo.call(this,t),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(t,n){return this._addLayer(t,n),this._map?this._update():this},addOverlay:function(t,n){return this._addLayer(t,n,!0),this._map?this._update():this},removeLayer:function(t){t.off("add remove",this._onLayerChange,this);var n=this._getLayer(r(t));return n&&this._layers.splice(this._layers.indexOf(n),1),this._map?this._update():this},expand:function(){Wn(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);return t<this._section.clientHeight?(Wn(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=t+"px"):gn(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return gn(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var t="leaflet-control-layers",n=this._container=bn("div",t),e=this.options.collapsed;n.setAttribute("aria-haspopup",!0),Qn(n),jn(n);var i=this._section=bn("section",t+"-list");e&&(this._map.on("click",this.collapse,this),Jn(n,{mouseenter:function(){Jn(i,"click",On),this.expand(),setTimeout((function(){Fn(i,"click",On)}))},mouseleave:this.collapse},this));var o=this._layersLink=bn("a",t+"-toggle",n);o.href="#",o.title="Layers",o.setAttribute("role","button"),Jn(o,"click",On),Jn(o,"focus",this.expand,this),e||this.expand(),this._baseLayersList=bn("div",t+"-base",i),this._separator=bn("div",t+"-separator",i),this._overlaysList=bn("div",t+"-overlays",i),n.appendChild(i)},_getLayer:function(t){for(var n=0;n<this._layers.length;n++)if(this._layers[n]&&r(this._layers[n].layer)===t)return this._layers[n]},_addLayer:function(t,n,e){this._map&&t.on("add remove",this._onLayerChange,this),this._layers.push({layer:t,name:n,overlay:e}),this.options.sortLayers&&this._layers.sort(l((function(t,n){return this.options.sortFunction(t.layer,n.layer,t.name,n.name)}),this)),this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Zn(this._baseLayersList),Zn(this._overlaysList),this._layerControlInputs=[];var t,n,e,i,o=0;for(e=0;e<this._layers.length;e++)i=this._layers[e],this._addItem(i),n=n||i.overlay,t=t||!i.overlay,o+=i.overlay?0:1;return this.options.hideSingleBase&&(t=t&&o>1,this._baseLayersList.style.display=t?"":"none"),this._separator.style.display=n&&t?"":"none",this},_onLayerChange:function(t){this._handlingClick||this._update();var n=this._getLayer(r(t.target)),e=n.overlay?"add"===t.type?"overlayadd":"overlayremove":"add"===t.type?"baselayerchange":null;e&&this._map.fire(e,n)},_createRadioElement:function(t,n){var e='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(n?' checked="checked"':"")+"/>",i=document.createElement("div");return i.innerHTML=e,i.firstChild},_addItem:function(t){var n,e=document.createElement("label"),i=this._map.hasLayer(t.layer);t.overlay?((n=document.createElement("input")).type="checkbox",n.className="leaflet-control-layers-selector",n.defaultChecked=i):n=this._createRadioElement("leaflet-base-layers_"+r(this),i),this._layerControlInputs.push(n),n.layerId=r(t.layer),Jn(n,"click",this._onInputClick,this);var o=document.createElement("span");o.innerHTML=" "+t.name;var l=document.createElement("span");return e.appendChild(l),l.appendChild(n),l.appendChild(o),(t.overlay?this._overlaysList:this._baseLayersList).appendChild(e),this._checkDisabledLayers(),e},_onInputClick:function(){var t,n,e=this._layerControlInputs,i=[],o=[];this._handlingClick=!0;for(var l=e.length-1;l>=0;l--)t=e[l],n=this._getLayer(t.layerId).layer,t.checked?i.push(n):t.checked||o.push(n);for(l=0;l<o.length;l++)this._map.hasLayer(o[l])&&this._map.removeLayer(o[l]);for(l=0;l<i.length;l++)this._map.hasLayer(i[l])||this._map.addLayer(i[l]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var t,n,e=this._layerControlInputs,i=this._map.getZoom(),o=e.length-1;o>=0;o--)t=e[o],n=this._getLayer(t.layerId).layer,t.disabled=void 0!==n.options.minZoom&&i<n.options.minZoom||void 0!==n.options.maxZoom&&i>n.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this}}),ae=function(t,n,e){return new re(t,n,e)},de=le.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(t){var n="leaflet-control-zoom",e=bn("div",n+" leaflet-bar"),i=this.options;return this._zoomInButton=this._createButton(i.zoomInText,i.zoomInTitle,n+"-in",e,this._zoomIn),this._zoomOutButton=this._createButton(i.zoomOutText,i.zoomOutTitle,n+"-out",e,this._zoomOut),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),e},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(t){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))},_zoomOut:function(t){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))},_createButton:function(t,n,e,i,o){var l=bn("a",e,i);return l.innerHTML=t,l.href="#",l.title=n,l.setAttribute("role","button"),l.setAttribute("aria-label",n),Qn(l),Jn(l,"click",An),Jn(l,"click",o,this),Jn(l,"click",this._refocusOnMap,this),l},_updateDisabled:function(){var t=this._map,n="leaflet-disabled";gn(this._zoomInButton,n),gn(this._zoomOutButton,n),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||t._zoom===t.getMinZoom())&&(Wn(this._zoomOutButton,n),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||t._zoom===t.getMaxZoom())&&(Wn(this._zoomInButton,n),this._zoomInButton.setAttribute("aria-disabled","true"))}});ie.mergeOptions({zoomControl:!0}),ie.addInitHook((function(){this.options.zoomControl&&(this.zoomControl=new de,this.addControl(this.zoomControl))}));var ce=function(t){return new de(t)},ue=le.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(t){var n="leaflet-control-scale",e=bn("div",n),i=this.options;return this._addScales(i,n+"-line",e),t.on(i.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),e},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,n,e){t.metric&&(this._mScale=bn("div",n,e)),t.imperial&&(this._iScale=bn("div",n,e))},_update:function(){var t=this._map,n=t.getSize().y/2,e=t.distance(t.containerPointToLatLng([0,n]),t.containerPointToLatLng([this.options.maxWidth,n]));this._updateScales(e)},_updateScales:function(t){this.options.metric&&t&&this._updateMetric(t),this.options.imperial&&t&&this._updateImperial(t)},_updateMetric:function(t){var n=this._getRoundNum(t),e=n<1e3?n+" m":n/1e3+" km";this._updateScale(this._mScale,e,n/t)},_updateImperial:function(t){var n,e,i,o=3.2808399*t;o>5280?(n=o/5280,e=this._getRoundNum(n),this._updateScale(this._iScale,e+" mi",e/n)):(i=this._getRoundNum(o),this._updateScale(this._iScale,i+" ft",i/o))},_updateScale:function(t,n,e){t.style.width=Math.round(this.options.maxWidth*e)+"px",t.innerHTML=n},_getRoundNum:function(t){var n=Math.pow(10,(Math.floor(t)+"").length-1),e=t/n;return n*(e=e>=10?10:e>=5?5:e>=3?3:e>=2?2:1)}}),pe=function(t){return new ue(t)},he='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',me=le.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(It.inlineSvg?he+" ":"")+"Leaflet</a>"},initialize:function(t){m(this,t),this._attributions={}},onAdd:function(t){for(var n in t.attributionControl=this,this._container=bn("div","leaflet-control-attribution"),Qn(this._container),t._layers)t._layers[n].getAttribution&&this.addAttribution(t._layers[n].getAttribution());return this._update(),t.on("layeradd",this._addAttribution,this),this._container},onRemove:function(t){t.off("layeradd",this._addAttribution,this)},_addAttribution:function(t){t.layer.getAttribution&&(this.addAttribution(t.layer.getAttribution()),t.layer.once("remove",(function(){this.removeAttribution(t.layer.getAttribution())}),this))},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t?(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this):this},removeAttribution:function(t){return t?(this._attributions[t]&&(this._attributions[t]--,this._update()),this):this},_update:function(){if(this._map){var t=[];for(var n in this._attributions)this._attributions[n]&&t.push(n);var e=[];this.options.prefix&&e.push(this.options.prefix),t.length&&e.push(t.join(", ")),this._container.innerHTML=e.join(' <span aria-hidden="true">|</span> ')}}});ie.mergeOptions({attributionControl:!0}),ie.addInitHook((function(){this.options.attributionControl&&(new me).addTo(this)}));var be=function(t){return new me(t)};le.Layers=re,le.Zoom=de,le.Scale=ue,le.Attribution=me,se.layers=ae,se.zoom=ce,se.scale=pe,se.attribution=be;var ye=H.extend({initialize:function(t){this._map=t},enable:function(){return this._enabled||(this._enabled=!0,this.addHooks()),this},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});ye.addTo=function(t,n){return t.addHandler(n,this),this};var Ze,Xe={Events:Y},fe=It.touch?"touchstart mousedown":"mousedown",Ge=T.extend({options:{clickTolerance:3},initialize:function(t,n,e,i){m(this,i),this._element=t,this._dragStartTarget=n||t,this._preventOutline=e},enable:function(){this._enabled||(Jn(this._dragStartTarget,fe,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Ge._dragging===this&&this.finishDrag(!0),Fn(this._dragStartTarget,fe,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){if(this._enabled&&(this._moved=!1,!Gn(this._element,"leaflet-zoom-anim")))if(t.touches&&1!==t.touches.length)Ge._dragging===this&&this.finishDrag();else if(!(Ge._dragging||t.shiftKey||1!==t.which&&1!==t.button&&!t.touches||(Ge._dragging=this,this._preventOutline&&Mn(this._element),Yn(),ln(),this._moving))){this.fire("down");var n=t.touches?t.touches[0]:t,e=Pn(this._element);this._startPoint=new M(n.clientX,n.clientY),this._startPos=Hn(this._element),this._parentScale=In(e);var i="mousedown"===t.type;Jn(document,i?"mousemove":"touchmove",this._onMove,this),Jn(document,i?"mouseup":"touchend touchcancel",this._onUp,this)}},_onMove:function(t){if(this._enabled)if(t.touches&&t.touches.length>1)this._moved=!0;else{var n=t.touches&&1===t.touches.length?t.touches[0]:t,e=new M(n.clientX,n.clientY)._subtract(this._startPoint);(e.x||e.y)&&(Math.abs(e.x)+Math.abs(e.y)<this.options.clickTolerance||(e.x/=this._parentScale.x,e.y/=this._parentScale.y,On(t),this._moved||(this.fire("dragstart"),this._moved=!0,Wn(document.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Wn(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(e),this._moving=!0,this._lastEvent=t,this._updatePosition()))}},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t),Kn(this._element,this._newPos),this.fire("drag",t)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(t){gn(document.body,"leaflet-dragging"),this._lastTarget&&(gn(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Fn(document,"mousemove touchmove",this._onMove,this),Fn(document,"mouseup touchend touchcancel",this._onUp,this),Tn(),sn(),this._moved&&this._moving&&this.fire("dragend",{noInertia:t,distance:this._newPos.distanceTo(this._startPos)}),this._moving=!1,Ge._dragging=!1}});function We(t,n){if(!n||!t.length)return t.slice();var e=n*n;return t=Ve(t=Se(t,e),e)}function ge(t,n,e){return Math.sqrt(Ce(t,n,e,!0))}function ve(t,n,e){return Ce(t,n,e)}function Ve(t,e){var i=t.length,o=new(("undefined"==typeof Uint8Array?"undefined":n(Uint8Array))!==void 0+""?Uint8Array:Array)(i);o[0]=o[i-1]=1,xe(t,o,e,0,i-1);var l,s=[];for(l=0;l<i;l++)o[l]&&s.push(t[l]);return s}function xe(t,n,e,i,o){var l,s,r,a=0;for(s=i+1;s<=o-1;s++)(r=Ce(t[s],t[i],t[o],!0))>a&&(l=s,a=r);a>e&&(n[l]=1,xe(t,n,e,i,l),xe(t,n,e,l,o))}function Se(t,n){for(var e=[t[0]],i=1,o=0,l=t.length;i<l;i++)He(t[i],t[o])>n&&(e.push(t[i]),o=i);return o<l-1&&e.push(t[l-1]),e}function Le(t,n,e,i,o){var l,s,r,a=i?Ze:Ke(t,e),d=Ke(n,e);for(Ze=d;;){if(!(a|d))return[t,n];if(a&d)return!1;r=Ke(s=Re(t,n,l=a||d,e,o),e),l===a?(t=s,a=r):(n=s,d=r)}}function Re(t,n,e,i,o){var l,s,r=n.x-t.x,a=n.y-t.y,d=i.min,c=i.max;return 8&e?(l=t.x+r*(c.y-t.y)/a,s=c.y):4&e?(l=t.x+r*(d.y-t.y)/a,s=d.y):2&e?(l=c.x,s=t.y+a*(c.x-t.x)/r):1&e&&(l=d.x,s=t.y+a*(d.x-t.x)/r),new M(l,s,o)}function Ke(t,n){var e=0;return t.x<n.min.x?e|=1:t.x>n.max.x&&(e|=2),t.y<n.min.y?e|=4:t.y>n.max.y&&(e|=8),e}function He(t,n){var e=n.x-t.x,i=n.y-t.y;return e*e+i*i}function Ce(t,n,e,i){var o,l=n.x,s=n.y,r=e.x-l,a=e.y-s,d=r*r+a*a;return d>0&&((o=((t.x-l)*r+(t.y-s)*a)/d)>1?(l=e.x,s=e.y):o>0&&(l+=r*o,s+=a*o)),r=t.x-l,a=t.y-s,i?r*r+a*a:new M(l,s)}function Ye(t){return!X(t[0])||"object"!==n(t[0][0])&&void 0!==t[0][0]}function Te(t){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Ye(t)}var Me={__proto__:null,simplify:We,pointToSegmentDistance:ge,closestPointOnSegment:ve,clipSegment:Le,_getEdgeIntersection:Re,_getBitCode:Ke,_sqClosestPointOnSegment:Ce,isFlat:Ye,_flat:Te};function we(t,n,e){var i,o,l,s,r,a,d,c,u,p=[1,4,2,8];for(o=0,d=t.length;o<d;o++)t[o]._code=Ke(t[o],n);for(s=0;s<4;s++){for(c=p[s],i=[],o=0,l=(d=t.length)-1;o<d;l=o++)r=t[o],a=t[l],r._code&c?a._code&c||((u=Re(a,r,c,n,e))._code=Ke(u,n),i.push(u)):(a._code&c&&((u=Re(a,r,c,n,e))._code=Ke(u,n),i.push(u)),i.push(r));t=i}return t}var Pe={__proto__:null,clipPolygon:we},Ie={project:function(t){return new M(t.lng,t.lat)},unproject:function(t){return new F(t.y,t.x)},bounds:new I([-180,-90],[180,90])},ze={R:6378137,R_MINOR:6356752.314245179,bounds:new I([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(t){var n=Math.PI/180,e=this.R,i=t.lat*n,o=this.R_MINOR/e,l=Math.sqrt(1-o*o),s=l*Math.sin(i),r=Math.tan(Math.PI/4-i/2)/Math.pow((1-s)/(1+s),l/2);return i=-e*Math.log(Math.max(r,1e-10)),new M(t.lng*n*e,i)},unproject:function(t){for(var n,e=180/Math.PI,i=this.R,o=this.R_MINOR/i,l=Math.sqrt(1-o*o),s=Math.exp(-t.y/i),r=Math.PI/2-2*Math.atan(s),a=0,d=.1;a<15&&Math.abs(d)>1e-7;a++)n=l*Math.sin(r),n=Math.pow((1-n)/(1+n),l/2),r+=d=Math.PI/2-2*Math.atan(s*n)-r;return new F(r*e,t.x*e/i)}},Je={__proto__:null,LonLat:Ie,Mercator:ze,SphericalMercator:j},Ne=i({},U,{code:"EPSG:3395",projection:ze,transformation:function(){var t=.5/(Math.PI*ze.R);return O(t,.5,-t,.5)}()}),Fe=i({},U,{code:"EPSG:4326",projection:Ie,transformation:O(1/180,1,-1/180,.5)}),ke=i({},_,{projection:Ie,transformation:O(1,0,-1,0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,n){var e=n.lng-t.lng,i=n.lat-t.lat;return Math.sqrt(e*e+i*i)},infinite:!0});_.Earth=U,_.EPSG3395=Ne,_.EPSG3857=A,_.EPSG900913=D,_.EPSG4326=Fe,_.Simple=ke;var Be=T.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(t){return t.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){return t&&t.removeLayer(this),this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){return this._map._targets[r(t)]=this,this},removeInteractiveTarget:function(t){return delete this._map._targets[r(t)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(t){var n=t.target;if(n.hasLayer(this)){if(this._map=n,this._zoomAnimated=n._zoomAnimated,this.getEvents){var e=this.getEvents();n.on(e,this),this.once("remove",(function(){n.off(e,this)}),this)}this.onAdd(n),this.fire("add"),n.fire("layeradd",{layer:this})}}});ie.include({addLayer:function(t){if(!t._layerAdd)throw new Error("The provided object is not a Layer.");var n=r(t);return this._layers[n]||(this._layers[n]=t,t._mapToAdd=this,t.beforeAdd&&t.beforeAdd(this),this.whenReady(t._layerAdd,t)),this},removeLayer:function(t){var n=r(t);return this._layers[n]?(this._loaded&&t.onRemove(this),delete this._layers[n],this._loaded&&(this.fire("layerremove",{layer:t}),t.fire("remove")),t._map=t._mapToAdd=null,this):this},hasLayer:function(t){return r(t)in this._layers},eachLayer:function(t,n){for(var e in this._layers)t.call(n,this._layers[e]);return this},_addLayers:function(t){for(var n=0,e=(t=t?X(t)?t:[t]:[]).length;n<e;n++)this.addLayer(t[n])},_addZoomLimit:function(t){isNaN(t.options.maxZoom)&&isNaN(t.options.minZoom)||(this._zoomBoundLayers[r(t)]=t,this._updateZoomLevels())},_removeZoomLimit:function(t){var n=r(t);this._zoomBoundLayers[n]&&(delete this._zoomBoundLayers[n],this._updateZoomLevels())},_updateZoomLevels:function(){var t=1/0,n=-1/0,e=this._getZoomSpan();for(var i in this._zoomBoundLayers){var o=this._zoomBoundLayers[i].options;t=void 0===o.minZoom?t:Math.min(t,o.minZoom),n=void 0===o.maxZoom?n:Math.max(n,o.maxZoom)}this._layersMaxZoom=n===-1/0?void 0:n,this._layersMinZoom=t===1/0?void 0:t,e!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var _e=Be.extend({initialize:function(t,n){var e,i;if(m(this,n),this._layers={},t)for(e=0,i=t.length;e<i;e++)this.addLayer(t[e])},addLayer:function(t){var n=this.getLayerId(t);return this._layers[n]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var n=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[n]&&this._map.removeLayer(this._layers[n]),delete this._layers[n],this},hasLayer:function(t){return("number"==typeof t?t:this.getLayerId(t))in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(t){var n,e,i=Array.prototype.slice.call(arguments,1);for(n in this._layers)(e=this._layers[n])[t]&&e[t].apply(e,i);return this},onAdd:function(t){this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t)},eachLayer:function(t,n){for(var e in this._layers)t.call(n,this._layers[e]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];return this.eachLayer(t.push,t),t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return r(t)}}),Ue=function(t,n){return new _e(t,n)},Ee=_e.extend({addLayer:function(t){return this.hasLayer(t)?this:(t.addEventParent(this),_e.prototype.addLayer.call(this,t),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),t.removeEventParent(this),_e.prototype.removeLayer.call(this,t),this.fire("layerremove",{layer:t})):this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new J;for(var n in this._layers){var e=this._layers[n];t.extend(e.getBounds?e.getBounds():e.getLatLng())}return t}}),je=function(t,n){return new Ee(t,n)},Qe=H.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(t){m(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,n){var e=this._getIconUrl(t);if(!e){if("icon"===t)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var i=this._createImg(e,n&&"IMG"===n.tagName?n:null);return this._setIconStyles(i,t),(this.options.crossOrigin||""===this.options.crossOrigin)&&(i.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),i},_setIconStyles:function(t,n){var e=this.options,i=e[n+"Size"];"number"==typeof i&&(i=[i,i]);var o=P(i),l=P("shadow"===n&&e.shadowAnchor||e.iconAnchor||o&&o.divideBy(2,!0));t.className="leaflet-marker-"+n+" "+(e.className||""),l&&(t.style.marginLeft=-l.x+"px",t.style.marginTop=-l.y+"px"),o&&(t.style.width=o.x+"px",t.style.height=o.y+"px")},_createImg:function(t,n){return(n=n||document.createElement("img")).src=t,n},_getIconUrl:function(t){return It.retina&&this.options[t+"RetinaUrl"]||this.options[t+"Url"]}});function Oe(t){return new Qe(t)}var Ae=Qe.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){return"string"!=typeof Ae.imagePath&&(Ae.imagePath=this._detectIconPath()),(this.options.imagePath||Ae.imagePath)+Qe.prototype._getIconUrl.call(this,t)},_stripUrl:function(t){var n=function(t,n,e){var i=n.exec(t);return i&&i[e]};return(t=n(t,/^url\((['"])?(.+)\1\)$/,2))&&n(t,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var t=bn("div","leaflet-default-icon-path",document.body),n=mn(t,"background-image")||mn(t,"backgroundImage");if(document.body.removeChild(t),n=this._stripUrl(n))return n;var e=document.querySelector('link[href$="leaflet.css"]');return e?e.href.substring(0,e.href.length-"leaflet.css".length-1):""}}),De=ye.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new Ge(t,t,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Wn(t,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&gn(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(t){var n=this._marker,e=n._map,i=this._marker.options.autoPanSpeed,o=this._marker.options.autoPanPadding,l=Hn(n._icon),s=e.getPixelBounds(),r=e.getPixelOrigin(),a=z(s.min._subtract(r).add(o),s.max._subtract(r).subtract(o));if(!a.contains(l)){var d=P((Math.max(a.max.x,l.x)-a.max.x)/(s.max.x-a.max.x)-(Math.min(a.min.x,l.x)-a.min.x)/(s.min.x-a.min.x),(Math.max(a.max.y,l.y)-a.max.y)/(s.max.y-a.max.y)-(Math.min(a.min.y,l.y)-a.min.y)/(s.min.y-a.min.y)).multiplyBy(i);e.panBy(d,{animate:!1}),this._draggable._newPos._add(d),this._draggable._startPos._add(d),Kn(n._icon,this._draggable._newPos),this._onDrag(t),this._panRequest=S(this._adjustPan.bind(this,t))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(t){this._marker.options.autoPan&&(R(this._panRequest),this._panRequest=S(this._adjustPan.bind(this,t)))},_onDrag:function(t){var n=this._marker,e=n._shadow,i=Hn(n._icon),o=n._map.layerPointToLatLng(i);e&&Kn(e,i),n._latlng=o,t.latlng=o,t.oldLatLng=this._oldLatLng,n.fire("move",t).fire("drag",t)},_onDragEnd:function(t){R(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",t)}}),qe=Be.extend({options:{icon:new Ae,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(t,n){m(this,n),this._latlng=k(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation,this._zoomAnimated&&t.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(t){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&t.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(t){var n=this._latlng;return this._latlng=k(t),this.update(),this.fire("move",{oldLatLng:n,latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update()},getIcon:function(){return this.options.icon},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}return this},_initIcon:function(){var t=this.options,n="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),e=t.icon.createIcon(this._icon),i=!1;e!==this._icon&&(this._icon&&this._removeIcon(),i=!0,t.title&&(e.title=t.title),"IMG"===e.tagName&&(e.alt=t.alt||"")),Wn(e,n),t.keyboard&&(e.tabIndex="0",e.setAttribute("role","button")),this._icon=e,t.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Jn(e,"focus",this._panOnFocus,this);var o=t.icon.createShadow(this._shadow),l=!1;o!==this._shadow&&(this._removeShadow(),l=!0),o&&(Wn(o,n),o.alt=""),this._shadow=o,t.opacity<1&&this._updateOpacity(),i&&this.getPane().appendChild(this._icon),this._initInteraction(),o&&l&&this.getPane(t.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Fn(this._icon,"focus",this._panOnFocus,this),yn(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&yn(this._shadow),this._shadow=null},_setPos:function(t){this._icon&&Kn(this._icon,t),this._shadow&&Kn(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon&&(this._icon.style.zIndex=this._zIndex+t)},_animateZoom:function(t){var n=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(n)},_initInteraction:function(){if(this.options.interactive&&(Wn(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),De)){var t=this.options.draggable;this.dragging&&(t=this.dragging.enabled(),this.dragging.disable()),this.dragging=new De(this),t&&this.dragging.enable()}},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var t=this.options.opacity;this._icon&&xn(this._icon,t),this._shadow&&xn(this._shadow,t)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var t=this._map;if(t){var n=this.options.icon.options,e=n.iconSize?P(n.iconSize):P(0,0),i=n.iconAnchor?P(n.iconAnchor):P(0,0);t.panInside(this._latlng,{paddingTopLeft:i,paddingBottomRight:e.subtract(i)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function $e(t,n){return new qe(t,n)}var ti=Be.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(t){this._renderer=t.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(t){return m(this,t),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&t&&Object.prototype.hasOwnProperty.call(t,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),ni=ti.extend({options:{fill:!0,radius:10},initialize:function(t,n){m(this,n),this._latlng=k(t),this._radius=this.options.radius},setLatLng:function(t){var n=this._latlng;return this._latlng=k(t),this.redraw(),this.fire("move",{oldLatLng:n,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var n=t&&t.radius||this._radius;return ti.prototype.setStyle.call(this,t),this.setRadius(n),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var t=this._radius,n=this._radiusY||t,e=this._clickTolerance(),i=[t+e,n+e];this._pxBounds=new I(this._point.subtract(i),this._point.add(i))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function ei(t,n){return new ni(t,n)}var ii=ni.extend({initialize:function(t,n,e){if("number"==typeof n&&(n=i({},e,{radius:n})),m(this,n),this._latlng=k(t),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(t){return this._mRadius=t,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new J(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:ti.prototype.setStyle,_project:function(){var t=this._latlng.lng,n=this._latlng.lat,e=this._map,i=e.options.crs;if(i.distance===U.distance){var o=Math.PI/180,l=this._mRadius/U.R/o,s=e.project([n+l,t]),r=e.project([n-l,t]),a=s.add(r).divideBy(2),d=e.unproject(a).lat,c=Math.acos((Math.cos(l*o)-Math.sin(n*o)*Math.sin(d*o))/(Math.cos(n*o)*Math.cos(d*o)))/o;(isNaN(c)||0===c)&&(c=l/Math.cos(Math.PI/180*n)),this._point=a.subtract(e.getPixelOrigin()),this._radius=isNaN(c)?0:a.x-e.project([d,t-c]).x,this._radiusY=a.y-s.y}else{var u=i.unproject(i.project(this._latlng).subtract([this._mRadius,0]));this._point=e.latLngToLayerPoint(this._latlng),this._radius=this._point.x-e.latLngToLayerPoint(u).x}this._updateBounds()}});function oi(t,n,e){return new ii(t,n,e)}var li=ti.extend({options:{smoothFactor:1,noClip:!1},initialize:function(t,n){m(this,n),this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._setLatLngs(t),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){for(var n,e,i=1/0,o=null,l=Ce,s=0,r=this._parts.length;s<r;s++)for(var a=this._parts[s],d=1,c=a.length;d<c;d++){var u=l(t,n=a[d-1],e=a[d],!0);u<i&&(i=u,o=l(t,n,e))}return o&&(o.distance=Math.sqrt(i)),o},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var t,n,e,i,o,l,s,r=this._rings[0],a=r.length;if(!a)return null;for(t=0,n=0;t<a-1;t++)n+=r[t].distanceTo(r[t+1])/2;if(0===n)return this._map.layerPointToLatLng(r[0]);for(t=0,i=0;t<a-1;t++)if(o=r[t],l=r[t+1],(i+=e=o.distanceTo(l))>n)return s=(i-n)/e,this._map.layerPointToLatLng([l.x-s*(l.x-o.x),l.y-s*(l.y-o.y)])},getBounds:function(){return this._bounds},addLatLng:function(t,n){return n=n||this._defaultShape(),t=k(t),n.push(t),this._bounds.extend(t),this.redraw()},_setLatLngs:function(t){this._bounds=new J,this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return Ye(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){for(var n=[],e=Ye(t),i=0,o=t.length;i<o;i++)e?(n[i]=k(t[i]),this._bounds.extend(n[i])):n[i]=this._convertLatLngs(t[i]);return n},_project:function(){var t=new I;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,t),this._bounds.isValid()&&t.isValid()&&(this._rawPxBounds=t,this._updateBounds())},_updateBounds:function(){var t=this._clickTolerance(),n=new M(t,t);this._rawPxBounds&&(this._pxBounds=new I([this._rawPxBounds.min.subtract(n),this._rawPxBounds.max.add(n)]))},_projectLatlngs:function(t,n,e){var i,o,l=t[0]instanceof F,s=t.length;if(l){for(o=[],i=0;i<s;i++)o[i]=this._map.latLngToLayerPoint(t[i]),e.extend(o[i]);n.push(o)}else for(i=0;i<s;i++)this._projectLatlngs(t[i],n,e)},_clipPoints:function(){var t=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(t))if(this.options.noClip)this._parts=this._rings;else{var n,e,i,o,l,s,r,a=this._parts;for(n=0,i=0,o=this._rings.length;n<o;n++)for(e=0,l=(r=this._rings[n]).length;e<l-1;e++)(s=Le(r[e],r[e+1],t,e,!0))&&(a[i]=a[i]||[],a[i].push(s[0]),s[1]===r[e+1]&&e!==l-2||(a[i].push(s[1]),i++))}},_simplifyPoints:function(){for(var t=this._parts,n=this.options.smoothFactor,e=0,i=t.length;e<i;e++)t[e]=We(t[e],n)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(t,n){var e,i,o,l,s,r,a=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(e=0,l=this._parts.length;e<l;e++)for(i=0,o=(s=(r=this._parts[e]).length)-1;i<s;o=i++)if((n||0!==i)&&ge(t,r[o],r[i])<=a)return!0;return!1}});function si(t,n){return new li(t,n)}li._flat=Te;var ri=li.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var t,n,e,i,o,l,s,r,a,d=this._rings[0],c=d.length;if(!c)return null;for(l=s=r=0,t=0,n=c-1;t<c;n=t++)e=d[t],i=d[n],o=e.y*i.x-i.y*e.x,s+=(e.x+i.x)*o,r+=(e.y+i.y)*o,l+=3*o;return a=0===l?d[0]:[s/l,r/l],this._map.layerPointToLatLng(a)},_convertLatLngs:function(t){var n=li.prototype._convertLatLngs.call(this,t),e=n.length;return e>=2&&n[0]instanceof F&&n[0].equals(n[e-1])&&n.pop(),n},_setLatLngs:function(t){li.prototype._setLatLngs.call(this,t),Ye(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Ye(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var t=this._renderer._bounds,n=this.options.weight,e=new M(n,n);if(t=new I(t.min.subtract(e),t.max.add(e)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(t))if(this.options.noClip)this._parts=this._rings;else for(var i,o=0,l=this._rings.length;o<l;o++)(i=we(this._rings[o],t,!0)).length&&this._parts.push(i)},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(t){var n,e,i,o,l,s,r,a,d=!1;if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(o=0,r=this._parts.length;o<r;o++)for(l=0,s=(a=(n=this._parts[o]).length)-1;l<a;s=l++)e=n[l],i=n[s],e.y>t.y!=i.y>t.y&&t.x<(i.x-e.x)*(t.y-e.y)/(i.y-e.y)+e.x&&(d=!d);return d||li.prototype._containsPoint.call(this,t,!0)}});function ai(t,n){return new ri(t,n)}var di=Ee.extend({initialize:function(t,n){m(this,n),this._layers={},t&&this.addData(t)},addData:function(t){var n,e,i,o=X(t)?t:t.features;if(o){for(n=0,e=o.length;n<e;n++)((i=o[n]).geometries||i.geometry||i.features||i.coordinates)&&this.addData(i);return this}var l=this.options;if(l.filter&&!l.filter(t))return this;var s=ci(t,l);return s?(s.feature=Zi(t),s.defaultOptions=s.options,this.resetStyle(s),l.onEachFeature&&l.onEachFeature(t,s),this.addLayer(s)):this},resetStyle:function(t){return void 0===t?this.eachLayer(this.resetStyle,this):(t.options=i({},t.defaultOptions),this._setLayerStyle(t,this.options.style),this)},setStyle:function(t){return this.eachLayer((function(n){this._setLayerStyle(n,t)}),this)},_setLayerStyle:function(t,n){t.setStyle&&("function"==typeof n&&(n=n(t.feature)),t.setStyle(n))}});function ci(t,n){var e,i,o,l,s="Feature"===t.type?t.geometry:t,r=s?s.coordinates:null,a=[],d=n&&n.pointToLayer,c=n&&n.coordsToLatLng||pi;if(!r&&!s)return null;switch(s.type){case"Point":return ui(d,t,e=c(r),n);case"MultiPoint":for(o=0,l=r.length;o<l;o++)e=c(r[o]),a.push(ui(d,t,e,n));return new Ee(a);case"LineString":case"MultiLineString":return i=hi(r,"LineString"===s.type?0:1,c),new li(i,n);case"Polygon":case"MultiPolygon":return i=hi(r,"Polygon"===s.type?1:2,c),new ri(i,n);case"GeometryCollection":for(o=0,l=s.geometries.length;o<l;o++){var u=ci({geometry:s.geometries[o],type:"Feature",properties:t.properties},n);u&&a.push(u)}return new Ee(a);default:throw new Error("Invalid GeoJSON object.")}}function ui(t,n,e,i){return t?t(n,e):new qe(e,i&&i.markersInheritOptions&&i)}function pi(t){return new F(t[1],t[0],t[2])}function hi(t,n,e){for(var i,o=[],l=0,s=t.length;l<s;l++)i=n?hi(t[l],n-1,e):(e||pi)(t[l]),o.push(i);return o}function mi(t,n){return void 0!==(t=k(t)).alt?[u(t.lng,n),u(t.lat,n),u(t.alt,n)]:[u(t.lng,n),u(t.lat,n)]}function bi(t,n,e,i){for(var o=[],l=0,s=t.length;l<s;l++)o.push(n?bi(t[l],n-1,e,i):mi(t[l],i));return!n&&e&&o.push(o[0]),o}function yi(t,n){return t.feature?i({},t.feature,{geometry:n}):Zi(n)}function Zi(t){return"Feature"===t.type||"FeatureCollection"===t.type?t:{type:"Feature",properties:{},geometry:t}}var Xi={toGeoJSON:function(t){return yi(this,{type:"Point",coordinates:mi(this.getLatLng(),t)})}};function fi(t,n){return new di(t,n)}qe.include(Xi),ii.include(Xi),ni.include(Xi),li.include({toGeoJSON:function(t){var n=!Ye(this._latlngs);return yi(this,{type:(n?"Multi":"")+"LineString",coordinates:bi(this._latlngs,n?1:0,!1,t)})}}),ri.include({toGeoJSON:function(t){var n=!Ye(this._latlngs),e=n&&!Ye(this._latlngs[0]),i=bi(this._latlngs,e?2:n?1:0,!0,t);return n||(i=[i]),yi(this,{type:(e?"Multi":"")+"Polygon",coordinates:i})}}),_e.include({toMultiPoint:function(t){var n=[];return this.eachLayer((function(e){n.push(e.toGeoJSON(t).geometry.coordinates)})),yi(this,{type:"MultiPoint",coordinates:n})},toGeoJSON:function(t){var n=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===n)return this.toMultiPoint(t);var e="GeometryCollection"===n,i=[];return this.eachLayer((function(n){if(n.toGeoJSON){var o=n.toGeoJSON(t);if(e)i.push(o.geometry);else{var l=Zi(o);"FeatureCollection"===l.type?i.push.apply(i,l.features):i.push(l)}}})),e?yi(this,{geometries:i,type:"GeometryCollection"}):{type:"FeatureCollection",features:i}}});var Gi=fi,Wi=Be.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(t,n,e){this._url=t,this._bounds=N(n),m(this,e)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Wn(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){yn(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(t){return this.options.opacity=t,this._image&&this._updateOpacity(),this},setStyle:function(t){return t.opacity&&this.setOpacity(t.opacity),this},bringToFront:function(){return this._map&&Xn(this._image),this},bringToBack:function(){return this._map&&fn(this._image),this},setUrl:function(t){return this._url=t,this._image&&(this._image.src=t),this},setBounds:function(t){return this._bounds=N(t),this._map&&this._reset(),this},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t="IMG"===this._url.tagName,n=this._image=t?this._url:bn("img");Wn(n,"leaflet-image-layer"),this._zoomAnimated&&Wn(n,"leaflet-zoom-animated"),this.options.className&&Wn(n,this.options.className),n.onselectstart=c,n.onmousemove=c,n.onload=l(this.fire,this,"load"),n.onerror=l(this._overlayOnError,this,"error"),(this.options.crossOrigin||""===this.options.crossOrigin)&&(n.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),t?this._url=n.src:(n.src=this._url,n.alt=this.options.alt)},_animateZoom:function(t){var n=this._map.getZoomScale(t.zoom),e=this._map._latLngBoundsToNewLayerBounds(this._bounds,t.zoom,t.center).min;Rn(this._image,e,n)},_reset:function(){var t=this._image,n=new I(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),e=n.getSize();Kn(t,n.min),t.style.width=e.x+"px",t.style.height=e.y+"px"},_updateOpacity:function(){xn(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var t=this.options.errorOverlayUrl;t&&this._url!==t&&(this._url=t,this._image.src=t)},getCenter:function(){return this._bounds.getCenter()}}),gi=function(t,n,e){return new Wi(t,n,e)},vi=Wi.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var t="VIDEO"===this._url.tagName,n=this._image=t?this._url:bn("video");if(Wn(n,"leaflet-image-layer"),this._zoomAnimated&&Wn(n,"leaflet-zoom-animated"),this.options.className&&Wn(n,this.options.className),n.onselectstart=c,n.onmousemove=c,n.onloadeddata=l(this.fire,this,"load"),t){for(var e=n.getElementsByTagName("source"),i=[],o=0;o<e.length;o++)i.push(e[o].src);this._url=e.length>0?i:[n.src]}else{X(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(n.style,"objectFit")&&(n.style.objectFit="fill"),n.autoplay=!!this.options.autoplay,n.loop=!!this.options.loop,n.muted=!!this.options.muted,n.playsInline=!!this.options.playsInline;for(var s=0;s<this._url.length;s++){var r=bn("source");r.src=this._url[s],n.appendChild(r)}}}});function Vi(t,n,e){return new vi(t,n,e)}var xi=Wi.extend({_initImage:function(){var t=this._image=this._url;Wn(t,"leaflet-image-layer"),this._zoomAnimated&&Wn(t,"leaflet-zoom-animated"),this.options.className&&Wn(t,this.options.className),t.onselectstart=c,t.onmousemove=c}});function Si(t,n,e){return new xi(t,n,e)}var Li=Be.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0},initialize:function(t,n){m(this,t),this._source=n},openOn:function(t){return(t=arguments.length?t:this._source._map).hasLayer(this)||t.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(t){return this._map?this.close():(arguments.length?this._source=t:t=this._source,this._prepareOpen(),this.openOn(t._map)),this},onAdd:function(t){this._zoomAnimated=t._zoomAnimated,this._container||this._initLayout(),t._fadeAnimated&&xn(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),t._fadeAnimated&&xn(this._container,1),this.bringToFront(),this.options.interactive&&(Wn(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(t){t._fadeAnimated?(xn(this._container,0),this._removeTimeout=setTimeout(l(yn,void 0,this._container),200)):yn(this._container),this.options.interactive&&(gn(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=k(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Xn(this._container),this},bringToBack:function(){return this._map&&fn(this._container),this},_prepareOpen:function(t){var n=this._source;if(!n._map)return!1;if(n instanceof Ee){n=null;var e=this._source._layers;for(var i in e)if(e[i]._map){n=e[i];break}if(!n)return!1;this._source=n}if(!t)if(n.getCenter)t=n.getCenter();else if(n.getLatLng)t=n.getLatLng();else{if(!n.getBounds)throw new Error("Unable to get source layer LatLng.");t=n.getBounds().getCenter()}return this.setLatLng(t),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var t=this._contentNode,n="function"==typeof this._content?this._content(this._source||this):this._content;if("string"==typeof n)t.innerHTML=n;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(n)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),n=P(this.options.offset),e=this._getAnchor();this._zoomAnimated?Kn(this._container,t.add(e)):n=n.add(t).add(e);var i=this._containerBottom=-n.y,o=this._containerLeft=-Math.round(this._containerWidth/2)+n.x;this._container.style.bottom=i+"px",this._container.style.left=o+"px"}},_getAnchor:function(){return[0,0]}});ie.include({_initOverlay:function(t,n,e,i){var o=n;return o instanceof t||(o=new t(i).setContent(n)),e&&o.setLatLng(e),o}}),Be.include({_initOverlay:function(t,n,e,i){var o=e;return o instanceof t?(m(o,i),o._source=this):(o=n&&!i?n:new t(i,this)).setContent(e),o}});var Ri=Li.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(t){return!(t=arguments.length?t:this._source._map).hasLayer(this)&&t._popup&&t._popup.options.autoClose&&t.removeLayer(t._popup),t._popup=this,Li.prototype.openOn.call(this,t)},onAdd:function(t){Li.prototype.onAdd.call(this,t),t.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof ti||this._source.on("preclick",En))},onRemove:function(t){Li.prototype.onRemove.call(this,t),t.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof ti||this._source.off("preclick",En))},getEvents:function(){var t=Li.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this.close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_initLayout:function(){var t="leaflet-popup",n=this._container=bn("div",t+" "+(this.options.className||"")+" leaflet-zoom-animated"),e=this._wrapper=bn("div",t+"-content-wrapper",n);if(this._contentNode=bn("div",t+"-content",e),Qn(n),jn(this._contentNode),Jn(n,"contextmenu",En),this._tipContainer=bn("div",t+"-tip-container",n),this._tip=bn("div",t+"-tip",this._tipContainer),this.options.closeButton){var i=this._closeButton=bn("a",t+"-close-button",n);i.setAttribute("role","button"),i.setAttribute("aria-label","Close popup"),i.href="#close",i.innerHTML='<span aria-hidden="true">&#215;</span>',Jn(i,"click",this.close,this)}},_updateLayout:function(){var t=this._contentNode,n=t.style;n.width="",n.whiteSpace="nowrap";var e=t.offsetWidth;e=Math.min(e,this.options.maxWidth),e=Math.max(e,this.options.minWidth),n.width=e+1+"px",n.whiteSpace="",n.height="";var i=t.offsetHeight,o=this.options.maxHeight,l="leaflet-popup-scrolled";o&&i>o?(n.height=o+"px",Wn(t,l)):gn(t,l),this._containerWidth=this._container.offsetWidth},_animateZoom:function(t){var n=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),e=this._getAnchor();Kn(this._container,n.add(e))},_adjustPan:function(t){if(this.options.autoPan){this._map._panAnim&&this._map._panAnim.stop();var n=this._map,e=parseInt(mn(this._container,"marginBottom"),10)||0,i=this._container.offsetHeight+e,o=this._containerWidth,l=new M(this._containerLeft,-i-this._containerBottom);l._add(Hn(this._container));var s=n.layerPointToContainerPoint(l),r=P(this.options.autoPanPadding),a=P(this.options.autoPanPaddingTopLeft||r),d=P(this.options.autoPanPaddingBottomRight||r),c=n.getSize(),u=0,p=0;s.x+o+d.x>c.x&&(u=s.x+o-c.x+d.x),s.x-u-a.x<0&&(u=s.x-a.x),s.y+i+d.y>c.y&&(p=s.y+i-c.y+d.y),s.y-p-a.y<0&&(p=s.y-a.y),(u||p)&&n.fire("autopanstart").panBy([u,p],{animate:t&&"moveend"===t.type})}},_getAnchor:function(){return P(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Ki=function(t,n){return new Ri(t,n)};ie.mergeOptions({closePopupOnClick:!0}),ie.include({openPopup:function(t,n,e){return this._initOverlay(Ri,t,n,e).openOn(this),this},closePopup:function(t){return(t=arguments.length?t:this._popup)&&t.close(),this}}),Be.include({bindPopup:function(t,n){return this._popup=this._initOverlay(Ri,this._popup,t,n),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(t){return this._popup&&this._popup._prepareOpen(t)&&this._popup.openOn(this._map),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},getPopup:function(){return this._popup},_openPopup:function(t){if(this._popup&&this._map){An(t);var n=t.layer||t.target;this._popup._source!==n||n instanceof ti?(this._popup._source=n,this.openPopup(t.latlng)):this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(t.latlng)}},_movePopup:function(t){this._popup.setLatLng(t.latlng)},_onKeyPress:function(t){13===t.originalEvent.keyCode&&this._openPopup(t)}});var Hi=Li.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(t){Li.prototype.onAdd.call(this,t),this.setOpacity(this.options.opacity),t.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(t){Li.prototype.onRemove.call(this,t),t.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var t=Li.prototype.getEvents.call(this);return this.options.permanent||(t.preclick=this.close),t},_initLayout:function(){var t="leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=bn("div",t)},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(t){var n,e,i=this._map,o=this._container,l=i.latLngToContainerPoint(i.getCenter()),s=i.layerPointToContainerPoint(t),r=this.options.direction,a=o.offsetWidth,d=o.offsetHeight,c=P(this.options.offset),u=this._getAnchor();"top"===r?(n=a/2,e=d):"bottom"===r?(n=a/2,e=0):"center"===r?(n=a/2,e=d/2):"right"===r?(n=0,e=d/2):"left"===r?(n=a,e=d/2):s.x<l.x?(r="right",n=0,e=d/2):(r="left",n=a+2*(c.x+u.x),e=d/2),t=t.subtract(P(n,e,!0)).add(c).add(u),gn(o,"leaflet-tooltip-right"),gn(o,"leaflet-tooltip-left"),gn(o,"leaflet-tooltip-top"),gn(o,"leaflet-tooltip-bottom"),Wn(o,"leaflet-tooltip-"+r),Kn(o,t)},_updatePosition:function(){var t=this._map.latLngToLayerPoint(this._latlng);this._setPosition(t)},setOpacity:function(t){this.options.opacity=t,this._container&&xn(this._container,t)},_animateZoom:function(t){var n=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPosition(n)},_getAnchor:function(){return P(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Ci=function(t,n){return new Hi(t,n)};ie.include({openTooltip:function(t,n,e){return this._initOverlay(Hi,t,n,e).openOn(this),this},closeTooltip:function(t){return t.close(),this}}),Be.include({bindTooltip:function(t,n){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Hi,this._tooltip,t,n),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(t){if(t||!this._tooltipHandlersAdded){var n=t?"off":"on",e={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?e.add=this._openTooltip:(e.mouseover=this._openTooltip,e.mouseout=this.closeTooltip,e.click=this._openTooltip),this._tooltip.options.sticky&&(e.mousemove=this._moveTooltip),this[n](e),this._tooltipHandlersAdded=!t}},openTooltip:function(t){return this._tooltip&&this._tooltip._prepareOpen(t)&&this._tooltip.openOn(this._map),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(t){return this._tooltip&&this._tooltip.setContent(t),this},getTooltip:function(){return this._tooltip},_openTooltip:function(t){!this._tooltip||!this._map||this._map.dragging&&this._map.dragging.moving()||(this._tooltip._source=t.layer||t.target,this.openTooltip(this._tooltip.options.sticky?t.latlng:void 0))},_moveTooltip:function(t){var n,e,i=t.latlng;this._tooltip.options.sticky&&t.originalEvent&&(n=this._map.mouseEventToContainerPoint(t.originalEvent),e=this._map.containerPointToLayerPoint(n),i=this._map.layerPointToLatLng(e)),this._tooltip.setLatLng(i)}});var Yi=Qe.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(t){var n=t&&"DIV"===t.tagName?t:document.createElement("div"),e=this.options;if(e.html instanceof Element?(Zn(n),n.appendChild(e.html)):n.innerHTML=!1!==e.html?e.html:"",e.bgPos){var i=P(e.bgPos);n.style.backgroundPosition=-i.x+"px "+-i.y+"px"}return this._setIconStyles(n,"icon"),n},createShadow:function(){return null}});function Ti(t){return new Yi(t)}Qe.Default=Ae;var Mi=Be.extend({options:{tileSize:256,opacity:1,updateWhenIdle:It.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(t){m(this,t)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(t){t._addZoomLimit(this)},onRemove:function(t){this._removeAllTiles(),yn(this._container),t._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Xn(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(fn(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var t=this._clampZoom(this._map.getZoom());t!==this._tileZoom&&(this._tileZoom=t,this._updateLevels()),this._update()}return this},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=a(this._onMoveEnd,this.options.updateInterval,this)),t.move=this._onMove),this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},createTile:function(){return document.createElement("div")},getTileSize:function(){var t=this.options.tileSize;return t instanceof M?t:new M(t,t)},_updateZIndex:function(){this._container&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t){for(var n,e=this.getPane().children,i=-t(-1/0,1/0),o=0,l=e.length;o<l;o++)n=e[o].style.zIndex,e[o]!==this._container&&n&&(i=t(i,+n));isFinite(i)&&(this.options.zIndex=i+t(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!It.ielt9){xn(this._container,this.options.opacity);var t=+new Date,n=!1,e=!1;for(var i in this._tiles){var o=this._tiles[i];if(o.current&&o.loaded){var l=Math.min(1,(t-o.loaded)/200);xn(o.el,l),l<1?n=!0:(o.active?e=!0:this._onOpaqueTile(o),o.active=!0)}}e&&!this._noPrune&&this._pruneTiles(),n&&(R(this._fadeFrame),this._fadeFrame=S(this._updateOpacity,this))}},_onOpaqueTile:c,_initContainer:function(){this._container||(this._container=bn("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var t=this._tileZoom,n=this.options.maxZoom;if(void 0!==t){for(var e in this._levels)e=Number(e),this._levels[e].el.children.length||e===t?(this._levels[e].el.style.zIndex=n-Math.abs(t-e),this._onUpdateLevel(e)):(yn(this._levels[e].el),this._removeTilesAtZoom(e),this._onRemoveLevel(e),delete this._levels[e]);var i=this._levels[t],o=this._map;return i||((i=this._levels[t]={}).el=bn("div","leaflet-tile-container leaflet-zoom-animated",this._container),i.el.style.zIndex=n,i.origin=o.project(o.unproject(o.getPixelOrigin()),t).round(),i.zoom=t,this._setZoomTransform(i,o.getCenter(),o.getZoom()),c(i.el.offsetWidth),this._onCreateLevel(i)),this._level=i,i}},_onUpdateLevel:c,_onRemoveLevel:c,_onCreateLevel:c,_pruneTiles:function(){if(this._map){var t,n,e=this._map.getZoom();if(e>this.options.maxZoom||e<this.options.minZoom)this._removeAllTiles();else{for(t in this._tiles)(n=this._tiles[t]).retain=n.current;for(t in this._tiles)if((n=this._tiles[t]).current&&!n.active){var i=n.coords;this._retainParent(i.x,i.y,i.z,i.z-5)||this._retainChildren(i.x,i.y,i.z,i.z+2)}for(t in this._tiles)this._tiles[t].retain||this._removeTile(t)}}},_removeTilesAtZoom:function(t){for(var n in this._tiles)this._tiles[n].coords.z===t&&this._removeTile(n)},_removeAllTiles:function(){for(var t in this._tiles)this._removeTile(t)},_invalidateAll:function(){for(var t in this._levels)yn(this._levels[t].el),this._onRemoveLevel(Number(t)),delete this._levels[t];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(t,n,e,i){var o=Math.floor(t/2),l=Math.floor(n/2),s=e-1,r=new M(+o,+l);r.z=+s;var a=this._tileCoordsToKey(r),d=this._tiles[a];return d&&d.active?(d.retain=!0,!0):(d&&d.loaded&&(d.retain=!0),s>i&&this._retainParent(o,l,s,i))},_retainChildren:function(t,n,e,i){for(var o=2*t;o<2*t+2;o++)for(var l=2*n;l<2*n+2;l++){var s=new M(o,l);s.z=e+1;var r=this._tileCoordsToKey(s),a=this._tiles[r];a&&a.active?a.retain=!0:(a&&a.loaded&&(a.retain=!0),e+1<i&&this._retainChildren(o,l,e+1,i))}},_resetView:function(t){var n=t&&(t.pinch||t.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),n,n)},_animateZoom:function(t){this._setView(t.center,t.zoom,!0,t.noUpdate)},_clampZoom:function(t){var n=this.options;return void 0!==n.minNativeZoom&&t<n.minNativeZoom?n.minNativeZoom:void 0!==n.maxNativeZoom&&n.maxNativeZoom<t?n.maxNativeZoom:t},_setView:function(t,n,e,i){var o=Math.round(n);o=void 0!==this.options.maxZoom&&o>this.options.maxZoom||void 0!==this.options.minZoom&&o<this.options.minZoom?void 0:this._clampZoom(o);var l=this.options.updateWhenZooming&&o!==this._tileZoom;i&&!l||(this._tileZoom=o,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==o&&this._update(t),e||this._pruneTiles(),this._noPrune=!!e),this._setZoomTransforms(t,n)},_setZoomTransforms:function(t,n){for(var e in this._levels)this._setZoomTransform(this._levels[e],t,n)},_setZoomTransform:function(t,n,e){var i=this._map.getZoomScale(e,t.zoom),o=t.origin.multiplyBy(i).subtract(this._map._getNewPixelOrigin(n,e)).round();It.any3d?Rn(t.el,o,i):Kn(t.el,o)},_resetGrid:function(){var t=this._map,n=t.options.crs,e=this._tileSize=this.getTileSize(),i=this._tileZoom,o=this._map.getPixelWorldBounds(this._tileZoom);o&&(this._globalTileRange=this._pxBoundsToTileRange(o)),this._wrapX=n.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,n.wrapLng[0]],i).x/e.x),Math.ceil(t.project([0,n.wrapLng[1]],i).x/e.y)],this._wrapY=n.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([n.wrapLat[0],0],i).y/e.x),Math.ceil(t.project([n.wrapLat[1],0],i).y/e.y)]},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&this._update()},_getTiledPixelBounds:function(t){var n=this._map,e=n._animatingZoom?Math.max(n._animateToZoom,n.getZoom()):n.getZoom(),i=n.getZoomScale(e,this._tileZoom),o=n.project(t,this._tileZoom).floor(),l=n.getSize().divideBy(2*i);return new I(o.subtract(l),o.add(l))},_update:function(t){var n=this._map;if(n){var e=this._clampZoom(n.getZoom());if(void 0===t&&(t=n.getCenter()),void 0!==this._tileZoom){var i=this._getTiledPixelBounds(t),o=this._pxBoundsToTileRange(i),l=o.getCenter(),s=[],r=this.options.keepBuffer,a=new I(o.getBottomLeft().subtract([r,-r]),o.getTopRight().add([r,-r]));if(!(isFinite(o.min.x)&&isFinite(o.min.y)&&isFinite(o.max.x)&&isFinite(o.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var d in this._tiles){var c=this._tiles[d].coords;c.z===this._tileZoom&&a.contains(new M(c.x,c.y))||(this._tiles[d].current=!1)}if(Math.abs(e-this._tileZoom)>1)this._setView(t,e);else{for(var u=o.min.y;u<=o.max.y;u++)for(var p=o.min.x;p<=o.max.x;p++){var h=new M(p,u);if(h.z=this._tileZoom,this._isValidTile(h)){var m=this._tiles[this._tileCoordsToKey(h)];m?m.current=!0:s.push(h)}}if(s.sort((function(t,n){return t.distanceTo(l)-n.distanceTo(l)})),0!==s.length){this._loading||(this._loading=!0,this.fire("loading"));var b=document.createDocumentFragment();for(p=0;p<s.length;p++)this._addTile(s[p],b);this._level.el.appendChild(b)}}}}},_isValidTile:function(t){var n=this._map.options.crs;if(!n.infinite){var e=this._globalTileRange;if(!n.wrapLng&&(t.x<e.min.x||t.x>e.max.x)||!n.wrapLat&&(t.y<e.min.y||t.y>e.max.y))return!1}if(!this.options.bounds)return!0;var i=this._tileCoordsToBounds(t);return N(this.options.bounds).overlaps(i)},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToNwSe:function(t){var n=this._map,e=this.getTileSize(),i=t.scaleBy(e),o=i.add(e);return[n.unproject(i,t.z),n.unproject(o,t.z)]},_tileCoordsToBounds:function(t){var n=this._tileCoordsToNwSe(t),e=new J(n[0],n[1]);return this.options.noWrap||(e=this._map.wrapLatLngBounds(e)),e},_tileCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_keyToTileCoords:function(t){var n=t.split(":"),e=new M(+n[0],+n[1]);return e.z=+n[2],e},_removeTile:function(t){var n=this._tiles[t];n&&(yn(n.el),delete this._tiles[t],this.fire("tileunload",{tile:n.el,coords:this._keyToTileCoords(t)}))},_initTile:function(t){Wn(t,"leaflet-tile");var n=this.getTileSize();t.style.width=n.x+"px",t.style.height=n.y+"px",t.onselectstart=c,t.onmousemove=c,It.ielt9&&this.options.opacity<1&&xn(t,this.options.opacity)},_addTile:function(t,n){var e=this._getTilePos(t),i=this._tileCoordsToKey(t),o=this.createTile(this._wrapCoords(t),l(this._tileReady,this,t));this._initTile(o),this.createTile.length<2&&S(l(this._tileReady,this,t,null,o)),Kn(o,e),this._tiles[i]={el:o,coords:t,current:!0},n.appendChild(o),this.fire("tileloadstart",{tile:o,coords:t})},_tileReady:function(t,n,e){n&&this.fire("tileerror",{error:n,tile:e,coords:t});var i=this._tileCoordsToKey(t);(e=this._tiles[i])&&(e.loaded=+new Date,this._map._fadeAnimated?(xn(e.el,0),R(this._fadeFrame),this._fadeFrame=S(this._updateOpacity,this)):(e.active=!0,this._pruneTiles()),n||(Wn(e.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:e.el,coords:t})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),It.ielt9||!this._map._fadeAnimated?S(this._pruneTiles,this):setTimeout(l(this._pruneTiles,this),250)))},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var n=new M(this._wrapX?d(t.x,this._wrapX):t.x,this._wrapY?d(t.y,this._wrapY):t.y);return n.z=t.z,n},_pxBoundsToTileRange:function(t){var n=this.getTileSize();return new I(t.min.unscaleBy(n).floor(),t.max.unscaleBy(n).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles)if(!this._tiles[t].loaded)return!1;return!0}});function wi(t){return new Mi(t)}var Pi=Mi.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(t,n){this._url=t,(n=m(this,n)).detectRetina&&It.retina&&n.maxZoom>0&&(n.tileSize=Math.floor(n.tileSize/2),n.zoomReverse?(n.zoomOffset--,n.minZoom++):(n.zoomOffset++,n.maxZoom--),n.minZoom=Math.max(0,n.minZoom)),"string"==typeof n.subdomains&&(n.subdomains=n.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(t,n){return this._url===t&&void 0===n&&(n=!0),this._url=t,n||this.redraw(),this},createTile:function(t,n){var e=document.createElement("img");return Jn(e,"load",l(this._tileOnLoad,this,n,e)),Jn(e,"error",l(this._tileOnError,this,n,e)),(this.options.crossOrigin||""===this.options.crossOrigin)&&(e.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),"string"==typeof this.options.referrerPolicy&&(e.referrerPolicy=this.options.referrerPolicy),e.alt="",e.setAttribute("role","presentation"),e.src=this.getTileUrl(t),e},getTileUrl:function(t){var n={r:It.retina?"@2x":"",s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var e=this._globalTileRange.max.y-t.y;this.options.tms&&(n.y=e),n["-y"]=e}return Z(this._url,i(n,this.options))},_tileOnLoad:function(t,n){It.ielt9?setTimeout(l(t,this,null,n),0):t(null,n)},_tileOnError:function(t,n,e){var i=this.options.errorTileUrl;i&&n.getAttribute("src")!==i&&(n.src=i),t(e,n)},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this._tileZoom,n=this.options.maxZoom;return this.options.zoomReverse&&(t=n-t),t+this.options.zoomOffset},_getSubdomain:function(t){var n=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[n]},_abortLoading:function(){var t,n;for(t in this._tiles)if(this._tiles[t].coords.z!==this._tileZoom&&((n=this._tiles[t].el).onload=c,n.onerror=c,!n.complete)){n.src=G;var e=this._tiles[t].coords;yn(n),delete this._tiles[t],this.fire("tileabort",{tile:n,coords:e})}},_removeTile:function(t){var n=this._tiles[t];if(n)return n.el.setAttribute("src",G),Mi.prototype._removeTile.call(this,t)},_tileReady:function(t,n,e){if(this._map&&(!e||e.getAttribute("src")!==G))return Mi.prototype._tileReady.call(this,t,n,e)}});function Ii(t,n){return new Pi(t,n)}var zi=Pi.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(t,n){this._url=t;var e=i({},this.defaultWmsParams);for(var o in n)o in this.options||(e[o]=n[o]);var l=(n=m(this,n)).detectRetina&&It.retina?2:1,s=this.getTileSize();e.width=s.x*l,e.height=s.y*l,this.wmsParams=e},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var n=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[n]=this._crs.code,Pi.prototype.onAdd.call(this,t)},getTileUrl:function(t){var n=this._tileCoordsToNwSe(t),e=this._crs,i=z(e.project(n[0]),e.project(n[1])),o=i.min,l=i.max,s=(this._wmsVersion>=1.3&&this._crs===Fe?[o.y,o.x,l.y,l.x]:[o.x,o.y,l.x,l.y]).join(","),r=Pi.prototype.getTileUrl.call(this,t);return r+b(this.wmsParams,r,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+s},setParams:function(t,n){return i(this.wmsParams,t),n||this.redraw(),this}});function Ji(t,n){return new zi(t,n)}Pi.WMS=zi,Ii.wms=Ji;var Ni=Be.extend({options:{padding:.1},initialize:function(t){m(this,t),r(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&Wn(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(t.zoomanim=this._onAnimZoom),t},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(t,n){var e=this._map.getZoomScale(n,this._zoom),i=this._map.getSize().multiplyBy(.5+this.options.padding),o=this._map.project(this._center,n),l=i.multiplyBy(-e).add(o).subtract(this._map._getNewPixelOrigin(t,n));It.any3d?Rn(this._container,l,e):Kn(this._container,l)},_reset:function(){for(var t in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[t]._reset()},_onZoomEnd:function(){for(var t in this._layers)this._layers[t]._project()},_updatePaths:function(){for(var t in this._layers)this._layers[t]._update()},_update:function(){var t=this.options.padding,n=this._map.getSize(),e=this._map.containerPointToLayerPoint(n.multiplyBy(-t)).round();this._bounds=new I(e,e.add(n.multiplyBy(1+2*t)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Fi=Ni.extend({options:{tolerance:0},getEvents:function(){var t=Ni.prototype.getEvents.call(this);return t.viewprereset=this._onViewPreReset,t},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Ni.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var t=this._container=document.createElement("canvas");Jn(t,"mousemove",this._onMouseMove,this),Jn(t,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Jn(t,"mouseout",this._handleMouseOut,this),t._leaflet_disable_events=!0,this._ctx=t.getContext("2d")},_destroyContainer:function(){R(this._redrawRequest),delete this._ctx,yn(this._container),Fn(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){for(var t in this._redrawBounds=null,this._layers)this._layers[t]._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){Ni.prototype._update.call(this);var t=this._bounds,n=this._container,e=t.getSize(),i=It.retina?2:1;Kn(n,t.min),n.width=i*e.x,n.height=i*e.y,n.style.width=e.x+"px",n.style.height=e.y+"px",It.retina&&this._ctx.scale(2,2),this._ctx.translate(-t.min.x,-t.min.y),this.fire("update")}},_reset:function(){Ni.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(t){this._updateDashArray(t),this._layers[r(t)]=t;var n=t._order={layer:t,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=n),this._drawLast=n,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(t){this._requestRedraw(t)},_removePath:function(t){var n=t._order,e=n.next,i=n.prev;e?e.prev=i:this._drawLast=i,i?i.next=e:this._drawFirst=e,delete t._order,delete this._layers[r(t)],this._requestRedraw(t)},_updatePath:function(t){this._extendRedrawBounds(t),t._project(),t._update(),this._requestRedraw(t)},_updateStyle:function(t){this._updateDashArray(t),this._requestRedraw(t)},_updateDashArray:function(t){if("string"==typeof t.options.dashArray){var n,e,i=t.options.dashArray.split(/[, ]+/),o=[];for(e=0;e<i.length;e++){if(n=Number(i[e]),isNaN(n))return;o.push(n)}t.options._dashArray=o}else t.options._dashArray=t.options.dashArray},_requestRedraw:function(t){this._map&&(this._extendRedrawBounds(t),this._redrawRequest=this._redrawRequest||S(this._redraw,this))},_extendRedrawBounds:function(t){if(t._pxBounds){var n=(t.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new I,this._redrawBounds.extend(t._pxBounds.min.subtract([n,n])),this._redrawBounds.extend(t._pxBounds.max.add([n,n]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var t=this._redrawBounds;if(t){var n=t.getSize();this._ctx.clearRect(t.min.x,t.min.y,n.x,n.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var t,n=this._redrawBounds;if(this._ctx.save(),n){var e=n.getSize();this._ctx.beginPath(),this._ctx.rect(n.min.x,n.min.y,e.x,e.y),this._ctx.clip()}this._drawing=!0;for(var i=this._drawFirst;i;i=i.next)t=i.layer,(!n||t._pxBounds&&t._pxBounds.intersects(n))&&t._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(t,n){if(this._drawing){var e,i,o,l,s=t._parts,r=s.length,a=this._ctx;if(r){for(a.beginPath(),e=0;e<r;e++){for(i=0,o=s[e].length;i<o;i++)l=s[e][i],a[i?"lineTo":"moveTo"](l.x,l.y);n&&a.closePath()}this._fillStroke(a,t)}}},_updateCircle:function(t){if(this._drawing&&!t._empty()){var n=t._point,e=this._ctx,i=Math.max(Math.round(t._radius),1),o=(Math.max(Math.round(t._radiusY),1)||i)/i;1!==o&&(e.save(),e.scale(1,o)),e.beginPath(),e.arc(n.x,n.y/o,i,0,2*Math.PI,!1),1!==o&&e.restore(),this._fillStroke(e,t)}},_fillStroke:function(t,n){var e=n.options;e.fill&&(t.globalAlpha=e.fillOpacity,t.fillStyle=e.fillColor||e.color,t.fill(e.fillRule||"evenodd")),e.stroke&&0!==e.weight&&(t.setLineDash&&t.setLineDash(n.options&&n.options._dashArray||[]),t.globalAlpha=e.opacity,t.lineWidth=e.weight,t.strokeStyle=e.color,t.lineCap=e.lineCap,t.lineJoin=e.lineJoin,t.stroke())},_onClick:function(t){for(var n,e,i=this._map.mouseEventToLayerPoint(t),o=this._drawFirst;o;o=o.next)(n=o.layer).options.interactive&&n._containsPoint(i)&&("click"!==t.type&&"preclick"!==t.type||!this._map._draggableMoved(n))&&(e=n);this._fireEvent(!!e&&[e],t)},_onMouseMove:function(t){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var n=this._map.mouseEventToLayerPoint(t);this._handleMouseHover(t,n)}},_handleMouseOut:function(t){var n=this._hoveredLayer;n&&(gn(this._container,"leaflet-interactive"),this._fireEvent([n],t,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(t,n){if(!this._mouseHoverThrottled){for(var e,i,o=this._drawFirst;o;o=o.next)(e=o.layer).options.interactive&&e._containsPoint(n)&&(i=e);i!==this._hoveredLayer&&(this._handleMouseOut(t),i&&(Wn(this._container,"leaflet-interactive"),this._fireEvent([i],t,"mouseover"),this._hoveredLayer=i)),this._fireEvent(!!this._hoveredLayer&&[this._hoveredLayer],t),this._mouseHoverThrottled=!0,setTimeout(l((function(){this._mouseHoverThrottled=!1}),this),32)}},_fireEvent:function(t,n,e){this._map._fireDOMEvent(n,e||n.type,t)},_bringToFront:function(t){var n=t._order;if(n){var e=n.next,i=n.prev;e&&(e.prev=i,i?i.next=e:e&&(this._drawFirst=e),n.prev=this._drawLast,this._drawLast.next=n,n.next=null,this._drawLast=n,this._requestRedraw(t))}},_bringToBack:function(t){var n=t._order;if(n){var e=n.next,i=n.prev;i&&(i.next=e,e?e.prev=i:i&&(this._drawLast=i),n.prev=null,n.next=this._drawFirst,this._drawFirst.prev=n,this._drawFirst=n,this._requestRedraw(t))}}});function ki(t){return It.canvas?new Fi(t):null}var Bi=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return document.createElement("<lvml:"+t+' class="lvml">')}}catch(t){}return function(t){return document.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),_i={_initContainer:function(){this._container=bn("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Ni.prototype._update.call(this),this.fire("update"))},_initPath:function(t){var n=t._container=Bi("shape");Wn(n,"leaflet-vml-shape "+(this.options.className||"")),n.coordsize="1 1",t._path=Bi("path"),n.appendChild(t._path),this._updateStyle(t),this._layers[r(t)]=t},_addPath:function(t){var n=t._container;this._container.appendChild(n),t.options.interactive&&t.addInteractiveTarget(n)},_removePath:function(t){var n=t._container;yn(n),t.removeInteractiveTarget(n),delete this._layers[r(t)]},_updateStyle:function(t){var n=t._stroke,e=t._fill,i=t.options,o=t._container;o.stroked=!!i.stroke,o.filled=!!i.fill,i.stroke?(n||(n=t._stroke=Bi("stroke")),o.appendChild(n),n.weight=i.weight+"px",n.color=i.color,n.opacity=i.opacity,i.dashArray?n.dashStyle=X(i.dashArray)?i.dashArray.join(" "):i.dashArray.replace(/( *, *)/g," "):n.dashStyle="",n.endcap=i.lineCap.replace("butt","flat"),n.joinstyle=i.lineJoin):n&&(o.removeChild(n),t._stroke=null),i.fill?(e||(e=t._fill=Bi("fill")),o.appendChild(e),e.color=i.fillColor||i.color,e.opacity=i.fillOpacity):e&&(o.removeChild(e),t._fill=null)},_updateCircle:function(t){var n=t._point.round(),e=Math.round(t._radius),i=Math.round(t._radiusY||e);this._setPath(t,t._empty()?"M0 0":"AL "+n.x+","+n.y+" "+e+","+i+" 0,23592600")},_setPath:function(t,n){t._path.v=n},_bringToFront:function(t){Xn(t._container)},_bringToBack:function(t){fn(t._container)}},Ui=It.vml?Bi:q,Ei=Ni.extend({_initContainer:function(){this._container=Ui("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Ui("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){yn(this._container),Fn(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!this._map._animatingZoom||!this._bounds){Ni.prototype._update.call(this);var t=this._bounds,n=t.getSize(),e=this._container;this._svgSize&&this._svgSize.equals(n)||(this._svgSize=n,e.setAttribute("width",n.x),e.setAttribute("height",n.y)),Kn(e,t.min),e.setAttribute("viewBox",[t.min.x,t.min.y,n.x,n.y].join(" ")),this.fire("update")}},_initPath:function(t){var n=t._path=Ui("path");t.options.className&&Wn(n,t.options.className),t.options.interactive&&Wn(n,"leaflet-interactive"),this._updateStyle(t),this._layers[r(t)]=t},_addPath:function(t){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(t._path),t.addInteractiveTarget(t._path)},_removePath:function(t){yn(t._path),t.removeInteractiveTarget(t._path),delete this._layers[r(t)]},_updatePath:function(t){t._project(),t._update()},_updateStyle:function(t){var n=t._path,e=t.options;n&&(e.stroke?(n.setAttribute("stroke",e.color),n.setAttribute("stroke-opacity",e.opacity),n.setAttribute("stroke-width",e.weight),n.setAttribute("stroke-linecap",e.lineCap),n.setAttribute("stroke-linejoin",e.lineJoin),e.dashArray?n.setAttribute("stroke-dasharray",e.dashArray):n.removeAttribute("stroke-dasharray"),e.dashOffset?n.setAttribute("stroke-dashoffset",e.dashOffset):n.removeAttribute("stroke-dashoffset")):n.setAttribute("stroke","none"),e.fill?(n.setAttribute("fill",e.fillColor||e.color),n.setAttribute("fill-opacity",e.fillOpacity),n.setAttribute("fill-rule",e.fillRule||"evenodd")):n.setAttribute("fill","none"))},_updatePoly:function(t,n){this._setPath(t,$(t._parts,n))},_updateCircle:function(t){var n=t._point,e=Math.max(Math.round(t._radius),1),i="a"+e+","+(Math.max(Math.round(t._radiusY),1)||e)+" 0 1,0 ",o=t._empty()?"M0 0":"M"+(n.x-e)+","+n.y+i+2*e+",0 "+i+2*-e+",0 ";this._setPath(t,o)},_setPath:function(t,n){t._path.setAttribute("d",n)},_bringToFront:function(t){Xn(t._path)},_bringToBack:function(t){fn(t._path)}});function ji(t){return It.svg||It.vml?new Ei(t):null}It.vml&&Ei.include(_i),ie.include({getRenderer:function(t){var n=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer;return n||(n=this._renderer=this._createRenderer()),this.hasLayer(n)||this.addLayer(n),n},_getPaneRenderer:function(t){if("overlayPane"===t||void 0===t)return!1;var n=this._paneRenderers[t];return void 0===n&&(n=this._createRenderer({pane:t}),this._paneRenderers[t]=n),n},_createRenderer:function(t){return this.options.preferCanvas&&ki(t)||ji(t)}});var Qi=ri.extend({initialize:function(t,n){ri.prototype.initialize.call(this,this._boundsToLatLngs(t),n)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return[(t=N(t)).getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}});function Oi(t,n){return new Qi(t,n)}Ei.create=Ui,Ei.pointsToPath=$,di.geometryToLayer=ci,di.coordsToLatLng=pi,di.coordsToLatLngs=hi,di.latLngToCoords=mi,di.latLngsToCoords=bi,di.getFeature=yi,di.asFeature=Zi,ie.mergeOptions({boxZoom:!0});var Ai=ye.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._resetStateTimeout=0,t.on("unload",this._destroy,this)},addHooks:function(){Jn(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Fn(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){yn(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(t){if(!t.shiftKey||1!==t.which&&1!==t.button)return!1;this._clearDeferredResetState(),this._resetState(),ln(),Yn(),this._startPoint=this._map.mouseEventToContainerPoint(t),Jn(document,{contextmenu:An,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(t){this._moved||(this._moved=!0,this._box=bn("div","leaflet-zoom-box",this._container),Wn(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(t);var n=new I(this._point,this._startPoint),e=n.getSize();Kn(this._box,n.min),this._box.style.width=e.x+"px",this._box.style.height=e.y+"px"},_finish:function(){this._moved&&(yn(this._box),gn(this._container,"leaflet-crosshair")),sn(),Tn(),Fn(document,{contextmenu:An,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){if((1===t.which||1===t.button)&&(this._finish(),this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(l(this._resetState,this),0);var n=new J(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(n).fire("boxzoomend",{boxZoomBounds:n})}},_onKeyDown:function(t){27===t.keyCode&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});ie.addInitHook("addHandler","boxZoom",Ai),ie.mergeOptions({doubleClickZoom:!0});var Di=ye.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var n=this._map,e=n.getZoom(),i=n.options.zoomDelta,o=t.originalEvent.shiftKey?e-i:e+i;"center"===n.options.doubleClickZoom?n.setZoom(o):n.setZoomAround(t.containerPoint,o)}});ie.addInitHook("addHandler","doubleClickZoom",Di),ie.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var qi=ye.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new Ge(t._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),t.on("zoomend",this._onZoomEnd,this),t.whenReady(this._onZoomEnd,this))}Wn(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){gn(this._map._container,"leaflet-grab"),gn(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var t=this._map;if(t._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var n=N(this._map.options.maxBounds);this._offsetLimit=z(this._map.latLngToContainerPoint(n.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(n.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(t){if(this._map.options.inertia){var n=this._lastTime=+new Date,e=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(e),this._times.push(n),this._prunePositions(n)}this._map.fire("move",t).fire("drag",t)},_prunePositions:function(t){for(;this._positions.length>1&&t-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),n=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=n.subtract(t).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,n){return t-(t-n)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var t=this._draggable._newPos.subtract(this._draggable._startPos),n=this._offsetLimit;t.x<n.min.x&&(t.x=this._viscousLimit(t.x,n.min.x)),t.y<n.min.y&&(t.y=this._viscousLimit(t.y,n.min.y)),t.x>n.max.x&&(t.x=this._viscousLimit(t.x,n.max.x)),t.y>n.max.y&&(t.y=this._viscousLimit(t.y,n.max.y)),this._draggable._newPos=this._draggable._startPos.add(t)}},_onPreDragWrap:function(){var t=this._worldWidth,n=Math.round(t/2),e=this._initialWorldOffset,i=this._draggable._newPos.x,o=(i-n+e)%t+n-e,l=(i+n+e)%t-n-e,s=Math.abs(o+e)<Math.abs(l+e)?o:l;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=s},_onDragEnd:function(t){var n=this._map,e=n.options,i=!e.inertia||t.noInertia||this._times.length<2;if(n.fire("dragend",t),i)n.fire("moveend");else{this._prunePositions(+new Date);var o=this._lastPos.subtract(this._positions[0]),l=(this._lastTime-this._times[0])/1e3,s=e.easeLinearity,r=o.multiplyBy(s/l),a=r.distanceTo([0,0]),d=Math.min(e.inertiaMaxSpeed,a),c=r.multiplyBy(d/a),u=d/(e.inertiaDeceleration*s),p=c.multiplyBy(-u/2).round();p.x||p.y?(p=n._limitOffset(p,n.options.maxBounds),S((function(){n.panBy(p,{duration:u,easeLinearity:s,noMoveStart:!0,animate:!0})}))):n.fire("moveend")}}});ie.addInitHook("addHandler","dragging",qi),ie.mergeOptions({keyboard:!0,keyboardPanDelta:80});var $i=ye.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t,this._setPanDelta(t.options.keyboardPanDelta),this._setZoomDelta(t.options.zoomDelta)},addHooks:function(){var t=this._map._container;t.tabIndex<=0&&(t.tabIndex="0"),Jn(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Fn(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var t=document.body,n=document.documentElement,e=t.scrollTop||n.scrollTop,i=t.scrollLeft||n.scrollLeft;this._map._container.focus(),window.scrollTo(i,e)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(t){var n,e,i=this._panKeys={},o=this.keyCodes;for(n=0,e=o.left.length;n<e;n++)i[o.left[n]]=[-1*t,0];for(n=0,e=o.right.length;n<e;n++)i[o.right[n]]=[t,0];for(n=0,e=o.down.length;n<e;n++)i[o.down[n]]=[0,t];for(n=0,e=o.up.length;n<e;n++)i[o.up[n]]=[0,-1*t]},_setZoomDelta:function(t){var n,e,i=this._zoomKeys={},o=this.keyCodes;for(n=0,e=o.zoomIn.length;n<e;n++)i[o.zoomIn[n]]=t;for(n=0,e=o.zoomOut.length;n<e;n++)i[o.zoomOut[n]]=-t},_addHooks:function(){Jn(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Fn(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var n,e=t.keyCode,i=this._map;if(e in this._panKeys)i._panAnim&&i._panAnim._inProgress||(n=this._panKeys[e],t.shiftKey&&(n=P(n).multiplyBy(3)),i.panBy(n),i.options.maxBounds&&i.panInsideBounds(i.options.maxBounds));else if(e in this._zoomKeys)i.setZoom(i.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[e]);else{if(27!==e||!i._popup||!i._popup.options.closeOnEscapeKey)return;i.closePopup()}An(t)}}});ie.addInitHook("addHandler","keyboard",$i),ie.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var to=ye.extend({addHooks:function(){Jn(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Fn(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(t){var n=$n(t),e=this._map.options.wheelDebounceTime;this._delta+=n,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var i=Math.max(e-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(l(this._performZoom,this),i),An(t)},_performZoom:function(){var t=this._map,n=t.getZoom(),e=this._map.options.zoomSnap||0;t._stop();var i=this._delta/(4*this._map.options.wheelPxPerZoomLevel),o=4*Math.log(2/(1+Math.exp(-Math.abs(i))))/Math.LN2,l=e?Math.ceil(o/e)*e:o,s=t._limitZoom(n+(this._delta>0?l:-l))-n;this._delta=0,this._startTime=null,s&&("center"===t.options.scrollWheelZoom?t.setZoom(n+s):t.setZoomAround(this._lastMousePos,n+s))}});ie.addInitHook("addHandler","scrollWheelZoom",to);var no=600;ie.mergeOptions({tapHold:It.touchNative&&It.safari&&It.mobile,tapTolerance:15});var eo=ye.extend({addHooks:function(){Jn(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Fn(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(clearTimeout(this._holdTimeout),1===t.touches.length){var n=t.touches[0];this._startPos=this._newPos=new M(n.clientX,n.clientY),this._holdTimeout=setTimeout(l((function(){this._cancel(),this._isTapValid()&&(Jn(document,"touchend",On),Jn(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",n))}),this),no),Jn(document,"touchend touchcancel contextmenu",this._cancel,this),Jn(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function t(){Fn(document,"touchend",On),Fn(document,"touchend touchcancel",t)},_cancel:function(){clearTimeout(this._holdTimeout),Fn(document,"touchend touchcancel contextmenu",this._cancel,this),Fn(document,"touchmove",this._onMove,this)},_onMove:function(t){var n=t.touches[0];this._newPos=new M(n.clientX,n.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(t,n){var e=new MouseEvent(t,{bubbles:!0,cancelable:!0,view:window,screenX:n.screenX,screenY:n.screenY,clientX:n.clientX,clientY:n.clientY});e._simulated=!0,n.target.dispatchEvent(e)}});ie.addInitHook("addHandler","tapHold",eo),ie.mergeOptions({touchZoom:It.touch,bounceAtZoomLimits:!0});var io=ye.extend({addHooks:function(){Wn(this._map._container,"leaflet-touch-zoom"),Jn(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){gn(this._map._container,"leaflet-touch-zoom"),Fn(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var n=this._map;if(t.touches&&2===t.touches.length&&!n._animatingZoom&&!this._zooming){var e=n.mouseEventToContainerPoint(t.touches[0]),i=n.mouseEventToContainerPoint(t.touches[1]);this._centerPoint=n.getSize()._divideBy(2),this._startLatLng=n.containerPointToLatLng(this._centerPoint),"center"!==n.options.touchZoom&&(this._pinchStartLatLng=n.containerPointToLatLng(e.add(i)._divideBy(2))),this._startDist=e.distanceTo(i),this._startZoom=n.getZoom(),this._moved=!1,this._zooming=!0,n._stop(),Jn(document,"touchmove",this._onTouchMove,this),Jn(document,"touchend touchcancel",this._onTouchEnd,this),On(t)}},_onTouchMove:function(t){if(t.touches&&2===t.touches.length&&this._zooming){var n=this._map,e=n.mouseEventToContainerPoint(t.touches[0]),i=n.mouseEventToContainerPoint(t.touches[1]),o=e.distanceTo(i)/this._startDist;if(this._zoom=n.getScaleZoom(o,this._startZoom),!n.options.bounceAtZoomLimits&&(this._zoom<n.getMinZoom()&&o<1||this._zoom>n.getMaxZoom()&&o>1)&&(this._zoom=n._limitZoom(this._zoom)),"center"===n.options.touchZoom){if(this._center=this._startLatLng,1===o)return}else{var s=e._add(i)._divideBy(2)._subtract(this._centerPoint);if(1===o&&0===s.x&&0===s.y)return;this._center=n.unproject(n.project(this._pinchStartLatLng,this._zoom).subtract(s),this._zoom)}this._moved||(n._moveStart(!0,!1),this._moved=!0),R(this._animRequest);var r=l(n._move,n,this._center,this._zoom,{pinch:!0,round:!1});this._animRequest=S(r,this,!0),On(t)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,R(this._animRequest),Fn(document,"touchmove",this._onTouchMove,this),Fn(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}});ie.addInitHook("addHandler","touchZoom",io),ie.BoxZoom=Ai,ie.DoubleClickZoom=Di,ie.Drag=qi,ie.Keyboard=$i,ie.ScrollWheelZoom=to,ie.TapHold=eo,ie.TouchZoom=io,t.Bounds=I,t.Browser=It,t.CRS=_,t.Canvas=Fi,t.Circle=ii,t.CircleMarker=ni,t.Class=H,t.Control=le,t.DivIcon=Yi,t.DivOverlay=Li,t.DomEvent=ne,t.DomUtil=zn,t.Draggable=Ge,t.Evented=T,t.FeatureGroup=Ee,t.GeoJSON=di,t.GridLayer=Mi,t.Handler=ye,t.Icon=Qe,t.ImageOverlay=Wi,t.LatLng=F,t.LatLngBounds=J,t.Layer=Be,t.LayerGroup=_e,t.LineUtil=Me,t.Map=ie,t.Marker=qe,t.Mixin=Xe,t.Path=ti,t.Point=M,t.PolyUtil=Pe,t.Polygon=ri,t.Polyline=li,t.Popup=Ri,t.PosAnimation=ee,t.Projection=Je,t.Rectangle=Qi,t.Renderer=Ni,t.SVG=Ei,t.SVGOverlay=xi,t.TileLayer=Pi,t.Tooltip=Hi,t.Transformation=Q,t.Util=K,t.VideoOverlay=vi,t.bind=l,t.bounds=z,t.canvas=ki,t.circle=oi,t.circleMarker=ei,t.control=se,t.divIcon=Ti,t.extend=i,t.featureGroup=je,t.geoJSON=fi,t.geoJson=Gi,t.gridLayer=wi,t.icon=Oe,t.imageOverlay=gi,t.latLng=k,t.latLngBounds=N,t.layerGroup=Ue,t.map=oe,t.marker=$e,t.point=P,t.polygon=ai,t.polyline=si,t.popup=Ki,t.rectangle=Oi,t.setOptions=m,t.stamp=r,t.svg=ji,t.svgOverlay=Si,t.tileLayer=Ii,t.tooltip=Ci,t.transformation=O,t.version=e,t.videoOverlay=Vi;var oo=window.L;t.noConflict=function(){return window.L=oo,this},window.L=t}(e)})),TV=function(t){var n={};for(var e in t){var i=t[e];null!=i&&(n[e]=i)}return n},MV={name:"LControl",mixins:[{props:{position:{type:String,default:"topright"}},mounted:function(){this.controlOptions={position:this.position}},beforeDestroy:function(){this.mapObject&&this.mapObject.remove()}},{props:{options:{type:Object,default:function(){return{}}}}}],props:{disableClickPropagation:{type:Boolean,custom:!0,default:!0},disableScrollPropagation:{type:Boolean,custom:!0,default:!1}},mounted:function(){var t=this,n=YV.Control.extend({element:void 0,onAdd:function(){return this.element},setElement:function(t){this.element=t}}),e=function(t,n){var e=n.options&&n.options.constructor===Object?n.options:{};t=t&&t.constructor===Object?t:{};var i=TV(e);t=TV(t);var o=n.$options.props;for(var l in t){var s=o[l]?o[l].default&&"function"==typeof o[l].default?o[l].default.call():o[l].default:Symbol("unique"),r=!1;r=Array.isArray(s)?JSON.stringify(s)===JSON.stringify(t[l]):s===t[l],i[l]&&!r?(console.warn(l+" props is overriding the value passed in the options props"),i[l]=t[l]):i[l]||(i[l]=t[l])}return i}(this.controlOptions,this);this.mapObject=new n(e),function(t,n,e,i){var o=function(i){var o="set"+function(t){return t&&"function"==typeof t.charAt?t.charAt(0).toUpperCase()+t.slice(1):t}(i),l=e[i].type===Object||e[i].type===Array||Array.isArray(e[i].type);e[i].custom&&t[o]?t.$watch(i,(function(n,e){t[o](n,e)}),{deep:l}):"setOptions"===o?t.$watch(i,(function(t,e){YV.setOptions(n,t)}),{deep:l}):n[o]&&t.$watch(i,(function(t,e){n[o](t)}),{deep:l})};for(var l in e)o(l)}(this,this.mapObject,this.$options.props),this.parentContainer=function(t){for(var n=!1;t&&!n;)void 0===t.mapObject?t=t.$parent:n=!0;return t}(this.$parent),this.mapObject.setElement(this.$el),this.disableClickPropagation&&YV.DomEvent.disableClickPropagation(this.$el),this.disableScrollPropagation&&YV.DomEvent.disableScrollPropagation(this.$el),this.mapObject.addTo(this.parentContainer.mapObject),this.$nextTick((function(){t.$emit("ready",t.mapObject)}))}};function wV(t,n,e,i,o,l,s,r,a,d){"boolean"!=typeof s&&(a=r,r=s,s=!1);var c,u="function"==typeof e?e.options:e;if(t&&t.render&&(u.render=t.render,u.staticRenderFns=t.staticRenderFns,u._compiled=!0,o&&(u.functional=!0)),i&&(u._scopeId=i),l?(c=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),n&&n.call(this,a(t)),t&&t._registeredComponents&&t._registeredComponents.add(l)},u._ssrRegister=c):n&&(c=s?function(t){n.call(this,d(t,this.$root.$options.shadowRoot))}:function(t){n.call(this,r(t))}),c)if(u.functional){var p=u.render;u.render=function(t,n){return c.call(n),p(t,n)}}else{var h=u.beforeCreate;u.beforeCreate=h?[].concat(h,c):[c]}return e}var PV=wV({render:function(){var t=this,n=t.$createElement;return(t._self._c||n)("div",[t._t("default")],2)},staticRenderFns:[]},undefined,MV,undefined,false,undefined,!1,void 0,void 0,void 0),IV=function(t){var n={};for(var e in t){var i=t[e];null!=i&&(n[e]=i)}return n},zV={name:"LControlZoom",mixins:[{props:{position:{type:String,default:"topright"}},mounted:function(){this.controlOptions={position:this.position}},beforeDestroy:function(){this.mapObject&&this.mapObject.remove()}},{props:{options:{type:Object,default:function(){return{}}}}}],props:{zoomInText:{type:String,default:"+"},zoomInTitle:{type:String,default:"Zoom in"},zoomOutText:{type:String,default:"-"},zoomOutTitle:{type:String,default:"Zoom out"}},mounted:function(){var t=this,n=function(t,n){var e=n.options&&n.options.constructor===Object?n.options:{};t=t&&t.constructor===Object?t:{};var i=IV(e);t=IV(t);var o=n.$options.props;for(var l in t){var s=o[l]?o[l].default&&"function"==typeof o[l].default?o[l].default.call():o[l].default:Symbol("unique"),r=!1;r=Array.isArray(s)?JSON.stringify(s)===JSON.stringify(t[l]):s===t[l],i[l]&&!r?(console.warn(l+" props is overriding the value passed in the options props"),i[l]=t[l]):i[l]||(i[l]=t[l])}return i}(Object.assign({},this.controlOptions,{zoomInText:this.zoomInText,zoomInTitle:this.zoomInTitle,zoomOutText:this.zoomOutText,zoomOutTitle:this.zoomOutTitle}),this);this.mapObject=YV.control.zoom(n),function(t,n,e,i){var o=function(i){var o="set"+function(t){return t&&"function"==typeof t.charAt?t.charAt(0).toUpperCase()+t.slice(1):t}(i),l=e[i].type===Object||e[i].type===Array||Array.isArray(e[i].type);e[i].custom&&t[o]?t.$watch(i,(function(n,e){t[o](n,e)}),{deep:l}):"setOptions"===o?t.$watch(i,(function(t,e){YV.setOptions(n,t)}),{deep:l}):n[o]&&t.$watch(i,(function(t,e){n[o](t)}),{deep:l})};for(var l in e)o(l)}(this,this.mapObject,this.$options.props),this.mapObject.addTo(this.$parent.mapObject),this.$nextTick((function(){t.$emit("ready",t.mapObject)}))},render:function(){return null}};function JV(t,n,e,i,o,l,s,r,a,d){"boolean"!=typeof s&&(a=r,r=s,s=!1);var c,u="function"==typeof e?e.options:e;if(t&&t.render&&(u.render=t.render,u.staticRenderFns=t.staticRenderFns,u._compiled=!0,o&&(u.functional=!0)),i&&(u._scopeId=i),l?(c=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),n&&n.call(this,a(t)),t&&t._registeredComponents&&t._registeredComponents.add(l)},u._ssrRegister=c):n&&(c=s?function(t){n.call(this,d(t,this.$root.$options.shadowRoot))}:function(t){n.call(this,r(t))}),c)if(u.functional){var p=u.render;u.render=function(t,n){return c.call(n),p(t,n)}}else{var h=u.beforeCreate;u.beforeCreate=h?[].concat(h,c):[c]}return e}var NV=JV({},undefined,zV,undefined,undefined,undefined,!1,void 0,void 0,void 0),FV={name:"LLayerGroup",mixins:[{mixins:[{props:{pane:{type:String,default:"overlayPane"},attribution:{type:String,default:null,custom:!0},name:{type:String,custom:!0,default:void 0},layerType:{type:String,custom:!0,default:void 0},visible:{type:Boolean,custom:!0,default:!0}},mounted:function(){this.layerOptions={attribution:this.attribution,pane:this.pane}},beforeDestroy:function(){this.unbindPopup(),this.unbindTooltip(),this.parentContainer.removeLayer(this)},methods:{setAttribution:function(t,n){this.$parent.mapObject.attributionControl.removeAttribution(n).addAttribution(t)},setName:function(){this.parentContainer.removeLayer(this),this.visible&&this.parentContainer.addLayer(this)},setLayerType:function(){this.parentContainer.removeLayer(this),this.visible&&this.parentContainer.addLayer(this)},setVisible:function(t){this.mapObject&&(t?this.parentContainer.addLayer(this):this.parentContainer.hideLayer?this.parentContainer.hideLayer(this):this.parentContainer.removeLayer(this))},unbindTooltip:function(){var t=this.mapObject?this.mapObject.getTooltip():null;t&&t.unbindTooltip()},unbindPopup:function(){var t=this.mapObject?this.mapObject.getPopup():null;t&&t.unbindPopup()},updateVisibleProp:function(t){this.$emit("update:visible",t)}}}],mounted:function(){this.layerGroupOptions=this.layerOptions},methods:{addLayer:function(t,n){n||this.mapObject.addLayer(t.mapObject),this.parentContainer.addLayer(t,!0)},removeLayer:function(t,n){n||this.mapObject.removeLayer(t.mapObject),this.parentContainer.removeLayer(t,!0)}}},{props:{options:{type:Object,default:function(){return{}}}}}],data:function(){return{ready:!1}},mounted:function(){var t=this;this.mapObject=YV.layerGroup(),function(t,n,e,i){var o=function(i){var o="set"+function(t){return t&&"function"==typeof t.charAt?t.charAt(0).toUpperCase()+t.slice(1):t}(i),l=e[i].type===Object||e[i].type===Array||Array.isArray(e[i].type);e[i].custom&&t[o]?t.$watch(i,(function(n,e){t[o](n,e)}),{deep:l}):"setOptions"===o?t.$watch(i,(function(t,e){YV.setOptions(n,t)}),{deep:l}):n[o]&&t.$watch(i,(function(t,e){n[o](t)}),{deep:l})};for(var l in e)o(l)}(this,this.mapObject,this.$options.props),YV.DomEvent.on(this.mapObject,this.$listeners),this.ready=!0,this.parentContainer=function(t){for(var n=!1;t&&!n;)void 0===t.mapObject?t=t.$parent:n=!0;return t}(this.$parent),this.parentContainer.addLayer(this,!this.visible),this.$nextTick((function(){t.$emit("ready",t.mapObject)}))}};function kV(t,n,e,i,o,l,s,r,a,d){"boolean"!=typeof s&&(a=r,r=s,s=!1);var c,u="function"==typeof e?e.options:e;if(t&&t.render&&(u.render=t.render,u.staticRenderFns=t.staticRenderFns,u._compiled=!0,o&&(u.functional=!0)),i&&(u._scopeId=i),l?(c=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),n&&n.call(this,a(t)),t&&t._registeredComponents&&t._registeredComponents.add(l)},u._ssrRegister=c):n&&(c=s?function(t){n.call(this,d(t,this.$root.$options.shadowRoot))}:function(t){n.call(this,r(t))}),c)if(u.functional){var p=u.render;u.render=function(t,n){return c.call(n),p(t,n)}}else{var h=u.beforeCreate;u.beforeCreate=h?[].concat(h,c):[c]}return e}var BV=kV({render:function(){var t=this,n=t.$createElement;return(t._self._c||n)("div",{staticStyle:{display:"none"}},[t.ready?t._t("default"):t._e()],2)},staticRenderFns:[]},undefined,FV,undefined,false,undefined,!1,void 0,void 0,void 0),_V=function(t){var n={};for(var e in t){var i=t[e];null!=i&&(n[e]=i)}return n},UV={name:"LMap",mixins:[{props:{options:{type:Object,default:function(){return{}}}}}],props:{center:{type:[Object,Array],custom:!0,default:function(){return[0,0]}},bounds:{type:[Array,Object],custom:!0,default:null},maxBounds:{type:[Array,Object],default:null},zoom:{type:Number,custom:!0,default:0},minZoom:{type:Number,default:null},maxZoom:{type:Number,default:null},paddingBottomRight:{type:Array,custom:!0,default:null},paddingTopLeft:{type:Array,custom:!0,default:null},padding:{type:Array,custom:!0,default:null},worldCopyJump:{type:Boolean,default:!1},crs:{type:Object,custom:!0,default:function(){return YV.CRS.EPSG3857}},maxBoundsViscosity:{type:Number,default:null},inertia:{type:Boolean,default:null},inertiaDeceleration:{type:Number,default:null},inertiaMaxSpeed:{type:Number,default:null},easeLinearity:{type:Number,default:null},zoomAnimation:{type:Boolean,default:null},zoomAnimationThreshold:{type:Number,default:null},fadeAnimation:{type:Boolean,default:null},markerZoomAnimation:{type:Boolean,default:null},noBlockingAnimations:{type:Boolean,default:!1}},data:function(){return{ready:!1,lastSetCenter:this.center?YV.latLng(this.center):null,lastSetBounds:this.bounds?YV.latLngBounds(this.bounds):null,layerControl:void 0,layersToAdd:[],layersInControl:[]}},computed:{fitBoundsOptions:function(){var t={animate:!this.noBlockingAnimations&&null};return this.padding?t.padding=this.padding:(this.paddingBottomRight&&(t.paddingBottomRight=this.paddingBottomRight),this.paddingTopLeft&&(t.paddingTopLeft=this.paddingTopLeft)),t}},beforeDestroy:function(){this.debouncedMoveEndHandler&&this.debouncedMoveEndHandler.cancel(),this.mapObject&&this.mapObject.remove()},mounted:function(){var t,n,e,i,o=this,l=function(t,n){var e=n.options&&n.options.constructor===Object?n.options:{};t=t&&t.constructor===Object?t:{};var i=_V(e);t=_V(t);var o=n.$options.props;for(var l in t){var s=o[l]?o[l].default&&"function"==typeof o[l].default?o[l].default.call():o[l].default:Symbol("unique"),r=!1;r=Array.isArray(s)?JSON.stringify(s)===JSON.stringify(t[l]):s===t[l],i[l]&&!r?(console.warn(l+" props is overriding the value passed in the options props"),i[l]=t[l]):i[l]||(i[l]=t[l])}return i}({minZoom:this.minZoom,maxZoom:this.maxZoom,maxBounds:this.maxBounds,maxBoundsViscosity:this.maxBoundsViscosity,worldCopyJump:this.worldCopyJump,crs:this.crs,center:this.center,zoom:this.zoom,inertia:this.inertia,inertiaDeceleration:this.inertiaDeceleration,inertiaMaxSpeed:this.inertiaMaxSpeed,easeLinearity:this.easeLinearity,zoomAnimation:this.zoomAnimation,zoomAnimationThreshold:this.zoomAnimationThreshold,fadeAnimation:this.fadeAnimation,markerZoomAnimation:this.markerZoomAnimation},this);this.mapObject=YV.map(this.$el,l),this.bounds&&this.fitBounds(this.bounds),this.debouncedMoveEndHandler=(t=this.moveEndHandler,n=100,i=function(){for(var i=[],o=arguments.length;o--;)i[o]=arguments[o];var l=this;e&&clearTimeout(e),e=setTimeout((function(){t.apply(l,i),e=null}),n)},i.cancel=function(){e&&clearTimeout(e)},i),this.mapObject.on("moveend",this.debouncedMoveEndHandler),this.mapObject.on("overlayadd",this.overlayAddHandler),this.mapObject.on("overlayremove",this.overlayRemoveHandler),YV.DomEvent.on(this.mapObject,this.$listeners),function(t,n,e,i){var o=function(i){var o="set"+function(t){return t&&"function"==typeof t.charAt?t.charAt(0).toUpperCase()+t.slice(1):t}(i),l=e[i].type===Object||e[i].type===Array||Array.isArray(e[i].type);e[i].custom&&t[o]?t.$watch(i,(function(n,e){t[o](n,e)}),{deep:l}):"setOptions"===o?t.$watch(i,(function(t,e){YV.setOptions(n,t)}),{deep:l}):n[o]&&t.$watch(i,(function(t,e){n[o](t)}),{deep:l})};for(var l in e)o(l)}(this,this.mapObject,this.$options.props),this.ready=!0,this.$emit("leaflet:load"),this.$nextTick((function(){o.$emit("ready",o.mapObject)}))},methods:{registerLayerControl:function(t){var n=this;this.layerControl=t,this.mapObject.addControl(t.mapObject),this.layersToAdd.forEach((function(t){n.layerControl.addLayer(t)})),this.layersToAdd=[]},addLayer:function(t,n){void 0!==t.layerType&&(void 0===this.layerControl?this.layersToAdd.push(t):this.layersInControl.find((function(n){return n.mapObject._leaflet_id===t.mapObject._leaflet_id}))||(this.layerControl.addLayer(t),this.layersInControl.push(t)));n||!1===t.visible||this.mapObject.addLayer(t.mapObject)},hideLayer:function(t){this.mapObject.removeLayer(t.mapObject)},removeLayer:function(t,n){void 0!==t.layerType&&(void 0===this.layerControl?this.layersToAdd=this.layersToAdd.filter((function(n){return n.name!==t.name})):(this.layerControl.removeLayer(t),this.layersInControl=this.layersInControl.filter((function(n){return n.mapObject._leaflet_id!==t.mapObject._leaflet_id})))),n||this.mapObject.removeLayer(t.mapObject)},setZoom:function(t,n){null!=t&&(this.mapObject.setZoom(t,{animate:!this.noBlockingAnimations&&null}),this.cacheMapView())},setCenter:function(t,n){if(null!=t){var e=YV.latLng(t),i=this.lastSetCenter||this.mapObject.getCenter();i.lat===e.lat&&i.lng===e.lng||(this.lastSetCenter=e,this.mapObject.panTo(e,{animate:!this.noBlockingAnimations&&null}),this.cacheMapView(void 0,e))}},setBounds:function(t,n){if(t){var e=YV.latLngBounds(t);if(e.isValid())!(this.lastSetBounds||this.mapObject.getBounds()).equals(e,0)&&(this.fitBounds(e),this.cacheMapView(e))}},setPaddingBottomRight:function(t,n){this.paddingBottomRight=t},setPaddingTopLeft:function(t,n){this.paddingTopLeft=t},setPadding:function(t,n){this.padding=t},setCrs:function(t,n){var e=this.mapObject,i=e.getBounds();e.options.crs=t,this.fitBounds(i,{animate:!1})},fitBounds:function(t,n){this.mapObject.fitBounds(t,Object.assign({},this.fitBoundsOptions,n))},moveEndHandler:function(){this.$emit("update:zoom",this.mapObject.getZoom());var t=this.mapObject.getCenter();this.$emit("update:center",t);var n=this.mapObject.getBounds();this.$emit("update:bounds",n)},overlayAddHandler:function(t){var n=this.layersInControl.find((function(n){return n.name===t.name}));n&&n.updateVisibleProp(!0)},overlayRemoveHandler:function(t){var n=this.layersInControl.find((function(n){return n.name===t.name}));n&&n.updateVisibleProp(!1)},cacheMapView:function(t,n){this.lastSetBounds=t||this.mapObject.getBounds(),this.lastSetCenter=n||this.lastSetBounds.getCenter()}}};function EV(t,n,e,i,o,l,s,r,a,d){"boolean"!=typeof s&&(a=r,r=s,s=!1);var c,u="function"==typeof e?e.options:e;if(t&&t.render&&(u.render=t.render,u.staticRenderFns=t.staticRenderFns,u._compiled=!0,o&&(u.functional=!0)),i&&(u._scopeId=i),l?(c=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),n&&n.call(this,a(t)),t&&t._registeredComponents&&t._registeredComponents.add(l)},u._ssrRegister=c):n&&(c=s?function(t){n.call(this,d(t,this.$root.$options.shadowRoot))}:function(t){n.call(this,r(t))}),c)if(u.functional){var p=u.render;u.render=function(t,n){return c.call(n),p(t,n)}}else{var h=u.beforeCreate;u.beforeCreate=h?[].concat(h,c):[c]}return e}var jV,QV="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());function OV(t){return function(t,n){return function(t,n){var e=QV?n.media||"default":t,i=AV[e]||(AV[e]={ids:new Set,styles:[]});if(!i.ids.has(t)){i.ids.add(t);var o=n.source;if(n.map&&(o+="\n/*# sourceURL="+n.map.sources[0]+" */",o+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n.map))))+" */"),i.element||(i.element=document.createElement("style"),i.element.type="text/css",n.media&&i.element.setAttribute("media",n.media),void 0===jV&&(jV=document.head||document.getElementsByTagName("head")[0]),jV.appendChild(i.element)),"styleSheet"in i.element)i.styles.push(o),i.element.styleSheet.cssText=i.styles.filter(Boolean).join("\n");else{var l=i.ids.size-1,s=document.createTextNode(o),r=i.element.childNodes;r[l]&&i.element.removeChild(r[l]),r.length?i.element.insertBefore(s,r[l]):i.element.appendChild(s)}}}(t,n)}}var AV={};var DV=EV({render:function(){var t=this,n=t.$createElement;return(t._self._c||n)("div",{staticClass:"vue2leaflet-map"},[t.ready?t._t("default"):t._e()],2)},staticRenderFns:[]},(function(t){t&&t("data-v-09f270aa_0",{source:".vue2leaflet-map{height:100%;width:100%}",map:void 0,media:void 0})}),UV,undefined,false,undefined,!1,OV,void 0,void 0),qV=function(t){var n={};for(var e in t){var i=t[e];null!=i&&(n[e]=i)}return n},$V={name:"LMarker",mixins:[{props:{pane:{type:String,default:"overlayPane"},attribution:{type:String,default:null,custom:!0},name:{type:String,custom:!0,default:void 0},layerType:{type:String,custom:!0,default:void 0},visible:{type:Boolean,custom:!0,default:!0}},mounted:function(){this.layerOptions={attribution:this.attribution,pane:this.pane}},beforeDestroy:function(){this.unbindPopup(),this.unbindTooltip(),this.parentContainer.removeLayer(this)},methods:{setAttribution:function(t,n){this.$parent.mapObject.attributionControl.removeAttribution(n).addAttribution(t)},setName:function(){this.parentContainer.removeLayer(this),this.visible&&this.parentContainer.addLayer(this)},setLayerType:function(){this.parentContainer.removeLayer(this),this.visible&&this.parentContainer.addLayer(this)},setVisible:function(t){this.mapObject&&(t?this.parentContainer.addLayer(this):this.parentContainer.hideLayer?this.parentContainer.hideLayer(this):this.parentContainer.removeLayer(this))},unbindTooltip:function(){var t=this.mapObject?this.mapObject.getTooltip():null;t&&t.unbindTooltip()},unbindPopup:function(){var t=this.mapObject?this.mapObject.getPopup():null;t&&t.unbindPopup()},updateVisibleProp:function(t){this.$emit("update:visible",t)}}},{props:{options:{type:Object,default:function(){return{}}}}}],props:{pane:{type:String,default:"markerPane"},draggable:{type:Boolean,custom:!0,default:!1},latLng:{type:[Object,Array],custom:!0,default:null},icon:{type:[Object],custom:!1,default:function(){return new YV.Icon.Default}},opacity:{type:Number,custom:!1,default:1},zIndexOffset:{type:Number,custom:!1,default:null}},data:function(){return{ready:!1}},beforeDestroy:function(){this.debouncedLatLngSync&&this.debouncedLatLngSync.cancel()},mounted:function(){var t,n,e,i,o=this,l=function(t,n){var e=n.options&&n.options.constructor===Object?n.options:{};t=t&&t.constructor===Object?t:{};var i=qV(e);t=qV(t);var o=n.$options.props;for(var l in t){var s=o[l]?o[l].default&&"function"==typeof o[l].default?o[l].default.call():o[l].default:Symbol("unique"),r=!1;r=Array.isArray(s)?JSON.stringify(s)===JSON.stringify(t[l]):s===t[l],i[l]&&!r?(console.warn(l+" props is overriding the value passed in the options props"),i[l]=t[l]):i[l]||(i[l]=t[l])}return i}(Object.assign({},this.layerOptions,{icon:this.icon,zIndexOffset:this.zIndexOffset,draggable:this.draggable,opacity:this.opacity}),this);this.mapObject=YV.marker(this.latLng,l),YV.DomEvent.on(this.mapObject,this.$listeners),this.debouncedLatLngSync=(t=this.latLngSync,n=100,i=function(){for(var i=[],o=arguments.length;o--;)i[o]=arguments[o];var l=this;e&&clearTimeout(e),e=setTimeout((function(){t.apply(l,i),e=null}),n)},i.cancel=function(){e&&clearTimeout(e)},i),this.mapObject.on("move",this.debouncedLatLngSync),function(t,n,e,i){var o=function(i){var o="set"+function(t){return t&&"function"==typeof t.charAt?t.charAt(0).toUpperCase()+t.slice(1):t}(i),l=e[i].type===Object||e[i].type===Array||Array.isArray(e[i].type);e[i].custom&&t[o]?t.$watch(i,(function(n,e){t[o](n,e)}),{deep:l}):"setOptions"===o?t.$watch(i,(function(t,e){YV.setOptions(n,t)}),{deep:l}):n[o]&&t.$watch(i,(function(t,e){n[o](t)}),{deep:l})};for(var l in e)o(l)}(this,this.mapObject,this.$options.props),this.parentContainer=function(t){for(var n=!1;t&&!n;)void 0===t.mapObject?t=t.$parent:n=!0;return t}(this.$parent),this.parentContainer.addLayer(this,!this.visible),this.ready=!0,this.$nextTick((function(){o.$emit("ready",o.mapObject)}))},methods:{setDraggable:function(t,n){this.mapObject.dragging&&(t?this.mapObject.dragging.enable():this.mapObject.dragging.disable())},setLatLng:function(t){if(null!=t&&this.mapObject){var n=this.mapObject.getLatLng(),e=YV.latLng(t);e.lat===n.lat&&e.lng===n.lng||this.mapObject.setLatLng(e)}},latLngSync:function(t){this.$emit("update:latLng",t.latlng),this.$emit("update:lat-lng",t.latlng)}},render:function(t){return this.ready&&this.$slots.default?t("div",{style:{display:"none"}},this.$slots.default):null}};function tx(t,n,e,i,o,l,s,r,a,d){"boolean"!=typeof s&&(a=r,r=s,s=!1);var c,u="function"==typeof e?e.options:e;if(t&&t.render&&(u.render=t.render,u.staticRenderFns=t.staticRenderFns,u._compiled=!0,o&&(u.functional=!0)),i&&(u._scopeId=i),l?(c=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),n&&n.call(this,a(t)),t&&t._registeredComponents&&t._registeredComponents.add(l)},u._ssrRegister=c):n&&(c=s?function(t){n.call(this,d(t,this.$root.$options.shadowRoot))}:function(t){n.call(this,r(t))}),c)if(u.functional){var p=u.render;u.render=function(t,n){return c.call(n),p(t,n)}}else{var h=u.beforeCreate;u.beforeCreate=h?[].concat(h,c):[c]}return e}var nx=tx({},undefined,$V,undefined,undefined,undefined,!1,void 0,void 0,void 0),ex=function(t){var n={};for(var e in t){var i=t[e];null!=i&&(n[e]=i)}return n},ix={name:"LPolygon",mixins:[{mixins:[{mixins:[{mixins:[{props:{pane:{type:String,default:"overlayPane"},attribution:{type:String,default:null,custom:!0},name:{type:String,custom:!0,default:void 0},layerType:{type:String,custom:!0,default:void 0},visible:{type:Boolean,custom:!0,default:!0}},mounted:function(){this.layerOptions={attribution:this.attribution,pane:this.pane}},beforeDestroy:function(){this.unbindPopup(),this.unbindTooltip(),this.parentContainer.removeLayer(this)},methods:{setAttribution:function(t,n){this.$parent.mapObject.attributionControl.removeAttribution(n).addAttribution(t)},setName:function(){this.parentContainer.removeLayer(this),this.visible&&this.parentContainer.addLayer(this)},setLayerType:function(){this.parentContainer.removeLayer(this),this.visible&&this.parentContainer.addLayer(this)},setVisible:function(t){this.mapObject&&(t?this.parentContainer.addLayer(this):this.parentContainer.hideLayer?this.parentContainer.hideLayer(this):this.parentContainer.removeLayer(this))},unbindTooltip:function(){var t=this.mapObject?this.mapObject.getTooltip():null;t&&t.unbindTooltip()},unbindPopup:function(){var t=this.mapObject?this.mapObject.getPopup():null;t&&t.unbindPopup()},updateVisibleProp:function(t){this.$emit("update:visible",t)}}},{props:{interactive:{type:Boolean,default:!0},bubblingMouseEvents:{type:Boolean,default:!0}},mounted:function(){this.interactiveLayerOptions={interactive:this.interactive,bubblingMouseEvents:this.bubblingMouseEvents}}}],props:{lStyle:{type:Object,custom:!0,default:null},stroke:{type:Boolean,custom:!0,default:!0},color:{type:String,custom:!0,default:"#3388ff"},weight:{type:Number,custom:!0,default:3},opacity:{type:Number,custom:!0,default:1},lineCap:{type:String,custom:!0,default:"round"},lineJoin:{type:String,custom:!0,default:"round"},dashArray:{type:String,custom:!0,default:null},dashOffset:{type:String,custom:!0,default:null},fill:{type:Boolean,custom:!0,default:!1},fillColor:{type:String,custom:!0,default:"#3388ff"},fillOpacity:{type:Number,custom:!0,default:.2},fillRule:{type:String,custom:!0,default:"evenodd"},className:{type:String,custom:!0,default:null}},mounted:function(){if(this.pathOptions=Object.assign({},this.layerOptions,this.interactiveLayerOptions,{stroke:this.stroke,color:this.color,weight:this.weight,opacity:this.opacity,lineCap:this.lineCap,lineJoin:this.lineJoin,dashArray:this.dashArray,dashOffset:this.dashOffset,fill:this.fill,fillColor:this.fillColor,fillOpacity:this.fillOpacity,fillRule:this.fillRule,className:this.className}),this.lStyle)for(var t in console.warn("lStyle is deprecated and is going to be removed in the next major version"),this.lStyle)this.pathOptions[t]=this.lStyle[t]},beforeDestroy:function(){this.parentContainer?this.parentContainer.removeLayer(this):console.error("Missing parent container")},methods:{setLStyle:function(t){this.mapObject.setStyle(t)},setStroke:function(t){this.mapObject.setStyle({stroke:t})},setColor:function(t){this.mapObject.setStyle({color:t})},setWeight:function(t){this.mapObject.setStyle({weight:t})},setOpacity:function(t){this.mapObject.setStyle({opacity:t})},setLineCap:function(t){this.mapObject.setStyle({lineCap:t})},setLineJoin:function(t){this.mapObject.setStyle({lineJoin:t})},setDashArray:function(t){this.mapObject.setStyle({dashArray:t})},setDashOffset:function(t){this.mapObject.setStyle({dashOffset:t})},setFill:function(t){this.mapObject.setStyle({fill:t})},setFillColor:function(t){this.mapObject.setStyle({fillColor:t})},setFillOpacity:function(t){this.mapObject.setStyle({fillOpacity:t})},setFillRule:function(t){this.mapObject.setStyle({fillRule:t})},setClassName:function(t){this.mapObject.setStyle({className:t})}}}],props:{smoothFactor:{type:Number,custom:!0,default:1},noClip:{type:Boolean,custom:!0,default:!1}},data:function(){return{ready:!1}},mounted:function(){this.polyLineOptions=Object.assign({},this.pathOptions,{smoothFactor:this.smoothFactor,noClip:this.noClip})},methods:{setSmoothFactor:function(t){this.mapObject.setStyle({smoothFactor:t})},setNoClip:function(t){this.mapObject.setStyle({noClip:t})},addLatLng:function(t){this.mapObject.addLatLng(t)}}}],props:{fill:{type:Boolean,custom:!0,default:!0}},mounted:function(){this.polygonOptions=this.polyLineOptions},methods:{getGeoJSONData:function(){return this.mapObject.toGeoJSON()}}},{props:{options:{type:Object,default:function(){return{}}}}}],props:{latLngs:{type:Array,default:function(){return[]}}},data:function(){return{ready:!1}},mounted:function(){var t=this,n=function(t,n){var e=n.options&&n.options.constructor===Object?n.options:{};t=t&&t.constructor===Object?t:{};var i=ex(e);t=ex(t);var o=n.$options.props;for(var l in t){var s=o[l]?o[l].default&&"function"==typeof o[l].default?o[l].default.call():o[l].default:Symbol("unique"),r=!1;r=Array.isArray(s)?JSON.stringify(s)===JSON.stringify(t[l]):s===t[l],i[l]&&!r?(console.warn(l+" props is overriding the value passed in the options props"),i[l]=t[l]):i[l]||(i[l]=t[l])}return i}(this.polygonOptions,this);this.mapObject=YV.polygon(this.latLngs,n),YV.DomEvent.on(this.mapObject,this.$listeners),function(t,n,e,i){var o=function(i){var o="set"+function(t){return t&&"function"==typeof t.charAt?t.charAt(0).toUpperCase()+t.slice(1):t}(i),l=e[i].type===Object||e[i].type===Array||Array.isArray(e[i].type);e[i].custom&&t[o]?t.$watch(i,(function(n,e){t[o](n,e)}),{deep:l}):"setOptions"===o?t.$watch(i,(function(t,e){YV.setOptions(n,t)}),{deep:l}):n[o]&&t.$watch(i,(function(t,e){n[o](t)}),{deep:l})};for(var l in e)o(l)}(this,this.mapObject,this.$options.props),this.ready=!0,this.parentContainer=function(t){for(var n=!1;t&&!n;)void 0===t.mapObject?t=t.$parent:n=!0;return t}(this.$parent),this.parentContainer.addLayer(this,!this.visible),this.$nextTick((function(){t.$emit("ready",t.mapObject)}))}};function ox(t,n,e,i,o,l,s,r,a,d){"boolean"!=typeof s&&(a=r,r=s,s=!1);var c,u="function"==typeof e?e.options:e;if(t&&t.render&&(u.render=t.render,u.staticRenderFns=t.staticRenderFns,u._compiled=!0,o&&(u.functional=!0)),i&&(u._scopeId=i),l?(c=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),n&&n.call(this,a(t)),t&&t._registeredComponents&&t._registeredComponents.add(l)},u._ssrRegister=c):n&&(c=s?function(t){n.call(this,d(t,this.$root.$options.shadowRoot))}:function(t){n.call(this,r(t))}),c)if(u.functional){var p=u.render;u.render=function(t,n){return c.call(n),p(t,n)}}else{var h=u.beforeCreate;u.beforeCreate=h?[].concat(h,c):[c]}return e}var lx=ox({render:function(){var t=this,n=t.$createElement;return(t._self._c||n)("div",{staticStyle:{display:"none"}},[t.ready?t._t("default"):t._e()],2)},staticRenderFns:[]},undefined,ix,undefined,false,undefined,!1,void 0,void 0,void 0),sx=function(t){var n={};for(var e in t){var i=t[e];null!=i&&(n[e]=i)}return n},rx={name:"LTileLayer",mixins:[{mixins:[{mixins:[{props:{pane:{type:String,default:"overlayPane"},attribution:{type:String,default:null,custom:!0},name:{type:String,custom:!0,default:void 0},layerType:{type:String,custom:!0,default:void 0},visible:{type:Boolean,custom:!0,default:!0}},mounted:function(){this.layerOptions={attribution:this.attribution,pane:this.pane}},beforeDestroy:function(){this.unbindPopup(),this.unbindTooltip(),this.parentContainer.removeLayer(this)},methods:{setAttribution:function(t,n){this.$parent.mapObject.attributionControl.removeAttribution(n).addAttribution(t)},setName:function(){this.parentContainer.removeLayer(this),this.visible&&this.parentContainer.addLayer(this)},setLayerType:function(){this.parentContainer.removeLayer(this),this.visible&&this.parentContainer.addLayer(this)},setVisible:function(t){this.mapObject&&(t?this.parentContainer.addLayer(this):this.parentContainer.hideLayer?this.parentContainer.hideLayer(this):this.parentContainer.removeLayer(this))},unbindTooltip:function(){var t=this.mapObject?this.mapObject.getTooltip():null;t&&t.unbindTooltip()},unbindPopup:function(){var t=this.mapObject?this.mapObject.getPopup():null;t&&t.unbindPopup()},updateVisibleProp:function(t){this.$emit("update:visible",t)}}}],props:{pane:{type:String,default:"tilePane"},opacity:{type:Number,custom:!1,default:1},zIndex:{type:Number,default:1},tileSize:{type:Number,default:256},noWrap:{type:Boolean,default:!1}},mounted:function(){this.gridLayerOptions=Object.assign({},this.layerOptions,{pane:this.pane,opacity:this.opacity,zIndex:this.zIndex,tileSize:this.tileSize,noWrap:this.noWrap})}}],props:{tms:{type:Boolean,default:!1},subdomains:{type:[String,Array],default:"abc",validator:function(t){return"string"==typeof t||!!Array.isArray(t)&&t.every((function(t){return"string"==typeof t}))}},detectRetina:{type:Boolean,default:!1}},mounted:function(){this.tileLayerOptions=Object.assign({},this.gridLayerOptions,{tms:this.tms,subdomains:this.subdomains,detectRetina:this.detectRetina})},render:function(){return null}},{props:{options:{type:Object,default:function(){return{}}}}}],props:{url:{type:String,default:null},tileLayerClass:{type:Function,default:YV.tileLayer}},mounted:function(){var t=this,n=function(t,n){var e=n.options&&n.options.constructor===Object?n.options:{};t=t&&t.constructor===Object?t:{};var i=sx(e);t=sx(t);var o=n.$options.props;for(var l in t){var s=o[l]?o[l].default&&"function"==typeof o[l].default?o[l].default.call():o[l].default:Symbol("unique"),r=!1;r=Array.isArray(s)?JSON.stringify(s)===JSON.stringify(t[l]):s===t[l],i[l]&&!r?(console.warn(l+" props is overriding the value passed in the options props"),i[l]=t[l]):i[l]||(i[l]=t[l])}return i}(this.tileLayerOptions,this);this.mapObject=this.tileLayerClass(this.url,n),YV.DomEvent.on(this.mapObject,this.$listeners),function(t,n,e,i){var o=function(i){var o="set"+function(t){return t&&"function"==typeof t.charAt?t.charAt(0).toUpperCase()+t.slice(1):t}(i),l=e[i].type===Object||e[i].type===Array||Array.isArray(e[i].type);e[i].custom&&t[o]?t.$watch(i,(function(n,e){t[o](n,e)}),{deep:l}):"setOptions"===o?t.$watch(i,(function(t,e){YV.setOptions(n,t)}),{deep:l}):n[o]&&t.$watch(i,(function(t,e){n[o](t)}),{deep:l})};for(var l in e)o(l)}(this,this.mapObject,this.$options.props),this.parentContainer=function(t){for(var n=!1;t&&!n;)void 0===t.mapObject?t=t.$parent:n=!0;return t}(this.$parent),this.parentContainer.addLayer(this,!this.visible),this.$nextTick((function(){t.$emit("ready",t.mapObject)}))}};function ax(t,n,e,i,o,l,s,r,a,d){"boolean"!=typeof s&&(a=r,r=s,s=!1);var c,u="function"==typeof e?e.options:e;if(t&&t.render&&(u.render=t.render,u.staticRenderFns=t.staticRenderFns,u._compiled=!0,o&&(u.functional=!0)),i&&(u._scopeId=i),l?(c=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),n&&n.call(this,a(t)),t&&t._registeredComponents&&t._registeredComponents.add(l)},u._ssrRegister=c):n&&(c=s?function(t){n.call(this,d(t,this.$root.$options.shadowRoot))}:function(t){n.call(this,r(t))}),c)if(u.functional){var p=u.render;u.render=function(t,n){return c.call(n),p(t,n)}}else{var h=u.beforeCreate;u.beforeCreate=h?[].concat(h,c):[c]}return e}var dx=ax({render:function(){var t=this.$createElement;return(this._self._c||t)("div")},staticRenderFns:[]},undefined,rx,undefined,false,undefined,!1,void 0,void 0,void 0);var cx=function(t,n,e){var i=t.length;return e=void 0===e?i:e,!n&&e>=i?t:_i(t,n,e)};var ux=function(t,n,e,i){for(var o=t.length,l=e+(i?1:-1);i?l--:++l<o;)if(n(t[l],l,t))return l;return-1};var px=function(t){return t!=t};var hx=function(t,n,e){for(var i=e-1,o=t.length;++i<o;)if(t[i]===n)return i;return-1};var mx=function(t,n,e){return n==n?hx(t,n,e):ux(t,px,e)};var bx=function(t,n){for(var e=t.length;e--&&mx(n,t[e],0)>-1;);return e};var yx=function(t,n){for(var e=-1,i=t.length;++e<i&&mx(n,t[e],0)>-1;);return e};var Zx=function(t){return t.split("")},Xx="[\\ud800-\\udfff]",fx="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",Gx="\\ud83c[\\udffb-\\udfff]",Wx="[^\\ud800-\\udfff]",gx="(?:\\ud83c[\\udde6-\\uddff]){2}",vx="[\\ud800-\\udbff][\\udc00-\\udfff]",Vx="(?:"+fx+"|"+Gx+")"+"?",xx="[\\ufe0e\\ufe0f]?",Sx=xx+Vx+("(?:\\u200d(?:"+[Wx,gx,vx].join("|")+")"+xx+Vx+")*"),Lx="(?:"+[Wx+fx+"?",fx,gx,vx,Xx].join("|")+")",Rx=RegExp(Gx+"(?="+Gx+")|"+Lx+Sx,"g");var Kx=function(t){return t.match(Rx)||[]};var Hx=function(t){return Ie(t)?Kx(t):Zx(t)};var Cx=function(t,n,e){if((t=Lt(t))&&(e||void 0===n))return _o(t);if(!t||!(n=St(n)))return t;var i=Hx(t),o=Hx(n),l=yx(i,o),s=bx(i,o)+1;return cx(i,l,s).join("")};var Yx=function(t){return Lt(t).toLowerCase()};var Tx=function(t){return Lt(t).toUpperCase()};function Mx(t,n){return wo(t)&&ul(n)?0===(n=rl(n))?"":t.substring(0,n):""}function wx(t,n){return wo(t)&&ul(n)?0===(n=rl(n))?t:function(t,n){if(!wo(t))return"";if(!ul(n))return"";if(0===(n=rl(n)))return"";var e=t.length-n;return e<0&&(e=0),t.substr(e,n)}(t,t.length-n):""}function Px(t,n,e){if(!wo(t))return"";if(!wo(n))return"";if(!Mo(e))return"";var i=new RegExp(n,"g");return String(t).replace(i,e)}function Ix(t,n){if(!wo(t))return[];if(!wo(n))return[];var e=function(t,n){return wo(t)&&wo(n)?t.split(n):[]}(t,n);e=He(e,Cx);var i=[];return Te(e,(function(t){wo(t)&&i.push(t)})),i}function zx(t){if(!wo(t)&&!tl(t)&&!f(t))return"";var n="";try{n=String(t)}catch(t){}try{n=t.toString()}catch(t){}return n}function Jx(t,n){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return wo(t)&&ul(n)?(e=al(e)?rl(e):1,t.substring(n,n+e)):""}var Nx={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"};function Fx(t){return Bx(t,1)}function kx(t){return Bx(t,360)}function Bx(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(t.indexOf("%")>=0){if(!tl(t=Px(t,"%","")))throw new Error("invalid color: value is not number");t=nl(t)/100}else{if(!tl(t))throw new Error("invalid color: value is not number");t=nl(t)/n}if(t>1)throw new Error("invalid color: value > 1");if(t<0)throw new Error("invalid color: value < 0");return t}function _x(t){if(!tl(t))throw new Error("invalid color: value is not number");if((t=nl(t))>1)throw new Error("invalid color: value > 1");if(t<0)throw new Error("invalid color: value < 0");return t}function Ux(t){var n,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"rgba";if(!Po(t))throw new Error("invalid colors array");var i=Ct(t,0,0),o=Ct(t,1,0),l=Ct(t,2,0),s=Ct(t,3,1);if(e=e.split(""),4!==De(e))throw new Error("tar.length !== 4");var r=Ct(e,0),a=Ct(e,1),d=Ct(e,2),c=Ct(e,3);return wt(n={},r,i),wt(n,a,o),wt(n,d,l),wt(n,c,s),n}function Ex(t){t=wx(t,1);var n=De(t);if(2===n)t="".concat(t).concat(t).concat(t,"ff");else if(3===n){var e=Jx(t,0,1),i=Jx(t,1,1),o=Jx(t,2,1);t="".concat(e).concat(e).concat(i).concat(i).concat(o).concat(o,"ff")}else if(6===n)t="".concat(t,"ff");else if(8!==n)throw new Error("invalid hex color");function l(t){if(2!==De(t))throw new Error("hex.length of color is not equal to 2");if(!tl(t=parseInt(t,16)))throw new Error("invalid hex of color");return(t=nl(t))/255}return{r:l(Jx(t,0,2)),g:l(Jx(t,2,2)),b:l(Jx(t,4,2)),a:l(Jx(t,6,2))}}function jx(t){return t=Ux(t=He(t,(function(t,n){return n<=2?Bx(t,255):3===n?_x(t):null})),"rgba")}function Qx(t){return t=eS(t=Ux(t=He(t,(function(t,n){return 0===n?kx(t):1===n||2===n?Fx(t):3===n?_x(t):null})),"hsla"))}function Ox(t){return t=iS(t=Ux(t=He(t,(function(t,n){return 0===n?kx(t):1===n||2===n?Fx(t):3===n?_x(t):null})),"hsva"))}function Ax(t){if("transparent"===t)return{r:0,g:0,b:0,a:0};if(function(t){return la(Nx,t)}(t))return Ex(t="#".concat(Nx[t]));if(function(t){return"#"===Mx(t,1)&&(!!/[0-9A-Fa-f]{2}/g.test(t)||(!!/[0-9A-Fa-f]{3}/g.test(t)||(!!/[0-9A-Fa-f]{6}/g.test(t)||!!/[0-9A-Fa-f]{8}/g.test(t))))}(t))return Ex(t);if(function(t){return"rgb"===Mx(t,3)||"rgba"===Mx(t,4)}(t))return function(t){return t=Px(t,"rgba",""),t=Px(t,"rgb",""),jx(Ix(t=Px(t=t.replace(/[()]/g,""),","," ")," "))}(t);if(function(t){return"hsl"===Mx(t,3)||"hsla"===Mx(t,4)}(t))return function(t){return t=Px(t,"hsla",""),t=Px(t,"hsl",""),Qx(Ix(t=Px(t=t.replace(/[()]/g,""),","," ")," "))}(t);if(function(t){return"hsv"===Mx(t,3)||"hsva"===Mx(t,4)}(t))return function(t){return t=Px(t,"hsva",""),t=Px(t,"hsv",""),Ox(Ix(t=Px(t=t.replace(/[()]/g,""),","," ")," "))}(t);throw new Error("format of color string is not hex-color, name-color, rgba, hsla, hsva")}function Dx(t,n){return!!la(t,n=Yx(n))||!!la(t,n=Tx(n))}function qx(t,n,e){var i;return null!==(i=Ct(t,n,null))?i:(n=Tx(n),null!==(i=Ct(t,n,null))?i:e)}function $x(t){if(function(t){var n=Dx(t,"r"),e=Dx(t,"g"),i=Dx(t,"b");return n&&e&&i}(t))return function(t){var n=[qx(t,"r",null),qx(t,"g",null),qx(t,"b",null),qx(t,"a",1)];return jx(n=He(n,zx))}(t);if(function(t){var n=Dx(t,"h"),e=Dx(t,"s"),i=Dx(t,"l");return n&&e&&i}(t))return function(t){var n=[qx(t,"h",null),qx(t,"s",null),qx(t,"l",null),qx(t,"a",1)];return Qx(n=He(n,zx))}(t);if(function(t){var n=Dx(t,"h"),e=Dx(t,"s"),i=Dx(t,"v");return n&&e&&i}(t))return function(t){var n=[qx(t,"h",null),qx(t,"s",null),qx(t,"v",null),qx(t,"a",1)];return Ox(n=He(n,zx))}(t);throw new Error("color object is not rgba, hsla, hsva")}function tS(t){var n,e,i=t.r,o=t.g,l=t.b,s=Math.max(i,o,l),r=Math.min(i,o,l),a=(s+r)/2;if(s===r)n=e=0;else{var d=s-r;switch(e=a>.5?d/(2-s-r):d/(s+r),s){case i:n=(o-l)/d+(o<l?6:0);break;case o:n=(l-i)/d+2;break;case l:n=(i-o)/d+4}n/=6}return{h:n,s:e,l:a,a:t.a}}function nS(t){var n,e,i=t.r,o=t.g,l=t.b,s=Math.max(i,o,l),r=Math.min(i,o,l),a=s,d=s-r;if(e=0===s?0:d/s,s===r)n=0;else{switch(s){case i:n=(o-l)/d+(o<l?6:0);break;case o:n=(l-i)/d+2;break;case l:n=(i-o)/d+4}n/=6}return{h:n,s:e,v:a,a:t.a}}function eS(t){var n,e,i,o=t.h,l=t.s,s=t.l;function r(t,n,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?t+6*(n-t)*e:e<.5?n:e<2/3?t+(n-t)*(2/3-e)*6:t}if(0===l)n=e=i=s;else{var a=s<.5?s*(1+l):s+l-s*l,d=2*s-a;n=r(d,a,o+1/3),e=r(d,a,o),i=r(d,a,o-1/3)}return{r:n,g:e,b:i,a:t.a}}function iS(t){var n,e,i,o=t.h,l=t.s,s=t.v,r=Math.floor(6*o),a=6*o-r,d=s*(1-l),c=s*(1-a*l),u=s*(1-(1-a)*l);switch(r%6){case 0:n=s,e=u,i=d;break;case 1:n=c,e=s,i=d;break;case 2:n=d,e=s,i=u;break;case 3:n=d,e=c,i=s;break;case 4:n=u,e=d,i=s;break;case 5:n=s,e=d,i=c}return{r:n,g:e,b:i,a:t.a}}function oS(t){var n=Math.round(255*t).toString(16);if(1===De(n))return"0".concat(n);if(2===De(n))return n;throw new Error("invalid value")}function lS(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],e=t.r,i=t.g,o=t.b,l=t.a,s="".concat(oS(e)).concat(oS(i)).concat(oS(o));return n&&(s="".concat(s).concat(oS(l))),s}function sS(t){return Math.min(1,Math.max(0,t))}function rS(t,n){if(!wo(n))throw new Error("fmtOutput is not string");if(!NS[n])throw console.log("fmtOutput must be [".concat(zn(NS),"]")),new Error("invalid fmtOutput");return t=NS[n](t)}function aS(t,n){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"toRgbString";if(n<0||n>1)throw new Error("amount < 0 or > 1");var i=tS(t);i.h+=n,i.h=i.h%1;var o=eS(i);return rS(o,e)}function dS(t,n,e,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"toRgbString";if(n<0||n>1)throw new Error("w1 < 0 or > 1");if(i<0||i>1)throw new Error("w1 < 0 or > 1");var l={r:t.r*n+e.r*i,g:t.g*n+e.g*i,b:t.b*n+e.b*i,a:t.a*n+e.a*i};return rS(l,o)}function cS(t){return"".concat(sl(100*t,1),"%")}function uS(t){return sl(t,0)}function pS(t){return sl(t,3)}function hS(t){return{r:uS(255*t.r),g:uS(255*t.g),b:uS(255*t.b)}}function mS(t){return"rgb(".concat(uS(255*t.r),", ").concat(uS(255*t.g),", ").concat(uS(255*t.b),")")}function bS(t){return{r:uS(255*t.r),g:uS(255*t.g),b:uS(255*t.b),a:pS(t.a)}}function yS(t){return"rgba(".concat(uS(255*t.r),", ").concat(uS(255*t.g),", ").concat(uS(255*t.b),", ").concat(pS(t.a),")")}function ZS(t){var n=tS(t);return{h:uS(360*n.h),s:pS(n.s),l:pS(n.l)}}function XS(t){var n=tS(t);return"hsl(".concat(uS(360*n.h),", ").concat(pS(n.s),", ").concat(pS(n.l),")")}function fS(t){var n=tS(t);return{h:uS(360*n.h),s:pS(n.s),l:pS(n.l),a:pS(n.a)}}function GS(t){var n=tS(t);return"hsla(".concat(uS(360*n.h),", ").concat(pS(n.s),", ").concat(pS(n.l),", ").concat(pS(n.a),")")}function WS(t){var n=nS(t);return{h:uS(360*n.h),s:pS(n.s),v:pS(n.v)}}function gS(t){var n=nS(t);return"hsv(".concat(uS(360*n.h),", ").concat(pS(n.s),", ").concat(pS(n.v),")")}function vS(t){var n=nS(t);return{h:uS(360*n.h),s:pS(n.s),v:pS(n.v),a:pS(n.a)}}function VS(t){var n=nS(t);return"hsva(".concat(uS(360*n.h),", ").concat(pS(n.s),", ").concat(pS(n.v),", ").concat(pS(n.a),")")}function xS(t){return{r:cS(t.r),g:cS(t.g),b:cS(t.b)}}function SS(t){return"rgb(".concat(cS(t.r),", ").concat(cS(t.g),", ").concat(cS(t.b),")")}function LS(t){return{r:cS(t.r),g:cS(t.g),b:cS(t.b),a:pS(t.a)}}function RS(t){return"rgba(".concat(cS(t.r),", ").concat(cS(t.g),", ").concat(cS(t.b),", ").concat(pS(t.a),")")}function KS(t){var n=tS(t);return{h:uS(360*n.h),s:cS(n.s),l:cS(n.l)}}function HS(t){var n=tS(t);return"hsl(".concat(uS(360*n.h),", ").concat(cS(n.s),", ").concat(cS(n.l),")")}function CS(t){var n=tS(t);return{h:uS(360*n.h),s:cS(n.s),l:cS(n.l),a:pS(n.a)}}function YS(t){var n=tS(t);return"hsla(".concat(uS(360*n.h),", ").concat(cS(n.s),", ").concat(cS(n.l),", ").concat(pS(n.a),")")}function TS(t){var n=nS(t);return{h:uS(360*n.h),s:cS(n.s),v:cS(n.v)}}function MS(t){var n=nS(t);return"hsv(".concat(uS(360*n.h),", ").concat(cS(n.s),", ").concat(cS(n.v),")")}function wS(t){var n=nS(t);return{h:uS(360*n.h),s:cS(n.s),v:cS(n.v),a:pS(n.a)}}function PS(t){var n=nS(t);return"hsva(".concat(uS(360*n.h),", ").concat(cS(n.s),", ").concat(cS(n.v),", ").concat(pS(n.a),")")}function IS(t){var n=function(t){return lS(t,!1)}(t);return"#".concat(n)}function zS(t){var n=lS(t);return"#".concat(n)}function JS(t){var n=null,e=null,i=null;if(wo(t))n=Yx(Cx(t));else{if(!zo(t))throw console.log("color=",t),new Error("color is not string or object");e=t}if(null!==n)try{i=Ax(n)}catch(t){throw console.log(t),new Error("can not parse color: ".concat(n))}else if(null!==e)try{i=$x(e)}catch(t){throw console.log(t),new Error("can not parse color: ".concat(JSON.stringify(e)))}return i}var NS={toRgb:hS,toRgbString:mS,toRgba:bS,toRgbaString:yS,toHsl:ZS,toHslString:XS,toHsla:fS,toHslaString:GS,toHsv:WS,toHsvString:gS,toHsva:vS,toHsvaString:VS,toRgbP:xS,toRgbPString:SS,toRgbaP:LS,toRgbaPString:RS,toHslP:KS,toHslPString:HS,toHslaP:CS,toHslaPString:YS,toHsvP:TS,toHsvPString:MS,toHsvaP:wS,toHsvaPString:PS,toHexString:IS,toHex8String:zS},FS={toRgb:function(t){return hS(JS(t))},toRgbString:function(t){return mS(JS(t))},toRgba:function(t){return bS(JS(t))},toRgbaString:function(t){return yS(JS(t))},toHsl:function(t){return ZS(JS(t))},toHslString:function(t){return XS(JS(t))},toHsla:function(t){return fS(JS(t))},toHslaString:function(t){return GS(JS(t))},toHsv:function(t){return WS(JS(t))},toHsvString:function(t){return gS(JS(t))},toHsva:function(t){return vS(JS(t))},toHsvaString:function(t){return VS(JS(t))},toRgbP:function(t){return xS(JS(t))},toRgbPString:function(t){return SS(JS(t))},toRgbaP:function(t){return LS(JS(t))},toRgbaPString:function(t){return RS(JS(t))},toHslP:function(t){return KS(JS(t))},toHslPString:function(t){return HS(JS(t))},toHslaP:function(t){return CS(JS(t))},toHslaPString:function(t){return YS(JS(t))},toHsvP:function(t){return TS(JS(t))},toHsvPString:function(t){return MS(JS(t))},toHsvaP:function(t){return wS(JS(t))},toHsvaPString:function(t){return PS(JS(t))},toHexString:function(t){return IS(JS(t))},toHex8String:function(t){return zS(JS(t))},modSaturate:function(t,n,e){return function(t,n){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"toRgbString";if(n<0||n>1)throw new Error("amount < 0 or > 1");var i=tS(t);return i.s+=n,i.s=sS(i.s),rS(eS(i),e)}(JS(t),n,e)},modGrey:function(t,n){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"toRgbString",e=tS(t);return e.s=0,rS(eS(e),n)}(JS(t),n)},modLighten:function(t,n,e){return function(t,n){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"toRgbString";if(n<0||n>1)throw new Error("amount < 0 or > 1");var i=tS(t);return i.l+=n,i.l=sS(i.l),rS(eS(i),e)}(JS(t),n,e)},modBrighten:function(t,n,e){return function(t,n){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"toRgbString";if(n<0||n>1)throw new Error("amount < 0 or > 1");return t.r+=n,t.r=sS(t.r),t.g+=n,t.g=sS(t.g),t.b+=n,t.b=sS(t.b),rS(t,e)}(JS(t),n,e)},modHue:function(t,n,e){return aS(JS(t),n,e)},modComplement:function(t,n){return function(t){return aS(t,.5,arguments.length>1&&void 0!==arguments[1]?arguments[1]:"toRgbString")}(JS(t),n)},spreadHue:function(t,n,e){return function(t,n){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"toRgbString";if(!el(n))throw new Error("num is not integer");if((n=rl(n))<=1)return[t];for(var i=tS(t),o=1/n,l=[],s=0;s<n;s++)l.push(rS(eS(i),e)),i.h+=o,i.h=i.h%1;return l}(JS(t),n,e)},spreadMonochromatic:function(t,n,e){return function(t,n){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"toRgbString";if(!el(n))throw new Error("num is not integer");if((n=rl(n))<=1)return[t];var i=nS(t);i.s=1,i.l=1;for(var o=1/n,l=[],s=0;s<n;s++)l.push(rS(iS(i),e)),i.h-=o,i.l-=o;return l}(JS(t),n,e)},mix:function(t,n,e,i,o){return dS(JS(t),n,JS(e),i,o)},getBrightness:function(t){return function(t){if(1!==t.a)throw new Error("alpha of color can not be equal to 1");return(299*t.r+587*t.g+114*t.b)/1e3}(JS(t))},getLuminance:function(t){return function(t){if(1!==t.a)throw new Error("alpha of color can not be equal to 1");var n=t.r,e=t.g,i=t.b;return.2126*(n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4))+.7152*(e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4))+.0722*(i<=.03928?i/12.92:Math.pow((i+.055)/1.055,2.4))}(JS(t))},interp:function(t){if(!zo(t))return console.log("gradient is not effective object"),function(t){return t=Math.min(Math.max(t,0),1),"rgb(".concat(255*t,",").concat(255*t,",").concat(255*t,")")};var n=[];return Te(t,(function(t,e){n.push([nl(e),bS(JS(t)),t])})),n=Yo(n,0),function(t){for(var e=null,i=1;i<n.length;i++){var o=n[i-1][0],l=n[i-1][1],s=n[i][0],r=n[i][1];if(o<=t&&s>=t){var a=(s-t)/(s-o),d=(t-o)/(s-o);e=dS(JS(l),a,JS(r),d,"toRgbaString");break}}return e}}};function kS(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,i)}return e}function BS(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?kS(Object(e),!0).forEach((function(n){wt(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):kS(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}var _S={components:{LPolygon:lx},props:{points:{type:Array,default:function(){return[]}},polygonsContainInner:{type:Array,default:function(){return[]}},polygonsClipInner:{type:Array,default:function(){return[]}},polygonClipOuter:{type:Array,default:function(){return[]}},gradient:{type:Object,default:function(){return{0:"rgb(255, 255, 255)",.2:"rgb(254, 178, 76)",.4:"rgb(252, 78, 42)",.6:"rgb(220, 58, 38)",.8:"rgb(200, 40, 23)",1:"rgb(180, 30, 60)"}}},changeStyleWhenHover:{type:Boolean,default:!0}},data:function(){return{}},computed:{funColor:function(){return FS.interp(this.gradient)},polygonSets:function(){var t=this,n=t.points,e={containInner:t.polygonsContainInner,clipInner:t.polygonsClipInner,clipOuter:t.polygonClipOuter},i=vV.calcContours(n,e);return i=He(i,(function(n,e){var o=t.getColor(e,i.length-1),l={color:o,weight:1,fillColor:o,fillOpacity:.2},s={color:o,weight:3,fillColor:o,fillOpacity:.5};return BS(BS({},n),{},{color:o,style:l,mouseenter:function(i){var o=i.target;t.changeStyleWhenHover&&o.setStyle(s),t.triggerEvent("mouseenter",{ev:i,polygonSet:n,kpolygonSet:e})},mouseleave:function(i){var o=i.target;t.changeStyleWhenHover&&o.setStyle(l),t.triggerEvent("mouseleave",{ev:i,polygonSet:n,kpolygonSet:e})}})})),t.triggerEvent("refresh",{polygonSets:i}),i}},methods:{getColor:function(t,n){return n>0?this.funColor(t/n):this.funColor(1)},clickPolygon:function(t,n,e){this.triggerEvent("click",{ev:t,polygonSet:n,kpolygonSet:e})},triggerEvent:function(t,n){var e=this;e.$nextTick((function(){e.$emit(t,n)}))}}};function US(t,n,e,i,o,l,s,r,a,d){"boolean"!=typeof s&&(a=r,r=s,s=!1);var c,u="function"==typeof e?e.options:e;if(t&&t.render&&(u.render=t.render,u.staticRenderFns=t.staticRenderFns,u._compiled=!0,o&&(u.functional=!0)),i&&(u._scopeId=i),l?(c=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),n&&n.call(this,a(t)),t&&t._registeredComponents&&t._registeredComponents.add(l)},u._ssrRegister=c):n&&(c=s?function(t){n.call(this,d(t,this.$root.$options.shadowRoot))}:function(t){n.call(this,r(t))}),c)if(u.functional){var p=u.render;u.render=function(t,n){return c.call(n),p(t,n)}}else{var h=u.beforeCreate;u.beforeCreate=h?[].concat(h,c):[c]}return e}var ES,jS="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());function QS(t){return function(t,n){return function(t,n){var e=jS?n.media||"default":t,i=OS[e]||(OS[e]={ids:new Set,styles:[]});if(!i.ids.has(t)){i.ids.add(t);var o=n.source;if(n.map&&(o+="\n/*# sourceURL="+n.map.sources[0]+" */",o+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n.map))))+" */"),i.element||(i.element=document.createElement("style"),i.element.type="text/css",n.media&&i.element.setAttribute("media",n.media),void 0===ES&&(ES=document.head||document.getElementsByTagName("head")[0]),ES.appendChild(i.element)),"styleSheet"in i.element)i.styles.push(o),i.element.styleSheet.cssText=i.styles.filter(Boolean).join("\n");else{var l=i.ids.size-1,s=document.createTextNode(o),r=i.element.childNodes;r[l]&&i.element.removeChild(r[l]),r.length?i.element.insertBefore(s,r[l]):i.element.appendChild(s)}}}(t,n)}}var OS={};const AS=_S;var DS=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",t._l(t.polygonSets,(function(n,i){return e("l-polygon",t._b({key:"l-contour-polygonSet:"+i,attrs:{"lat-lngs":n.latLngs},on:{mouseenter:n.mouseenter,mouseleave:n.mouseleave,click:function(e){t.clickPolygon(e,n,i)}}},"l-polygon",n.style,!1))})),1)};DS._withStripped=!0;const qS=US({render:DS,staticRenderFns:[]},(function(t){t&&t("data-v-31694d3a_0",{source:"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",map:{version:3,sources:[],names:[],mappings:"",file:"LContour.vue"},media:void 0})}),AS,undefined,false,undefined,!1,QS,void 0,void 0);const $S={components:{},props:{items:{type:Array,default:function(){return[]}},keyValue:{type:String,default:"value"},keyTitle:{type:String,default:"title"}},data:function(){return{select:null,itemsTrans:[]}},computed:{changeItems:function(){var t=this;return t.itemsTrans=Vo(t.items),t.getSelect(),""}},methods:{getSelect:function(){var t=this;t.$nextTick((function(){var n=null;Te(t.itemsTrans,(function(e){null===n&&!0===e[t.keyValue]&&(n=e[t.keyTitle])})),t.select=n}))},clickItem:function(t){var n=this;Te(n.itemsTrans,(function(e){e[n.keyTitle]===t[n.keyTitle]?e[n.keyValue]=!0:e[n.keyValue]=!1})),n.$nextTick((function(){n.$emit("update:items",Vo(n.itemsTrans))}))}}};var tL=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{attrs:{changeItems:t.changeItems}},[t._l(t.itemsTrans,(function(n,i){return[e("div",{key:i,staticStyle:{display:"flex","align-items":"center",margin:"3px 0px"},on:{click:function(e){return t.clickItem(n)}}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.select,expression:"select"}],staticStyle:{margin:"0px 5px 0px 0px",padding:"0px",cursor:"pointer"},attrs:{type:"radio"},domProps:{value:n[t.keyTitle],checked:t._q(t.select,n[t.keyTitle])},on:{change:function(e){t.select=n[t.keyTitle]}}}),t._v(" "),e("span",{staticStyle:{cursor:"pointer"}},[t._v(" "+t._s(n[t.keyTitle]))])])]}))],2)};tL._withStripped=!0;const nL=US({render:tL,staticRenderFns:[]},(function(t){t&&t("data-v-14502823_0",{source:"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",map:{version:3,sources:[],names:[],mappings:"",file:"Radios.vue"},media:void 0})}),$S,undefined,false,undefined,!1,QS,void 0,void 0);const eL={components:{},props:{items:{type:Array,default:function(){return[]}},keyValue:{type:String,default:"value"},keyTitle:{type:String,default:"title"},keyMsg:{type:String,default:"msg"}},data:function(){return{selects:null,itemsTrans:[]}},computed:{changeItems:function(){var t=this;return t.itemsTrans=Vo(t.items),t.getSelect(),""}},methods:{getSelect:function(){var t=this;t.$nextTick((function(){var n=[];Te(t.itemsTrans,(function(e){!0===e[t.keyValue]&&n.push(e[t.keyTitle])})),t.selects=n}))},clickItem:function(t){var n=this;Te(n.itemsTrans,(function(e){e[n.keyTitle]===t[n.keyTitle]&&(e[n.keyValue]=!e[n.keyValue])})),n.$nextTick((function(){n.$emit("update:items",Vo(n.itemsTrans))}))}}};var iL=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{attrs:{changeItems:t.changeItems}},[t._l(t.itemsTrans,(function(n,i){return[e("div",{key:i,staticStyle:{display:"flex",margin:"3px 0px",cursor:"pointer"},on:{click:function(e){return t.clickItem(n)}}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selects,expression:"selects"}],staticStyle:{margin:"0px 5px 0px 0px",padding:"0px",height:"20px"},attrs:{type:"checkbox"},domProps:{value:n[t.keyTitle],checked:Array.isArray(t.selects)?t._i(t.selects,n[t.keyTitle])>-1:t.selects},on:{change:function(e){var i=t.selects,o=e.target,l=!!o.checked;if(Array.isArray(i)){var s=n[t.keyTitle],r=t._i(i,s);o.checked?r<0&&(t.selects=i.concat([s])):r>-1&&(t.selects=i.slice(0,r).concat(i.slice(r+1)))}else t.selects=l}}}),t._v(" "),e("div",[e("div",{},[t._v(t._s(n[t.keyTitle]))]),t._v(" "),""!==n[t.keyMsg]?e("div",{staticStyle:{"font-size":"0.6rem",opacity:"0.6"}},[t._v(t._s(n[t.keyMsg]))]):t._e()])])]}))],2)};iL._withStripped=!0;function oL(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,i)}return e}function lL(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?oL(Object(e),!0).forEach((function(n){wt(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):oL(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}var sL,rL={directives:{domresize:(sL={},{bind:function(t,n,e){var i="r".concat(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32,n=[];t=al(t)?rl(t):32;for(var e=0;e<t;e++)n[e]=RV[0|Math.random()*KV];return n.join("")}());t.setAttribute("ev-resize",i);var o=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=Ct(n,"timeInterval",null);al(e)||(e=20);var i=Ct(n,"tolerancePixel",null);al(i)||(i=1);var o,l=xV(),s={offsetWidth:0,offsetHeight:0};if(!To(t))return console.log("invalid f",t),null;o=setInterval((function(){var n=t();if(n){var e={offsetWidth:n.offsetWidth,offsetHeight:n.offsetHeight,clientWidth:n.clientWidth,clientHeight:n.clientHeight},o=Math.abs(s.offsetWidth-e.offsetWidth)>i,r=Math.abs(s.offsetHeight-e.offsetHeight)>i;if(o||r){var a=LV({},s);setTimeout((function(){e.offsetWidth>0&&e.offsetHeight>0&&(l.emit("resize",{sold:a,snew:e,ele:n}),l.emit("resizeWithWindow",{sold:a,snew:e,ele:n,from:"dom"}))}),1)}s=e}}),e);var r=function(t){l.emit("resizeWithWindow",{snew:s,from:"window"})};return window.addEventListener("resize",r),l.clear=function(){clearInterval(o),window.removeEventListener("resize",r)},l}((function(){return t}));o.on("resizeWithWindow",(function(t){var n=window.innerHeight,i=CV(CV({},t),{},{winHeight:n});!function(t,n,e){var i=t.data&&t.data.on||t.componentOptions&&t.componentOptions.listeners;i&&i[n]&&i[n].fns(e)}(e,"domresize",i)})),sL[i]=o},unbind:function(t){var n=t.getAttribute("ev-resize");t.setAttribute("ev-resize",null),sL[n]&&(sL[n].clear(),sL[n]=null,delete sL[n])}})},components:{LMap:DV,LTileLayer:dx,LControl:PV,LControlZoom:NV,LLayerGroup:BV,LMarker:nx,LPolygon:lx,LContour:qS,Radios:nL,Checkboxs:US({render:iL,staticRenderFns:[]},(function(t){t&&t("data-v-bdd6c7c2_0",{source:"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",map:{version:3,sources:[],names:[],mappings:"",file:"Checkboxs.vue"},media:void 0})}),eL,undefined,false,undefined,!1,QS,void 0,void 0)},props:{opt:{type:Object,default:function(){}}},data:function(){return{dbcChangePointSets:hl(),dbcChangePolygonSets:hl(),dbcChangeContourSets:hl(),dbcChangeItems:hl(),wats:[],center:[],zoom:null,panelBackgroundColor:"",panelZoom:{},panelBaseMaps:{},panelItems:{},panelLabels:{},panelLegends:{},showLoc:{lat:"",lng:""},pointSets:[],effPointSetsTemp:[],polygonSets:[],effPolygonSetsTemp:[],contourSets:[],effContourSetsTemp:[],items:[]}},mounted:function(){var t=this,n={immediate:!0,deep:!0};Te(["pointSets","defPointSetsClick","defPointSetsPopup","defPointSetsTooltip"],(function(e){var i=t.$watch("opt.".concat(e),t.changePointSetsDebounce,n);t.wats.push(i)})),Te(["polygonSets","defPolygonSetsClick","defPolygonSetsPopup","defPolygonSetsTooltip"],(function(e){var i=t.$watch("opt.".concat(e),t.changePolygonSetsDebounce,n);t.wats.push(i)})),Te(["contourSets","defContourSetsClick","defContourSetsPopup","defContourSetsTooltip"],(function(e){var i=t.$watch("opt.".concat(e),t.changeContourSetsDebounce,n);t.wats.push(i)}))},beforeDestroy:function(){Te(this.wats,(function(t){t()}))},watch:{opt:{handler:function(t){this.changeOpt()},immediate:!0,deep:!0}},computed:{},methods:{resize:function(t){var n=this.getMapObject();zo(n)&&n.invalidateSize()},countVisible:function(t){var n=0;return Te(t,(function(t){t.visible&&n++})),n},updateZoom:function(t){this.opt.zoom=t,this.zoom=t},updateCenter:function(t){vo(this.opt.center,[t.lat,t.lng])||(this.opt.center=[t.lat,t.lng])},getIconParam:function(t){var n=Ct(t,"iconSrc",null),e=Ct(t,"iconSize",null),i=Ct(t,"iconAnchor",null),o=Ct(t,"popupAnchor",null);return{eff:wo(n)&&Po(e)&&2===De(e)&&Po(i)&&2===De(i),iconSrc:n,iconSize:e,iconAnchor:i,popupAnchor:o}},getIcon:function(t){var n=this.getIconParam(t);if(!n.eff){n.iconSrc="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=",n.iconSize=[24,40],n.iconAnchor=[n.iconSize[0]/2,n.iconSize[1]],n.popupAnchor=[0,-n.iconSize[1]/1.5]}var e=new YV.Icon({iconUrl:n.iconSrc,iconSize:n.iconSize,iconAnchor:n.iconAnchor,popupAnchor:n.popupAnchor});return{eff:n.eff,icon:e}},changeOpt:function(){var t=this,n=t.getMapObject(),e=Ct(t,"opt.panelBackgroundColor",null);Mo(e)||(e="rgba(255,255,255,0.95)"),t.panelBackgroundColor=e;var i=Ct(t,"opt.zoom",null);al(i)||(i=7),i=Math.min(Math.max(i,1),18),vo(t.zoom,i)||(t.zoom=i);var o=Ct(t,"opt.center",null);Po(o)&&2===De(o)&&go(Ct(o,0))&&go(Ct(o,1))||(o=[23.5,121.1]),o=Vo(o),vo(t.center,o)||(t.center=o,zo(n)&&n.panTo(o)),t.showLoc={lat:pl(t.center[0],7),lng:pl(t.center[1],7)};var l=Ct(t,"opt.panelBaseMaps",null);Io(l)||(l={}),l=lL(lL({},{show:!0,position:"topleft",baseMaps:[]}),l),0===De(Ct(l,"baseMaps",[]))&&(l.baseMaps=[{name:"Mapbox",url:"//api.mapbox.com/v4/mapbox.satellite/{z}/{x}/{y}.png?access_token=pk.eyJ1Ijoic2VtaXNwaGVyZSIsImEiOiJja2s1anBrZzMwN3NkMndsOGt6MHo5ajI5In0._vUKnQ57n7UcWsWgOPIEgQ",visible:!0},{name:"OpenStreetMap",url:"//{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",visible:!1},{name:"OpenTopoMap",url:"//{s}.tile.opentopomap.org/{z}/{x}/{y}.png",visible:!1},{name:"GoogleStreets",url:"//www.google.cn/maps/vt?lyrs=m@189&gl=cn&x={x}&y={y}&z={z}",visible:!1},{name:"GoogleSatellite",url:"//www.google.cn/maps/vt?lyrs=s@189&gl=cn&x={x}&y={y}&z={z}",visible:!1},{name:"GoogleHybrid",url:"//www.google.cn/maps/vt?lyrs=s,h@189&gl=cn&x={x}&y={y}&z={z}",visible:!1},{name:"TGOS福衛二號影像",url:"http://gis.sinica.edu.tw/tgos/file-exists.php?img=F2IMAGE_W-png-{z}-{x}-{y}",visible:!1},{name:"TGOS福衛二號混合圖",url:"http://gis.sinica.edu.tw/tgos/file-exists.php?img=ROADMAP_W-png-{z}-{x}-{y}",visible:!1},{name:"TGOS電子地圖",url:"http://gis.sinica.edu.tw/tgos/file-exists.php?img=TGOSMAP_W-png-{z}-{x}-{y}",visible:!1},{name:"TGOS地形暈渲圖",url:"http://gis.sinica.edu.tw/tgos/file-exists.php?img=HILLSHADE_W-png-{z}-{x}-{y}",visible:!1},{name:"TGOS地形暈渲混合圖",url:"http://gis.sinica.edu.tw/tgos/file-exists.php?img=HILLSHADEMIX_W-png-{z}-{x}-{y}",visible:!1}]),l=Vo(l),vo(t.panelBaseMapsTemp,l)||(t.panelBaseMaps=l,t.panelBaseMapsTemp=Vo(l));var s=Ct(t,"opt.panelZoom",null);Io(s)||(s={}),t.panelZoom=lL(lL({},{show:!0,position:"bottomleft"}),s);var r=Ct(t,"opt.panelLabels",null);Io(r)||(r={}),(r=Vo(r)).style={},go(r.maxWidth)&&(r.style.maxWidth="".concat(r.maxWidth,"px")),go(r.maxHeight)&&(r.style.maxHeight="".concat(r.maxHeight,"px")),t.panelLabels=lL(lL({},{show:!0,title:"",useItems:["lng","lat","zoom"],lng:"Longitude",lat:"Latitude",zoom:"Zoom",position:"topright"}),r);var a=Ct(t,"opt.panelItems",null);Io(a)||(a={}),(a=Vo(a)).style={},go(a.maxWidth)&&(a.style.maxWidth="".concat(a.maxWidth,"px")),go(a.maxHeight)&&(a.style.maxHeight="".concat(a.maxHeight,"px")),t.panelItems=lL(lL({},{show:!0,position:"topleft"}),a);var d=Ct(t,"opt.panelLegends",null);Io(d)||(d={}),(d=Vo(d)).style={},go(d.maxWidth)&&(d.style.maxWidth="".concat(d.maxWidth,"px")),go(d.maxHeight)&&(d.style.maxHeight="".concat(d.maxHeight,"px")),t.panelLegends=lL(lL({},{show:!0,position:"bottomright",maxWidth:300}),d),t.changeItemsDebounce("changeOpt")},changePointSetsDebounce:function(t){var n=this;n.dbcChangePointSets((function(){n.changePointSets()}))},changePointSets:function(){var t=this,n=Ct(t,"opt.pointSets",null);Po(n)||(n=[]),n=Vo(n);var e=He(n,(function(t){return bo(t,"visible")}));if(!vo(t.effPointSetsTemp,e)){t.effPointSetsTemp=e;var i=Ct(t,"opt.defPointSetsClick",null),o=Ct(t,"opt.defPointSetsPopup",null),l=Ct(t,"opt.defPointSetsTooltip",null);t.pointSets=He(n,(function(n,e){var s=Ct(n,"order",null),r=Ct(n,"click",null),a=Ct(n,"popup",null),d=Ct(n,"tooltip",null),c=t.getIcon(n).icon;return n.points=He(n.points,(function(n,e){cl(n)&&(n={latLng:[Ct(n,0),Ct(n,1)]});var s=c,u=t.getIconParam(n);u.eff&&(s=new YV.Icon({iconUrl:u.iconSrc,iconSize:u.iconSize,iconAnchor:u.iconAnchor,popupAnchor:u.popupAnchor}));var p=Ct(n,"click",null),h=Ct(n,"popup",null)||a||o,m=Ct(n,"tooltip",null)||d||l;return lL(lL({},n),{},{icon:s,funPointSetsClick:i,funSetClick:r,funClick:p,funPopup:h,funTooltip:m})})),wo(Ct(n,"title",null))||(n.title=""),wo(Ct(n,"msg",null))||(n.msg=""),go(Ct(n,"order",null))||(n.order=null),No(Ct(n,"visible",null))||(n.visible=!1),lL(lL({},n),{},{order:s})})),t.changeItemsDebounce("changePointSets")}},changePolygonSetsDebounce:function(t){var n=this;n.dbcChangePolygonSets((function(){n.changePolygonSets()}))},changePolygonSets:function(){var t=this,n=Ct(t,"opt.polygonSets",null);Po(n)||(n=[]),n=Vo(n);var e=He(n,(function(t){return bo(t,"visible")}));if(!vo(t.effPolygonSetsTemp,e)){t.effPolygonSetsTemp=e;var i=Ct(t,"opt.defPolygonSetsClick",null),o=Ct(t,"opt.defPolygonSetsPopup",null),l=Ct(t,"opt.defPolygonSetsTooltip",null);t.polygonSets=He(n,(function(t,n){var e=Ct(t,"order",null),s=Ct(t,"click",null),r=Ct(t,"popup",null)||o,a=Ct(t,"tooltip",null)||l,d=Ct(t,"lineColor",null);wo(d)||(d="rgba(0,150,255,1)");var c=Ct(t,"lineWidth",null);go(c)||(c=3);var u=Ct(t,"fillColor",null);wo(u)||(u="rgba(0,150,255,0.25)");var p={fillColor:u,fillOpacity:1,color:d,weight:c},h=Ct(t,"lineColorHover",null);wo(h)||(h=d);var m=Ct(t,"lineWidthHover",null);go(m)||(m=c);var b=Ct(t,"fillColorHover",null);wo(b)||(b=u);var y={fillColor:b,fillOpacity:1,color:h,weight:m};return wo(Ct(t,"title",null))||(t.title=""),wo(Ct(t,"msg",null))||(t.msg=""),go(Ct(t,"order",null))||(t.order=null),No(Ct(t,"visible",null))||(t.visible=!1),lL(lL({},t),{},{order:e,style:p,mouseenter:function(t){t.target.setStyle(y)},mouseleave:function(t){t.target.setStyle(p)},funPolygonSetsClick:i,funSetClick:s,funSetPopup:r,funSetTooltip:a})})),t.changeItemsDebounce("changePolygonSets")}},changeContourSetsDebounce:function(t){var n=this;n.dbcChangeContourSets((function(){n.changeContourSets()}))},changeContourSets:function(){var t=this,n=Ct(t,"opt.contourSets",null);Po(n)||(n=[]),n=Vo(n);var e=He(n,(function(t){return bo(t,"visible")}));if(!vo(t.effContourSetsTemp,e)){t.effContourSetsTemp=e;var i=Ct(t,"opt.defContourSetsClick",null),o=Ct(t,"opt.defContourSetsPopup",null),l=Ct(t,"opt.defContourSetsTooltip",null);t.contourSets=He(n,(function(t,n){var e=Ct(t,"order",null),s=Ct(t,"click",null),r=Ct(t,"popup",null)||o,a=Ct(t,"tooltip",null)||l,d=Ct(t,"legendNumDig",null);go(d)||(d=null);var c=Ct(t,"legendTextFormater",null);return To(c)||(c=null),wo(Ct(t,"title",null))||(t.title=""),wo(Ct(t,"msg",null))||(t.msg=""),go(Ct(t,"order",null))||(t.order=null),No(Ct(t,"visible",null))||(t.visible=!1),lL(lL({},t),{},{order:e,legendNumDig:d,legendTextFormater:c,legend:[],funContourSetsClick:i,funSetClick:s,funSetPopup:r,funSetTooltip:a})})),t.changeItemsDebounce("changeContourSets")}},changeItems:function(t){var n=this,e=[];function i(t,n,i,o,l){e.push({name:t,msg:n,order:i,visible:o,updatePath:l})}Te(n.pointSets,(function(t,n){i(t.title,t.msg,t.order,t.visible,"pointSets.".concat(n,".visible"))})),Te(n.polygonSets,(function(t,n){i(t.title,t.msg,t.order,t.visible,"polygonSets.".concat(n,".visible"))})),Te(n.contourSets,(function(t,n){i(t.title,t.msg,t.order,t.visible,"contourSets.".concat(n,".visible"))}));var o=fo(e,(function(t){return go(t.order)})),l=fo(e,(function(t){return!go(t.order)}));o=Yo(o,"order"),e=[].concat(Mt(o),Mt(l)),e=Vo(e),n.items=e},changeItemsDebounce:function(t){var n=this;n.dbcChangeItems((function(){n.changeItems(t)}))},updateItems:function(){var t=this;Te(t.items,(function(n){Wo(t,n.updatePath,n.visible),Wo(t.opt,n.updatePath,n.visible)}))},getMapObject:function(){return Ct(this,"$refs.lmap.mapObject")},panTo:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=this;if(!cl(t))throw console.log("latLng is not an effective array",t),new Error("latLng is not an effective array");var i=e.getMapObject();if(zo(i)){var o=Ct(n,"ratioHorizontal");tl(o)&&(o=nl(o));var l=Ct(n,"ratioVertical");tl(l)&&(l=nl(l));var s=Ct(n,"funLatLng"),r=i.getBounds(),a=Ct(r,"_northEast.lng")-Ct(r,"_southWest.lng"),d=Ct(r,"_northEast.lat")-Ct(r,"_southWest.lat"),c=t[1]-a/2,u=t[1]+a/2,p=t[0]-d/2,h=t[0]+d/2,m=null;go(o)&&(m=(c+(u-a*o))/2);var b=null;go(l)&&(b=(p+d*l+h)/2);var y=Vo(t);go(l)&&(y[0]=b),go(o)&&(y[1]=m),To(s)&&(y=s(t,{bds:r,lngRange:a,latRange:d,lngMin:c,lngMax:u,latMin:p,latMax:h,ratioHorizontal:o,ratioVertical:l,latLngNew:y})),i.panTo(y)}},centerTo:function(t){this.panTo(t)},closePopup:function(){this.$refs.refPopup.mapObject.closePopup()},closeTooltip:function(){this.$refs.refTooltip.mapObject.closeTooltip()},parsePointData:function(t,n,e,i,o,l){var s=Ct(n,"latLng",null);return{latLng:s,msg:{ev:t,lat:Ct(s,0,null),lng:Ct(s,1,null),point:n,kpoint:e,pointSet:i,kpointSet:o,pointSets:l}}},clickPoint:function(t,n,e,i,o,l){this.popupPoint({ev:t,point:n,kpoint:e,pointSet:i,kpointSet:o,pointSets:l})},popupPoint:function(t){var n=this,e=null,i=t.ev,o=t.point,l=t.kpoint,s=t.pointSet,r=t.kpointSet,a=t.pointSets,d=t.popup;if(zo(i)||(i={}),!zo(o))throw new Error("invalid point");al(l)||(l=0),zo(s)||(s={}),al(r)||(r=0),cl(a)||(a=[]);var c=o,u=n.parsePointData(i,o,l,s,r,a),p=u.latLng,h=u.msg;To(c.funClick)&&c.funClick(h),To(c.funSetClick)&&c.funSetClick(h),To(c.funPointSetsClick)&&c.funPointSetsClick(h);var m=null;if(To(c.funPopup)?m=c.funPopup:To(c.popup)?m=c.popup:To(d)&&(m=d),To(m)){var b=m(h),y=Ct(c,"popupAnchor",null);cl(y)||(y=[0,-40/1.5]);var Z={offset:y,maxWidth:"auto"};n.$refs.refPopup.mapObject.bindPopup(b,Z).openPopup(p),e=Ct(n,"$refs.refPopup.mapObject._popup._contentNode")}return e},tooltipPoint:function(t,n,e,i,o,l){if(To(n.funTooltip)){var s=n,r=this.parsePointData(t,n,e,i,o,l),a=r.latLng,d=r.msg,c=s.funTooltip(d),u=Ct(s,"popupAnchor",null);cl(u)||(u=[0,-40/1.5]);var p={offset:u};this.$refs.refTooltip.mapObject.bindTooltip(c,p).openTooltip(a)}},parsePolygonData:function(t,n,e,i){var o=t.latlng,l=[o.lat,o.lng];return{latLng:l,msg:{ev:t,lat:Ct(l,0,null),lng:Ct(l,1,null),latLngs:n.latLngs,polygonSet:n,kpolygonSet:e,polygonSets:i}}},clickPolygon:function(t,n,e,i){var o=n,l=this.parsePolygonData(t,n,e,i),s=l.latLng,r=l.msg;if(To(o.funSetClick)&&o.funSetClick(r),To(o.funPolygonSetsClick)&&o.funPolygonSetsClick(r),To(o.funSetPopup)){var a=o.funSetPopup(r);this.$refs.refPopup.mapObject.bindPopup(a).openPopup(s)}},tooltipPolygon:function(t,n,e,i){if(To(n.funSetTooltip)){var o=n,l=this.parsePolygonData(t,n,e,i).msg,s=vV.getCentroidMultiPolygon(l.latLngs);if(2===De(s)){var r=o.funSetTooltip(l);this.$refs.refTooltip.mapObject.bindTooltip(r).openTooltip(s)}}},parseContourData:function(t,n,e,i,o,l){var s=t.latlng,r=[s.lat,s.lng];return{latLng:r,msg:{ev:t,lat:Ct(r,0,null),lng:Ct(r,1,null),latLngs:n.latLngs,polygonSet:n,kpolygonSet:e,contourSet:i,kcontourSet:o,contourSets:l}}},clickContour:function(t,n,e,i){var o=t.ev,l=t.polygonSet,s=t.kpolygonSet,r=n,a=this.parseContourData(o,l,s,n,e,i),d=a.latLng,c=a.msg;if(To(r.funSetClick)&&r.funSetClick(c),To(r.funContourSetsClick)&&r.funContourSetsClick(c),To(r.funSetPopup)){var u=r.funSetPopup(c);this.$refs.refPopup.mapObject.bindPopup(u).openPopup(d)}},tooltipContour:function(t,n,e,i){var o=t.ev,l=t.polygonSet,s=t.kpolygonSet;if(To(n.funSetTooltip)){var r=n,a=this.parseContourData(o,l,s,n,e,i).msg,d=l.center,c=r.funSetTooltip(a);this.$refs.refTooltip.mapObject.bindTooltip(c).openTooltip(d)}},updateLatLng:function(t){this.showLoc={lat:pl(t.latlng.lat,7),lng:pl(t.latlng.lng,7)}},contourRefresh:function(t,n,e){var i=He(t.polygonSets,"range");function o(t,e){e.text;var o=e.low,l=e.up;return go(n.legendNumDig)&&(o=pl(e.low,n.legendNumDig),l=pl(e.up,n.legendNumDig)),To(n.legendTextFormater)?n.legendTextFormater({low:o,up:l,legends:i,index:t}):"".concat(o," - ").concat(l)}var l=He(t.polygonSets,(function(t,n){return{color:t.color,rangeText:o(n,t.range),arrow:!1,index:n}}));l=Zo(l),n.legend=l},contourMouseenter:function(t,n,e){Te(n.legend,(function(e,i){n.legend[i].arrow=t.kpolygonSet===n.legend[i].index}))},contourMouseleave:function(t,n,e){Te(n.legend,(function(t,e){n.legend[e].arrow=!1}))}}};const aL=rL;var dL=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{directives:[{name:"domresize",rawName:"v-domresize"}],staticStyle:{display:"inline-block"},on:{domresize:t.resize}},[e("l-map",{ref:"lmap",attrs:{zoom:t.zoom,center:t.center,options:{zoomControl:!1}},on:{"update:zoom":t.updateZoom,"update:center":t.updateCenter,mousemove:t.updateLatLng}},[t.panelZoom.show?e("l-control-zoom",{attrs:{position:t.panelZoom.position}}):t._e(),t._v(" "),t.panelBaseMaps.show?e("l-control",{attrs:{position:t.panelBaseMaps.position}},[e("div",{staticClass:"clsPanel",style:{background:t.panelBackgroundColor}},[e("Radios",{attrs:{items:t.panelBaseMaps.baseMaps,keyValue:"visible",keyTitle:"name"},on:{"update:items":function(n){return t.$set(t.panelBaseMaps,"baseMaps",n)}}})],1)]):t._e(),t._v(" "),t.panelItems.show&&t.items.length>0?e("l-control",{attrs:{position:t.panelItems.position}},[e("div",{staticClass:"clsPanel",style:{background:t.panelBackgroundColor}},[e("div",{style:Object.assign({},{overflowY:"auto"},t.panelItems.style)},[e("Checkboxs",{style:"",attrs:{items:t.items,keyValue:"visible",keyTitle:"name"},on:{"update:items":[function(n){t.items=n},t.updateItems]}})],1)])]):t._e(),t._v(" "),t.panelLabels.show?e("l-control",{attrs:{position:t.panelLabels.position}},[e("div",{staticClass:"clsPanel",style:{background:t.panelBackgroundColor}},[e("div",{style:Object.assign({},{overflowY:"auto"},t.panelLabels.style)},[""!==t.panelLabels.title?[e("div",{staticStyle:{"font-size":"1.2rem","font-weight":"bold","text-align":"center"}},[e("span",[t._v(t._s(t.panelLabels.title))])]),t._v(" "),e("div",{staticStyle:{"border-top":"1px solid #b9b9b9",margin:"5px 0px"}})]:t._e(),t._v(" "),e("table",[e("tbody",t._l(t.panelLabels.useItems,(function(n,i){return e("tr",{key:i},[e("td",{staticStyle:{"text-align":"right"}},[t._v(t._s(t.panelLabels[n]))]),t._v(" "),e("td",[t._v(" : ")]),t._v(" "),e("td",[t._v("\n                                    "+t._s("lng"===n||"lat"===n?t.showLoc[n]:"zoom"===n?t.zoom:"")+"\n                                ")])])})),0)])],2)])]):t._e(),t._v(" "),t.panelLegends.show&&t.countVisible(t.contourSets)>0?e("l-control",{attrs:{position:t.panelLegends.position}},[e("div",{staticClass:"clsPanel",style:{background:t.panelBackgroundColor}},[e("div",{style:Object.assign({},{display:"flex",alignItems:"flex-start",overflowX:"auto",overflowY:"auto"},t.panelLegends.style)},[t._l(t.contourSets,(function(n,i){return[n.visible?e("div",{key:"contourSet:"+i,staticStyle:{"white-space":"nowrap"}},[e("div",{staticStyle:{padding:"6px 8px"}},[e("div",{staticStyle:{"margin-bottom":"5px","padding-left":"5px"}},[e("div",{staticStyle:{"text-align":"center"},domProps:{innerHTML:t._s(n.title)}}),t._v(" "),e("div",{staticStyle:{"font-size":"0.85rem","text-align":"center"},domProps:{innerHTML:t._s(n.legendMsg)}})]),t._v(" "),t._l(n.legend,(function(n,i){return[e("div",{key:"legend"+i,staticStyle:{position:"relative","padding-left":"5px"}},[n.arrow?e("div",{staticStyle:{position:"absolute",margin:"auto 0",transform:"translateX(-100%)"}},[t._v("\n                                            ▶\n                                        ")]):t._e(),t._v(" "),e("div",{staticStyle:{display:"flex","align-items":"center"}},[e("div",{style:"background:"+n.color+"; width:18px; height:18px; margin-right:8px;"}),t._v(" "),e("div",{staticStyle:{"font-size":"0.7rem",height:"18px","line-height":"18px"},domProps:{innerHTML:t._s(n.rangeText)}})])])]}))],2)]):t._e()]}))],2)])]):t._e(),t._v(" "),e("l-layer-group",{ref:"refPopup"}),t._v(" "),e("l-layer-group",{ref:"refTooltip",staticStyle:{"white-space":"normal"}}),t._v(" "),t._l(t.panelBaseMaps.baseMaps,(function(n,i){return e("l-tile-layer",{key:"baseMap:"+i,attrs:{"layer-type":"base",name:n.name,visible:n.visible,url:n.url,subdomains:n.subdomains,attribution:n.attribution},on:{"update:visible":function(e){return t.$set(n,"visible",e)}}})})),t._v(" "),t._l(t.pointSets,(function(n,i){return e("l-layer-group",{key:"pointSet:"+i,attrs:{"layer-type":"overlay",name:n.title,visible:n.visible},on:{"update:visible":function(e){return t.$set(n,"visible",e)}}},t._l(n.points,(function(o,l){return e("l-marker",{key:"point:"+l,attrs:{"lat-lng":o.latLng,icon:o.icon},on:{click:function(e){t.clickPoint(e,o,l,n,i,t.pointSets)},mouseenter:function(e){t.tooltipPoint(e,o,l,n,i,t.pointSets)},mouseleave:t.closeTooltip}})})),1)})),t._v(" "),t._l(t.polygonSets,(function(n,i){return e("l-layer-group",{key:"polygonSet:"+i,attrs:{"layer-type":"overlay",name:n.title,visible:n.visible},on:{"update:visible":function(e){return t.$set(n,"visible",e)}}},[e("l-polygon",t._b({attrs:{"lat-lngs":n.latLngs},on:{mouseenter:function(e){n.mouseenter(e),t.tooltipPolygon(e,n,i,t.polygonSets)},mouseleave:function(e){n.mouseleave(e),t.closeTooltip()},click:function(e){t.clickPolygon(e,n,i,t.polygonSets)}}},"l-polygon",n.style,!1))],1)})),t._v(" "),t._l(t.contourSets,(function(n,i){return e("l-layer-group",{key:"contourSet:"+i,attrs:{"layer-type":"overlay",name:n.title,visible:n.visible},on:{"update:visible":function(e){return t.$set(n,"visible",e)}}},[e("l-contour",{attrs:{points:n.points,polygonsContainInner:n.polygonsContainInner,polygonsClipInner:n.polygonsClipInner,polygonClipOuter:n.polygonClipOuter,gradient:n.gradient,changeStyleWhenHover:n.changeStyleWhenHover},on:{refresh:function(e){t.contourRefresh(e,n,i)},mouseenter:function(e){t.contourMouseenter(e,n,i,t.contourSets),t.tooltipContour(e,n,i,t.contourSets)},mouseleave:function(e){t.contourMouseleave(e,n,i,t.contourSets),t.closeTooltip()},click:function(e){t.clickContour(e,n,i,t.contourSets)}}})],1)}))],2)],1)};dL._withStripped=!0;const cL=US({render:dL,staticRenderFns:[]},(function(t){t&&t("data-v-4d21eab2_0",{source:"\n.clsPanel[data-v-4d21eab2] {\r\n    padding:6px 10px;\r\n    box-shadow:0 0 15px rgba(0,0,0,0.2);\r\n    border-radius:5px;\r\n    font-size: 0.8rem;\r\n    font-family:'Microsoft JhengHei','Avenir','Helvetica';\n}\n[data-v-4d21eab2] .leaflet-popup-content {\r\n    margin:0px;\n}\n[data-v-4d21eab2] .leaflet-popup-content-wrapper {\r\n    border-radius:5px;\n}\r\n",map:{version:3,sources:["D:\\開源-JS-105-3-w-leaflet-vue\\w-leaflet-vue\\src\\components\\WLeafletVue.vue"],names:[],mappings:";AA02DA;IACA,gBAAA;IACA,mCAAA;IACA,iBAAA;IACA,iBAAA;IACA,qDAAA;AACA;AACA;IACA,UAAA;AACA;AACA;IACA,iBAAA;AACA",file:"WLeafletVue.vue",sourcesContent:["<template>\r\n    <div\r\n        style=\"display:inline-block;\"\r\n        v-domresize\r\n        @domresize=\"resize\"\r\n    >\r\n\r\n        <l-map\r\n            ref=\"lmap\"\r\n            :zoom=\"zoom\"\r\n            :center=\"center\"\r\n            :options=\"{zoomControl: false}\"\r\n            @update:zoom=\"updateZoom\"\r\n            @update:center=\"updateCenter\"\r\n            @mousemove=\"updateLatLng\"\r\n        >\r\n\r\n            \x3c!-- 縮放按鈕 --\x3e\r\n            <l-control-zoom\r\n                :position=\"panelZoom.position\"\r\n                v-if=\"panelZoom.show\"\r\n            ></l-control-zoom>\r\n\r\n            \x3c!-- 控制底圖圖層 --\x3e\r\n            <l-control\r\n                :position=\"panelBaseMaps.position\"\r\n                v-if=\"panelBaseMaps.show\"\r\n            >\r\n                <div\r\n                    class=\"clsPanel\"\r\n                    :style=\"{background:panelBackgroundColor}\"\r\n                >\r\n                    <Radios\r\n                        :items.sync=\"panelBaseMaps.baseMaps\"\r\n                        :keyValue=\"'visible'\"\r\n                        :keyTitle=\"'name'\"\r\n                    ></Radios>\r\n                </div>\r\n            </l-control>\r\n\r\n            \x3c!-- 控制數據圖層 --\x3e\r\n            <l-control\r\n                :position=\"panelItems.position\"\r\n                v-if=\"panelItems.show && items.length>0\"\r\n            >\r\n                <div class=\"clsPanel\" :style=\"{background:panelBackgroundColor}\">\r\n                    <div :style=\"{overflowY:'auto',...panelItems.style}\">\r\n                        <Checkboxs\r\n                            :style=\"``\"\r\n                            :items.sync=\"items\"\r\n                            :keyValue=\"'visible'\"\r\n                            :keyTitle=\"'name'\"\r\n                            @update:items=\"updateItems\"\r\n                        ></Checkboxs>\r\n                    </div>\r\n                </div>\r\n            </l-control>\r\n\r\n            \x3c!-- 滑鼠座標顯示區 --\x3e\r\n            <l-control :position=\"panelLabels.position\" v-if=\"panelLabels.show\">\r\n                <div class=\"clsPanel\" :style=\"{background:panelBackgroundColor}\">\r\n                    <div :style=\"{overflowY:'auto',...panelLabels.style}\">\r\n\r\n                        <template v-if=\"panelLabels.title!==''\">\r\n\r\n                            <div style=\"font-size:1.2rem; font-weight:bold; text-align:center;\">\r\n                                <span>{{panelLabels.title}}</span>\r\n                            </div>\r\n\r\n                            <div style=\"border-top:1px solid #b9b9b9; margin:5px 0px;\"></div>\r\n\r\n                        </template>\r\n\r\n                        <table>\r\n                            <tbody>\r\n                                <tr :key=\"kitem\" v-for=\"(item,kitem) in panelLabels.useItems\">\r\n                                    <td style=\"text-align:right;\">{{panelLabels[item]}}</td>\r\n                                    <td> : </td>\r\n                                    <td>\r\n                                        {{\r\n                                            item==='lng' || item==='lat' ? showLoc[item] :\r\n                                            item==='zoom' ? zoom :\r\n                                            ''\r\n                                        }}\r\n                                    </td>\r\n                                </tr>\r\n                            </tbody>\r\n                        </table>\r\n\r\n                    </div>\r\n                </div>\r\n            </l-control>\r\n\r\n            \x3c!-- 圖例區 --\x3e\r\n            <l-control :position=\"panelLegends.position\" v-if=\"panelLegends.show && countVisible(contourSets)>0\">\r\n                <div class=\"clsPanel\" :style=\"{background:panelBackgroundColor}\">\r\n                    <div :style=\"{display:'flex',alignItems:'flex-start',overflowX:'auto',overflowY:'auto',...panelLegends.style}\">\r\n\r\n                        <template\r\n                            v-for=\"(contourSet,kcontourSet) in contourSets\"\r\n                        >\r\n                            <div\r\n                                style=\"white-space:nowrap;\"\r\n                                :key=\"'contourSet:'+kcontourSet\"\r\n                                v-if=\"contourSet.visible\"\r\n                            >\r\n                                <div style=\"padding:6px 8px;\">\r\n\r\n                                    <div style=\"margin-bottom:5px; padding-left:5px;\">\r\n                                        <div style=\"text-align:center;\" v-html=\"contourSet.title\"></div>\r\n                                        <div style=\"font-size:0.85rem; text-align:center;\" v-html=\"contourSet.legendMsg\"></div>\r\n                                    </div>\r\n\r\n                                    <template\r\n                                        v-for=\"(legend,klegend) in contourSet.legend\"\r\n                                    >\r\n                                        <div\r\n                                            style=\"position:relative; padding-left:5px;\"\r\n                                            :key=\"'legend'+klegend\"\r\n                                        >\r\n                                            <div style=\"position:absolute; margin:auto 0; transform:translateX(-100%);\" v-if=\"legend.arrow\">\r\n                                                ▶\r\n                                            </div>\r\n                                            <div\r\n                                                style=\"display:flex; align-items:center;\"\r\n                                            >\r\n                                                <div :style=\"`background:${legend.color}; width:18px; height:18px; margin-right:8px;`\"></div>\r\n                                                <div style=\"font-size:0.7rem; height:18px; line-height:18px;\" v-html=\"legend.rangeText\"></div>\r\n                                            </div>\r\n                                        </div>\r\n\r\n                                    </template>\r\n\r\n                                </div>\r\n                            </div>\r\n                        </template>\r\n\r\n                    </div>\r\n                </div>\r\n            </l-control>\r\n\r\n            \x3c!-- popup顯示區 --\x3e\r\n            <l-layer-group ref=\"refPopup\"></l-layer-group>\r\n\r\n            \x3c!-- tooltip顯示區 --\x3e\r\n            <l-layer-group style=\"white-space:normal;\" ref=\"refTooltip\"></l-layer-group>\r\n\r\n            \x3c!-- 底圖圖層 --\x3e\r\n            <l-tile-layer\r\n                layer-type=\"base\"\r\n                :key=\"'baseMap:'+kbaseMap\"\r\n                :name=\"baseMap.name\"\r\n                :visible.sync=\"baseMap.visible\"\r\n                :url=\"baseMap.url\"\r\n                :subdomains=\"baseMap.subdomains\"\r\n                :attribution=\"baseMap.attribution\"\r\n                v-for=\"(baseMap,kbaseMap) in panelBaseMaps.baseMaps\"\r\n            ></l-tile-layer>\r\n\r\n            \x3c!-- 點圖層 --\x3e\r\n            <l-layer-group\r\n                layer-type=\"overlay\"\r\n                :key=\"'pointSet:'+kpointSet\"\r\n                :name=\"pointSet.title\"\r\n                :visible.sync=\"pointSet.visible\"\r\n                v-for=\"(pointSet,kpointSet) in pointSets\"\r\n            >\r\n                <l-marker\r\n                    :key=\"'point:'+kpoint\"\r\n                    :lat-lng=\"point.latLng\"\r\n                    :icon=\"point.icon\"\r\n                    @click=\"(ev)=>{clickPoint(ev,point,kpoint,pointSet,kpointSet,pointSets)}\"\r\n                    @mouseenter=\"(ev)=>{tooltipPoint(ev,point,kpoint,pointSet,kpointSet,pointSets)}\"\r\n                    @mouseleave=\"closeTooltip\"\r\n                    v-for=\"(point,kpoint) in pointSet.points\"\r\n                ></l-marker>\r\n            </l-layer-group>\r\n\r\n            \x3c!-- 多邊形圖層 --\x3e\r\n            <l-layer-group\r\n                layer-type=\"overlay\"\r\n                :key=\"'polygonSet:'+kpolygonSet\"\r\n                :name=\"polygonSet.title\"\r\n                :visible.sync=\"polygonSet.visible\"\r\n                v-for=\"(polygonSet,kpolygonSet) in polygonSets\"\r\n            >\r\n                <l-polygon\r\n                    :lat-lngs=\"polygonSet.latLngs\"\r\n                    v-bind=\"polygonSet.style\"\r\n                    @mouseenter=\"(ev)=>{polygonSet.mouseenter(ev);tooltipPolygon(ev,polygonSet,kpolygonSet,polygonSets)}\"\r\n                    @mouseleave=\"(ev)=>{polygonSet.mouseleave(ev);closeTooltip()}\"\r\n                    @click=\"(ev)=>{clickPolygon(ev,polygonSet,kpolygonSet,polygonSets)}\"\r\n                ></l-polygon>\r\n            </l-layer-group>\r\n\r\n            \x3c!-- 等值線圖層 --\x3e\r\n            <l-layer-group\r\n                layer-type=\"overlay\"\r\n                :key=\"'contourSet:'+kcontourSet\"\r\n                :name=\"contourSet.title\"\r\n                :visible.sync=\"contourSet.visible\"\r\n                v-for=\"(contourSet,kcontourSet) in contourSets\"\r\n            >\r\n                <l-contour\r\n                    :points=\"contourSet.points\"\r\n                    :polygonsContainInner=\"contourSet.polygonsContainInner\"\r\n                    :polygonsClipInner=\"contourSet.polygonsClipInner\"\r\n                    :polygonClipOuter=\"contourSet.polygonClipOuter\"\r\n                    :gradient=\"contourSet.gradient\"\r\n                    :changeStyleWhenHover=\"contourSet.changeStyleWhenHover\"\r\n                    @refresh=\"(v)=>{contourRefresh(v,contourSet,kcontourSet)}\"\r\n                    @mouseenter=\"(v)=>{contourMouseenter(v,contourSet,kcontourSet,contourSets);tooltipContour(v,contourSet,kcontourSet,contourSets)}\"\r\n                    @mouseleave=\"(v)=>{contourMouseleave(v,contourSet,kcontourSet,contourSets);closeTooltip()}\"\r\n                    @click=\"(v)=>{clickContour(v,contourSet,kcontourSet,contourSets)}\"\r\n                ></l-contour>\r\n            </l-layer-group>\r\n\r\n        </l-map>\r\n\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport map from 'lodash/map'\r\nimport each from 'lodash/each'\r\nimport size from 'lodash/size'\r\nimport omit from 'lodash/omit'\r\nimport reverse from 'lodash/reverse'\r\nimport filter from 'lodash/filter'\r\nimport get from 'lodash/get'\r\nimport set from 'lodash/set'\r\nimport isNumber from 'lodash/isNumber'\r\nimport isEqual from 'lodash/isEqual'\r\nimport cloneDeep from 'lodash/cloneDeep'\r\nimport sortBy from 'lodash/sortBy'\r\nimport isfun from 'wsemi/src/isfun.mjs'\r\nimport isestr from 'wsemi/src/isestr.mjs'\r\nimport isstr from 'wsemi/src/isstr.mjs'\r\nimport isarr from 'wsemi/src/isarr.mjs'\r\nimport isobj from 'wsemi/src/isobj.mjs'\r\nimport iseobj from 'wsemi/src/iseobj.mjs'\r\nimport isbol from 'wsemi/src/isbol.mjs'\r\nimport ispint from 'wsemi/src/ispint.mjs'\r\nimport isearr from 'wsemi/src/isearr.mjs'\r\nimport isnum from 'wsemi/src/isnum.mjs'\r\nimport cdbl from 'wsemi/src/cdbl.mjs'\r\nimport dig from 'wsemi/src/dig.mjs'\r\nimport debounce from 'wsemi/src/debounce.mjs'\r\nimport wg from 'w-gis/src/WGis.mjs'\r\nimport domResize from 'w-component-vue/src/js/domResize.mjs'\r\nimport 'leaflet/dist/leaflet.css'\r\nimport { Icon } from 'leaflet'\r\nimport { LMap, LTileLayer, LControl, LControlZoom, LLayerGroup, LMarker, LPolygon } from 'vue2-leaflet'\r\nimport LContour from './LContour.vue'\r\nimport Radios from './Radios.vue'\r\nimport Checkboxs from './Checkboxs.vue'\r\n\r\n\r\nfunction getDefBaseMaps() {\r\n    //用函數產生數據, 避免跨組件污染\r\n    let defBaseMaps = [\r\n        {\r\n            name: 'Mapbox',\r\n            //api.mapbox.com/v4/mapbox.satellite\r\n            //api.mapbox.com/v4/mapbox.mapbox-streets-v8\r\n            //api.mapbox.com/v4/mapbox.terrain-rgb\r\n            //api.mapbox.com/v4/mapbox.mapbox-traffic-v1\r\n            url: '//api.mapbox.com/v4/mapbox.satellite/{z}/{x}/{y}.png?access_token=pk.eyJ1Ijoic2VtaXNwaGVyZSIsImEiOiJja2s1anBrZzMwN3NkMndsOGt6MHo5ajI5In0._vUKnQ57n7UcWsWgOPIEgQ',\r\n            visible: true,\r\n        },\r\n        {\r\n            name: 'OpenStreetMap',\r\n            // url: '//{s}.tile.osm.org/{z}/{x}/{y}.png', //同樣位址\r\n            url: '//{s}.tile.openstreetmap.org/{z}/{x}/{y}.png',\r\n            visible: false,\r\n        },\r\n        {\r\n            name: 'OpenTopoMap',\r\n            url: '//{s}.tile.opentopomap.org/{z}/{x}/{y}.png',\r\n            visible: false,\r\n        },\r\n        {\r\n            name: 'GoogleStreets',\r\n            url: '//www.google.cn/maps/vt?lyrs=m@189&gl=cn&x={x}&y={y}&z={z}',\r\n            visible: false,\r\n        },\r\n        {\r\n            name: 'GoogleSatellite',\r\n            url: '//www.google.cn/maps/vt?lyrs=s@189&gl=cn&x={x}&y={y}&z={z}',\r\n            visible: false,\r\n        },\r\n        {\r\n            name: 'GoogleHybrid',\r\n            url: '//www.google.cn/maps/vt?lyrs=s,h@189&gl=cn&x={x}&y={y}&z={z}',\r\n            visible: false,\r\n        },\r\n        // {\r\n        //     name: 'googleStreets',\r\n        //     url: 'http://{s}.google.com/vt/lyrs=m&x={x}&y={y}&z={z}',\r\n        //     visible: false,\r\n        // },\r\n        // {\r\n        //     name: 'googleHybrid',\r\n        //     url: 'http://{s}.google.com/vt/lyrs=s,h&x={x}&y={y}&z={z}',\r\n        //     visible: false,\r\n        // },\r\n        // {\r\n        //     name: 'googleSat',\r\n        //     url: 'http://{s}.google.com/vt/lyrs=s&x={x}&y={y}&z={z}',\r\n        //     visible: false,\r\n        // },\r\n        // {\r\n        //     name: 'googleTerrain',\r\n        //     url: 'http://{s}.google.com/vt/lyrs=p&x={x}&y={y}&z={z}',\r\n        //     visible: false,\r\n        // },\r\n        {\r\n            name: 'TGOS福衛二號影像',\r\n            url: 'http://gis.sinica.edu.tw/tgos/file-exists.php?img=F2IMAGE_W-png-{z}-{x}-{y}',\r\n            visible: false,\r\n        },\r\n        {\r\n            name: 'TGOS福衛二號混合圖',\r\n            url: 'http://gis.sinica.edu.tw/tgos/file-exists.php?img=ROADMAP_W-png-{z}-{x}-{y}',\r\n            visible: false,\r\n        },\r\n        {\r\n            name: 'TGOS電子地圖',\r\n            url: 'http://gis.sinica.edu.tw/tgos/file-exists.php?img=TGOSMAP_W-png-{z}-{x}-{y}',\r\n            visible: false,\r\n        },\r\n        {\r\n            name: 'TGOS地形暈渲圖',\r\n            url: 'http://gis.sinica.edu.tw/tgos/file-exists.php?img=HILLSHADE_W-png-{z}-{x}-{y}',\r\n            visible: false,\r\n        },\r\n        {\r\n            name: 'TGOS地形暈渲混合圖',\r\n            url: 'http://gis.sinica.edu.tw/tgos/file-exists.php?img=HILLSHADEMIX_W-png-{z}-{x}-{y}',\r\n            visible: false,\r\n        },\r\n    ]\r\n    return defBaseMaps\r\n}\r\n\r\n\r\n/**\r\n * @vue-prop {Object} opt 輸入資料設定物件\r\n * @vue-prop {Array} [opt.center=[23.5, 121.1]] 輸入地圖顯示中點陣列，陣列為WGS84[緯度,經度]，預設[23.5, 121.1]\r\n * @vue-prop {Number} [opt.zoom=7] 輸入地圖顯示層級整數，預設7\r\n * @vue-prop {Object} [opt.panelBackgroundColor='rgba(255,255,255,0.95)'] 輸入各顯示資訊區背景顏色字串，預設'rgba(255,255,255,0.95)'\r\n * @vue-prop {Boolean} [opt.panelBaseMaps.show=true] 輸入底圖選擇區是否顯示布林值，預設true\r\n * @vue-prop {Array} [opt.panelBaseMaps.baseMaps=詳見程式碼] 輸入底圖選擇清單陣列，各元素為底圖設定物件，需提供欄位為name(底圖名稱字串)、url(底圖連結字串)、visible(是否顯示布林值)，預設值詳見程式碼的defBaseMaps預設值\r\n * @vue-prop {String} [opt.panelBaseMaps.position='topleft'] 輸入底圖選擇區位置字串，可選'topleft'、'topright'、'bottomleft'、'bottomright'，預設'topleft'\r\n * @vue-prop {Boolean} [opt.panelLabels.show=true] 輸入地圖資訊區是否顯示布林值，預設true\r\n * @vue-prop {String} [opt.panelLabels.position='topright'] 輸入地圖資訊區位置字串，可選'topleft'、'topright'、'bottomleft'、'bottomright'，預設'topright'\r\n * @vue-prop {String} [opt.panelLabels.title=''] 輸入地圖資訊區內標題字串，預設''\r\n * @vue-prop {String} [opt.panelLabels.lng='Longitude'] 輸入地圖資訊區內標注經度字串，預設'Longitude'\r\n * @vue-prop {String} [opt.panelLabels.lat='Latitude'] 輸入地圖資訊區內標注緯度字串，預設'Latitude'\r\n * @vue-prop {String} [opt.panelLabels.zoom='Zoom'] 輸入地圖資訊區內標注顯示層級字串，預設'Zoom'\r\n * @vue-prop {Array} [opt.panelLabels.useItems=['lng','lat','zoom']] 輸入地圖資訊區內呈現項目陣列，各元素給字串，'lng'代表經度，'lat'代表緯度，'zoom'代表顯示層級，預設['lng','lat','zoom']\r\n * @vue-prop {Number} [opt.panelLabels.maxWidth=null] 輸入地圖資訊區最大寬度數字，單位px，預設null\r\n * @vue-prop {Number} [opt.panelLabels.maxHeight=null] 輸入地圖資訊區最大高度數字，單位px，預設null\r\n * @vue-prop {Boolean} [opt.panelZoom.show=true] 輸入縮放按鈕區是否顯示布林值，預設true\r\n * @vue-prop {String} [opt.panelZoom.position='bottomleft'] 輸入縮放按鈕區位置字串，可選'topleft'、'topright'、'bottomleft'、'bottomright'，預設'bottomleft'\r\n * @vue-prop {Boolean} [opt.panelItems.show=true] 輸入圖層顯隱切換區是否顯示布林值，預設true\r\n * @vue-prop {String} [opt.panelItems.position='topleft'] 輸入圖層顯隱切換區位置字串，可選'topleft'、'topright'、'bottomleft'、'bottomright'，預設'topleft'\r\n * @vue-prop {Number} [opt.panelItems.maxWidth=null] 輸入圖層顯隱切換區最大寬度數字，單位px，預設null\r\n * @vue-prop {Number} [opt.panelItems.maxHeight=null] 輸入圖層顯隱切換區最大高度數字，單位px，預設null\r\n * @vue-prop {Boolean} [opt.panelLegends.show=true] 輸入圖例區是否顯示布林值，預設true\r\n * @vue-prop {String} [opt.panelLegends.position='bottomright'] 輸入圖例區位置字串，可選'topleft'、'topright'、'bottomleft'、'bottomright'，預設'bottomright'\r\n * @vue-prop {Number} [opt.panelLegends.maxWidth=null] 輸入圖例區最大寬度數字，單位px，預設null\r\n * @vue-prop {Number} [opt.panelLegends.maxHeight=null] 輸入圖例區最大高度數字，單位px，預設null\r\n * @vue-prop {Array} [opt.pointSets=[]] 輸入點集合陣列，各元素為物件，預設[]\r\n * @vue-prop {String} [opt.pointSets[i].title=''] 輸入第i個點集合的標題字串，預設為''\r\n * @vue-prop {String} [opt.pointSets[i].msg=''] 輸入第i個點集合的說明字串，預設為''\r\n * @vue-prop {Number} [opt.pointSets[i].order=null] 輸入第i個點集合的排序用數字，預設null\r\n * @vue-prop {String} [opt.pointSets[i].iconSrc=詳見程式碼] 輸入第i個點集合的顯示圖標來源字串，可使用base64格式或網址，預設為google map的點圖標，值詳見程式碼\r\n * @vue-prop {Array} [opt.pointSets[i].iconSize=[24,40]] 輸入第i個點集合的顯示圖標尺寸陣列，使用[寬,高]，長寬單位px，預設[24,40]\r\n * @vue-prop {Array} [opt.pointSets[i].iconAnchor=[iconSize[0]/2,iconSize[1]]] 輸入第i個點集合的顯示圖標的實際定位位置陣列，由圖標左上角代表實際定位點起算，往左移動為+x，往上移動為+y，x與y單位px，需給予[x,y]，預設[iconSize[0]/2,iconSize[1]]\r\n * @vue-prop {Array} [opt.pointSets[i].popupAnchor=[0,-iconSize[1]/1.5]] 輸入第i個點集合的顯示popup或tooltip時的指向位置陣列，由實際定位點起算，往右移動為+x，往下移動為+y，x與y單位px，需給予[x,y]，預設[0,-iconSize[1]/1.5]\r\n * @vue-prop {Array} [opt.pointSets[i].points=[]] 輸入第i個點集合的各點陣列，各元素為物件或為緯經度(注意非經緯度)陣列，也就是[{p1},{p2},...]或是[[p1lat,p1lng],[p2lat,p2lng],...]，預設為[]\r\n * @vue-prop {String} [opt.pointSets[i].points[j].title=''] 輸入第i個點集合的第j個點的標題字串，預設為''\r\n * @vue-prop {String} [opt.pointSets[i].points[j].msg=''] 輸入第i個點集合的第j個點的說明字串，預設為''\r\n * @vue-prop {Array} [opt.pointSets[i].points[j].latLng=[]] 輸入第i個點集合的第j個點的緯經度(注意非經緯度)座標陣列，也就是給予[lat,lng]，預設[]\r\n * @vue-prop {String} [opt.pointSets[i].points[j].iconSrc=詳見程式碼] 輸入第i個點集合的第j個點的顯示圖標來源字串，可使用base64格式或網址，預設為google map的點圖標，值詳見程式碼\r\n * @vue-prop {Array} [opt.pointSets[i].points[j].iconSize=[24,40]] 輸入第i個點集合的第j個點的顯示圖標尺寸陣列，使用[寬,高]，長寬單位px，預設[24,40]\r\n * @vue-prop {Array} [opt.pointSets[i].points[j].iconAnchor=[iconSize[0]/2,iconSize[1]]] 輸入第i個點集合的第j個點的顯示圖標的實際定位位置陣列，由圖標左上角代表實際定位點起算，往左移動為+x，往上移動為+y，x與y單位px，需給予[x,y]，預設[iconSize[0]/2,iconSize[1]]\r\n * @vue-prop {Array} [opt.pointSets[i].points[j].popupAnchor=[0,-iconSize[1]/1.5]] 輸入第i個點集合的第j個點的顯示popup或tooltip時的指向位置陣列，由實際定位點起算，往右移動為+x，往下移動為+y，x與y單位px，需給予[x,y]，預設[0,-iconSize[1]/1.5]\r\n * @vue-prop {Function} [opt.defPointSetsClick=function(){}] 輸入全域點集合的click呼叫函數，可給予函數接收點擊事件，預設為function(){}\r\n * @vue-prop {Function} [opt.pointSets[i].click=function(){}] 輸入第i個點集合的click呼叫函數，預設為function(){}\r\n * @vue-prop {Function} [opt.pointSets[i].points[j].click=function(){}] 輸入第i個點集合的第j個點的click呼叫函數，預設為function(){}\r\n * @vue-prop {Function} [opt.defPointSetsPopup=function(){}] 輸入全域點集合的popup內容產生函數，可基於傳入資料回傳顯示文字或html內容，預設為function(){}\r\n * @vue-prop {Function} [opt.pointSets[i].popup=function(){}] 輸入第i個點集合的popup內容產生函數，可基於傳入資料回傳顯示文字或html內容，預設為function(){}\r\n * @vue-prop {Function} [opt.pointSets[i].points[j].popup=function(){}] 輸入第i個點集合的第j個點的popup內容產生函數，可基於傳入資料回傳顯示文字或html內容，預設為function(){}\r\n * @vue-prop {Function} [opt.defPointSetsTooltip=function(){}] 輸入全域點集合的tooltip內容產生函數，可基於傳入資料回傳顯示文字或html內容，預設為function(){}\r\n * @vue-prop {Function} [opt.pointSets[i].tooltip=function(){}] 輸入第i個點集合的tooltip內容產生函數，可基於傳入資料回傳顯示文字或html內容，預設為function(){}\r\n * @vue-prop {Function} [opt.pointSets[i].points[j].tooltip=function(){}] 輸入第i個點集合的第j個點的tooltip內容產生函數，可基於傳入資料回傳顯示文字或html內容，預設為function(){}\r\n * @vue-prop {Array} [opt.polygonSets=[]] 輸入多邊形集合陣列，各元素為物件，預設[]\r\n * @vue-prop {String} [opt.polygonSets[i].title=''] 輸入第i個多邊形集合的標題字串，預設為''\r\n * @vue-prop {String} [opt.polygonSets[i].msg=''] 輸入第i個多邊形集合的說明字串，預設為''\r\n * @vue-prop {Number} [opt.polygonSets[i].order=null] 輸入第i個多邊形集合的排序用數字，預設null\r\n * @vue-prop {String} [opt.polygonSets[i].lineColor='rgba(0,150,255,1)'] 輸入第i個多邊形集合的框線顏色字串，預設為'rgba(0,150,255,1)'\r\n * @vue-prop {String} [opt.polygonSets[i].lineColorHover='rgba(0,150,255,1)'] 輸入滑鼠移入時第i個多邊形集合的框線顏色字串，預設為'rgba(0,150,255,1)'\r\n * @vue-prop {Number} [opt.polygonSets[i].lineWidth=3] 輸入第i個多邊形集合的框線寬度數字，預設為3\r\n * @vue-prop {Number} [opt.polygonSets[i].lineWidthHover=3] 輸入滑鼠移入時第i個多邊形集合的框線寬度數字，預設為3\r\n * @vue-prop {String} [opt.polygonSets[i].fillColor='rgba(0,150,255,0.25)'] 輸入第i個多邊形集合的填充顏色字串，預設為'rgba(0,150,255,0.25)'\r\n * @vue-prop {String} [opt.polygonSets[i].fillColorHover='rgba(0,150,255,0.25)'] 輸入滑鼠移入時第i個多邊形集合的填充顏色字串，預設為'rgba(0,150,255,0.25)'\r\n * @vue-prop {Function} [opt.defPolygonSetsClick=function(){}] 輸入全域多邊形集合的click呼叫函數，可給予函數接收點擊事件，預設為function(){}\r\n * @vue-prop {Function} [opt.polygonSets[i].click=function(){}] 輸入第i個多邊形集合的click呼叫函數，預設為function(){}\r\n * @vue-prop {Function} [opt.defPolygonSetsPopup=function(){}] 輸入全域多邊形集合的popup內容產生函數，可基於傳入資料回傳顯示文字或html內容，預設為function(){}\r\n * @vue-prop {Function} [opt.polygonSets[i].popup=function(){}] 輸入第i個多邊形集合的popup內容產生函數，可基於傳入資料回傳顯示文字或html內容，預設為function(){}\r\n * @vue-prop {Function} [opt.defPolygonSetsTooltip=function(){}] 輸入全域多邊形集合的tooltip內容產生函數，可基於傳入資料回傳顯示文字或html內容，預設為function(){}\r\n * @vue-prop {Function} [opt.polygonSets[i].tooltip=function(){}] 輸入第i個多邊形集合的tooltip內容產生函數，可基於傳入資料回傳顯示文字或html內容，預設為function(){}\r\n * @vue-prop {Array} [opt.contourSets=[]] 輸入等值線集合陣列，各元素為物件，預設[]\r\n * @vue-prop {Number} [opt.contourSets[i].order=null] 輸入第i個等值線集合的排序用數字，預設null\r\n * @vue-prop {Object} [opt.contourSets[i].gradient=詳見程式碼] 輸入第i個等值線集合的色階(color map)設定物件，鍵範圍0至1，值為對應之顏色，於各鍵之間則採用內插取色，預設值詳見程式碼\r\n * @vue-prop {Boolean} [opt.contourSets[i].changeStyleWhenHover=true] 輸入第i個等值線集合的是否使用滑鼠移入時切換style效果布林值，預設true\r\n * @vue-prop {Number} [opt.contourSets[i].legendNumDig=null] 輸入第i個等值線集合的對圖例內數字取小數位數，null代表不取，預設null\r\n * @vue-prop {Function} [opt.contourSets[i].legendTextFormater=null] 輸入第i個等值線集合的對圖例內各色階的內容產生函數，可基於傳入資料回傳顯示文字或html內容，null代表不取，預設null\r\n * @vue-prop {Array} [opt.contourSets[i].polygonClipOuter=[]] 輸入第i個等值線集合的剔除以外之多邊形(polygon，深度為2，例如[[p1lat,p1lng],[p2lat,p2lng],...])陣列，預設[]\r\n * @vue-prop {Array} [opt.contourSets[i].polygonsClipInner=[]] 輸入第i個等值線集合的剔除以內之複數多邊形(multi-polygon，深度為3，例如[[[p1lat,p1lng]],[[p2lat,p2lng]],...])陣列，預設[]\r\n * @vue-prop {Array} [opt.contourSets[i].polygonsContainInner=[]] 輸入第i個等值線集合的保留以內之複數多邊形(multi-polygon，深度為3，例如[[[p1lat,p1lng]],[[p2lat,p2lng]],...])陣列，預設[]\r\n * @vue-prop {Function} [opt.defContourSetsClick=function(){}] 輸入全域等值線集合的click呼叫函數，可給予函數接收點擊事件，預設為function(){}\r\n * @vue-prop {Function} [opt.ContourSets[i].click=function(){}] 輸入第i個等值線集合的click呼叫函數，預設為function(){}\r\n * @vue-prop {Function} [opt.defContourSetsPopup=function(){}] 輸入全域等值線集合的popup內容產生函數，可基於傳入資料回傳顯示文字或html內容，預設為function(){}\r\n * @vue-prop {Function} [opt.ContourSets[i].popup=function(){}] 輸入第i個等值線集合的popup內容產生函數，可基於傳入資料回傳顯示文字或html內容，預設為function(){}\r\n * @vue-prop {Function} [opt.defContourSetsTooltip=function(){}] 輸入全域等值線集合的tooltip內容產生函數，可基於傳入資料回傳顯示文字或html內容，預設為function(){}\r\n * @vue-prop {Function} [opt.ContourSets[i].tooltip=function(){}] 輸入第i個等值線集合的tooltip內容產生函數，可基於傳入資料回傳顯示文字或html內容，預設為function(){}\r\n */\r\nexport default {\r\n    directives: {\r\n        domresize: domResize(),\r\n    },\r\n    components: {\r\n        LMap,\r\n        LTileLayer,\r\n        LControl,\r\n        LControlZoom,\r\n        LLayerGroup,\r\n        LMarker,\r\n        LPolygon,\r\n        LContour,\r\n        Radios,\r\n        Checkboxs,\r\n    },\r\n    props: {\r\n        opt: {\r\n            type: Object,\r\n            default: () => {},\r\n        },\r\n    },\r\n    data: function() {\r\n        return {\r\n            dbcChangePointSets: debounce(),\r\n            dbcChangePolygonSets: debounce(),\r\n            dbcChangeContourSets: debounce(),\r\n            dbcChangeItems: debounce(),\r\n            wats: [],\r\n\r\n            center: [],\r\n            zoom: null,\r\n            panelBackgroundColor: '',\r\n            panelZoom: {},\r\n            panelBaseMaps: {},\r\n            panelItems: {},\r\n            panelLabels: {},\r\n            panelLegends: {},\r\n            showLoc: {\r\n                lat: '',\r\n                lng: '',\r\n            },\r\n\r\n            pointSets: [],\r\n            effPointSetsTemp: [],\r\n\r\n            polygonSets: [],\r\n            effPolygonSetsTemp: [],\r\n\r\n            contourSets: [],\r\n            effContourSetsTemp: [],\r\n\r\n            items: [],\r\n        }\r\n    },\r\n    mounted: function() {\r\n        // console.log('mounted')\r\n\r\n        let vo = this\r\n\r\n        //wo\r\n        let wo = {\r\n            immediate: true,\r\n            deep: true,\r\n        }\r\n\r\n        each(['pointSets', 'defPointSetsClick', 'defPointSetsPopup', 'defPointSetsTooltip'], (v) => {\r\n            let wat = vo.$watch(`opt.${v}`, vo.changePointSetsDebounce, wo)\r\n            vo.wats.push(wat)\r\n        })\r\n\r\n        each(['polygonSets', 'defPolygonSetsClick', 'defPolygonSetsPopup', 'defPolygonSetsTooltip'], (v) => {\r\n            let wat = vo.$watch(`opt.${v}`, vo.changePolygonSetsDebounce, wo)\r\n            vo.wats.push(wat)\r\n        })\r\n\r\n        each(['contourSets', 'defContourSetsClick', 'defContourSetsPopup', 'defContourSetsTooltip'], (v) => {\r\n            let wat = vo.$watch(`opt.${v}`, vo.changeContourSetsDebounce, wo)\r\n            vo.wats.push(wat)\r\n        })\r\n\r\n    },\r\n    beforeDestroy: function() {\r\n        // console.log('beforeDestroy')\r\n\r\n        let vo = this\r\n\r\n        //unwatch\r\n        each(vo.wats, (wat) => {\r\n            wat()\r\n        })\r\n\r\n    },\r\n    watch: {\r\n        'opt': {\r\n            handler(value) {\r\n                // console.log('opt handler', cloneDeep(value))\r\n\r\n                let vo = this\r\n\r\n                //changeOpt\r\n                vo.changeOpt()\r\n\r\n            },\r\n            immediate: true,\r\n            deep: true,\r\n        }\r\n    },\r\n    computed: {\r\n    },\r\n    methods: {\r\n\r\n        resize: function(msg) {\r\n            // console.log('methods resize', msg)\r\n\r\n            let vo = this\r\n\r\n            //mapObject\r\n            let mapObject = vo.getMapObject()\r\n            // console.log('mapObject', mapObject)\r\n\r\n            //invalidateSize\r\n            if (iseobj(mapObject)) {\r\n                mapObject.invalidateSize()\r\n                // console.log('invalidateSize')\r\n            }\r\n\r\n        },\r\n\r\n        countVisible: function(arr) {\r\n            let i = 0\r\n            each(arr, (v) => {\r\n                if (v.visible) {\r\n                    i++\r\n                }\r\n            })\r\n            return i\r\n        },\r\n\r\n        updateZoom: function(v) {\r\n            // console.log('methods updateZoom', v)\r\n\r\n            let vo = this\r\n\r\n            vo.opt.zoom = v //強制修改外部opt數據, 否則因內部切換zoom而外部數據沒變更時, 會無法偵測zoom變動\r\n            vo.zoom = v //要更新內部zoom使地圖zoom數字能變更\r\n\r\n        },\r\n\r\n        updateCenter: function(v) {\r\n            // console.log('methods updateCenter', v)\r\n\r\n            let vo = this\r\n\r\n            //zoom與center常會同時設定, 但外部變更時可能僅只有一個如zoom, 若內部有先變更另一個如center, 但此時外部數據的center沒變更的話, 就會導致外部給予zoom時又重傳舊的center進來, 造成使用者平移的操作被重設, 故center也需要由內部同步變更至外部\r\n\r\n            if (!isEqual(vo.opt.center, [v.lat, v.lng])) {\r\n                vo.opt.center = [v.lat, v.lng] //強制修改外部opt數據, 否則因內部切換center而外部數據沒變更時, 會無法偵測center變動\r\n                // vo.center = v //不修改內部center\r\n            }\r\n\r\n        },\r\n\r\n        getIconParam: function(v) {\r\n            // console.log('methods getIconParam', v)\r\n\r\n            // let vo = this\r\n\r\n            //param\r\n            let iconSrc = get(v, 'iconSrc', null)\r\n            let iconSize = get(v, 'iconSize', null)\r\n            let iconAnchor = get(v, 'iconAnchor', null)\r\n            let popupAnchor = get(v, 'popupAnchor', null)\r\n\r\n            //eff\r\n            let eff = isestr(iconSrc) && isarr(iconSize) && size(iconSize) === 2 && isarr(iconAnchor) && size(iconAnchor) === 2 // && isarr(popupAnchor) && size(popupAnchor) === 2\r\n\r\n            return {\r\n                eff,\r\n                iconSrc,\r\n                iconSize,\r\n                iconAnchor,\r\n                popupAnchor,\r\n            }\r\n        },\r\n\r\n        getIcon: function(v) {\r\n            // console.log('methods getIcon', v)\r\n\r\n            let vo = this\r\n\r\n            //getIconParam\r\n            let r = vo.getIconParam(v)\r\n\r\n            //check\r\n            if (!r.eff) {\r\n                let defIconSrc = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII='\r\n                r.iconSrc = defIconSrc\r\n                r.iconSize = [24, 40]\r\n                r.iconAnchor = [r.iconSize[0] / 2, r.iconSize[1]] //圖左上角相對座標\r\n                r.popupAnchor = [0, -r.iconSize[1] / 1.5]\r\n            }\r\n\r\n            //icon\r\n            let icon = new Icon({\r\n                iconUrl: r.iconSrc,\r\n                iconSize: r.iconSize,\r\n                iconAnchor: r.iconAnchor,\r\n                popupAnchor: r.popupAnchor,\r\n            })\r\n\r\n            return {\r\n                eff: r.eff,\r\n                icon,\r\n            }\r\n        },\r\n\r\n        changeOpt: function() {\r\n            // console.log('methods changeOpt')\r\n\r\n            let vo = this\r\n\r\n            //mapObject\r\n            let mapObject = vo.getMapObject()\r\n            // console.log('mapObject', mapObject)\r\n\r\n            //panelBackgroundColor\r\n            let panelBackgroundColor = get(vo, 'opt.panelBackgroundColor', null)\r\n            if (!isstr(panelBackgroundColor)) {\r\n                panelBackgroundColor = 'rgba(255,255,255,0.95)'\r\n            }\r\n            vo.panelBackgroundColor = panelBackgroundColor\r\n\r\n            //zoom\r\n            let zoom = get(vo, 'opt.zoom', null)\r\n            if (!ispint(zoom)) {\r\n                zoom = 7\r\n            }\r\n            zoom = Math.min(Math.max(zoom, 1), 18) //介於1~18\r\n\r\n            //check\r\n            if (!isEqual(vo.zoom, zoom)) {\r\n\r\n                //update\r\n                vo.zoom = zoom\r\n\r\n                // //setZoom, 不會有像修改center的問題, 故不使用setZoom\r\n                // if (iseobj(mapObject)) {\r\n                //     mapObject.setZoom(zoom)\r\n                // }\r\n\r\n            }\r\n\r\n            //center\r\n            let center = get(vo, 'opt.center', null)\r\n            let ckCenter = isarr(center) && size(center) === 2 && isNumber(get(center, 0)) && isNumber(get(center, 1))\r\n            if (!ckCenter) {\r\n                center = [23.5, 121.1]\r\n            }\r\n            center = cloneDeep(center) //一定要cloneDeep使陣列記憶體與外部拖勾, 要不然更新center時就會觸發外部opt記憶體變更而被watch到, 進而導致無限觸發事件\r\n\r\n            //check\r\n            if (!isEqual(vo.center, center)) {\r\n\r\n                //update\r\n                vo.center = center\r\n\r\n                //panTo, 因為由外部更改center座標過近時, vue-leaflet會無法移動地圖, 故得呼叫原始leaflet事件panTo強制移動地圖至center\r\n                if (iseobj(mapObject)) {\r\n                    mapObject.panTo(center)\r\n                }\r\n\r\n            }\r\n\r\n            //default showLoc\r\n            vo.showLoc = {\r\n                lat: dig(vo.center[0], 7),\r\n                lng: dig(vo.center[1], 7),\r\n            }\r\n\r\n            //defPanelBaseMaps\r\n            let defPanelBaseMaps = {\r\n                show: true,\r\n                position: 'topleft',\r\n                baseMaps: [],\r\n            }\r\n\r\n            //panelBaseMaps\r\n            let panelBaseMaps = get(vo, 'opt.panelBaseMaps', null)\r\n            if (!isobj(panelBaseMaps)) {\r\n                panelBaseMaps = {}\r\n            }\r\n            panelBaseMaps = {\r\n                ...defPanelBaseMaps,\r\n                ...panelBaseMaps,\r\n            }\r\n            if (size(get(panelBaseMaps, 'baseMaps', [])) === 0) {\r\n                panelBaseMaps.baseMaps = getDefBaseMaps() //default baseMaps\r\n            }\r\n            panelBaseMaps = cloneDeep(panelBaseMaps) //一定要cloneDeep使陣列記憶體與外部拖勾, 要不然更新baseMaps時就會觸發外部opt記憶體變更而被watch到, 進而導致無限觸發事件\r\n\r\n            //check\r\n            if (!isEqual(vo.panelBaseMapsTemp, panelBaseMaps)) { //判斷純外部給資料是否有變更, baseMaps會因切換底圖而有變更, 故若外部設定數據有變更才重新複寫\r\n\r\n                //update\r\n                vo.panelBaseMaps = panelBaseMaps\r\n\r\n                //update panelBaseMapsTemp\r\n                vo.panelBaseMapsTemp = cloneDeep(panelBaseMaps)\r\n\r\n            }\r\n\r\n            //defPanelZoom\r\n            let defPanelZoom = {\r\n                show: true,\r\n                position: 'bottomleft',\r\n            }\r\n\r\n            //panelZoom\r\n            let panelZoom = get(vo, 'opt.panelZoom', null)\r\n            if (!isobj(panelZoom)) {\r\n                panelZoom = {}\r\n            }\r\n            vo.panelZoom = {\r\n                ...defPanelZoom,\r\n                ...panelZoom,\r\n            }\r\n\r\n            //panelLabels\r\n            let defPanelLabels = {\r\n                show: true,\r\n                title: '',\r\n                useItems: ['lng', 'lat', 'zoom'],\r\n                lng: 'Longitude',\r\n                lat: 'Latitude',\r\n                zoom: 'Zoom',\r\n                position: 'topright',\r\n            }\r\n            let panelLabels = get(vo, 'opt.panelLabels', null)\r\n            if (!isobj(panelLabels)) {\r\n                panelLabels = {}\r\n            }\r\n            panelLabels = cloneDeep(panelLabels) //一定要cloneDeep使陣列記憶體與外部拖勾, 要不然添加style就會影響外部opt記憶體變更\r\n            panelLabels.style = {}\r\n            if (isNumber(panelLabels.maxWidth)) {\r\n                panelLabels.style.maxWidth = `${panelLabels.maxWidth}px`\r\n            }\r\n            if (isNumber(panelLabels.maxHeight)) {\r\n                panelLabels.style.maxHeight = `${panelLabels.maxHeight}px`\r\n            }\r\n            vo.panelLabels = {\r\n                ...defPanelLabels,\r\n                ...panelLabels,\r\n            }\r\n\r\n            //panelItems\r\n            let defPanelItems = {\r\n                show: true,\r\n                position: 'topleft',\r\n            }\r\n            let panelItems = get(vo, 'opt.panelItems', null)\r\n            if (!isobj(panelItems)) {\r\n                panelItems = {}\r\n            }\r\n            panelItems = cloneDeep(panelItems) //一定要cloneDeep使陣列記憶體與外部拖勾, 要不然添加style就會影響外部opt記憶體變更\r\n            panelItems.style = {}\r\n            if (isNumber(panelItems.maxWidth)) {\r\n                panelItems.style.maxWidth = `${panelItems.maxWidth}px`\r\n            }\r\n            if (isNumber(panelItems.maxHeight)) {\r\n                panelItems.style.maxHeight = `${panelItems.maxHeight}px`\r\n            }\r\n            vo.panelItems = {\r\n                ...defPanelItems,\r\n                ...panelItems,\r\n            }\r\n\r\n            //panelLegends\r\n            let defPanelLegends = {\r\n                show: true,\r\n                position: 'bottomright',\r\n                maxWidth: 300,\r\n            }\r\n            let panelLegends = get(vo, 'opt.panelLegends', null)\r\n            if (!isobj(panelLegends)) {\r\n                panelLegends = {}\r\n            }\r\n            panelLegends = cloneDeep(panelLegends) //一定要cloneDeep使陣列記憶體與外部拖勾, 要不然添加style就會影響外部opt記憶體變更\r\n            panelLegends.style = {}\r\n            if (isNumber(panelLegends.maxWidth)) {\r\n                panelLegends.style.maxWidth = `${panelLegends.maxWidth}px`\r\n            }\r\n            if (isNumber(panelLegends.maxHeight)) {\r\n                panelLegends.style.maxHeight = `${panelLegends.maxHeight}px`\r\n            }\r\n            vo.panelLegends = {\r\n                ...defPanelLegends,\r\n                ...panelLegends,\r\n            }\r\n\r\n            //changeItemsDebounce\r\n            vo.changeItemsDebounce('changeOpt')\r\n\r\n        },\r\n\r\n        changePointSetsDebounce: function(v) {\r\n            // console.log('methods changePointSetsDebounce', v)\r\n\r\n            let vo = this\r\n\r\n            vo.dbcChangePointSets(() => {\r\n                vo.changePointSets()\r\n            })\r\n\r\n        },\r\n\r\n        changePointSets: function() {\r\n            // console.log('methods changePointSets')\r\n\r\n            let vo = this\r\n\r\n            //pointSets\r\n            let pointSets = get(vo, 'opt.pointSets', null)\r\n            if (!isarr(pointSets)) {\r\n                pointSets = []\r\n            }\r\n            pointSets = cloneDeep(pointSets) //cloneDeep, 後續map會直接修改設定物件記憶體故需脫勾, 但值為函數不會脫勾\r\n\r\n            // //check, 不能檢查size為0跳出, 否則外部會無法清空數據\r\n            // if (size(pointSets) === 0) {\r\n            //     return\r\n            // }\r\n\r\n            //effPointSets\r\n            let effPointSets = map(pointSets, (v) => {\r\n                return omit(v, 'visible')\r\n            })\r\n\r\n            //check\r\n            if (isEqual(vo.effPointSetsTemp, effPointSets)) {\r\n                return\r\n            }\r\n            vo.effPointSetsTemp = effPointSets\r\n            // console.log('call changePointSets')\r\n\r\n            //funPointSetsClick\r\n            let funPointSetsClick = get(vo, 'opt.defPointSetsClick', null)\r\n\r\n            //funPointSetsPopup\r\n            let funPointSetsPopup = get(vo, 'opt.defPointSetsPopup', null)\r\n\r\n            //funPointSetsTooltip\r\n            let funPointSetsTooltip = get(vo, 'opt.defPointSetsTooltip', null)\r\n\r\n            //pointSets\r\n            vo.pointSets = map(pointSets, (pointSet, kpointSet) => {\r\n\r\n                //order\r\n                let order = get(pointSet, 'order', null)\r\n\r\n                //funSetClick\r\n                let funSetClick = get(pointSet, 'click', null)\r\n\r\n                //funSetPopup\r\n                let funSetPopup = get(pointSet, 'popup', null)\r\n\r\n                //funSetTooltip\r\n                let funSetTooltip = get(pointSet, 'tooltip', null)\r\n\r\n                //iconPointSet\r\n                let iconPointSet = vo.getIcon(pointSet).icon\r\n\r\n                //points\r\n                pointSet.points = map(pointSet.points, (point, kpoint) => {\r\n\r\n                    //point\r\n                    if (isearr(point)) {\r\n                        let p = {\r\n                            latLng: [get(point, 0), get(point, 1)],\r\n                        }\r\n                        point = p\r\n                    }\r\n\r\n                    //default\r\n                    let icon = iconPointSet\r\n\r\n                    //getIconParam\r\n                    let r = vo.getIconParam(point)\r\n\r\n                    //若各點有提供icon則優先使用\r\n                    if (r.eff) {\r\n                        icon = new Icon({\r\n                            iconUrl: r.iconSrc,\r\n                            iconSize: r.iconSize,\r\n                            iconAnchor: r.iconAnchor,\r\n                            popupAnchor: r.popupAnchor,\r\n                        })\r\n                    }\r\n\r\n                    //funClick\r\n                    let funClick = get(point, 'click', null)\r\n\r\n                    //funPopup\r\n                    let funPopup = get(point, 'popup', null) || funSetPopup || funPointSetsPopup //僅提供一種popup, 若點有popup則優先使用\r\n\r\n                    //funTooltip\r\n                    let funTooltip = get(point, 'tooltip', null) || funSetTooltip || funPointSetsTooltip //僅提供一種tooltip, 若點有tooltip則優先使用\r\n\r\n                    return {\r\n                        ...point,\r\n                        icon,\r\n                        funPointSetsClick,\r\n                        funSetClick,\r\n                        funClick,\r\n                        funPopup,\r\n                        funTooltip,\r\n                    }\r\n                })\r\n\r\n                //title\r\n                if (!isestr(get(pointSet, 'title', null))) {\r\n                    pointSet.title = ''\r\n                }\r\n\r\n                //msg\r\n                if (!isestr(get(pointSet, 'msg', null))) {\r\n                    pointSet.msg = ''\r\n                }\r\n\r\n                //order\r\n                if (!isNumber(get(pointSet, 'order', null))) {\r\n                    pointSet.order = null\r\n                }\r\n\r\n                //visible\r\n                if (!isbol(get(pointSet, 'visible', null))) {\r\n                    pointSet.visible = false\r\n                }\r\n\r\n                return {\r\n                    ...pointSet,\r\n                    order,\r\n                }\r\n            })\r\n\r\n            //changeItemsDebounce\r\n            vo.changeItemsDebounce('changePointSets')\r\n\r\n        },\r\n\r\n        changePolygonSetsDebounce: function(v) {\r\n            // console.log('methods changePolygonSetsDebounce', v)\r\n\r\n            let vo = this\r\n\r\n            vo.dbcChangePolygonSets(() => {\r\n                vo.changePolygonSets()\r\n            })\r\n\r\n        },\r\n\r\n        changePolygonSets: function() {\r\n            // console.log('methods changePolygonSets')\r\n\r\n            let vo = this\r\n\r\n            //polygonSets\r\n            let polygonSets = get(vo, 'opt.polygonSets', null)\r\n            if (!isarr(polygonSets)) {\r\n                polygonSets = []\r\n            }\r\n            polygonSets = cloneDeep(polygonSets) //cloneDeep, 後續map會直接修改設定物件記憶體故需脫勾, 但值為函數不會脫勾\r\n\r\n            // //check, 不能檢查size為0跳出, 否則外部會無法清空數據\r\n            // if (size(polygonSets) === 0) {\r\n            //     return\r\n            // }\r\n\r\n            //effPolygonSets\r\n            let effPolygonSets = map(polygonSets, (v) => {\r\n                return omit(v, 'visible')\r\n            })\r\n\r\n            //check\r\n            if (isEqual(vo.effPolygonSetsTemp, effPolygonSets)) {\r\n                return\r\n            }\r\n            vo.effPolygonSetsTemp = effPolygonSets\r\n            // console.log('call changePolygonSets')\r\n\r\n            //funPolygonSetsClick\r\n            let funPolygonSetsClick = get(vo, 'opt.defPolygonSetsClick', null)\r\n\r\n            //funPolygonSetsPopup\r\n            let funPolygonSetsPopup = get(vo, 'opt.defPolygonSetsPopup', null)\r\n\r\n            //funPolygonSetsTooltip\r\n            let funPolygonSetsTooltip = get(vo, 'opt.defPolygonSetsTooltip', null)\r\n\r\n            vo.polygonSets = map(polygonSets, (polygonSet, kpolygonSet) => {\r\n\r\n                //order\r\n                let order = get(polygonSet, 'order', null)\r\n\r\n                //funSetClick\r\n                let funSetClick = get(polygonSet, 'click', null)\r\n\r\n                //funSetPopup, 預設以滑鼠點下位置出現\r\n                let funSetPopup = get(polygonSet, 'popup', null) || funPolygonSetsPopup //僅提供一種popup, 若多邊形有popup則優先使用\r\n\r\n                //funSetTooltip\r\n                let funSetTooltip = get(polygonSet, 'tooltip', null) || funPolygonSetsTooltip //僅提供一種tooltip, 若多邊形有tooltip則優先使用\r\n\r\n                //lineColor\r\n                let lineColor = get(polygonSet, 'lineColor', null)\r\n                if (!isestr(lineColor)) {\r\n                    lineColor = 'rgba(0,150,255,1)'\r\n                }\r\n\r\n                //lineWidth\r\n                let lineWidth = get(polygonSet, 'lineWidth', null)\r\n                if (!isNumber(lineWidth)) {\r\n                    lineWidth = 3\r\n                }\r\n\r\n                //fillColor\r\n                let fillColor = get(polygonSet, 'fillColor', null)\r\n                if (!isestr(fillColor)) {\r\n                    fillColor = 'rgba(0,150,255,0.25)'\r\n                }\r\n\r\n                //style\r\n                let style = {\r\n                    fillColor,\r\n                    fillOpacity: 1, //vue leaflet預設為0.2得還原\r\n                    color: lineColor,\r\n                    weight: lineWidth,\r\n                }\r\n\r\n                //lineColorHover\r\n                let lineColorHover = get(polygonSet, 'lineColorHover', null)\r\n                if (!isestr(lineColorHover)) {\r\n                    lineColorHover = lineColor\r\n                }\r\n\r\n                //lineWidthHover\r\n                let lineWidthHover = get(polygonSet, 'lineWidthHover', null)\r\n                if (!isNumber(lineWidthHover)) {\r\n                    lineWidthHover = lineWidth\r\n                }\r\n\r\n                //fillColorHover\r\n                let fillColorHover = get(polygonSet, 'fillColorHover', null)\r\n                if (!isestr(fillColorHover)) {\r\n                    fillColorHover = fillColor\r\n                }\r\n\r\n                //styleHover\r\n                let styleHover = {\r\n                    fillColor: fillColorHover,\r\n                    fillOpacity: 1, //vue leaflet預設為0.2得還原\r\n                    color: lineColorHover,\r\n                    weight: lineWidthHover,\r\n                }\r\n\r\n                //title\r\n                if (!isestr(get(polygonSet, 'title', null))) {\r\n                    polygonSet.title = ''\r\n                }\r\n\r\n                //msg\r\n                if (!isestr(get(polygonSet, 'msg', null))) {\r\n                    polygonSet.msg = ''\r\n                }\r\n\r\n                //order\r\n                if (!isNumber(get(polygonSet, 'order', null))) {\r\n                    polygonSet.order = null\r\n                }\r\n\r\n                //visible\r\n                if (!isbol(get(polygonSet, 'visible', null))) {\r\n                    polygonSet.visible = false\r\n                }\r\n\r\n                return {\r\n                    ...polygonSet,\r\n                    order,\r\n                    style, //需給予, 才能通過v-bind給予初始樣式\r\n                    mouseenter: (ev) => {\r\n                        // console.log('mouseenter', ev)\r\n                        let layer = ev.target\r\n                        layer.setStyle(styleHover)\r\n                    },\r\n                    mouseleave: (ev) => {\r\n                        // console.log('mouseleave', ev)\r\n                        let layer = ev.target\r\n                        layer.setStyle(style)\r\n                    },\r\n                    funPolygonSetsClick,\r\n                    funSetClick,\r\n                    funSetPopup,\r\n                    funSetTooltip,\r\n                }\r\n            })\r\n\r\n            //changeItemsDebounce\r\n            vo.changeItemsDebounce('changePolygonSets')\r\n\r\n        },\r\n\r\n        changeContourSetsDebounce: function(v) {\r\n            // console.log('methods changeContourSetsDebounce', v)\r\n\r\n            let vo = this\r\n\r\n            vo.dbcChangeContourSets(() => {\r\n                vo.changeContourSets()\r\n            })\r\n\r\n        },\r\n\r\n        changeContourSets: function() {\r\n            // console.log('methods changeContourSets')\r\n\r\n            let vo = this\r\n\r\n            //contourSets\r\n            let contourSets = get(vo, 'opt.contourSets', null)\r\n            if (!isarr(contourSets)) {\r\n                contourSets = []\r\n            }\r\n            contourSets = cloneDeep(contourSets) //cloneDeep, 後續map會直接修改設定物件記憶體故需脫勾, 但值為函數不會脫勾\r\n\r\n            // //check, 不能檢查size為0跳出, 否則外部會無法清空數據\r\n            // if (size(contourSets) === 0) {\r\n            //     return\r\n            // }\r\n\r\n            //effContourSets\r\n            let effContourSets = map(contourSets, (v) => {\r\n                return omit(v, 'visible')\r\n            })\r\n\r\n            //check\r\n            if (isEqual(vo.effContourSetsTemp, effContourSets)) {\r\n                return\r\n            }\r\n            vo.effContourSetsTemp = effContourSets\r\n            // console.log('call changeContourSets')\r\n\r\n            //funContourSetsClick\r\n            let funContourSetsClick = get(vo, 'opt.defContourSetsClick', null)\r\n\r\n            //funContourSetsPopup\r\n            let funContourSetsPopup = get(vo, 'opt.defContourSetsPopup', null)\r\n\r\n            //funContourSetsTooltip\r\n            let funContourSetsTooltip = get(vo, 'opt.defContourSetsTooltip', null)\r\n\r\n            vo.contourSets = map(contourSets, (contourSet, kcontourSet) => {\r\n                //contour會使用legend故不提供popup與tooltip\r\n\r\n                //order\r\n                let order = get(contourSet, 'order', null)\r\n\r\n                //funSetClick\r\n                let funSetClick = get(contourSet, 'click', null)\r\n\r\n                //funSetPopup, 預設以滑鼠點下位置出現\r\n                let funSetPopup = get(contourSet, 'popup', null) || funContourSetsPopup //僅提供一種popup, 若多邊形有popup則優先使用\r\n\r\n                //funSetTooltip\r\n                let funSetTooltip = get(contourSet, 'tooltip', null) || funContourSetsTooltip //僅提供一種tooltip, 若多邊形有tooltip則優先使用\r\n\r\n                //legendNumDig\r\n                let legendNumDig = get(contourSet, 'legendNumDig', null)\r\n                if (!isNumber(legendNumDig)) {\r\n                    legendNumDig = null\r\n                }\r\n\r\n                //legendTextFormater\r\n                let legendTextFormater = get(contourSet, 'legendTextFormater', null)\r\n                if (!isfun(legendTextFormater)) {\r\n                    legendTextFormater = null\r\n                }\r\n\r\n                //title\r\n                if (!isestr(get(contourSet, 'title', null))) {\r\n                    contourSet.title = ''\r\n                }\r\n\r\n                //msg\r\n                if (!isestr(get(contourSet, 'msg', null))) {\r\n                    contourSet.msg = ''\r\n                }\r\n\r\n                //order\r\n                if (!isNumber(get(contourSet, 'order', null))) {\r\n                    contourSet.order = null\r\n                }\r\n\r\n                //visible\r\n                if (!isbol(get(contourSet, 'visible', null))) {\r\n                    contourSet.visible = false\r\n                }\r\n\r\n                return {\r\n                    ...contourSet,\r\n                    order,\r\n                    legendNumDig,\r\n                    legendTextFormater,\r\n                    legend: [],\r\n                    funContourSetsClick,\r\n                    funSetClick,\r\n                    funSetPopup,\r\n                    funSetTooltip,\r\n                }\r\n            })\r\n\r\n            //changeItemsDebounce\r\n            vo.changeItemsDebounce('changeContourSets')\r\n\r\n        },\r\n\r\n        changeItems: function(from) {\r\n            // console.log('methods changeItems', 'from=' + from)\r\n\r\n            let vo = this\r\n\r\n            //items\r\n            let items = []\r\n\r\n            //add\r\n            function add(name, msg, order, visible, updatePath) {\r\n                items.push({\r\n                    name,\r\n                    msg,\r\n                    order,\r\n                    visible,\r\n                    updatePath,\r\n                })\r\n            }\r\n            each(vo.pointSets, (v, k) => {\r\n                add(v.title, v.msg, v.order, v.visible, `pointSets.${k}.visible`)\r\n            })\r\n            each(vo.polygonSets, (v, k) => {\r\n                add(v.title, v.msg, v.order, v.visible, `polygonSets.${k}.visible`)\r\n            })\r\n            each(vo.contourSets, (v, k) => {\r\n                add(v.title, v.msg, v.order, v.visible, `contourSets.${k}.visible`)\r\n            })\r\n\r\n            //sortBy\r\n            let itemsOrder = filter(items, (v) => {\r\n                return isNumber(v.order)\r\n            })\r\n            let itemsOther = filter(items, (v) => {\r\n                return !isNumber(v.order)\r\n            })\r\n            itemsOrder = sortBy(itemsOrder, 'order')\r\n            items = [...itemsOrder, ...itemsOther]\r\n\r\n            //cloneDeep\r\n            items = cloneDeep(items)\r\n\r\n            //save\r\n            vo.items = items\r\n\r\n        },\r\n\r\n        changeItemsDebounce: function(from) {\r\n            // console.log('methods changeItemsDebounce', from)\r\n\r\n            let vo = this\r\n\r\n            //dbcChangeItems\r\n            vo.dbcChangeItems(() => {\r\n\r\n                //changeItems\r\n                vo.changeItems(from)\r\n\r\n            })\r\n\r\n        },\r\n\r\n        updateItems: function() {\r\n            // console.log('methods updateItems')\r\n\r\n            let vo = this\r\n\r\n            //update visible\r\n            each(vo.items, (v) => {\r\n\r\n                //set, 將items的變更用set配path, 對原本各數據集的visible做同步\r\n                set(vo, v.updatePath, v.visible)\r\n\r\n                //對外部opt各數據集的visible做同步, 否則外部變更數據時會傳入原本的visible造成操作問題\r\n                set(vo.opt, v.updatePath, v.visible)\r\n\r\n            })\r\n\r\n        },\r\n\r\n        getMapObject: function() {\r\n            // console.log('methods getMapObject')\r\n\r\n            let vo = this\r\n\r\n            //mapObject\r\n            let mapObject = get(vo, '$refs.lmap.mapObject')\r\n\r\n            return mapObject\r\n        },\r\n\r\n        panTo: function(latLng, opt = {}) {\r\n            // console.log('methods panTo', latLng, opt)\r\n\r\n            let vo = this\r\n\r\n            //check\r\n            if (!isearr(latLng)) {\r\n                console.log('latLng is not an effective array', latLng)\r\n                throw new Error('latLng is not an effective array')\r\n            }\r\n\r\n            //mapObject\r\n            let mapObject = vo.getMapObject()\r\n\r\n            //check\r\n            if (!iseobj(mapObject)) {\r\n                return\r\n            }\r\n\r\n            //ratioHorizontal, 左側起算之水平縮小比率\r\n            let ratioHorizontal = get(opt, 'ratioHorizontal')\r\n            if (isnum(ratioHorizontal)) {\r\n                ratioHorizontal = cdbl(ratioHorizontal)\r\n            }\r\n\r\n            //ratioVertical, 上方起算之垂直縮小比率\r\n            let ratioVertical = get(opt, 'ratioVertical')\r\n            if (isnum(ratioVertical)) {\r\n                ratioVertical = cdbl(ratioVertical)\r\n            }\r\n\r\n            //funLatLng\r\n            let funLatLng = get(opt, 'funLatLng')\r\n\r\n            //getBounds\r\n            let bds = mapObject.getBounds()\r\n            // console.log('getBounds', bds)\r\n\r\n            //lngRange, latRange\r\n            let lngRange = get(bds, '_northEast.lng') - get(bds, '_southWest.lng')\r\n            let latRange = get(bds, '_northEast.lat') - get(bds, '_southWest.lat')\r\n            // console.log('lngRange', lngRange, 'latRange', latRange)\r\n\r\n            //反算以外部latLng為中心之角點座標\r\n            let lngMin = latLng[1] - lngRange / 2\r\n            let lngMax = latLng[1] + lngRange / 2\r\n            let latMin = latLng[0] - latRange / 2\r\n            let latMax = latLng[0] + latRange / 2\r\n            // console.log('lngMin', lngMin, 'lngMax', lngMax)\r\n\r\n            //lngMaxNew, lngNew\r\n            let lngMaxNew = null\r\n            let lngNew = null\r\n            if (isNumber(ratioHorizontal)) {\r\n                lngMaxNew = lngMax - lngRange * ratioHorizontal\r\n                lngNew = (lngMin + lngMaxNew) / 2\r\n            }\r\n            // console.log('lngMaxNew', lngMaxNew, 'lngNew', lngNew)\r\n\r\n            //latMinNew, latNew\r\n            let latMinNew = null\r\n            let latNew = null\r\n            if (isNumber(ratioVertical)) {\r\n                latMinNew = latMin + latRange * ratioVertical\r\n                latNew = (latMinNew + latMax) / 2\r\n            }\r\n            // console.log('latMinNew', latMinNew, 'latNew', latNew)\r\n\r\n            //update latLng\r\n            let latLngNew = cloneDeep(latLng)\r\n            if (isNumber(ratioVertical)) {\r\n                latLngNew[0] = latNew\r\n            }\r\n            if (isNumber(ratioHorizontal)) {\r\n                latLngNew[1] = lngNew\r\n            }\r\n            // console.log('latLngNew', latLngNew)\r\n\r\n            //funLatLng\r\n            if (isfun(funLatLng)) {\r\n                latLngNew = funLatLng(latLng, {\r\n                    bds,\r\n                    lngRange,\r\n                    latRange,\r\n                    lngMin,\r\n                    lngMax,\r\n                    latMin,\r\n                    latMax,\r\n                    ratioHorizontal,\r\n                    ratioVertical,\r\n                    latLngNew,\r\n                })\r\n            }\r\n\r\n            //panTo\r\n            mapObject.panTo(latLngNew)\r\n\r\n        },\r\n\r\n        centerTo: function(latLng) {\r\n            // console.log('methods centerTo', latLng)\r\n\r\n            let vo = this\r\n\r\n            //panTo\r\n            vo.panTo(latLng)\r\n\r\n        },\r\n\r\n        closePopup: function() {\r\n            // console.log('methods closePopup')\r\n\r\n            let vo = this\r\n\r\n            //call closePopup\r\n            vo.$refs.refPopup.mapObject.closePopup()\r\n\r\n        },\r\n\r\n        closeTooltip: function() {\r\n            // console.log('methods closeTooltip')\r\n\r\n            let vo = this\r\n\r\n            //call closeTooltip\r\n            vo.$refs.refTooltip.mapObject.closeTooltip()\r\n\r\n        },\r\n\r\n        parsePointData: function(ev, point, kpoint, pointSet, kpointSet, pointSets) {\r\n\r\n            //latLng\r\n            let latLng = get(point, 'latLng', null)\r\n\r\n            //msg\r\n            let msg = {\r\n                ev,\r\n                lat: get(latLng, 0, null),\r\n                lng: get(latLng, 1, null),\r\n                point,\r\n                kpoint,\r\n                pointSet,\r\n                kpointSet,\r\n                pointSets,\r\n            }\r\n\r\n            return { latLng, msg }\r\n        },\r\n\r\n        clickPoint: function(ev, point, kpoint, pointSet, kpointSet, pointSets) {\r\n            // console.log('methods clickPoint', ev, point, kpoint, pointSet, kpointSet, pointSets)\r\n\r\n            let vo = this\r\n\r\n            //popupPoint\r\n            vo.popupPoint({ ev, point, kpoint, pointSet, kpointSet, pointSets })\r\n\r\n        },\r\n\r\n        popupPoint: function(params) {\r\n            // console.log('methods popupPoint', params)\r\n\r\n            let vo = this\r\n            let ele = null\r\n\r\n            //spread\r\n            let { ev, point, kpoint, pointSet, kpointSet, pointSets, popup } = params\r\n\r\n            //check ev\r\n            if (!iseobj(ev)) {\r\n                ev = {}\r\n            }\r\n\r\n            //check point\r\n            if (!iseobj(point)) {\r\n                throw new Error('invalid point')\r\n            }\r\n\r\n            //check kpoint\r\n            if (!ispint(kpoint)) {\r\n                kpoint = 0\r\n            }\r\n\r\n            //check pointSet\r\n            if (!iseobj(pointSet)) {\r\n                pointSet = {}\r\n            }\r\n\r\n            //check kpointSet\r\n            if (!ispint(kpointSet)) {\r\n                kpointSet = 0\r\n            }\r\n\r\n            //check pointSets\r\n            if (!isearr(pointSets)) {\r\n                pointSets = []\r\n            }\r\n\r\n            //obj\r\n            let obj = point\r\n\r\n            //parsePointData\r\n            let { latLng, msg } = vo.parsePointData(ev, point, kpoint, pointSet, kpointSet, pointSets)\r\n\r\n            //funClick\r\n            if (isfun(obj.funClick)) {\r\n                obj.funClick(msg)\r\n            }\r\n\r\n            //funSetClick\r\n            if (isfun(obj.funSetClick)) {\r\n                obj.funSetClick(msg)\r\n            }\r\n\r\n            //funPointSetsClick\r\n            if (isfun(obj.funPointSetsClick)) {\r\n                obj.funPointSetsClick(msg)\r\n            }\r\n\r\n            //funPopup popup\r\n            let funPopup = null\r\n            if (isfun(obj.funPopup)) { //obj.funPopup為套件內彙整popup事件\r\n                funPopup = obj.funPopup\r\n            }\r\n            else if (isfun(obj.popup)) { //obj.popup為外部傳入point時原先提供popup事件\r\n                funPopup = obj.popup\r\n            }\r\n            else if (isfun(popup)) { //popup為外部直接提供popup事件\r\n                funPopup = popup\r\n            }\r\n            // console.log('funPopup', funPopup)\r\n\r\n            //funPopup\r\n            if (isfun(funPopup)) {\r\n\r\n                //h\r\n                let h = funPopup(msg)\r\n\r\n                //offset\r\n                let offset = get(obj, 'popupAnchor', null)\r\n                if (!isearr(offset)) {\r\n                    offset = [0, -(40 / 1.5)] //若point沒有提供popupAnchor則代表使用原先icon與其popupAnchor\r\n                }\r\n                // console.log('offset', offset)\r\n\r\n                //opt\r\n                let opt = {\r\n                    offset,\r\n                    maxWidth: 'auto',\r\n                }\r\n\r\n                //call openPopup\r\n                vo.$refs.refPopup.mapObject.bindPopup(h, opt).openPopup(latLng)\r\n\r\n                //ele\r\n                ele = get(vo, '$refs.refPopup.mapObject._popup._contentNode')\r\n                // console.log('ele', ele)\r\n\r\n            }\r\n\r\n            return ele\r\n        },\r\n\r\n        tooltipPoint: function(ev, point, kpoint, pointSet, kpointSet, pointSets) {\r\n            // console.log('methods tooltipPoint', ev, point,kpoint,pointSet,kpointSet,pointSets)\r\n\r\n            let vo = this\r\n\r\n            //check, 因tooltip只有處理funTooltip, 故可先偵測先行跳出\r\n            if (!isfun(point.funTooltip)) {\r\n                return\r\n            }\r\n\r\n            //obj\r\n            let obj = point\r\n\r\n            //parsePointData\r\n            let { latLng, msg } = vo.parsePointData(ev, point, kpoint, pointSet, kpointSet, pointSets)\r\n\r\n            //h\r\n            let h = obj.funTooltip(msg)\r\n\r\n            //offset\r\n            let offset = get(obj, 'popupAnchor', null)\r\n            if (!isearr(offset)) {\r\n                offset = [0, -(40 / 1.5)] //若point沒有提供popupAnchor則代表使用原先icon與其popupAnchor\r\n            }\r\n            // console.log('offset', offset)\r\n\r\n            //opt\r\n            let opt = {\r\n                offset,\r\n            }\r\n\r\n            //call openTooltip\r\n            vo.$refs.refTooltip.mapObject.bindTooltip(h, opt).openTooltip(latLng)\r\n\r\n        },\r\n\r\n        parsePolygonData: function(ev, polygonSet, kpolygonSet, polygonSets) {\r\n\r\n            //latLng, msg\r\n            let ll = ev.latlng\r\n            let latLng = [ll.lat, ll.lng]\r\n\r\n            //msg\r\n            let msg = {\r\n                ev,\r\n                lat: get(latLng, 0, null),\r\n                lng: get(latLng, 1, null),\r\n                latLngs: polygonSet.latLngs,\r\n                polygonSet,\r\n                kpolygonSet,\r\n                polygonSets,\r\n            }\r\n\r\n            return { latLng, msg }\r\n        },\r\n\r\n        clickPolygon: function(ev, polygonSet, kpolygonSet, polygonSets) {\r\n            // console.log('methods clickPolygon', ev, polygonSet, kpolygonSet, polygonSets)\r\n\r\n            let vo = this\r\n\r\n            //obj\r\n            let obj = polygonSet\r\n\r\n            //parsePolygonData\r\n            let { latLng, msg } = vo.parsePolygonData(ev, polygonSet, kpolygonSet, polygonSets)\r\n\r\n            //funSetClick\r\n            if (isfun(obj.funSetClick)) {\r\n                obj.funSetClick(msg)\r\n            }\r\n\r\n            //funPolygonSetsClick\r\n            if (isfun(obj.funPolygonSetsClick)) {\r\n                obj.funPolygonSetsClick(msg)\r\n            }\r\n\r\n            //funSetPopup\r\n            if (isfun(obj.funSetPopup)) {\r\n\r\n                //h\r\n                let h = obj.funSetPopup(msg)\r\n\r\n                //call openPopup\r\n                vo.$refs.refPopup.mapObject.bindPopup(h).openPopup(latLng)\r\n\r\n            }\r\n\r\n        },\r\n\r\n        tooltipPolygon: function(ev, polygonSet, kpolygonSet, polygonSets) {\r\n            // console.log('methods tooltipPolygon', ev, polygonSet, kpolygonSet, polygonSets)\r\n\r\n            let vo = this\r\n\r\n            //check, 因tooltip只有處理funSetTooltip, 故可先偵測先行跳出\r\n            if (!isfun(polygonSet.funSetTooltip)) {\r\n                return\r\n            }\r\n\r\n            //obj\r\n            let obj = polygonSet\r\n\r\n            //parsePolygonData\r\n            let { msg } = vo.parsePolygonData(ev, polygonSet, kpolygonSet, polygonSets)\r\n\r\n            //getCentroidMultiPolygon\r\n            let centerlatLng = wg.getCentroidMultiPolygon(msg.latLngs)\r\n\r\n            //check\r\n            if (size(centerlatLng) !== 2) {\r\n                return\r\n            }\r\n\r\n            //h\r\n            let h = obj.funSetTooltip(msg)\r\n\r\n            //call openTooltip\r\n            vo.$refs.refTooltip.mapObject.bindTooltip(h).openTooltip(centerlatLng)\r\n\r\n        },\r\n\r\n        parseContourData: function(ev, polygonSet, kpolygonSet, contourSet, kcontourSet, contourSets) {\r\n\r\n            //latLng, msg\r\n            let ll = ev.latlng\r\n            let latLng = [ll.lat, ll.lng]\r\n\r\n            //msg\r\n            let msg = {\r\n                ev,\r\n                lat: get(latLng, 0, null),\r\n                lng: get(latLng, 1, null),\r\n                latLngs: polygonSet.latLngs,\r\n                polygonSet,\r\n                kpolygonSet,\r\n                contourSet,\r\n                kcontourSet,\r\n                contourSets,\r\n            }\r\n\r\n            return { latLng, msg }\r\n        },\r\n\r\n        clickContour: function({ ev, polygonSet, kpolygonSet }, contourSet, kcontourSet, contourSets) {\r\n            // console.log('methods clickContour', ev, polygonSet, kpolygonSet, contourSet, kcontourSet, contourSets)\r\n\r\n            let vo = this\r\n\r\n            //obj\r\n            let obj = contourSet\r\n\r\n            //parseContourData\r\n            let { latLng, msg } = vo.parseContourData(ev, polygonSet, kpolygonSet, contourSet, kcontourSet, contourSets)\r\n\r\n            //funSetClick\r\n            if (isfun(obj.funSetClick)) {\r\n                obj.funSetClick(msg)\r\n            }\r\n\r\n            //funContourSetsClick\r\n            if (isfun(obj.funContourSetsClick)) {\r\n                obj.funContourSetsClick(msg)\r\n            }\r\n\r\n            //funSetPopup\r\n            if (isfun(obj.funSetPopup)) {\r\n\r\n                //h\r\n                let h = obj.funSetPopup(msg)\r\n\r\n                //call openPopup\r\n                vo.$refs.refPopup.mapObject.bindPopup(h).openPopup(latLng)\r\n\r\n            }\r\n\r\n        },\r\n\r\n        tooltipContour: function({ ev, polygonSet, kpolygonSet }, contourSet, kcontourSet, contourSets) {\r\n            // console.log('methods tooltipContour', ev, polygonSet, kpolygonSet, contourSet, kcontourSet, contourSets)\r\n\r\n            let vo = this\r\n\r\n            //check, 因tooltip只有處理funSetTooltip, 故可先偵測先行跳出\r\n            if (!isfun(contourSet.funSetTooltip)) {\r\n                return\r\n            }\r\n\r\n            //obj\r\n            let obj = contourSet\r\n\r\n            //parseContourData\r\n            let { msg } = vo.parseContourData(ev, polygonSet, kpolygonSet, contourSet, kcontourSet, contourSets)\r\n\r\n            //center\r\n            let centerlatLng = polygonSet.center\r\n\r\n            //h\r\n            let h = obj.funSetTooltip(msg)\r\n\r\n            //call openTooltip\r\n            vo.$refs.refTooltip.mapObject.bindTooltip(h).openTooltip(centerlatLng)\r\n\r\n        },\r\n\r\n        updateLatLng: function(e) {\r\n            //console.log('methods updateLatLng', e)\r\n\r\n            let vo = this\r\n\r\n            //showLoc\r\n            vo.showLoc = {\r\n                lat: dig(e.latlng.lat, 7),\r\n                lng: dig(e.latlng.lng, 7),\r\n            }\r\n\r\n        },\r\n\r\n        contourRefresh: function(data, contourSet, kcontourSet) {\r\n            // console.log('methods contourRefresh', data, contourSet, kcontourSet)\r\n\r\n            // let vo = this\r\n\r\n            //legends\r\n            let legends = map(data.polygonSets, 'range')\r\n\r\n            function getText(k, range) {\r\n                let t = range.text\r\n                let low = range.low\r\n                let up = range.up\r\n                if (isNumber(contourSet.legendNumDig)) {\r\n                    low = dig(range.low, contourSet.legendNumDig)\r\n                    up = dig(range.up, contourSet.legendNumDig)\r\n                }\r\n                if (isfun(contourSet.legendTextFormater)) {\r\n                    t = contourSet.legendTextFormater({ low, up, legends, index: k })\r\n                }\r\n                else {\r\n                    t = `${low} - ${up}`\r\n                }\r\n                return t\r\n            }\r\n\r\n            //legend\r\n            let legend = map(data.polygonSets, (v, k) => {\r\n                return {\r\n                    color: v.color,\r\n                    rangeText: getText(k, v.range),\r\n                    arrow: false,\r\n                    index: k,\r\n                }\r\n            })\r\n\r\n            //reverse\r\n            legend = reverse(legend)\r\n\r\n            //save\r\n            contourSet.legend = legend\r\n\r\n        },\r\n\r\n        contourMouseenter: function(data, contourSet, kcontourSet) {\r\n            // console.log('methods contourMouseenter', data, contourSet, kcontourSet)\r\n\r\n            // let vo = this\r\n\r\n            //update arrow\r\n            each(contourSet.legend, (v, k) => {\r\n                contourSet.legend[k].arrow = data.kpolygonSet === contourSet.legend[k].index\r\n            })\r\n\r\n        },\r\n\r\n        contourMouseleave: function(data, contourSet, kcontourSet) {\r\n            // console.log('methods contourMouseleave', data, contourSet, kcontourSet)\r\n\r\n            // let vo = this\r\n\r\n            //hide arrow\r\n            each(contourSet.legend, (v, k) => {\r\n                contourSet.legend[k].arrow = false\r\n            })\r\n\r\n        },\r\n\r\n    },\r\n}\r\n<\/script>\r\n\r\n<style scoped>\r\n.clsPanel {\r\n    padding:6px 10px;\r\n    box-shadow:0 0 15px rgba(0,0,0,0.2);\r\n    border-radius:5px;\r\n    font-size: 0.8rem;\r\n    font-family:'Microsoft JhengHei','Avenir','Helvetica';\r\n}\r\n::v-deep .leaflet-popup-content {\r\n    margin:0px;\r\n}\r\n::v-deep .leaflet-popup-content-wrapper {\r\n    border-radius:5px;\r\n}\r\n</style>\r\n"]},media:void 0})}),aL,"data-v-4d21eab2",false,undefined,!1,QS,void 0,void 0);var uL=o((function(t,e){t.exports=function(){function t(e){return(t="function"==typeof Symbol&&"symbol"==n(Symbol.iterator)?function(t){return n(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":n(t)})(e)}return function(t,n){void 0===n&&(n={});var e=n.insertAt;if(t&&"undefined"!=typeof document){var i=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css","top"===e&&i.firstChild?i.insertBefore(o,i.firstChild):i.appendChild(o),o.styleSheet?o.styleSheet.cssText=t:o.appendChild(document.createTextNode(t))}}(".CompCssDJsonViewTree .w-caret-right {\r\n    transform: rotate(-90deg);\r\n    width: 0.9rem;\r\n    height: 0.9rem;\r\n    display: inline-block;\r\n    vertical-align: middle;\r\n    background-size: contain;\r\n    background-position: center center;\r\n    background-repeat: no-repeat;\r\n    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAACJSURBVEhL7ZC9CYBADEbP2iEEp7JxAPdwBZex02EcQ/0iBCzC/ZlTkDx4RYrLC+cMwzB+QQ1bRRtYwSAbPJQdoRe6bIbS41x32MEg9NULlJakStEBRqMRT44yFF+htDRkdpTJiT+OMilxtSgTE1ePMr54sSgjxYtHmXv8tShD8Qn212QYxnc4dwKskJKEHrOFUQAAAABJRU5ErkJggg==')\r\n}\r\n\r\n.CompCssDJsonViewTree .w-caret-down {\r\n    display: inline-block;\r\n    width: 0.9rem;\r\n    height: 0.9rem;\r\n    display: inline-block;\r\n    vertical-align: middle;\r\n    background-size: contain;\r\n    background-position: center center;\r\n    background-repeat: no-repeat;\r\n    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAACJSURBVEhL7ZC9CYBADEbP2iEEp7JxAPdwBZex02EcQ/0iBCzC/ZlTkDx4RYrLC+cMwzB+QQ1bRRtYwSAbPJQdoRe6bIbS41x32MEg9NULlJakStEBRqMRT44yFF+htDRkdpTJiT+OMilxtSgTE1ePMr54sSgjxYtHmXv8tShD8Qn212QYxnc4dwKskJKEHrOFUQAAAABJRU5ErkJggg==')\r\n}\r\n\r\n.CompCssDJsonViewTree .wjv-line {\r\n    margin: 4px 0;\r\n    display: flex;\r\n    justify-content: flex-start;\r\n}\r\n\r\n.CompCssDJsonViewTree .wjv-caret-icon {\r\n    width: 18px;\r\n    text-align: center;\r\n    cursor: pointer;\r\n}\r\n\r\n.CompCssDJsonViewTree .wjv-empty-icon {\r\n    /* width: 18px; */\r\n    padding: 0px 9px;\r\n}\r\n\r\n.CompCssDJsonViewTree .wjv-json-type {\r\n    margin-right: 4px;\r\n    margin-left: 4px;\r\n}\r\n\r\n.CompCssDJsonViewTree .wjv-json-key {\r\n    color: #616161;\r\n    margin-right: 4px;\r\n    margin-left: 4px;\r\n}\r\n\r\n.CompCssDJsonViewTree .wjv-json-index {\r\n    margin-right: 4px;\r\n    margin-left: 4px;\r\n}\r\n\r\n.CompCssDJsonViewTree .wjv-json-separator {\r\n    color: #bdbdbd;\r\n}\r\n\r\n.CompCssDJsonViewTree .wjv-json-value {\r\n    margin-left: 8px;\r\n}\r\n\r\n.CompCssDJsonViewTree .wjv-json-number {\r\n    color: #536dfe;\r\n}\r\n\r\n.CompCssDJsonViewTree .wjv-json-boolean {\r\n    color: #9ccc65;\r\n}\r\n\r\n.CompCssDJsonViewTree .wjv-json-string {\r\n    color: #ffab40;\r\n}\r\n\r\n.CompCssDJsonViewTree .wjv-json-function {\r\n    color: #e040fb;\r\n}\r\n\r\n.CompCssDJsonViewTree .wjv-json-size {\r\n    margin-right: 4px;\r\n    margin-left: 4px;\r\n}\r\n\r\n.CompCssDJsonViewTree .wjv-json-hide {\r\n    display: none;\r\n}"),function(n,e){var i=!1;function o(t,n,e){e&&(i=!0===e.expanded),n.innerHTML="",n.classList.add("CompCssDJsonViewTree"),h(u(t),n)}function l(t,n){var e=document.createElement(t);return void 0===n||(n.className&&(e.className=n.className),n.content&&(e.textContent=n.content),n.children&&n.children.forEach((function(t){null!==t&&e.appendChild(t)}))),e}function s(t){var n=l("i");t.expanded?n.className="wicon w-caret-down":n.className="wicon w-caret-right";var e=l("div",{className:"wjv-caret-icon",children:[n]}),i=t.toggle.bind(t);e.addEventListener("click",i);var o=l("div",{className:"wjv-json-index",content:t.key}),s=l("div",{className:"wjv-json-type",content:t.type}),r=l("div",{className:"wjv-json-key",content:t.key}),a=l("div",{className:"wjv-json-size"});"array"===t.type?a.innerText="["+t.children.length+"]":"object"===t.type&&(a.innerText="{"+t.children.length+"}");var d=l("div",{className:"wjv-line",children:null===t.key?[e,s,a]:"array"===t.parent.type?[e,o,a]:[e,r,a]});return t.depth>0&&d.setAttribute("style","margin-left: "+24*t.depth+"px;"),d}function r(n){var e=l("div",{className:"wjv-empty-icon"}),i=l("div",{className:"wjv-json-key",content:n.key}),o=l("div",{className:"wjv-json-separator",content:":"}),s=l("div",{className:"wjv-json-value wjv-json-"+t(n.value),content:String(n.value)}),r=l("div",{className:"wjv-line",children:[e,i,o,s]});return n.depth>0&&r.setAttribute("style","margin-left: "+24*n.depth+"px;"),r}function a(){return{key:null,parent:null,value:null,expanded:i,type:null,children:null,elem:null,depth:0,setCaretIconRight:function(){this.elem.querySelector(".wicon").classList.replace("w-caret-down","w-caret-right")},setCaretIconDown:function(){this.elem.querySelector(".wicon").classList.replace("w-caret-right","w-caret-down")},hideChildren:function(){null!==this.children&&this.children.forEach((function(t){t.elem.classList.add("wjv-json-hide"),t.expanded&&t.hideChildren()}))},showChildren:function(){null!==this.children&&this.children.forEach((function(t){t.elem.classList.remove("wjv-json-hide"),t.expanded&&t.showChildren()}))},toggle:function(){this.expanded?(this.expanded=!1,this.hideChildren(),this.setCaretIconRight()):(this.expanded=!0,this.showChildren(),this.setCaretIconDown())}}}function d(n){var e=t(n);return Array.isArray(n)?e="array":null===n&&(e="null"),e}function c(n,e){for(var o in n){var l=a();l.parent=e,l.key=o,l.type=d(n[o]),l.depth=e.depth+1,l.expanded=i,"object"===t(n[o])?(l.children=[],e.children.push(l),c(n[o],l),l.elem=s(l)):(l.value=n[o],l.elem=r(l),e.children.push(l))}}function u(t){var n=a();return n.type=d(t),n.children=[],n.expanded=i,c(t,n),n.elem=s(n),n}function p(t,n){n(t),null!==t.children&&t.children.forEach((function(t){p(t,n)}))}function h(t,n){p(t,(function(t){t.expanded||t.hideChildren(),n.appendChild(t.elem)}))}o(n,e,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}}()}));const pL={components:{WLeafletVue:cL},data:function(){return{w:"800px",h:"500px",opt:{},action:[]}},mounted:function(){this.showOptJson()},watch:{opt:{handler:function(){this.showOptJson()},deep:!0}},methods:{showOptJson:function(){uL(this.opt,document.querySelector("#optjson"),{expanded:!0})}}};var hL=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[t._m(0),t._v(" "),e("div",{staticStyle:{display:"flex","padding-bottom":"20px"}},[e("div",{staticStyle:{padding:"0px 20px"}},[e("div",[e("button",{staticStyle:{margin:"0px 3px 3px 0px"},on:{click:function(n){t.w="800px",t.h="500px;"}}},[t._v("800x500")]),t._v(" "),e("button",{staticStyle:{margin:"0px 3px 3px 0px"},on:{click:function(n){t.w="600px",t.h="400px;"}}},[t._v("600x400")])]),t._v(" "),e("WLeafletVue",{style:"width:"+t.w+"; height:"+t.h+";",attrs:{opt:t.opt}})],1),t._v(" "),t._m(1)])])};hL._withStripped=!0;const mL=US({render:hL,staticRenderFns:[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticStyle:{padding:"20px"}},[e("div",{staticStyle:{"font-size":"1.5rem"}},[t._v("size")]),t._v(" "),e("a",{staticClass:"item-link",attrs:{href:"//yuda-lyu.github.io/w-leaflet-vue/examples/ex-AppBSCSize.html",target:"_blank"}},[t._v("example")]),t._v(" "),e("a",{staticClass:"item-link",attrs:{href:"//github.com/yuda-lyu/w-leaflet-vue/blob/master/docs/examples/ex-AppBSCSize.html",target:"_blank"}},[t._v("code")])])},function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticStyle:{width:"600px",padding:"0px 20px 0px 0px",position:"relative"}},[e("div",{staticClass:"option-label"},[t._v("\n                opt example\n            ")]),t._v(" "),e("div",{staticStyle:{border:"1px solid #ddd"}},[e("div",{staticStyle:{"padding-left":"5px","overflow-y":"auto",height:"500px"}},[e("div",{staticStyle:{"font-size":"10pt"},attrs:{id:"optjson"}})])])])}]},(function(t){t&&t("data-v-14d2448e_0",{source:"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",map:{version:3,sources:[],names:[],mappings:"",file:"AppBSCSize.vue"},media:void 0})}),pL,undefined,false,undefined,!1,QS,void 0,void 0);const bL={components:{WLeafletVue:cL},data:function(){return{opt:{center:[25.05,121.5]},action:[]}},mounted:function(){this.showOptJson()},watch:{opt:{handler:function(){this.showOptJson()},deep:!0}},methods:{showOptJson:function(){uL(this.opt,document.querySelector("#optjson"),{expanded:!0})}}};var yL=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[t._m(0),t._v(" "),e("div",{staticStyle:{display:"flex","padding-bottom":"20px"}},[e("div",{staticStyle:{padding:"0px 20px"}},[e("div",[e("button",{staticStyle:{margin:"0px 3px 3px 0px"},on:{click:function(n){t.opt.center=[25.05,121.5]}}},[t._v("move center to [25.05, 121.5]")]),t._v(" "),e("button",{staticStyle:{margin:"0px 3px 3px 0px"},on:{click:function(n){t.opt.center=[36,138]}}},[t._v("move center to [36, 138]")])]),t._v(" "),e("WLeafletVue",{staticStyle:{width:"800px",height:"500px"},attrs:{opt:t.opt}})],1),t._v(" "),t._m(1)])])};yL._withStripped=!0;const ZL=US({render:yL,staticRenderFns:[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticStyle:{padding:"20px"}},[e("div",{staticStyle:{"font-size":"1.5rem"}},[t._v("center")]),t._v(" "),e("a",{staticClass:"item-link",attrs:{href:"//yuda-lyu.github.io/w-leaflet-vue/examples/ex-AppBSCCenter.html",target:"_blank"}},[t._v("example")]),t._v(" "),e("a",{staticClass:"item-link",attrs:{href:"//github.com/yuda-lyu/w-leaflet-vue/blob/master/docs/examples/ex-AppBSCCenter.html",target:"_blank"}},[t._v("code")])])},function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticStyle:{width:"600px",padding:"0px 20px 0px 0px",position:"relative"}},[e("div",{staticClass:"option-label"},[t._v("\n                opt example\n            ")]),t._v(" "),e("div",{staticStyle:{border:"1px solid #ddd"}},[e("div",{staticStyle:{"padding-left":"5px","overflow-y":"auto",height:"500px"}},[e("div",{staticStyle:{"font-size":"10pt"},attrs:{id:"optjson"}})])])])}]},(function(t){t&&t("data-v-f66706ea_0",{source:"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",map:{version:3,sources:[],names:[],mappings:"",file:"AppBSCCenter.vue"},media:void 0})}),bL,undefined,false,undefined,!1,QS,void 0,void 0);const XL={components:{WLeafletVue:cL},data:function(){return{opt:{center:[25.05,121.5],zoom:9},action:[]}},mounted:function(){this.showOptJson()},watch:{opt:{handler:function(){this.showOptJson()},deep:!0}},methods:{showOptJson:function(){uL(this.opt,document.querySelector("#optjson"),{expanded:!0})}}};var fL=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[t._m(0),t._v(" "),e("div",{staticStyle:{display:"flex","padding-bottom":"20px"}},[e("div",{staticStyle:{padding:"0px 20px"}},[e("div",[e("button",{staticStyle:{margin:"0px 3px 3px 0px"},on:{click:function(n){t.opt.zoom=9}}},[t._v("zoom to 9")]),t._v(" "),e("button",{staticStyle:{margin:"0px 3px 3px 0px"},on:{click:function(n){t.opt.zoom=10}}},[t._v("zoom to 10")])]),t._v(" "),e("WLeafletVue",{staticStyle:{width:"800px",height:"500px"},attrs:{opt:t.opt}})],1),t._v(" "),t._m(1)])])};fL._withStripped=!0;const GL=US({render:fL,staticRenderFns:[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticStyle:{padding:"20px"}},[e("div",{staticStyle:{"font-size":"1.5rem"}},[t._v("zoom")]),t._v(" "),e("a",{staticClass:"item-link",attrs:{href:"//yuda-lyu.github.io/w-leaflet-vue/examples/ex-AppBSCZoom.html",target:"_blank"}},[t._v("example")]),t._v(" "),e("a",{staticClass:"item-link",attrs:{href:"//github.com/yuda-lyu/w-leaflet-vue/blob/master/docs/examples/ex-AppBSCZoom.html",target:"_blank"}},[t._v("code")])])},function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticStyle:{width:"600px",padding:"0px 20px 0px 0px",position:"relative"}},[e("div",{staticClass:"option-label"},[t._v("\n                opt example\n            ")]),t._v(" "),e("div",{staticStyle:{border:"1px solid #ddd"}},[e("div",{staticStyle:{"padding-left":"5px","overflow-y":"auto",height:"500px"}},[e("div",{staticStyle:{"font-size":"10pt"},attrs:{id:"optjson"}})])])])}]},(function(t){t&&t("data-v-1f8c0850_0",{source:"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",map:{version:3,sources:[],names:[],mappings:"",file:"AppBSCZoom.vue"},media:void 0})}),XL,undefined,false,undefined,!1,QS,void 0,void 0);const WL={components:{WLeafletVue:cL},data:function(){return{opt:{panelBackgroundColor:"rgba(255,255,255,0.7)"},action:[]}},mounted:function(){this.showOptJson()},watch:{opt:{handler:function(){this.showOptJson()},deep:!0}},methods:{showOptJson:function(){uL(this.opt,document.querySelector("#optjson"),{expanded:!0})}}};var gL=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[t._m(0),t._v(" "),e("div",{staticStyle:{display:"flex","padding-bottom":"20px"}},[e("div",{staticStyle:{padding:"0px 20px"}},[e("WLeafletVue",{staticStyle:{width:"800px",height:"500px"},attrs:{opt:t.opt}})],1),t._v(" "),t._m(1)])])};gL._withStripped=!0;const vL=US({render:gL,staticRenderFns:[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticStyle:{padding:"20px"}},[e("div",{staticStyle:{"font-size":"1.5rem"}},[t._v("panelBackgroundColor")]),t._v(" "),e("a",{staticClass:"item-link",attrs:{href:"//yuda-lyu.github.io/w-leaflet-vue/examples/ex-AppBSCPanelBackgroundColor.html",target:"_blank"}},[t._v("example")]),t._v(" "),e("a",{staticClass:"item-link",attrs:{href:"//github.com/yuda-lyu/w-leaflet-vue/blob/master/docs/examples/ex-AppBSCPanelBackgroundColor.html",target:"_blank"}},[t._v("code")])])},function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticStyle:{width:"600px",padding:"0px 20px 0px 0px",position:"relative"}},[e("div",{staticClass:"option-label"},[t._v("\n                opt example\n            ")]),t._v(" "),e("div",{staticStyle:{border:"1px solid #ddd"}},[e("div",{staticStyle:{"padding-left":"5px","overflow-y":"auto",height:"500px"}},[e("div",{staticStyle:{"font-size":"10pt"},attrs:{id:"optjson"}})])])])}]},(function(t){t&&t("data-v-5ace0d8b_0",{source:"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",map:{version:3,sources:[],names:[],mappings:"",file:"AppBSCPanelBackgroundColor.vue"},media:void 0})}),WL,undefined,false,undefined,!1,QS,void 0,void 0);const VL={components:{WLeafletVue:cL},data:function(){return{opt:{panelBaseMaps:{show:!0}},action:[]}},mounted:function(){this.showOptJson()},watch:{opt:{handler:function(){this.showOptJson()},deep:!0}},methods:{showOptJson:function(){uL(this.opt,document.querySelector("#optjson"),{expanded:!0})}}};var xL=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[t._m(0),t._v(" "),e("div",{staticStyle:{display:"flex","padding-bottom":"20px"}},[e("div",{staticStyle:{padding:"0px 20px"}},[e("div",[e("button",{staticStyle:{margin:"0px 3px 3px 0px"},on:{click:function(n){t.opt.panelBaseMaps.show=!0}}},[t._v("show(default)")]),t._v(" "),e("button",{staticStyle:{margin:"0px 3px 3px 0px"},on:{click:function(n){t.opt.panelBaseMaps.show=!1}}},[t._v("hide")])]),t._v(" "),e("WLeafletVue",{staticStyle:{width:"800px",height:"500px"},attrs:{opt:t.opt}})],1),t._v(" "),t._m(1)])])};xL._withStripped=!0;const SL=US({render:xL,staticRenderFns:[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticStyle:{padding:"20px"}},[e("div",{staticStyle:{"font-size":"1.5rem"}},[t._v("panelBaseMaps.show")]),t._v(" "),e("a",{staticClass:"item-link",attrs:{href:"//yuda-lyu.github.io/w-leaflet-vue/examples/ex-AppPBMShow.html",target:"_blank"}},[t._v("example")]),t._v(" "),e("a",{staticClass:"item-link",attrs:{href:"//github.com/yuda-lyu/w-leaflet-vue/blob/master/docs/examples/ex-AppPBMShow.html",target:"_blank"}},[t._v("code")])])},function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticStyle:{width:"600px",padding:"0px 20px 0px 0px",position:"relative"}},[e("div",{staticClass:"option-label"},[t._v("\n                opt example\n            ")]),t._v(" "),e("div",{staticStyle:{border:"1px solid #ddd"}},[e("div",{staticStyle:{"padding-left":"5px","overflow-y":"auto",height:"500px"}},[e("div",{staticStyle:{"font-size":"10pt"},attrs:{id:"optjson"}})])])])}]},(function(t){t&&t("data-v-7732010f_0",{source:"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",map:{version:3,sources:[],names:[],mappings:"",file:"AppPBMShow.vue"},media:void 0})}),VL,undefined,false,undefined,!1,QS,void 0,void 0);const LL={components:{WLeafletVue:cL},data:function(){return{opt:{panelBaseMaps:{baseMaps:[{name:"Mapbox",url:"//api.mapbox.com/v4/mapbox.satellite/{z}/{x}/{y}.png?access_token=pk.eyJ1Ijoic2VtaXNwaGVyZSIsImEiOiJja2s1anBrZzMwN3NkMndsOGt6MHo5ajI5In0._vUKnQ57n7UcWsWgOPIEgQ",visible:!0},{name:"OpenStreetMap",url:"//{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",visible:!1},{name:"OpenTopoMap",url:"//{s}.tile.opentopomap.org/{z}/{x}/{y}.png",visible:!1}]}},action:[]}},mounted:function(){this.showOptJson()},watch:{opt:{handler:function(){this.showOptJson()},deep:!0}},methods:{showOptJson:function(){uL(this.opt,document.querySelector("#optjson"),{expanded:!0})}}};var RL=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[t._m(0),t._v(" "),e("div",{staticStyle:{display:"flex","padding-bottom":"20px"}},[e("div",{staticStyle:{padding:"0px 20px"}},[e("WLeafletVue",{staticStyle:{width:"800px",height:"500px"},attrs:{opt:t.opt}})],1),t._v(" "),t._m(1)])])};RL._withStripped=!0;const KL=US({render:RL,staticRenderFns:[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticStyle:{padding:"20px"}},[e("div",{staticStyle:{"font-size":"1.5rem"}},[t._v("panelBaseMaps.baseMaps")]),t._v(" "),e("a",{staticClass:"item-link",attrs:{href:"//yuda-lyu.github.io/w-leaflet-vue/examples/ex-AppPBMBaseMaps.html",target:"_blank"}},[t._v("example")]),t._v(" "),e("a",{staticClass:"item-link",attrs:{href:"//github.com/yuda-lyu/w-leaflet-vue/blob/master/docs/examples/ex-AppPBMBaseMaps.html",target:"_blank"}},[t._v("code")])])},function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticStyle:{width:"600px",padding:"0px 20px 0px 0px",position:"relative"}},[e("div",{staticClass:"option-label"},[t._v("\n                opt example\n            ")]),t._v(" "),e("div",{staticStyle:{border:"1px solid #ddd"}},[e("div",{staticStyle:{"padding-left":"5px","overflow-y":"auto",height:"500px"}},[e("div",{staticStyle:{"font-size":"10pt"},attrs:{id:"optjson"}})])])])}]},(function(t){t&&t("data-v-26d30230_0",{source:"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",map:{version:3,sources:[],names:[],mappings:"",file:"AppPBMBaseMaps.vue"},media:void 0})}),LL,undefined,false,undefined,!1,QS,void 0,void 0);const HL={components:{WLeafletVue:cL},data:function(){return{opt:{panelBaseMaps:{position:"topleft"}},action:[]}},mounted:function(){this.showOptJson()},watch:{opt:{handler:function(){this.showOptJson()},deep:!0}},methods:{showOptJson:function(){uL(this.opt,document.querySelector("#optjson"),{expanded:!0})}}};var CL=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[t._m(0),t._v(" "),e("div",{staticStyle:{display:"flex","padding-bottom":"20px"}},[e("div",{staticStyle:{padding:"0px 20px"}},[e("div",[e("button",{staticStyle:{margin:"0px 3px 3px 0px"},on:{click:function(n){t.opt.panelBaseMaps.position="topleft"}}},[t._v("topleft(default)")]),t._v(" "),e("button",{staticStyle:{margin:"0px 3px 3px 0px"},on:{click:function(n){t.opt.panelBaseMaps.position="topright"}}},[t._v("topright")]),t._v(" "),e("button",{staticStyle:{margin:"0px 3px 3px 0px"},on:{click:function(n){t.opt.panelBaseMaps.position="bottomleft"}}},[t._v("bottomleft")]),t._v(" "),e("button",{staticStyle:{margin:"0px 3px 3px 0px"},on:{click:function(n){t.opt.panelBaseMaps.position="bottomright"}}},[t._v("bottomright")])]),t._v(" "),e("WLeafletVue",{staticStyle:{width:"800px",height:"500px"},attrs:{opt:t.opt}})],1),t._v(" "),t._m(1)])])};CL._withStripped=!0;const YL=US({render:CL,staticRenderFns:[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticStyle:{padding:"20px"}},[e("div",{staticStyle:{"font-size":"1.5rem"}},[t._v("panelBaseMaps.position")]),t._v(" "),e("a",{staticClass:"item-link",attrs:{href:"//yuda-lyu.github.io/w-leaflet-vue/examples/ex-AppPBMPosition.html",target:"_blank"}},[t._v("example")]),t._v(" "),e("a",{staticClass:"item-link",attrs:{href:"//github.com/yuda-lyu/w-leaflet-vue/blob/master/docs/examples/ex-AppPBMPosition.html",target:"_blank"}},[t._v("code")])])},function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticStyle:{width:"600px",padding:"0px 20px 0px 0px",position:"relative"}},[e("div",{staticClass:"option-label"},[t._v("\n                opt example\n            ")]),t._v(" "),e("div",{staticStyle:{border:"1px solid #ddd"}},[e("div",{staticStyle:{"padding-left":"5px","overflow-y":"auto",height:"500px"}},[e("div",{staticStyle:{"font-size":"10pt"},attrs:{id:"optjson"}})])])])}]},(function(t){t&&t("data-v-f61f3d76_0",{source:"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",map:{version:3,sources:[],names:[],mappings:"",file:"AppPBMPosition.vue"},media:void 0})}),HL,undefined,false,undefined,!1,QS,void 0,void 0);const TL={components:{WLeafletVue:cL},data:function(){return{opt:{panelLabels:{show:!0}},action:[]}},mounted:function(){this.showOptJson()},watch:{opt:{handler:function(){this.showOptJson()},deep:!0}},methods:{showOptJson:function(){uL(this.opt,document.querySelector("#optjson"),{expanded:!0})}}};var ML=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[t._m(0),t._v(" "),e("div",{staticStyle:{display:"flex","padding-bottom":"20px"}},[e("div",{staticStyle:{padding:"0px 20px"}},[e("div",[e("button",{staticStyle:{margin:"0px 3px 3px 0px"},on:{click:function(n){t.opt.panelLabels.show=!0}}},[t._v("show(default)")]),t._v(" "),e("button",{staticStyle:{margin:"0px 3px 3px 0px"},on:{click:function(n){t.opt.panelLabels.show=!1}}},[t._v("hide")])]),t._v(" "),e("WLeafletVue",{staticStyle:{width:"800px",height:"500px"},attrs:{opt:t.opt}})],1),t._v(" "),t._m(1)])])};ML._withStripped=!0;const wL=US({render:ML,staticRenderFns:[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticStyle:{padding:"20px"}},[e("div",{staticStyle:{"font-size":"1.5rem"}},[t._v("panelLabels.show")]),t._v(" "),e("a",{staticClass:"item-link",attrs:{href:"//yuda-lyu.github.io/w-leaflet-vue/examples/ex-AppPLBShow.html",target:"_blank"}},[t._v("example")]),t._v(" "),e("a",{staticClass:"item-link",attrs:{href:"//github.com/yuda-lyu/w-leaflet-vue/blob/master/docs/examples/ex-AppPLBShow.html",target:"_blank"}},[t._v("code")])])},function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticStyle:{width:"600px",padding:"0px 20px 0px 0px",position:"relative"}},[e("div",{staticClass:"option-label"},[t._v("\n                opt example\n            ")]),t._v(" "),e("div",{staticStyle:{border:"1px solid #ddd"}},[e("div",{staticStyle:{"padding-left":"5px","overflow-y":"auto",height:"500px"}},[e("div",{staticStyle:{"font-size":"10pt"},attrs:{id:"optjson"}})])])])}]},(function(t){t&&t("data-v-6f67d0f2_0",{source:"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",map:{version:3,sources:[],names:[],mappings:"",file:"AppPLBShow.vue"},media:void 0})}),TL,undefined,false,undefined,!1,QS,void 0,void 0);const PL={components:{WLeafletVue:cL},data:function(){return{opt:{panelLabels:{position:"topright"}},action:[]}},mounted:function(){this.showOptJson()},watch:{opt:{handler:function(){this.showOptJson()},deep:!0}},methods:{showOptJson:function(){uL(this.opt,document.querySelector("#optjson"),{expanded:!0})}}};var IL=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[t._m(0),t._v(" "),e("div",{staticStyle:{display:"flex","padding-bottom":"20px"}},[e("div",{staticStyle:{padding:"0px 20px"}},[e("div",[e("button",{staticStyle:{margin:"0px 3px 3px 0px"},on:{click:function(n){t.opt.panelLabels.position="topleft"}}},[t._v("topleft")]),t._v(" "),e("button",{staticStyle:{margin:"0px 3px 3px 0px"},on:{click:function(n){t.opt.panelLabels.position="topright"}}},[t._v("topright(default)")]),t._v(" "),e("button",{staticStyle:{margin:"0px 3px 3px 0px"},on:{click:function(n){t.opt.panelLabels.position="bottomleft"}}},[t._v("bottomleft")]),t._v(" "),e("button",{staticStyle:{margin:"0px 3px 3px 0px"},on:{click:function(n){t.opt.panelLabels.position="bottomright"}}},[t._v("bottomright")])]),t._v(" "),e("WLeafletVue",{staticStyle:{width:"800px",height:"500px"},attrs:{opt:t.opt}})],1),t._v(" "),t._m(1)])])};IL._withStripped=!0;const zL=US({render:IL,staticRenderFns:[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticStyle:{padding:"20px"}},[e("div",{staticStyle:{"font-size":"1.5rem"}},[t._v("panelLabels.position")]),t._v(" "),e("a",{staticClass:"item-link",attrs:{href:"//yuda-lyu.github.io/w-leaflet-vue/examples/ex-AppPLBPosition.html",target:"_blank"}},[t._v("example")]),t._v(" "),e("a",{staticClass:"item-link",attrs:{href:"//github.com/yuda-lyu/w-leaflet-vue/blob/master/docs/examples/ex-AppPLBPosition.html",target:"_blank"}},[t._v("code")])])},function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticStyle:{width:"600px",padding:"0px 20px 0px 0px",position:"relative"}},[e("div",{staticClass:"option-label"},[t._v("\n                opt example\n            ")]),t._v(" "),e("div",{staticStyle:{border:"1px solid #ddd"}},[e("div",{staticStyle:{"padding-left":"5px","overflow-y":"auto",height:"500px"}},[e("div",{staticStyle:{"font-size":"10pt"},attrs:{id:"optjson"}})])])])}]},(function(t){t&&t("data-v-0cc06569_0",{source:"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",map:{version:3,sources:[],names:[],mappings:"",file:"AppPLBPosition.vue"},media:void 0})}),PL,undefined,false,undefined,!1,QS,void 0,void 0);const JL={components:{WLeafletVue:cL},data:function(){return{opt:{panelLabels:{title:"Taiwan"}},action:[]}},mounted:function(){this.showOptJson()},watch:{opt:{handler:function(){this.showOptJson()},deep:!0}},methods:{showOptJson:function(){uL(this.opt,document.querySelector("#optjson"),{expanded:!0})}}};var NL=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[t._m(0),t._v(" "),e("div",{staticStyle:{display:"flex","padding-bottom":"20px"}},[e("div",{staticStyle:{padding:"0px 20px"}},[e("WLeafletVue",{staticStyle:{width:"800px",height:"500px"},attrs:{opt:t.opt}})],1),t._v(" "),t._m(1)])])};NL._withStripped=!0;const FL=US({render:NL,staticRenderFns:[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticStyle:{padding:"20px"}},[e("div",{staticStyle:{"font-size":"1.5rem"}},[t._v("panelLabels.title")]),t._v(" "),e("a",{staticClass:"item-link",attrs:{href:"//yuda-lyu.github.io/w-leaflet-vue/examples/ex-AppPLBTitle.html",target:"_blank"}},[t._v("example")]),t._v(" "),e("a",{staticClass:"item-link",attrs:{href:"//github.com/yuda-lyu/w-leaflet-vue/blob/master/docs/examples/ex-AppPLBTitle.html",target:"_blank"}},[t._v("code")])])},function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticStyle:{width:"600px",padding:"0px 20px 0px 0px",position:"relative"}},[e("div",{staticClass:"option-label"},[t._v("\n                opt example\n            ")]),t._v(" "),e("div",{staticStyle:{border:"1px solid #ddd"}},[e("div",{staticStyle:{"padding-left":"5px","overflow-y":"auto",height:"500px"}},[e("div",{staticStyle:{"font-size":"10pt"},attrs:{id:"optjson"}})])])])}]},(function(t){t&&t("data-v-17cacfe8_0",{source:"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",map:{version:3,sources:[],names:[],mappings:"",file:"AppPLBTitle.vue"},media:void 0})}),JL,undefined,false,undefined,!1,QS,void 0,void 0);const kL={components:{WLeafletVue:cL},data:function(){return{opt:{panelLabels:{lng:"經度"}},action:[]}},mounted:function(){this.showOptJson()},watch:{opt:{handler:function(){this.showOptJson()},deep:!0}},methods:{showOptJson:function(){uL(this.opt,document.querySelector("#optjson"),{expanded:!0})}}};var BL=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[t._m(0),t._v(" "),e("div",{staticStyle:{display:"flex","padding-bottom":"20px"}},[e("div",{staticStyle:{padding:"0px 20px"}},[e("WLeafletVue",{staticStyle:{width:"800px",height:"500px"},attrs:{opt:t.opt}})],1),t._v(" "),t._m(1)])])};BL._withStripped=!0;const _L=US({render:BL,staticRenderFns:[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticStyle:{padding:"20px"}},[e("div",{staticStyle:{"font-size":"1.5rem"}},[t._v("panelLabels.lng")]),t._v(" "),e("a",{staticClass:"item-link",attrs:{href:"//yuda-lyu.github.io/w-leaflet-vue/examples/ex-AppPLBLng.html",target:"_blank"}},[t._v("example")]),t._v(" "),e("a",{staticClass:"item-link",attrs:{href:"//github.com/yuda-lyu/w-leaflet-vue/blob/master/docs/examples/ex-AppPLBLng.html",target:"_blank"}},[t._v("code")])])},function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticStyle:{width:"600px",padding:"0px 20px 0px 0px",position:"relative"}},[e("div",{staticClass:"option-label"},[t._v("\n                opt example\n            ")]),t._v(" "),e("div",{staticStyle:{border:"1px solid #ddd"}},[e("div",{staticStyle:{"padding-left":"5px","overflow-y":"auto",height:"500px"}},[e("div",{staticStyle:{"font-size":"10pt"},attrs:{id:"optjson"}})])])])}]},(function(t){t&&t("data-v-1b864e4c_0",{source:"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",map:{version:3,sources:[],names:[],mappings:"",file:"AppPLBLng.vue"},media:void 0})}),kL,undefined,false,undefined,!1,QS,void 0,void 0);const UL={components:{WLeafletVue:cL},data:function(){return{opt:{panelLabels:{lat:"緯度"}},action:[]}},mounted:function(){this.showOptJson()},watch:{opt:{handler:function(){this.showOptJson()},deep:!0}},methods:{showOptJson:function(){uL(this.opt,document.querySelector("#optjson"),{expanded:!0})}}};var EL=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[t._m(0),t._v(" "),e("div",{staticStyle:{display:"flex","padding-bottom":"20px"}},[e("div",{staticStyle:{padding:"0px 20px"}},[e("WLeafletVue",{staticStyle:{width:"800px",height:"500px"},attrs:{opt:t.opt}})],1),t._v(" "),t._m(1)])])};EL._withStripped=!0;const jL=US({render:EL,staticRenderFns:[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticStyle:{padding:"20px"}},[e("div",{staticStyle:{"font-size":"1.5rem"}},[t._v("panelLabels.lat")]),t._v(" "),e("a",{staticClass:"item-link",attrs:{href:"//yuda-lyu.github.io/w-leaflet-vue/examples/ex-AppPLBLat.html",target:"_blank"}},[t._v("example")]),t._v(" "),e("a",{staticClass:"item-link",attrs:{href:"//github.com/yuda-lyu/w-leaflet-vue/blob/master/docs/examples/ex-AppPLBLat.html",target:"_blank"}},[t._v("code")])])},function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticStyle:{width:"600px",padding:"0px 20px 0px 0px",position:"relative"}},[e("div",{staticClass:"option-label"},[t._v("\n                opt example\n            ")]),t._v(" "),e("div",{staticStyle:{border:"1px solid #ddd"}},[e("div",{staticStyle:{"padding-left":"5px","overflow-y":"auto",height:"500px"}},[e("div",{staticStyle:{"font-size":"10pt"},attrs:{id:"optjson"}})])])])}]},(function(t){t&&t("data-v-1ab0d482_0",{source:"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",map:{version:3,sources:[],names:[],mappings:"",file:"AppPLBLat.vue"},media:void 0})}),UL,undefined,false,undefined,!1,QS,void 0,void 0);const QL={components:{WLeafletVue:cL},data:function(){return{opt:{panelLabels:{zoom:"縮放"}},action:[]}},mounted:function(){this.showOptJson()},watch:{opt:{handler:function(){this.showOptJson()},deep:!0}},methods:{showOptJson:function(){uL(this.opt,document.querySelector("#optjson"),{expanded:!0})}}};var OL=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[t._m(0),t._v(" "),e("div",{staticStyle:{display:"flex","padding-bottom":"20px"}},[e("div",{staticStyle:{padding:"0px 20px"}},[e("WLeafletVue",{staticStyle:{width:"800px",height:"500px"},attrs:{opt:t.opt}})],1),t._v(" "),t._m(1)])])};OL._withStripped=!0;const AL=US({render:OL,staticRenderFns:[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticStyle:{padding:"20px"}},[e("div",{staticStyle:{"font-size":"1.5rem"}},[t._v("panelLabels.zoom")]),t._v(" "),e("a",{staticClass:"item-link",attrs:{href:"//yuda-lyu.github.io/w-leaflet-vue/examples/ex-AppPLBZoom.html",target:"_blank"}},[t._v("example")]),t._v(" "),e("a",{staticClass:"item-link",attrs:{href:"//github.com/yuda-lyu/w-leaflet-vue/blob/master/docs/examples/ex-AppPLBZoom.html",target:"_blank"}},[t._v("code")])])},function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticStyle:{width:"600px",padding:"0px 20px 0px 0px",position:"relative"}},[e("div",{staticClass:"option-label"},[t._v("\n                opt example\n            ")]),t._v(" "),e("div",{staticStyle:{border:"1px solid #ddd"}},[e("div",{staticStyle:{"padding-left":"5px","overflow-y":"auto",height:"500px"}},[e("div",{staticStyle:{"font-size":"10pt"},attrs:{id:"optjson"}})])])])}]},(function(t){t&&t("data-v-09181613_0",{source:"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",map:{version:3,sources:[],names:[],mappings:"",file:"AppPLBZoom.vue"},media:void 0})}),QL,undefined,false,undefined,!1,QS,void 0,void 0);const DL={components:{WLeafletVue:cL},data:function(){return{opt:{panelLabels:{useItems:["lat","lng"]}},action:[]}},mounted:function(){this.showOptJson()},watch:{opt:{handler:function(){this.showOptJson()},deep:!0}},methods:{showOptJson:function(){uL(this.opt,document.querySelector("#optjson"),{expanded:!0})}}};var qL=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[t._m(0),t._v(" "),e("div",{staticStyle:{display:"flex","padding-bottom":"20px"}},[e("div",{staticStyle:{padding:"0px 20px"}},[e("div",[e("button",{staticStyle:{margin:"0px 3px 3px 0px"},on:{click:function(n){t.opt.panelLabels.useItems=["lat","lng"]}}},[t._v("lat,lng")]),t._v(" "),e("button",{staticStyle:{margin:"0px 3px 3px 0px"},on:{click:function(n){t.opt.panelLabels.useItems=["lng","lat","zoom"]}}},[t._v("lng,lat,zoom")])]),t._v(" "),e("WLeafletVue",{staticStyle:{width:"800px",height:"500px"},attrs:{opt:t.opt}})],1),t._v(" "),t._m(1)])])};qL._withStripped=!0;const $L=US({render:qL,staticRenderFns:[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticStyle:{padding:"20px"}},[e("div",{staticStyle:{"font-size":"1.5rem"}},[t._v("panelLabels.useItems")]),t._v(" "),e("a",{staticClass:"item-link",attrs:{href:"//yuda-lyu.github.io/w-leaflet-vue/examples/ex-AppPLBUseItems.html",target:"_blank"}},[t._v("example")]),t._v(" "),e("a",{staticClass:"item-link",attrs:{href:"//github.com/yuda-lyu/w-leaflet-vue/blob/master/docs/examples/ex-AppPLBUseItems.html",target:"_blank"}},[t._v("code")])])},function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticStyle:{width:"600px",padding:"0px 20px 0px 0px",position:"relative"}},[e("div",{staticClass:"option-label"},[t._v("\n                opt example\n            ")]),t._v(" "),e("div",{staticStyle:{border:"1px solid #ddd"}},[e("div",{staticStyle:{"padding-left":"5px","overflow-y":"auto",height:"500px"}},[e("div",{staticStyle:{"font-size":"10pt"},attrs:{id:"optjson"}})])])])}]},(function(t){t&&t("data-v-246221be_0",{source:"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",map:{version:3,sources:[],names:[],mappings:"",file:"AppPLBUseItems.vue"},media:void 0})}),DL,undefined,false,undefined,!1,QS,void 0,void 0);const tR={components:{WLeafletVue:cL},data:function(){return{opt:{panelZoom:{show:!0}},action:[]}},mounted:function(){this.showOptJson()},watch:{opt:{handler:function(){this.showOptJson()},deep:!0}},methods:{showOptJson:function(){uL(this.opt,document.querySelector("#optjson"),{expanded:!0})}}};var nR=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[t._m(0),t._v(" "),e("div",{staticStyle:{display:"flex","padding-bottom":"20px"}},[e("div",{staticStyle:{padding:"0px 20px"}},[e("div",[e("button",{staticStyle:{margin:"0px 3px 3px 0px"},on:{click:function(n){t.opt.panelZoom.show=!0}}},[t._v("show(default)")]),t._v(" "),e("button",{staticStyle:{margin:"0px 3px 3px 0px"},on:{click:function(n){t.opt.panelZoom.show=!1}}},[t._v("hide")])]),t._v(" "),e("WLeafletVue",{staticStyle:{width:"800px",height:"500px"},attrs:{opt:t.opt}})],1),t._v(" "),t._m(1)])])};nR._withStripped=!0;const eR=US({render:nR,staticRenderFns:[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticStyle:{padding:"20px"}},[e("div",{staticStyle:{"font-size":"1.5rem"}},[t._v("panelZoom.show")]),t._v(" "),e("a",{staticClass:"item-link",attrs:{href:"//yuda-lyu.github.io/w-leaflet-vue/examples/ex-AppPZMShow.html",target:"_blank"}},[t._v("example")]),t._v(" "),e("a",{staticClass:"item-link",attrs:{href:"//github.com/yuda-lyu/w-leaflet-vue/blob/master/docs/examples/ex-AppPZMShow.html",target:"_blank"}},[t._v("code")])])},function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticStyle:{width:"600px",padding:"0px 20px 0px 0px",position:"relative"}},[e("div",{staticClass:"option-label"},[t._v("\n                opt example\n            ")]),t._v(" "),e("div",{staticStyle:{border:"1px solid #ddd"}},[e("div",{staticStyle:{"padding-left":"5px","overflow-y":"auto",height:"500px"}},[e("div",{staticStyle:{"font-size":"10pt"},attrs:{id:"optjson"}})])])])}]},(function(t){t&&t("data-v-f58bd246_0",{source:"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",map:{version:3,sources:[],names:[],mappings:"",file:"AppPZMShow.vue"},media:void 0})}),tR,undefined,false,undefined,!1,QS,void 0,void 0);const iR={components:{WLeafletVue:cL},data:function(){return{opt:{panelZoom:{position:"bottomleft"}},action:[]}},mounted:function(){this.showOptJson()},watch:{opt:{handler:function(){this.showOptJson()},deep:!0}},methods:{showOptJson:function(){uL(this.opt,document.querySelector("#optjson"),{expanded:!0})}}};var oR=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[t._m(0),t._v(" "),e("div",{staticStyle:{display:"flex","padding-bottom":"20px"}},[e("div",{staticStyle:{padding:"0px 20px"}},[e("div",[e("button",{staticStyle:{margin:"0px 3px 3px 0px"},on:{click:function(n){t.opt.panelZoom.position="topleft"}}},[t._v("topleft")]),t._v(" "),e("button",{staticStyle:{margin:"0px 3px 3px 0px"},on:{click:function(n){t.opt.panelZoom.position="topright"}}},[t._v("topright")]),t._v(" "),e("button",{staticStyle:{margin:"0px 3px 3px 0px"},on:{click:function(n){t.opt.panelZoom.position="bottomleft"}}},[t._v("bottomleft(default)")]),t._v(" "),e("button",{staticStyle:{margin:"0px 3px 3px 0px"},on:{click:function(n){t.opt.panelZoom.position="bottomright"}}},[t._v("bottomright")])]),t._v(" "),e("WLeafletVue",{staticStyle:{width:"800px",height:"500px"},attrs:{opt:t.opt}})],1),t._v(" "),t._m(1)])])};oR._withStripped=!0;const lR=US({render:oR,staticRenderFns:[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticStyle:{padding:"20px"}},[e("div",{staticStyle:{"font-size":"1.5rem"}},[t._v("panelZoom.position")]),t._v(" "),e("a",{staticClass:"item-link",attrs:{href:"//yuda-lyu.github.io/w-leaflet-vue/examples/ex-AppPZMPosition.html",target:"_blank"}},[t._v("example")]),t._v(" "),e("a",{staticClass:"item-link",attrs:{href:"//github.com/yuda-lyu/w-leaflet-vue/blob/master/docs/examples/ex-AppPZMPosition.html",target:"_blank"}},[t._v("code")])])},function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticStyle:{width:"600px",padding:"0px 20px 0px 0px",position:"relative"}},[e("div",{staticClass:"option-label"},[t._v("\n                opt example\n            ")]),t._v(" "),e("div",{staticStyle:{border:"1px solid #ddd"}},[e("div",{staticStyle:{"padding-left":"5px","overflow-y":"auto",height:"500px"}},[e("div",{staticStyle:{"font-size":"10pt"},attrs:{id:"optjson"}})])])])}]},(function(t){t&&t("data-v-81d4525e_0",{source:"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",map:{version:3,sources:[],names:[],mappings:"",file:"AppPZMPosition.vue"},media:void 0})}),iR,undefined,false,undefined,!1,QS,void 0,void 0);const sR={components:{WLeafletVue:cL},data:function(){return{opt:{pointSets:[{title:"pointSet A",msg:"msg from pointSet A",points:[{title:"point A-1",msg:"msg from data A-1",latLng:[24.2,121.27]},{title:"point A-2",msg:"msg from data A-2",latLng:[23.9,120.97]}],visible:!0},{title:"pointSet B",msg:"msg from pointSet B",points:[{title:"point B-1",msg:"msg from data B-1",latLng:[23.3,120.57]},{title:"point B-2",msg:"msg from data B-2",latLng:[23,120.87]}],visible:!1}]},action:[]}},mounted:function(){this.showOptJson()},watch:{opt:{handler:function(){this.showOptJson()},deep:!0}},methods:{showOptJson:function(){uL(this.opt,document.querySelector("#optjson"),{expanded:!0})}}};var rR=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[t._m(0),t._v(" "),e("div",{staticStyle:{display:"flex","padding-bottom":"20px"}},[e("div",{staticStyle:{padding:"0px 20px"}},[e("WLeafletVue",{staticStyle:{width:"800px",height:"500px"},attrs:{opt:t.opt}})],1),t._v(" "),t._m(1)])])};rR._withStripped=!0;const aR=US({render:rR,staticRenderFns:[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticStyle:{padding:"20px"}},[e("div",{staticStyle:{"font-size":"1.5rem"}},[t._v("pointSets")]),t._v(" "),e("a",{staticClass:"item-link",attrs:{href:"//yuda-lyu.github.io/w-leaflet-vue/examples/ex-AppPNTPointSets.html",target:"_blank"}},[t._v("example")]),t._v(" "),e("a",{staticClass:"item-link",attrs:{href:"//github.com/yuda-lyu/w-leaflet-vue/blob/master/docs/examples/ex-AppPNTPointSets.html",target:"_blank"}},[t._v("code")])])},function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticStyle:{width:"600px",padding:"0px 20px 0px 0px",position:"relative"}},[e("div",{staticClass:"option-label"},[t._v("\n                opt example\n            ")]),t._v(" "),e("div",{staticStyle:{border:"1px solid #ddd"}},[e("div",{staticStyle:{"padding-left":"5px","overflow-y":"auto",height:"500px"}},[e("div",{staticStyle:{"font-size":"10pt"},attrs:{id:"optjson"}})])])])}]},(function(t){t&&t("data-v-7ed330f5_0",{source:"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",map:{version:3,sources:[],names:[],mappings:"",file:"AppPNTPointSets.vue"},media:void 0})}),sR,undefined,false,undefined,!1,QS,void 0,void 0);const dR={components:{WLeafletVue:cL},data:function(){return{opt:{pointSets:[{title:"pointSet A",msg:"msg from pointSet A",points:[[24.2,121.27],[23.9,120.97]],visible:!0},{title:"pointSet B",msg:"msg from pointSet B",points:[{title:"point B-1",msg:"msg from data B-1",latLng:[23.3,120.57]},{title:"point B-2",msg:"msg from data B-2",latLng:[23,120.87]}],visible:!1}]},action:[]}},mounted:function(){this.showOptJson()},watch:{opt:{handler:function(){this.showOptJson()},deep:!0}},methods:{showOptJson:function(){uL(this.opt,document.querySelector("#optjson"),{expanded:!0})}}};var cR=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[t._m(0),t._v(" "),e("div",{staticStyle:{display:"flex","padding-bottom":"20px"}},[e("div",{staticStyle:{padding:"0px 20px"}},[e("WLeafletVue",{staticStyle:{width:"800px",height:"500px"},attrs:{opt:t.opt}})],1),t._v(" "),t._m(1)])])};cR._withStripped=!0;const uR=US({render:cR,staticRenderFns:[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticStyle:{padding:"20px"}},[e("div",{staticStyle:{"font-size":"1.5rem"}},[t._v("pointSet-pointByArray")]),t._v(" "),e("a",{staticClass:"item-link",attrs:{href:"//yuda-lyu.github.io/w-leaflet-vue/examples/ex-AppPNTPointSetPointByArray.html",target:"_blank"}},[t._v("example")]),t._v(" "),e("a",{staticClass:"item-link",attrs:{href:"//github.com/yuda-lyu/w-leaflet-vue/blob/master/docs/examples/ex-AppPNTPointSetPointByArray.html",target:"_blank"}},[t._v("code")])])},function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticStyle:{width:"600px",padding:"0px 20px 0px 0px",position:"relative"}},[e("div",{staticClass:"option-label"},[t._v("\n                opt example\n            ")]),t._v(" "),e("div",{staticStyle:{border:"1px solid #ddd"}},[e("div",{staticStyle:{"padding-left":"5px","overflow-y":"auto",height:"500px"}},[e("div",{staticStyle:{"font-size":"10pt"},attrs:{id:"optjson"}})])])])}]},(function(t){t&&t("data-v-10f6dcda_0",{source:"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",map:{version:3,sources:[],names:[],mappings:"",file:"AppPNTPointSetPointByArray.vue"},media:void 0})}),dR,undefined,false,undefined,!1,QS,void 0,void 0);function pR(t){return JSON.parse(JSON.stringify(t))}const hR={components:{WLeafletVue:cL},data:function(){var t=[[24.2,121.27],[23.9,120.97]],n=[{title:"pointSet A",msg:"msg from pointSet A",points:t,visible:!0},{title:"pointSet B",msg:"msg from pointSet B",points:[{title:"point B-1",msg:"msg from data B-1",latLng:[23.3,120.57]},{title:"point B-2",msg:"msg from data B-2",latLng:[23,120.87]}],visible:!0}];return{cloneDeep:pR,pointSets:pR(n),pts2:t,pts3:[[24.2,121.27],[23.9,120.97],[23.7,121.27]],opt:{pointSets:n},action:[]}},mounted:function(){this.showOptJson()},watch:{opt:{handler:function(){this.showOptJson()},deep:!0}},computed:{hasPointSets:function(){return this.opt.pointSets.length>0}},methods:{showOptJson:function(){uL(this.opt,document.querySelector("#optjson"),{expanded:!0})}}};var mR=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[t._m(0),t._v(" "),e("div",{staticStyle:{display:"flex","padding-bottom":"20px"}},[e("div",{staticStyle:{padding:"0px 20px"}},[e("div",[e("button",{staticStyle:{margin:"0px 3px 3px 0px"},on:{click:function(n){t.opt.pointSets=t.cloneDeep(t.pointSets)}}},[t._v("default")]),t._v(" "),t.hasPointSets?e("button",{staticStyle:{margin:"0px 3px 3px 0px"},on:{click:function(n){t.opt.pointSets=[]}}},[t._v("empty")]):t._e(),t._v(" "),t.hasPointSets?e("button",{staticStyle:{margin:"0px 3px 3px 0px"},on:{click:function(n){t.opt.pointSets[0].points=[]}}},[t._v("0 point(in pointSet[0])")]):t._e(),t._v(" "),t.hasPointSets?e("button",{staticStyle:{margin:"0px 3px 3px 0px"},on:{click:function(n){t.opt.pointSets[0].points=t.pts2}}},[t._v("2 points(in pointSet[0])")]):t._e(),t._v(" "),t.hasPointSets?e("button",{staticStyle:{margin:"0px 3px 3px 0px"},on:{click:function(n){t.opt.pointSets[0].points=t.pts3}}},[t._v("3 points(in pointSet[0])")]):t._e()]),t._v(" "),e("WLeafletVue",{staticStyle:{width:"800px",height:"500px"},attrs:{opt:t.opt}})],1),t._v(" "),t._m(1)])])};mR._withStripped=!0;const bR=US({render:mR,staticRenderFns:[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticStyle:{padding:"20px"}},[e("div",{staticStyle:{"font-size":"1.5rem"}},[t._v("pointSet-changeData")]),t._v(" "),e("a",{staticClass:"item-link",attrs:{href:"//yuda-lyu.github.io/w-leaflet-vue/examples/ex-AppPNTPointSetChangeData.html",target:"_blank"}},[t._v("example")]),t._v(" "),e("a",{staticClass:"item-link",attrs:{href:"//github.com/yuda-lyu/w-leaflet-vue/blob/master/docs/examples/ex-AppPNTPointSetChangeData.html",target:"_blank"}},[t._v("code")])])},function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticStyle:{width:"600px",padding:"0px 20px 0px 0px",position:"relative"}},[e("div",{staticClass:"option-label"},[t._v("\n                opt example\n            ")]),t._v(" "),e("div",{staticStyle:{border:"1px solid #ddd"}},[e("div",{staticStyle:{"padding-left":"5px","overflow-y":"auto",height:"500px"}},[e("div",{staticStyle:{"font-size":"10pt"},attrs:{id:"optjson"}})])])])}]},(function(t){t&&t("data-v-3c5766be_0",{source:"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",map:{version:3,sources:[],names:[],mappings:"",file:"AppPNTPointSetChangeData.vue"},media:void 0})}),hR,undefined,false,undefined,!1,QS,void 0,void 0);const yR={components:{WLeafletVue:cL},data:function(){return{opt:{pointSets:[{title:"pointSet A",msg:"msg from pointSet A",points:[{title:"point A-1",msg:"msg from data A-1",latLng:[24.2,121.27]},{title:"point A-2",msg:"msg from data A-2",latLng:[23.9,120.97]}],visible:!0,order:1},{title:"pointSet B",msg:"msg from pointSet B",points:[{title:"point B-1",msg:"msg from data B-1",latLng:[23.3,120.57]},{title:"point B-2",msg:"msg from data B-2",latLng:[23,120.87]}],visible:!1,order:0}]},action:[]}},mounted:function(){this.showOptJson()},watch:{opt:{handler:function(){this.showOptJson()},deep:!0}},methods:{showOptJson:function(){uL(this.opt,document.querySelector("#optjson"),{expanded:!0})}}};var ZR=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[t._m(0),t._v(" "),e("div",{staticStyle:{display:"flex","padding-bottom":"20px"}},[e("div",{staticStyle:{padding:"0px 20px"}},[e("WLeafletVue",{staticStyle:{width:"800px",height:"500px"},attrs:{opt:t.opt}})],1),t._v(" "),t._m(1)])])};ZR._withStripped=!0;const XR=US({render:ZR,staticRenderFns:[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticStyle:{padding:"20px"}},[e("div",{staticStyle:{"font-size":"1.5rem"}},[t._v("pointSet.order")]),t._v(" "),e("a",{staticClass:"item-link",attrs:{href:"//yuda-lyu.github.io/w-leaflet-vue/examples/ex-AppPNTPointSetOrder.html",target:"_blank"}},[t._v("example")]),t._v(" "),e("a",{staticClass:"item-link",attrs:{href:"//github.com/yuda-lyu/w-leaflet-vue/blob/master/docs/examples/ex-AppPNTPointSetOrder.html",target:"_blank"}},[t._v("code")])])},function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticStyle:{width:"600px",padding:"0px 20px 0px 0px",position:"relative"}},[e("div",{staticClass:"option-label"},[t._v("\n                opt example\n            ")]),t._v(" "),e("div",{staticStyle:{border:"1px solid #ddd"}},[e("div",{staticStyle:{"padding-left":"5px","overflow-y":"auto",height:"500px"}},[e("div",{staticStyle:{"font-size":"10pt"},attrs:{id:"optjson"}})])])])}]},(function(t){t&&t("data-v-2980e60c_0",{source:"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",map:{version:3,sources:[],names:[],mappings:"",file:"AppPNTPointSetOrder.vue"},media:void 0})}),yR,undefined,false,undefined,!1,QS,void 0,void 0);const fR={components:{WLeafletVue:cL},data:function(){return{opt:{pointSets:[{title:"pointSet A",msg:"msg from pointSet A",points:[{title:"point A-1",msg:"msg from data A-1",latLng:[24.2,121.27]},{title:"point A-2",msg:"msg from data A-2",latLng:[23.9,120.97]}],iconSrc:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACYAAABfCAYAAACEELWnAAAKp0lEQVR4AcyVA5QsxxtHa/1nbNu2ubZtPK+9O2/jHMTGcWzbto2nwZqxNqncrjfVXdNnnqM953bdLnzfb3p2ZsTf8bfDDjtEwf6wMUSAcKPlryYKLoQhEP+gYIoyuPefGGxzeAl2+YcFU7SDZ5XBpusHIkBMzzljO8adQMD/YN/pusUbgwjyP8c3HHofBjfBf8MGI9D8yZr+++FWwnzEoeVTdYsfwZ/B34HnphoGrmXsm6obOI+1xqlaTzbsBGJ9oXccXAbJYYPRaJ/JGo8cK+uWEzX9kgCSg3JKj9oB/xEm4AeQ8DlcwvnTQKwr9D8d+iAiXLCtp2o8b49X9Mjh4g45UtYpeVoqEIehP8TBdNbs+5/gIZg7UePZCcTaQIZbIBM2DwlG00g2XGw1majut8IpJqr6pJozQuDsWbWD6Q9MVPdVwa7jVX0RINxsvu02kWQoBy/sYgZTUCQJZkGOV/bJwfxWOVjQrp6E0Qj6VGDTx6s9joPhv45X908wPgrFIMJB/2q4FbYKF2wzii0ZNxoNFbRKX3Yj/3tdKohaq3QC6HvDYZX+/Xhl74NjFb0J8B8QGvo3QiX83x3MSh7N4etBUsAuOlLSIX05jby1nWp+rAJY0w6mA2vawXFYuW8KztOhTtx7f+uTeTacBFHuYAo2VoN0M1jYJpelz+etbeNpeZy1coXLe7RDt/qk48Gxx6Gs65FfagYOuTel4oTYLTcboP++q/zmp8DOHAo4RXrVyKtWT255+jzpzVooR0u7gsX1yH4cQr00xDkX6j9VD7zQfvTp98RsuVln7FabbwlCo8WGg4/ZBcDtKzIXwgKCdgab2I0AL+kK44CD6Wr9tey5cvGxyUUgTLTYcHCOWcDtI/yvLU1tkEtSGuRQUYcKZa8R1nQIXQPtGuv8sqK2936q8GwLQqPFhs27cnjcLGA6IdXb5c1pll8k1/LBWKS+89R6MTBqHzacPdy7vQNU/d8Yrx4u6vw3CAt1MaFQFIduDFcMcKepN3uh/CKpRo0EZr7L3kctRtCuML3ddJ5+58941qqCKSjGBjbq4kUOQ4VB55PKW0moRfLT+Eq5JLWe7z2rMVhrhdbYbjuNHYfhAu1gOeB3Dua3x4EQ1sUNBf9PkXd0cUYHfR8srMLmt8vPeXKfJ1ZLf26z3Yhajhc4bmDuY0/HDL7DqoIp2NiuiuW7Cpieb7sK9FlCpfwssQpv4gV1qnmbPLXPJmDMB/Ls+dnB3LZKEIJLWNgUwaFpdwHTQbkiv0MGclt5ctXyo1OL+UKep+7tfbkttjMf4mB6E0QLLmEhQBSbPa4Cq3bQQZekNRCuSH6Z0mC/CH+Os8/tYPrFeMyqgin8ue1bMy61i0HYYi588CUfhg9OKZSfJlQx18zetuB6iwI37x3PbrkNhOCyWjiQxYFfQPqynQJAgDbHs4159vGi+AmbT7h89fSWZyxQ8wpq2A5+2yGr5UIQgssa4cD1IFcFe6A59F55q1yRsVB+cGqB/PCUAvVb62cu5Az4Mx2HeaxFrG2w/3DgttBizabDKl09uQ9PLZTvnZjDh6NWetV8CzS7mYFdOBsluKwtO3PoMfhFNc5wCrocmkI8wAvyEuTj+HL5zomZ8rPTK6Q3vVGtgd73HVwKwkJd1hZ/RtNmFHnAZxVN10WBe9PBdEI4/gm/Eu+ckKreWm8av7MZLUCo9MYrYE8QFuqyrnjTGi/3pS2ctRrisEgHCPoiNa/XzH0r4FPryZ2QJj8+MVu+H1/99RuJ9eezJ2YiszUChIW6rCs02YImnTDsTaUZeEE7OJ6iHBwfSm+WSxLr5FWHnywL9zn4DRButKwX3tTGNG9q0+v+tJZZb0qT1RgWyuWMtoPp3pRGGUhtlG/GF8qUPfeVMVtv+dGm2269NwgTLevNh/ElG799avbTnyXWrmyc2iwJqcI5oRqDzvh7s/Yc3si3B2D8lD97Xa5tJ51MWK1t27Zt27Ztb91e27at9nvfyW32rlE8z/njM2qbvD1n4iSOYPq6yB23KT1rVpeyERH/4Wl9lSJ9t+eB3RmWYnhm3DHsOQ8Nt2SayfIFd0f/Cf6dhMGEjJbvJQyTb8cPZJ+HKU93yXG2lWteQ257TVluNpHSERF/jYmKioR6nLUokJQ4z7sP49yjHsS5//jQcMkDwwk4XPLQ4ZZUh09SzQTJcrYmOMl//D4utTblUnuXnOntlT0dTSkfG/VHo2KF4VCPsxZvLM3uCUuzu/um2t25BAqBcIHAOKfcjzPlvgHWN1yG3GCELrcmpptbznew1h65lmTKrWRTkqpUlvZVquxe17TRB1AB1uKNETYC30+1eyQgJc7N2snaJXcMh9x2OeRyW5dc4crPd3TL1QRTruOWw/BH3zUNSTEdMqZWLXFUriiNy5cPgwqwFq8twx4fjKYZdt8v0u1eSSeItT/KcsvtkJteh1xNNP1B1j78sfeIeWC4iHJa23AwvQ7Z2aSJfFi27C/LREQ0gAqwFq8t05ZYP8MW/5A4fxDTKXcNQ+5xBUwNa0PuOgmxphbWNDPd8oAwEAWiLPeQwjl3tFkzaVq+fF6ZiHIjoQKsxWvJsiXFZtuSjlgxqTb/CARGwX9iM4pWaP6aID/iCMKj85Dfh/PRyOWYrlxHpYpSuly569zSw9747iLHljSDEchNt/m4Iq9k2BLE2s5knckIEpSP6QVxcD8W6IX7/4Hg1vzvG3FGOpe/MSIy4i+sa75xGBi1xIGM3NFsW4sfs/4PCEsUphc+EJw/zQGPBxIHD9xwSY7hPbemfuPYd8uW7sTlC0YVKCzblvg2ItAVs3EH/yDur7BGjzBCiQN8+YGex6f3T7ACF37dTKgL9UGZMi24/L/gyKvDXh0ZiqqYlGVLXoWNjOAdAr9M4D8YRSvu58R9Pz/wKzhD4HRGsBZTGg5l4WHJejv9J/g+Yh8PKzSiPkFtwhqgAmFOprcL6hAYnW73NYF62of/ew+2Pn4HQblAWJEjLAjqdfE35fEt/BruV4YNGzYsaOLEiUGzZs2yqOLCdQVhDQTjEPzK/37q1KlWVAhUMcf1xD9xA+8oFjoIQhsILuMtPcKAKfgzukHpFPYFXEe0LmFBKI88tEO4LmHBWIiv4i0oXcIaIwVToXQKW4NriNUprAq+jN5QuoSFYgvuoqROYR3wU3SC0iXsU1zCRYTqEhaGyfgdkqAKHLZ8+fKQ+fPnB0EV1GPfEjDwS6zA24UKW7JkSei8efNCoAqCy/gYI6BwDt9DWajChllPfYIL8ZSmI/6Bpfg7JkIVMgyYMGFCCFRB8Pfd8Xv8E9dQrcjCrGezUG8ocG7Z8AcIfAgpfFjhhWMgcvElKIsOYR9iHwTTdAqLxfeRjoa6hIUgEYKlCNUl7B0swb/QDUqXsDJIxTfQSKewkvgL9qGETmEVITiEYJ3CRiMPU6F0CtuMH8OlU9g7uIev4D2dwhrgd/g8lE5hQyFYolNYeZxHHproEvYJ5uFv+D1CdQn7ECcguIYwXcLK44sQLMW7Ok3l7/AfjNVpxMogHX9BbwTpEhaOsxD0gdIjDLgKQTOdwt7HPuSigU5h4diIf6C1blO5GYIOOoWFYBkEQxGsU9h4CBboEwYMgmCtbueYE4JeeoUBFfApVEH8Fw0OQMRHom/JAAAAAElFTkSuQmCC",iconSize:[38,95],iconAnchor:[22,94],popupAnchor:[0,-63],visible:!0},{title:"pointSet B",msg:"msg from pointSet B",points:[{title:"point B-1",msg:"msg from data B-1",latLng:[23.3,120.57]},{title:"point B-2",msg:"msg from data B-2",latLng:[23,120.87]}],visible:!1}]},action:[]}},mounted:function(){this.showOptJson()},watch:{opt:{handler:function(){this.showOptJson()},deep:!0}},methods:{showOptJson:function(){uL(this.opt,document.querySelector("#optjson"),{expanded:!0})}}};var GR=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[t._m(0),t._v(" "),e("div",{staticStyle:{display:"flex","padding-bottom":"20px"}},[e("div",{staticStyle:{padding:"0px 20px"}},[e("WLeafletVue",{staticStyle:{width:"800px",height:"500px"},attrs:{opt:t.opt}})],1),t._v(" "),t._m(1)])])};GR._withStripped=!0;const WR=US({render:GR,staticRenderFns:[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticStyle:{padding:"20px"}},[e("div",{staticStyle:{"font-size":"1.5rem"}},[t._v("pointSet.iconSrc,iconSize,iconAnchor,popupAnchor")]),t._v(" "),e("a",{staticClass:"item-link",attrs:{href:"//yuda-lyu.github.io/w-leaflet-vue/examples/ex-AppPNTPointSetIconSrcSizeAnchor.html",target:"_blank"}},[t._v("example")]),t._v(" "),e("a",{staticClass:"item-link",attrs:{href:"//github.com/yuda-lyu/w-leaflet-vue/blob/master/docs/examples/ex-AppPNTPointSetIconSrcSizeAnchor.html",target:"_blank"}},[t._v("code")])])},function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticStyle:{width:"600px",padding:"0px 20px 0px 0px",position:"relative"}},[e("div",{staticClass:"option-label"},[t._v("\n                opt example\n            ")]),t._v(" "),e("div",{staticStyle:{border:"1px solid #ddd"}},[e("div",{staticStyle:{"padding-left":"5px","overflow-y":"auto",height:"500px"}},[e("div",{staticStyle:{"font-size":"10pt"},attrs:{id:"optjson"}})])])])}]},(function(t){t&&t("data-v-a5b60d14_0",{source:"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",map:{version:3,sources:[],names:[],mappings:"",file:"AppPNTPointSetIconSrcSizeAnchor.vue"},media:void 0})}),fR,undefined,false,undefined,!1,QS,void 0,void 0);const gR={components:{WLeafletVue:cL},data:function(){return{opt:{pointSets:[{title:"pointSet A",msg:"msg from pointSet A",points:[{title:"point A-1",msg:"msg from data A-1",latLng:[24.2,121.27],iconSrc:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACYAAABfCAYAAACEELWnAAAKp0lEQVR4AcyVA5QsxxtHa/1nbNu2ubZtPK+9O2/jHMTGcWzbto2nwZqxNqncrjfVXdNnnqM953bdLnzfb3p2ZsTf8bfDDjtEwf6wMUSAcKPlryYKLoQhEP+gYIoyuPefGGxzeAl2+YcFU7SDZ5XBpusHIkBMzzljO8adQMD/YN/pusUbgwjyP8c3HHofBjfBf8MGI9D8yZr+++FWwnzEoeVTdYsfwZ/B34HnphoGrmXsm6obOI+1xqlaTzbsBGJ9oXccXAbJYYPRaJ/JGo8cK+uWEzX9kgCSg3JKj9oB/xEm4AeQ8DlcwvnTQKwr9D8d+iAiXLCtp2o8b49X9Mjh4g45UtYpeVoqEIehP8TBdNbs+5/gIZg7UePZCcTaQIZbIBM2DwlG00g2XGw1majut8IpJqr6pJozQuDsWbWD6Q9MVPdVwa7jVX0RINxsvu02kWQoBy/sYgZTUCQJZkGOV/bJwfxWOVjQrp6E0Qj6VGDTx6s9joPhv45X908wPgrFIMJB/2q4FbYKF2wzii0ZNxoNFbRKX3Yj/3tdKohaq3QC6HvDYZX+/Xhl74NjFb0J8B8QGvo3QiX83x3MSh7N4etBUsAuOlLSIX05jby1nWp+rAJY0w6mA2vawXFYuW8KztOhTtx7f+uTeTacBFHuYAo2VoN0M1jYJpelz+etbeNpeZy1coXLe7RDt/qk48Gxx6Gs65FfagYOuTel4oTYLTcboP++q/zmp8DOHAo4RXrVyKtWT255+jzpzVooR0u7gsX1yH4cQr00xDkX6j9VD7zQfvTp98RsuVln7FabbwlCo8WGg4/ZBcDtKzIXwgKCdgab2I0AL+kK44CD6Wr9tey5cvGxyUUgTLTYcHCOWcDtI/yvLU1tkEtSGuRQUYcKZa8R1nQIXQPtGuv8sqK2936q8GwLQqPFhs27cnjcLGA6IdXb5c1pll8k1/LBWKS+89R6MTBqHzacPdy7vQNU/d8Yrx4u6vw3CAt1MaFQFIduDFcMcKepN3uh/CKpRo0EZr7L3kctRtCuML3ddJ5+58941qqCKSjGBjbq4kUOQ4VB55PKW0moRfLT+Eq5JLWe7z2rMVhrhdbYbjuNHYfhAu1gOeB3Dua3x4EQ1sUNBf9PkXd0cUYHfR8srMLmt8vPeXKfJ1ZLf26z3Yhajhc4bmDuY0/HDL7DqoIp2NiuiuW7Cpieb7sK9FlCpfwssQpv4gV1qnmbPLXPJmDMB/Ls+dnB3LZKEIJLWNgUwaFpdwHTQbkiv0MGclt5ctXyo1OL+UKep+7tfbkttjMf4mB6E0QLLmEhQBSbPa4Cq3bQQZekNRCuSH6Z0mC/CH+Os8/tYPrFeMyqgin8ue1bMy61i0HYYi588CUfhg9OKZSfJlQx18zetuB6iwI37x3PbrkNhOCyWjiQxYFfQPqynQJAgDbHs4159vGi+AmbT7h89fSWZyxQ8wpq2A5+2yGr5UIQgssa4cD1IFcFe6A59F55q1yRsVB+cGqB/PCUAvVb62cu5Az4Mx2HeaxFrG2w/3DgttBizabDKl09uQ9PLZTvnZjDh6NWetV8CzS7mYFdOBsluKwtO3PoMfhFNc5wCrocmkI8wAvyEuTj+HL5zomZ8rPTK6Q3vVGtgd73HVwKwkJd1hZ/RtNmFHnAZxVN10WBe9PBdEI4/gm/Eu+ckKreWm8av7MZLUCo9MYrYE8QFuqyrnjTGi/3pS2ctRrisEgHCPoiNa/XzH0r4FPryZ2QJj8+MVu+H1/99RuJ9eezJ2YiszUChIW6rCs02YImnTDsTaUZeEE7OJ6iHBwfSm+WSxLr5FWHnywL9zn4DRButKwX3tTGNG9q0+v+tJZZb0qT1RgWyuWMtoPp3pRGGUhtlG/GF8qUPfeVMVtv+dGm2269NwgTLevNh/ElG799avbTnyXWrmyc2iwJqcI5oRqDzvh7s/Yc3si3B2D8lD97Xa5tJ51MWK1t27Zt27Ztb91e27at9nvfyW32rlE8z/njM2qbvD1n4iSOYPq6yB23KT1rVpeyERH/4Wl9lSJ9t+eB3RmWYnhm3DHsOQ8Nt2SayfIFd0f/Cf6dhMGEjJbvJQyTb8cPZJ+HKU93yXG2lWteQ257TVluNpHSERF/jYmKioR6nLUokJQ4z7sP49yjHsS5//jQcMkDwwk4XPLQ4ZZUh09SzQTJcrYmOMl//D4utTblUnuXnOntlT0dTSkfG/VHo2KF4VCPsxZvLM3uCUuzu/um2t25BAqBcIHAOKfcjzPlvgHWN1yG3GCELrcmpptbznew1h65lmTKrWRTkqpUlvZVquxe17TRB1AB1uKNETYC30+1eyQgJc7N2snaJXcMh9x2OeRyW5dc4crPd3TL1QRTruOWw/BH3zUNSTEdMqZWLXFUriiNy5cPgwqwFq8twx4fjKYZdt8v0u1eSSeItT/KcsvtkJteh1xNNP1B1j78sfeIeWC4iHJa23AwvQ7Z2aSJfFi27C/LREQ0gAqwFq8t05ZYP8MW/5A4fxDTKXcNQ+5xBUwNa0PuOgmxphbWNDPd8oAwEAWiLPeQwjl3tFkzaVq+fF6ZiHIjoQKsxWvJsiXFZtuSjlgxqTb/CARGwX9iM4pWaP6aID/iCMKj85Dfh/PRyOWYrlxHpYpSuly569zSw9747iLHljSDEchNt/m4Iq9k2BLE2s5knckIEpSP6QVxcD8W6IX7/4Hg1vzvG3FGOpe/MSIy4i+sa75xGBi1xIGM3NFsW4sfs/4PCEsUphc+EJw/zQGPBxIHD9xwSY7hPbemfuPYd8uW7sTlC0YVKCzblvg2ItAVs3EH/yDur7BGjzBCiQN8+YGex6f3T7ACF37dTKgL9UGZMi24/L/gyKvDXh0ZiqqYlGVLXoWNjOAdAr9M4D8YRSvu58R9Pz/wKzhD4HRGsBZTGg5l4WHJejv9J/g+Yh8PKzSiPkFtwhqgAmFOprcL6hAYnW73NYF62of/ew+2Pn4HQblAWJEjLAjqdfE35fEt/BruV4YNGzYsaOLEiUGzZs2yqOLCdQVhDQTjEPzK/37q1KlWVAhUMcf1xD9xA+8oFjoIQhsILuMtPcKAKfgzukHpFPYFXEe0LmFBKI88tEO4LmHBWIiv4i0oXcIaIwVToXQKW4NriNUprAq+jN5QuoSFYgvuoqROYR3wU3SC0iXsU1zCRYTqEhaGyfgdkqAKHLZ8+fKQ+fPnB0EV1GPfEjDwS6zA24UKW7JkSei8efNCoAqCy/gYI6BwDt9DWajChllPfYIL8ZSmI/6Bpfg7JkIVMgyYMGFCCFRB8Pfd8Xv8E9dQrcjCrGezUG8ocG7Z8AcIfAgpfFjhhWMgcvElKIsOYR9iHwTTdAqLxfeRjoa6hIUgEYKlCNUl7B0swb/QDUqXsDJIxTfQSKewkvgL9qGETmEVITiEYJ3CRiMPU6F0CtuMH8OlU9g7uIev4D2dwhrgd/g8lE5hQyFYolNYeZxHHproEvYJ5uFv+D1CdQn7ECcguIYwXcLK44sQLMW7Ok3l7/AfjNVpxMogHX9BbwTpEhaOsxD0gdIjDLgKQTOdwt7HPuSigU5h4diIf6C1blO5GYIOOoWFYBkEQxGsU9h4CBboEwYMgmCtbueYE4JeeoUBFfApVEH8Fw0OQMRHom/JAAAAAElFTkSuQmCC",iconSize:[38,95],iconAnchor:[22,94],popupAnchor:[0,-63]},{title:"point A-2",msg:"msg from data A-2",latLng:[23.9,120.97]},{title:"point A-3",msg:"data A-3",latLng:[23.6,120.5]}],iconSrc:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACYAAABfCAYAAACEELWnAAAKr0lEQVR4AcyYBXAbSxKG1/SYIajQQzNTmJmOmZmZmZmZmRnEkpntcBy8MHMkM8iv79spzWqssu/sHKbq2/53p6f7V886But/8c/lcqVBDtwNKWAlo8V/mzT4HJwD6//ImOK58Mf/R2P3QyPM/T8zpngrvG9cYyMdT00B4tNmEGeDBXdA1kj7U+4GK84dYP27oHcx/AxuH8fY01493PqkP8MvMdPJpuOx9qd40dXoHVAba3/qt4jvibU+5eOsvT7W9uQnwWywbhR63wxfhnVjGqNR5nDLk2SwYb0MtT5JMCBslJiOWgN6AK5APwgcgi+yfwVYk4X+K+E9kDKWsakjbU/aPtS8Sfpq10h/4wZhWsqQbZhJmlph6liHszYIbnjlUPOTZoM1EfDwC9gC948yRtNUEr5gNxlq3qrMAc22qMasqag1OeNqMPVfhlq2vhDmDTZtSQErmfsfnJGKh+fBSZhrGlNQZC3EVMGmzdITXgErMTe6KU2UYVMPNiY0zUw9Mti09QrRB88Cayzo/yL4JUwZy9h9FDtCotOot2aldAWXcL9eGWFNmdYG9L2pYTzdN9S8+a+DjZtWw21gaej/engB3JlszHaezubvACYSRfvr10o0tFT6qteo5xSSgfrNjgZDQz33TXENph5oVHnX4OPa1LLKR+yvzI/AEkgzjTmQ+CKQZHqqV8k17wLpqeJoG7ck1ho2Api6ydR2XA/x2Eh0WO+VHc8pDH590aL0W6d8gP5Z4/7PT4E5bDrjFGkAIp9aTe66fwHTW8zE1unioJvGMTV5ph4AU0vHM+vf/bLCP6TdOuXt6bdNfRAsjSM0bPQ7BSBZR/yLJBJcJP11a+PP1+lGgOZ5slagwdRqvfNXy+Vjry56JlgmjtCw8RVmgWTdz38jV32VcsVTIb1VqzFlrIGpYfRag6M1av8V/5pd0v606WBpHKEheR6bLycXdzSFOC4mt1Qu+colGl6q/s9T6/GodV/duoTW96auJx9N/SeI3+irXn0rWDbqYkKhNDb9dMxigHaaRkJL5JK3zI7KcH9NIo9aYGqoAa3rRuve8Ooh9NbxjCkoZicM6eJEDQVWidK1q9RRRvh/7vxfi+VKoJK1lTTXa3YexDWNHQ18iJVaAxrQv+0JrbgZLMu+JEPBOymyQxcnJqg2i8VNhlfIRSZ30VPKf8jLnEbUSuiwiibJecSVEbRrPGMKEt9qF+urWjF2IzRrWitDFzwlcsGLufAy1lap55re0HKtFd3BxPPugLMW6w0uewFYFpcxISmFTdeTC5ga0AA9dh7mLvrK5Iy7QK75F6h7Jy+c0Pq51mDqN0C6xWVMMJBG8vvGK2BqjTZ62T9fzngK5LKnIvEhfEudvGQNpv4COmN8Y9DlXTaVeNQpFoAxiiUThUv8X3fqr/ly3l3CsZHrj+cGANDGvaH9S34FlsXlH8KGrWwYBunyLhlVLOpJ6C7PEkeTB8vkuneBnPLmq+ld9y1Uz0EZ1xow42hY/DmwLC4TYMl3QMZnsXT5wLhXEbMRDJ3knTuNQb7X8sHMPXE8Cx0Nr2ItZaLGbmPDr0YV8y4crWEcrSZ3mqmdcOfIRXcZk16kzLCWTATmsjfN4jJR5rDJD8MgUfcCXSxZ03iBqZnSIon+dZGc4T/io54c3rtCibjnqzXQeb3wJbBs1GWidHkW3EeRv0Tton8xCydpMHXkryoqzmHuWCDbPlqeV0q/b4H0Bxb0svZVeBQsG3WZLJE/V34l6qmM2Q3RqoE2oLRHPXfWzLzrcN6LOV+2nMXgid+WdB34cdknyMkYqVqYApaNukwWmjxAk7fD+chfK+T6nyrEjlqDocv1mqP7vPPlMv+N/PBjj8tzNj3cDlYyWtwIGKzYGPlTRVv3nypj0T+W0xj+Ui7X/mBonps6+udy6XFXyKE/lcim5fMk7Zbpnfc8MONxsEy0uGFOuYvv/pu3sOrCX0pV48gfKgSTmDNMEdHxWCYnPCWyo75AXvz8h2XatJkxl8v12L/1rz17glkZncGc926vzt6+N5wrB335ctxbpF7wy38qleu/L5erxEt/LpHLGD/tLpIj/LfRUpsv2xsK5CtfzZMpU129c2a7XGCZaDFpOgPZt+0NZL9+TyAnurcqV/Y45MnecJ7sC+ZCvhzyFsjBQL56viuUJ9VMKlRfLL8Mlct3f10ssx9yRZctnvMasEy0mBT7/NkZ+4LZL9oXyh7BoOy1CQHsCefIbpvqXBXbqvOkrS5P6hqK5ffhUvFWF8vvQmXS0lgoHW0FsmndPHnGk+b94DtfyboTLI0WkwJjr4XjmBNNZ4gYJsJ2JrO9Ll+qMdNYXyie6lJpqimU1rpC2cY0bdM7anKlsyFP3vGGR2T50rlSUTo7AyyNFhPioC87FSoOBrIvHGBKB0JAxJRiG+9OO4aaaguVIe4VttmdIY4Zdodz0WAfO5P85Xdy5M67Zl6cOnVmMVgaLSbEIXdm0UFPZiPmlCF7UjuqaMJxtTQUEu1JYMQ+VtswcNwYylHsto1VK5S5zpo8cf8iRxZUzH5i6rSZrwNLo8U/5bA7c+4RT+YvbTP7Q1mqMNAQeLEPxo2q6FdamWJa4LyH8fzE5I605I8sXzJXpkyZEeQrPWPS/10c9WW+lwmMHPBmSacfA+5MsfUhb6Yc8mUpQ4qgfcTanGHQDyHTYI7w1Tzc7sttpf7XZrpcPcScyRpTHPZmvozJ/eqIO/M0MQZyCA56wAt+UMesMQ3GzQUgPskjtTl//vanH5t7yx0znk59gdffkLEjvsxbYCY8Cz4ANTCAuV6wp4fJbMzF0QZDo463C2yDHzvfllvw92brAVauKAqg6Hmobdu2bdu2bdt2G6e2bSuqbdv27f4I6v5BcpKsiS72PEMiRopfgfXfYIknYT9HukiDXpc2pJ2EmRzBPQSeJvBDwFEk7j5x14MDz2ANgf0JzMgpDQ2B8FqKwJp3cB1Jfw7zClHRkImw7EhOWFFObx1kJjDx+S3pc0N+FilKApv52fAMBvERHOZjhFmQ/8WcZLiExyj+z7C2bdtaPXr0sAYOHBhA/IW9LEyBQTfYfwkD+vTpExDlQPwc1xAfsQPhhB8NLFSBwWaE0REG9MFr1INoCjuB7UisJcxCMnxDNYTWEmZjJM4iDERLWC4cQl+IprAp2IakmsJS4zQaQ7SEuZiDvYilKawG7qIWREtYdGzCRrhawkKhN56hHMTjsHHjxjnDhg2zIJ5iHQuCQniICQjrVdjo0aPdoUOHOhBPsEZUdIBgHa4hHsTbsIBPH9uLT5qa+ICxeI+eEC/DgO7duzsQTzC/Pp7jI7YhrW/Cgr9mISEVfG3lxwsYlILjfZj3QqMlvuIUBKIhLDLmwaCfprCkuI6jyKElzEFZGIyFqyUsHMbgE+pBtITFxWFcQE5NYbHwBvMQU1NYChgsgq0prDO+oS9EU9hs3EYxTWHhsA9nEEFTWHY8w3GIprC2MBijKSwZ1uMbcmsJi4ZheIfncLWERcYKGGxDKC1hyXASBmMRXtOpfIYv6KrpiMXFUbxBY1hawkJjLQyaQHSEAVthkFdTWETMw1dk1xQWGjPxAZX1hAGzYVBDU5iDcTBoC1tTWHcYjNATBrSCwVSIprCiMGikKwxIjugQT3wH7ULHnAeVvK4AAAAASUVORK5CYII=",iconSize:[38,95],iconAnchor:[22,94],popupAnchor:[0,-63],visible:!0},{title:"pointSet B",msg:"msg from pointSet B",points:[{title:"point B-1",msg:"msg from data B-1",latLng:[23.3,120.57]},{title:"point B-2",msg:"msg from data B-2",latLng:[23,120.87]}],visible:!1}]},action:[]}},mounted:function(){this.showOptJson()},watch:{opt:{handler:function(){this.showOptJson()},deep:!0}},methods:{showOptJson:function(){uL(this.opt,document.querySelector("#optjson"),{expanded:!0})}}};var vR=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[t._m(0),t._v(" "),e("div",{staticStyle:{display:"flex","padding-bottom":"20px"}},[e("div",{staticStyle:{padding:"0px 20px"}},[e("WLeafletVue",{staticStyle:{width:"800px",height:"500px"},attrs:{opt:t.opt}})],1),t._v(" "),t._m(1)])])};vR._withStripped=!0;const VR=US({render:vR,staticRenderFns:[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticStyle:{padding:"20px"}},[e("div",{staticStyle:{"font-size":"1.5rem"}},[t._v("pointSet.point.iconSrc,iconSize,iconAnchor,popupAnchor")]),t._v(" "),e("a",{staticClass:"item-link",attrs:{href:"//yuda-lyu.github.io/w-leaflet-vue/examples/ex-AppPNTPointSetPointIconSrcSizeAnchor.html",target:"_blank"}},[t._v("example")]),t._v(" "),e("a",{staticClass:"item-link",attrs:{href:"//github.com/yuda-lyu/w-leaflet-vue/blob/master/docs/examples/ex-AppPNTPointSetPointIconSrcSizeAnchor.html",target:"_blank"}},[t._v("code")])])},function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticStyle:{width:"600px",padding:"0px 20px 0px 0px",position:"relative"}},[e("div",{staticClass:"option-label"},[t._v("\n                opt example\n            ")]),t._v(" "),e("div",{staticStyle:{border:"1px solid #ddd"}},[e("div",{staticStyle:{"padding-left":"5px","overflow-y":"auto",height:"500px"}},[e("div",{staticStyle:{"font-size":"10pt"},attrs:{id:"optjson"}})])])])}]},(function(t){t&&t("data-v-27938058_0",{source:"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",map:{version:3,sources:[],names:[],mappings:"",file:"AppPNTPointSetPointIconSrcSizeAnchor.vue"},media:void 0})}),gR,undefined,false,undefined,!1,QS,void 0,void 0);const xR={components:{WLeafletVue:cL},data:function(){return{opt:{defPointSetsClick:function(t){console.log("defPointSetsClick",t)},pointSets:[{title:"pointSet A",msg:"msg from pointSet A",points:[{title:"point A-1",msg:"msg from data A-1",latLng:[24.2,121.27]},{title:"point A-2",msg:"msg from data A-2",latLng:[23.9,120.97]}],visible:!0},{title:"pointSet B",msg:"msg from pointSet B",points:[{title:"point B-1",msg:"msg from data B-1",latLng:[23.3,120.57]},{title:"point B-2",msg:"msg from data B-2",latLng:[23,120.87]}],visible:!1}]},action:[]}},mounted:function(){this.showOptJson()},watch:{opt:{handler:function(){this.showOptJson()},deep:!0}},methods:{showOptJson:function(){uL(this.opt,document.querySelector("#optjson"),{expanded:!0})}}};var SR=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[t._m(0),t._v(" "),e("div",{staticStyle:{display:"flex","padding-bottom":"20px"}},[e("div",{staticStyle:{padding:"0px 20px"}},[e("WLeafletVue",{staticStyle:{width:"800px",height:"500px"},attrs:{opt:t.opt}})],1),t._v(" "),t._m(1)])])};SR._withStripped=!0;const LR=US({render:SR,staticRenderFns:[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticStyle:{padding:"20px"}},[e("div",{staticStyle:{"font-size":"1.5rem"}},[t._v("defPointSetsClick")]),t._v(" "),e("a",{staticClass:"item-link",attrs:{href:"//yuda-lyu.github.io/w-leaflet-vue/examples/ex-AppPNTDefPointSetsClick.html",target:"_blank"}},[t._v("example")]),t._v(" "),e("a",{staticClass:"item-link",attrs:{href:"//github.com/yuda-lyu/w-leaflet-vue/blob/master/docs/examples/ex-AppPNTDefPointSetsClick.html",target:"_blank"}},[t._v("code")])])},function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticStyle:{width:"600px",padding:"0px 20px 0px 0px",position:"relative"}},[e("div",{staticClass:"option-label"},[t._v("\n                opt example\n            ")]),t._v(" "),e("div",{staticStyle:{border:"1px solid #ddd"}},[e("div",{staticStyle:{"padding-left":"5px","overflow-y":"auto",height:"500px"}},[e("div",{staticStyle:{"font-size":"10pt"},attrs:{id:"optjson"}})])])])}]},(function(t){t&&t("data-v-c6889a1e_0",{source:"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",map:{version:3,sources:[],names:[],mappings:"",file:"AppPNTDefPointSetsClick.vue"},media:void 0})}),xR,undefined,false,undefined,!1,QS,void 0,void 0);const RR={components:{WLeafletVue:cL},data:function(){return{opt:{defPointSetsClick:function(t){console.log("defPointSetsClick",t)},pointSets:[{title:"pointSet A",msg:"msg from pointSet A",points:[{title:"point A-1",msg:"msg from data A-1",latLng:[24.2,121.27]},{title:"point A-2",msg:"msg from data A-2",latLng:[23.9,120.97]}],visible:!0,click:function(t){console.log("pointSet[0] click",t)}},{title:"pointSet B",msg:"msg from pointSet B",points:[{title:"point B-1",msg:"msg from data B-1",latLng:[23.3,120.57]},{title:"point B-2",msg:"msg from data B-2",latLng:[23,120.87]}],visible:!1,click:function(t){console.log("pointSet[1] click",t)}}]},action:[]}},mounted:function(){this.showOptJson()},watch:{opt:{handler:function(){this.showOptJson()},deep:!0}},methods:{showOptJson:function(){uL(this.opt,document.querySelector("#optjson"),{expanded:!0})}}};var KR=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[t._m(0),t._v(" "),e("div",{staticStyle:{display:"flex","padding-bottom":"20px"}},[e("div",{staticStyle:{padding:"0px 20px"}},[e("WLeafletVue",{staticStyle:{width:"800px",height:"500px"},attrs:{opt:t.opt}})],1),t._v(" "),t._m(1)])])};KR._withStripped=!0;const HR=US({render:KR,staticRenderFns:[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticStyle:{padding:"20px"}},[e("div",{staticStyle:{"font-size":"1.5rem"}},[t._v("pointSet.click")]),t._v(" "),e("a",{staticClass:"item-link",attrs:{href:"//yuda-lyu.github.io/w-leaflet-vue/examples/ex-AppPNTPointSetClick.html",target:"_blank"}},[t._v("example")]),t._v(" "),e("a",{staticClass:"item-link",attrs:{href:"//github.com/yuda-lyu/w-leaflet-vue/blob/master/docs/examples/ex-AppPNTPointSetClick.html",target:"_blank"}},[t._v("code")])])},function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticStyle:{width:"600px",padding:"0px 20px 0px 0px",position:"relative"}},[e("div",{staticClass:"option-label"},[t._v("\n                opt example\n            ")]),t._v(" "),e("div",{staticStyle:{border:"1px solid #ddd"}},[e("div",{staticStyle:{"padding-left":"5px","overflow-y":"auto",height:"500px"}},[e("div",{staticStyle:{"font-size":"10pt"},attrs:{id:"optjson"}})])])])}]},(function(t){t&&t("data-v-20c69d70_0",{source:"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",map:{version:3,sources:[],names:[],mappings:"",file:"AppPNTPointSetClick.vue"},media:void 0})}),RR,undefined,false,undefined,!1,QS,void 0,void 0);const CR={components:{WLeafletVue:cL},data:function(){return{opt:{defPointSetsClick:function(t){console.log("defPointSetsClick",t)},pointSets:[{title:"pointSet A",msg:"msg from pointSet A",points:[{title:"point A-1",msg:"msg from data A-1",latLng:[24.2,121.27],click:function(t){console.log("pointSet[0].point[0] click",t)}},{title:"point A-2",msg:"msg from data A-2",latLng:[23.9,120.97],click:function(t){console.log("pointSet[0].point[1] click",t)}}],visible:!0,click:function(t){console.log("pointSet[0] click",t)}},{title:"pointSet B",msg:"msg from pointSet B",points:[{title:"point B-1",msg:"msg from data B-1",latLng:[23.3,120.57],click:function(t){console.log("pointSet[1].point[0] click",t)}},{title:"point B-2",msg:"msg from data B-2",latLng:[23,120.87],click:function(t){console.log("pointSet[1].point[1] click",t)}}],visible:!1,click:function(t){console.log("pointSet[1] click",t)}}]},action:[]}},mounted:function(){this.showOptJson()},watch:{opt:{handler:function(){this.showOptJson()},deep:!0}},methods:{showOptJson:function(){uL(this.opt,document.querySelector("#optjson"),{expanded:!0})}}};var YR=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[t._m(0),t._v(" "),e("div",{staticStyle:{display:"flex","padding-bottom":"20px"}},[e("div",{staticStyle:{padding:"0px 20px"}},[e("WLeafletVue",{staticStyle:{width:"800px",height:"500px"},attrs:{opt:t.opt}})],1),t._v(" "),t._m(1)])])};YR._withStripped=!0;const TR=US({render:YR,staticRenderFns:[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticStyle:{padding:"20px"}},[e("div",{staticStyle:{"font-size":"1.5rem"}},[t._v("pointSet.point.click")]),t._v(" "),e("a",{staticClass:"item-link",attrs:{href:"//yuda-lyu.github.io/w-leaflet-vue/examples/ex-AppPNTPointSetPointClick.html",target:"_blank"}},[t._v("example")]),t._v(" "),e("a",{staticClass:"item-link",attrs:{href:"//github.com/yuda-lyu/w-leaflet-vue/blob/master/docs/examples/ex-AppPNTPointSetPointClick.html",target:"_blank"}},[t._v("code")])])},function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticStyle:{width:"600px",padding:"0px 20px 0px 0px",position:"relative"}},[e("div",{staticClass:"option-label"},[t._v("\n                opt example\n            ")]),t._v(" "),e("div",{staticStyle:{border:"1px solid #ddd"}},[e("div",{staticStyle:{"padding-left":"5px","overflow-y":"auto",height:"500px"}},[e("div",{staticStyle:{"font-size":"10pt"},attrs:{id:"optjson"}})])])])}]},(function(t){t&&t("data-v-54e0bc40_0",{source:"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",map:{version:3,sources:[],names:[],mappings:"",file:"AppPNTPointSetPointClick.vue"},media:void 0})}),CR,undefined,false,undefined,!1,QS,void 0,void 0);const MR={components:{WLeafletVue:cL},data:function(){return{opt:{defPointSetsPopup:function(t){console.log("defPointSetsPopup",t);var n="";return n+='<div style="padding:15px;">',n+='<div style="color:#222; font-size:0.9rem; margin-bottom:5px; white-space:nowrap;"><span style="color:#62f;">[Popup>pointSets]</span> '+t.point.title+"</div>",n+='<div style="color:#aaa;">'+t.point.msg+"</div>",n+="</div>"},pointSets:[{title:"Lakes",msg:"tears of the mountains",points:[{title:"Ming Chi(明池)",msg:"Yingshi Village, Datong Township, Yilan County, Taiwan(台灣宜蘭縣大同鄉英士村)",latLng:[24.6508143,121.4716748]},{title:"Jiaming Lake(嘉明湖)",msg:"Haiduan Township, Taitung County, Taiwan(台灣台東縣海端鄉)",latLng:[23.2933843,121.0341861]}],visible:!0},{title:"pointSet B",msg:"msg from pointSet B",points:[{title:"point B-1",msg:"msg from data B-1",latLng:[22.8,120.37]},{title:"point B-2",msg:"msg from data B-2",latLng:[22.4,120.67]}],visible:!1}]},action:[]}},mounted:function(){this.showOptJson()},watch:{opt:{handler:function(){this.showOptJson()},deep:!0}},methods:{showOptJson:function(){uL(this.opt,document.querySelector("#optjson"),{expanded:!0})}}};var wR=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[t._m(0),t._v(" "),e("div",{staticStyle:{display:"flex","padding-bottom":"20px"}},[e("div",{staticStyle:{padding:"0px 20px"}},[e("WLeafletVue",{staticStyle:{width:"800px",height:"500px"},attrs:{opt:t.opt}})],1),t._v(" "),t._m(1)])])};wR._withStripped=!0;const PR=US({render:wR,staticRenderFns:[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticStyle:{padding:"20px"}},[e("div",{staticStyle:{"font-size":"1.5rem"}},[t._v("defPointSetsPopup")]),t._v(" "),e("a",{staticClass:"item-link",attrs:{href:"//yuda-lyu.github.io/w-leaflet-vue/examples/ex-AppPNTDefPointSetsPopup.html",target:"_blank"}},[t._v("example")]),t._v(" "),e("a",{staticClass:"item-link",attrs:{href:"//github.com/yuda-lyu/w-leaflet-vue/blob/master/docs/examples/ex-AppPNTDefPointSetsPopup.html",target:"_blank"}},[t._v("code")])])},function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticStyle:{width:"600px",padding:"0px 20px 0px 0px",position:"relative"}},[e("div",{staticClass:"option-label"},[t._v("\n                opt example\n            ")]),t._v(" "),e("div",{staticStyle:{border:"1px solid #ddd"}},[e("div",{staticStyle:{"padding-left":"5px","overflow-y":"auto",height:"500px"}},[e("div",{staticStyle:{"font-size":"10pt"},attrs:{id:"optjson"}})])])])}]},(function(t){t&&t("data-v-51297a88_0",{source:"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",map:{version:3,sources:[],names:[],mappings:"",file:"AppPNTDefPointSetsPopup.vue"},media:void 0})}),MR,undefined,false,undefined,!1,QS,void 0,void 0);const IR={components:{WLeafletVue:cL},data:function(){return{opt:{defPointSetsPopup:function(t){console.log("defPointSetsPopup",t);var n="";return n+='<div style="padding:15px;">',n+='<div style="color:#222; font-size:0.9rem; margin-bottom:5px; white-space:nowrap;"><span style="color:#62f;">[Popup>pointSets]</span> '+t.point.title+"</div>",n+='<div style="color:#aaa;">'+t.point.msg+"</div>",n+="</div>"},pointSets:[{title:"Lakes",msg:"tears of the mountains",points:[{title:"Ming Chi(明池)",msg:"Yingshi Village, Datong Township, Yilan County, Taiwan(台灣宜蘭縣大同鄉英士村)",latLng:[24.6508143,121.4716748]},{title:"Jiaming Lake(嘉明湖)",msg:"Haiduan Township, Taitung County, Taiwan(台灣台東縣海端鄉)",latLng:[23.2933843,121.0341861]}],visible:!0,popup:function(t){console.log("pointSet[0] popup",t);var n="";return n+='<div style="padding:15px;">',n+='<div style="color:#222; font-size:0.9rem; white-space:nowrap;"><span style="color:#f26;">[Popup>pointSet:'+t.pointSet.title+"]</span> "+t.point.title+"</div>",n+='<div style="color:#aaa;">'+t.point.msg+"</div>",n+="</div>"}},{title:"pointSet B",msg:"msg from pointSet B",points:[{title:"point B-1",msg:"msg from data B-1",latLng:[22.8,120.37]},{title:"point B-2",msg:"msg from data B-2",latLng:[22.4,120.67]}],visible:!1,popup:function(t){console.log("pointSet[1] popup",t);var n="";return n+='<div style="padding:15px;">',n+='<div style="color:#222; font-size:0.9rem; white-space:nowrap;"><span style="color:#f26;">[Popup>pointSet:'+t.pointSet.title+"]</span> "+t.point.title+"</div>",n+='<div style="color:#aaa;">'+t.point.msg+"</div>",n+="</div>"}},{title:"pointSet C",msg:"msg from pointSet C",points:[{title:"point C-1",msg:"msg from data B-1",latLng:[21.95,120.797]}],visible:!1}]},action:[]}},mounted:function(){this.showOptJson()},watch:{opt:{handler:function(){this.showOptJson()},deep:!0}},methods:{showOptJson:function(){uL(this.opt,document.querySelector("#optjson"),{expanded:!0})}}};var zR=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[t._m(0),t._v(" "),e("div",{staticStyle:{display:"flex","padding-bottom":"20px"}},[e("div",{staticStyle:{padding:"0px 20px"}},[e("WLeafletVue",{staticStyle:{width:"800px",height:"500px"},attrs:{opt:t.opt}})],1),t._v(" "),t._m(1)])])};zR._withStripped=!0;const JR=US({render:zR,staticRenderFns:[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticStyle:{padding:"20px"}},[e("div",{staticStyle:{"font-size":"1.5rem"}},[t._v("pointSet.popup")]),t._v(" "),e("a",{staticClass:"item-link",attrs:{href:"//yuda-lyu.github.io/w-leaflet-vue/examples/ex-AppPNTPointSetPopup.html",target:"_blank"}},[t._v("example")]),t._v(" "),e("a",{staticClass:"item-link",attrs:{href:"//github.com/yuda-lyu/w-leaflet-vue/blob/master/docs/examples/ex-AppPNTPointSetPopup.html",target:"_blank"}},[t._v("code")])])},function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticStyle:{width:"600px",padding:"0px 20px 0px 0px",position:"relative"}},[e("div",{staticClass:"option-label"},[t._v("\n                opt example\n            ")]),t._v(" "),e("div",{staticStyle:{border:"1px solid #ddd"}},[e("div",{staticStyle:{"padding-left":"5px","overflow-y":"auto",height:"500px"}},[e("div",{staticStyle:{"font-size":"10pt"},attrs:{id:"optjson"}})])])])}]},(function(t){t&&t("data-v-57ddb37d_0",{source:"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",map:{version:3,sources:[],names:[],mappings:"",file:"AppPNTPointSetPopup.vue"},media:void 0})}),IR,undefined,false,undefined,!1,QS,void 0,void 0);const NR={components:{WLeafletVue:cL},data:function(){return{opt:{defPointSetsPopup:function(t){console.log("defPointSetsPopup",t);var n="";return n+='<div style="padding:15px;">',n+='<div style="color:#222; font-size:0.9rem; margin-bottom:5px; white-space:nowrap;"><span style="color:#62f;">[Popup>pointSets]</span> '+t.point.title+"</div>",n+='<div style="color:#aaa;">'+t.point.msg+"</div>",n+="</div>"},pointSets:[{title:"Lakes",msg:"tears of the mountains",points:[{title:"Ming Chi(明池)",msg:"Yingshi Village, Datong Township, Yilan County, Taiwan(台灣宜蘭縣大同鄉英士村)",latLng:[24.6508143,121.4716748],popup:function(t){console.log("pointSet[0].point[0] popup",t);var n="";return n+='<div style="padding:15px;">',n+='<div style="color:#222; font-size:0.9rem; white-space:nowrap;"><span style="color:#f83;">[Popup>point]</span> '+t.point.title+"</div>",n+='<div style="color:#aaa;">'+t.point.msg+"</div>",n+="</div>"}},{title:"Jiaming Lake(嘉明湖)",msg:"Haiduan Township, Taitung County, Taiwan(台灣台東縣海端鄉)",latLng:[23.2933843,121.0341861]}],visible:!0,popup:function(t){console.log("pointSet[0] popup",t);var n="";return n+='<div style="padding:15px;">',n+='<div style="color:#222; font-size:0.9rem; white-space:nowrap;"><span style="color:#f26;">[Popup>pointSet:'+t.pointSet.title+"]</span> "+t.point.title+"</div>",n+='<div style="color:#aaa;">'+t.point.msg+"</div>",n+="</div>"}},{title:"pointSet B",msg:"msg from pointSet B",points:[{title:"point B-1",msg:"msg from data B-1",latLng:[22.8,120.37]},{title:"point B-2",msg:"msg from data B-2",latLng:[22.4,120.67]}],visible:!1,popup:function(t){console.log("pointSet[1] popup",t);var n="";return n+='<div style="padding:15px;">',n+='<div style="color:#222; font-size:0.9rem; white-space:nowrap;"><span style="color:#f26;">[Popup>pointSet:'+t.pointSet.title+"]</span> "+t.point.title+"</div>",n+='<div style="color:#aaa;">'+t.point.msg+"</div>",n+="</div>"}},{title:"pointSet C",msg:"msg from pointSet C",points:[{title:"point C-1",msg:"msg from data B-1",latLng:[21.95,120.797]}],visible:!1}]},action:[]}},mounted:function(){this.showOptJson()},watch:{opt:{handler:function(){this.showOptJson()},deep:!0}},methods:{showOptJson:function(){uL(this.opt,document.querySelector("#optjson"),{expanded:!0})}}};var FR=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[t._m(0),t._v(" "),e("div",{staticStyle:{display:"flex","padding-bottom":"20px"}},[e("div",{staticStyle:{padding:"0px 20px"}},[e("WLeafletVue",{staticStyle:{width:"800px",height:"500px"},attrs:{opt:t.opt}})],1),t._v(" "),t._m(1)])])};FR._withStripped=!0;const kR=US({render:FR,staticRenderFns:[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticStyle:{padding:"20px"}},[e("div",{staticStyle:{"font-size":"1.5rem"}},[t._v("pointSet.point.popup")]),t._v(" "),e("a",{staticClass:"item-link",attrs:{href:"//yuda-lyu.github.io/w-leaflet-vue/examples/ex-AppPNTPointSetPointPopup.html",target:"_blank"}},[t._v("example")]),t._v(" "),e("a",{staticClass:"item-link",attrs:{href:"//github.com/yuda-lyu/w-leaflet-vue/blob/master/docs/examples/ex-AppPNTPointSetPointPopup.html",target:"_blank"}},[t._v("code")])])},function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticStyle:{width:"600px",padding:"0px 20px 0px 0px",position:"relative"}},[e("div",{staticClass:"option-label"},[t._v("\n                opt example\n            ")]),t._v(" "),e("div",{staticStyle:{border:"1px solid #ddd"}},[e("div",{staticStyle:{"padding-left":"5px","overflow-y":"auto",height:"500px"}},[e("div",{staticStyle:{"font-size":"10pt"},attrs:{id:"optjson"}})])])])}]},(function(t){t&&t("data-v-488e0764_0",{source:"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",map:{version:3,sources:[],names:[],mappings:"",file:"AppPNTPointSetPointPopup.vue"},media:void 0})}),NR,undefined,false,undefined,!1,QS,void 0,void 0);const BR={components:{WLeafletVue:cL},data:function(){return{opt:{defPointSetsTooltip:function(t){console.log("defPointSetsTooltip",t);var n="";return n+='<div style="padding:5px 10px;">',n+='<div style="color:#222; font-size:0.9rem; margin-bottom:5px; white-space:nowrap;"><span style="color:#62f;">[Tooltip>pointSets]</span> '+t.point.title+"</div>",n+='<div style="color:#aaa; white-space:normal;">'+t.point.msg+"</div>",n+="</div>"},pointSets:[{title:"Lakes",msg:"tears of the mountains",points:[{title:"Ming Chi(明池)",msg:"Yingshi Village, Datong Township, Yilan County, Taiwan(台灣宜蘭縣大同鄉英士村)",latLng:[24.6508143,121.4716748]},{title:"Jiaming Lake(嘉明湖)",msg:"Haiduan Township, Taitung County, Taiwan(台灣台東縣海端鄉)",latLng:[23.2933843,121.0341861]}],visible:!0},{title:"pointSet B",msg:"msg from pointSet B",points:[{title:"point B-1",msg:"msg from data B-1",latLng:[22.8,120.37]},{title:"point B-2",msg:"msg from data B-2",latLng:[22.4,120.67]}],visible:!1}]},action:[]}},mounted:function(){this.showOptJson()},watch:{opt:{handler:function(){this.showOptJson()},deep:!0}},methods:{showOptJson:function(){uL(this.opt,document.querySelector("#optjson"),{expanded:!0})}}};var _R=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[t._m(0),t._v(" "),e("div",{staticStyle:{display:"flex","padding-bottom":"20px"}},[e("div",{staticStyle:{padding:"0px 20px"}},[e("WLeafletVue",{staticStyle:{width:"800px",height:"500px"},attrs:{opt:t.opt}})],1),t._v(" "),t._m(1)])])};_R._withStripped=!0;const UR=US({render:_R,staticRenderFns:[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticStyle:{padding:"20px"}},[e("div",{staticStyle:{"font-size":"1.5rem"}},[t._v("defPointSetsTooltip")]),t._v(" "),e("a",{staticClass:"item-link",attrs:{href:"//yuda-lyu.github.io/w-leaflet-vue/examples/ex-AppPNTDefPointSetsTooltip.html",target:"_blank"}},[t._v("example")]),t._v(" "),e("a",{staticClass:"item-link",attrs:{href:"//github.com/yuda-lyu/w-leaflet-vue/blob/master/docs/examples/ex-AppPNTDefPointSetsTooltip.html",target:"_blank"}},[t._v("code")])])},function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticStyle:{width:"600px",padding:"0px 20px 0px 0px",position:"relative"}},[e("div",{staticClass:"option-label"},[t._v("\n                opt example\n            ")]),t._v(" "),e("div",{staticStyle:{border:"1px solid #ddd"}},[e("div",{staticStyle:{"padding-left":"5px","overflow-y":"auto",height:"500px"}},[e("div",{staticStyle:{"font-size":"10pt"},attrs:{id:"optjson"}})])])])}]},(function(t){t&&t("data-v-7f08fa7b_0",{source:"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",map:{version:3,sources:[],names:[],mappings:"",file:"AppPNTDefPointSetsTooltip.vue"},media:void 0})}),BR,undefined,false,undefined,!1,QS,void 0,void 0);const ER={components:{WLeafletVue:cL},data:function(){return{opt:{defPointSetsTooltip:function(t){console.log("defPointSetsTooltip",t);var n="";return n+='<div style="padding:5px 10px;">',n+='<div style="color:#222; font-size:0.9rem; margin-bottom:5px; white-space:nowrap;"><span style="color:#62f;">[Tooltip>pointSets]</span> '+t.point.title+"</div>",n+='<div style="color:#aaa; white-space:normal;">'+t.point.msg+"</div>",n+="</div>"},pointSets:[{title:"Lakes",msg:"tears of the mountains",points:[{title:"Ming Chi(明池)",msg:"Yingshi Village, Datong Township, Yilan County, Taiwan(台灣宜蘭縣大同鄉英士村)",latLng:[24.6508143,121.4716748]},{title:"Jiaming Lake(嘉明湖)",msg:"Haiduan Township, Taitung County, Taiwan(台灣台東縣海端鄉)",latLng:[23.2933843,121.0341861]}],visible:!0,tooltip:function(t){console.log("pointSet[0] tooltip",t);var n="";return n+='<div style="padding:5px 10px;">',n+='<div style="color:#222; font-size:0.9rem; margin-bottom:5px; white-space:nowrap;"><span style="color:#f26;">[Tooltip>pointSet:'+t.pointSet.title+"]</span> "+t.point.title+"</div>",n+='<div style="color:#aaa; white-space:normal;">'+t.point.msg+"</div>",n+="</div>"}},{title:"pointSet B",msg:"msg from pointSet B",points:[{title:"point B-1",msg:"msg from data B-1",latLng:[22.8,120.37]},{title:"point B-2",msg:"msg from data B-2",latLng:[22.4,120.67]}],visible:!1}]},action:[]}},mounted:function(){this.showOptJson()},watch:{opt:{handler:function(){this.showOptJson()},deep:!0}},methods:{showOptJson:function(){uL(this.opt,document.querySelector("#optjson"),{expanded:!0})}}};var jR=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[t._m(0),t._v(" "),e("div",{staticStyle:{display:"flex","padding-bottom":"20px"}},[e("div",{staticStyle:{padding:"0px 20px"}},[e("WLeafletVue",{staticStyle:{width:"800px",height:"500px"},attrs:{opt:t.opt}})],1),t._v(" "),t._m(1)])])};jR._withStripped=!0;const QR=US({render:jR,staticRenderFns:[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticStyle:{padding:"20px"}},[e("div",{staticStyle:{"font-size":"1.5rem"}},[t._v("pointSet.tooltip")]),t._v(" "),e("a",{staticClass:"item-link",attrs:{href:"//yuda-lyu.github.io/w-leaflet-vue/examples/ex-AppPNTPointSetTooltip.html",target:"_blank"}},[t._v("example")]),t._v(" "),e("a",{staticClass:"item-link",attrs:{href:"//github.com/yuda-lyu/w-leaflet-vue/blob/master/docs/examples/ex-AppPNTPointSetTooltip.html",target:"_blank"}},[t._v("code")])])},function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticStyle:{width:"600px",padding:"0px 20px 0px 0px",position:"relative"}},[e("div",{staticClass:"option-label"},[t._v("\n                opt example\n            ")]),t._v(" "),e("div",{staticStyle:{border:"1px solid #ddd"}},[e("div",{staticStyle:{"padding-left":"5px","overflow-y":"auto",height:"500px"}},[e("div",{staticStyle:{"font-size":"10pt"},attrs:{id:"optjson"}})])])])}]},(function(t){t&&t("data-v-84540260_0",{source:"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",map:{version:3,sources:[],names:[],mappings:"",file:"AppPNTPointSetTooltip.vue"},media:void 0})}),ER,undefined,false,undefined,!1,QS,void 0,void 0);const OR={components:{WLeafletVue:cL},data:function(){return{opt:{defPointSetsTooltip:function(t){console.log("defPointSetsTooltip",t);var n="";return n+='<div style="padding:5px 10px;">',n+='<div style="color:#222; font-size:0.9rem; margin-bottom:5px; white-space:nowrap;"><span style="color:#62f;">[Tooltip>pointSets]</span> '+t.point.title+"</div>",n+='<div style="color:#aaa; white-space:normal;">'+t.point.msg+"</div>",n+="</div>"},pointSets:[{title:"Lakes",msg:"tears of the mountains",points:[{title:"Ming Chi(明池)",msg:"Yingshi Village, Datong Township, Yilan County, Taiwan(台灣宜蘭縣大同鄉英士村)",latLng:[24.6508143,121.4716748],iconSrc:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACYAAABfCAYAAACEELWnAAAKp0lEQVR4AcyVA5QsxxtHa/1nbNu2ubZtPK+9O2/jHMTGcWzbto2nwZqxNqncrjfVXdNnnqM953bdLnzfb3p2ZsTf8bfDDjtEwf6wMUSAcKPlryYKLoQhEP+gYIoyuPefGGxzeAl2+YcFU7SDZ5XBpusHIkBMzzljO8adQMD/YN/pusUbgwjyP8c3HHofBjfBf8MGI9D8yZr+++FWwnzEoeVTdYsfwZ/B34HnphoGrmXsm6obOI+1xqlaTzbsBGJ9oXccXAbJYYPRaJ/JGo8cK+uWEzX9kgCSg3JKj9oB/xEm4AeQ8DlcwvnTQKwr9D8d+iAiXLCtp2o8b49X9Mjh4g45UtYpeVoqEIehP8TBdNbs+5/gIZg7UePZCcTaQIZbIBM2DwlG00g2XGw1majut8IpJqr6pJozQuDsWbWD6Q9MVPdVwa7jVX0RINxsvu02kWQoBy/sYgZTUCQJZkGOV/bJwfxWOVjQrp6E0Qj6VGDTx6s9joPhv45X908wPgrFIMJB/2q4FbYKF2wzii0ZNxoNFbRKX3Yj/3tdKohaq3QC6HvDYZX+/Xhl74NjFb0J8B8QGvo3QiX83x3MSh7N4etBUsAuOlLSIX05jby1nWp+rAJY0w6mA2vawXFYuW8KztOhTtx7f+uTeTacBFHuYAo2VoN0M1jYJpelz+etbeNpeZy1coXLe7RDt/qk48Gxx6Gs65FfagYOuTel4oTYLTcboP++q/zmp8DOHAo4RXrVyKtWT255+jzpzVooR0u7gsX1yH4cQr00xDkX6j9VD7zQfvTp98RsuVln7FabbwlCo8WGg4/ZBcDtKzIXwgKCdgab2I0AL+kK44CD6Wr9tey5cvGxyUUgTLTYcHCOWcDtI/yvLU1tkEtSGuRQUYcKZa8R1nQIXQPtGuv8sqK2936q8GwLQqPFhs27cnjcLGA6IdXb5c1pll8k1/LBWKS+89R6MTBqHzacPdy7vQNU/d8Yrx4u6vw3CAt1MaFQFIduDFcMcKepN3uh/CKpRo0EZr7L3kctRtCuML3ddJ5+58941qqCKSjGBjbq4kUOQ4VB55PKW0moRfLT+Eq5JLWe7z2rMVhrhdbYbjuNHYfhAu1gOeB3Dua3x4EQ1sUNBf9PkXd0cUYHfR8srMLmt8vPeXKfJ1ZLf26z3Yhajhc4bmDuY0/HDL7DqoIp2NiuiuW7Cpieb7sK9FlCpfwssQpv4gV1qnmbPLXPJmDMB/Ls+dnB3LZKEIJLWNgUwaFpdwHTQbkiv0MGclt5ctXyo1OL+UKep+7tfbkttjMf4mB6E0QLLmEhQBSbPa4Cq3bQQZekNRCuSH6Z0mC/CH+Os8/tYPrFeMyqgin8ue1bMy61i0HYYi588CUfhg9OKZSfJlQx18zetuB6iwI37x3PbrkNhOCyWjiQxYFfQPqynQJAgDbHs4159vGi+AmbT7h89fSWZyxQ8wpq2A5+2yGr5UIQgssa4cD1IFcFe6A59F55q1yRsVB+cGqB/PCUAvVb62cu5Az4Mx2HeaxFrG2w/3DgttBizabDKl09uQ9PLZTvnZjDh6NWetV8CzS7mYFdOBsluKwtO3PoMfhFNc5wCrocmkI8wAvyEuTj+HL5zomZ8rPTK6Q3vVGtgd73HVwKwkJd1hZ/RtNmFHnAZxVN10WBe9PBdEI4/gm/Eu+ckKreWm8av7MZLUCo9MYrYE8QFuqyrnjTGi/3pS2ctRrisEgHCPoiNa/XzH0r4FPryZ2QJj8+MVu+H1/99RuJ9eezJ2YiszUChIW6rCs02YImnTDsTaUZeEE7OJ6iHBwfSm+WSxLr5FWHnywL9zn4DRButKwX3tTGNG9q0+v+tJZZb0qT1RgWyuWMtoPp3pRGGUhtlG/GF8qUPfeVMVtv+dGm2269NwgTLevNh/ElG799avbTnyXWrmyc2iwJqcI5oRqDzvh7s/Yc3si3B2D8lD97Xa5tJ51MWK1t27Zt27Ztb91e27at9nvfyW32rlE8z/njM2qbvD1n4iSOYPq6yB23KT1rVpeyERH/4Wl9lSJ9t+eB3RmWYnhm3DHsOQ8Nt2SayfIFd0f/Cf6dhMGEjJbvJQyTb8cPZJ+HKU93yXG2lWteQ257TVluNpHSERF/jYmKioR6nLUokJQ4z7sP49yjHsS5//jQcMkDwwk4XPLQ4ZZUh09SzQTJcrYmOMl//D4utTblUnuXnOntlT0dTSkfG/VHo2KF4VCPsxZvLM3uCUuzu/um2t25BAqBcIHAOKfcjzPlvgHWN1yG3GCELrcmpptbznew1h65lmTKrWRTkqpUlvZVquxe17TRB1AB1uKNETYC30+1eyQgJc7N2snaJXcMh9x2OeRyW5dc4crPd3TL1QRTruOWw/BH3zUNSTEdMqZWLXFUriiNy5cPgwqwFq8twx4fjKYZdt8v0u1eSSeItT/KcsvtkJteh1xNNP1B1j78sfeIeWC4iHJa23AwvQ7Z2aSJfFi27C/LREQ0gAqwFq8t05ZYP8MW/5A4fxDTKXcNQ+5xBUwNa0PuOgmxphbWNDPd8oAwEAWiLPeQwjl3tFkzaVq+fF6ZiHIjoQKsxWvJsiXFZtuSjlgxqTb/CARGwX9iM4pWaP6aID/iCMKj85Dfh/PRyOWYrlxHpYpSuly569zSw9747iLHljSDEchNt/m4Iq9k2BLE2s5knckIEpSP6QVxcD8W6IX7/4Hg1vzvG3FGOpe/MSIy4i+sa75xGBi1xIGM3NFsW4sfs/4PCEsUphc+EJw/zQGPBxIHD9xwSY7hPbemfuPYd8uW7sTlC0YVKCzblvg2ItAVs3EH/yDur7BGjzBCiQN8+YGex6f3T7ACF37dTKgL9UGZMi24/L/gyKvDXh0ZiqqYlGVLXoWNjOAdAr9M4D8YRSvu58R9Pz/wKzhD4HRGsBZTGg5l4WHJejv9J/g+Yh8PKzSiPkFtwhqgAmFOprcL6hAYnW73NYF62of/ew+2Pn4HQblAWJEjLAjqdfE35fEt/BruV4YNGzYsaOLEiUGzZs2yqOLCdQVhDQTjEPzK/37q1KlWVAhUMcf1xD9xA+8oFjoIQhsILuMtPcKAKfgzukHpFPYFXEe0LmFBKI88tEO4LmHBWIiv4i0oXcIaIwVToXQKW4NriNUprAq+jN5QuoSFYgvuoqROYR3wU3SC0iXsU1zCRYTqEhaGyfgdkqAKHLZ8+fKQ+fPnB0EV1GPfEjDwS6zA24UKW7JkSei8efNCoAqCy/gYI6BwDt9DWajChllPfYIL8ZSmI/6Bpfg7JkIVMgyYMGFCCFRB8Pfd8Xv8E9dQrcjCrGezUG8ocG7Z8AcIfAgpfFjhhWMgcvElKIsOYR9iHwTTdAqLxfeRjoa6hIUgEYKlCNUl7B0swb/QDUqXsDJIxTfQSKewkvgL9qGETmEVITiEYJ3CRiMPU6F0CtuMH8OlU9g7uIev4D2dwhrgd/g8lE5hQyFYolNYeZxHHproEvYJ5uFv+D1CdQn7ECcguIYwXcLK44sQLMW7Ok3l7/AfjNVpxMogHX9BbwTpEhaOsxD0gdIjDLgKQTOdwt7HPuSigU5h4diIf6C1blO5GYIOOoWFYBkEQxGsU9h4CBboEwYMgmCtbueYE4JeeoUBFfApVEH8Fw0OQMRHom/JAAAAAElFTkSuQmCC",iconSize:[38,95],iconAnchor:[22,94],popupAnchor:[0,-70],tooltip:function(t){console.log("pointSet[0].point[0] tooltip",t);var n="";return n+='<div style="padding:5px 10px;">',n+='<div style="color:#222; font-size:0.9rem; margin-bottom:5px; white-space:nowrap;"><span style="color:#f83;">[Tooltip>point]</span> '+t.point.title+"</div>",n+='<div style="color:#aaa; white-space:normal;">'+t.point.msg+"</div>",n+="</div>"}},{title:"Jiaming Lake(嘉明湖)",msg:"Haiduan Township, Taitung County, Taiwan(台灣台東縣海端鄉)",latLng:[23.2933843,121.0341861]}],visible:!0,tooltip:function(t){console.log("pointSet[0] tooltip",t);var n="";return n+='<div style="padding:5px 10px;">',n+='<div style="color:#222; font-size:0.9rem; margin-bottom:5px; white-space:nowrap;"><span style="color:#f26;">[Tooltip>pointSet:'+t.pointSet.title+"]</span> "+t.point.title+"</div>",n+='<div style="color:#aaa; white-space:normal;">'+t.point.msg+"</div>",n+="</div>"}},{title:"pointSet B",msg:"msg from pointSet B",points:[{title:"point B-1",msg:"msg from data B-1",latLng:[22.8,120.37]},{title:"point B-2",msg:"msg from data B-2",latLng:[22.4,120.67]}],visible:!1}]},action:[]}},mounted:function(){this.showOptJson()},watch:{opt:{handler:function(){this.showOptJson()},deep:!0}},methods:{showOptJson:function(){uL(this.opt,document.querySelector("#optjson"),{expanded:!0})}}};var AR=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[t._m(0),t._v(" "),e("div",{staticStyle:{display:"flex","padding-bottom":"20px"}},[e("div",{staticStyle:{padding:"0px 20px"}},[e("WLeafletVue",{staticStyle:{width:"800px",height:"500px"},attrs:{opt:t.opt}})],1),t._v(" "),t._m(1)])])};AR._withStripped=!0;const DR=US({render:AR,staticRenderFns:[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticStyle:{padding:"20px"}},[e("div",{staticStyle:{"font-size":"1.5rem"}},[t._v("pointSet.point.tooltip")]),t._v(" "),e("a",{staticClass:"item-link",attrs:{href:"//yuda-lyu.github.io/w-leaflet-vue/examples/ex-AppPNTPointSetPointTooltip.html",target:"_blank"}},[t._v("example")]),t._v(" "),e("a",{staticClass:"item-link",attrs:{href:"//github.com/yuda-lyu/w-leaflet-vue/blob/master/docs/examples/ex-AppPNTPointSetPointTooltip.html",target:"_blank"}},[t._v("code")])])},function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticStyle:{width:"600px",padding:"0px 20px 0px 0px",position:"relative"}},[e("div",{staticClass:"option-label"},[t._v("\n                opt example\n            ")]),t._v(" "),e("div",{staticStyle:{border:"1px solid #ddd"}},[e("div",{staticStyle:{"padding-left":"5px","overflow-y":"auto",height:"500px"}},[e("div",{staticStyle:{"font-size":"10pt"},attrs:{id:"optjson"}})])])])}]},(function(t){t&&t("data-v-74ed4479_0",{source:"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",map:{version:3,sources:[],names:[],mappings:"",file:"AppPNTPointSetPointTooltip.vue"},media:void 0})}),OR,undefined,false,undefined,!1,QS,void 0,void 0);const qR={components:{WLeafletVue:cL},data:function(){return{opt:{center:[25,121.58],zoom:10,polygonSets:[{title:"polygonSet A",msg:"msg from polygonSet A",latLngs:[[[24.96,121.41],[25.11,121.47],[25.06,121.69],[24.99,121.61],[24.95,121.53]],[[24.98,121.45],[25.07,121.49],[25.06,121.54],[25,121.5]],[[25.017,121.48],[25.032,121.49],[25.036,121.5],[25.02,121.502]],[[24.99,121.54],[25.056,121.56],[25.05,121.61],[25,121.59]],[[24.92,121.6],[25.045,121.75],[24.99,121.79],[24.93,121.74]],[[24.961,121.523],[24.979,121.551],[24.95,121.674],[24.887,121.606]]],visible:!0},{title:"polygonSet B",msg:"msg from polygonSet B",latLngs:[[[24.971,121.372],[24.976,121.434],[24.937,121.473],[24.918,121.418]],[[24.9,121.14],[24.97,121.09],[25.05,121.177],[24.95,121.32]]],visible:!1}]},action:[]}},mounted:function(){this.showOptJson()},watch:{opt:{handler:function(){this.showOptJson()},deep:!0}},methods:{showOptJson:function(){uL(this.opt,document.querySelector("#optjson"),{expanded:!0})}}};var $R=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[t._m(0),t._v(" "),e("div",{staticStyle:{display:"flex","padding-bottom":"20px"}},[e("div",{staticStyle:{padding:"0px 20px"}},[e("WLeafletVue",{staticStyle:{width:"800px",height:"500px"},attrs:{opt:t.opt}})],1),t._v(" "),t._m(1)])])};$R._withStripped=!0;const tK=US({render:$R,staticRenderFns:[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticStyle:{padding:"20px"}},[e("div",{staticStyle:{"font-size":"1.5rem"}},[t._v("polygonSets")]),t._v(" "),e("a",{staticClass:"item-link",attrs:{href:"//yuda-lyu.github.io/w-leaflet-vue/examples/ex-AppPGNPolygonSets.html",target:"_blank"}},[t._v("example")]),t._v(" "),e("a",{staticClass:"item-link",attrs:{href:"//github.com/yuda-lyu/w-leaflet-vue/blob/master/docs/examples/ex-AppPGNPolygonSets.html",target:"_blank"}},[t._v("code")])])},function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticStyle:{width:"600px",padding:"0px 20px 0px 0px",position:"relative"}},[e("div",{staticClass:"option-label"},[t._v("\n                opt example\n            ")]),t._v(" "),e("div",{staticStyle:{border:"1px solid #ddd"}},[e("div",{staticStyle:{"padding-left":"5px","overflow-y":"auto",height:"500px"}},[e("div",{staticStyle:{"font-size":"10pt"},attrs:{id:"optjson"}})])])])}]},(function(t){t&&t("data-v-4ae67fa7_0",{source:"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",map:{version:3,sources:[],names:[],mappings:"",file:"AppPGNPolygonSets.vue"},media:void 0})}),qR,undefined,false,undefined,!1,QS,void 0,void 0);const nK={components:{WLeafletVue:cL},data:function(){var t=[[[24.96,121.41],[25.11,121.47],[25.06,121.69],[24.99,121.61],[24.95,121.53]],[[24.98,121.45],[25.07,121.49],[25.06,121.54],[25,121.5]],[[25.017,121.48],[25.032,121.49],[25.036,121.5],[25.02,121.502]],[[24.99,121.54],[25.056,121.56],[25.05,121.61],[25,121.59]],[[24.92,121.6],[25.045,121.75],[24.99,121.79],[24.93,121.74]],[[24.961,121.523],[24.979,121.551],[24.95,121.674],[24.887,121.606]]];return{latLngs1:[[[24.96,121.41],[25.11,121.47],[25.06,121.69],[24.99,121.61],[24.95,121.53]]],latLngs6:t,opt:{center:[25,121.58],zoom:10,polygonSets:[{title:"polygonSet A",msg:"msg from polygonSet A",latLngs:t,visible:!0},{title:"polygonSet B",msg:"msg from polygonSet B",latLngs:[[[24.971,121.372],[24.976,121.434],[24.937,121.473],[24.918,121.418]],[[24.9,121.14],[24.97,121.09],[25.05,121.177],[24.95,121.32]]],visible:!1}]},action:[]}},mounted:function(){this.showOptJson()},watch:{opt:{handler:function(){this.showOptJson()},deep:!0}},methods:{showOptJson:function(){uL(this.opt,document.querySelector("#optjson"),{expanded:!0})}}};var eK=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[t._m(0),t._v(" "),e("div",{staticStyle:{display:"flex","padding-bottom":"20px"}},[e("div",{staticStyle:{padding:"0px 20px"}},[e("div",[e("button",{staticStyle:{margin:"0px 3px 3px 0px"},on:{click:function(n){t.opt.polygonSets[0].latLngs=t.latLngs1}}},[t._v("one polygon")]),t._v(" "),e("button",{staticStyle:{margin:"0px 3px 3px 0px"},on:{click:function(n){t.opt.polygonSets[0].latLngs=t.latLngs6}}},[t._v("complex polygon")])]),t._v(" "),e("WLeafletVue",{staticStyle:{width:"800px",height:"500px"},attrs:{opt:t.opt}})],1),t._v(" "),t._m(1)])])};eK._withStripped=!0;const iK=US({render:eK,staticRenderFns:[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticStyle:{padding:"20px"}},[e("div",{staticStyle:{"font-size":"1.5rem"}},[t._v("polygonSet-changeData")]),t._v(" "),e("a",{staticClass:"item-link",attrs:{href:"//yuda-lyu.github.io/w-leaflet-vue/examples/ex-AppPGNPolygonSetChangeData.html",target:"_blank"}},[t._v("example")]),t._v(" "),e("a",{staticClass:"item-link",attrs:{href:"//github.com/yuda-lyu/w-leaflet-vue/blob/master/docs/examples/ex-AppPGNPolygonSetChangeData.html",target:"_blank"}},[t._v("code")])])},function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticStyle:{width:"600px",padding:"0px 20px 0px 0px",position:"relative"}},[e("div",{staticClass:"option-label"},[t._v("\n                opt example\n            ")]),t._v(" "),e("div",{staticStyle:{border:"1px solid #ddd"}},[e("div",{staticStyle:{"padding-left":"5px","overflow-y":"auto",height:"500px"}},[e("div",{staticStyle:{"font-size":"10pt"},attrs:{id:"optjson"}})])])])}]},(function(t){t&&t("data-v-03c5a6de_0",{source:"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",map:{version:3,sources:[],names:[],mappings:"",file:"AppPGNPolygonSetChangeData.vue"},media:void 0})}),nK,undefined,false,undefined,!1,QS,void 0,void 0);const oK={components:{WLeafletVue:cL},data:function(){return{opt:{center:[25,121.58],zoom:10,polygonSets:[{title:"polygonSet A",msg:"msg from polygonSet A",latLngs:[[[24.96,121.41],[25.11,121.47],[25.06,121.69],[24.99,121.61],[24.95,121.53]],[[24.98,121.45],[25.07,121.49],[25.06,121.54],[25,121.5]],[[25.017,121.48],[25.032,121.49],[25.036,121.5],[25.02,121.502]],[[24.99,121.54],[25.056,121.56],[25.05,121.61],[25,121.59]],[[24.92,121.6],[25.045,121.75],[24.99,121.79],[24.93,121.74]],[[24.961,121.523],[24.979,121.551],[24.95,121.674],[24.887,121.606]]],visible:!0,order:1},{title:"polygonSet B",msg:"msg from polygonSet B",latLngs:[[[24.971,121.372],[24.976,121.434],[24.937,121.473],[24.918,121.418]],[[24.9,121.14],[24.97,121.09],[25.05,121.177],[24.95,121.32]]],visible:!1,order:0}]},action:[]}},mounted:function(){this.showOptJson()},watch:{opt:{handler:function(){this.showOptJson()},deep:!0}},methods:{showOptJson:function(){uL(this.opt,document.querySelector("#optjson"),{expanded:!0})}}};var lK=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[t._m(0),t._v(" "),e("div",{staticStyle:{display:"flex","padding-bottom":"20px"}},[e("div",{staticStyle:{padding:"0px 20px"}},[e("WLeafletVue",{staticStyle:{width:"800px",height:"500px"},attrs:{opt:t.opt}})],1),t._v(" "),t._m(1)])])};lK._withStripped=!0;const sK=US({render:lK,staticRenderFns:[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticStyle:{padding:"20px"}},[e("div",{staticStyle:{"font-size":"1.5rem"}},[t._v("polygonSet.order")]),t._v(" "),e("a",{staticClass:"item-link",attrs:{href:"//yuda-lyu.github.io/w-leaflet-vue/examples/ex-AppPGNPolygonSetOrder.html",target:"_blank"}},[t._v("example")]),t._v(" "),e("a",{staticClass:"item-link",attrs:{href:"//github.com/yuda-lyu/w-leaflet-vue/blob/master/docs/examples/ex-AppPGNPolygonSetOrder.html",target:"_blank"}},[t._v("code")])])},function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticStyle:{width:"600px",padding:"0px 20px 0px 0px",position:"relative"}},[e("div",{staticClass:"option-label"},[t._v("\n                opt example\n            ")]),t._v(" "),e("div",{staticStyle:{border:"1px solid #ddd"}},[e("div",{staticStyle:{"padding-left":"5px","overflow-y":"auto",height:"500px"}},[e("div",{staticStyle:{"font-size":"10pt"},attrs:{id:"optjson"}})])])])}]},(function(t){t&&t("data-v-1ed79edc_0",{source:"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",map:{version:3,sources:[],names:[],mappings:"",file:"AppPGNPolygonSetOrder.vue"},media:void 0})}),oK,undefined,false,undefined,!1,QS,void 0,void 0);const rK={components:{WLeafletVue:cL},data:function(){return{opt:{center:[25,121.58],zoom:10,polygonSets:[{title:"polygonSet A",msg:"msg from polygonSet A",latLngs:[[[24.96,121.41],[25.11,121.47],[25.06,121.69],[24.99,121.61],[24.95,121.53]],[[24.98,121.45],[25.07,121.49],[25.06,121.54],[25,121.5]],[[25.017,121.48],[25.032,121.49],[25.036,121.5],[25.02,121.502]],[[24.99,121.54],[25.056,121.56],[25.05,121.61],[25,121.59]],[[24.92,121.6],[25.045,121.75],[24.99,121.79],[24.93,121.74]],[[24.961,121.523],[24.979,121.551],[24.95,121.674],[24.887,121.606]]],lineColor:"#f26",visible:!0},{title:"polygonSet B",msg:"msg from polygonSet B",latLngs:[[[24.971,121.372],[24.976,121.434],[24.937,121.473],[24.918,121.418]],[[24.9,121.14],[24.97,121.09],[25.05,121.177],[24.95,121.32]]],visible:!1}]},action:[]}},mounted:function(){this.showOptJson()},watch:{opt:{handler:function(){this.showOptJson()},deep:!0}},methods:{showOptJson:function(){uL(this.opt,document.querySelector("#optjson"),{expanded:!0})}}};var aK=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[t._m(0),t._v(" "),e("div",{staticStyle:{display:"flex","padding-bottom":"20px"}},[e("div",{staticStyle:{padding:"0px 20px"}},[e("WLeafletVue",{staticStyle:{width:"800px",height:"500px"},attrs:{opt:t.opt}})],1),t._v(" "),t._m(1)])])};aK._withStripped=!0;const dK=US({render:aK,staticRenderFns:[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticStyle:{padding:"20px"}},[e("div",{staticStyle:{"font-size":"1.5rem"}},[t._v("polygonSet.lineColor")]),t._v(" "),e("a",{staticClass:"item-link",attrs:{href:"//yuda-lyu.github.io/w-leaflet-vue/examples/ex-AppPGNPolygonSetLineColor.html",target:"_blank"}},[t._v("example")]),t._v(" "),e("a",{staticClass:"item-link",attrs:{href:"//github.com/yuda-lyu/w-leaflet-vue/blob/master/docs/examples/ex-AppPGNPolygonSetLineColor.html",target:"_blank"}},[t._v("code")])])},function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticStyle:{width:"600px",padding:"0px 20px 0px 0px",position:"relative"}},[e("div",{staticClass:"option-label"},[t._v("\n                opt example\n            ")]),t._v(" "),e("div",{staticStyle:{border:"1px solid #ddd"}},[e("div",{staticStyle:{"padding-left":"5px","overflow-y":"auto",height:"500px"}},[e("div",{staticStyle:{"font-size":"10pt"},attrs:{id:"optjson"}})])])])}]},(function(t){t&&t("data-v-bdfe1b6c_0",{source:"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",map:{version:3,sources:[],names:[],mappings:"",file:"AppPGNPolygonSetLineColor.vue"},media:void 0})}),rK,undefined,false,undefined,!1,QS,void 0,void 0);const cK={components:{WLeafletVue:cL},data:function(){return{opt:{center:[25,121.58],zoom:10,polygonSets:[{title:"polygonSet A",msg:"msg from polygonSet A",latLngs:[[[24.96,121.41],[25.11,121.47],[25.06,121.69],[24.99,121.61],[24.95,121.53]],[[24.98,121.45],[25.07,121.49],[25.06,121.54],[25,121.5]],[[25.017,121.48],[25.032,121.49],[25.036,121.5],[25.02,121.502]],[[24.99,121.54],[25.056,121.56],[25.05,121.61],[25,121.59]],[[24.92,121.6],[25.045,121.75],[24.99,121.79],[24.93,121.74]],[[24.961,121.523],[24.979,121.551],[24.95,121.674],[24.887,121.606]]],lineColor:"rgba(100,150,255,0.9)",lineColorHover:"rgba(255,150,50,0.9)",visible:!0},{title:"polygonSet B",msg:"msg from polygonSet B",latLngs:[[[24.971,121.372],[24.976,121.434],[24.937,121.473],[24.918,121.418]],[[24.9,121.14],[24.97,121.09],[25.05,121.177],[24.95,121.32]]],visible:!1}]},action:[]}},mounted:function(){this.showOptJson()},watch:{opt:{handler:function(){this.showOptJson()},deep:!0}},methods:{showOptJson:function(){uL(this.opt,document.querySelector("#optjson"),{expanded:!0})}}};var uK=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[t._m(0),t._v(" "),e("div",{staticStyle:{display:"flex","padding-bottom":"20px"}},[e("div",{staticStyle:{padding:"0px 20px"}},[e("WLeafletVue",{staticStyle:{width:"800px",height:"500px"},attrs:{opt:t.opt}})],1),t._v(" "),t._m(1)])])};uK._withStripped=!0;const pK=US({render:uK,staticRenderFns:[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticStyle:{padding:"20px"}},[e("div",{staticStyle:{"font-size":"1.5rem"}},[t._v("polygonSet.lineColorHover")]),t._v(" "),e("a",{staticClass:"item-link",attrs:{href:"//yuda-lyu.github.io/w-leaflet-vue/examples/ex-AppPGNPolygonSetLineColorHover.html",target:"_blank"}},[t._v("example")]),t._v(" "),e("a",{staticClass:"item-link",attrs:{href:"//github.com/yuda-lyu/w-leaflet-vue/blob/master/docs/examples/ex-AppPGNPolygonSetLineColorHover.html",target:"_blank"}},[t._v("code")])])},function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticStyle:{width:"600px",padding:"0px 20px 0px 0px",position:"relative"}},[e("div",{staticClass:"option-label"},[t._v("\n                opt example\n            ")]),t._v(" "),e("div",{staticStyle:{border:"1px solid #ddd"}},[e("div",{staticStyle:{"padding-left":"5px","overflow-y":"auto",height:"500px"}},[e("div",{staticStyle:{"font-size":"10pt"},attrs:{id:"optjson"}})])])])}]},(function(t){t&&t("data-v-3da3aaff_0",{source:"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",map:{version:3,sources:[],names:[],mappings:"",file:"AppPGNPolygonSetLineColorHover.vue"},media:void 0})}),cK,undefined,false,undefined,!1,QS,void 0,void 0);const hK={components:{WLeafletVue:cL},data:function(){return{opt:{center:[25,121.58],zoom:10,polygonSets:[{title:"polygonSet A",msg:"msg from polygonSet A",latLngs:[[[24.96,121.41],[25.11,121.47],[25.06,121.69],[24.99,121.61],[24.95,121.53]],[[24.98,121.45],[25.07,121.49],[25.06,121.54],[25,121.5]],[[25.017,121.48],[25.032,121.49],[25.036,121.5],[25.02,121.502]],[[24.99,121.54],[25.056,121.56],[25.05,121.61],[25,121.59]],[[24.92,121.6],[25.045,121.75],[24.99,121.79],[24.93,121.74]],[[24.961,121.523],[24.979,121.551],[24.95,121.674],[24.887,121.606]]],lineWidth:1,visible:!0},{title:"polygonSet B",msg:"msg from polygonSet B",latLngs:[[[24.971,121.372],[24.976,121.434],[24.937,121.473],[24.918,121.418]],[[24.9,121.14],[24.97,121.09],[25.05,121.177],[24.95,121.32]]],visible:!1}]},action:[]}},mounted:function(){this.showOptJson()},watch:{opt:{handler:function(){this.showOptJson()},deep:!0}},methods:{showOptJson:function(){uL(this.opt,document.querySelector("#optjson"),{expanded:!0})}}};var mK=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[t._m(0),t._v(" "),e("div",{staticStyle:{display:"flex","padding-bottom":"20px"}},[e("div",{staticStyle:{padding:"0px 20px"}},[e("WLeafletVue",{staticStyle:{width:"800px",height:"500px"},attrs:{opt:t.opt}})],1),t._v(" "),t._m(1)])])};mK._withStripped=!0;const bK=US({render:mK,staticRenderFns:[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticStyle:{padding:"20px"}},[e("div",{staticStyle:{"font-size":"1.5rem"}},[t._v("polygonSet.lineWidth")]),t._v(" "),e("a",{staticClass:"item-link",attrs:{href:"//yuda-lyu.github.io/w-leaflet-vue/examples/ex-AppPGNPolygonSetLineWidth.html",target:"_blank"}},[t._v("example")]),t._v(" "),e("a",{staticClass:"item-link",attrs:{href:"//github.com/yuda-lyu/w-leaflet-vue/blob/master/docs/examples/ex-AppPGNPolygonSetLineWidth.html",target:"_blank"}},[t._v("code")])])},function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticStyle:{width:"600px",padding:"0px 20px 0px 0px",position:"relative"}},[e("div",{staticClass:"option-label"},[t._v("\n                opt example\n            ")]),t._v(" "),e("div",{staticStyle:{border:"1px solid #ddd"}},[e("div",{staticStyle:{"padding-left":"5px","overflow-y":"auto",height:"500px"}},[e("div",{staticStyle:{"font-size":"10pt"},attrs:{id:"optjson"}})])])])}]},(function(t){t&&t("data-v-44bbf14f_0",{source:"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",map:{version:3,sources:[],names:[],mappings:"",file:"AppPGNPolygonSetLineWidth.vue"},media:void 0})}),hK,undefined,false,undefined,!1,QS,void 0,void 0);const yK={components:{WLeafletVue:cL},data:function(){return{opt:{center:[25,121.58],zoom:10,polygonSets:[{title:"polygonSet A",msg:"msg from polygonSet A",latLngs:[[[24.96,121.41],[25.11,121.47],[25.06,121.69],[24.99,121.61],[24.95,121.53]],[[24.98,121.45],[25.07,121.49],[25.06,121.54],[25,121.5]],[[25.017,121.48],[25.032,121.49],[25.036,121.5],[25.02,121.502]],[[24.99,121.54],[25.056,121.56],[25.05,121.61],[25,121.59]],[[24.92,121.6],[25.045,121.75],[24.99,121.79],[24.93,121.74]],[[24.961,121.523],[24.979,121.551],[24.95,121.674],[24.887,121.606]]],lineWidth:1,lineWidthHover:3,visible:!0},{title:"polygonSet B",msg:"msg from polygonSet B",latLngs:[[[24.971,121.372],[24.976,121.434],[24.937,121.473],[24.918,121.418]],[[24.9,121.14],[24.97,121.09],[25.05,121.177],[24.95,121.32]]],visible:!1}]},action:[]}},mounted:function(){this.showOptJson()},watch:{opt:{handler:function(){this.showOptJson()},deep:!0}},methods:{showOptJson:function(){uL(this.opt,document.querySelector("#optjson"),{expanded:!0})}}};var ZK=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[t._m(0),t._v(" "),e("div",{staticStyle:{display:"flex","padding-bottom":"20px"}},[e("div",{staticStyle:{padding:"0px 20px"}},[e("WLeafletVue",{staticStyle:{width:"800px",height:"500px"},attrs:{opt:t.opt}})],1),t._v(" "),t._m(1)])])};ZK._withStripped=!0;const XK=US({render:ZK,staticRenderFns:[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticStyle:{padding:"20px"}},[e("div",{staticStyle:{"font-size":"1.5rem"}},[t._v("polygonSet.lineWidthHover")]),t._v(" "),e("a",{staticClass:"item-link",attrs:{href:"//yuda-lyu.github.io/w-leaflet-vue/examples/ex-AppPGNPolygonSetLineWidthHover.html",target:"_blank"}},[t._v("example")]),t._v(" "),e("a",{staticClass:"item-link",attrs:{href:"//github.com/yuda-lyu/w-leaflet-vue/blob/master/docs/examples/ex-AppPGNPolygonSetLineWidthHover.html",target:"_blank"}},[t._v("code")])])},function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticStyle:{width:"600px",padding:"0px 20px 0px 0px",position:"relative"}},[e("div",{staticClass:"option-label"},[t._v("\n                opt example\n            ")]),t._v(" "),e("div",{staticStyle:{border:"1px solid #ddd"}},[e("div",{staticStyle:{"padding-left":"5px","overflow-y":"auto",height:"500px"}},[e("div",{staticStyle:{"font-size":"10pt"},attrs:{id:"optjson"}})])])])}]},(function(t){t&&t("data-v-2de7040e_0",{source:"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",map:{version:3,sources:[],names:[],mappings:"",file:"AppPGNPolygonSetLineWidthHover.vue"},media:void 0})}),yK,undefined,false,undefined,!1,QS,void 0,void 0);const fK={components:{WLeafletVue:cL},data:function(){return{opt:{center:[25,121.58],zoom:10,polygonSets:[{title:"polygonSet A",msg:"msg from polygonSet A",latLngs:[[[24.96,121.41],[25.11,121.47],[25.06,121.69],[24.99,121.61],[24.95,121.53]],[[24.98,121.45],[25.07,121.49],[25.06,121.54],[25,121.5]],[[25.017,121.48],[25.032,121.49],[25.036,121.5],[25.02,121.502]],[[24.99,121.54],[25.056,121.56],[25.05,121.61],[25,121.59]],[[24.92,121.6],[25.045,121.75],[24.99,121.79],[24.93,121.74]],[[24.961,121.523],[24.979,121.551],[24.95,121.674],[24.887,121.606]]],fillColor:"rgba(50,100,200,0.7)",visible:!0},{title:"polygonSet B",msg:"msg from polygonSet B",latLngs:[[[24.971,121.372],[24.976,121.434],[24.937,121.473],[24.918,121.418]],[[24.9,121.14],[24.97,121.09],[25.05,121.177],[24.95,121.32]]],visible:!1}]},action:[]}},mounted:function(){this.showOptJson()},watch:{opt:{handler:function(){this.showOptJson()},deep:!0}},methods:{showOptJson:function(){uL(this.opt,document.querySelector("#optjson"),{expanded:!0})}}};var GK=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[t._m(0),t._v(" "),e("div",{staticStyle:{display:"flex","padding-bottom":"20px"}},[e("div",{staticStyle:{padding:"0px 20px"}},[e("WLeafletVue",{staticStyle:{width:"800px",height:"500px"},attrs:{opt:t.opt}})],1),t._v(" "),t._m(1)])])};GK._withStripped=!0;const WK=US({render:GK,staticRenderFns:[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticStyle:{padding:"20px"}},[e("div",{staticStyle:{"font-size":"1.5rem"}},[t._v("polygonSet.fillColor")]),t._v(" "),e("a",{staticClass:"item-link",attrs:{href:"//yuda-lyu.github.io/w-leaflet-vue/examples/ex-AppPGNPolygonSetFillColor.html",target:"_blank"}},[t._v("example")]),t._v(" "),e("a",{staticClass:"item-link",attrs:{href:"//github.com/yuda-lyu/w-leaflet-vue/blob/master/docs/examples/ex-AppPGNPolygonSetFillColor.html",target:"_blank"}},[t._v("code")])])},function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticStyle:{width:"600px",padding:"0px 20px 0px 0px",position:"relative"}},[e("div",{staticClass:"option-label"},[t._v("\n                opt example\n            ")]),t._v(" "),e("div",{staticStyle:{border:"1px solid #ddd"}},[e("div",{staticStyle:{"padding-left":"5px","overflow-y":"auto",height:"500px"}},[e("div",{staticStyle:{"font-size":"10pt"},attrs:{id:"optjson"}})])])])}]},(function(t){t&&t("data-v-53087b54_0",{source:"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",map:{version:3,sources:[],names:[],mappings:"",file:"AppPGNPolygonSetFillColor.vue"},media:void 0})}),fK,undefined,false,undefined,!1,QS,void 0,void 0);const gK={components:{WLeafletVue:cL},data:function(){return{opt:{center:[25,121.58],zoom:10,polygonSets:[{title:"polygonSet A",msg:"msg from polygonSet A",latLngs:[[[24.96,121.41],[25.11,121.47],[25.06,121.69],[24.99,121.61],[24.95,121.53]],[[24.98,121.45],[25.07,121.49],[25.06,121.54],[25,121.5]],[[25.017,121.48],[25.032,121.49],[25.036,121.5],[25.02,121.502]],[[24.99,121.54],[25.056,121.56],[25.05,121.61],[25,121.59]],[[24.92,121.6],[25.045,121.75],[24.99,121.79],[24.93,121.74]],[[24.961,121.523],[24.979,121.551],[24.95,121.674],[24.887,121.606]]],fillColorHover:"rgba(50,100,200,0.7)",visible:!0},{title:"polygonSet B",msg:"msg from polygonSet B",latLngs:[[[24.971,121.372],[24.976,121.434],[24.937,121.473],[24.918,121.418]],[[24.9,121.14],[24.97,121.09],[25.05,121.177],[24.95,121.32]]],visible:!1}]},action:[]}},mounted:function(){this.showOptJson()},watch:{opt:{handler:function(){this.showOptJson()},deep:!0}},methods:{showOptJson:function(){uL(this.opt,document.querySelector("#optjson"),{expanded:!0})}}};var vK=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[t._m(0),t._v(" "),e("div",{staticStyle:{display:"flex","padding-bottom":"20px"}},[e("div",{staticStyle:{padding:"0px 20px"}},[e("WLeafletVue",{staticStyle:{width:"800px",height:"500px"},attrs:{opt:t.opt}})],1),t._v(" "),t._m(1)])])};vK._withStripped=!0;const VK=US({render:vK,staticRenderFns:[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticStyle:{padding:"20px"}},[e("div",{staticStyle:{"font-size":"1.5rem"}},[t._v("polygonSet.fillColorHover")]),t._v(" "),e("a",{staticClass:"item-link",attrs:{href:"//yuda-lyu.github.io/w-leaflet-vue/examples/ex-AppPGNPolygonSetFillColorHover.html",target:"_blank"}},[t._v("example")]),t._v(" "),e("a",{staticClass:"item-link",attrs:{href:"//github.com/yuda-lyu/w-leaflet-vue/blob/master/docs/examples/ex-AppPGNPolygonSetFillColorHover.html",target:"_blank"}},[t._v("code")])])},function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticStyle:{width:"600px",padding:"0px 20px 0px 0px",position:"relative"}},[e("div",{staticClass:"option-label"},[t._v("\n                opt example\n            ")]),t._v(" "),e("div",{staticStyle:{border:"1px solid #ddd"}},[e("div",{staticStyle:{"padding-left":"5px","overflow-y":"auto",height:"500px"}},[e("div",{staticStyle:{"font-size":"10pt"},attrs:{id:"optjson"}})])])])}]},(function(t){t&&t("data-v-14f5c6d4_0",{source:"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",map:{version:3,sources:[],names:[],mappings:"",file:"AppPGNPolygonSetFillColorHover.vue"},media:void 0})}),gK,undefined,false,undefined,!1,QS,void 0,void 0);const xK={components:{WLeafletVue:cL},data:function(){return{opt:{center:[25,121.58],zoom:10,defPolygonSetsClick:function(t){console.log("defPolygonSetsClick",t)},polygonSets:[{title:"polygonSet A",msg:"msg from polygonSet A",latLngs:[[[24.96,121.41],[25.11,121.47],[25.06,121.69],[24.99,121.61],[24.95,121.53]],[[24.98,121.45],[25.07,121.49],[25.06,121.54],[25,121.5]],[[25.017,121.48],[25.032,121.49],[25.036,121.5],[25.02,121.502]],[[24.99,121.54],[25.056,121.56],[25.05,121.61],[25,121.59]],[[24.92,121.6],[25.045,121.75],[24.99,121.79],[24.93,121.74]],[[24.961,121.523],[24.979,121.551],[24.95,121.674],[24.887,121.606]]],visible:!0},{title:"polygonSet B",msg:"msg from polygonSet B",latLngs:[[[24.971,121.372],[24.976,121.434],[24.937,121.473],[24.918,121.418]],[[24.9,121.14],[24.97,121.09],[25.05,121.177],[24.95,121.32]]],visible:!1}]},action:[]}},mounted:function(){this.showOptJson()},watch:{opt:{handler:function(){this.showOptJson()},deep:!0}},methods:{showOptJson:function(){uL(this.opt,document.querySelector("#optjson"),{expanded:!0})}}};var SK=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[t._m(0),t._v(" "),e("div",{staticStyle:{display:"flex","padding-bottom":"20px"}},[e("div",{staticStyle:{padding:"0px 20px"}},[e("WLeafletVue",{staticStyle:{width:"800px",height:"500px"},attrs:{opt:t.opt}})],1),t._v(" "),t._m(1)])])};SK._withStripped=!0;const LK=US({render:SK,staticRenderFns:[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticStyle:{padding:"20px"}},[e("div",{staticStyle:{"font-size":"1.5rem"}},[t._v("defPolygonSetsClick")]),t._v(" "),e("a",{staticClass:"item-link",attrs:{href:"//yuda-lyu.github.io/w-leaflet-vue/examples/ex-AppPGNDefPolygonSetsClick.html",target:"_blank"}},[t._v("example")]),t._v(" "),e("a",{staticClass:"item-link",attrs:{href:"//github.com/yuda-lyu/w-leaflet-vue/blob/master/docs/examples/ex-AppPGNDefPolygonSetsClick.html",target:"_blank"}},[t._v("code")])])},function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticStyle:{width:"600px",padding:"0px 20px 0px 0px",position:"relative"}},[e("div",{staticClass:"option-label"},[t._v("\n                opt example\n            ")]),t._v(" "),e("div",{staticStyle:{border:"1px solid #ddd"}},[e("div",{staticStyle:{"padding-left":"5px","overflow-y":"auto",height:"500px"}},[e("div",{staticStyle:{"font-size":"10pt"},attrs:{id:"optjson"}})])])])}]},(function(t){t&&t("data-v-cb065f82_0",{source:"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",map:{version:3,sources:[],names:[],mappings:"",file:"AppPGNDefPolygonSetsClick.vue"},media:void 0})}),xK,undefined,false,undefined,!1,QS,void 0,void 0);const RK={components:{WLeafletVue:cL},data:function(){return{opt:{center:[25,121.58],zoom:10,defPolygonSetsClick:function(t){console.log("defPolygonSetsClick",t)},polygonSets:[{title:"polygonSet A",msg:"msg from polygonSet A",latLngs:[[[24.96,121.41],[25.11,121.47],[25.06,121.69],[24.99,121.61],[24.95,121.53]],[[24.98,121.45],[25.07,121.49],[25.06,121.54],[25,121.5]],[[25.017,121.48],[25.032,121.49],[25.036,121.5],[25.02,121.502]],[[24.99,121.54],[25.056,121.56],[25.05,121.61],[25,121.59]],[[24.92,121.6],[25.045,121.75],[24.99,121.79],[24.93,121.74]],[[24.961,121.523],[24.979,121.551],[24.95,121.674],[24.887,121.606]]],visible:!0,click:function(t){console.log("polygonSets[0] click",t)}},{title:"polygonSet B",msg:"msg from polygonSet B",latLngs:[[[24.971,121.372],[24.976,121.434],[24.937,121.473],[24.918,121.418]],[[24.9,121.14],[24.97,121.09],[25.05,121.177],[24.95,121.32]]],visible:!1,click:function(t){console.log("polygonSets[1] click",t)}}]},action:[]}},mounted:function(){this.showOptJson()},watch:{opt:{handler:function(){this.showOptJson()},deep:!0}},methods:{showOptJson:function(){uL(this.opt,document.querySelector("#optjson"),{expanded:!0})}}};var KK=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[t._m(0),t._v(" "),e("div",{staticStyle:{display:"flex","padding-bottom":"20px"}},[e("div",{staticStyle:{padding:"0px 20px"}},[e("WLeafletVue",{staticStyle:{width:"800px",height:"500px"},attrs:{opt:t.opt}})],1),t._v(" "),t._m(1)])])};KK._withStripped=!0;const HK=US({render:KK,staticRenderFns:[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticStyle:{padding:"20px"}},[e("div",{staticStyle:{"font-size":"1.5rem"}},[t._v("polygonSet.click")]),t._v(" "),e("a",{staticClass:"item-link",attrs:{href:"//yuda-lyu.github.io/w-leaflet-vue/examples/ex-AppPGNPolygonSetClick.html",target:"_blank"}},[t._v("example")]),t._v(" "),e("a",{staticClass:"item-link",attrs:{href:"//github.com/yuda-lyu/w-leaflet-vue/blob/master/docs/examples/ex-AppPGNPolygonSetClick.html",target:"_blank"}},[t._v("code")])])},function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticStyle:{width:"600px",padding:"0px 20px 0px 0px",position:"relative"}},[e("div",{staticClass:"option-label"},[t._v("\n                opt example\n            ")]),t._v(" "),e("div",{staticStyle:{border:"1px solid #ddd"}},[e("div",{staticStyle:{"padding-left":"5px","overflow-y":"auto",height:"500px"}},[e("div",{staticStyle:{"font-size":"10pt"},attrs:{id:"optjson"}})])])])}]},(function(t){t&&t("data-v-402d0e74_0",{source:"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",map:{version:3,sources:[],names:[],mappings:"",file:"AppPGNPolygonSetClick.vue"},media:void 0})}),RK,undefined,false,undefined,!1,QS,void 0,void 0);const CK={components:{WLeafletVue:cL},data:function(){return{opt:{center:[25,121.58],zoom:10,defPolygonSetsPopup:function(t){console.log("defPolygonSetsPopup",t);var n="";return n+='<div style="padding:15px;">',n+='<div style="color:#222; font-size:0.9rem; white-space:nowrap;"><span style="color:#62f;">[Popup>polygonSets]</span> '+t.polygonSet.title+"</div>",n+='<div style="color:#aaa;">'+t.polygonSet.msg+"</div>",n+="</div>"},polygonSets:[{title:"polygonSet A",msg:"msg from polygonSet A",latLngs:[[[24.96,121.41],[25.11,121.47],[25.06,121.69],[24.99,121.61],[24.95,121.53]],[[24.98,121.45],[25.07,121.49],[25.06,121.54],[25,121.5]],[[25.017,121.48],[25.032,121.49],[25.036,121.5],[25.02,121.502]],[[24.99,121.54],[25.056,121.56],[25.05,121.61],[25,121.59]],[[24.92,121.6],[25.045,121.75],[24.99,121.79],[24.93,121.74]],[[24.961,121.523],[24.979,121.551],[24.95,121.674],[24.887,121.606]]],visible:!0},{title:"polygonSet B",msg:"msg from polygonSet B",latLngs:[[[24.971,121.372],[24.976,121.434],[24.937,121.473],[24.918,121.418]],[[24.9,121.14],[24.97,121.09],[25.05,121.177],[24.95,121.32]]],visible:!1}]},action:[]}},mounted:function(){this.showOptJson()},watch:{opt:{handler:function(){this.showOptJson()},deep:!0}},methods:{showOptJson:function(){uL(this.opt,document.querySelector("#optjson"),{expanded:!0})}}};var YK=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[t._m(0),t._v(" "),e("div",{staticStyle:{display:"flex","padding-bottom":"20px"}},[e("div",{staticStyle:{padding:"0px 20px"}},[e("WLeafletVue",{staticStyle:{width:"800px",height:"500px"},attrs:{opt:t.opt}})],1),t._v(" "),t._m(1)])])};YK._withStripped=!0;const TK=US({render:YK,staticRenderFns:[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticStyle:{padding:"20px"}},[e("div",{staticStyle:{"font-size":"1.5rem"}},[t._v("defPolygonSetsPopup")]),t._v(" "),e("a",{staticClass:"item-link",attrs:{href:"//yuda-lyu.github.io/w-leaflet-vue/examples/ex-AppPGNDefPolygonSetsPopup.html",target:"_blank"}},[t._v("example")]),t._v(" "),e("a",{staticClass:"item-link",attrs:{href:"//github.com/yuda-lyu/w-leaflet-vue/blob/master/docs/examples/ex-AppPGNDefPolygonSetsPopup.html",target:"_blank"}},[t._v("code")])])},function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticStyle:{width:"600px",padding:"0px 20px 0px 0px",position:"relative"}},[e("div",{staticClass:"option-label"},[t._v("\n                opt example\n            ")]),t._v(" "),e("div",{staticStyle:{border:"1px solid #ddd"}},[e("div",{staticStyle:{"padding-left":"5px","overflow-y":"auto",height:"500px"}},[e("div",{staticStyle:{"font-size":"10pt"},attrs:{id:"optjson"}})])])])}]},(function(t){t&&t("data-v-3d322d98_0",{source:"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",map:{version:3,sources:[],names:[],mappings:"",file:"AppPGNDefPolygonSetsPopup.vue"},media:void 0})}),CK,undefined,false,undefined,!1,QS,void 0,void 0);const MK={components:{WLeafletVue:cL},data:function(){return{opt:{center:[25,121.58],zoom:10,defPolygonSetsPopup:function(t){console.log("defPolygonSetsPopup",t);var n="";return n+='<div style="padding:15px;">',n+='<div style="color:#222; font-size:0.9rem; white-space:nowrap;"><span style="color:#62f;">[Popup>polygonSets]</span> '+t.polygonSet.title+"</div>",n+='<div style="color:#aaa;">'+t.polygonSet.msg+"</div>",n+="</div>"},polygonSets:[{title:"polygonSet A",msg:"msg from polygonSet A",latLngs:[[[24.96,121.41],[25.11,121.47],[25.06,121.69],[24.99,121.61],[24.95,121.53]],[[24.98,121.45],[25.07,121.49],[25.06,121.54],[25,121.5]],[[25.017,121.48],[25.032,121.49],[25.036,121.5],[25.02,121.502]],[[24.99,121.54],[25.056,121.56],[25.05,121.61],[25,121.59]],[[24.92,121.6],[25.045,121.75],[24.99,121.79],[24.93,121.74]],[[24.961,121.523],[24.979,121.551],[24.95,121.674],[24.887,121.606]]],visible:!0,popup:function(t){console.log("polygonSets[0] popup",t);var n="";return n+='<div style="padding:15px;">',n+='<div style="color:#222; font-size:0.9rem; white-space:nowrap;"><span style="color:#f26;">[Popup>polygonSet]</span> '+t.polygonSet.title+"</div>",n+='<div style="color:#aaa;">'+t.polygonSet.msg+"</div>",n+="</div>"}},{title:"polygonSet B",msg:"msg from polygonSet B",latLngs:[[[24.971,121.372],[24.976,121.434],[24.937,121.473],[24.918,121.418]],[[24.9,121.14],[24.97,121.09],[25.05,121.177],[24.95,121.32]]],visible:!1}]},action:[]}},mounted:function(){this.showOptJson()},watch:{opt:{handler:function(){this.showOptJson()},deep:!0}},methods:{showOptJson:function(){uL(this.opt,document.querySelector("#optjson"),{expanded:!0})}}};var wK=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[t._m(0),t._v(" "),e("div",{staticStyle:{display:"flex","padding-bottom":"20px"}},[e("div",{staticStyle:{padding:"0px 20px"}},[e("WLeafletVue",{staticStyle:{width:"800px",height:"500px"},attrs:{opt:t.opt}})],1),t._v(" "),t._m(1)])])};wK._withStripped=!0;const PK=US({render:wK,staticRenderFns:[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticStyle:{padding:"20px"}},[e("div",{staticStyle:{"font-size":"1.5rem"}},[t._v("polygonSet.popup")]),t._v(" "),e("a",{staticClass:"item-link",attrs:{href:"//yuda-lyu.github.io/w-leaflet-vue/examples/ex-AppPGNPolygonSetPopup.html",target:"_blank"}},[t._v("example")]),t._v(" "),e("a",{staticClass:"item-link",attrs:{href:"//github.com/yuda-lyu/w-leaflet-vue/blob/master/docs/examples/ex-AppPGNPolygonSetPopup.html",target:"_blank"}},[t._v("code")])])},function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticStyle:{width:"600px",padding:"0px 20px 0px 0px",position:"relative"}},[e("div",{staticClass:"option-label"},[t._v("\n                opt example\n            ")]),t._v(" "),e("div",{staticStyle:{border:"1px solid #ddd"}},[e("div",{staticStyle:{"padding-left":"5px","overflow-y":"auto",height:"500px"}},[e("div",{staticStyle:{"font-size":"10pt"},attrs:{id:"optjson"}})])])])}]},(function(t){t&&t("data-v-d2ad2572_0",{source:"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",map:{version:3,sources:[],names:[],mappings:"",file:"AppPGNPolygonSetPopup.vue"},media:void 0})}),MK,undefined,false,undefined,!1,QS,void 0,void 0);const IK={components:{WLeafletVue:cL},data:function(){return{opt:{center:[25,121.58],zoom:10,defPolygonSetsTooltip:function(t){console.log("defPolygonSetsTooltip",t);var n="";return n+='<div style="padding:5px 10px;">',n+='<div style="color:#222; font-size:0.9rem; white-space:nowrap;"><span style="color:#62f;">[Tooltip>polygonSets]</span> '+t.polygonSet.title+"</div>",n+='<div style="color:#aaa; white-space:normal;">'+t.polygonSet.msg+"</div>",n+="</div>"},polygonSets:[{title:"polygonSet A",msg:"msg from polygonSet A",latLngs:[[[24.96,121.41],[25.11,121.47],[25.06,121.69],[24.99,121.61],[24.95,121.53]],[[24.98,121.45],[25.07,121.49],[25.06,121.54],[25,121.5]],[[25.017,121.48],[25.032,121.49],[25.036,121.5],[25.02,121.502]],[[24.99,121.54],[25.056,121.56],[25.05,121.61],[25,121.59]],[[24.92,121.6],[25.045,121.75],[24.99,121.79],[24.93,121.74]],[[24.961,121.523],[24.979,121.551],[24.95,121.674],[24.887,121.606]]],visible:!0},{title:"polygonSet B",msg:"msg from polygonSet B",latLngs:[[[24.971,121.372],[24.976,121.434],[24.937,121.473],[24.918,121.418]],[[24.9,121.14],[24.97,121.09],[25.05,121.177],[24.95,121.32]]],visible:!1}]},action:[]}},mounted:function(){this.showOptJson()},watch:{opt:{handler:function(){this.showOptJson()},deep:!0}},methods:{showOptJson:function(){uL(this.opt,document.querySelector("#optjson"),{expanded:!0})}}};var zK=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[t._m(0),t._v(" "),e("div",{staticStyle:{display:"flex","padding-bottom":"20px"}},[e("div",{staticStyle:{padding:"0px 20px"}},[e("WLeafletVue",{staticStyle:{width:"800px",height:"500px"},attrs:{opt:t.opt}})],1),t._v(" "),t._m(1)])])};zK._withStripped=!0;const JK=US({render:zK,staticRenderFns:[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticStyle:{padding:"20px"}},[e("div",{staticStyle:{"font-size":"1.5rem"}},[t._v("defPolygonSetsTooltip")]),t._v(" "),e("a",{staticClass:"item-link",attrs:{href:"//yuda-lyu.github.io/w-leaflet-vue/examples/ex-AppPGNDefPolygonSetsTooltip.html",target:"_blank"}},[t._v("example")]),t._v(" "),e("a",{staticClass:"item-link",attrs:{href:"//github.com/yuda-lyu/w-leaflet-vue/blob/master/docs/examples/ex-AppPGNDefPolygonSetsTooltip.html",target:"_blank"}},[t._v("code")])])},function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticStyle:{width:"600px",padding:"0px 20px 0px 0px",position:"relative"}},[e("div",{staticClass:"option-label"},[t._v("\n                opt example\n            ")]),t._v(" "),e("div",{staticStyle:{border:"1px solid #ddd"}},[e("div",{staticStyle:{"padding-left":"5px","overflow-y":"auto",height:"500px"}},[e("div",{staticStyle:{"font-size":"10pt"},attrs:{id:"optjson"}})])])])}]},(function(t){t&&t("data-v-79ce2bc9_0",{source:"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",map:{version:3,sources:[],names:[],mappings:"",file:"AppPGNDefPolygonSetsTooltip.vue"},media:void 0})}),IK,undefined,false,undefined,!1,QS,void 0,void 0);const NK={components:{WLeafletVue:cL},data:function(){return{opt:{center:[25,121.58],zoom:10,defPolygonSetsTooltip:function(t){console.log("defPolygonSetsTooltip",t);var n="";return n+='<div style="padding:5px 10px;">',n+='<div style="color:#222; font-size:0.9rem; white-space:nowrap;"><span style="color:#62f;">[Tooltip>polygonSets]</span> '+t.polygonSet.title+"</div>",n+='<div style="color:#aaa; white-space:normal;">'+t.polygonSet.msg+"</div>",n+="</div>"},polygonSets:[{title:"polygonSet A",msg:"msg from polygonSet A",latLngs:[[[24.96,121.41],[25.11,121.47],[25.06,121.69],[24.99,121.61],[24.95,121.53]],[[24.98,121.45],[25.07,121.49],[25.06,121.54],[25,121.5]],[[25.017,121.48],[25.032,121.49],[25.036,121.5],[25.02,121.502]],[[24.99,121.54],[25.056,121.56],[25.05,121.61],[25,121.59]],[[24.92,121.6],[25.045,121.75],[24.99,121.79],[24.93,121.74]],[[24.961,121.523],[24.979,121.551],[24.95,121.674],[24.887,121.606]]],visible:!0,tooltip:function(t){console.log("polygonSets[0] tooltip",t);var n="";return n+='<div style="padding:5px 10px;">',n+='<div style="color:#222; font-size:0.9rem; white-space:nowrap;"><span style="color:#f26;">[Tooltip>polygonSet]</span> '+t.polygonSet.title+"</div>",n+='<div style="color:#aaa; white-space:normal;">'+t.polygonSet.msg+"</div>",n+="</div>"}},{title:"polygonSet B",msg:"msg from polygonSet B",latLngs:[[[24.971,121.372],[24.976,121.434],[24.937,121.473],[24.918,121.418]],[[24.9,121.14],[24.97,121.09],[25.05,121.177],[24.95,121.32]]],visible:!1}]},action:[]}},mounted:function(){this.showOptJson()},watch:{opt:{handler:function(){this.showOptJson()},deep:!0}},methods:{showOptJson:function(){uL(this.opt,document.querySelector("#optjson"),{expanded:!0})}}};var FK=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[t._m(0),t._v(" "),e("div",{staticStyle:{display:"flex","padding-bottom":"20px"}},[e("div",{staticStyle:{padding:"0px 20px"}},[e("WLeafletVue",{staticStyle:{width:"800px",height:"500px"},attrs:{opt:t.opt}})],1),t._v(" "),t._m(1)])])};FK._withStripped=!0;const kK=US({render:FK,staticRenderFns:[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticStyle:{padding:"20px"}},[e("div",{staticStyle:{"font-size":"1.5rem"}},[t._v("polygonSet.tooltip")]),t._v(" "),e("a",{staticClass:"item-link",attrs:{href:"//yuda-lyu.github.io/w-leaflet-vue/examples/ex-AppPGNPolygonSetTooltip.html",target:"_blank"}},[t._v("example")]),t._v(" "),e("a",{staticClass:"item-link",attrs:{href:"//github.com/yuda-lyu/w-leaflet-vue/blob/master/docs/examples/ex-AppPGNPolygonSetTooltip.html",target:"_blank"}},[t._v("code")])])},function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticStyle:{width:"600px",padding:"0px 20px 0px 0px",position:"relative"}},[e("div",{staticClass:"option-label"},[t._v("\n                opt example\n            ")]),t._v(" "),e("div",{staticStyle:{border:"1px solid #ddd"}},[e("div",{staticStyle:{"padding-left":"5px","overflow-y":"auto",height:"500px"}},[e("div",{staticStyle:{"font-size":"10pt"},attrs:{id:"optjson"}})])])])}]},(function(t){t&&t("data-v-5d8ff147_0",{source:"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",map:{version:3,sources:[],names:[],mappings:"",file:"AppPGNPolygonSetTooltip.vue"},media:void 0})}),NK,undefined,false,undefined,!1,QS,void 0,void 0);const BK={components:{WLeafletVue:cL},data:function(){return{opt:{center:[24.084,121.068],zoom:8,contourSets:[{title:"contourSet A",msg:"msg from contourSet A",points:[[24.325,120.786,0],[23.944,120.968,10],[24.884,121.234,20],[24.579,121.345,80],[24.664,121.761,40],[23.803,121.397,30],[23.727,120.772,0],[23.539,120.975,0],[23.612,121.434,0],[23.193,120.355,22],[23.456,120.89,42],[23.28,120.551,25],[23.162,121.247,5]],visible:!0},{title:"contourSet B",msg:"msg from contourSet B",points:[[22.607,120.416,0],[22.967,120.663,15],[22.592,120.922,20],[22.717,120.644,45]],visible:!1}]},action:[]}},mounted:function(){this.showOptJson()},watch:{opt:{handler:function(){this.showOptJson()},deep:!0}},methods:{showOptJson:function(){uL(this.opt,document.querySelector("#optjson"),{expanded:!0})}}};var _K=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[t._m(0),t._v(" "),e("div",{staticStyle:{display:"flex","padding-bottom":"20px"}},[e("div",{staticStyle:{padding:"0px 20px"}},[e("WLeafletVue",{staticStyle:{width:"800px",height:"500px"},attrs:{opt:t.opt}})],1),t._v(" "),t._m(1)])])};_K._withStripped=!0;const UK=US({render:_K,staticRenderFns:[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticStyle:{padding:"20px"}},[e("div",{staticStyle:{"font-size":"1.5rem"}},[t._v("contourSets")]),t._v(" "),e("a",{staticClass:"item-link",attrs:{href:"//yuda-lyu.github.io/w-leaflet-vue/examples/ex-AppCTRContourSets.html",target:"_blank"}},[t._v("example")]),t._v(" "),e("a",{staticClass:"item-link",attrs:{href:"//github.com/yuda-lyu/w-leaflet-vue/blob/master/docs/examples/ex-AppCTRContourSets.html",target:"_blank"}},[t._v("code")])])},function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticStyle:{width:"600px",padding:"0px 20px 0px 0px",position:"relative"}},[e("div",{staticClass:"option-label"},[t._v("\n                opt example\n            ")]),t._v(" "),e("div",{staticStyle:{border:"1px solid #ddd"}},[e("div",{staticStyle:{"padding-left":"5px","overflow-y":"auto",height:"500px"}},[e("div",{staticStyle:{"font-size":"10pt"},attrs:{id:"optjson"}})])])])}]},(function(t){t&&t("data-v-2e058ee1_0",{source:"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",map:{version:3,sources:[],names:[],mappings:"",file:"AppCTRContourSets.vue"},media:void 0})}),BK,undefined,false,undefined,!1,QS,void 0,void 0);const EK={components:{WLeafletVue:cL},data:function(){var t=[[24.325,120.786,0],[23.944,120.968,10],[24.884,121.234,20],[24.579,121.345,80],[24.664,121.761,40],[23.803,121.397,30],[23.727,120.772,0],[23.539,120.975,0],[23.612,121.434,0],[23.193,120.355,22],[23.456,120.89,42],[23.28,120.551,25],[23.162,121.247,5]];return{points13:t,points4:[[24.325,120.786,0],[23.944,120.968,10],[24.884,121.234,20],[24.664,121.761,40],[23.803,121.397,30]],opt:{center:[24.084,121.068],zoom:8,contourSets:[{title:"contourSet A",msg:"msg from contourSet A",points:t,visible:!0},{title:"contourSet B",msg:"msg from contourSet B",points:[[22.607,120.416,0],[22.967,120.663,15],[22.592,120.922,20],[22.717,120.644,45]],visible:!1}]},action:[]}},mounted:function(){this.showOptJson()},watch:{opt:{handler:function(){this.showOptJson()},deep:!0}},methods:{showOptJson:function(){uL(this.opt,document.querySelector("#optjson"),{expanded:!0})}}};var jK=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[t._m(0),t._v(" "),e("div",{staticStyle:{display:"flex","padding-bottom":"20px"}},[e("div",{staticStyle:{padding:"0px 20px"}},[e("div",[e("button",{staticStyle:{margin:"0px 3px 3px 0px"},on:{click:function(n){t.opt.contourSets[0].points=t.points4}}},[t._v("simple data")]),t._v(" "),e("button",{staticStyle:{margin:"0px 3px 3px 0px"},on:{click:function(n){t.opt.contourSets[0].points=t.points13}}},[t._v("complex data")])]),t._v(" "),e("WLeafletVue",{staticStyle:{width:"800px",height:"500px"},attrs:{opt:t.opt}})],1),t._v(" "),t._m(1)])])};jK._withStripped=!0;const QK=US({render:jK,staticRenderFns:[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticStyle:{padding:"20px"}},[e("div",{staticStyle:{"font-size":"1.5rem"}},[t._v("contourSet-changeData")]),t._v(" "),e("a",{staticClass:"item-link",attrs:{href:"//yuda-lyu.github.io/w-leaflet-vue/examples/ex-AppCTRContourSetChangeData.html",target:"_blank"}},[t._v("example")]),t._v(" "),e("a",{staticClass:"item-link",attrs:{href:"//github.com/yuda-lyu/w-leaflet-vue/blob/master/docs/examples/ex-AppCTRContourSetChangeData.html",target:"_blank"}},[t._v("code")])])},function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticStyle:{width:"600px",padding:"0px 20px 0px 0px",position:"relative"}},[e("div",{staticClass:"option-label"},[t._v("\n                opt example\n            ")]),t._v(" "),e("div",{staticStyle:{border:"1px solid #ddd"}},[e("div",{staticStyle:{"padding-left":"5px","overflow-y":"auto",height:"500px"}},[e("div",{staticStyle:{"font-size":"10pt"},attrs:{id:"optjson"}})])])])}]},(function(t){t&&t("data-v-56a45f59_0",{source:"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",map:{version:3,sources:[],names:[],mappings:"",file:"AppCTRContourSetChangeData.vue"},media:void 0})}),EK,undefined,false,undefined,!1,QS,void 0,void 0);const OK={components:{WLeafletVue:cL},data:function(){return{opt:{center:[24.084,121.068],zoom:8,contourSets:[{title:"contourSet A",msg:"msg from contourSet A",points:[[24.325,120.786,0],[23.944,120.968,10],[24.884,121.234,20],[24.579,121.345,80],[24.664,121.761,40],[23.803,121.397,30],[23.727,120.772,0],[23.539,120.975,0],[23.612,121.434,0],[23.193,120.355,22],[23.456,120.89,42],[23.28,120.551,25],[23.162,121.247,5]],visible:!0,order:1},{title:"contourSet B",msg:"msg from contourSet B",points:[[22.607,120.416,0],[22.967,120.663,15],[22.592,120.922,20],[22.717,120.644,45]],visible:!1,order:0}]},action:[]}},mounted:function(){this.showOptJson()},watch:{opt:{handler:function(){this.showOptJson()},deep:!0}},methods:{showOptJson:function(){uL(this.opt,document.querySelector("#optjson"),{expanded:!0})}}};var AK=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[t._m(0),t._v(" "),e("div",{staticStyle:{display:"flex","padding-bottom":"20px"}},[e("div",{staticStyle:{padding:"0px 20px"}},[e("WLeafletVue",{staticStyle:{width:"800px",height:"500px"},attrs:{opt:t.opt}})],1),t._v(" "),t._m(1)])])};AK._withStripped=!0;const DK=US({render:AK,staticRenderFns:[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticStyle:{padding:"20px"}},[e("div",{staticStyle:{"font-size":"1.5rem"}},[t._v("contourSet.order")]),t._v(" "),e("a",{staticClass:"item-link",attrs:{href:"//yuda-lyu.github.io/w-leaflet-vue/examples/ex-AppCTRContourSetOrder.html",target:"_blank"}},[t._v("example")]),t._v(" "),e("a",{staticClass:"item-link",attrs:{href:"//github.com/yuda-lyu/w-leaflet-vue/blob/master/docs/examples/ex-AppCTRContourSetOrder.html",target:"_blank"}},[t._v("code")])])},function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticStyle:{width:"600px",padding:"0px 20px 0px 0px",position:"relative"}},[e("div",{staticClass:"option-label"},[t._v("\n                opt example\n            ")]),t._v(" "),e("div",{staticStyle:{border:"1px solid #ddd"}},[e("div",{staticStyle:{"padding-left":"5px","overflow-y":"auto",height:"500px"}},[e("div",{staticStyle:{"font-size":"10pt"},attrs:{id:"optjson"}})])])])}]},(function(t){t&&t("data-v-125c28fb_0",{source:"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",map:{version:3,sources:[],names:[],mappings:"",file:"AppCTRContourSetOrder.vue"},media:void 0})}),OK,undefined,false,undefined,!1,QS,void 0,void 0);const qK={components:{WLeafletVue:cL},data:function(){return{opt:{center:[24.084,121.068],zoom:8,contourSets:[{title:"contourSet A",msg:"msg from contourSet A",points:[[24.325,120.786,0],[23.944,120.968,10],[24.884,121.234,20],[24.579,121.345,80],[24.664,121.761,40],[23.803,121.397,30],[23.727,120.772,0],[23.539,120.975,0],[23.612,121.434,0],[23.193,120.355,22],[23.456,120.89,42],[23.28,120.551,25],[23.162,121.247,5]],gradient:{0:"rgba(255, 255, 255, 0.5)",.2:"rgba(61, 76, 137, 1)",.4:"rgba(41,121, 142, 1)",.6:"rgba(31,162,134, 1)",.8:"rgba(100,203,93, 1)",1:"rgba(225,227,24, 1)"},visible:!0},{title:"contourSet B",msg:"msg from contourSet B",points:[[22.607,120.416,0],[22.967,120.663,15],[22.592,120.922,20],[22.717,120.644,45]],visible:!1}]},action:[]}},mounted:function(){this.showOptJson()},watch:{opt:{handler:function(){this.showOptJson()},deep:!0}},methods:{showOptJson:function(){uL(this.opt,document.querySelector("#optjson"),{expanded:!0})}}};var $K=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[t._m(0),t._v(" "),e("div",{staticStyle:{display:"flex","padding-bottom":"20px"}},[e("div",{staticStyle:{padding:"0px 20px"}},[e("WLeafletVue",{staticStyle:{width:"800px",height:"500px"},attrs:{opt:t.opt}})],1),t._v(" "),t._m(1)])])};$K._withStripped=!0;const tH=US({render:$K,staticRenderFns:[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticStyle:{padding:"20px"}},[e("div",{staticStyle:{"font-size":"1.5rem"}},[t._v("contourSet.gradient")]),t._v(" "),e("a",{staticClass:"item-link",attrs:{href:"//yuda-lyu.github.io/w-leaflet-vue/examples/ex-AppCTRContourSetGradient.html",target:"_blank"}},[t._v("example")]),t._v(" "),e("a",{staticClass:"item-link",attrs:{href:"//github.com/yuda-lyu/w-leaflet-vue/blob/master/docs/examples/ex-AppCTRContourSetGradient.html",target:"_blank"}},[t._v("code")])])},function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticStyle:{width:"600px",padding:"0px 20px 0px 0px",position:"relative"}},[e("div",{staticClass:"option-label"},[t._v("\n                opt example\n            ")]),t._v(" "),e("div",{staticStyle:{border:"1px solid #ddd"}},[e("div",{staticStyle:{"padding-left":"5px","overflow-y":"auto",height:"500px"}},[e("div",{staticStyle:{"font-size":"10pt"},attrs:{id:"optjson"}})])])])}]},(function(t){t&&t("data-v-7b3d2618_0",{source:"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",map:{version:3,sources:[],names:[],mappings:"",file:"AppCTRContourSetGradient.vue"},media:void 0})}),qK,undefined,false,undefined,!1,QS,void 0,void 0);const nH={components:{WLeafletVue:cL},data:function(){return{opt:{center:[24.084,121.068],zoom:8,contourSets:[{title:"contourSet A",msg:"msg from contourSet A",points:[[24.325,120.786,0],[23.944,120.968,10],[24.884,121.234,20],[24.579,121.345,80],[24.664,121.761,40],[23.803,121.397,30],[23.727,120.772,0],[23.539,120.975,0],[23.612,121.434,0],[23.193,120.355,22],[23.456,120.89,42],[23.28,120.551,25],[23.162,121.247,5]],changeStyleWhenHover:!1,visible:!0},{title:"contourSet B",msg:"msg from contourSet B",points:[[22.607,120.416,0],[22.967,120.663,15],[22.592,120.922,20],[22.717,120.644,45]],visible:!1}]},action:[]}},mounted:function(){this.showOptJson()},watch:{opt:{handler:function(){this.showOptJson()},deep:!0}},methods:{showOptJson:function(){uL(this.opt,document.querySelector("#optjson"),{expanded:!0})}}};var eH=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[t._m(0),t._v(" "),e("div",{staticStyle:{display:"flex","padding-bottom":"20px"}},[e("div",{staticStyle:{padding:"0px 20px"}},[e("WLeafletVue",{staticStyle:{width:"800px",height:"500px"},attrs:{opt:t.opt}})],1),t._v(" "),t._m(1)])])};eH._withStripped=!0;const iH=US({render:eH,staticRenderFns:[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticStyle:{padding:"20px"}},[e("div",{staticStyle:{"font-size":"1.5rem"}},[t._v("contourSet.changeStyleWhenHover")]),t._v(" "),e("a",{staticClass:"item-link",attrs:{href:"//yuda-lyu.github.io/w-leaflet-vue/examples/ex-AppCTRContourSetChangeStyleWhenHover.html",target:"_blank"}},[t._v("example")]),t._v(" "),e("a",{staticClass:"item-link",attrs:{href:"//github.com/yuda-lyu/w-leaflet-vue/blob/master/docs/examples/ex-AppCTRContourSetChangeStyleWhenHover.html",target:"_blank"}},[t._v("code")])])},function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticStyle:{width:"600px",padding:"0px 20px 0px 0px",position:"relative"}},[e("div",{staticClass:"option-label"},[t._v("\n                opt example\n            ")]),t._v(" "),e("div",{staticStyle:{border:"1px solid #ddd"}},[e("div",{staticStyle:{"padding-left":"5px","overflow-y":"auto",height:"500px"}},[e("div",{staticStyle:{"font-size":"10pt"},attrs:{id:"optjson"}})])])])}]},(function(t){t&&t("data-v-51c977bf_0",{source:"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",map:{version:3,sources:[],names:[],mappings:"",file:"AppCTRContourSetChangeStyleWhenHover.vue"},media:void 0})}),nH,undefined,false,undefined,!1,QS,void 0,void 0);const oH={components:{WLeafletVue:cL},data:function(){return{opt:{center:[24.4,121.239],zoom:9,contourSets:[{title:"contourSet A",msg:"msg from contourSet A",points:[[24.325,120.786,0],[23.944,120.968,.15],[24.884,121.234,.2],[24.579,121.345,.62],[24.664,121.761,.35],[23.803,121.397,.3]],legendNumDig:2,visible:!0}]},action:[]}},mounted:function(){this.showOptJson()},watch:{opt:{handler:function(){this.showOptJson()},deep:!0}},methods:{showOptJson:function(){uL(this.opt,document.querySelector("#optjson"),{expanded:!0})}}};var lH=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[t._m(0),t._v(" "),e("div",{staticStyle:{display:"flex","padding-bottom":"20px"}},[e("div",{staticStyle:{padding:"0px 20px"}},[e("WLeafletVue",{staticStyle:{width:"800px",height:"500px"},attrs:{opt:t.opt}})],1),t._v(" "),t._m(1)])])};lH._withStripped=!0;const sH=US({render:lH,staticRenderFns:[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticStyle:{padding:"20px"}},[e("div",{staticStyle:{"font-size":"1.5rem"}},[t._v("contourSet.legendNumDig")]),t._v(" "),e("a",{staticClass:"item-link",attrs:{href:"//yuda-lyu.github.io/w-leaflet-vue/examples/ex-AppCTRContourSetLegendNumDig.html",target:"_blank"}},[t._v("example")]),t._v(" "),e("a",{staticClass:"item-link",attrs:{href:"//github.com/yuda-lyu/w-leaflet-vue/blob/master/docs/examples/ex-AppCTRContourSetLegendNumDig.html",target:"_blank"}},[t._v("code")])])},function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticStyle:{width:"600px",padding:"0px 20px 0px 0px",position:"relative"}},[e("div",{staticClass:"option-label"},[t._v("\n                opt example\n            ")]),t._v(" "),e("div",{staticStyle:{border:"1px solid #ddd"}},[e("div",{staticStyle:{"padding-left":"5px","overflow-y":"auto",height:"500px"}},[e("div",{staticStyle:{"font-size":"10pt"},attrs:{id:"optjson"}})])])])}]},(function(t){t&&t("data-v-17c948ce_0",{source:"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",map:{version:3,sources:[],names:[],mappings:"",file:"AppCTRContourSetLegendNumDig.vue"},media:void 0})}),oH,undefined,false,undefined,!1,QS,void 0,void 0);var rH={components:{WLeafletVue:cL},data:function(){return{opt:{center:[24.4,121.239],zoom:9,contourSets:[{title:"contourSet A",msg:"msg from contourSet A",points:[[24.325,120.786,4],[23.944,120.968,15],[24.884,121.234,20],[24.579,121.345,62],[24.664,121.761,35],[23.803,121.397,30]],legendTextFormater:function(t){console.log("legendTextFormater",t);var n=t.low,e=t.up;function i(t,n){return'<div style="display:inline-block; width:'+n+'px;">'+t+"</div>"}function o(t,n,e){return'<div style="display:inline-block; padding:0px '+e+"px 0px "+n+'px;">'+t+"</div>"}var l="",s="";return n>=50&&e>=50&&(s='<div style="display:inline-block; position:relative;"><div style="position:absolute; transform:translateY(-50%);">*</div></div>',l="color:red;"),'<div style="display:flex; align-items:center; text-align:right; '+l+'">'+(i(n,15)+o("-",3,3)+i(e,15)+o("(ppm)",3,0))+s+"</div>"},visible:!0}],pointSets:[{title:"points",points:[[24.325,120.786,4],[23.944,120.968,15],[24.884,121.234,20],[24.579,121.345,66],[24.664,121.761,35],[23.803,121.397,30]],visible:!1,order:3}]},action:[]}},mounted:function(){this.showOptJson()},watch:{opt:{handler:function(){this.showOptJson()},deep:!0}},methods:{showOptJson:function(){uL(this.opt,document.querySelector("#optjson"),{expanded:!0})}}};const aH=rH;var dH=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[t._m(0),t._v(" "),e("div",{staticStyle:{display:"flex","padding-bottom":"20px"}},[e("div",{staticStyle:{padding:"0px 20px"}},[e("WLeafletVue",{staticStyle:{width:"800px",height:"500px"},attrs:{opt:t.opt}})],1),t._v(" "),t._m(1)])])};dH._withStripped=!0;const cH=US({render:dH,staticRenderFns:[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticStyle:{padding:"20px"}},[e("div",{staticStyle:{"font-size":"1.5rem"}},[t._v("contourSet.legendTextFormater")]),t._v(" "),e("a",{staticClass:"item-link",attrs:{href:"//yuda-lyu.github.io/w-leaflet-vue/examples/ex-AppCTRContourSetLegendTextFormater.html",target:"_blank"}},[t._v("example")]),t._v(" "),e("a",{staticClass:"item-link",attrs:{href:"//github.com/yuda-lyu/w-leaflet-vue/blob/master/docs/examples/ex-AppCTRContourSetLegendTextFormater.html",target:"_blank"}},[t._v("code")])])},function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticStyle:{width:"600px",padding:"0px 20px 0px 0px",position:"relative"}},[e("div",{staticClass:"option-label"},[t._v("\n                opt example\n            ")]),t._v(" "),e("div",{staticStyle:{border:"1px solid #ddd"}},[e("div",{staticStyle:{"padding-left":"5px","overflow-y":"auto",height:"500px"}},[e("div",{staticStyle:{"font-size":"10pt"},attrs:{id:"optjson"}})])])])}]},(function(t){t&&t("data-v-d75338bc_0",{source:"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",map:{version:3,sources:[],names:[],mappings:"",file:"AppCTRContourSetLegendTextFormater.vue"},media:void 0})}),aH,undefined,false,undefined,!1,QS,void 0,void 0);const uH={components:{WLeafletVue:cL},data:function(){var t=[[24.585,120.79],[24.9,121.62],[23.984,121.6],[23.941,121.196],[24.585,120.79]];return{opt:{center:[24.4,121.239],zoom:9,contourSets:[{title:"contourSet A",msg:"msg from contourSet A",points:[[24.325,120.786,4],[23.944,120.968,15],[24.884,121.234,20],[24.579,121.345,62],[24.664,121.761,35],[23.803,121.397,30]],polygonClipOuter:t,visible:!0,order:1}],polygonSets:[{title:"outer-clip polygon",latLngs:t,visible:!1,order:2}],pointSets:[{title:"outer-clip points",points:t,visible:!1,order:3}]},action:[]}},mounted:function(){this.showOptJson()},watch:{opt:{handler:function(){this.showOptJson()},deep:!0}},methods:{showOptJson:function(){uL(this.opt,document.querySelector("#optjson"),{expanded:!0})}}};var pH=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[t._m(0),t._v(" "),e("div",{staticStyle:{display:"flex","padding-bottom":"20px"}},[e("div",{staticStyle:{padding:"0px 20px"}},[e("WLeafletVue",{staticStyle:{width:"800px",height:"500px"},attrs:{opt:t.opt}})],1),t._v(" "),t._m(1)])])};pH._withStripped=!0;const hH=US({render:pH,staticRenderFns:[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticStyle:{padding:"20px"}},[e("div",{staticStyle:{"font-size":"1.5rem"}},[t._v("contourSet.polygonClipOuter")]),t._v(" "),e("a",{staticClass:"item-link",attrs:{href:"//yuda-lyu.github.io/w-leaflet-vue/examples/ex-AppCTRContourSetPolygonClipOuter.html",target:"_blank"}},[t._v("example")]),t._v(" "),e("a",{staticClass:"item-link",attrs:{href:"//github.com/yuda-lyu/w-leaflet-vue/blob/master/docs/examples/ex-AppCTRContourSetPolygonClipOuter.html",target:"_blank"}},[t._v("code")])])},function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticStyle:{width:"600px",padding:"0px 20px 0px 0px",position:"relative"}},[e("div",{staticClass:"option-label"},[t._v("\n                opt example\n            ")]),t._v(" "),e("div",{staticStyle:{border:"1px solid #ddd"}},[e("div",{staticStyle:{"padding-left":"5px","overflow-y":"auto",height:"500px"}},[e("div",{staticStyle:{"font-size":"10pt"},attrs:{id:"optjson"}})])])])}]},(function(t){t&&t("data-v-34fdd236_0",{source:"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",map:{version:3,sources:[],names:[],mappings:"",file:"AppCTRContourSetPolygonClipOuter.vue"},media:void 0})}),uH,undefined,false,undefined,!1,QS,void 0,void 0);const mH={components:{WLeafletVue:cL},data:function(){var t=[[[24.28,120.842],[24.494,121.203],[24.314,121.19],[24.232,121.109],[24.249,120.91]],[[24.217,120.851],[24.172,121.242],[24.059,121.333],[24.001,121.055]]];return{opt:{center:[24.4,121.239],zoom:9,contourSets:[{title:"contourSet A",msg:"msg from contourSet A",points:[[24.325,120.786,4],[23.944,120.968,15],[24.884,121.234,20],[24.579,121.345,62],[24.664,121.761,35],[23.803,121.397,30]],polygonsClipInner:t,visible:!0,order:1}],polygonSets:[{title:"inner-clip polygon",latLngs:t,visible:!1,order:2}]},action:[]}},mounted:function(){this.showOptJson()},watch:{opt:{handler:function(){this.showOptJson()},deep:!0}},methods:{showOptJson:function(){uL(this.opt,document.querySelector("#optjson"),{expanded:!0})}}};var bH=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[t._m(0),t._v(" "),e("div",{staticStyle:{display:"flex","padding-bottom":"20px"}},[e("div",{staticStyle:{padding:"0px 20px"}},[e("WLeafletVue",{staticStyle:{width:"800px",height:"500px"},attrs:{opt:t.opt}})],1),t._v(" "),t._m(1)])])};bH._withStripped=!0;const yH=US({render:bH,staticRenderFns:[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticStyle:{padding:"20px"}},[e("div",{staticStyle:{"font-size":"1.5rem"}},[t._v("contourSet.polygonsClipInner")]),t._v(" "),e("a",{staticClass:"item-link",attrs:{href:"//yuda-lyu.github.io/w-leaflet-vue/examples/ex-AppCTRContourSetPolygonsClipInner.html",target:"_blank"}},[t._v("example")]),t._v(" "),e("a",{staticClass:"item-link",attrs:{href:"//github.com/yuda-lyu/w-leaflet-vue/blob/master/docs/examples/ex-AppCTRContourSetPolygonsClipInner.html",target:"_blank"}},[t._v("code")])])},function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticStyle:{width:"600px",padding:"0px 20px 0px 0px",position:"relative"}},[e("div",{staticClass:"option-label"},[t._v("\n                opt example\n            ")]),t._v(" "),e("div",{staticStyle:{border:"1px solid #ddd"}},[e("div",{staticStyle:{"padding-left":"5px","overflow-y":"auto",height:"500px"}},[e("div",{staticStyle:{"font-size":"10pt"},attrs:{id:"optjson"}})])])])}]},(function(t){t&&t("data-v-0a4e8748_0",{source:"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",map:{version:3,sources:[],names:[],mappings:"",file:"AppCTRContourSetPolygonsClipInner.vue"},media:void 0})}),mH,undefined,false,undefined,!1,QS,void 0,void 0);const ZH={components:{WLeafletVue:cL},data:function(){var t=[[[24.28,120.842],[24.494,121.203],[24.314,121.19],[24.232,121.109],[24.249,120.91]],[[24.217,120.851],[24.172,121.242],[24.059,121.333],[24.001,121.055]]];return{opt:{center:[24.4,121.239],zoom:9,contourSets:[{title:"contourSet A",msg:"msg from contourSet A",points:[[24.325,120.786,4],[23.944,120.968,15],[24.884,121.234,20],[24.579,121.345,62],[24.664,121.761,35],[23.803,121.397,30]],polygonsContainInner:t,visible:!0,order:1}],polygonSets:[{title:"inner-clip polygon",latLngs:t,visible:!1,order:2}]},action:[]}},mounted:function(){this.showOptJson()},watch:{opt:{handler:function(){this.showOptJson()},deep:!0}},methods:{showOptJson:function(){uL(this.opt,document.querySelector("#optjson"),{expanded:!0})}}};var XH=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[t._m(0),t._v(" "),e("div",{staticStyle:{display:"flex","padding-bottom":"20px"}},[e("div",{staticStyle:{padding:"0px 20px"}},[e("WLeafletVue",{staticStyle:{width:"800px",height:"500px"},attrs:{opt:t.opt}})],1),t._v(" "),t._m(1)])])};XH._withStripped=!0;const fH=US({render:XH,staticRenderFns:[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticStyle:{padding:"20px"}},[e("div",{staticStyle:{"font-size":"1.5rem"}},[t._v("contourSet.polygonsContainInner")]),t._v(" "),e("a",{staticClass:"item-link",attrs:{href:"//yuda-lyu.github.io/w-leaflet-vue/examples/ex-AppCTRContourSetPolygonsContainInner.html",target:"_blank"}},[t._v("example")]),t._v(" "),e("a",{staticClass:"item-link",attrs:{href:"//github.com/yuda-lyu/w-leaflet-vue/blob/master/docs/examples/ex-AppCTRContourSetPolygonsContainInner.html",target:"_blank"}},[t._v("code")])])},function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticStyle:{width:"600px",padding:"0px 20px 0px 0px",position:"relative"}},[e("div",{staticClass:"option-label"},[t._v("\n                opt example\n            ")]),t._v(" "),e("div",{staticStyle:{border:"1px solid #ddd"}},[e("div",{staticStyle:{"padding-left":"5px","overflow-y":"auto",height:"500px"}},[e("div",{staticStyle:{"font-size":"10pt"},attrs:{id:"optjson"}})])])])}]},(function(t){t&&t("data-v-b8dfb2e0_0",{source:"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",map:{version:3,sources:[],names:[],mappings:"",file:"AppCTRContourSetPolygonsContainInner.vue"},media:void 0})}),ZH,undefined,false,undefined,!1,QS,void 0,void 0);const GH={components:{WLeafletVue:cL},data:function(){return{opt:{center:[24.084,121.068],zoom:8,defContourSetsClick:function(t){console.log("defContourSetsClick",t)},contourSets:[{title:"contourSet A",msg:"msg from contourSet A",points:[[24.325,120.786,0],[23.944,120.968,10],[24.884,121.234,20],[24.579,121.345,80],[24.664,121.761,40],[23.803,121.397,30],[23.727,120.772,0],[23.539,120.975,0],[23.612,121.434,0],[23.193,120.355,22],[23.456,120.89,42],[23.28,120.551,25],[23.162,121.247,5]],visible:!0},{title:"contourSet B",msg:"msg from contourSet B",points:[[22.607,120.416,0],[22.967,120.663,15],[22.592,120.922,20],[22.717,120.644,45]],visible:!1}]},action:[]}},mounted:function(){this.showOptJson()},watch:{opt:{handler:function(){this.showOptJson()},deep:!0}},methods:{showOptJson:function(){uL(this.opt,document.querySelector("#optjson"),{expanded:!0})}}};var WH=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[t._m(0),t._v(" "),e("div",{staticStyle:{display:"flex","padding-bottom":"20px"}},[e("div",{staticStyle:{padding:"0px 20px"}},[e("WLeafletVue",{staticStyle:{width:"800px",height:"500px"},attrs:{opt:t.opt}})],1),t._v(" "),t._m(1)])])};WH._withStripped=!0;const gH=US({render:WH,staticRenderFns:[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticStyle:{padding:"20px"}},[e("div",{staticStyle:{"font-size":"1.5rem"}},[t._v("defContourSetsClick")]),t._v(" "),e("a",{staticClass:"item-link",attrs:{href:"//yuda-lyu.github.io/w-leaflet-vue/examples/ex-AppCTRDefContourSetsClick.html",target:"_blank"}},[t._v("example")]),t._v(" "),e("a",{staticClass:"item-link",attrs:{href:"//github.com/yuda-lyu/w-leaflet-vue/blob/master/docs/examples/ex-AppCTRDefContourSetsClick.html",target:"_blank"}},[t._v("code")])])},function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticStyle:{width:"600px",padding:"0px 20px 0px 0px",position:"relative"}},[e("div",{staticClass:"option-label"},[t._v("\n                opt example\n            ")]),t._v(" "),e("div",{staticStyle:{border:"1px solid #ddd"}},[e("div",{staticStyle:{"padding-left":"5px","overflow-y":"auto",height:"500px"}},[e("div",{staticStyle:{"font-size":"10pt"},attrs:{id:"optjson"}})])])])}]},(function(t){t&&t("data-v-012aaa64_0",{source:"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",map:{version:3,sources:[],names:[],mappings:"",file:"AppCTRDefContourSetsClick.vue"},media:void 0})}),GH,undefined,false,undefined,!1,QS,void 0,void 0);const vH={components:{WLeafletVue:cL},data:function(){return{opt:{center:[24.084,121.068],zoom:8,defContourSetsClick:function(t){console.log("defContourSetsClick",t)},contourSets:[{title:"contourSet A",msg:"msg from contourSet A",points:[[24.325,120.786,0],[23.944,120.968,10],[24.884,121.234,20],[24.579,121.345,80],[24.664,121.761,40],[23.803,121.397,30],[23.727,120.772,0],[23.539,120.975,0],[23.612,121.434,0],[23.193,120.355,22],[23.456,120.89,42],[23.28,120.551,25],[23.162,121.247,5]],visible:!0,click:function(t){console.log("contourSets[0] click",t)}},{title:"contourSet B",msg:"msg from contourSet B",points:[[22.607,120.416,0],[22.967,120.663,15],[22.592,120.922,20],[22.717,120.644,45]],visible:!1}]},action:[]}},mounted:function(){this.showOptJson()},watch:{opt:{handler:function(){this.showOptJson()},deep:!0}},methods:{showOptJson:function(){uL(this.opt,document.querySelector("#optjson"),{expanded:!0})}}};var VH=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[t._m(0),t._v(" "),e("div",{staticStyle:{display:"flex","padding-bottom":"20px"}},[e("div",{staticStyle:{padding:"0px 20px"}},[e("WLeafletVue",{staticStyle:{width:"800px",height:"500px"},attrs:{opt:t.opt}})],1),t._v(" "),t._m(1)])])};VH._withStripped=!0;const xH=US({render:VH,staticRenderFns:[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticStyle:{padding:"20px"}},[e("div",{staticStyle:{"font-size":"1.5rem"}},[t._v("contourSet.click")]),t._v(" "),e("a",{staticClass:"item-link",attrs:{href:"//yuda-lyu.github.io/w-leaflet-vue/examples/ex-AppCTRContourSetClick.html",target:"_blank"}},[t._v("example")]),t._v(" "),e("a",{staticClass:"item-link",attrs:{href:"//github.com/yuda-lyu/w-leaflet-vue/blob/master/docs/examples/ex-AppCTRContourSetClick.html",target:"_blank"}},[t._v("code")])])},function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticStyle:{width:"600px",padding:"0px 20px 0px 0px",position:"relative"}},[e("div",{staticClass:"option-label"},[t._v("\n                opt example\n            ")]),t._v(" "),e("div",{staticStyle:{border:"1px solid #ddd"}},[e("div",{staticStyle:{"padding-left":"5px","overflow-y":"auto",height:"500px"}},[e("div",{staticStyle:{"font-size":"10pt"},attrs:{id:"optjson"}})])])])}]},(function(t){t&&t("data-v-00baa0a2_0",{source:"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",map:{version:3,sources:[],names:[],mappings:"",file:"AppCTRContourSetClick.vue"},media:void 0})}),vH,undefined,false,undefined,!1,QS,void 0,void 0);const SH={components:{WLeafletVue:cL},data:function(){return{opt:{center:[24.084,121.068],zoom:8,defContourSetsPopup:function(t){console.log("defContourSetsPopup",t);var n="";return n+='<div style="padding:15px;">',n+='<div style="color:#222; font-size:0.9rem; white-space:nowrap;"><span style="color:#62f;">[Popup>contourSets]</span> '+t.contourSet.title+"</div>",n+='<div style="color:#aaa;">'+t.contourSet.msg+"</div>",n+="</div>"},contourSets:[{title:"contourSet A",msg:"msg from contourSet A",points:[[24.325,120.786,0],[23.944,120.968,10],[24.884,121.234,20],[24.579,121.345,80],[24.664,121.761,40],[23.803,121.397,30],[23.727,120.772,0],[23.539,120.975,0],[23.612,121.434,0],[23.193,120.355,22],[23.456,120.89,42],[23.28,120.551,25],[23.162,121.247,5]],visible:!0},{title:"contourSet B",msg:"msg from contourSet B",points:[[22.607,120.416,0],[22.967,120.663,15],[22.592,120.922,20],[22.717,120.644,45]],visible:!1}]},action:[]}},mounted:function(){this.showOptJson()},watch:{opt:{handler:function(){this.showOptJson()},deep:!0}},methods:{showOptJson:function(){uL(this.opt,document.querySelector("#optjson"),{expanded:!0})}}};var LH=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[t._m(0),t._v(" "),e("div",{staticStyle:{display:"flex","padding-bottom":"20px"}},[e("div",{staticStyle:{padding:"0px 20px"}},[e("WLeafletVue",{staticStyle:{width:"800px",height:"500px"},attrs:{opt:t.opt}})],1),t._v(" "),t._m(1)])])};LH._withStripped=!0;const RH=US({render:LH,staticRenderFns:[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticStyle:{padding:"20px"}},[e("div",{staticStyle:{"font-size":"1.5rem"}},[t._v("defContourSetsPopup")]),t._v(" "),e("a",{staticClass:"item-link",attrs:{href:"//yuda-lyu.github.io/w-leaflet-vue/examples/ex-AppCTRDefContourSetsPopup.html",target:"_blank"}},[t._v("example")]),t._v(" "),e("a",{staticClass:"item-link",attrs:{href:"//github.com/yuda-lyu/w-leaflet-vue/blob/master/docs/examples/ex-AppCTRDefContourSetsPopup.html",target:"_blank"}},[t._v("code")])])},function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticStyle:{width:"600px",padding:"0px 20px 0px 0px",position:"relative"}},[e("div",{staticClass:"option-label"},[t._v("\n                opt example\n            ")]),t._v(" "),e("div",{staticStyle:{border:"1px solid #ddd"}},[e("div",{staticStyle:{"padding-left":"5px","overflow-y":"auto",height:"500px"}},[e("div",{staticStyle:{"font-size":"10pt"},attrs:{id:"optjson"}})])])])}]},(function(t){t&&t("data-v-5bd4139d_0",{source:"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",map:{version:3,sources:[],names:[],mappings:"",file:"AppCTRDefContourSetsPopup.vue"},media:void 0})}),SH,undefined,false,undefined,!1,QS,void 0,void 0);const KH={components:{WLeafletVue:cL},data:function(){return{opt:{center:[24.084,121.068],zoom:8,defContourSetsPopup:function(t){console.log("defContourSetsPopup",t);var n="";return n+='<div style="padding:15px;">',n+='<div style="color:#222; font-size:0.9rem; white-space:nowrap;"><span style="color:#62f;">[Popup>contourSets]</span> '+t.contourSet.title+"</div>",n+='<div style="color:#aaa;">'+t.contourSet.msg+"</div>",n+="</div>"},contourSets:[{title:"contourSet A",msg:"msg from contourSet A",points:[[24.325,120.786,0],[23.944,120.968,10],[24.884,121.234,20],[24.579,121.345,80],[24.664,121.761,40],[23.803,121.397,30],[23.727,120.772,0],[23.539,120.975,0],[23.612,121.434,0],[23.193,120.355,22],[23.456,120.89,42],[23.28,120.551,25],[23.162,121.247,5]],visible:!0,popup:function(t){console.log("contourSets[0] popup",t);var n="";return n+='<div style="padding:15px;">',n+='<div style="color:#222; font-size:0.9rem; white-space:nowrap;"><span style="color:#f26;">[Popup>contourSet]</span> '+t.contourSet.title+"</div>",n+='<div style="color:#aaa;">'+t.contourSet.msg+"</div>",n+="</div>"}},{title:"contourSet B",msg:"msg from contourSet B",points:[[22.607,120.416,0],[22.967,120.663,15],[22.592,120.922,20],[22.717,120.644,45]],visible:!1}]},action:[]}},mounted:function(){this.showOptJson()},watch:{opt:{handler:function(){this.showOptJson()},deep:!0}},methods:{showOptJson:function(){uL(this.opt,document.querySelector("#optjson"),{expanded:!0})}}};var HH=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[t._m(0),t._v(" "),e("div",{staticStyle:{display:"flex","padding-bottom":"20px"}},[e("div",{staticStyle:{padding:"0px 20px"}},[e("WLeafletVue",{staticStyle:{width:"800px",height:"500px"},attrs:{opt:t.opt}})],1),t._v(" "),t._m(1)])])};HH._withStripped=!0;const CH=US({render:HH,staticRenderFns:[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticStyle:{padding:"20px"}},[e("div",{staticStyle:{"font-size":"1.5rem"}},[t._v("contourSet.popup")]),t._v(" "),e("a",{staticClass:"item-link",attrs:{href:"//yuda-lyu.github.io/w-leaflet-vue/examples/ex-AppCTRContourSetPopup.html",target:"_blank"}},[t._v("example")]),t._v(" "),e("a",{staticClass:"item-link",attrs:{href:"//github.com/yuda-lyu/w-leaflet-vue/blob/master/docs/examples/ex-AppCTRContourSetPopup.html",target:"_blank"}},[t._v("code")])])},function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticStyle:{width:"600px",padding:"0px 20px 0px 0px",position:"relative"}},[e("div",{staticClass:"option-label"},[t._v("\n                opt example\n            ")]),t._v(" "),e("div",{staticStyle:{border:"1px solid #ddd"}},[e("div",{staticStyle:{"padding-left":"5px","overflow-y":"auto",height:"500px"}},[e("div",{staticStyle:{"font-size":"10pt"},attrs:{id:"optjson"}})])])])}]},(function(t){t&&t("data-v-c2157788_0",{source:"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",map:{version:3,sources:[],names:[],mappings:"",file:"AppCTRContourSetPopup.vue"},media:void 0})}),KH,undefined,false,undefined,!1,QS,void 0,void 0);const YH={components:{WLeafletVue:cL},data:function(){return{opt:{center:[24.084,121.068],zoom:8,defContourSetsTooltip:function(t){console.log("defContourSetsTooltip",t);var n="";return n+='<div style="padding:5px 10px;">',n+='<div style="color:#222; font-size:0.9rem; white-space:nowrap;"><span style="color:#62f;">[Popup>contourSets]</span> '+t.contourSet.title+"</div>",n+='<div style="color:#aaa; white-space:normal;">'+t.contourSet.msg+"</div>",n+="</div>"},contourSets:[{title:"contourSet A",msg:"msg from contourSet A",points:[[24.325,120.786,0],[23.944,120.968,10],[24.884,121.234,20],[24.579,121.345,80],[24.664,121.761,40],[23.803,121.397,30],[23.727,120.772,0],[23.539,120.975,0],[23.612,121.434,0],[23.193,120.355,22],[23.456,120.89,42],[23.28,120.551,25],[23.162,121.247,5]],visible:!0},{title:"contourSet B",msg:"msg from contourSet B",points:[[22.607,120.416,0],[22.967,120.663,15],[22.592,120.922,20],[22.717,120.644,45]],visible:!1}]},action:[]}},mounted:function(){this.showOptJson()},watch:{opt:{handler:function(){this.showOptJson()},deep:!0}},methods:{showOptJson:function(){uL(this.opt,document.querySelector("#optjson"),{expanded:!0})}}};var TH=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[t._m(0),t._v(" "),e("div",{staticStyle:{display:"flex","padding-bottom":"20px"}},[e("div",{staticStyle:{padding:"0px 20px"}},[e("WLeafletVue",{staticStyle:{width:"800px",height:"500px"},attrs:{opt:t.opt}})],1),t._v(" "),t._m(1)])])};TH._withStripped=!0;const MH=US({render:TH,staticRenderFns:[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticStyle:{padding:"20px"}},[e("div",{staticStyle:{"font-size":"1.5rem"}},[t._v("defContourSetsTooltip")]),t._v(" "),e("a",{staticClass:"item-link",attrs:{href:"//yuda-lyu.github.io/w-leaflet-vue/examples/ex-AppCTRDefContourSetsTooltip.html",target:"_blank"}},[t._v("example")]),t._v(" "),e("a",{staticClass:"item-link",attrs:{href:"//github.com/yuda-lyu/w-leaflet-vue/blob/master/docs/examples/ex-AppCTRDefContourSetsTooltip.html",target:"_blank"}},[t._v("code")])])},function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticStyle:{width:"600px",padding:"0px 20px 0px 0px",position:"relative"}},[e("div",{staticClass:"option-label"},[t._v("\n                opt example\n            ")]),t._v(" "),e("div",{staticStyle:{border:"1px solid #ddd"}},[e("div",{staticStyle:{"padding-left":"5px","overflow-y":"auto",height:"500px"}},[e("div",{staticStyle:{"font-size":"10pt"},attrs:{id:"optjson"}})])])])}]},(function(t){t&&t("data-v-5ab27d45_0",{source:"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",map:{version:3,sources:[],names:[],mappings:"",file:"AppCTRDefContourSetsTooltip.vue"},media:void 0})}),YH,undefined,false,undefined,!1,QS,void 0,void 0);const wH={components:{WLeafletVue:cL},data:function(){return{opt:{center:[24.084,121.068],zoom:8,defContourSetsTooltip:function(t){console.log("defContourSetsTooltip",t);var n="";return n+='<div style="padding:5px 10px;">',n+='<div style="color:#222; font-size:0.9rem; white-space:nowrap;"><span style="color:#62f;">[Popup>contourSets]</span> '+t.contourSet.title+"</div>",n+='<div style="color:#aaa; white-space:normal;">'+t.contourSet.msg+"</div>",n+="</div>"},contourSets:[{title:"contourSet A",msg:"msg from contourSet A",points:[[24.325,120.786,0],[23.944,120.968,10],[24.884,121.234,20],[24.579,121.345,80],[24.664,121.761,40],[23.803,121.397,30],[23.727,120.772,0],[23.539,120.975,0],[23.612,121.434,0],[23.193,120.355,22],[23.456,120.89,42],[23.28,120.551,25],[23.162,121.247,5]],visible:!0,tooltip:function(t){console.log("contourSets[0] tooltip",t);var n="";return n+='<div style="padding:5px 10px;">',n+='<div style="color:#222; font-size:0.9rem; white-space:nowrap;"><span style="color:#f26;">[Tooltip>polygonSet]</span> '+t.contourSet.title+"</div>",n+='<div style="color:#aaa; white-space:normal;">'+t.contourSet.msg+"</div>",n+="</div>"}},{title:"contourSet B",msg:"msg from contourSet B",points:[[22.607,120.416,0],[22.967,120.663,15],[22.592,120.922,20],[22.717,120.644,45]],visible:!1}]},action:[]}},mounted:function(){this.showOptJson()},watch:{opt:{handler:function(){this.showOptJson()},deep:!0}},methods:{showOptJson:function(){uL(this.opt,document.querySelector("#optjson"),{expanded:!0})}}};var PH=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[t._m(0),t._v(" "),e("div",{staticStyle:{display:"flex","padding-bottom":"20px"}},[e("div",{staticStyle:{padding:"0px 20px"}},[e("WLeafletVue",{staticStyle:{width:"800px",height:"500px"},attrs:{opt:t.opt}})],1),t._v(" "),t._m(1)])])};PH._withStripped=!0;const IH=US({render:PH,staticRenderFns:[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticStyle:{padding:"20px"}},[e("div",{staticStyle:{"font-size":"1.5rem"}},[t._v("contourSet.tooltip")]),t._v(" "),e("a",{staticClass:"item-link",attrs:{href:"//yuda-lyu.github.io/w-leaflet-vue/examples/ex-AppCTRContourSetTooltip.html",target:"_blank"}},[t._v("example")]),t._v(" "),e("a",{staticClass:"item-link",attrs:{href:"//github.com/yuda-lyu/w-leaflet-vue/blob/master/docs/examples/ex-AppCTRContourSetTooltip.html",target:"_blank"}},[t._v("code")])])},function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticStyle:{width:"600px",padding:"0px 20px 0px 0px",position:"relative"}},[e("div",{staticClass:"option-label"},[t._v("\n                opt example\n            ")]),t._v(" "),e("div",{staticStyle:{border:"1px solid #ddd"}},[e("div",{staticStyle:{"padding-left":"5px","overflow-y":"auto",height:"500px"}},[e("div",{staticStyle:{"font-size":"10pt"},attrs:{id:"optjson"}})])])])}]},(function(t){t&&t("data-v-a413b576_0",{source:"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",map:{version:3,sources:[],names:[],mappings:"",file:"AppCTRContourSetTooltip.vue"},media:void 0})}),wH,undefined,false,undefined,!1,QS,void 0,void 0);const zH={components:{WLeafletVue:cL},data:function(){for(var t=window.dataRain,n=[],e=0;e<t.length;e++){var i=t[e];n.push([i.latLng[0],i.latLng[1],i.rain])}return{opt:{center:[24.084,121.068],zoom:8,contourSets:[{title:"Rain contour",msg:"data from CWB",points:n,polygonClipOuter:window.dataRainClip,gradient:{0:"rgba(255, 255, 255, 0)",.2:"rgb(254, 178, 76)",.4:"rgb(252, 78, 42)",.6:"rgb(220, 58, 38)",.8:"rgb(200, 40, 23)",1:"rgb(180, 30, 60)"},visible:!0,order:0}],pointSets:[{title:"Rain point",msg:"data from CWB",points:t,visible:!1,order:1,tooltip:function(t){console.log("tooltip v",t);var n="";return n+='<div style="padding:5px 10px;">',n+='<div style="width:150px; color:#222; margin-bottom:5px; white-space:nowrap;"><span style="font-size:0.9rem; color:#f26;">['+t.point.title+']</span> <span style="font-size:0.8rem; ">'+t.point.msg+"</span></div>",n+='<div style="font-size:0.7rem; color:#666; white-space:normal;">降雨量 '+t.point.rain+" cm</div>",n+="</div>"}}]},action:[]}},mounted:function(){this.showOptJson()},watch:{opt:{handler:function(){this.showOptJson()},deep:!0}},methods:{showOptJson:function(){uL(this.opt,document.querySelector("#optjson"),{expanded:!0})}}};var JH=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[t._m(0),t._v(" "),e("div",{staticStyle:{display:"flex","padding-bottom":"20px"}},[e("div",{staticStyle:{padding:"0px 20px"}},[e("WLeafletVue",{staticStyle:{width:"800px",height:"500px"},attrs:{opt:t.opt}})],1),t._v(" "),t._m(1)])])};JH._withStripped=!0;const NH=US({render:JH,staticRenderFns:[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticStyle:{padding:"20px"}},[e("div",{staticStyle:{"font-size":"1.5rem"}},[t._v("contourSet.largeSet")]),t._v(" "),e("a",{staticClass:"item-link",attrs:{href:"//yuda-lyu.github.io/w-leaflet-vue/examples/ex-AppCTRContourSetLargeSet.html",target:"_blank"}},[t._v("example")]),t._v(" "),e("a",{staticClass:"item-link",attrs:{href:"//github.com/yuda-lyu/w-leaflet-vue/blob/master/docs/examples/ex-AppCTRContourSetLargeSet.html",target:"_blank"}},[t._v("code")])])},function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticStyle:{width:"600px",padding:"0px 20px 0px 0px",position:"relative"}},[e("div",{staticClass:"option-label"},[t._v("\n                opt example\n            ")]),t._v(" "),e("div",{staticStyle:{border:"1px solid #ddd"}},[e("div",{staticStyle:{"padding-left":"5px","overflow-y":"auto",height:"500px"}},[e("div",{staticStyle:{"font-size":"10pt"},attrs:{id:"optjson"}})])])])}]},(function(t){t&&t("data-v-1e99521f_0",{source:"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",map:{version:3,sources:[],names:[],mappings:"",file:"AppCTRContourSetLargeSet.vue"},media:void 0})}),zH,undefined,false,undefined,!1,QS,void 0,void 0);const FH={components:{WLeafletVue:cL},data:function(){return{opt:{panelItems:{show:!0},pointSets:[{title:"pointSet A",msg:"msg from pointSet A",points:[{title:"point A-1",msg:"msg from data A-1",latLng:[24.2,121.27]},{title:"point A-2",msg:"msg from data A-2",latLng:[23.9,120.97]}],visible:!0},{title:"pointSet B",msg:"msg from pointSet B",points:[{title:"point B-1",msg:"msg from data B-1",latLng:[23.3,120.57]},{title:"point B-2",msg:"msg from data B-2",latLng:[23,120.87]}],visible:!1}]},action:[]}},mounted:function(){this.showOptJson()},watch:{opt:{handler:function(){this.showOptJson()},deep:!0}},methods:{showOptJson:function(){uL(this.opt,document.querySelector("#optjson"),{expanded:!0})}}};var kH=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[t._m(0),t._v(" "),e("div",{staticStyle:{display:"flex","padding-bottom":"20px"}},[e("div",{staticStyle:{padding:"0px 20px"}},[e("div",[e("button",{staticStyle:{margin:"0px 3px 3px 0px"},on:{click:function(n){t.opt.panelItems.show=!0}}},[t._v("show(default)")]),t._v(" "),e("button",{staticStyle:{margin:"0px 3px 3px 0px"},on:{click:function(n){t.opt.panelItems.show=!1}}},[t._v("hide")])]),t._v(" "),e("WLeafletVue",{staticStyle:{width:"800px",height:"500px"},attrs:{opt:t.opt}})],1),t._v(" "),t._m(1)])])};kH._withStripped=!0;const BH=US({render:kH,staticRenderFns:[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticStyle:{padding:"20px"}},[e("div",{staticStyle:{"font-size":"1.5rem"}},[t._v("panelItems.show")]),t._v(" "),e("a",{staticClass:"item-link",attrs:{href:"//yuda-lyu.github.io/w-leaflet-vue/examples/ex-AppPIMShow.html",target:"_blank"}},[t._v("example")]),t._v(" "),e("a",{staticClass:"item-link",attrs:{href:"//github.com/yuda-lyu/w-leaflet-vue/blob/master/docs/examples/ex-AppPIMShow.html",target:"_blank"}},[t._v("code")])])},function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticStyle:{width:"600px",padding:"0px 20px 0px 0px",position:"relative"}},[e("div",{staticClass:"option-label"},[t._v("\n                opt example\n            ")]),t._v(" "),e("div",{staticStyle:{border:"1px solid #ddd"}},[e("div",{staticStyle:{"padding-left":"5px","overflow-y":"auto",height:"500px"}},[e("div",{staticStyle:{"font-size":"10pt"},attrs:{id:"optjson"}})])])])}]},(function(t){t&&t("data-v-7fcad1fa_0",{source:"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",map:{version:3,sources:[],names:[],mappings:"",file:"AppPIMShow.vue"},media:void 0})}),FH,undefined,false,undefined,!1,QS,void 0,void 0);const _H={components:{WLeafletVue:cL},data:function(){return{opt:{panelItems:{position:"topleft"},pointSets:[{title:"pointSet A",msg:"msg from pointSet A",points:[{title:"point A-1",msg:"msg from data A-1",latLng:[24.2,121.27]},{title:"point A-2",msg:"msg from data A-2",latLng:[23.9,120.97]}],visible:!0},{title:"pointSet B",msg:"msg from pointSet B",points:[{title:"point B-1",msg:"msg from data B-1",latLng:[23.3,120.57]},{title:"point B-2",msg:"msg from data B-2",latLng:[23,120.87]}],visible:!1}]},action:[]}},mounted:function(){this.showOptJson()},watch:{opt:{handler:function(){this.showOptJson()},deep:!0}},methods:{showOptJson:function(){uL(this.opt,document.querySelector("#optjson"),{expanded:!0})}}};var UH=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[t._m(0),t._v(" "),e("div",{staticStyle:{display:"flex","padding-bottom":"20px"}},[e("div",{staticStyle:{padding:"0px 20px"}},[e("div",[e("button",{staticStyle:{margin:"0px 3px 3px 0px"},on:{click:function(n){t.opt.panelItems.position="topleft"}}},[t._v("topleft(default)")]),t._v(" "),e("button",{staticStyle:{margin:"0px 3px 3px 0px"},on:{click:function(n){t.opt.panelItems.position="topright"}}},[t._v("topright")]),t._v(" "),e("button",{staticStyle:{margin:"0px 3px 3px 0px"},on:{click:function(n){t.opt.panelItems.position="bottomleft"}}},[t._v("bottomleft")]),t._v(" "),e("button",{staticStyle:{margin:"0px 3px 3px 0px"},on:{click:function(n){t.opt.panelItems.position="bottomright"}}},[t._v("bottomright")])]),t._v(" "),e("WLeafletVue",{staticStyle:{width:"800px",height:"500px"},attrs:{opt:t.opt}})],1),t._v(" "),t._m(1)])])};UH._withStripped=!0;const EH=US({render:UH,staticRenderFns:[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticStyle:{padding:"20px"}},[e("div",{staticStyle:{"font-size":"1.5rem"}},[t._v("panelItems.position")]),t._v(" "),e("a",{staticClass:"item-link",attrs:{href:"//yuda-lyu.github.io/w-leaflet-vue/examples/ex-AppPIMPosition.html",target:"_blank"}},[t._v("example")]),t._v(" "),e("a",{staticClass:"item-link",attrs:{href:"//github.com/yuda-lyu/w-leaflet-vue/blob/master/docs/examples/ex-AppPIMPosition.html",target:"_blank"}},[t._v("code")])])},function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticStyle:{width:"600px",padding:"0px 20px 0px 0px",position:"relative"}},[e("div",{staticClass:"option-label"},[t._v("\n                opt example\n            ")]),t._v(" "),e("div",{staticStyle:{border:"1px solid #ddd"}},[e("div",{staticStyle:{"padding-left":"5px","overflow-y":"auto",height:"500px"}},[e("div",{staticStyle:{"font-size":"10pt"},attrs:{id:"optjson"}})])])])}]},(function(t){t&&t("data-v-20d6d560_0",{source:"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",map:{version:3,sources:[],names:[],mappings:"",file:"AppPIMPosition.vue"},media:void 0})}),_H,undefined,false,undefined,!1,QS,void 0,void 0);const jH={components:{WLeafletVue:cL},data:function(){return{opt:{panelItems:{position:"topleft",maxWidth:null},pointSets:[{title:"pointSet A",msg:"msg from pointSet A",points:[{title:"point A-1",msg:"msg from data A-1",latLng:[24.2,121.27]},{title:"point A-2",msg:"msg from data A-2",latLng:[23.9,120.97]}],visible:!0},{title:"pointSet B",msg:"msg from pointSet B",points:[{title:"point B-1",msg:"msg from data B-1",latLng:[23.3,120.57]},{title:"point B-2",msg:"msg from data B-2",latLng:[23,120.87]}],visible:!1}]},action:[]}},mounted:function(){this.showOptJson()},watch:{opt:{handler:function(){this.showOptJson()},deep:!0}},methods:{showOptJson:function(){uL(this.opt,document.querySelector("#optjson"),{expanded:!0})}}};var QH=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[t._m(0),t._v(" "),e("div",{staticStyle:{display:"flex","padding-bottom":"20px"}},[e("div",{staticStyle:{padding:"0px 20px"}},[e("div",[e("button",{staticStyle:{margin:"0px 3px 3px 0px"},on:{click:function(n){t.opt.panelItems.maxWidth=null}}},[t._v("null(default)")]),t._v(" "),e("button",{staticStyle:{margin:"0px 3px 3px 0px"},on:{click:function(n){t.opt.panelItems.maxWidth=100}}},[t._v("100")])]),t._v(" "),e("WLeafletVue",{staticStyle:{width:"800px",height:"500px"},attrs:{opt:t.opt}})],1),t._v(" "),t._m(1)])])};QH._withStripped=!0;const OH=US({render:QH,staticRenderFns:[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticStyle:{padding:"20px"}},[e("div",{staticStyle:{"font-size":"1.5rem"}},[t._v("panelItems.maxWidth")]),t._v(" "),e("a",{staticClass:"item-link",attrs:{href:"//yuda-lyu.github.io/w-leaflet-vue/examples/ex-AppPIMMaxWidth.html",target:"_blank"}},[t._v("example")]),t._v(" "),e("a",{staticClass:"item-link",attrs:{href:"//github.com/yuda-lyu/w-leaflet-vue/blob/master/docs/examples/ex-AppPIMMaxWidth.html",target:"_blank"}},[t._v("code")])])},function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticStyle:{width:"600px",padding:"0px 20px 0px 0px",position:"relative"}},[e("div",{staticClass:"option-label"},[t._v("\n                opt example\n            ")]),t._v(" "),e("div",{staticStyle:{border:"1px solid #ddd"}},[e("div",{staticStyle:{"padding-left":"5px","overflow-y":"auto",height:"500px"}},[e("div",{staticStyle:{"font-size":"10pt"},attrs:{id:"optjson"}})])])])}]},(function(t){t&&t("data-v-00e040d4_0",{source:"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",map:{version:3,sources:[],names:[],mappings:"",file:"AppPIMMaxWidth.vue"},media:void 0})}),jH,undefined,false,undefined,!1,QS,void 0,void 0);const AH={components:{WLeafletVue:cL},data:function(){return{opt:{panelItems:{position:"topleft",maxHeight:null},pointSets:[{title:"pointSet A",msg:"msg from pointSet A",points:[{title:"point A-1",msg:"msg from data A-1",latLng:[24.2,121.27]},{title:"point A-2",msg:"msg from data A-2",latLng:[23.9,120.97]}],visible:!0},{title:"pointSet B",msg:"msg from pointSet B",points:[{title:"point B-1",msg:"msg from data B-1",latLng:[23.3,120.57]},{title:"point B-2",msg:"msg from data B-2",latLng:[23,120.87]}],visible:!1},{title:"pointSet C",msg:"msg from pointSet C",points:[{title:"point C-1",msg:"msg from data C-1",latLng:[23.3,120.57]},{title:"point C-2",msg:"msg from data C-2",latLng:[23,120.87]}],visiCle:!1},{title:"pointSet D",msg:"msg from pointSet D",points:[{title:"point D-1",msg:"msg from data D-1",latLng:[23.3,120.57]},{title:"point D-2",msg:"msg from data D-2",latLng:[23,120.87]}],visiDle:!1},{title:"pointSet E",msg:"msg from pointSet E",points:[{title:"point E-1",msg:"msg from data E-1",latLng:[23.3,120.57]},{title:"point E-2",msg:"msg from data E-2",latLng:[23,120.87]}],visiEle:!1}]},action:[]}},mounted:function(){this.showOptJson()},watch:{opt:{handler:function(){this.showOptJson()},deep:!0}},methods:{showOptJson:function(){uL(this.opt,document.querySelector("#optjson"),{expanded:!0})}}};var DH=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[t._m(0),t._v(" "),e("div",{staticStyle:{display:"flex","padding-bottom":"20px"}},[e("div",{staticStyle:{padding:"0px 20px"}},[e("div",[e("button",{staticStyle:{margin:"0px 3px 3px 0px"},on:{click:function(n){t.opt.panelItems.maxHeight=null}}},[t._v("null(default)")]),t._v(" "),e("button",{staticStyle:{margin:"0px 3px 3px 0px"},on:{click:function(n){t.opt.panelItems.maxHeight=100}}},[t._v("100")])]),t._v(" "),e("WLeafletVue",{staticStyle:{width:"800px",height:"500px"},attrs:{opt:t.opt}})],1),t._v(" "),t._m(1)])])};DH._withStripped=!0;const qH=US({render:DH,staticRenderFns:[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticStyle:{padding:"20px"}},[e("div",{staticStyle:{"font-size":"1.5rem"}},[t._v("panelItems.maxHeight")]),t._v(" "),e("a",{staticClass:"item-link",attrs:{href:"//yuda-lyu.github.io/w-leaflet-vue/examples/ex-AppPIMMaxHeight.html",target:"_blank"}},[t._v("example")]),t._v(" "),e("a",{staticClass:"item-link",attrs:{href:"//github.com/yuda-lyu/w-leaflet-vue/blob/master/docs/examples/ex-AppPIMMaxHeight.html",target:"_blank"}},[t._v("code")])])},function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticStyle:{width:"600px",padding:"0px 20px 0px 0px",position:"relative"}},[e("div",{staticClass:"option-label"},[t._v("\n                opt example\n            ")]),t._v(" "),e("div",{staticStyle:{border:"1px solid #ddd"}},[e("div",{staticStyle:{"padding-left":"5px","overflow-y":"auto",height:"500px"}},[e("div",{staticStyle:{"font-size":"10pt"},attrs:{id:"optjson"}})])])])}]},(function(t){t&&t("data-v-206aef14_0",{source:"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",map:{version:3,sources:[],names:[],mappings:"",file:"AppPIMMaxHeight.vue"},media:void 0})}),AH,undefined,false,undefined,!1,QS,void 0,void 0);const $H={components:{WLeafletVue:cL},data:function(){return{opt:{center:[24.084,121.068],zoom:8,panelLegends:{show:!0},contourSets:[{title:"contourSet A",msg:"msg from contourSet A",points:[[24.325,120.786,0],[23.944,120.968,10],[24.884,121.234,20],[24.579,121.345,80],[24.664,121.761,40],[23.803,121.397,30],[23.727,120.772,0],[23.539,120.975,0],[23.612,121.434,0],[23.193,120.355,22],[23.456,120.89,42],[23.28,120.551,25],[23.162,121.247,5]],visible:!0},{title:"contourSet B",msg:"msg from contourSet B",points:[[22.607,120.416,0],[22.967,120.663,15],[22.592,120.922,20],[22.717,120.644,45]],visible:!1}]},action:[]}},mounted:function(){this.showOptJson()},watch:{opt:{handler:function(){this.showOptJson()},deep:!0}},methods:{showOptJson:function(){uL(this.opt,document.querySelector("#optjson"),{expanded:!0})}}};var tC=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[t._m(0),t._v(" "),e("div",{staticStyle:{display:"flex","padding-bottom":"20px"}},[e("div",{staticStyle:{padding:"0px 20px"}},[e("div",[e("button",{staticStyle:{margin:"0px 3px 3px 0px"},on:{click:function(n){t.opt.panelLegends.show=!0}}},[t._v("show(default)")]),t._v(" "),e("button",{staticStyle:{margin:"0px 3px 3px 0px"},on:{click:function(n){t.opt.panelLegends.show=!1}}},[t._v("hide")])]),t._v(" "),e("WLeafletVue",{staticStyle:{width:"800px",height:"500px"},attrs:{opt:t.opt}})],1),t._v(" "),t._m(1)])])};tC._withStripped=!0;const nC=US({render:tC,staticRenderFns:[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticStyle:{padding:"20px"}},[e("div",{staticStyle:{"font-size":"1.5rem"}},[t._v("panelLegends.show")]),t._v(" "),e("a",{staticClass:"item-link",attrs:{href:"//yuda-lyu.github.io/w-leaflet-vue/examples/ex-AppLGDShow.html",target:"_blank"}},[t._v("example")]),t._v(" "),e("a",{staticClass:"item-link",attrs:{href:"//github.com/yuda-lyu/w-leaflet-vue/blob/master/docs/examples/ex-AppLGDShow.html",target:"_blank"}},[t._v("code")])])},function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticStyle:{width:"600px",padding:"0px 20px 0px 0px",position:"relative"}},[e("div",{staticClass:"option-label"},[t._v("\n                opt example\n            ")]),t._v(" "),e("div",{staticStyle:{border:"1px solid #ddd"}},[e("div",{staticStyle:{"padding-left":"5px","overflow-y":"auto",height:"500px"}},[e("div",{staticStyle:{"font-size":"10pt"},attrs:{id:"optjson"}})])])])}]},(function(t){t&&t("data-v-6a555f39_0",{source:"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",map:{version:3,sources:[],names:[],mappings:"",file:"AppLGDShow.vue"},media:void 0})}),$H,undefined,false,undefined,!1,QS,void 0,void 0);const eC={components:{WLeafletVue:cL},data:function(){return{opt:{center:[24.084,121.068],zoom:8,panelLegends:{position:"bottomright"},contourSets:[{title:"contourSet A",msg:"msg from contourSet A",points:[[24.325,120.786,0],[23.944,120.968,10],[24.884,121.234,20],[24.579,121.345,80],[24.664,121.761,40],[23.803,121.397,30],[23.727,120.772,0],[23.539,120.975,0],[23.612,121.434,0],[23.193,120.355,22],[23.456,120.89,42],[23.28,120.551,25],[23.162,121.247,5]],visible:!0},{title:"contourSet B",msg:"msg from contourSet B",points:[[22.607,120.416,0],[22.967,120.663,15],[22.592,120.922,20],[22.717,120.644,45]],visible:!1}]},action:[]}},mounted:function(){this.showOptJson()},watch:{opt:{handler:function(){this.showOptJson()},deep:!0}},methods:{showOptJson:function(){uL(this.opt,document.querySelector("#optjson"),{expanded:!0})}}};var iC=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[t._m(0),t._v(" "),e("div",{staticStyle:{display:"flex","padding-bottom":"20px"}},[e("div",{staticStyle:{padding:"0px 20px"}},[e("div",[e("button",{staticStyle:{margin:"0px 3px 3px 0px"},on:{click:function(n){t.opt.panelLegends.position="topleft"}}},[t._v("topleft")]),t._v(" "),e("button",{staticStyle:{margin:"0px 3px 3px 0px"},on:{click:function(n){t.opt.panelLegends.position="topright"}}},[t._v("topright")]),t._v(" "),e("button",{staticStyle:{margin:"0px 3px 3px 0px"},on:{click:function(n){t.opt.panelLegends.position="bottomleft"}}},[t._v("bottomleft")]),t._v(" "),e("button",{staticStyle:{margin:"0px 3px 3px 0px"},on:{click:function(n){t.opt.panelLegends.position="bottomright"}}},[t._v("bottomright(default)")])]),t._v(" "),e("WLeafletVue",{staticStyle:{width:"800px",height:"500px"},attrs:{opt:t.opt}})],1),t._v(" "),t._m(1)])])};iC._withStripped=!0;const oC=US({render:iC,staticRenderFns:[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticStyle:{padding:"20px"}},[e("div",{staticStyle:{"font-size":"1.5rem"}},[t._v("panelLegends.position")]),t._v(" "),e("a",{staticClass:"item-link",attrs:{href:"//yuda-lyu.github.io/w-leaflet-vue/examples/ex-AppLGDPosition.html",target:"_blank"}},[t._v("example")]),t._v(" "),e("a",{staticClass:"item-link",attrs:{href:"//github.com/yuda-lyu/w-leaflet-vue/blob/master/docs/examples/ex-AppLGDPosition.html",target:"_blank"}},[t._v("code")])])},function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticStyle:{width:"600px",padding:"0px 20px 0px 0px",position:"relative"}},[e("div",{staticClass:"option-label"},[t._v("\n                opt example\n            ")]),t._v(" "),e("div",{staticStyle:{border:"1px solid #ddd"}},[e("div",{staticStyle:{"padding-left":"5px","overflow-y":"auto",height:"500px"}},[e("div",{staticStyle:{"font-size":"10pt"},attrs:{id:"optjson"}})])])])}]},(function(t){t&&t("data-v-17ee6a52_0",{source:"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",map:{version:3,sources:[],names:[],mappings:"",file:"AppLGDPosition.vue"},media:void 0})}),eC,undefined,false,undefined,!1,QS,void 0,void 0);const lC={components:{WLeafletVue:cL},data:function(){return{opt:{center:[24.084,121.068],zoom:8,panelLegends:{maxWidth:null},contourSets:[{title:"contourSet (for long title)",msg:"msg from contourSet A",points:[[24.325,120.786,0],[23.944,120.968,10],[24.884,121.234,20],[24.579,121.345,80],[24.664,121.761,40],[23.803,121.397,30],[23.727,120.772,0],[23.539,120.975,0],[23.612,121.434,0],[23.193,120.355,22],[23.456,120.89,42],[23.28,120.551,25],[23.162,121.247,5]],visible:!0},{title:"contourSet B (for long title)",msg:"msg from contourSet B",points:[[22.607,120.416,0],[22.967,120.663,15],[22.592,120.922,20],[22.717,120.644,45]],visible:!0}]},action:[]}},mounted:function(){this.showOptJson()},watch:{opt:{handler:function(){this.showOptJson()},deep:!0}},methods:{showOptJson:function(){uL(this.opt,document.querySelector("#optjson"),{expanded:!0})}}};var sC=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[t._m(0),t._v(" "),e("div",{staticStyle:{display:"flex","padding-bottom":"20px"}},[e("div",{staticStyle:{padding:"0px 20px"}},[e("div",[e("button",{staticStyle:{margin:"0px 3px 3px 0px"},on:{click:function(n){t.opt.panelLegends.maxWidth=null}}},[t._v("null(default)")]),t._v(" "),e("button",{staticStyle:{margin:"0px 3px 3px 0px"},on:{click:function(n){t.opt.panelLegends.maxWidth=150}}},[t._v("150")])]),t._v(" "),e("WLeafletVue",{staticStyle:{width:"800px",height:"500px"},attrs:{opt:t.opt}})],1),t._v(" "),t._m(1)])])};sC._withStripped=!0;const rC=US({render:sC,staticRenderFns:[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticStyle:{padding:"20px"}},[e("div",{staticStyle:{"font-size":"1.5rem"}},[t._v("panelLegends.maxWidth")]),t._v(" "),e("a",{staticClass:"item-link",attrs:{href:"//yuda-lyu.github.io/w-leaflet-vue/examples/ex-AppLGDMaxWidth.html",target:"_blank"}},[t._v("example")]),t._v(" "),e("a",{staticClass:"item-link",attrs:{href:"//github.com/yuda-lyu/w-leaflet-vue/blob/master/docs/examples/ex-AppLGDMaxWidth.html",target:"_blank"}},[t._v("code")])])},function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticStyle:{width:"600px",padding:"0px 20px 0px 0px",position:"relative"}},[e("div",{staticClass:"option-label"},[t._v("\n                opt example\n            ")]),t._v(" "),e("div",{staticStyle:{border:"1px solid #ddd"}},[e("div",{staticStyle:{"padding-left":"5px","overflow-y":"auto",height:"500px"}},[e("div",{staticStyle:{"font-size":"10pt"},attrs:{id:"optjson"}})])])])}]},(function(t){t&&t("data-v-6a49d19d_0",{source:"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",map:{version:3,sources:[],names:[],mappings:"",file:"AppLGDMaxWidth.vue"},media:void 0})}),lC,undefined,false,undefined,!1,QS,void 0,void 0);const aC={components:{WLeafletVue:cL},data:function(){return{opt:{center:[24.084,121.068],zoom:8,panelLegends:{maxHeight:300},contourSets:[{title:"contourSet (for long title)",msg:"msg from contourSet A",points:[[24.325,120.786,0],[23.944,120.968,10],[24.884,121.234,20],[24.579,121.345,80],[24.664,121.761,40],[23.803,121.397,30],[23.727,120.772,0],[23.539,120.975,0],[23.612,121.434,0],[23.193,120.355,22],[23.456,120.89,42],[23.28,120.551,25],[23.162,121.247,5]],visible:!0},{title:"contourSet B (for long title)",msg:"msg from contourSet B",points:[[22.607,120.416,0],[22.967,120.663,15],[22.592,120.922,20],[22.717,120.644,45]],visible:!0}]},action:[]}},mounted:function(){this.showOptJson()},watch:{opt:{handler:function(){this.showOptJson()},deep:!0}},methods:{showOptJson:function(){uL(this.opt,document.querySelector("#optjson"),{expanded:!0})}}};var dC=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[t._m(0),t._v(" "),e("div",{staticStyle:{display:"flex","padding-bottom":"20px"}},[e("div",{staticStyle:{padding:"0px 20px"}},[e("div",[e("button",{staticStyle:{margin:"0px 3px 3px 0px"},on:{click:function(n){t.opt.panelLegends.maxHeight=null}}},[t._v("null(default)")]),t._v(" "),e("button",{staticStyle:{margin:"0px 3px 3px 0px"},on:{click:function(n){t.opt.panelLegends.maxHeight=150}}},[t._v("150")])]),t._v(" "),e("WLeafletVue",{staticStyle:{width:"800px",height:"500px"},attrs:{opt:t.opt}})],1),t._v(" "),t._m(1)])])};dC._withStripped=!0;const cC=US({render:dC,staticRenderFns:[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticStyle:{padding:"20px"}},[e("div",{staticStyle:{"font-size":"1.5rem"}},[t._v("panelLegends.maxHeight")]),t._v(" "),e("a",{staticClass:"item-link",attrs:{href:"//yuda-lyu.github.io/w-leaflet-vue/examples/ex-AppLGDMaxWidth.html",target:"_blank"}},[t._v("example")]),t._v(" "),e("a",{staticClass:"item-link",attrs:{href:"//github.com/yuda-lyu/w-leaflet-vue/blob/master/docs/examples/ex-AppLGDMaxWidth.html",target:"_blank"}},[t._v("code")])])},function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticStyle:{width:"600px",padding:"0px 20px 0px 0px",position:"relative"}},[e("div",{staticClass:"option-label"},[t._v("\n                opt example\n            ")]),t._v(" "),e("div",{staticStyle:{border:"1px solid #ddd"}},[e("div",{staticStyle:{"padding-left":"5px","overflow-y":"auto",height:"500px"}},[e("div",{staticStyle:{"font-size":"10pt"},attrs:{id:"optjson"}})])])])}]},(function(t){t&&t("data-v-4e89bf24_0",{source:"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",map:{version:3,sources:[],names:[],mappings:"",file:"AppLGDMaxHeight.vue"},media:void 0})}),aC,undefined,false,undefined,!1,QS,void 0,void 0);var uC={components:{WLeafletVue:cL},data:function(){return{opt:{pointSets:[{title:"Lakes",msg:"tears of the mountains",points:[{title:"Ming Chi(明池)",msg:"Yingshi Village, Datong Township, Yilan County, Taiwan(台灣宜蘭縣大同鄉英士村)",latLng:[24.6508143,121.4716748]},{title:"Jiaming Lake(嘉明湖)",msg:"Haiduan Township, Taitung County, Taiwan(台灣台東縣海端鄉)",latLng:[23.2933843,121.0341861]}],visible:!0}]},action:[]}},mounted:function(){this.showOptJson()},watch:{opt:{handler:function(){this.showOptJson()},deep:!0}},methods:{showOptJson:function(){uL(this.opt,document.querySelector("#optjson"),{expanded:!0})},getMapObject:function(){var t=this.$refs.wlf.getMapObject();console.log("map",t);var n=Math.random()-.5,e=Math.random()-.5;t.panTo([24.6508143+n,121.4716748+e])}}};const pC=uC;var hC=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[t._m(0),t._v(" "),e("div",{staticStyle:{display:"flex","padding-bottom":"20px"}},[e("div",{staticStyle:{padding:"0px 20px"}},[e("div",[e("button",{staticStyle:{margin:"0px 3px 3px 0px"},on:{click:function(n){return t.getMapObject()}}},[t._v("getMapObject(random panTo)")])]),t._v(" "),e("WLeafletVue",{ref:"wlf",staticStyle:{width:"800px",height:"500px"},attrs:{opt:t.opt}})],1),t._v(" "),t._m(1)])])};hC._withStripped=!0;const mC=US({render:hC,staticRenderFns:[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticStyle:{padding:"20px"}},[e("div",{staticStyle:{"font-size":"1.5rem"}},[t._v("function-getMapObject")]),t._v(" "),e("a",{staticClass:"item-link",attrs:{href:"//yuda-lyu.github.io/w-leaflet-vue/examples/ex-AppFunGetMapObject.html",target:"_blank"}},[t._v("example")]),t._v(" "),e("a",{staticClass:"item-link",attrs:{href:"//github.com/yuda-lyu/w-leaflet-vue/blob/master/docs/examples/ex-AppFunGetMapObject.html",target:"_blank"}},[t._v("code")])])},function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticStyle:{width:"600px",padding:"0px 20px 0px 0px",position:"relative"}},[e("div",{staticClass:"option-label"},[t._v("\n                opt example\n            ")]),t._v(" "),e("div",{staticStyle:{border:"1px solid #ddd"}},[e("div",{staticStyle:{"padding-left":"5px","overflow-y":"auto",height:"500px"}},[e("div",{staticStyle:{"font-size":"10pt"},attrs:{id:"optjson"}})])])])}]},(function(t){t&&t("data-v-28c84fa1_0",{source:"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",map:{version:3,sources:[],names:[],mappings:"",file:"AppFunGetMapObject.vue"},media:void 0})}),pC,undefined,false,undefined,!1,QS,void 0,void 0);const bC={components:{WLeafletVue:cL},data:function(){return{opt:{pointSets:[{title:"Lakes",msg:"tears of the mountains",points:[{title:"Ming Chi(明池)",msg:"Yingshi Village, Datong Township, Yilan County, Taiwan(台灣宜蘭縣大同鄉英士村)",latLng:[24.6508143,121.4716748]},{title:"Jiaming Lake(嘉明湖)",msg:"Haiduan Township, Taitung County, Taiwan(台灣台東縣海端鄉)",latLng:[23.2933843,121.0341861]}],visible:!0}]},action:[]}},mounted:function(){this.showOptJson()},watch:{opt:{handler:function(){this.showOptJson()},deep:!0}},methods:{showOptJson:function(){uL(this.opt,document.querySelector("#optjson"),{expanded:!0})},centerTo:function(t){this.$refs.wlf.centerTo(t)}}};var yC=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[t._m(0),t._v(" "),e("div",{staticStyle:{display:"flex","padding-bottom":"20px"}},[e("div",{staticStyle:{padding:"0px 20px"}},[e("div",[e("button",{staticStyle:{margin:"0px 3px 3px 0px"},on:{click:function(n){return t.centerTo([24.6508143,121.4716748])}}},[t._v("centerTo(24.6508143, 121.4716748)")]),t._v(" "),e("button",{staticStyle:{margin:"0px 3px 3px 0px"},on:{click:function(n){return t.centerTo([23.6508143,120.4716748])}}},[t._v("centerTo(23.6508143, 120.4716748)")])]),t._v(" "),e("WLeafletVue",{ref:"wlf",staticStyle:{width:"800px",height:"500px"},attrs:{opt:t.opt}})],1),t._v(" "),t._m(1)])])};yC._withStripped=!0;const ZC=US({render:yC,staticRenderFns:[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticStyle:{padding:"20px"}},[e("div",{staticStyle:{"font-size":"1.5rem"}},[t._v("function-centerTo")]),t._v(" "),e("a",{staticClass:"item-link",attrs:{href:"//yuda-lyu.github.io/w-leaflet-vue/examples/ex-AppFunCenterTo.html",target:"_blank"}},[t._v("example")]),t._v(" "),e("a",{staticClass:"item-link",attrs:{href:"//github.com/yuda-lyu/w-leaflet-vue/blob/master/docs/examples/ex-AppFunCenterTo.html",target:"_blank"}},[t._v("code")])])},function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticStyle:{width:"600px",padding:"0px 20px 0px 0px",position:"relative"}},[e("div",{staticClass:"option-label"},[t._v("\n                opt example\n            ")]),t._v(" "),e("div",{staticStyle:{border:"1px solid #ddd"}},[e("div",{staticStyle:{"padding-left":"5px","overflow-y":"auto",height:"500px"}},[e("div",{staticStyle:{"font-size":"10pt"},attrs:{id:"optjson"}})])])])}]},(function(t){t&&t("data-v-4c077306_0",{source:"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",map:{version:3,sources:[],names:[],mappings:"",file:"AppFunCenterTo.vue"},media:void 0})}),bC,undefined,false,undefined,!1,QS,void 0,void 0);var XC={components:{WLeafletVue:cL},data:function(){return{opt:{panelBaseMaps:{show:!1},panelZoom:{position:"bottomright"},panelItems:{position:"bottomright"},pointSets:[{title:"Lakes",msg:"tears of the mountains",points:[{title:"Ming Chi(明池)",msg:"Yingshi Village, Datong Township, Yilan County, Taiwan(台灣宜蘭縣大同鄉英士村)",latLng:[24.6508143,121.4716748],popup:function(t){console.log("pointSet[0].point[0] popup",t);var n="";return n+='<div style="padding:15px;">',n+='<div style="color:#222; font-size:0.9rem; white-space:nowrap;"><span style="color:#f83;">[Popup>point]</span> '+t.point.title+"</div>",n+='<div style="color:#aaa;">'+t.point.msg+"</div>",n+="</div>"}}],visible:!0}]},action:[]}},mounted:function(){this.showOptJson()},watch:{opt:{handler:function(){this.showOptJson()},deep:!0}},methods:{showOptJson:function(){uL(this.opt,document.querySelector("#optjson"),{expanded:!0})},panTo:function(){this.$refs.wlf.panTo([24.6508143,121.4716748])},panToSX:function(){this.$refs.wlf.panTo([24.6508143,121.4716748],{ratioHorizontal:.25,ratioVertical:0})},panToSXY:function(){this.$refs.wlf.panTo([24.6508143,121.4716748],{ratioHorizontal:.25,ratioVertical:.5})},panToSXYFun:function(){var t={ratioHorizontal:.25,ratioVertical:.5,funLatLng:function(t,n){return console.log("funLatLng",t,n),n.latLngNew}};this.$refs.wlf.panTo([24.6508143,121.4716748],t)}}};const fC=XC;var GC=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[t._m(0),t._v(" "),e("div",{staticStyle:{display:"flex","padding-bottom":"20px"}},[e("div",{staticStyle:{padding:"0px 20px"}},[e("div",[e("button",{staticStyle:{margin:"0px 3px 3px 0px"},on:{click:function(n){return t.panTo()}}},[t._v("panTo()")]),t._v(" "),e("button",{staticStyle:{margin:"0px 3px 3px 0px"},on:{click:function(n){return t.panToSX()}}},[t._v("panTo(shift x)")]),t._v(" "),e("button",{staticStyle:{margin:"0px 3px 3px 0px"},on:{click:function(n){return t.panToSXY()}}},[t._v("panTo(shift x,y)")]),t._v(" "),e("button",{staticStyle:{margin:"0px 3px 3px 0px"},on:{click:function(n){return t.panToSXYFun()}}},[t._v("panTo(shift x,y,funLatLng)")])]),t._v(" "),e("div",{staticStyle:{position:"relative",width:"800px",height:"500px"}},[e("WLeafletVue",{ref:"wlf",staticStyle:{width:"800px",height:"500px"},attrs:{opt:t.opt}}),t._v(" "),t._m(1)],1)]),t._v(" "),t._m(2)])])};GC._withStripped=!0;const WC=US({render:GC,staticRenderFns:[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticStyle:{padding:"20px"}},[e("div",{staticStyle:{"font-size":"1.5rem"}},[t._v("function-panTo")]),t._v(" "),e("a",{staticClass:"item-link",attrs:{href:"//yuda-lyu.github.io/w-leaflet-vue/examples/ex-AppFunPanTo.html",target:"_blank"}},[t._v("example")]),t._v(" "),e("a",{staticClass:"item-link",attrs:{href:"//github.com/yuda-lyu/w-leaflet-vue/blob/master/docs/examples/ex-AppFunPanTo.html",target:"_blank"}},[t._v("code")])])},function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticStyle:{position:"absolute",left:"5px",top:"5px","z-index":"1000",width:"190px",height:"490px",background:"rgba(255,255,255,0.3)"}},[e("div",{staticStyle:{padding:"10px",color:"#fff"}},[t._v("\n                        Menu area\n                    ")])])},function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticStyle:{width:"600px",padding:"0px 20px 0px 0px",position:"relative"}},[e("div",{staticClass:"option-label"},[t._v("\n                opt example\n            ")]),t._v(" "),e("div",{staticStyle:{border:"1px solid #ddd"}},[e("div",{staticStyle:{"padding-left":"5px","overflow-y":"auto",height:"500px"}},[e("div",{staticStyle:{"font-size":"10pt"},attrs:{id:"optjson"}})])])])}]},(function(t){t&&t("data-v-ac756690_0",{source:"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",map:{version:3,sources:[],names:[],mappings:"",file:"AppFunPanTo.vue"},media:void 0})}),fC,undefined,false,undefined,!1,QS,void 0,void 0);function gC(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,i)}return e}function vC(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?gC(Object(e),!0).forEach((function(n){wt(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):gC(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}var VC={components:{WLeafletVue:cL},data:function(){return{opt:{defPointSetsPopup:function(t){console.log("defPointSetsPopup",t);var n="";return n+='<div style="padding:15px;">',n+='<div style="color:#222; font-size:0.9rem; margin-bottom:5px; white-space:nowrap;"><span style="color:#62f;">[Popup>pointSets]</span> '+t.point.title+"</div>",n+='<div style="color:#aaa;">'+t.point.msg+"</div>",n+="</div>"},pointSets:[{title:"Lakes",msg:"tears of the mountains",points:[{title:"Ming Chi(明池)",msg:"Yingshi Village, Datong Township, Yilan County, Taiwan(台灣宜蘭縣大同鄉英士村)",latLng:[24.6508143,121.4716748],iconSrc:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACYAAABfCAYAAACEELWnAAAKp0lEQVR4AcyVA5QsxxtHa/1nbNu2ubZtPK+9O2/jHMTGcWzbto2nwZqxNqncrjfVXdNnnqM953bdLnzfb3p2ZsTf8bfDDjtEwf6wMUSAcKPlryYKLoQhEP+gYIoyuPefGGxzeAl2+YcFU7SDZ5XBpusHIkBMzzljO8adQMD/YN/pusUbgwjyP8c3HHofBjfBf8MGI9D8yZr+++FWwnzEoeVTdYsfwZ/B34HnphoGrmXsm6obOI+1xqlaTzbsBGJ9oXccXAbJYYPRaJ/JGo8cK+uWEzX9kgCSg3JKj9oB/xEm4AeQ8DlcwvnTQKwr9D8d+iAiXLCtp2o8b49X9Mjh4g45UtYpeVoqEIehP8TBdNbs+5/gIZg7UePZCcTaQIZbIBM2DwlG00g2XGw1majut8IpJqr6pJozQuDsWbWD6Q9MVPdVwa7jVX0RINxsvu02kWQoBy/sYgZTUCQJZkGOV/bJwfxWOVjQrp6E0Qj6VGDTx6s9joPhv45X908wPgrFIMJB/2q4FbYKF2wzii0ZNxoNFbRKX3Yj/3tdKohaq3QC6HvDYZX+/Xhl74NjFb0J8B8QGvo3QiX83x3MSh7N4etBUsAuOlLSIX05jby1nWp+rAJY0w6mA2vawXFYuW8KztOhTtx7f+uTeTacBFHuYAo2VoN0M1jYJpelz+etbeNpeZy1coXLe7RDt/qk48Gxx6Gs65FfagYOuTel4oTYLTcboP++q/zmp8DOHAo4RXrVyKtWT255+jzpzVooR0u7gsX1yH4cQr00xDkX6j9VD7zQfvTp98RsuVln7FabbwlCo8WGg4/ZBcDtKzIXwgKCdgab2I0AL+kK44CD6Wr9tey5cvGxyUUgTLTYcHCOWcDtI/yvLU1tkEtSGuRQUYcKZa8R1nQIXQPtGuv8sqK2936q8GwLQqPFhs27cnjcLGA6IdXb5c1pll8k1/LBWKS+89R6MTBqHzacPdy7vQNU/d8Yrx4u6vw3CAt1MaFQFIduDFcMcKepN3uh/CKpRo0EZr7L3kctRtCuML3ddJ5+58941qqCKSjGBjbq4kUOQ4VB55PKW0moRfLT+Eq5JLWe7z2rMVhrhdbYbjuNHYfhAu1gOeB3Dua3x4EQ1sUNBf9PkXd0cUYHfR8srMLmt8vPeXKfJ1ZLf26z3Yhajhc4bmDuY0/HDL7DqoIp2NiuiuW7Cpieb7sK9FlCpfwssQpv4gV1qnmbPLXPJmDMB/Ls+dnB3LZKEIJLWNgUwaFpdwHTQbkiv0MGclt5ctXyo1OL+UKep+7tfbkttjMf4mB6E0QLLmEhQBSbPa4Cq3bQQZekNRCuSH6Z0mC/CH+Os8/tYPrFeMyqgin8ue1bMy61i0HYYi588CUfhg9OKZSfJlQx18zetuB6iwI37x3PbrkNhOCyWjiQxYFfQPqynQJAgDbHs4159vGi+AmbT7h89fSWZyxQ8wpq2A5+2yGr5UIQgssa4cD1IFcFe6A59F55q1yRsVB+cGqB/PCUAvVb62cu5Az4Mx2HeaxFrG2w/3DgttBizabDKl09uQ9PLZTvnZjDh6NWetV8CzS7mYFdOBsluKwtO3PoMfhFNc5wCrocmkI8wAvyEuTj+HL5zomZ8rPTK6Q3vVGtgd73HVwKwkJd1hZ/RtNmFHnAZxVN10WBe9PBdEI4/gm/Eu+ckKreWm8av7MZLUCo9MYrYE8QFuqyrnjTGi/3pS2ctRrisEgHCPoiNa/XzH0r4FPryZ2QJj8+MVu+H1/99RuJ9eezJ2YiszUChIW6rCs02YImnTDsTaUZeEE7OJ6iHBwfSm+WSxLr5FWHnywL9zn4DRButKwX3tTGNG9q0+v+tJZZb0qT1RgWyuWMtoPp3pRGGUhtlG/GF8qUPfeVMVtv+dGm2269NwgTLevNh/ElG799avbTnyXWrmyc2iwJqcI5oRqDzvh7s/Yc3si3B2D8lD97Xa5tJ51MWK1t27Zt27Ztb91e27at9nvfyW32rlE8z/njM2qbvD1n4iSOYPq6yB23KT1rVpeyERH/4Wl9lSJ9t+eB3RmWYnhm3DHsOQ8Nt2SayfIFd0f/Cf6dhMGEjJbvJQyTb8cPZJ+HKU93yXG2lWteQ257TVluNpHSERF/jYmKioR6nLUokJQ4z7sP49yjHsS5//jQcMkDwwk4XPLQ4ZZUh09SzQTJcrYmOMl//D4utTblUnuXnOntlT0dTSkfG/VHo2KF4VCPsxZvLM3uCUuzu/um2t25BAqBcIHAOKfcjzPlvgHWN1yG3GCELrcmpptbznew1h65lmTKrWRTkqpUlvZVquxe17TRB1AB1uKNETYC30+1eyQgJc7N2snaJXcMh9x2OeRyW5dc4crPd3TL1QRTruOWw/BH3zUNSTEdMqZWLXFUriiNy5cPgwqwFq8twx4fjKYZdt8v0u1eSSeItT/KcsvtkJteh1xNNP1B1j78sfeIeWC4iHJa23AwvQ7Z2aSJfFi27C/LREQ0gAqwFq8t05ZYP8MW/5A4fxDTKXcNQ+5xBUwNa0PuOgmxphbWNDPd8oAwEAWiLPeQwjl3tFkzaVq+fF6ZiHIjoQKsxWvJsiXFZtuSjlgxqTb/CARGwX9iM4pWaP6aID/iCMKj85Dfh/PRyOWYrlxHpYpSuly569zSw9747iLHljSDEchNt/m4Iq9k2BLE2s5knckIEpSP6QVxcD8W6IX7/4Hg1vzvG3FGOpe/MSIy4i+sa75xGBi1xIGM3NFsW4sfs/4PCEsUphc+EJw/zQGPBxIHD9xwSY7hPbemfuPYd8uW7sTlC0YVKCzblvg2ItAVs3EH/yDur7BGjzBCiQN8+YGex6f3T7ACF37dTKgL9UGZMi24/L/gyKvDXh0ZiqqYlGVLXoWNjOAdAr9M4D8YRSvu58R9Pz/wKzhD4HRGsBZTGg5l4WHJejv9J/g+Yh8PKzSiPkFtwhqgAmFOprcL6hAYnW73NYF62of/ew+2Pn4HQblAWJEjLAjqdfE35fEt/BruV4YNGzYsaOLEiUGzZs2yqOLCdQVhDQTjEPzK/37q1KlWVAhUMcf1xD9xA+8oFjoIQhsILuMtPcKAKfgzukHpFPYFXEe0LmFBKI88tEO4LmHBWIiv4i0oXcIaIwVToXQKW4NriNUprAq+jN5QuoSFYgvuoqROYR3wU3SC0iXsU1zCRYTqEhaGyfgdkqAKHLZ8+fKQ+fPnB0EV1GPfEjDwS6zA24UKW7JkSei8efNCoAqCy/gYI6BwDt9DWajChllPfYIL8ZSmI/6Bpfg7JkIVMgyYMGFCCFRB8Pfd8Xv8E9dQrcjCrGezUG8ocG7Z8AcIfAgpfFjhhWMgcvElKIsOYR9iHwTTdAqLxfeRjoa6hIUgEYKlCNUl7B0swb/QDUqXsDJIxTfQSKewkvgL9qGETmEVITiEYJ3CRiMPU6F0CtuMH8OlU9g7uIev4D2dwhrgd/g8lE5hQyFYolNYeZxHHproEvYJ5uFv+D1CdQn7ECcguIYwXcLK44sQLMW7Ok3l7/AfjNVpxMogHX9BbwTpEhaOsxD0gdIjDLgKQTOdwt7HPuSigU5h4diIf6C1blO5GYIOOoWFYBkEQxGsU9h4CBboEwYMgmCtbueYE4JeeoUBFfApVEH8Fw0OQMRHom/JAAAAAElFTkSuQmCC",iconSize:[38,95],iconAnchor:[22,94],popupAnchor:[0,-80],popup:function(t){console.log("pointSet[0].point[0] popup",t);var n="";return n+='<div style="padding:15px;">',n+='<div style="color:#222; font-size:0.9rem; white-space:nowrap;"><span style="color:#f83;">[Popup>point]</span> '+t.point.title+"</div>",n+='<div style="color:#aaa;">'+t.point.msg+"</div>",n+="</div>"}},{title:"Jiaming Lake(嘉明湖)",msg:"Haiduan Township, Taitung County, Taiwan(台灣台東縣海端鄉)",latLng:[23.2933843,121.0341861]}],visible:!0,popup:function(t){console.log("pointSet[0] popup",t);var n="";return n+='<div style="padding:15px;">',n+='<div style="color:#222; font-size:0.9rem; white-space:nowrap;"><span style="color:#f26;">[Popup>pointSet:'+t.pointSet.title+"]</span> "+t.point.title+"</div>",n+='<div style="color:#aaa;">'+t.point.msg+"</div>",n+="</div>"}},{title:"pointSet B",msg:"msg from pointSet B",points:[{title:"point B-1",msg:"msg from data B-1",latLng:[22.8,120.37]},{title:"point B-2",msg:"msg from data B-2",latLng:[22.4,120.67]}],visible:!1,popup:function(t){console.log("pointSet[1] popup",t);var n="";return n+='<div style="padding:15px;">',n+='<div style="color:#222; font-size:0.9rem; white-space:nowrap;"><span style="color:#f26;">[Popup>pointSet:'+t.pointSet.title+"]</span> "+t.point.title+"</div>",n+='<div style="color:#aaa;">'+t.point.msg+"</div>",n+="</div>"}},{title:"pointSet C",msg:"msg from pointSet C",points:[{title:"point C-1",msg:"msg from data B-1",latLng:[21.95,120.797]}],visible:!1}]},action:[]}},mounted:function(){this.showOptJson()},watch:{opt:{handler:function(){this.showOptJson()},deep:!0}},methods:{showOptJson:function(){uL(this.opt,document.querySelector("#optjson"),{expanded:!0})},toggleLake:function(t,n){var e=this,i=null;i=0===t?{point:e.opt.pointSets[0].points[0]}:{point:vC(vC({},e.opt.pointSets[0].points[1]),{},{popup:function(){return'<div style="padding:15px; color:#666; font-size:0.9rem; white-space:nowrap;">custom popup</div>'}})},"show"===n?(e.$refs.wlf.centerTo(i.point.latLng),setTimeout((function(){var t=e.$refs.wlf.popupPoint(i);console.log("ele",t)}),300)):e.$refs.wlf.closePopup()}}};const xC=VC;var SC=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[t._m(0),t._v(" "),e("div",{staticStyle:{display:"flex","padding-bottom":"20px"}},[e("div",{staticStyle:{padding:"0px 20px"}},[e("div",[e("button",{staticStyle:{margin:"0px 3px 3px 0px"},on:{click:function(n){return t.toggleLake(0,"show")}}},[t._v("show Lakes[0]")]),t._v(" "),e("button",{staticStyle:{margin:"0px 3px 3px 0px"},on:{click:function(n){return t.toggleLake(1,"show")}}},[t._v("show Lakes[1]")]),t._v(" "),e("button",{staticStyle:{margin:"0px 3px 3px 0px"},on:{click:function(n){return t.toggleLake(null,"hide")}}},[t._v("hide popup")])]),t._v(" "),e("WLeafletVue",{ref:"wlf",staticStyle:{width:"800px",height:"500px"},attrs:{opt:t.opt}})],1),t._v(" "),t._m(1)])])};SC._withStripped=!0;const LC={components:{AppBSCSize:mL,AppBSCCenter:ZL,AppBSCZoom:GL,AppBSCPanelBackgroundColor:vL,AppPBMShow:SL,AppPBMBaseMaps:KL,AppPBMPosition:YL,AppPLBShow:wL,AppPLBPosition:zL,AppPLBTitle:FL,AppPLBLng:_L,AppPLBLat:jL,AppPLBZoom:AL,AppPLBUseItems:$L,AppPZMShow:eR,AppPZMPosition:lR,AppPNTPointSets:aR,AppPNTPointSetPointByArray:uR,AppPNTPointSetChangeData:bR,AppPNTPointSetOrder:XR,AppPNTPointSetIconSrcSizeAnchor:WR,AppPNTPointSetPointIconSrcSizeAnchor:VR,AppPNTDefPointSetsClick:LR,AppPNTPointSetClick:HR,AppPNTPointSetPointClick:TR,AppPNTDefPointSetsPopup:PR,AppPNTPointSetPopup:JR,AppPNTPointSetPointPopup:kR,AppPNTDefPointSetsTooltip:UR,AppPNTPointSetTooltip:QR,AppPNTPointSetPointTooltip:DR,AppPGNPolygonSets:tK,AppPGNPolygonSetChangeData:iK,AppPGNPolygonSetOrder:sK,AppPGNPolygonSetLineColor:dK,AppPGNPolygonSetLineColorHover:pK,AppPGNPolygonSetLineWidth:bK,AppPGNPolygonSetLineWidthHover:XK,AppPGNPolygonSetFillColor:WK,AppPGNPolygonSetFillColorHover:VK,AppPGNDefPolygonSetsClick:LK,AppPGNPolygonSetClick:HK,AppPGNDefPolygonSetsPopup:TK,AppPGNPolygonSetPopup:PK,AppPGNDefPolygonSetsTooltip:JK,AppPGNPolygonSetTooltip:kK,AppCTRContourSets:UK,AppCTRContourSetChangeData:QK,AppCTRContourSetOrder:DK,AppCTRContourSetGradient:tH,AppCTRContourSetChangeStyleWhenHover:iH,AppCTRContourSetLegendNumDig:sH,AppCTRContourSetLegendTextFormater:cH,AppCTRContourSetPolygonClipOuter:hH,AppCTRContourSetPolygonsClipInner:yH,AppCTRContourSetPolygonsContainInner:fH,AppCTRDefContourSetsClick:gH,AppCTRContourSetClick:xH,AppCTRDefContourSetsPopup:RH,AppCTRContourSetPopup:CH,AppCTRDefContourSetsTooltip:MH,AppCTRContourSetTooltip:IH,AppCTRContourSetLargeSet:NH,AppPIMShow:BH,AppPIMPosition:EH,AppPIMMaxWidth:OH,AppPIMMaxHeight:qH,AppLGDShow:nC,AppLGDPosition:oC,AppLGDMaxWidth:rC,AppLGDMaxHeight:cC,AppFunGetMapObject:mC,AppFunCenterTo:ZC,AppFunPanTo:WC,AppFunPopupPoint:US({render:SC,staticRenderFns:[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticStyle:{padding:"20px"}},[e("div",{staticStyle:{"font-size":"1.5rem"}},[t._v("function-popupPoint")]),t._v(" "),e("a",{staticClass:"item-link",attrs:{href:"//yuda-lyu.github.io/w-leaflet-vue/examples/ex-AppFunPopupPoint.html",target:"_blank"}},[t._v("example")]),t._v(" "),e("a",{staticClass:"item-link",attrs:{href:"//github.com/yuda-lyu/w-leaflet-vue/blob/master/docs/examples/ex-AppFunPopupPoint.html",target:"_blank"}},[t._v("code")])])},function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticStyle:{width:"600px",padding:"0px 20px 0px 0px",position:"relative"}},[e("div",{staticClass:"option-label"},[t._v("\n                opt example\n            ")]),t._v(" "),e("div",{staticStyle:{border:"1px solid #ddd"}},[e("div",{staticStyle:{"padding-left":"5px","overflow-y":"auto",height:"500px"}},[e("div",{staticStyle:{"font-size":"10pt"},attrs:{id:"optjson"}})])])])}]},(function(t){t&&t("data-v-c3d77b7e_0",{source:"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",map:{version:3,sources:[],names:[],mappings:"",file:"AppFunPopupPoint.vue"},media:void 0})}),xC,undefined,false,undefined,!1,QS,void 0,void 0)},data:function(){return{showMainCmp:"basic",showSubCmp:"size",mainCmps:{basic:["size","center","zoom","panelBackgroundColor"],panelBaseMaps:["panelBaseMaps.show","panelBaseMaps.baseMaps","panelBaseMaps.position"],panelLabels:["panelLabels.show","panelLabels.position","panelLabels.title","panelLabels.lng","panelLabels.lat","panelLabels.zoom","panelLabels.useItems"],panelZoom:["panelZoom.show","panelZoom.position"],panelItems:["panelItems.show","panelItems.position","panelItems.maxWidth","panelItems.maxHeight"],panelLegends:["panelLegends.show","panelLegends.position","panelLegends.maxWidth","panelLegends.maxHeight"],point:["pointSets","pointSet-pointByArray","pointSet-changeData","pointSet.order","pointSet.iconSrc,iconSize,iconAnchor,popupAnchor","pointSet.point.iconSrc,iconSize,iconAnchor,popupAnchor","defPointSetsClick","pointSet.click","pointSet.point.click","defPointSetsPopup","pointSet.popup","pointSet.point.popup","defPointSetsTooltip","pointSet.tooltip","pointSet.point.tooltip"],polygon:["polygonSets","polygonSet-changeData","polygonSet.order","polygonSet.lineColor","polygonSet.lineColorHover","polygonSet.lineWidth","polygonSet.lineWidthHover","polygonSet.fillColor","polygonSet.fillColorHover","defPolygonSetsClick","polygonSet.click","defPolygonSetsPopup","polygonSet.popup","defPolygonSetsTooltip","polygonSet.tooltip"],contour:["contourSets","contourSet-changeData","contourSet.order","contourSet.gradient","contourSet.changeStyleWhenHover","contourSet.legendNumDig","contourSet.legendTextFormater","contourSet.polygonClipOuter","contourSet.polygonsClipInner","contourSet.polygonsContainInner","defContourSetsClick","contourSet.click","defContourSetsPopup","contourSet.popup","defContourSetsTooltip","contourSet.tooltip","contourSet.largeSet"],function:["function-getMapObject","function-centerTo","function-panTo","function-popupPoint"]}}},computed:{isNarrow:function(){return window.innerWidth<1e3},nowSubCmps:function(){var t=this,n=Ct(t.mainCmps,t.showMainCmp,[]);return t.showSubCmp=Ct(n,0,""),n}}};var RC=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[t.isNarrow?t._e():[e("a",{staticClass:"github-corner",staticStyle:{position:"fixed",top:"0",right:"0",border:"0","z-index":"10000"},attrs:{href:"https://github.com/yuda-lyu/w-leaflet-vue","aria-label":"View source on GitHub",target:"_blank"}},[e("svg",{staticStyle:{fill:"rgba(0,0,0,0.25)",color:"#fff",position:"absolute",top:"0",border:"0",right:"0"},attrs:{width:"80",height:"80",viewBox:"0 0 250 250","aria-hidden":"true"}},[e("path",{attrs:{d:"M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"}}),e("path",{staticClass:"octo-arm",staticStyle:{"transform-origin":"130px 106px"},attrs:{d:"M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2",fill:"currentColor"}}),e("path",{staticClass:"octo-body",attrs:{d:"M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z",fill:"currentColor"}})])])],t._v(" "),e("div",{},[e("div",{staticStyle:{padding:"0px 80px 0px 10px","border-bottom":"1px solid #ddd"}},[t._l(t.mainCmps,(function(n,i){return[e("div",{key:i,staticStyle:{display:"inline-block",margin:"10px 0px 0px 0px"}},[e("div",{class:"clsBtn clsMainMenu-basic "+(i===t.showMainCmp?"clsMainMenu-active":"clsMainMenu"),on:{click:function(n){t.showMainCmp=i}}},[t._v("\n                        "+t._s(i)+"\n                    ")])])]}))],2),t._v(" "),e("div",{staticStyle:{padding:"0px 80px 10px 0px","border-bottom":"1px solid #ddd"}},[t._l(t.nowSubCmps,(function(n,i){return[e("div",{key:i,staticStyle:{display:"inline-block",margin:"10px 0px 0px 10px"}},[e("div",{class:"clsBtn clsSubMenu-basic "+(n===t.showSubCmp?"clsSubMenu-active":"clsSubMenu"),on:{click:function(e){t.showSubCmp=n}}},[t._v("\n                        "+t._s(n)+"\n                    ")])])]}))],2)]),t._v(" "),"size"===t.showSubCmp?e("AppBSCSize"):t._e(),t._v(" "),"center"===t.showSubCmp?e("AppBSCCenter"):t._e(),t._v(" "),"zoom"===t.showSubCmp?e("AppBSCZoom"):t._e(),t._v(" "),"panelBackgroundColor"===t.showSubCmp?e("AppBSCPanelBackgroundColor"):t._e(),t._v(" "),"panelBaseMaps.show"===t.showSubCmp?e("AppPBMShow"):t._e(),t._v(" "),"panelBaseMaps.baseMaps"===t.showSubCmp?e("AppPBMBaseMaps"):t._e(),t._v(" "),"panelBaseMaps.position"===t.showSubCmp?e("AppPBMPosition"):t._e(),t._v(" "),"panelLabels.show"===t.showSubCmp?e("AppPLBShow"):t._e(),t._v(" "),"panelLabels.position"===t.showSubCmp?e("AppPLBPosition"):t._e(),t._v(" "),"panelLabels.title"===t.showSubCmp?e("AppPLBTitle"):t._e(),t._v(" "),"panelLabels.lng"===t.showSubCmp?e("AppPLBLng"):t._e(),t._v(" "),"panelLabels.lat"===t.showSubCmp?e("AppPLBLat"):t._e(),t._v(" "),"panelLabels.zoom"===t.showSubCmp?e("AppPLBZoom"):t._e(),t._v(" "),"panelLabels.useItems"===t.showSubCmp?e("AppPLBUseItems"):t._e(),t._v(" "),"panelZoom.show"===t.showSubCmp?e("AppPZMShow"):t._e(),t._v(" "),"panelZoom.position"===t.showSubCmp?e("AppPZMPosition"):t._e(),t._v(" "),"pointSets"===t.showSubCmp?e("AppPNTPointSets"):t._e(),t._v(" "),"pointSet-pointByArray"===t.showSubCmp?e("AppPNTPointSetPointByArray"):t._e(),t._v(" "),"pointSet-changeData"===t.showSubCmp?e("AppPNTPointSetChangeData"):t._e(),t._v(" "),"pointSet.order"===t.showSubCmp?e("AppPNTPointSetOrder"):t._e(),t._v(" "),"pointSet.iconSrc,iconSize,iconAnchor,popupAnchor"===t.showSubCmp?e("AppPNTPointSetIconSrcSizeAnchor"):t._e(),t._v(" "),"pointSet.point.iconSrc,iconSize,iconAnchor,popupAnchor"===t.showSubCmp?e("AppPNTPointSetPointIconSrcSizeAnchor"):t._e(),t._v(" "),"defPointSetsClick"===t.showSubCmp?e("AppPNTDefPointSetsClick"):t._e(),t._v(" "),"pointSet.click"===t.showSubCmp?e("AppPNTPointSetClick"):t._e(),t._v(" "),"pointSet.point.click"===t.showSubCmp?e("AppPNTPointSetPointClick"):t._e(),t._v(" "),"defPointSetsPopup"===t.showSubCmp?e("AppPNTDefPointSetsPopup"):t._e(),t._v(" "),"pointSet.popup"===t.showSubCmp?e("AppPNTPointSetPopup"):t._e(),t._v(" "),"pointSet.point.popup"===t.showSubCmp?e("AppPNTPointSetPointPopup"):t._e(),t._v(" "),"defPointSetsTooltip"===t.showSubCmp?e("AppPNTDefPointSetsTooltip"):t._e(),t._v(" "),"pointSet.tooltip"===t.showSubCmp?e("AppPNTPointSetTooltip"):t._e(),t._v(" "),"pointSet.point.tooltip"===t.showSubCmp?e("AppPNTPointSetPointTooltip"):t._e(),t._v(" "),"polygonSets"===t.showSubCmp?e("AppPGNPolygonSets"):t._e(),t._v(" "),"polygonSet-changeData"===t.showSubCmp?e("AppPGNPolygonSetChangeData"):t._e(),t._v(" "),"polygonSet.order"===t.showSubCmp?e("AppPGNPolygonSetOrder"):t._e(),t._v(" "),"polygonSet.lineColor"===t.showSubCmp?e("AppPGNPolygonSetLineColor"):t._e(),t._v(" "),"polygonSet.lineColorHover"===t.showSubCmp?e("AppPGNPolygonSetLineColorHover"):t._e(),t._v(" "),"polygonSet.lineWidth"===t.showSubCmp?e("AppPGNPolygonSetLineWidth"):t._e(),t._v(" "),"polygonSet.lineWidthHover"===t.showSubCmp?e("AppPGNPolygonSetLineWidthHover"):t._e(),t._v(" "),"polygonSet.fillColor"===t.showSubCmp?e("AppPGNPolygonSetFillColor"):t._e(),t._v(" "),"polygonSet.fillColorHover"===t.showSubCmp?e("AppPGNPolygonSetFillColorHover"):t._e(),t._v(" "),"defPolygonSetsClick"===t.showSubCmp?e("AppPGNDefPolygonSetsClick"):t._e(),t._v(" "),"polygonSet.click"===t.showSubCmp?e("AppPGNPolygonSetClick"):t._e(),t._v(" "),"defPolygonSetsPopup"===t.showSubCmp?e("AppPGNDefPolygonSetsPopup"):t._e(),t._v(" "),"polygonSet.popup"===t.showSubCmp?e("AppPGNPolygonSetPopup"):t._e(),t._v(" "),"defPolygonSetsTooltip"===t.showSubCmp?e("AppPGNDefPolygonSetsTooltip"):t._e(),t._v(" "),"polygonSet.tooltip"===t.showSubCmp?e("AppPGNPolygonSetTooltip"):t._e(),t._v(" "),"contourSets"===t.showSubCmp?e("AppCTRContourSets"):t._e(),t._v(" "),"contourSet-changeData"===t.showSubCmp?e("AppCTRContourSetChangeData"):t._e(),t._v(" "),"contourSet.order"===t.showSubCmp?e("AppCTRContourSetOrder"):t._e(),t._v(" "),"contourSet.gradient"===t.showSubCmp?e("AppCTRContourSetGradient"):t._e(),t._v(" "),"contourSet.changeStyleWhenHover"===t.showSubCmp?e("AppCTRContourSetChangeStyleWhenHover"):t._e(),t._v(" "),"contourSet.legendNumDig"===t.showSubCmp?e("AppCTRContourSetLegendNumDig"):t._e(),t._v(" "),"contourSet.legendTextFormater"===t.showSubCmp?e("AppCTRContourSetLegendTextFormater"):t._e(),t._v(" "),"contourSet.polygonClipOuter"===t.showSubCmp?e("AppCTRContourSetPolygonClipOuter"):t._e(),t._v(" "),"contourSet.polygonsClipInner"===t.showSubCmp?e("AppCTRContourSetPolygonsClipInner"):t._e(),t._v(" "),"contourSet.polygonsContainInner"===t.showSubCmp?e("AppCTRContourSetPolygonsContainInner"):t._e(),t._v(" "),"defContourSetsClick"===t.showSubCmp?e("AppCTRDefContourSetsClick"):t._e(),t._v(" "),"contourSet.click"===t.showSubCmp?e("AppCTRContourSetClick"):t._e(),t._v(" "),"defContourSetsPopup"===t.showSubCmp?e("AppCTRDefContourSetsPopup"):t._e(),t._v(" "),"contourSet.popup"===t.showSubCmp?e("AppCTRContourSetPopup"):t._e(),t._v(" "),"defContourSetsTooltip"===t.showSubCmp?e("AppCTRDefContourSetsTooltip"):t._e(),t._v(" "),"contourSet.tooltip"===t.showSubCmp?e("AppCTRContourSetTooltip"):t._e(),t._v(" "),"contourSet.largeSet"===t.showSubCmp?e("AppCTRContourSetLargeSet"):t._e(),t._v(" "),"panelItems.show"===t.showSubCmp?e("AppPIMShow"):t._e(),t._v(" "),"panelItems.position"===t.showSubCmp?e("AppPIMPosition"):t._e(),t._v(" "),"panelItems.maxWidth"===t.showSubCmp?e("AppPIMMaxWidth"):t._e(),t._v(" "),"panelItems.maxHeight"===t.showSubCmp?e("AppPIMMaxHeight"):t._e(),t._v(" "),"panelLegends.show"===t.showSubCmp?e("AppLGDShow"):t._e(),t._v(" "),"panelLegends.position"===t.showSubCmp?e("AppLGDPosition"):t._e(),t._v(" "),"panelLegends.maxWidth"===t.showSubCmp?e("AppLGDMaxWidth"):t._e(),t._v(" "),"panelLegends.maxHeight"===t.showSubCmp?e("AppLGDMaxHeight"):t._e(),t._v(" "),"function-getMapObject"===t.showSubCmp?e("AppFunGetMapObject"):t._e(),t._v(" "),"function-centerTo"===t.showSubCmp?e("AppFunCenterTo"):t._e(),t._v(" "),"function-panTo"===t.showSubCmp?e("AppFunPanTo"):t._e(),t._v(" "),"function-popupPoint"===t.showSubCmp?e("AppFunPopupPoint"):t._e()],2)};RC._withStripped=!0;return US({render:RC,staticRenderFns:[]},(function(t){t&&t("data-v-4559ffa9_0",{source:"\n.clsBtn {\r\n    transition:all 0.5s;\r\n    cursor: pointer;\r\n    user-select: none;\n}\n.clsMainMenu-basic {\r\n    padding: 3px 9px;\n}\n.clsMainMenu {\r\n    border-bottom:2px solid #fff;\n}\n.clsMainMenu:hover {\r\n    border-bottom:2px solid #aaa;\n}\n.clsMainMenu-active {\r\n    border-bottom:2px solid #f26;\r\n    background:#efefef;\n}\n.clsSubMenu-basic {\r\n    padding: 3px 12px;\r\n    font-size:0.8rem;\r\n    border-radius:30px;\n}\n.clsSubMenu {\r\n    background:#efefef;\n}\n.clsSubMenu:hover {\r\n    background:#ddd;\n}\n.clsSubMenu-active {\r\n    background:#f26;\r\n    color:#fff;\r\n    box-shadow:0 0 15px rgb(0 0 0 / 20%);\n}\n.item-link {\r\n    display: inline-block;\r\n    margin: 10px 10px 5px 0px;\r\n    padding: 5px 10px;\r\n    font-size: 0.8rem;\r\n    color: #fff;\r\n    background-color: #443a65;\r\n    cursor: pointer;\r\n    text-decoration: none;\n}\n.option-label {\r\n    position:absolute;\r\n    left:10px;\r\n    top:-33px;\r\n    padding:4px 20px 7px 20px;\r\n    border-left:1px solid #ddd;\r\n    border-top:1px solid #ddd;\r\n    border-right:1px solid #ddd;\r\n    border-bottom:1px solid #f6f6f6;\r\n    border-top-left-radius:15px;\r\n    border-top-right-radius:15px;\r\n    background:#f6f6f6;\n}\r\n",map:{version:3,sources:["D:\\開源-JS-105-3-w-leaflet-vue\\w-leaflet-vue\\src\\App.vue"],names:[],mappings:";AA6dA;IACA,mBAAA;IACA,eAAA;IACA,iBAAA;AACA;AACA;IACA,gBAAA;AACA;AACA;IACA,4BAAA;AACA;AACA;IACA,4BAAA;AACA;AACA;IACA,4BAAA;IACA,kBAAA;AACA;AACA;IACA,iBAAA;IACA,gBAAA;IACA,kBAAA;AACA;AACA;IACA,kBAAA;AACA;AACA;IACA,eAAA;AACA;AACA;IACA,eAAA;IACA,UAAA;IACA,oCAAA;AACA;AACA;IACA,qBAAA;IACA,yBAAA;IACA,iBAAA;IACA,iBAAA;IACA,WAAA;IACA,yBAAA;IACA,eAAA;IACA,qBAAA;AACA;AACA;IACA,iBAAA;IACA,SAAA;IACA,SAAA;IACA,yBAAA;IACA,0BAAA;IACA,yBAAA;IACA,2BAAA;IACA,+BAAA;IACA,2BAAA;IACA,4BAAA;IACA,kBAAA;AACA",file:"App.vue",sourcesContent:["<template>\r\n    <div>\r\n\r\n\r\n        <template v-if=\"!isNarrow\">\r\n            <a href=\"https://github.com/yuda-lyu/w-leaflet-vue\" class=\"github-corner\" style=\"position:fixed; top:0; right:0; border:0; z-index:10000;\" aria-label=\"View source on GitHub\" target=\"_blank\">\r\n                <svg width=\"80\" height=\"80\" viewBox=\"0 0 250 250\" style=\"fill:rgba(0,0,0,0.25); color:#fff; position: absolute; top: 0; border: 0; right: 0;\" aria-hidden=\"true\"><path d=\"M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z\"></path><path d=\"M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2\" fill=\"currentColor\" style=\"transform-origin: 130px 106px;\" class=\"octo-arm\"></path><path d=\"M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z\" fill=\"currentColor\" class=\"octo-body\"></path></svg>\r\n            </a>\r\n        </template>\r\n\r\n        <div style=\"\">\r\n\r\n            <div style=\"padding:0px 80px 0px 10px; border-bottom:1px solid #ddd;\">\r\n                <template v-for=\"(m,km) in mainCmps\">\r\n\r\n                    <div :key=\"km\" style=\"display:inline-block; margin:10px 0px 0px 0px;\">\r\n                        <div\r\n                            :class=\"`clsBtn clsMainMenu-basic ${km===showMainCmp?'clsMainMenu-active':'clsMainMenu'}`\"\r\n                            @click=\"showMainCmp=km\"\r\n                        >\r\n                            {{km}}\r\n                        </div>\r\n                    </div>\r\n\r\n                </template>\r\n            </div>\r\n\r\n            <div style=\"padding:0px 80px 10px 0px; border-bottom:1px solid #ddd;\">\r\n                <template v-for=\"(s,ks) in nowSubCmps\">\r\n                    <div :key=\"ks\" style=\"display:inline-block; margin:10px 0px 0px 10px;\">\r\n                        <div\r\n                            :class=\"`clsBtn clsSubMenu-basic ${s===showSubCmp?'clsSubMenu-active':'clsSubMenu'}`\"\r\n                            @click=\"showSubCmp=s\"\r\n                        >\r\n                            {{s}}\r\n                        </div>\r\n                    </div>\r\n                </template>\r\n            </div>\r\n\r\n        </div>\r\n\r\n        <AppBSCSize v-if=\"showSubCmp==='size'\"></AppBSCSize>\r\n\r\n        <AppBSCCenter v-if=\"showSubCmp==='center'\"></AppBSCCenter>\r\n\r\n        <AppBSCZoom v-if=\"showSubCmp==='zoom'\"></AppBSCZoom>\r\n\r\n        <AppBSCPanelBackgroundColor v-if=\"showSubCmp==='panelBackgroundColor'\"></AppBSCPanelBackgroundColor>\r\n\r\n        <AppPBMShow v-if=\"showSubCmp==='panelBaseMaps.show'\"></AppPBMShow>\r\n\r\n        <AppPBMBaseMaps v-if=\"showSubCmp==='panelBaseMaps.baseMaps'\"></AppPBMBaseMaps>\r\n\r\n        <AppPBMPosition v-if=\"showSubCmp==='panelBaseMaps.position'\"></AppPBMPosition>\r\n\r\n        <AppPLBShow v-if=\"showSubCmp==='panelLabels.show'\"></AppPLBShow>\r\n\r\n        <AppPLBPosition v-if=\"showSubCmp==='panelLabels.position'\"></AppPLBPosition>\r\n\r\n        <AppPLBTitle v-if=\"showSubCmp==='panelLabels.title'\"></AppPLBTitle>\r\n\r\n        <AppPLBLng v-if=\"showSubCmp==='panelLabels.lng'\"></AppPLBLng>\r\n\r\n        <AppPLBLat v-if=\"showSubCmp==='panelLabels.lat'\"></AppPLBLat>\r\n\r\n        <AppPLBZoom v-if=\"showSubCmp==='panelLabels.zoom'\"></AppPLBZoom>\r\n\r\n        <AppPLBUseItems v-if=\"showSubCmp==='panelLabels.useItems'\"></AppPLBUseItems>\r\n\r\n        <AppPZMShow v-if=\"showSubCmp==='panelZoom.show'\"></AppPZMShow>\r\n\r\n        <AppPZMPosition v-if=\"showSubCmp==='panelZoom.position'\"></AppPZMPosition>\r\n\r\n        <AppPNTPointSets v-if=\"showSubCmp==='pointSets'\"></AppPNTPointSets>\r\n\r\n        <AppPNTPointSetPointByArray v-if=\"showSubCmp==='pointSet-pointByArray'\"></AppPNTPointSetPointByArray>\r\n\r\n        <AppPNTPointSetChangeData v-if=\"showSubCmp==='pointSet-changeData'\"></AppPNTPointSetChangeData>\r\n\r\n        <AppPNTPointSetOrder v-if=\"showSubCmp==='pointSet.order'\"></AppPNTPointSetOrder>\r\n\r\n        <AppPNTPointSetIconSrcSizeAnchor v-if=\"showSubCmp==='pointSet.iconSrc,iconSize,iconAnchor,popupAnchor'\"></AppPNTPointSetIconSrcSizeAnchor>\r\n\r\n        <AppPNTPointSetPointIconSrcSizeAnchor v-if=\"showSubCmp==='pointSet.point.iconSrc,iconSize,iconAnchor,popupAnchor'\"></AppPNTPointSetPointIconSrcSizeAnchor>\r\n\r\n        <AppPNTDefPointSetsClick v-if=\"showSubCmp==='defPointSetsClick'\"></AppPNTDefPointSetsClick>\r\n\r\n        <AppPNTPointSetClick v-if=\"showSubCmp==='pointSet.click'\"></AppPNTPointSetClick>\r\n\r\n        <AppPNTPointSetPointClick v-if=\"showSubCmp==='pointSet.point.click'\"></AppPNTPointSetPointClick>\r\n\r\n        <AppPNTDefPointSetsPopup v-if=\"showSubCmp==='defPointSetsPopup'\"></AppPNTDefPointSetsPopup>\r\n\r\n        <AppPNTPointSetPopup v-if=\"showSubCmp==='pointSet.popup'\"></AppPNTPointSetPopup>\r\n\r\n        <AppPNTPointSetPointPopup v-if=\"showSubCmp==='pointSet.point.popup'\"></AppPNTPointSetPointPopup>\r\n\r\n        <AppPNTDefPointSetsTooltip v-if=\"showSubCmp==='defPointSetsTooltip'\"></AppPNTDefPointSetsTooltip>\r\n\r\n        <AppPNTPointSetTooltip v-if=\"showSubCmp==='pointSet.tooltip'\"></AppPNTPointSetTooltip>\r\n\r\n        <AppPNTPointSetPointTooltip v-if=\"showSubCmp==='pointSet.point.tooltip'\"></AppPNTPointSetPointTooltip>\r\n\r\n        <AppPGNPolygonSets v-if=\"showSubCmp==='polygonSets'\"></AppPGNPolygonSets>\r\n\r\n        <AppPGNPolygonSetChangeData v-if=\"showSubCmp==='polygonSet-changeData'\"></AppPGNPolygonSetChangeData>\r\n\r\n        <AppPGNPolygonSetOrder v-if=\"showSubCmp==='polygonSet.order'\"></AppPGNPolygonSetOrder>\r\n\r\n        <AppPGNPolygonSetLineColor v-if=\"showSubCmp==='polygonSet.lineColor'\"></AppPGNPolygonSetLineColor>\r\n\r\n        <AppPGNPolygonSetLineColorHover v-if=\"showSubCmp==='polygonSet.lineColorHover'\"></AppPGNPolygonSetLineColorHover>\r\n\r\n        <AppPGNPolygonSetLineWidth v-if=\"showSubCmp==='polygonSet.lineWidth'\"></AppPGNPolygonSetLineWidth>\r\n\r\n        <AppPGNPolygonSetLineWidthHover v-if=\"showSubCmp==='polygonSet.lineWidthHover'\"></AppPGNPolygonSetLineWidthHover>\r\n\r\n        <AppPGNPolygonSetFillColor v-if=\"showSubCmp==='polygonSet.fillColor'\"></AppPGNPolygonSetFillColor>\r\n\r\n        <AppPGNPolygonSetFillColorHover v-if=\"showSubCmp==='polygonSet.fillColorHover'\"></AppPGNPolygonSetFillColorHover>\r\n\r\n        <AppPGNDefPolygonSetsClick v-if=\"showSubCmp==='defPolygonSetsClick'\"></AppPGNDefPolygonSetsClick>\r\n\r\n        <AppPGNPolygonSetClick v-if=\"showSubCmp==='polygonSet.click'\"></AppPGNPolygonSetClick>\r\n\r\n        <AppPGNDefPolygonSetsPopup v-if=\"showSubCmp==='defPolygonSetsPopup'\"></AppPGNDefPolygonSetsPopup>\r\n\r\n        <AppPGNPolygonSetPopup v-if=\"showSubCmp==='polygonSet.popup'\"></AppPGNPolygonSetPopup>\r\n\r\n        <AppPGNDefPolygonSetsTooltip v-if=\"showSubCmp==='defPolygonSetsTooltip'\"></AppPGNDefPolygonSetsTooltip>\r\n\r\n        <AppPGNPolygonSetTooltip v-if=\"showSubCmp==='polygonSet.tooltip'\"></AppPGNPolygonSetTooltip>\r\n\r\n        <AppCTRContourSets v-if=\"showSubCmp==='contourSets'\"></AppCTRContourSets>\r\n\r\n        <AppCTRContourSetChangeData v-if=\"showSubCmp==='contourSet-changeData'\"></AppCTRContourSetChangeData>\r\n\r\n        <AppCTRContourSetOrder v-if=\"showSubCmp==='contourSet.order'\"></AppCTRContourSetOrder>\r\n\r\n        <AppCTRContourSetGradient v-if=\"showSubCmp==='contourSet.gradient'\"></AppCTRContourSetGradient>\r\n\r\n        <AppCTRContourSetChangeStyleWhenHover v-if=\"showSubCmp==='contourSet.changeStyleWhenHover'\"></AppCTRContourSetChangeStyleWhenHover>\r\n\r\n        <AppCTRContourSetLegendNumDig v-if=\"showSubCmp==='contourSet.legendNumDig'\"></AppCTRContourSetLegendNumDig>\r\n\r\n        <AppCTRContourSetLegendTextFormater v-if=\"showSubCmp==='contourSet.legendTextFormater'\"></AppCTRContourSetLegendTextFormater>\r\n\r\n        <AppCTRContourSetPolygonClipOuter v-if=\"showSubCmp==='contourSet.polygonClipOuter'\"></AppCTRContourSetPolygonClipOuter>\r\n\r\n        <AppCTRContourSetPolygonsClipInner v-if=\"showSubCmp==='contourSet.polygonsClipInner'\"></AppCTRContourSetPolygonsClipInner>\r\n\r\n        <AppCTRContourSetPolygonsContainInner v-if=\"showSubCmp==='contourSet.polygonsContainInner'\"></AppCTRContourSetPolygonsContainInner>\r\n\r\n        <AppCTRDefContourSetsClick v-if=\"showSubCmp==='defContourSetsClick'\"></AppCTRDefContourSetsClick>\r\n\r\n        <AppCTRContourSetClick v-if=\"showSubCmp==='contourSet.click'\"></AppCTRContourSetClick>\r\n\r\n        <AppCTRDefContourSetsPopup v-if=\"showSubCmp==='defContourSetsPopup'\"></AppCTRDefContourSetsPopup>\r\n\r\n        <AppCTRContourSetPopup v-if=\"showSubCmp==='contourSet.popup'\"></AppCTRContourSetPopup>\r\n\r\n        <AppCTRDefContourSetsTooltip v-if=\"showSubCmp==='defContourSetsTooltip'\"></AppCTRDefContourSetsTooltip>\r\n\r\n        <AppCTRContourSetTooltip v-if=\"showSubCmp==='contourSet.tooltip'\"></AppCTRContourSetTooltip>\r\n\r\n        <AppCTRContourSetLargeSet v-if=\"showSubCmp==='contourSet.largeSet'\"></AppCTRContourSetLargeSet>\r\n\r\n        <AppPIMShow v-if=\"showSubCmp==='panelItems.show'\"></AppPIMShow>\r\n\r\n        <AppPIMPosition v-if=\"showSubCmp==='panelItems.position'\"></AppPIMPosition>\r\n\r\n        <AppPIMMaxWidth v-if=\"showSubCmp==='panelItems.maxWidth'\"></AppPIMMaxWidth>\r\n\r\n        <AppPIMMaxHeight v-if=\"showSubCmp==='panelItems.maxHeight'\"></AppPIMMaxHeight>\r\n\r\n        <AppLGDShow v-if=\"showSubCmp==='panelLegends.show'\"></AppLGDShow>\r\n\r\n        <AppLGDPosition v-if=\"showSubCmp==='panelLegends.position'\"></AppLGDPosition>\r\n\r\n        <AppLGDMaxWidth v-if=\"showSubCmp==='panelLegends.maxWidth'\"></AppLGDMaxWidth>\r\n\r\n        <AppLGDMaxHeight v-if=\"showSubCmp==='panelLegends.maxHeight'\"></AppLGDMaxHeight>\r\n\r\n        <AppFunGetMapObject v-if=\"showSubCmp==='function-getMapObject'\"></AppFunGetMapObject>\r\n\r\n        <AppFunCenterTo v-if=\"showSubCmp==='function-centerTo'\"></AppFunCenterTo>\r\n\r\n        <AppFunPanTo v-if=\"showSubCmp==='function-panTo'\"></AppFunPanTo>\r\n\r\n        <AppFunPopupPoint v-if=\"showSubCmp==='function-popupPoint'\"></AppFunPopupPoint>\r\n\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport get from 'lodash/get'\r\nimport AppBSCSize from './AppBSCSize.vue'\r\nimport AppBSCCenter from './AppBSCCenter.vue'\r\nimport AppBSCZoom from './AppBSCZoom.vue'\r\nimport AppBSCPanelBackgroundColor from './AppBSCPanelBackgroundColor.vue'\r\nimport AppPBMShow from './AppPBMShow.vue'\r\nimport AppPBMBaseMaps from './AppPBMBaseMaps.vue'\r\nimport AppPBMPosition from './AppPBMPosition.vue'\r\nimport AppPLBShow from './AppPLBShow.vue'\r\nimport AppPLBPosition from './AppPLBPosition.vue'\r\nimport AppPLBTitle from './AppPLBTitle.vue'\r\nimport AppPLBLng from './AppPLBLng.vue'\r\nimport AppPLBLat from './AppPLBLat.vue'\r\nimport AppPLBZoom from './AppPLBZoom.vue'\r\nimport AppPLBUseItems from './AppPLBUseItems.vue'\r\nimport AppPZMShow from './AppPZMShow.vue'\r\nimport AppPZMPosition from './AppPZMPosition.vue'\r\nimport AppPNTPointSets from './AppPNTPointSets.vue'\r\nimport AppPNTPointSetPointByArray from './AppPNTPointSetPointByArray.vue'\r\nimport AppPNTPointSetChangeData from './AppPNTPointSetChangeData.vue'\r\nimport AppPNTPointSetOrder from './AppPNTPointSetOrder.vue'\r\nimport AppPNTPointSetIconSrcSizeAnchor from './AppPNTPointSetIconSrcSizeAnchor.vue'\r\nimport AppPNTPointSetPointIconSrcSizeAnchor from './AppPNTPointSetPointIconSrcSizeAnchor.vue'\r\nimport AppPNTDefPointSetsClick from './AppPNTDefPointSetsClick.vue'\r\nimport AppPNTPointSetClick from './AppPNTPointSetClick.vue'\r\nimport AppPNTPointSetPointClick from './AppPNTPointSetPointClick.vue'\r\nimport AppPNTDefPointSetsPopup from './AppPNTDefPointSetsPopup.vue'\r\nimport AppPNTPointSetPopup from './AppPNTPointSetPopup.vue'\r\nimport AppPNTPointSetPointPopup from './AppPNTPointSetPointPopup.vue'\r\nimport AppPNTDefPointSetsTooltip from './AppPNTDefPointSetsTooltip.vue'\r\nimport AppPNTPointSetTooltip from './AppPNTPointSetTooltip.vue'\r\nimport AppPNTPointSetPointTooltip from './AppPNTPointSetPointTooltip.vue'\r\nimport AppPGNPolygonSets from './AppPGNPolygonSets.vue'\r\nimport AppPGNPolygonSetChangeData from './AppPGNPolygonSetChangeData.vue'\r\nimport AppPGNPolygonSetOrder from './AppPGNPolygonSetOrder.vue'\r\nimport AppPGNPolygonSetLineColor from './AppPGNPolygonSetLineColor.vue'\r\nimport AppPGNPolygonSetLineColorHover from './AppPGNPolygonSetLineColorHover.vue'\r\nimport AppPGNPolygonSetLineWidth from './AppPGNPolygonSetLineWidth.vue'\r\nimport AppPGNPolygonSetLineWidthHover from './AppPGNPolygonSetLineWidthHover.vue'\r\nimport AppPGNPolygonSetFillColor from './AppPGNPolygonSetFillColor.vue'\r\nimport AppPGNPolygonSetFillColorHover from './AppPGNPolygonSetFillColorHover.vue'\r\nimport AppPGNDefPolygonSetsClick from './AppPGNDefPolygonSetsClick.vue'\r\nimport AppPGNPolygonSetClick from './AppPGNPolygonSetClick.vue'\r\nimport AppPGNDefPolygonSetsPopup from './AppPGNDefPolygonSetsPopup.vue'\r\nimport AppPGNPolygonSetPopup from './AppPGNPolygonSetPopup.vue'\r\nimport AppPGNDefPolygonSetsTooltip from './AppPGNDefPolygonSetsTooltip.vue'\r\nimport AppPGNPolygonSetTooltip from './AppPGNPolygonSetTooltip.vue'\r\nimport AppCTRContourSets from './AppCTRContourSets.vue'\r\nimport AppCTRContourSetChangeData from './AppCTRContourSetChangeData.vue'\r\nimport AppCTRContourSetOrder from './AppCTRContourSetOrder.vue'\r\nimport AppCTRContourSetGradient from './AppCTRContourSetGradient.vue'\r\nimport AppCTRContourSetChangeStyleWhenHover from './AppCTRContourSetChangeStyleWhenHover.vue'\r\nimport AppCTRContourSetLegendNumDig from './AppCTRContourSetLegendNumDig.vue'\r\nimport AppCTRContourSetLegendTextFormater from './AppCTRContourSetLegendTextFormater.vue'\r\nimport AppCTRContourSetPolygonClipOuter from './AppCTRContourSetPolygonClipOuter.vue'\r\nimport AppCTRContourSetPolygonsClipInner from './AppCTRContourSetPolygonsClipInner.vue'\r\nimport AppCTRContourSetPolygonsContainInner from './AppCTRContourSetPolygonsContainInner.vue'\r\nimport AppCTRDefContourSetsClick from './AppCTRDefContourSetsClick.vue'\r\nimport AppCTRContourSetClick from './AppCTRContourSetClick.vue'\r\nimport AppCTRDefContourSetsPopup from './AppCTRDefContourSetsPopup.vue'\r\nimport AppCTRContourSetPopup from './AppCTRContourSetPopup.vue'\r\nimport AppCTRDefContourSetsTooltip from './AppCTRDefContourSetsTooltip.vue'\r\nimport AppCTRContourSetTooltip from './AppCTRContourSetTooltip.vue'\r\nimport AppCTRContourSetLargeSet from './AppCTRContourSetLargeSet.vue'\r\nimport AppPIMShow from './AppPIMShow.vue'\r\nimport AppPIMPosition from './AppPIMPosition.vue'\r\nimport AppPIMMaxWidth from './AppPIMMaxWidth.vue'\r\nimport AppPIMMaxHeight from './AppPIMMaxHeight.vue'\r\nimport AppLGDShow from './AppLGDShow.vue'\r\nimport AppLGDPosition from './AppLGDPosition.vue'\r\nimport AppLGDMaxWidth from './AppLGDMaxWidth.vue'\r\nimport AppLGDMaxHeight from './AppLGDMaxHeight.vue'\r\nimport AppFunGetMapObject from './AppFunGetMapObject.vue'\r\nimport AppFunCenterTo from './AppFunCenterTo.vue'\r\nimport AppFunPanTo from './AppFunPanTo.vue'\r\nimport AppFunPopupPoint from './AppFunPopupPoint.vue'\r\n\r\n\r\nexport default {\r\n    components: {\r\n        AppBSCSize,\r\n        AppBSCCenter,\r\n        AppBSCZoom,\r\n        AppBSCPanelBackgroundColor,\r\n        AppPBMShow,\r\n        AppPBMBaseMaps,\r\n        AppPBMPosition,\r\n        AppPLBShow,\r\n        AppPLBPosition,\r\n        AppPLBTitle,\r\n        AppPLBLng,\r\n        AppPLBLat,\r\n        AppPLBZoom,\r\n        AppPLBUseItems,\r\n        AppPZMShow,\r\n        AppPZMPosition,\r\n        AppPNTPointSets,\r\n        AppPNTPointSetPointByArray,\r\n        AppPNTPointSetChangeData,\r\n        AppPNTPointSetOrder,\r\n        AppPNTPointSetIconSrcSizeAnchor,\r\n        AppPNTPointSetPointIconSrcSizeAnchor,\r\n        AppPNTDefPointSetsClick,\r\n        AppPNTPointSetClick,\r\n        AppPNTPointSetPointClick,\r\n        AppPNTDefPointSetsPopup,\r\n        AppPNTPointSetPopup,\r\n        AppPNTPointSetPointPopup,\r\n        AppPNTDefPointSetsTooltip,\r\n        AppPNTPointSetTooltip,\r\n        AppPNTPointSetPointTooltip,\r\n        AppPGNPolygonSets,\r\n        AppPGNPolygonSetChangeData,\r\n        AppPGNPolygonSetOrder,\r\n        AppPGNPolygonSetLineColor,\r\n        AppPGNPolygonSetLineColorHover,\r\n        AppPGNPolygonSetLineWidth,\r\n        AppPGNPolygonSetLineWidthHover,\r\n        AppPGNPolygonSetFillColor,\r\n        AppPGNPolygonSetFillColorHover,\r\n        AppPGNDefPolygonSetsClick,\r\n        AppPGNPolygonSetClick,\r\n        AppPGNDefPolygonSetsPopup,\r\n        AppPGNPolygonSetPopup,\r\n        AppPGNDefPolygonSetsTooltip,\r\n        AppPGNPolygonSetTooltip,\r\n        AppCTRContourSets,\r\n        AppCTRContourSetChangeData,\r\n        AppCTRContourSetOrder,\r\n        AppCTRContourSetGradient,\r\n        AppCTRContourSetChangeStyleWhenHover,\r\n        AppCTRContourSetLegendNumDig,\r\n        AppCTRContourSetLegendTextFormater,\r\n        AppCTRContourSetPolygonClipOuter,\r\n        AppCTRContourSetPolygonsClipInner,\r\n        AppCTRContourSetPolygonsContainInner,\r\n        AppCTRDefContourSetsClick,\r\n        AppCTRContourSetClick,\r\n        AppCTRDefContourSetsPopup,\r\n        AppCTRContourSetPopup,\r\n        AppCTRDefContourSetsTooltip,\r\n        AppCTRContourSetTooltip,\r\n        AppCTRContourSetLargeSet,\r\n        AppPIMShow,\r\n        AppPIMPosition,\r\n        AppPIMMaxWidth,\r\n        AppPIMMaxHeight,\r\n        AppLGDShow,\r\n        AppLGDPosition,\r\n        AppLGDMaxWidth,\r\n        AppLGDMaxHeight,\r\n        AppFunGetMapObject,\r\n        AppFunCenterTo,\r\n        AppFunPanTo,\r\n        AppFunPopupPoint,\r\n    },\r\n    data: function() {\r\n        return {\r\n            showMainCmp: 'basic',\r\n            showSubCmp: 'size',\r\n            mainCmps: {\r\n                basic: [\r\n                    'size',\r\n                    'center',\r\n                    'zoom',\r\n                    'panelBackgroundColor',\r\n                ],\r\n                panelBaseMaps: [\r\n                    'panelBaseMaps.show',\r\n                    'panelBaseMaps.baseMaps',\r\n                    'panelBaseMaps.position',\r\n                ],\r\n                panelLabels: [\r\n                    'panelLabels.show',\r\n                    'panelLabels.position',\r\n                    'panelLabels.title',\r\n                    'panelLabels.lng',\r\n                    'panelLabels.lat',\r\n                    'panelLabels.zoom',\r\n                    'panelLabels.useItems',\r\n                ],\r\n                panelZoom: [\r\n                    'panelZoom.show',\r\n                    'panelZoom.position',\r\n                ],\r\n                panelItems: [\r\n                    'panelItems.show',\r\n                    'panelItems.position',\r\n                    'panelItems.maxWidth',\r\n                    'panelItems.maxHeight',\r\n                ],\r\n                panelLegends: [\r\n                    'panelLegends.show',\r\n                    'panelLegends.position',\r\n                    'panelLegends.maxWidth',\r\n                    'panelLegends.maxHeight',\r\n                ],\r\n                point: [\r\n                    'pointSets',\r\n                    'pointSet-pointByArray',\r\n                    'pointSet-changeData',\r\n                    'pointSet.order',\r\n                    'pointSet.iconSrc,iconSize,iconAnchor,popupAnchor',\r\n                    'pointSet.point.iconSrc,iconSize,iconAnchor,popupAnchor',\r\n                    'defPointSetsClick',\r\n                    'pointSet.click',\r\n                    'pointSet.point.click',\r\n                    'defPointSetsPopup',\r\n                    'pointSet.popup',\r\n                    'pointSet.point.popup',\r\n                    'defPointSetsTooltip',\r\n                    'pointSet.tooltip',\r\n                    'pointSet.point.tooltip',\r\n                ],\r\n                polygon: [\r\n                    'polygonSets',\r\n                    'polygonSet-changeData',\r\n                    'polygonSet.order',\r\n                    'polygonSet.lineColor',\r\n                    'polygonSet.lineColorHover',\r\n                    'polygonSet.lineWidth',\r\n                    'polygonSet.lineWidthHover',\r\n                    'polygonSet.fillColor',\r\n                    'polygonSet.fillColorHover',\r\n                    'defPolygonSetsClick',\r\n                    'polygonSet.click',\r\n                    'defPolygonSetsPopup',\r\n                    'polygonSet.popup',\r\n                    'defPolygonSetsTooltip',\r\n                    'polygonSet.tooltip',\r\n                ],\r\n                contour: [\r\n                    'contourSets',\r\n                    'contourSet-changeData',\r\n                    'contourSet.order',\r\n                    'contourSet.gradient',\r\n                    'contourSet.changeStyleWhenHover',\r\n                    'contourSet.legendNumDig',\r\n                    'contourSet.legendTextFormater',\r\n                    'contourSet.polygonClipOuter',\r\n                    'contourSet.polygonsClipInner',\r\n                    'contourSet.polygonsContainInner',\r\n                    'defContourSetsClick',\r\n                    'contourSet.click',\r\n                    'defContourSetsPopup',\r\n                    'contourSet.popup',\r\n                    'defContourSetsTooltip',\r\n                    'contourSet.tooltip',\r\n                    'contourSet.largeSet',\r\n                ],\r\n                function: [\r\n                    'function-getMapObject',\r\n                    'function-centerTo',\r\n                    'function-panTo',\r\n                    'function-popupPoint',\r\n                ],\r\n            },\r\n\r\n        }\r\n    },\r\n    // mounted: function() {\r\n    //     let vo = this\r\n    // },\r\n    computed: {\r\n\r\n        isNarrow: function() {\r\n            return window.innerWidth < 1000\r\n        },\r\n\r\n        nowSubCmps: function() {\r\n            let vo = this\r\n            let rs = get(vo.mainCmps, vo.showMainCmp, [])\r\n            vo.showSubCmp = get(rs, 0, '')\r\n            return rs\r\n        },\r\n\r\n    },\r\n}\r\n<\/script>\r\n\r\n<style>\r\n.clsBtn {\r\n    transition:all 0.5s;\r\n    cursor: pointer;\r\n    user-select: none;\r\n}\r\n.clsMainMenu-basic {\r\n    padding: 3px 9px;\r\n}\r\n.clsMainMenu {\r\n    border-bottom:2px solid #fff;\r\n}\r\n.clsMainMenu:hover {\r\n    border-bottom:2px solid #aaa;\r\n}\r\n.clsMainMenu-active {\r\n    border-bottom:2px solid #f26;\r\n    background:#efefef;\r\n}\r\n.clsSubMenu-basic {\r\n    padding: 3px 12px;\r\n    font-size:0.8rem;\r\n    border-radius:30px;\r\n}\r\n.clsSubMenu {\r\n    background:#efefef;\r\n}\r\n.clsSubMenu:hover {\r\n    background:#ddd;\r\n}\r\n.clsSubMenu-active {\r\n    background:#f26;\r\n    color:#fff;\r\n    box-shadow:0 0 15px rgb(0 0 0 / 20%);\r\n}\r\n.item-link {\r\n    display: inline-block;\r\n    margin: 10px 10px 5px 0px;\r\n    padding: 5px 10px;\r\n    font-size: 0.8rem;\r\n    color: #fff;\r\n    background-color: #443a65;\r\n    cursor: pointer;\r\n    text-decoration: none;\r\n}\r\n.option-label {\r\n    position:absolute;\r\n    left:10px;\r\n    top:-33px;\r\n    padding:4px 20px 7px 20px;\r\n    border-left:1px solid #ddd;\r\n    border-top:1px solid #ddd;\r\n    border-right:1px solid #ddd;\r\n    border-bottom:1px solid #f6f6f6;\r\n    border-top-left-radius:15px;\r\n    border-top-right-radius:15px;\r\n    background:#f6f6f6;\r\n}\r\n</style>\r\n"]},media:void 0})}),LC,undefined,false,undefined,!1,QS,void 0,void 0)}));
//# sourceMappingURL=app.umd.js.map
